<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico?v=%VITE_FRONTEND_BUILD_ID%" sizes="any" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=%VITE_FRONTEND_BUILD_ID%" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=%VITE_FRONTEND_BUILD_ID%" />
    <link rel="manifest" href="/site.webmanifest?v=%VITE_FRONTEND_BUILD_ID%" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Physician Portal</title>

    <!-- Share / link previews -->
    <meta property="og:site_name" content="PepPro" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="PepPro — Physician Portal" />
    <meta
      property="og:description"
      content="PepPro's Physician Portal for research, current events, and products."
    />
    <meta property="og:image" content="/PepPro_icon.png?v=%VITE_FRONTEND_BUILD_ID%" />
    <meta property="og:image:alt" content="PepPro" />
    <meta property="og:image:width" content="512" />
    <meta property="og:image:height" content="512" />
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:title" content="PepPro — Physician Portal" />
    <meta
      property="twitter:description"
      content="PepPro's Physician Portal for research, current events, and products."
    />
    <meta property="twitter:image" content="/PepPro_icon.png?v=%VITE_FRONTEND_BUILD_ID%" />

    <!-- iOS / PWA -->
    <meta name="application-name" content="Physician Portal" />
    <meta name="apple-mobile-web-app-title" content="Physician Portal" />
    <meta name="theme-color" content="#5FB3F9" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=%VITE_FRONTEND_BUILD_ID%" />

    <script>
      (() => {
        try {
          const params = new URLSearchParams(window.location.search);
          const hasDelegateToken = Boolean((params.get("delegate") || "").trim());
          const title = hasDelegateToken ? "Physician Delegate" : "Physician Portal";
          document.title = title;

          const appName = document.querySelector('meta[name="application-name"]');
          if (appName) appName.setAttribute("content", title);
          const appleTitle = document.querySelector('meta[name="apple-mobile-web-app-title"]');
          if (appleTitle) appleTitle.setAttribute("content", title);

          const ogTitle = document.querySelector('meta[property="og:title"]');
          const twTitle = document.querySelector('meta[property="twitter:title"]');
          if (ogTitle) ogTitle.setAttribute("content", hasDelegateToken ? "PepPro — Physician Delegate" : "PepPro — Physician Portal");
          if (twTitle) twTitle.setAttribute("content", hasDelegateToken ? "PepPro — Physician Delegate" : "PepPro — Physician Portal");
        } catch (e) {
          // ignore
        }
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>

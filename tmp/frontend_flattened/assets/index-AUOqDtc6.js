function Q$(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jb={exports:{}},Uh={},Zb={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP;function J$(){if(SP)return Et;SP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),h=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function N(q,J,de){this.props=q,this.context=J,this.refs=j,this.updater=de||S}N.prototype.isReactComponent={},N.prototype.setState=function(q,J){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,J,"setState")},N.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function k(){}k.prototype=N.prototype;function T(q,J,de){this.props=q,this.context=J,this.refs=j,this.updater=de||S}var R=T.prototype=new k;R.constructor=T,P(R,N.prototype),R.isPureReactComponent=!0;var M=Array.isArray,O=Object.prototype.hasOwnProperty,I={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function B(q,J,de){var be,Ae={},Ie=null,Fe=null;if(J!=null)for(be in J.ref!==void 0&&(Fe=J.ref),J.key!==void 0&&(Ie=""+J.key),J)O.call(J,be)&&!D.hasOwnProperty(be)&&(Ae[be]=J[be]);var ke=arguments.length-2;if(ke===1)Ae.children=de;else if(1<ke){for(var Se=Array(ke),De=0;De<ke;De++)Se[De]=arguments[De+2];Ae.children=Se}if(q&&q.defaultProps)for(be in ke=q.defaultProps,ke)Ae[be]===void 0&&(Ae[be]=ke[be]);return{$$typeof:e,type:q,key:Ie,ref:Fe,props:Ae,_owner:I.current}}function G(q,J){return{$$typeof:e,type:q.type,key:J,ref:q.ref,props:q.props,_owner:q._owner}}function X(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function Y(q){var J={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(de){return J[de]})}var oe=/\/+/g;function se(q,J){return typeof q=="object"&&q!==null&&q.key!=null?Y(""+q.key):J.toString(36)}function ie(q,J,de,be,Ae){var Ie=typeof q;(Ie==="undefined"||Ie==="boolean")&&(q=null);var Fe=!1;if(q===null)Fe=!0;else switch(Ie){case"string":case"number":Fe=!0;break;case"object":switch(q.$$typeof){case e:case t:Fe=!0}}if(Fe)return Fe=q,Ae=Ae(Fe),q=be===""?"."+se(Fe,0):be,M(Ae)?(de="",q!=null&&(de=q.replace(oe,"$&/")+"/"),ie(Ae,J,de,"",function(De){return De})):Ae!=null&&(X(Ae)&&(Ae=G(Ae,de+(!Ae.key||Fe&&Fe.key===Ae.key?"":(""+Ae.key).replace(oe,"$&/")+"/")+q)),J.push(Ae)),1;if(Fe=0,be=be===""?".":be+":",M(q))for(var ke=0;ke<q.length;ke++){Ie=q[ke];var Se=be+se(Ie,ke);Fe+=ie(Ie,J,de,Se,Ae)}else if(Se=x(q),typeof Se=="function")for(q=Se.call(q),ke=0;!(Ie=q.next()).done;)Ie=Ie.value,Se=be+se(Ie,ke++),Fe+=ie(Ie,J,de,Se,Ae);else if(Ie==="object")throw J=String(q),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Fe}function K(q,J,de){if(q==null)return q;var be=[],Ae=0;return ie(q,be,"","",function(Ie){return J.call(de,Ie,Ae++)}),be}function ne(q){if(q._status===-1){var J=q._result;J=J(),J.then(function(de){(q._status===0||q._status===-1)&&(q._status=1,q._result=de)},function(de){(q._status===0||q._status===-1)&&(q._status=2,q._result=de)}),q._status===-1&&(q._status=0,q._result=J)}if(q._status===1)return q._result.default;throw q._result}var ee={current:null},z={transition:null},fe={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:z,ReactCurrentOwner:I};function pe(){throw Error("act(...) is not supported in production builds of React.")}return Et.Children={map:K,forEach:function(q,J,de){K(q,function(){J.apply(this,arguments)},de)},count:function(q){var J=0;return K(q,function(){J++}),J},toArray:function(q){return K(q,function(J){return J})||[]},only:function(q){if(!X(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Et.Component=N,Et.Fragment=r,Et.Profiler=a,Et.PureComponent=T,Et.StrictMode=n,Et.Suspense=f,Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Et.act=pe,Et.cloneElement=function(q,J,de){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var be=P({},q.props),Ae=q.key,Ie=q.ref,Fe=q._owner;if(J!=null){if(J.ref!==void 0&&(Ie=J.ref,Fe=I.current),J.key!==void 0&&(Ae=""+J.key),q.type&&q.type.defaultProps)var ke=q.type.defaultProps;for(Se in J)O.call(J,Se)&&!D.hasOwnProperty(Se)&&(be[Se]=J[Se]===void 0&&ke!==void 0?ke[Se]:J[Se])}var Se=arguments.length-2;if(Se===1)be.children=de;else if(1<Se){ke=Array(Se);for(var De=0;De<Se;De++)ke[De]=arguments[De+2];be.children=ke}return{$$typeof:e,type:q.type,key:Ae,ref:Ie,props:be,_owner:Fe}},Et.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},Et.createElement=B,Et.createFactory=function(q){var J=B.bind(null,q);return J.type=q,J},Et.createRef=function(){return{current:null}},Et.forwardRef=function(q){return{$$typeof:d,render:q}},Et.isValidElement=X,Et.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:ne}},Et.memo=function(q,J){return{$$typeof:p,type:q,compare:J===void 0?null:J}},Et.startTransition=function(q){var J=z.transition;z.transition={};try{q()}finally{z.transition=J}},Et.unstable_act=pe,Et.useCallback=function(q,J){return ee.current.useCallback(q,J)},Et.useContext=function(q){return ee.current.useContext(q)},Et.useDebugValue=function(){},Et.useDeferredValue=function(q){return ee.current.useDeferredValue(q)},Et.useEffect=function(q,J){return ee.current.useEffect(q,J)},Et.useId=function(){return ee.current.useId()},Et.useImperativeHandle=function(q,J,de){return ee.current.useImperativeHandle(q,J,de)},Et.useInsertionEffect=function(q,J){return ee.current.useInsertionEffect(q,J)},Et.useLayoutEffect=function(q,J){return ee.current.useLayoutEffect(q,J)},Et.useMemo=function(q,J){return ee.current.useMemo(q,J)},Et.useReducer=function(q,J,de){return ee.current.useReducer(q,J,de)},Et.useRef=function(q){return ee.current.useRef(q)},Et.useState=function(q){return ee.current.useState(q)},Et.useSyncExternalStore=function(q,J,de){return ee.current.useSyncExternalStore(q,J,de)},Et.useTransition=function(){return ee.current.useTransition()},Et.version="18.3.1",Et}var NP;function A_(){return NP||(NP=1,Zb.exports=J$()),Zb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP;function Z$(){if(jP)return Uh;jP=1;var e=A_(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,p){var g,h={},x=null,S=null;p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)n.call(f,g)&&!s.hasOwnProperty(g)&&(h[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)h[g]===void 0&&(h[g]=f[g]);return{$$typeof:t,type:d,key:x,ref:S,props:h,_owner:a.current}}return Uh.Fragment=r,Uh.jsx=c,Uh.jsxs=c,Uh}var _P;function e3(){return _P||(_P=1,Jb.exports=Z$()),Jb.exports}var l=e3(),Xy={},ex={exports:{}},Mi={},tx={exports:{}},rx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP;function t3(){return CP||(CP=1,(function(e){function t(z,fe){var pe=z.length;z.push(fe);e:for(;0<pe;){var q=pe-1>>>1,J=z[q];if(0<a(J,fe))z[q]=fe,z[pe]=J,pe=q;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var fe=z[0],pe=z.pop();if(pe!==fe){z[0]=pe;e:for(var q=0,J=z.length,de=J>>>1;q<de;){var be=2*(q+1)-1,Ae=z[be],Ie=be+1,Fe=z[Ie];if(0>a(Ae,pe))Ie<J&&0>a(Fe,Ae)?(z[q]=Fe,z[Ie]=pe,q=Ie):(z[q]=Ae,z[be]=pe,q=be);else if(Ie<J&&0>a(Fe,pe))z[q]=Fe,z[Ie]=pe,q=Ie;else break e}}return fe}function a(z,fe){var pe=z.sortIndex-fe.sortIndex;return pe!==0?pe:z.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],p=[],g=1,h=null,x=3,S=!1,P=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(z){for(var fe=r(p);fe!==null;){if(fe.callback===null)n(p);else if(fe.startTime<=z)n(p),fe.sortIndex=fe.expirationTime,t(f,fe);else break;fe=r(p)}}function M(z){if(j=!1,R(z),!P)if(r(f)!==null)P=!0,ne(O);else{var fe=r(p);fe!==null&&ee(M,fe.startTime-z)}}function O(z,fe){P=!1,j&&(j=!1,k(B),B=-1),S=!0;var pe=x;try{for(R(fe),h=r(f);h!==null&&(!(h.expirationTime>fe)||z&&!Y());){var q=h.callback;if(typeof q=="function"){h.callback=null,x=h.priorityLevel;var J=q(h.expirationTime<=fe);fe=e.unstable_now(),typeof J=="function"?h.callback=J:h===r(f)&&n(f),R(fe)}else n(f);h=r(f)}if(h!==null)var de=!0;else{var be=r(p);be!==null&&ee(M,be.startTime-fe),de=!1}return de}finally{h=null,x=pe,S=!1}}var I=!1,D=null,B=-1,G=5,X=-1;function Y(){return!(e.unstable_now()-X<G)}function oe(){if(D!==null){var z=e.unstable_now();X=z;var fe=!0;try{fe=D(!0,z)}finally{fe?se():(I=!1,D=null)}}else I=!1}var se;if(typeof T=="function")se=function(){T(oe)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,K=ie.port2;ie.port1.onmessage=oe,se=function(){K.postMessage(null)}}else se=function(){N(oe,0)};function ne(z){D=z,I||(I=!0,se())}function ee(z,fe){B=N(function(){z(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){P||S||(P=!0,ne(O))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var fe=3;break;default:fe=x}var pe=x;x=fe;try{return z()}finally{x=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,fe){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var pe=x;x=z;try{return fe()}finally{x=pe}},e.unstable_scheduleCallback=function(z,fe,pe){var q=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?q+pe:q):pe=q,z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=pe+J,z={id:g++,callback:fe,priorityLevel:z,startTime:pe,expirationTime:J,sortIndex:-1},pe>q?(z.sortIndex=pe,t(p,z),r(f)===null&&z===r(p)&&(j?(k(B),B=-1):j=!0,ee(M,pe-q))):(z.sortIndex=J,t(f,z),P||S||(P=!0,ne(O))),z},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(z){var fe=x;return function(){var pe=x;x=fe;try{return z.apply(this,arguments)}finally{x=pe}}}})(rx)),rx}var PP;function r3(){return PP||(PP=1,tx.exports=t3()),tx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AP;function n3(){if(AP)return Mi;AP=1;var e=A_(),t=r3();function r(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function s(i,o){c(i,o),c(i+"Capture",o)}function c(i,o){for(a[i]=o,i=0;i<o.length;i++)n.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},h={};function x(i){return f.call(h,i)?!0:f.call(g,i)?!1:p.test(i)?h[i]=!0:(g[i]=!0,!1)}function S(i,o,u,m){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,u,m){if(o===null||typeof o>"u"||S(i,o,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(i,o,u,m,b,w,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=b,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=A}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new j(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];N[o]=new j(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new j(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new j(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new j(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new j(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new j(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new j(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new j(i,5,!1,i.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function T(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(k,T);N[o]=new j(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(k,T);N[o]=new j(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(k,T);N[o]=new j(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new j(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new j(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,o,u,m){var b=N.hasOwnProperty(o)?N[o]:null;(b!==null?b.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,b,m)&&(u=null),m||b===null?x(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):b.mustUseProperty?i[b.propertyName]=u===null?b.type===3?!1:"":u:(o=b.attributeName,m=b.attributeNamespace,u===null?i.removeAttribute(o):(b=b.type,u=b===3||b===4&&u===!0?"":""+u,m?i.setAttributeNS(m,o,u):i.setAttribute(o,u))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),Y=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),z=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var pe=Object.assign,q;function J(i){if(q===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);q=o&&o[1]||""}return`
`+q+i}var de=!1;function be(i,o){if(!i||de)return"";de=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(U){var m=U}Reflect.construct(i,[],o)}else{try{o.call()}catch(U){m=U}i.call(o.prototype)}else{try{throw Error()}catch(U){m=U}i()}}catch(U){if(U&&m&&typeof U.stack=="string"){for(var b=U.stack.split(`
`),w=m.stack.split(`
`),A=b.length-1,L=w.length-1;1<=A&&0<=L&&b[A]!==w[L];)L--;for(;1<=A&&0<=L;A--,L--)if(b[A]!==w[L]){if(A!==1||L!==1)do if(A--,L--,0>L||b[A]!==w[L]){var F=`
`+b[A].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=A&&0<=L);break}}}finally{de=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?J(i):""}function Ae(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=be(i.type,!1),i;case 11:return i=be(i.type.render,!1),i;case 1:return i=be(i.type,!0),i;default:return""}}function Ie(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case I:return"Portal";case G:return"Profiler";case B:return"StrictMode";case se:return"Suspense";case ie:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Y:return(i.displayName||"Context")+".Consumer";case X:return(i._context.displayName||"Context")+".Provider";case oe:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return o=i.displayName||null,o!==null?o:Ie(i.type)||"Memo";case ne:o=i._payload,i=i._init;try{return Ie(i(o))}catch{}}return null}function Fe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(o);case 8:return o===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ke(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Se(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function De(i){var o=Se(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),m=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var b=u.get,w=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(A){m=""+A,w.call(this,A)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(A){m=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ze(i){i._valueTracker||(i._valueTracker=De(i))}function xe(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=Se(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function Ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function dt(i,o){var u=o.checked;return pe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function it(i,o){var u=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;u=ke(o.value!=null?o.value:u),i._wrapperState={initialChecked:m,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function pt(i,o){o=o.checked,o!=null&&R(i,"checked",o,!1)}function Ee(i,o){pt(i,o);var u=ke(o.value),m=o.type;if(u!=null)m==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Ke(i,o.type,u):o.hasOwnProperty("defaultValue")&&Ke(i,o.type,ke(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Le(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Ke(i,o,u){(o!=="number"||Ve(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ye=Array.isArray;function mt(i,o,u,m){if(i=i.options,o){o={};for(var b=0;b<u.length;b++)o["$"+u[b]]=!0;for(u=0;u<i.length;u++)b=o.hasOwnProperty("$"+i[u].value),i[u].selected!==b&&(i[u].selected=b),b&&m&&(i[u].defaultSelected=!0)}else{for(u=""+ke(u),o=null,b=0;b<i.length;b++){if(i[b].value===u){i[b].selected=!0,m&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function st(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return pe({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ar(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(r(92));if(Ye(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:ke(u)}}function Vr(i,o){var u=ke(o.value),m=ke(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),m!=null&&(i.defaultValue=""+m)}function mr(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Vt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Vt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var fi,kr=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,m,b){MSApp.execUnsafeLocalFunction(function(){return i(o,u,m,b)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(fi=fi||document.createElement("div"),fi.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=fi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Ct(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var en={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gt=["Webkit","ms","Moz","O"];Object.keys(en).forEach(function(i){Gt.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),en[o]=en[i]})});function Gr(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||en.hasOwnProperty(i)&&en[i]?(""+o).trim():o+"px"}function Ur(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var m=u.indexOf("--")===0,b=Gr(u,o[u],m);u==="float"&&(u="cssFloat"),m?i.setProperty(u,b):i[u]=b}}var xa=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lr(i,o){if(o){if(xa[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Vn(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kt=null;function Or(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var tn=null,Wa=null,dn=null;function wa(i){if(i=Gf(i)){if(typeof tn!="function")throw Error(r(280));var o=i.stateNode;o&&(o=pd(o),tn(i.stateNode,i.type,o))}}function ct(i){Wa?dn?dn.push(i):dn=[i]:Wa=i}function qt(){if(Wa){var i=Wa,o=dn;if(dn=Wa=null,wa(i),o)for(i=0;i<o.length;i++)wa(o[i])}}function Ut(i,o){return i(o)}function zt(){}var $t=!1;function Ot(i,o,u){if($t)return i(o,u);$t=!0;try{return Ut(i,o,u)}finally{$t=!1,(Wa!==null||dn!==null)&&(zt(),qt())}}function Yt(i,o){var u=i.stateNode;if(u===null)return null;var m=pd(u);if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Tr=!1;if(d)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Tr=!1}function Rr(i,o,u,m,b,w,A,L,F){var U=Array.prototype.slice.call(arguments,3);try{o.apply(u,U)}catch(W){this.onError(W)}}var Kr=!1,cr=null,Ha=!1,Wi=null,Ko={onError:function(i){Kr=!0,cr=i}};function pi(i,o,u,m,b,w,A,L,F){Kr=!1,cr=null,Rr.apply(Ko,arguments)}function Vl(i,o,u,m,b,w,A,L,F){if(pi.apply(this,arguments),Kr){if(Kr){var U=cr;Kr=!1,cr=null}else throw Error(r(198));Ha||(Ha=!0,Wi=U)}}function rn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function xs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function ur(i){if(rn(i)!==i)throw Error(r(188))}function Va(i){var o=i.alternate;if(!o){if(o=rn(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,m=o;;){var b=u.return;if(b===null)break;var w=b.alternate;if(w===null){if(m=b.return,m!==null){u=m;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===u)return ur(b),i;if(w===m)return ur(b),o;w=w.sibling}throw Error(r(188))}if(u.return!==m.return)u=b,m=w;else{for(var A=!1,L=b.child;L;){if(L===u){A=!0,u=b,m=w;break}if(L===m){A=!0,m=b,u=w;break}L=L.sibling}if(!A){for(L=w.child;L;){if(L===u){A=!0,u=w,m=b;break}if(L===m){A=!0,m=w,u=b;break}L=L.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function nu(i){return i=Va(i),i!==null?$e(i):null}function $e(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=$e(i);if(o!==null)return o;i=i.sibling}return null}var me=t.unstable_scheduleCallback,Me=t.unstable_cancelCallback,ft=t.unstable_shouldYield,Ze=t.unstable_requestPaint,et=t.unstable_now,St=t.unstable_getCurrentPriorityLevel,jt=t.unstable_ImmediatePriority,hr=t.unstable_UserBlockingPriority,Ir=t.unstable_NormalPriority,Yr=t.unstable_LowPriority,It=t.unstable_IdlePriority,Xr=null,Mr=null;function Sa(i){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(Xr,i,void 0,(i.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Wm,mi=Math.log,Gn=Math.LN2;function Wm(i){return i>>>=0,i===0?32:31-(mi(i)/Gn|0)|0}var io=64,ws=4194304;function hi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function wr(i,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,b=i.suspendedLanes,w=i.pingedLanes,A=u&268435455;if(A!==0){var L=A&~b;L!==0?m=hi(L):(w&=A,w!==0&&(m=hi(w)))}else A=u&~b,A!==0?m=hi(A):w!==0&&(m=hi(w));if(m===0)return 0;if(o!==0&&o!==m&&(o&b)===0&&(b=m&-m,w=o&-o,b>=w||b===16&&(w&4194240)!==0))return o;if((m&4)!==0&&(m|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=m;0<o;)u=31-nn(o),b=1<<u,m|=i[u],o&=~b;return m}function Gl(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,b=i.expirationTimes,w=i.pendingLanes;0<w;){var A=31-nn(w),L=1<<A,F=b[A];F===-1?((L&u)===0||(L&m)!==0)&&(b[A]=Gl(L,o)):F<=o&&(i.expiredLanes|=L),w&=~L}}function Hi(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function au(){var i=io;return io<<=1,(io&4194240)===0&&(io=64),i}function iu(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function gi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-nn(o),i[o]=u}function Kl(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var b=31-nn(u),w=1<<b;o[b]=0,m[b]=-1,i[b]=-1,u&=~w}}function Yo(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-nn(u),b=1<<m;b&o|i[m]&o&&(i[m]|=o),u&=~b}}var Rt=0;function su(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var oo,Vi,Gi,Ss,Yl,ou=!1,Ki=[],Ga=null,Yi=null,Ka=null,Xi=new Map,lo=new Map,wn=[],Xo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Of(i,o){switch(i){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":Xi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(o.pointerId)}}function ia(i,o,u,m,b,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:w,targetContainers:[b]},o!==null&&(o=Gf(o),o!==null&&Vi(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function id(i,o,u,m,b){switch(o){case"focusin":return Ga=ia(Ga,i,o,u,m,b),!0;case"dragenter":return Yi=ia(Yi,i,o,u,m,b),!0;case"mouseover":return Ka=ia(Ka,i,o,u,m,b),!0;case"pointerover":var w=b.pointerId;return Xi.set(w,ia(Xi.get(w)||null,i,o,u,m,b)),!0;case"gotpointercapture":return w=b.pointerId,lo.set(w,ia(lo.get(w)||null,i,o,u,m,b)),!0}return!1}function Xl(i){var o=nl(i.target);if(o!==null){var u=rn(o);if(u!==null){if(o=u.tag,o===13){if(o=xs(u),o!==null){i.blockedOn=o,Yl(i.priority,function(){Gi(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ql(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=pn(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Kt=m,u.target.dispatchEvent(m),Kt=null}else return o=Gf(u),o!==null&&Vi(o),i.blockedOn=u,!1;o.shift()}return!0}function sd(i,o,u){Ql(i)&&u.delete(o)}function Hm(){ou=!1,Ga!==null&&Ql(Ga)&&(Ga=null),Yi!==null&&Ql(Yi)&&(Yi=null),Ka!==null&&Ql(Ka)&&(Ka=null),Xi.forEach(sd),lo.forEach(sd)}function Qo(i,o){i.blockedOn===o&&(i.blockedOn=null,ou||(ou=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Hm)))}function fn(i){function o(b){return Qo(b,i)}if(0<Ki.length){Qo(Ki[0],i);for(var u=1;u<Ki.length;u++){var m=Ki[u];m.blockedOn===i&&(m.blockedOn=null)}}for(Ga!==null&&Qo(Ga,i),Yi!==null&&Qo(Yi,i),Ka!==null&&Qo(Ka,i),Xi.forEach(o),lo.forEach(o),u=0;u<wn.length;u++)m=wn[u],m.blockedOn===i&&(m.blockedOn=null);for(;0<wn.length&&(u=wn[0],u.blockedOn===null);)Xl(u),u.blockedOn===null&&wn.shift()}var co=M.ReactCurrentBatchConfig,Ya=!0;function Vm(i,o,u,m){var b=Rt,w=co.transition;co.transition=null;try{Rt=1,an(i,o,u,m)}finally{Rt=b,co.transition=w}}function Tf(i,o,u,m){var b=Rt,w=co.transition;co.transition=null;try{Rt=4,an(i,o,u,m)}finally{Rt=b,co.transition=w}}function an(i,o,u,m){if(Ya){var b=pn(i,o,u,m);if(b===null)Es(i,o,m,Jl,u),Of(i,m);else if(id(b,i,o,u,m))m.stopPropagation();else if(Of(i,m),o&4&&-1<Xo.indexOf(i)){for(;b!==null;){var w=Gf(b);if(w!==null&&oo(w),w=pn(i,o,u,m),w===null&&Es(i,o,m,Jl,u),w===b)break;b=w}b!==null&&m.stopPropagation()}else Es(i,o,m,null,u)}}var Jl=null;function pn(i,o,u,m){if(Jl=null,i=Or(m),i=nl(i),i!==null)if(o=rn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=xs(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Jl=i,null}function uo(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(St()){case jt:return 1;case hr:return 4;case Ir:case Yr:return 16;case It:return 536870912;default:return 16}default:return 16}}var Na=null,lu=null,Ns=null;function Jo(){if(Ns)return Ns;var i,o=lu,u=o.length,m,b="value"in Na?Na.value:Na.textContent,w=b.length;for(i=0;i<u&&o[i]===b[i];i++);var A=u-i;for(m=1;m<=A&&o[u-m]===b[w-m];m++);return Ns=b.slice(i,1<m?1-m:void 0)}function Xa(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Sn(){return!0}function Zo(){return!1}function Sr(i){function o(u,m,b,w,A){this._reactName=u,this._targetInst=b,this.type=m,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(u=i[L],this[L]=u?u(w):w[L]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Sn:Zo,this.isPropagationStopped=Zo,this}return pe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Sn)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Sn)},persist:function(){},isPersistent:Sn}),o}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},od=Sr(js),Qi=pe({},js,{view:0,detail:0}),_s=Sr(Qi),Zt,fo,Ji,Zi=pe({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ji&&(Ji&&i.type==="mousemove"?(Zt=i.screenX-Ji.screenX,fo=i.screenY-Ji.screenY):fo=Zt=0,Ji=i),Zt)},movementY:function(i){return"movementY"in i?i.movementY:fo}}),po=Sr(Zi),Rf=pe({},Zi,{dataTransfer:0}),If=Sr(Rf),cu=pe({},Qi,{relatedTarget:0}),el=Sr(cu),Nn=pe({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Sr(Nn),mo=pe({},js,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cs=Sr(mo),Ps=pe({},js,{data:0}),ho=Sr(Ps),tl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=go[i])?!!o[i]:!1}function es(){return uu}var Mf=pe({},Qi,{key:function(i){if(i.key){var o=tl[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Xa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(i){return i.type==="keypress"?Xa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),yi=Sr(Mf),ld=pe({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=Sr(ld),jn=pe({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),ec=Sr(jn),As=pe({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),yo=Sr(As),du=pe({},Zi,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),_a=Sr(du),Qa=[9,13,27,32],vi=d&&"CompositionEvent"in window,ts=null;d&&"documentMode"in document&&(ts=document.documentMode);var bi=d&&"TextEvent"in window&&!ts,fu=d&&(!vi||ts&&8<ts&&11>=ts),Z=" ",le=!1;function ye(i,o){switch(i){case"keyup":return Qa.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Be=!1;function _e(i,o){switch(i){case"compositionend":return we(o);case"keypress":return o.which!==32?null:(le=!0,Z);case"textInput":return i=o.data,i===Z&&le?null:i;default:return null}}function rt(i,o){if(Be)return i==="compositionend"||!vi&&ye(i,o)?(i=Jo(),Ns=lu=Na=null,Be=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return fu&&o.locale!=="ko"?null:o.data;default:return null}}var bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!bt[i.type]:o==="textarea"}function Qr(i,o,u,m){ct(m),o=Ff(o,"onChange"),0<o.length&&(u=new od("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var sn=null,mn=null;function xi(i){Km(i,0)}function Ca(i){var o=mu(i);if(xe(o))return i}function Kn(i,o){if(i==="change")return o}var Ja=!1;if(d){var Pa;if(d){var Yn="oninput"in document;if(!Yn){var Re=document.createElement("div");Re.setAttribute("oninput","return;"),Yn=typeof Re.oninput=="function"}Pa=Yn}else Pa=!1;Ja=Pa&&(!document.documentMode||9<document.documentMode)}function Aa(){sn&&(sn.detachEvent("onpropertychange",Za),mn=sn=null)}function Za(i){if(i.propertyName==="value"&&Ca(mn)){var o=[];Qr(o,mn,i,Or(i)),Ot(xi,o)}}function sa(i,o,u){i==="focusin"?(Aa(),sn=o,mn=u,sn.attachEvent("onpropertychange",Za)):i==="focusout"&&Aa()}function Nr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ca(mn)}function on(i,o){if(i==="click")return Ca(o)}function ln(i,o){if(i==="input"||i==="change")return Ca(o)}function Rn(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Dr=typeof Object.is=="function"?Object.is:Rn;function _n(i,o){if(Dr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var b=u[m];if(!f.call(o,b)||!Dr(i[b],o[b]))return!1}return!0}function vo(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function oa(i,o){var u=vo(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=vo(u)}}function la(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?la(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function In(){for(var i=window,o=Ve();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ve(i.document)}return o}function ca(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function ua(i){var o=In(),u=i.focusedElem,m=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&la(u.ownerDocument.documentElement,u)){if(m!==null&&ca(u)){if(o=m.start,i=m.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var b=u.textContent.length,w=Math.min(m.start,b);m=m.end===void 0?w:Math.min(m.end,b),!i.extend&&w>m&&(b=m,m=w,w=b),b=oa(u,w);var A=oa(u,m);b&&A&&(i.rangeCount!==1||i.anchorNode!==b.node||i.anchorOffset!==b.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(b.node,b.offset),i.removeAllRanges(),w>m?(i.addRange(o),i.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ei=d&&"documentMode"in document&&11>=document.documentMode,Xt=null,ir=null,ot=null,lt=!1;function yt(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;lt||Xt==null||Xt!==Ve(m)||(m=Xt,"selectionStart"in m&&ca(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ot&&_n(ot,m)||(ot=m,m=Ff(ir,"onSelect"),0<m.length&&(o=new od("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=Xt)))}function Wt(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Lr={animationend:Wt("Animation","AnimationEnd"),animationiteration:Wt("Animation","AnimationIteration"),animationstart:Wt("Animation","AnimationStart"),transitionend:Wt("Transition","TransitionEnd")},jr={},Dt={};d&&(Dt=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Mn(i){if(jr[i])return jr[i];if(!Lr[i])return i;var o=Lr[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Dt)return jr[i]=o[u];return i}var hn=Mn("animationend"),Ea=Mn("animationiteration"),ti=Mn("animationstart"),wi=Mn("transitionend"),Df=new Map,bo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(i,o){Df.set(i,o),s(o,[i])}for(var tc=0;tc<bo.length;tc++){var cd=bo[tc],Ny=cd.toLowerCase(),jy=cd[0].toUpperCase()+cd.slice(1);Si(Ny,"on"+jy)}Si(hn,"onAnimationEnd"),Si(Ea,"onAnimationIteration"),Si(ti,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(wi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function _y(i,o,u){var m=i.type||"unknown-event";i.currentTarget=u,Vl(m,o,void 0,i),i.currentTarget=null}function Km(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],b=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var A=m.length-1;0<=A;A--){var L=m[A],F=L.instance,U=L.currentTarget;if(L=L.listener,F!==w&&b.isPropagationStopped())break e;_y(b,L,U),w=F}else for(A=0;A<m.length;A++){if(L=m[A],F=L.instance,U=L.currentTarget,L=L.listener,F!==w&&b.isPropagationStopped())break e;_y(b,L,U),w=F}}}if(Ha)throw i=Wi,Ha=!1,Wi=null,i}function er(i,o){var u=o[Vf];u===void 0&&(u=o[Vf]=new Set);var m=i+"__bubble";u.has(m)||(Ni(o,i,2,!1),u.add(m))}function Lf(i,o,u){var m=0;o&&(m|=4),Ni(u,i,m,o)}var $f="_reactListening"+Math.random().toString(36).slice(2);function ud(i){if(!i[$f]){i[$f]=!0,n.forEach(function(u){u!=="selectionchange"&&(Gm.has(u)||Lf(u,!1,i),Lf(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[$f]||(o[$f]=!0,Lf("selectionchange",!1,o))}}function Ni(i,o,u,m){switch(uo(o)){case 1:var b=Vm;break;case 4:b=Tf;break;default:b=an}u=b.bind(null,o,u,i),b=void 0,!Tr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),m?b!==void 0?i.addEventListener(o,u,{capture:!0,passive:b}):i.addEventListener(o,u,!0):b!==void 0?i.addEventListener(o,u,{passive:b}):i.addEventListener(o,u,!1)}function Es(i,o,u,m,b){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var L=m.stateNode.containerInfo;if(L===b||L.nodeType===8&&L.parentNode===b)break;if(A===4)for(A=m.return;A!==null;){var F=A.tag;if((F===3||F===4)&&(F=A.stateNode.containerInfo,F===b||F.nodeType===8&&F.parentNode===b))return;A=A.return}for(;L!==null;){if(A=nl(L),A===null)return;if(F=A.tag,F===5||F===6){m=w=A;continue e}L=L.parentNode}}m=m.return}Ot(function(){var U=w,W=Or(u),Q=[];e:{var ae=Df.get(i);if(ae!==void 0){var ue=od,he=i;switch(i){case"keypress":if(Xa(u)===0)break e;case"keydown":case"keyup":ue=yi;break;case"focusin":he="focus",ue=el;break;case"focusout":he="blur",ue=el;break;case"beforeblur":case"afterblur":ue=el;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=If;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=ec;break;case hn:case Ea:case ti:ue=ja;break;case wi:ue=yo;break;case"scroll":ue=_s;break;case"wheel":ue=_a;break;case"copy":case"cut":case"paste":ue=Cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=rl}var ve=(o&4)!==0,Ge=!ve&&i==="scroll",V=ve?ae!==null?ae+"Capture":null:ae;ve=[];for(var H=U,re;H!==null;){re=H;var ge=re.stateNode;if(re.tag===5&&ge!==null&&(re=ge,V!==null&&(ge=Yt(H,V),ge!=null&&ve.push(nc(H,ge,re)))),Ge)break;H=H.return}0<ve.length&&(ae=new ue(ae,he,null,u,W),Q.push({event:ae,listeners:ve}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",ae&&u!==Kt&&(he=u.relatedTarget||u.fromElement)&&(nl(he)||he[Ts]))break e;if((ue||ae)&&(ae=W.window===W?W:(ae=W.ownerDocument)?ae.defaultView||ae.parentWindow:window,ue?(he=u.relatedTarget||u.toElement,ue=U,he=he?nl(he):null,he!==null&&(Ge=rn(he),he!==Ge||he.tag!==5&&he.tag!==6)&&(he=null)):(ue=null,he=U),ue!==he)){if(ve=po,ge="onMouseLeave",V="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(ve=rl,ge="onPointerLeave",V="onPointerEnter",H="pointer"),Ge=ue==null?ae:mu(ue),re=he==null?ae:mu(he),ae=new ve(ge,H+"leave",ue,u,W),ae.target=Ge,ae.relatedTarget=re,ge=null,nl(W)===U&&(ve=new ve(V,H+"enter",he,u,W),ve.target=re,ve.relatedTarget=Ge,ge=ve),Ge=ge,ue&&he)t:{for(ve=ue,V=he,H=0,re=ve;re;re=pu(re))H++;for(re=0,ge=V;ge;ge=pu(ge))re++;for(;0<H-re;)ve=pu(ve),H--;for(;0<re-H;)V=pu(V),re--;for(;H--;){if(ve===V||V!==null&&ve===V.alternate)break t;ve=pu(ve),V=pu(V)}ve=null}else ve=null;ue!==null&&Ym(Q,ae,ue,ve,!1),he!==null&&Ge!==null&&Ym(Q,Ge,he,ve,!0)}}e:{if(ae=U?mu(U):window,ue=ae.nodeName&&ae.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ae.type==="file")var Ne=Kn;else if(Nt(ae))if(Ja)Ne=ln;else{Ne=Nr;var Pe=sa}else(ue=ae.nodeName)&&ue.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ne=on);if(Ne&&(Ne=Ne(i,U))){Qr(Q,Ne,u,W);break e}Pe&&Pe(i,ae,U),i==="focusout"&&(Pe=ae._wrapperState)&&Pe.controlled&&ae.type==="number"&&Ke(ae,"number",ae.value)}switch(Pe=U?mu(U):window,i){case"focusin":(Nt(Pe)||Pe.contentEditable==="true")&&(Xt=Pe,ir=U,ot=null);break;case"focusout":ot=ir=Xt=null;break;case"mousedown":lt=!0;break;case"contextmenu":case"mouseup":case"dragend":lt=!1,yt(Q,u,W);break;case"selectionchange":if(ei)break;case"keydown":case"keyup":yt(Q,u,W)}var Oe;if(vi)e:{switch(i){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Be?ye(i,u)&&(ce="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ce="onCompositionStart");ce&&(fu&&u.locale!=="ko"&&(Be||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Be&&(Oe=Jo()):(Na=W,lu="value"in Na?Na.value:Na.textContent,Be=!0)),Pe=Ff(U,ce),0<Pe.length&&(ce=new ho(ce,i,null,u,W),Q.push({event:ce,listeners:Pe}),Oe?ce.data=Oe:(Oe=we(u),Oe!==null&&(ce.data=Oe)))),(Oe=bi?_e(i,u):rt(i,u))&&(U=Ff(U,"onBeforeInput"),0<U.length&&(W=new ho("onBeforeInput","beforeinput",null,u,W),Q.push({event:W,listeners:U}),W.data=Oe))}Km(Q,o)})}function nc(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Ff(i,o){for(var u=o+"Capture",m=[];i!==null;){var b=i,w=b.stateNode;b.tag===5&&w!==null&&(b=w,w=Yt(i,u),w!=null&&m.unshift(nc(i,w,b)),w=Yt(i,o),w!=null&&m.push(nc(i,w,b))),i=i.return}return m}function pu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ym(i,o,u,m,b){for(var w=o._reactName,A=[];u!==null&&u!==m;){var L=u,F=L.alternate,U=L.stateNode;if(F!==null&&F===m)break;L.tag===5&&U!==null&&(L=U,b?(F=Yt(u,w),F!=null&&A.unshift(nc(u,F,L))):b||(F=Yt(u,w),F!=null&&A.push(nc(u,F,L)))),u=u.return}A.length!==0&&i.push({event:o,listeners:A})}var ks=/\r\n?/g,Cy=/\u0000|\uFFFD/g;function Os(i){return(typeof i=="string"?i:""+i).replace(ks,`
`).replace(Cy,"")}function dd(i,o,u){if(o=Os(o),Os(i)!==o&&u)throw Error(r(425))}function Bf(){}var Xm=null,qf=null;function Uf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var zf=typeof setTimeout=="function"?setTimeout:void 0,Qm=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,Wf=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(i){return Jm.resolve(null).then(i).catch(fd)}:zf;function fd(i){setTimeout(function(){throw i})}function Hf(i,o){var u=o,m=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(m===0){i.removeChild(b),fn(o);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=b}while(u);fn(o)}function xo(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Zm(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var ac=Math.random().toString(36).slice(2),ji="__reactFiber$"+ac,ri="__reactProps$"+ac,Ts="__reactContainer$"+ac,Vf="__reactEvents$"+ac,Py="__reactListeners$"+ac,Ay="__reactHandles$"+ac;function nl(i){var o=i[ji];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Ts]||u[ji]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Zm(i);i!==null;){if(u=i[ji])return u;i=Zm(i)}return o}i=u,u=i.parentNode}return null}function Gf(i){return i=i[ji]||i[Ts],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function mu(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function pd(i){return i[ri]||null}var md=[],Rs=-1;function wo(i){return{current:i}}function Lt(i){0>Rs||(i.current=md[Rs],md[Rs]=null,Rs--)}function sr(i,o){Rs++,md[Rs]=i.current,i.current=o}var Cn={},Dn=wo(Cn),Ln=wo(!1),al=Cn;function ic(i,o){var u=i.type.contextTypes;if(!u)return Cn;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var b={},w;for(w in u)b[w]=o[w];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=b),b}function da(i){return i=i.childContextTypes,i!=null}function eh(){Lt(Ln),Lt(Dn)}function Ey(i,o,u){if(Dn.current!==Cn)throw Error(r(168));sr(Dn,o),sr(Ln,u)}function th(i,o,u){var m=i.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var b in m)if(!(b in o))throw Error(r(108,Fe(i)||"Unknown",b));return pe({},u,m)}function hu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Cn,al=Dn.current,sr(Dn,i),sr(Ln,Ln.current),!0}function ni(i,o,u){var m=i.stateNode;if(!m)throw Error(r(169));u?(i=th(i,o,al),m.__reactInternalMemoizedMergedChildContext=i,Lt(Ln),Lt(Dn),sr(Dn,i)):Lt(Ln),sr(Ln,u)}var ka=null,fa=!1,il=!1;function rh(i){ka===null?ka=[i]:ka.push(i)}function nh(i){fa=!0,rh(i)}function Is(){if(!il&&ka!==null){il=!0;var i=0,o=Rt;try{var u=ka;for(Rt=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}ka=null,fa=!1}catch(b){throw ka!==null&&(ka=ka.slice(i+1)),me(jt,Is),b}finally{Rt=o,il=!1}}return null}var sc=[],oc=0,gu=null,lc=0,ai=[],_i=0,cc=null,Oa=1,So="";function Ta(i,o){sc[oc++]=lc,sc[oc++]=gu,gu=i,lc=o}function ky(i,o,u){ai[_i++]=Oa,ai[_i++]=So,ai[_i++]=cc,cc=i;var m=Oa;i=So;var b=32-nn(m)-1;m&=~(1<<b),u+=1;var w=32-nn(o)+b;if(30<w){var A=b-b%5;w=(m&(1<<A)-1).toString(32),m>>=A,b-=A,Oa=1<<32-nn(o)+b|u<<b|m,So=w+i}else Oa=1<<w|u<<b|m,So=i}function No(i){i.return!==null&&(Ta(i,1),ky(i,1,0))}function hd(i){for(;i===gu;)gu=sc[--oc],sc[oc]=null,lc=sc[--oc],sc[oc]=null;for(;i===cc;)cc=ai[--_i],ai[_i]=null,So=ai[--_i],ai[_i]=null,Oa=ai[--_i],ai[_i]=null}var pa=null,Jr=null,tr=!1,Ci=null;function ah(i,o){var u=Ii(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Kf(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,pa=i,Jr=xo(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,pa=i,Jr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=cc!==null?{id:Oa,overflow:So}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Ii(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,pa=i,Jr=null,!0):!1;default:return!1}}function uc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Yf(i){if(tr){var o=Jr;if(o){var u=o;if(!Kf(i,o)){if(uc(i))throw Error(r(418));o=xo(u.nextSibling);var m=pa;o&&Kf(i,o)?ah(m,u):(i.flags=i.flags&-4097|2,tr=!1,pa=i)}}else{if(uc(i))throw Error(r(418));i.flags=i.flags&-4097|2,tr=!1,pa=i}}}function ih(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;pa=i}function Xf(i){if(i!==pa)return!1;if(!tr)return ih(i),tr=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Uf(i.type,i.memoizedProps)),o&&(o=Jr)){if(uc(i))throw Qf(),Error(r(418));for(;o;)ah(i,o),o=xo(o.nextSibling)}if(ih(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Jr=xo(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Jr=null}}else Jr=pa?xo(i.stateNode.nextSibling):null;return!0}function Qf(){for(var i=Jr;i;)i=xo(i.nextSibling)}function dc(){Jr=pa=null,tr=!1}function Jf(i){Ci===null?Ci=[i]:Ci.push(i)}var Pi=M.ReactCurrentBatchConfig;function Ms(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var m=u.stateNode}if(!m)throw Error(r(147,i));var b=m,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(A){var L=b.refs;A===null?delete L[w]:L[w]=A},o._stringRef=w,o)}if(typeof i!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,i))}return i}function gd(i,o){throw i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function yd(i){var o=i._init;return o(i._payload)}function fc(i){function o(V,H){if(i){var re=V.deletions;re===null?(V.deletions=[H],V.flags|=16):re.push(H)}}function u(V,H){if(!i)return null;for(;H!==null;)o(V,H),H=H.sibling;return null}function m(V,H){for(V=new Map;H!==null;)H.key!==null?V.set(H.key,H):V.set(H.index,H),H=H.sibling;return V}function b(V,H){return V=vl(V,H),V.index=0,V.sibling=null,V}function w(V,H,re){return V.index=re,i?(re=V.alternate,re!==null?(re=re.index,re<H?(V.flags|=2,H):re):(V.flags|=2,H)):(V.flags|=1048576,H)}function A(V){return i&&V.alternate===null&&(V.flags|=2),V}function L(V,H,re,ge){return H===null||H.tag!==6?(H=Gd(re,V.mode,ge),H.return=V,H):(H=b(H,re),H.return=V,H)}function F(V,H,re,ge){var Ne=re.type;return Ne===D?W(V,H,re.props.children,ge,re.key):H!==null&&(H.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ne&&yd(Ne)===H.type)?(ge=b(H,re.props),ge.ref=Ms(V,H,re),ge.return=V,ge):(ge=Op(re.type,re.key,re.props,null,V.mode,ge),ge.ref=Ms(V,H,re),ge.return=V,ge)}function U(V,H,re,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==re.containerInfo||H.stateNode.implementation!==re.implementation?(H=Rp(re,V.mode,ge),H.return=V,H):(H=b(H,re.children||[]),H.return=V,H)}function W(V,H,re,ge,Ne){return H===null||H.tag!==7?(H=bl(re,V.mode,ge,Ne),H.return=V,H):(H=b(H,re),H.return=V,H)}function Q(V,H,re){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Gd(""+H,V.mode,re),H.return=V,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return re=Op(H.type,H.key,H.props,null,V.mode,re),re.ref=Ms(V,null,H),re.return=V,re;case I:return H=Rp(H,V.mode,re),H.return=V,H;case ne:var ge=H._init;return Q(V,ge(H._payload),re)}if(Ye(H)||fe(H))return H=bl(H,V.mode,re,null),H.return=V,H;gd(V,H)}return null}function ae(V,H,re,ge){var Ne=H!==null?H.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Ne!==null?null:L(V,H,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case O:return re.key===Ne?F(V,H,re,ge):null;case I:return re.key===Ne?U(V,H,re,ge):null;case ne:return Ne=re._init,ae(V,H,Ne(re._payload),ge)}if(Ye(re)||fe(re))return Ne!==null?null:W(V,H,re,ge,null);gd(V,re)}return null}function ue(V,H,re,ge,Ne){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return V=V.get(re)||null,L(H,V,""+ge,Ne);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case O:return V=V.get(ge.key===null?re:ge.key)||null,F(H,V,ge,Ne);case I:return V=V.get(ge.key===null?re:ge.key)||null,U(H,V,ge,Ne);case ne:var Pe=ge._init;return ue(V,H,re,Pe(ge._payload),Ne)}if(Ye(ge)||fe(ge))return V=V.get(re)||null,W(H,V,ge,Ne,null);gd(H,ge)}return null}function he(V,H,re,ge){for(var Ne=null,Pe=null,Oe=H,ce=H=0,We=null;Oe!==null&&ce<re.length;ce++){Oe.index>ce?(We=Oe,Oe=null):We=Oe.sibling;var Ce=ae(V,Oe,re[ce],ge);if(Ce===null){Oe===null&&(Oe=We);break}i&&Oe&&Ce.alternate===null&&o(V,Oe),H=w(Ce,H,ce),Pe===null?Ne=Ce:Pe.sibling=Ce,Pe=Ce,Oe=We}if(ce===re.length)return u(V,Oe),tr&&Ta(V,ce),Ne;if(Oe===null){for(;ce<re.length;ce++)Oe=Q(V,re[ce],ge),Oe!==null&&(H=w(Oe,H,ce),Pe===null?Ne=Oe:Pe.sibling=Oe,Pe=Oe);return tr&&Ta(V,ce),Ne}for(Oe=m(V,Oe);ce<re.length;ce++)We=ue(Oe,V,ce,re[ce],ge),We!==null&&(i&&We.alternate!==null&&Oe.delete(We.key===null?ce:We.key),H=w(We,H,ce),Pe===null?Ne=We:Pe.sibling=We,Pe=We);return i&&Oe.forEach(function(ut){return o(V,ut)}),tr&&Ta(V,ce),Ne}function ve(V,H,re,ge){var Ne=fe(re);if(typeof Ne!="function")throw Error(r(150));if(re=Ne.call(re),re==null)throw Error(r(151));for(var Pe=Ne=null,Oe=H,ce=H=0,We=null,Ce=re.next();Oe!==null&&!Ce.done;ce++,Ce=re.next()){Oe.index>ce?(We=Oe,Oe=null):We=Oe.sibling;var ut=ae(V,Oe,Ce.value,ge);if(ut===null){Oe===null&&(Oe=We);break}i&&Oe&&ut.alternate===null&&o(V,Oe),H=w(ut,H,ce),Pe===null?Ne=ut:Pe.sibling=ut,Pe=ut,Oe=We}if(Ce.done)return u(V,Oe),tr&&Ta(V,ce),Ne;if(Oe===null){for(;!Ce.done;ce++,Ce=re.next())Ce=Q(V,Ce.value,ge),Ce!==null&&(H=w(Ce,H,ce),Pe===null?Ne=Ce:Pe.sibling=Ce,Pe=Ce);return tr&&Ta(V,ce),Ne}for(Oe=m(V,Oe);!Ce.done;ce++,Ce=re.next())Ce=ue(Oe,V,ce,Ce.value,ge),Ce!==null&&(i&&Ce.alternate!==null&&Oe.delete(Ce.key===null?ce:Ce.key),H=w(Ce,H,ce),Pe===null?Ne=Ce:Pe.sibling=Ce,Pe=Ce);return i&&Oe.forEach(function(gr){return o(V,gr)}),tr&&Ta(V,ce),Ne}function Ge(V,H,re,ge){if(typeof re=="object"&&re!==null&&re.type===D&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case O:e:{for(var Ne=re.key,Pe=H;Pe!==null;){if(Pe.key===Ne){if(Ne=re.type,Ne===D){if(Pe.tag===7){u(V,Pe.sibling),H=b(Pe,re.props.children),H.return=V,V=H;break e}}else if(Pe.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ne&&yd(Ne)===Pe.type){u(V,Pe.sibling),H=b(Pe,re.props),H.ref=Ms(V,Pe,re),H.return=V,V=H;break e}u(V,Pe);break}else o(V,Pe);Pe=Pe.sibling}re.type===D?(H=bl(re.props.children,V.mode,ge,re.key),H.return=V,V=H):(ge=Op(re.type,re.key,re.props,null,V.mode,ge),ge.ref=Ms(V,H,re),ge.return=V,V=ge)}return A(V);case I:e:{for(Pe=re.key;H!==null;){if(H.key===Pe)if(H.tag===4&&H.stateNode.containerInfo===re.containerInfo&&H.stateNode.implementation===re.implementation){u(V,H.sibling),H=b(H,re.children||[]),H.return=V,V=H;break e}else{u(V,H);break}else o(V,H);H=H.sibling}H=Rp(re,V.mode,ge),H.return=V,V=H}return A(V);case ne:return Pe=re._init,Ge(V,H,Pe(re._payload),ge)}if(Ye(re))return he(V,H,re,ge);if(fe(re))return ve(V,H,re,ge);gd(V,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,H!==null&&H.tag===6?(u(V,H.sibling),H=b(H,re),H.return=V,V=H):(u(V,H),H=Gd(re,V.mode,ge),H.return=V,V=H),A(V)):u(V,H)}return Ge}var sl=fc(!0),sh=fc(!1),yu=wo(null),pc=null,rs=null,Zf=null;function ol(){Zf=rs=pc=null}function vd(i){var o=yu.current;Lt(yu),i._currentValue=o}function jo(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function ll(i,o){pc=i,Zf=rs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(ha=!0),i.firstContext=null)}function Pn(i){var o=i._currentValue;if(Zf!==i)if(i={context:i,memoizedValue:o,next:null},rs===null){if(pc===null)throw Error(r(308));rs=i,pc.dependencies={lanes:0,firstContext:i}}else rs=rs.next=i;return o}var Ra=null;function Ds(i){Ra===null?Ra=[i]:Ra.push(i)}function Ai(i,o,u,m){var b=o.interleaved;return b===null?(u.next=u,Ds(o)):(u.next=b.next,b.next=u),o.interleaved=u,Ls(i,m)}function Ls(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var _o=!1;function bd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oh(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ns(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function $s(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Tt&2)!==0){var b=m.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),m.pending=o,Ls(i,u)}return b=m.interleaved,b===null?(o.next=o,Ds(m)):(o.next=b.next,b.next=o),m.interleaved=o,Ls(i,u)}function xd(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,Yo(i,u)}}function ep(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var b=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?b=w=A:w=w.next=A,u=u.next}while(u!==null);w===null?b=w=o:w=w.next=o}else b=w=o;u={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function lh(i,o,u,m){var b=i.updateQueue;_o=!1;var w=b.firstBaseUpdate,A=b.lastBaseUpdate,L=b.shared.pending;if(L!==null){b.shared.pending=null;var F=L,U=F.next;F.next=null,A===null?w=U:A.next=U,A=F;var W=i.alternate;W!==null&&(W=W.updateQueue,L=W.lastBaseUpdate,L!==A&&(L===null?W.firstBaseUpdate=U:L.next=U,W.lastBaseUpdate=F))}if(w!==null){var Q=b.baseState;A=0,W=U=F=null,L=w;do{var ae=L.lane,ue=L.eventTime;if((m&ae)===ae){W!==null&&(W=W.next={eventTime:ue,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var he=i,ve=L;switch(ae=o,ue=u,ve.tag){case 1:if(he=ve.payload,typeof he=="function"){Q=he.call(ue,Q,ae);break e}Q=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,ae=typeof he=="function"?he.call(ue,Q,ae):he,ae==null)break e;Q=pe({},Q,ae);break e;case 2:_o=!0}}L.callback!==null&&L.lane!==0&&(i.flags|=64,ae=b.effects,ae===null?b.effects=[L]:ae.push(L))}else ue={eventTime:ue,lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},W===null?(U=W=ue,F=Q):W=W.next=ue,A|=ae;if(L=L.next,L===null){if(L=b.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,b.lastBaseUpdate=ae,b.shared.pending=null}}while(!0);if(W===null&&(F=Q),b.baseState=F,b.firstBaseUpdate=U,b.lastBaseUpdate=W,o=b.shared.interleaved,o!==null){b=o;do A|=b.lane,b=b.next;while(b!==o)}else w===null&&(b.shared.lanes=0);Ti|=A,i.lanes=A,i.memoizedState=Q}}function Oy(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var m=i[o],b=m.callback;if(b!==null){if(m.callback=null,m=u,typeof b!="function")throw Error(r(191,b));b.call(m)}}}var mc={},Ia=wo(mc),cl=wo(mc),Fs=wo(mc);function Bs(i){if(i===mc)throw Error(r(174));return i}function wd(i,o){switch(sr(Fs,o),sr(cl,i),sr(Ia,mc),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Mt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Mt(o,i)}Lt(Ia),sr(Ia,o)}function ul(){Lt(Ia),Lt(cl),Lt(Fs)}function tp(i){Bs(Fs.current);var o=Bs(Ia.current),u=Mt(o,i.type);o!==u&&(sr(cl,i),sr(Ia,u))}function Sd(i){cl.current===i&&(Lt(Ia),Lt(cl))}var dr=wo(0);function rp(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nd=[];function np(){for(var i=0;i<Nd.length;i++)Nd[i]._workInProgressVersionPrimary=null;Nd.length=0}var vu=M.ReactCurrentDispatcher,hc=M.ReactCurrentBatchConfig,Co=0,_r=null,gn=null,yn=null,ap=!1,qs=!1,jd=0,ch=0;function vn(){throw Error(r(321))}function uh(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Dr(i[u],o[u]))return!1;return!0}function _d(i,o,u,m,b,w){if(Co=w,_r=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,vu.current=i===null||i.memoizedState===null?pp:yh,i=u(m,b),qs){w=0;do{if(qs=!1,jd=0,25<=w)throw Error(r(301));w+=1,yn=gn=null,o.updateQueue=null,vu.current=mp,i=u(m,b)}while(qs)}if(vu.current=fp,o=gn!==null&&gn.next!==null,Co=0,yn=gn=_r=null,ap=!1,o)throw Error(r(300));return i}function ip(){var i=jd!==0;return jd=0,i}function Ei(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?_r.memoizedState=yn=i:yn=yn.next=i,yn}function ma(){if(gn===null){var i=_r.alternate;i=i!==null?i.memoizedState:null}else i=gn.next;var o=yn===null?_r.memoizedState:yn.next;if(o!==null)yn=o,gn=i;else{if(i===null)throw Error(r(310));gn=i,i={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},yn===null?_r.memoizedState=yn=i:yn=yn.next=i}return yn}function gc(i,o){return typeof o=="function"?o(i):o}function sp(i){var o=ma(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=gn,b=m.baseQueue,w=u.pending;if(w!==null){if(b!==null){var A=b.next;b.next=w.next,w.next=A}m.baseQueue=b=w,u.pending=null}if(b!==null){w=b.next,m=m.baseState;var L=A=null,F=null,U=w;do{var W=U.lane;if((Co&W)===W)F!==null&&(F=F.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),m=U.hasEagerState?U.eagerState:i(m,U.action);else{var Q={lane:W,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};F===null?(L=F=Q,A=m):F=F.next=Q,_r.lanes|=W,Ti|=W}U=U.next}while(U!==null&&U!==w);F===null?A=m:F.next=L,Dr(m,o.memoizedState)||(ha=!0),o.memoizedState=m,o.baseState=A,o.baseQueue=F,u.lastRenderedState=m}if(i=u.interleaved,i!==null){b=i;do w=b.lane,_r.lanes|=w,Ti|=w,b=b.next;while(b!==i)}else b===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function dh(i){var o=ma(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,b=u.pending,w=o.memoizedState;if(b!==null){u.pending=null;var A=b=b.next;do w=i(w,A.action),A=A.next;while(A!==b);Dr(w,o.memoizedState)||(ha=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,m]}function fh(){}function Ty(i,o){var u=_r,m=ma(),b=o(),w=!Dr(m.memoizedState,b);if(w&&(m.memoizedState=b,ha=!0),m=m.queue,xu(Cd.bind(null,u,m,i),[i]),m.getSnapshot!==o||w||yn!==null&&yn.memoizedState.tag&1){if(u.flags|=2048,yc(9,Ry.bind(null,u,m,b,o),void 0,null),$r===null)throw Error(r(349));(Co&30)!==0||dl(u,o,b)}return b}function dl(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=_r.updateQueue,o===null?(o={lastEffect:null,stores:null},_r.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Ry(i,o,u,m){o.value=u,o.getSnapshot=m,ph(o)&&Iy(i)}function Cd(i,o,u){return u(function(){ph(o)&&Iy(i)})}function ph(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Dr(i,u)}catch{return!0}}function Iy(i){var o=Ls(i,1);o!==null&&Ri(o,i,1,-1)}function fl(i){var o=Ei();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:i},o.queue=i,i=i.dispatch=dp.bind(null,_r,i),[o.memoizedState,i]}function yc(i,o,u,m){return i={tag:i,create:o,destroy:u,deps:m,next:null},o=_r.updateQueue,o===null?(o={lastEffect:null,stores:null},_r.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i)),i}function op(){return ma().memoizedState}function bu(i,o,u,m){var b=Ei();_r.flags|=i,b.memoizedState=yc(1|o,u,void 0,m===void 0?null:m)}function Po(i,o,u,m){var b=ma();m=m===void 0?null:m;var w=void 0;if(gn!==null){var A=gn.memoizedState;if(w=A.destroy,m!==null&&uh(m,A.deps)){b.memoizedState=yc(o,u,w,m);return}}_r.flags|=i,b.memoizedState=yc(1|o,u,w,m)}function lp(i,o){return bu(8390656,8,i,o)}function xu(i,o){return Po(2048,8,i,o)}function cp(i,o){return Po(4,2,i,o)}function Pd(i,o){return Po(4,4,i,o)}function Ad(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Ed(i,o,u){return u=u!=null?u.concat([i]):null,Po(4,4,Ad.bind(null,o,i),u)}function wu(){}function mh(i,o){var u=ma();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&uh(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function kd(i,o){var u=ma();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&uh(o,m[1])?m[0]:(i=i(),u.memoizedState=[i,o],i)}function ki(i,o,u){return(Co&21)===0?(i.baseState&&(i.baseState=!1,ha=!0),i.memoizedState=u):(Dr(u,o)||(u=au(),_r.lanes|=u,Ti|=u,i.baseState=!0),o)}function up(i,o){var u=Rt;Rt=u!==0&&4>u?u:4,i(!0);var m=hc.transition;hc.transition={};try{i(!1),o()}finally{Rt=u,hc.transition=m}}function Od(){return ma().memoizedState}function Su(i,o,u){var m=Vs(i);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},hh(i))gh(o,u);else if(u=Ai(i,o,u,m),u!==null){var b=Qn();Ri(u,i,m,b),Td(u,o,m)}}function dp(i,o,u){var m=Vs(i),b={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(hh(i))gh(o,b);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var A=o.lastRenderedState,L=w(A,u);if(b.hasEagerState=!0,b.eagerState=L,Dr(L,A)){var F=o.interleaved;F===null?(b.next=b,Ds(o)):(b.next=F.next,F.next=b),o.interleaved=b;return}}catch{}finally{}u=Ai(i,o,b,m),u!==null&&(b=Qn(),Ri(u,i,m,b),Td(u,o,m))}}function hh(i){var o=i.alternate;return i===_r||o!==null&&o===_r}function gh(i,o){qs=ap=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Td(i,o,u){if((u&4194240)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,Yo(i,u)}}var fp={readContext:Pn,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},pp={readContext:Pn,useCallback:function(i,o){return Ei().memoizedState=[i,o===void 0?null:o],i},useContext:Pn,useEffect:lp,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,bu(4194308,4,Ad.bind(null,o,i),u)},useLayoutEffect:function(i,o){return bu(4194308,4,i,o)},useInsertionEffect:function(i,o){return bu(4,2,i,o)},useMemo:function(i,o){var u=Ei();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var m=Ei();return o=u!==void 0?u(o):o,m.memoizedState=m.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},m.queue=i,i=i.dispatch=Su.bind(null,_r,i),[m.memoizedState,i]},useRef:function(i){var o=Ei();return i={current:i},o.memoizedState=i},useState:fl,useDebugValue:wu,useDeferredValue:function(i){return Ei().memoizedState=i},useTransition:function(){var i=fl(!1),o=i[0];return i=up.bind(null,i[1]),Ei().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var m=_r,b=Ei();if(tr){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),$r===null)throw Error(r(349));(Co&30)!==0||dl(m,o,u)}b.memoizedState=u;var w={value:u,getSnapshot:o};return b.queue=w,lp(Cd.bind(null,m,w,i),[i]),m.flags|=2048,yc(9,Ry.bind(null,m,w,u,o),void 0,null),u},useId:function(){var i=Ei(),o=$r.identifierPrefix;if(tr){var u=So,m=Oa;u=(m&~(1<<32-nn(m)-1)).toString(32)+u,o=":"+o+"R"+u,u=jd++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=ch++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},yh={readContext:Pn,useCallback:mh,useContext:Pn,useEffect:xu,useImperativeHandle:Ed,useInsertionEffect:cp,useLayoutEffect:Pd,useMemo:kd,useReducer:sp,useRef:op,useState:function(){return sp(gc)},useDebugValue:wu,useDeferredValue:function(i){var o=ma();return ki(o,gn.memoizedState,i)},useTransition:function(){var i=sp(gc)[0],o=ma().memoizedState;return[i,o]},useMutableSource:fh,useSyncExternalStore:Ty,useId:Od,unstable_isNewReconciler:!1},mp={readContext:Pn,useCallback:mh,useContext:Pn,useEffect:xu,useImperativeHandle:Ed,useInsertionEffect:cp,useLayoutEffect:Pd,useMemo:kd,useReducer:dh,useRef:op,useState:function(){return dh(gc)},useDebugValue:wu,useDeferredValue:function(i){var o=ma();return gn===null?o.memoizedState=i:ki(o,gn.memoizedState,i)},useTransition:function(){var i=dh(gc)[0],o=ma().memoizedState;return[i,o]},useMutableSource:fh,useSyncExternalStore:Ty,useId:Od,unstable_isNewReconciler:!1};function as(i,o){if(i&&i.defaultProps){o=pe({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function hp(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:pe({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Nu={isMounted:function(i){return(i=i._reactInternals)?rn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var m=Qn(),b=Vs(i),w=ns(m,b);w.payload=o,u!=null&&(w.callback=u),o=$s(i,w,b),o!==null&&(Ri(o,i,b,m),xd(o,i,b))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=Qn(),b=Vs(i),w=ns(m,b);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=$s(i,w,b),o!==null&&(Ri(o,i,b,m),xd(o,i,b))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Qn(),m=Vs(i),b=ns(u,m);b.tag=2,o!=null&&(b.callback=o),o=$s(i,b,m),o!==null&&(Ri(o,i,m,u),xd(o,i,m))}};function vh(i,o,u,m,b,w,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,w,A):o.prototype&&o.prototype.isPureReactComponent?!_n(u,m)||!_n(b,w):!0}function gp(i,o,u){var m=!1,b=Cn,w=o.contextType;return typeof w=="object"&&w!==null?w=Pn(w):(b=da(o)?al:Dn.current,m=o.contextTypes,w=(m=m!=null)?ic(i,b):Cn),o=new o(u,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Nu,i.stateNode=o,o._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=b,i.__reactInternalMemoizedMaskedChildContext=w),o}function bh(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&Nu.enqueueReplaceState(o,o.state,null)}function Ao(i,o,u,m){var b=i.stateNode;b.props=u,b.state=i.memoizedState,b.refs={},bd(i);var w=o.contextType;typeof w=="object"&&w!==null?b.context=Pn(w):(w=da(o)?al:Dn.current,b.context=ic(i,w)),b.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(hp(i,o,w,u),b.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(o=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),o!==b.state&&Nu.enqueueReplaceState(b,b.state,null),lh(i,u,b,m),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308)}function Oi(i,o){try{var u="",m=o;do u+=Ae(m),m=m.return;while(m);var b=u}catch(w){b=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:b,digest:null}}function ju(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function yp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Fb=typeof WeakMap=="function"?WeakMap:Map;function My(i,o,u){u=ns(-1,u),u.tag=3,u.payload={element:null};var m=o.value;return u.callback=function(){Ou||(Ou=!0,_c=m),yp(i,o)},u}function vp(i,o,u){u=ns(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var b=o.value;u.payload=function(){return m(b)},u.callback=function(){yp(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){yp(i,o),typeof m!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),u}function xh(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new Fb;var b=new Set;m.set(o,b)}else b=m.get(o),b===void 0&&(b=new Set,m.set(o,b));b.has(u)||(b.add(u),i=zb.bind(null,i,o,u),o.then(i,i))}function _u(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Ma(i,o,u,m,b){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ns(-1,1),o.tag=2,$s(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=b,i)}var Dy=M.ReactCurrentOwner,ha=!1;function xt(i,o,u,m){o.child=i===null?sh(o,null,u,m):sl(o,i.child,u,m)}function Rd(i,o,u,m,b){u=u.render;var w=o.ref;return ll(o,b),m=_d(i,o,u,m,w,b),u=ip(),i!==null&&!ha?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~b,ss(i,o,b)):(tr&&u&&No(o),o.flags|=1,xt(i,o,m,b),o.child)}function Id(i,o,u,m,b){if(i===null){var w=u.type;return typeof w=="function"&&!$h(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,Eo(i,o,w,m,b)):(i=Op(u.type,null,m,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&b)===0){var A=w.memoizedProps;if(u=u.compare,u=u!==null?u:_n,u(A,m)&&i.ref===o.ref)return ss(i,o,b)}return o.flags|=1,i=vl(w,m),i.ref=o.ref,i.return=o,o.child=i}function Eo(i,o,u,m,b){if(i!==null){var w=i.memoizedProps;if(_n(w,m)&&i.ref===o.ref)if(ha=!1,o.pendingProps=m=w,(i.lanes&b)!==0)(i.flags&131072)!==0&&(ha=!0);else return o.lanes=i.lanes,ss(i,o,b)}return Nh(i,o,u,m,b)}function wh(i,o,u){var m=o.pendingProps,b=m.children,w=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(cs,si),si|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,sr(cs,si),si|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:u,sr(cs,si),si|=m}else w!==null?(m=w.baseLanes|u,o.memoizedState=null):m=u,sr(cs,si),si|=m;return xt(i,o,b,u),o.child}function Sh(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Nh(i,o,u,m,b){var w=da(u)?al:Dn.current;return w=ic(o,w),ll(o,b),u=_d(i,o,u,m,w,b),m=ip(),i!==null&&!ha?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~b,ss(i,o,b)):(tr&&m&&No(o),o.flags|=1,xt(i,o,u,b),o.child)}function is(i,o,u,m,b){if(da(u)){var w=!0;hu(o)}else w=!1;if(ll(o,b),o.stateNode===null)Oo(i,o),gp(o,u,m),Ao(o,u,m,b),m=!0;else if(i===null){var A=o.stateNode,L=o.memoizedProps;A.props=L;var F=A.context,U=u.contextType;typeof U=="object"&&U!==null?U=Pn(U):(U=da(u)?al:Dn.current,U=ic(o,U));var W=u.getDerivedStateFromProps,Q=typeof W=="function"||typeof A.getSnapshotBeforeUpdate=="function";Q||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(L!==m||F!==U)&&bh(o,A,m,U),_o=!1;var ae=o.memoizedState;A.state=ae,lh(o,m,A,b),F=o.memoizedState,L!==m||ae!==F||Ln.current||_o?(typeof W=="function"&&(hp(o,u,W,m),F=o.memoizedState),(L=_o||vh(o,u,L,m,ae,F,U))?(Q||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=F),A.props=m,A.state=F,A.context=U,m=L):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{A=o.stateNode,oh(i,o),L=o.memoizedProps,U=o.type===o.elementType?L:as(o.type,L),A.props=U,Q=o.pendingProps,ae=A.context,F=u.contextType,typeof F=="object"&&F!==null?F=Pn(F):(F=da(u)?al:Dn.current,F=ic(o,F));var ue=u.getDerivedStateFromProps;(W=typeof ue=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(L!==Q||ae!==F)&&bh(o,A,m,F),_o=!1,ae=o.memoizedState,A.state=ae,lh(o,m,A,b);var he=o.memoizedState;L!==Q||ae!==he||Ln.current||_o?(typeof ue=="function"&&(hp(o,u,ue,m),he=o.memoizedState),(U=_o||vh(o,u,U,m,ae,he,F)||!1)?(W||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,he,F),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,he,F)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||L===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=he),A.props=m,A.state=he,A.context=F,m=U):(typeof A.componentDidUpdate!="function"||L===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),m=!1)}return bp(i,o,u,m,w,b)}function bp(i,o,u,m,b,w){Sh(i,o);var A=(o.flags&128)!==0;if(!m&&!A)return b&&ni(o,u,!1),ss(i,o,w);m=o.stateNode,Dy.current=o;var L=A&&typeof u.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,i!==null&&A?(o.child=sl(o,i.child,null,w),o.child=sl(o,null,L,w)):xt(i,o,L,w),o.memoizedState=m.state,b&&ni(o,u,!0),o.child}function Md(i){var o=i.stateNode;o.pendingContext?Ey(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Ey(i,o.context,!1),wd(i,o.containerInfo)}function xp(i,o,u,m,b){return dc(),Jf(b),o.flags|=256,xt(i,o,u,m),o.child}var vc={dehydrated:null,treeContext:null,retryLane:0};function wp(i){return{baseLanes:i,cachePool:null,transitions:null}}function Sp(i,o,u){var m=o.pendingProps,b=dr.current,w=!1,A=(o.flags&128)!==0,L;if((L=A)||(L=i!==null&&i.memoizedState===null?!1:(b&2)!==0),L?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(b|=1),sr(dr,b&1),i===null)return Yf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(A=m.children,i=m.fallback,w?(m=o.mode,w=o.child,A={mode:"hidden",children:A},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=A):w=Tp(A,m,0,null),i=bl(i,m,u,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=wp(u),o.memoizedState=vc,i):bc(o,A));if(b=i.memoizedState,b!==null&&(L=b.dehydrated,L!==null))return Dd(i,o,A,m,L,b,u);if(w){w=m.fallback,A=o.mode,b=i.child,L=b.sibling;var F={mode:"hidden",children:m.children};return(A&1)===0&&o.child!==b?(m=o.child,m.childLanes=0,m.pendingProps=F,o.deletions=null):(m=vl(b,F),m.subtreeFlags=b.subtreeFlags&14680064),L!==null?w=vl(L,w):(w=bl(w,A,u,null),w.flags|=2),w.return=o,m.return=o,m.sibling=w,o.child=m,m=w,w=o.child,A=i.child.memoizedState,A=A===null?wp(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},w.memoizedState=A,w.childLanes=i.childLanes&~u,o.memoizedState=vc,m}return w=i.child,i=w.sibling,m=vl(w,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=u),m.return=o,m.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=m,o.memoizedState=null,m}function bc(i,o){return o=Tp({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Np(i,o,u,m){return m!==null&&Jf(m),sl(o,i.child,null,u),i=bc(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Dd(i,o,u,m,b,w,A){if(u)return o.flags&256?(o.flags&=-257,m=ju(Error(r(422))),Np(i,o,A,m)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=m.fallback,b=o.mode,m=Tp({mode:"visible",children:m.children},b,0,null),w=bl(w,b,A,null),w.flags|=2,m.return=o,w.return=o,m.sibling=w,o.child=m,(o.mode&1)!==0&&sl(o,i.child,null,A),o.child.memoizedState=wp(A),o.memoizedState=vc,w);if((o.mode&1)===0)return Np(i,o,A,null);if(b.data==="$!"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var L=m.dgst;return m=L,w=Error(r(419)),m=ju(w,m,void 0),Np(i,o,A,m)}if(L=(A&i.childLanes)!==0,ha||L){if(m=$r,m!==null){switch(A&-A){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(m.suspendedLanes|A))!==0?0:b,b!==0&&b!==w.retryLane&&(w.retryLane=b,Ls(i,b),Ri(m,i,b,-1))}return Gs(),m=ju(Error(r(421))),Np(i,o,A,m)}return b.data==="$?"?(o.flags|=128,o.child=i.child,o=qy.bind(null,i),b._reactRetry=o,null):(i=w.treeContext,Jr=xo(b.nextSibling),pa=o,tr=!0,Ci=null,i!==null&&(ai[_i++]=Oa,ai[_i++]=So,ai[_i++]=cc,Oa=i.id,So=i.overflow,cc=o),o=bc(o,m.children),o.flags|=4096,o)}function Ld(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),jo(i.return,o,u)}function $d(i,o,u,m,b){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:b}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=u,w.tailMode=b)}function ko(i,o,u){var m=o.pendingProps,b=m.revealOrder,w=m.tail;if(xt(i,o,m.children,u),m=dr.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ld(i,u,o);else if(i.tag===19)Ld(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(sr(dr,m),(o.mode&1)===0)o.memoizedState=null;else switch(b){case"forwards":for(u=o.child,b=null;u!==null;)i=u.alternate,i!==null&&rp(i)===null&&(b=u),u=u.sibling;u=b,u===null?(b=o.child,o.child=null):(b=u.sibling,u.sibling=null),$d(o,!1,b,u,w);break;case"backwards":for(u=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&rp(i)===null){o.child=b;break}i=b.sibling,b.sibling=u,u=b,b=i}$d(o,!0,u,null,w);break;case"together":$d(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Oo(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ss(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ti|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=vl(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=vl(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Cu(i,o,u){switch(o.tag){case 3:Md(o),dc();break;case 5:tp(o);break;case 1:da(o.type)&&hu(o);break;case 4:wd(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,b=o.memoizedProps.value;sr(yu,m._currentValue),m._currentValue=b;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(sr(dr,dr.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Sp(i,o,u):(sr(dr,dr.current&1),i=ss(i,o,u),i!==null?i.sibling:null);sr(dr,dr.current&1);break;case 19:if(m=(u&o.childLanes)!==0,(i.flags&128)!==0){if(m)return ko(i,o,u);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),sr(dr,dr.current),m)break;return null;case 22:case 23:return o.lanes=0,wh(i,o,u)}return ss(i,o,u)}var jp,_p,jh,Pu;jp=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},_p=function(){},jh=function(i,o,u,m){var b=i.memoizedProps;if(b!==m){i=o.stateNode,Bs(Ia.current);var w=null;switch(u){case"input":b=dt(i,b),m=dt(i,m),w=[];break;case"select":b=pe({},b,{value:void 0}),m=pe({},m,{value:void 0}),w=[];break;case"textarea":b=st(i,b),m=st(i,m),w=[];break;default:typeof b.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=Bf)}lr(u,m);var A;u=null;for(U in b)if(!m.hasOwnProperty(U)&&b.hasOwnProperty(U)&&b[U]!=null)if(U==="style"){var L=b[U];for(A in L)L.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?w||(w=[]):(w=w||[]).push(U,null));for(U in m){var F=m[U];if(L=b?.[U],m.hasOwnProperty(U)&&F!==L&&(F!=null||L!=null))if(U==="style")if(L){for(A in L)!L.hasOwnProperty(A)||F&&F.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in F)F.hasOwnProperty(A)&&L[A]!==F[A]&&(u||(u={}),u[A]=F[A])}else u||(w||(w=[]),w.push(U,u)),u=F;else U==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,L=L?L.__html:void 0,F!=null&&L!==F&&(w=w||[]).push(U,F)):U==="children"?typeof F!="string"&&typeof F!="number"||(w=w||[]).push(U,""+F):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(F!=null&&U==="onScroll"&&er("scroll",i),w||L===F||(w=[])):(w=w||[]).push(U,F))}u&&(w=w||[]).push("style",u);var U=w;(o.updateQueue=U)&&(o.flags|=4)}},Pu=function(i,o,u,m){u!==m&&(o.flags|=4)};function Au(i,o){if(!tr)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function An(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var b=i.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags&14680064,m|=b.flags&14680064,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function xc(i,o,u){var m=o.pendingProps;switch(hd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(o),null;case 1:return da(o.type)&&eh(),An(o),null;case 3:return m=o.stateNode,ul(),Lt(Ln),Lt(Dn),np(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Xf(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ci!==null&&(Oh(Ci),Ci=null))),_p(i,o),An(o),null;case 5:Sd(o);var b=Bs(Fs.current);if(u=o.type,i!==null&&o.stateNode!=null)jh(i,o,u,m,b),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(r(166));return An(o),null}if(i=Bs(Ia.current),Xf(o)){m=o.stateNode,u=o.type;var w=o.memoizedProps;switch(m[ji]=o,m[ri]=w,i=(o.mode&1)!==0,u){case"dialog":er("cancel",m),er("close",m);break;case"iframe":case"object":case"embed":er("load",m);break;case"video":case"audio":for(b=0;b<rc.length;b++)er(rc[b],m);break;case"source":er("error",m);break;case"img":case"image":case"link":er("error",m),er("load",m);break;case"details":er("toggle",m);break;case"input":it(m,w),er("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},er("invalid",m);break;case"textarea":ar(m,w),er("invalid",m)}lr(u,w),b=null;for(var A in w)if(w.hasOwnProperty(A)){var L=w[A];A==="children"?typeof L=="string"?m.textContent!==L&&(w.suppressHydrationWarning!==!0&&dd(m.textContent,L,i),b=["children",L]):typeof L=="number"&&m.textContent!==""+L&&(w.suppressHydrationWarning!==!0&&dd(m.textContent,L,i),b=["children",""+L]):a.hasOwnProperty(A)&&L!=null&&A==="onScroll"&&er("scroll",m)}switch(u){case"input":ze(m),Le(m,w,!0);break;case"textarea":ze(m),mr(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=Bf)}m=b,o.updateQueue=m,m!==null&&(o.flags|=4)}else{A=b.nodeType===9?b:b.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Vt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=A.createElement(u,{is:m.is}):(i=A.createElement(u),u==="select"&&(A=i,m.multiple?A.multiple=!0:m.size&&(A.size=m.size))):i=A.createElementNS(i,u),i[ji]=o,i[ri]=m,jp(i,o,!1,!1),o.stateNode=i;e:{switch(A=Vn(u,m),u){case"dialog":er("cancel",i),er("close",i),b=m;break;case"iframe":case"object":case"embed":er("load",i),b=m;break;case"video":case"audio":for(b=0;b<rc.length;b++)er(rc[b],i);b=m;break;case"source":er("error",i),b=m;break;case"img":case"image":case"link":er("error",i),er("load",i),b=m;break;case"details":er("toggle",i),b=m;break;case"input":it(i,m),b=dt(i,m),er("invalid",i);break;case"option":b=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},b=pe({},m,{value:void 0}),er("invalid",i);break;case"textarea":ar(i,m),b=st(i,m),er("invalid",i);break;default:b=m}lr(u,b),L=b;for(w in L)if(L.hasOwnProperty(w)){var F=L[w];w==="style"?Ur(i,F):w==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&kr(i,F)):w==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&Ct(i,F):typeof F=="number"&&Ct(i,""+F):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(a.hasOwnProperty(w)?F!=null&&w==="onScroll"&&er("scroll",i):F!=null&&R(i,w,F,A))}switch(u){case"input":ze(i),Le(i,m,!1);break;case"textarea":ze(i),mr(i);break;case"option":m.value!=null&&i.setAttribute("value",""+ke(m.value));break;case"select":i.multiple=!!m.multiple,w=m.value,w!=null?mt(i,!!m.multiple,w,!1):m.defaultValue!=null&&mt(i,!!m.multiple,m.defaultValue,!0);break;default:typeof b.onClick=="function"&&(i.onclick=Bf)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return An(o),null;case 6:if(i&&o.stateNode!=null)Pu(i,o,i.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(u=Bs(Fs.current),Bs(Ia.current),Xf(o)){if(m=o.stateNode,u=o.memoizedProps,m[ji]=o,(w=m.nodeValue!==u)&&(i=pa,i!==null))switch(i.tag){case 3:dd(m.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&dd(m.nodeValue,u,(i.mode&1)!==0)}w&&(o.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[ji]=o,o.stateNode=m}return An(o),null;case 13:if(Lt(dr),m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tr&&Jr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Qf(),dc(),o.flags|=98560,w=!1;else if(w=Xf(o),m!==null&&m.dehydrated!==null){if(i===null){if(!w)throw Error(r(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[ji]=o}else dc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;An(o),w=!1}else Ci!==null&&(Oh(Ci),Ci=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(dr.current&1)!==0?zr===0&&(zr=3):Gs())),o.updateQueue!==null&&(o.flags|=4),An(o),null);case 4:return ul(),_p(i,o),i===null&&ud(o.stateNode.containerInfo),An(o),null;case 10:return vd(o.type._context),An(o),null;case 17:return da(o.type)&&eh(),An(o),null;case 19:if(Lt(dr),w=o.memoizedState,w===null)return An(o),null;if(m=(o.flags&128)!==0,A=w.rendering,A===null)if(m)Au(w,!1);else{if(zr!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(A=rp(i),A!==null){for(o.flags|=128,Au(w,!1),m=A.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=u,u=o.child;u!==null;)w=u,i=m,w.flags&=14680066,A=w.alternate,A===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=A.childLanes,w.lanes=A.lanes,w.child=A.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=A.memoizedProps,w.memoizedState=A.memoizedState,w.updateQueue=A.updateQueue,w.type=A.type,i=A.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return sr(dr,dr.current&1|2),o.child}i=i.sibling}w.tail!==null&&et()>jc&&(o.flags|=128,m=!0,Au(w,!1),o.lanes=4194304)}else{if(!m)if(i=rp(A),i!==null){if(o.flags|=128,m=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Au(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!tr)return An(o),null}else 2*et()-w.renderingStartTime>jc&&u!==1073741824&&(o.flags|=128,m=!0,Au(w,!1),o.lanes=4194304);w.isBackwards?(A.sibling=o.child,o.child=A):(u=w.last,u!==null?u.sibling=A:o.child=A,w.last=A)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=et(),o.sibling=null,u=dr.current,sr(dr,m?u&1|2:u&1),o):(An(o),null);case 22:case 23:return Rh(),m=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(si&1073741824)!==0&&(An(o),o.subtreeFlags&6&&(o.flags|=8192)):An(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function Eu(i,o){switch(hd(o),o.tag){case 1:return da(o.type)&&eh(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ul(),Lt(Ln),Lt(Dn),np(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Sd(o),null;case 13:if(Lt(dr),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));dc()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Lt(dr),null;case 4:return ul(),null;case 10:return vd(o.type._context),null;case 22:case 23:return Rh(),null;case 24:return null;default:return null}}var Fd=!1,bn=!1,wc=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Us(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Wr(i,o,m)}else u.current=null}function os(i,o,u){try{u()}catch(m){Wr(i,o,m)}}var _h=!1;function Ly(i,o){if(Xm=Ya,i=In(),ca(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var b=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var A=0,L=-1,F=-1,U=0,W=0,Q=i,ae=null;t:for(;;){for(var ue;Q!==u||b!==0&&Q.nodeType!==3||(L=A+b),Q!==w||m!==0&&Q.nodeType!==3||(F=A+m),Q.nodeType===3&&(A+=Q.nodeValue.length),(ue=Q.firstChild)!==null;)ae=Q,Q=ue;for(;;){if(Q===i)break t;if(ae===u&&++U===b&&(L=A),ae===w&&++W===m&&(F=A),(ue=Q.nextSibling)!==null)break;Q=ae,ae=Q.parentNode}Q=ue}u=L===-1||F===-1?null:{start:L,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(qf={focusedElem:i,selectionRange:u},Ya=!1,Xe=o;Xe!==null;)if(o=Xe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Xe=i;else for(;Xe!==null;){o=Xe;try{var he=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var ve=he.memoizedProps,Ge=he.memoizedState,V=o.stateNode,H=V.getSnapshotBeforeUpdate(o.elementType===o.type?ve:as(o.type,ve),Ge);V.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var re=o.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ge){Wr(o,o.return,ge)}if(i=o.sibling,i!==null){i.return=o.return,Xe=i;break}Xe=o.return}return he=_h,_h=!1,he}function pl(i,o,u){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&i)===i){var w=b.destroy;b.destroy=void 0,w!==void 0&&os(o,u,w)}b=b.next}while(b!==m)}}function Cp(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==o)}}function Da(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Bd(i){var o=i.alternate;o!==null&&(i.alternate=null,Bd(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[ji],delete o[ri],delete o[Vf],delete o[Py],delete o[Ay])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function ku(i){return i.tag===5||i.tag===3||i.tag===4}function Pp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ku(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qd(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Bf));else if(m!==4&&(i=i.child,i!==null))for(qd(i,o,u),i=i.sibling;i!==null;)qd(i,o,u),i=i.sibling}function Ud(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(Ud(i,o,u),i=i.sibling;i!==null;)Ud(i,o,u),i=i.sibling}var xn=null,ii=!1;function zs(i,o,u){for(u=u.child;u!==null;)Ap(i,o,u),u=u.sibling}function Ap(i,o,u){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(Xr,u)}catch{}switch(u.tag){case 5:bn||Us(u,o);case 6:var m=xn,b=ii;xn=null,zs(i,o,u),xn=m,ii=b,xn!==null&&(ii?(i=xn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):xn.removeChild(u.stateNode));break;case 18:xn!==null&&(ii?(i=xn,u=u.stateNode,i.nodeType===8?Hf(i.parentNode,u):i.nodeType===1&&Hf(i,u),fn(i)):Hf(xn,u.stateNode));break;case 4:m=xn,b=ii,xn=u.stateNode.containerInfo,ii=!0,zs(i,o,u),xn=m,ii=b;break;case 0:case 11:case 14:case 15:if(!bn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){b=m=m.next;do{var w=b,A=w.destroy;w=w.tag,A!==void 0&&((w&2)!==0||(w&4)!==0)&&os(u,o,A),b=b.next}while(b!==m)}zs(i,o,u);break;case 1:if(!bn&&(Us(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(L){Wr(u,o,L)}zs(i,o,u);break;case 21:zs(i,o,u);break;case 22:u.mode&1?(bn=(m=bn)||u.memoizedState!==null,zs(i,o,u),bn=m):zs(i,o,u);break;default:zs(i,o,u)}}function Ch(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new wc),o.forEach(function(m){var b=Uy.bind(null,i,m);u.has(m)||(u.add(m),m.then(b,b))})}}function La(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var b=u[m];try{var w=i,A=o,L=A;e:for(;L!==null;){switch(L.tag){case 5:xn=L.stateNode,ii=!1;break e;case 3:xn=L.stateNode.containerInfo,ii=!0;break e;case 4:xn=L.stateNode.containerInfo,ii=!0;break e}L=L.return}if(xn===null)throw Error(r(160));Ap(w,A,b),xn=null,ii=!1;var F=b.alternate;F!==null&&(F.return=null),b.return=null}catch(U){Wr(b,o,U)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)$y(o,i),o=o.sibling}function $y(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(La(o,i),Ws(i),m&4){try{pl(3,i,i.return),Cp(3,i)}catch(ve){Wr(i,i.return,ve)}try{pl(5,i,i.return)}catch(ve){Wr(i,i.return,ve)}}break;case 1:La(o,i),Ws(i),m&512&&u!==null&&Us(u,u.return);break;case 5:if(La(o,i),Ws(i),m&512&&u!==null&&Us(u,u.return),i.flags&32){var b=i.stateNode;try{Ct(b,"")}catch(ve){Wr(i,i.return,ve)}}if(m&4&&(b=i.stateNode,b!=null)){var w=i.memoizedProps,A=u!==null?u.memoizedProps:w,L=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{L==="input"&&w.type==="radio"&&w.name!=null&&pt(b,w),Vn(L,A);var U=Vn(L,w);for(A=0;A<F.length;A+=2){var W=F[A],Q=F[A+1];W==="style"?Ur(b,Q):W==="dangerouslySetInnerHTML"?kr(b,Q):W==="children"?Ct(b,Q):R(b,W,Q,U)}switch(L){case"input":Ee(b,w);break;case"textarea":Vr(b,w);break;case"select":var ae=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!w.multiple;var ue=w.value;ue!=null?mt(b,!!w.multiple,ue,!1):ae!==!!w.multiple&&(w.defaultValue!=null?mt(b,!!w.multiple,w.defaultValue,!0):mt(b,!!w.multiple,w.multiple?[]:"",!1))}b[ri]=w}catch(ve){Wr(i,i.return,ve)}}break;case 6:if(La(o,i),Ws(i),m&4){if(i.stateNode===null)throw Error(r(162));b=i.stateNode,w=i.memoizedProps;try{b.nodeValue=w}catch(ve){Wr(i,i.return,ve)}}break;case 3:if(La(o,i),Ws(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{fn(o.containerInfo)}catch(ve){Wr(i,i.return,ve)}break;case 4:La(o,i),Ws(i);break;case 13:La(o,i),Ws(i),b=i.child,b.flags&8192&&(w=b.memoizedState!==null,b.stateNode.isHidden=w,!w||b.alternate!==null&&b.alternate.memoizedState!==null||(Eh=et())),m&4&&Ch(i);break;case 22:if(W=u!==null&&u.memoizedState!==null,i.mode&1?(bn=(U=bn)||W,La(o,i),bn=U):La(o,i),Ws(i),m&8192){if(U=i.memoizedState!==null,(i.stateNode.isHidden=U)&&!W&&(i.mode&1)!==0)for(Xe=i,W=i.child;W!==null;){for(Q=Xe=W;Xe!==null;){switch(ae=Xe,ue=ae.child,ae.tag){case 0:case 11:case 14:case 15:pl(4,ae,ae.return);break;case 1:Us(ae,ae.return);var he=ae.stateNode;if(typeof he.componentWillUnmount=="function"){m=ae,u=ae.return;try{o=m,he.props=o.memoizedProps,he.state=o.memoizedState,he.componentWillUnmount()}catch(ve){Wr(m,u,ve)}}break;case 5:Us(ae,ae.return);break;case 22:if(ae.memoizedState!==null){ls(Q);continue}}ue!==null?(ue.return=ae,Xe=ue):ls(Q)}W=W.sibling}e:for(W=null,Q=i;;){if(Q.tag===5){if(W===null){W=Q;try{b=Q.stateNode,U?(w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(L=Q.stateNode,F=Q.memoizedProps.style,A=F!=null&&F.hasOwnProperty("display")?F.display:null,L.style.display=Gr("display",A))}catch(ve){Wr(i,i.return,ve)}}}else if(Q.tag===6){if(W===null)try{Q.stateNode.nodeValue=U?"":Q.memoizedProps}catch(ve){Wr(i,i.return,ve)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===i)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===i)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===i)break e;W===Q&&(W=null),Q=Q.return}W===Q&&(W=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:La(o,i),Ws(i),m&4&&Ch(i);break;case 21:break;default:La(o,i),Ws(i)}}function Ws(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(ku(u)){var m=u;break e}u=u.return}throw Error(r(160))}switch(m.tag){case 5:var b=m.stateNode;m.flags&32&&(Ct(b,""),m.flags&=-33);var w=Pp(i);Ud(i,w,b);break;case 3:case 4:var A=m.stateNode.containerInfo,L=Pp(i);qd(i,L,A);break;default:throw Error(r(161))}}catch(F){Wr(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Bb(i,o,u){Xe=i,zd(i)}function zd(i,o,u){for(var m=(i.mode&1)!==0;Xe!==null;){var b=Xe,w=b.child;if(b.tag===22&&m){var A=b.memoizedState!==null||Fd;if(!A){var L=b.alternate,F=L!==null&&L.memoizedState!==null||bn;L=Fd;var U=bn;if(Fd=A,(bn=F)&&!U)for(Xe=b;Xe!==null;)A=Xe,F=A.child,A.tag===22&&A.memoizedState!==null?Ph(b):F!==null?(F.return=A,Xe=F):Ph(b);for(;w!==null;)Xe=w,zd(w),w=w.sibling;Xe=b,Fd=L,bn=U}Sc(i)}else(b.subtreeFlags&8772)!==0&&w!==null?(w.return=b,Xe=w):Sc(i)}}function Sc(i){for(;Xe!==null;){var o=Xe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:bn||Cp(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!bn)if(u===null)m.componentDidMount();else{var b=o.elementType===o.type?u.memoizedProps:as(o.type,u.memoizedProps);m.componentDidUpdate(b,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Oy(o,w,m);break;case 3:var A=o.updateQueue;if(A!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Oy(o,A,u)}break;case 5:var L=o.stateNode;if(u===null&&o.flags&4){u=L;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var U=o.alternate;if(U!==null){var W=U.memoizedState;if(W!==null){var Q=W.dehydrated;Q!==null&&fn(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}bn||o.flags&512&&Da(o)}catch(ae){Wr(o,o.return,ae)}}if(o===i){Xe=null;break}if(u=o.sibling,u!==null){u.return=o.return,Xe=u;break}Xe=o.return}}function ls(i){for(;Xe!==null;){var o=Xe;if(o===i){Xe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Xe=u;break}Xe=o.return}}function Ph(i){for(;Xe!==null;){var o=Xe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Cp(4,o)}catch(F){Wr(o,u,F)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var b=o.return;try{m.componentDidMount()}catch(F){Wr(o,b,F)}}var w=o.return;try{Da(o)}catch(F){Wr(o,w,F)}break;case 5:var A=o.return;try{Da(o)}catch(F){Wr(o,A,F)}}}catch(F){Wr(o,o.return,F)}if(o===i){Xe=null;break}var L=o.sibling;if(L!==null){L.return=o.return,Xe=L;break}Xe=o.return}}var Fy=Math.ceil,Ep=M.ReactCurrentDispatcher,Nc=M.ReactCurrentOwner,$a=M.ReactCurrentBatchConfig,Tt=0,$r=null,Fr=null,Cr=0,si=0,cs=wo(0),zr=0,Hs=null,Ti=0,Wd=0,Ah=0,ml=null,Fa=null,Eh=0,jc=1/0,Xn=null,Ou=!1,_c=null,oi=null,Hd=!1,hl=null,kp=0,gl=0,yl=null,Vd=-1,Tu=0;function Qn(){return(Tt&6)!==0?et():Vd!==-1?Vd:Vd=et()}function Vs(i){return(i.mode&1)===0?1:(Tt&2)!==0&&Cr!==0?Cr&-Cr:Pi.transition!==null?(Tu===0&&(Tu=au()),Tu):(i=Rt,i!==0||(i=window.event,i=i===void 0?16:uo(i.type)),i)}function Ri(i,o,u,m){if(50<gl)throw gl=0,yl=null,Error(r(185));gi(i,u,m),((Tt&2)===0||i!==$r)&&(i===$r&&((Tt&2)===0&&(Wd|=u),zr===4&&ga(i,Cr)),Jn(i,m),u===1&&Tt===0&&(o.mode&1)===0&&(jc=et()+500,fa&&Is()))}function Jn(i,o){var u=i.callbackNode;so(i,o);var m=wr(i,i===$r?Cr:0);if(m===0)u!==null&&Me(u),i.callbackNode=null,i.callbackPriority=0;else if(o=m&-m,i.callbackPriority!==o){if(u!=null&&Me(u),o===1)i.tag===0?nh(Cc.bind(null,i)):rh(Cc.bind(null,i)),Wf(function(){(Tt&6)===0&&Is()}),u=null;else{switch(su(m)){case 1:u=jt;break;case 4:u=hr;break;case 16:u=Ir;break;case 536870912:u=It;break;default:u=Ir}u=Wy(u,En.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function En(i,o){if(Vd=-1,Tu=0,(Tt&6)!==0)throw Error(r(327));var u=i.callbackNode;if(Oc()&&i.callbackNode!==u)return null;var m=wr(i,i===$r?Cr:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||o)o=$n(i,m);else{o=m;var b=Tt;Tt|=2;var w=Ih();($r!==i||Cr!==o)&&(Xn=null,jc=et()+500,Ac(i,o));do try{Ub();break}catch(L){By(i,L)}while(!0);ol(),Ep.current=w,Tt=b,Fr!==null?o=0:($r=null,Cr=0,o=zr)}if(o!==0){if(o===2&&(b=Hi(i),b!==0&&(m=b,o=kh(i,b))),o===1)throw u=Hs,Ac(i,0),ga(i,m),Jn(i,et()),u;if(o===6)ga(i,m);else{if(b=i.current.alternate,(m&30)===0&&!qb(b)&&(o=$n(i,m),o===2&&(w=Hi(i),w!==0&&(m=w,o=kh(i,w))),o===1))throw u=Hs,Ac(i,0),ga(i,m),Jn(i,et()),u;switch(i.finishedWork=b,i.finishedLanes=m,o){case 0:case 1:throw Error(r(345));case 2:Ec(i,Fa,Xn);break;case 3:if(ga(i,m),(m&130023424)===m&&(o=Eh+500-et(),10<o)){if(wr(i,0)!==0)break;if(b=i.suspendedLanes,(b&m)!==m){Qn(),i.pingedLanes|=i.suspendedLanes&b;break}i.timeoutHandle=zf(Ec.bind(null,i,Fa,Xn),o);break}Ec(i,Fa,Xn);break;case 4:if(ga(i,m),(m&4194240)===m)break;for(o=i.eventTimes,b=-1;0<m;){var A=31-nn(m);w=1<<A,A=o[A],A>b&&(b=A),m&=~w}if(m=b,m=et()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Fy(m/1960))-m,10<m){i.timeoutHandle=zf(Ec.bind(null,i,Fa,Xn),m);break}Ec(i,Fa,Xn);break;case 5:Ec(i,Fa,Xn);break;default:throw Error(r(329))}}}return Jn(i,et()),i.callbackNode===u?En.bind(null,i):null}function kh(i,o){var u=ml;return i.current.memoizedState.isDehydrated&&(Ac(i,o).flags|=256),i=$n(i,o),i!==2&&(o=Fa,Fa=u,o!==null&&Oh(o)),i}function Oh(i){Fa===null?Fa=i:Fa.push.apply(Fa,i)}function qb(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var b=u[m],w=b.getSnapshot;b=b.value;try{if(!Dr(w(),b))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ga(i,o){for(o&=~Ah,o&=~Wd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-nn(o),m=1<<u;i[u]=-1,o&=~m}}function Cc(i){if((Tt&6)!==0)throw Error(r(327));Oc();var o=wr(i,0);if((o&1)===0)return Jn(i,et()),null;var u=$n(i,o);if(i.tag!==0&&u===2){var m=Hi(i);m!==0&&(o=m,u=kh(i,m))}if(u===1)throw u=Hs,Ac(i,0),ga(i,o),Jn(i,et()),u;if(u===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ec(i,Fa,Xn),Jn(i,et()),null}function Th(i,o){var u=Tt;Tt|=1;try{return i(o)}finally{Tt=u,Tt===0&&(jc=et()+500,fa&&Is())}}function Pc(i){hl!==null&&hl.tag===0&&(Tt&6)===0&&Oc();var o=Tt;Tt|=1;var u=$a.transition,m=Rt;try{if($a.transition=null,Rt=1,i)return i()}finally{Rt=m,$a.transition=u,Tt=o,(Tt&6)===0&&Is()}}function Rh(){si=cs.current,Lt(cs)}function Ac(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Qm(u)),Fr!==null)for(u=Fr.return;u!==null;){var m=u;switch(hd(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&eh();break;case 3:ul(),Lt(Ln),Lt(Dn),np();break;case 5:Sd(m);break;case 4:ul();break;case 13:Lt(dr);break;case 19:Lt(dr);break;case 10:vd(m.type._context);break;case 22:case 23:Rh()}u=u.return}if($r=i,Fr=i=vl(i.current,null),Cr=si=o,zr=0,Hs=null,Ah=Wd=Ti=0,Fa=ml=null,Ra!==null){for(o=0;o<Ra.length;o++)if(u=Ra[o],m=u.interleaved,m!==null){u.interleaved=null;var b=m.next,w=u.pending;if(w!==null){var A=w.next;w.next=b,m.next=A}u.pending=m}Ra=null}return i}function By(i,o){do{var u=Fr;try{if(ol(),vu.current=fp,ap){for(var m=_r.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}ap=!1}if(Co=0,yn=gn=_r=null,qs=!1,jd=0,Nc.current=null,u===null||u.return===null){zr=1,Hs=o,Fr=null;break}e:{var w=i,A=u.return,L=u,F=o;if(o=Cr,L.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var U=F,W=L,Q=W.tag;if((W.mode&1)===0&&(Q===0||Q===11||Q===15)){var ae=W.alternate;ae?(W.updateQueue=ae.updateQueue,W.memoizedState=ae.memoizedState,W.lanes=ae.lanes):(W.updateQueue=null,W.memoizedState=null)}var ue=_u(A);if(ue!==null){ue.flags&=-257,Ma(ue,A,L,w,o),ue.mode&1&&xh(w,U,o),o=ue,F=U;var he=o.updateQueue;if(he===null){var ve=new Set;ve.add(F),o.updateQueue=ve}else he.add(F);break e}else{if((o&1)===0){xh(w,U,o),Gs();break e}F=Error(r(426))}}else if(tr&&L.mode&1){var Ge=_u(A);if(Ge!==null){(Ge.flags&65536)===0&&(Ge.flags|=256),Ma(Ge,A,L,w,o),Jf(Oi(F,L));break e}}w=F=Oi(F,L),zr!==4&&(zr=2),ml===null?ml=[w]:ml.push(w),w=A;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var V=My(w,F,o);ep(w,V);break e;case 1:L=F;var H=w.type,re=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(oi===null||!oi.has(re)))){w.flags|=65536,o&=-o,w.lanes|=o;var ge=vp(w,L,o);ep(w,ge);break e}}w=w.return}while(w!==null)}Dh(u)}catch(Ne){o=Ne,Fr===u&&u!==null&&(Fr=u=u.return);continue}break}while(!0)}function Ih(){var i=Ep.current;return Ep.current=fp,i===null?fp:i}function Gs(){(zr===0||zr===3||zr===2)&&(zr=4),$r===null||(Ti&268435455)===0&&(Wd&268435455)===0||ga($r,Cr)}function $n(i,o){var u=Tt;Tt|=2;var m=Ih();($r!==i||Cr!==o)&&(Xn=null,Ac(i,o));do try{wt();break}catch(b){By(i,b)}while(!0);if(ol(),Tt=u,Ep.current=m,Fr!==null)throw Error(r(261));return $r=null,Cr=0,zr}function wt(){for(;Fr!==null;)Mh(Fr)}function Ub(){for(;Fr!==null&&!ft();)Mh(Fr)}function Mh(i){var o=zy(i.alternate,i,si);i.memoizedProps=i.pendingProps,o===null?Dh(i):Fr=o,Nc.current=null}function Dh(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=xc(u,o,si),u!==null){Fr=u;return}}else{if(u=Eu(u,o),u!==null){u.flags&=32767,Fr=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{zr=6,Fr=null;return}}if(o=o.sibling,o!==null){Fr=o;return}Fr=o=i}while(o!==null);zr===0&&(zr=5)}function Ec(i,o,u){var m=Rt,b=$a.transition;try{$a.transition=null,Rt=1,kc(i,o,u,m)}finally{$a.transition=b,Rt=m}return null}function kc(i,o,u,m){do Oc();while(hl!==null);if((Tt&6)!==0)throw Error(r(327));u=i.finishedWork;var b=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(Kl(i,w),i===$r&&(Fr=$r=null,Cr=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Hd||(Hd=!0,Wy(Ir,function(){return Oc(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=$a.transition,$a.transition=null;var A=Rt;Rt=1;var L=Tt;Tt|=4,Nc.current=null,Ly(i,u),$y(u,i),ua(qf),Ya=!!Xm,qf=Xm=null,i.current=u,Bb(u),Ze(),Tt=L,Rt=A,$a.transition=w}else i.current=u;if(Hd&&(Hd=!1,hl=i,kp=b),w=i.pendingLanes,w===0&&(oi=null),Sa(u.stateNode),Jn(i,et()),o!==null)for(m=i.onRecoverableError,u=0;u<o.length;u++)b=o[u],m(b.value,{componentStack:b.stack,digest:b.digest});if(Ou)throw Ou=!1,i=_c,_c=null,i;return(kp&1)!==0&&i.tag!==0&&Oc(),w=i.pendingLanes,(w&1)!==0?i===yl?gl++:(gl=0,yl=i):gl=0,Is(),null}function Oc(){if(hl!==null){var i=su(kp),o=$a.transition,u=Rt;try{if($a.transition=null,Rt=16>i?16:i,hl===null)var m=!1;else{if(i=hl,hl=null,kp=0,(Tt&6)!==0)throw Error(r(331));var b=Tt;for(Tt|=4,Xe=i.current;Xe!==null;){var w=Xe,A=w.child;if((Xe.flags&16)!==0){var L=w.deletions;if(L!==null){for(var F=0;F<L.length;F++){var U=L[F];for(Xe=U;Xe!==null;){var W=Xe;switch(W.tag){case 0:case 11:case 15:pl(8,W,w)}var Q=W.child;if(Q!==null)Q.return=W,Xe=Q;else for(;Xe!==null;){W=Xe;var ae=W.sibling,ue=W.return;if(Bd(W),W===U){Xe=null;break}if(ae!==null){ae.return=ue,Xe=ae;break}Xe=ue}}}var he=w.alternate;if(he!==null){var ve=he.child;if(ve!==null){he.child=null;do{var Ge=ve.sibling;ve.sibling=null,ve=Ge}while(ve!==null)}}Xe=w}}if((w.subtreeFlags&2064)!==0&&A!==null)A.return=w,Xe=A;else e:for(;Xe!==null;){if(w=Xe,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:pl(9,w,w.return)}var V=w.sibling;if(V!==null){V.return=w.return,Xe=V;break e}Xe=w.return}}var H=i.current;for(Xe=H;Xe!==null;){A=Xe;var re=A.child;if((A.subtreeFlags&2064)!==0&&re!==null)re.return=A,Xe=re;else e:for(A=H;Xe!==null;){if(L=Xe,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Cp(9,L)}}catch(Ne){Wr(L,L.return,Ne)}if(L===A){Xe=null;break e}var ge=L.sibling;if(ge!==null){ge.return=L.return,Xe=ge;break e}Xe=L.return}}if(Tt=b,Is(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(Xr,i)}catch{}m=!0}return m}finally{Rt=u,$a.transition=o}}return!1}function Lh(i,o,u){o=Oi(u,o),o=My(i,o,1),i=$s(i,o,1),o=Qn(),i!==null&&(gi(i,1,o),Jn(i,o))}function Wr(i,o,u){if(i.tag===3)Lh(i,i,u);else for(;o!==null;){if(o.tag===3){Lh(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(oi===null||!oi.has(m))){i=Oi(u,i),i=vp(o,i,1),o=$s(o,i,1),i=Qn(),o!==null&&(gi(o,1,i),Jn(o,i));break}}o=o.return}}function zb(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),o=Qn(),i.pingedLanes|=i.suspendedLanes&u,$r===i&&(Cr&u)===u&&(zr===4||zr===3&&(Cr&130023424)===Cr&&500>et()-Eh?Ac(i,0):Ah|=u),Jn(i,o)}function Ks(i,o){o===0&&((i.mode&1)===0?o=1:(o=ws,ws<<=1,(ws&130023424)===0&&(ws=4194304)));var u=Qn();i=Ls(i,o),i!==null&&(gi(i,o,u),Jn(i,u))}function qy(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Ks(i,u)}function Uy(i,o){var u=0;switch(i.tag){case 13:var m=i.stateNode,b=i.memoizedState;b!==null&&(u=b.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(o),Ks(i,u)}var zy;zy=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Ln.current)ha=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return ha=!1,Cu(i,o,u);ha=(i.flags&131072)!==0}else ha=!1,tr&&(o.flags&1048576)!==0&&ky(o,lc,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Oo(i,o),i=o.pendingProps;var b=ic(o,Dn.current);ll(o,u),b=_d(null,o,m,i,b,u);var w=ip();return o.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,da(m)?(w=!0,hu(o)):w=!1,o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,bd(o),b.updater=Nu,o.stateNode=b,b._reactInternals=o,Ao(o,m,i,u),o=bp(null,o,m,!0,w,u)):(o.tag=0,tr&&w&&No(o),xt(null,o,b,u),o=o.child),o;case 16:m=o.elementType;e:{switch(Oo(i,o),i=o.pendingProps,b=m._init,m=b(m._payload),o.type=m,b=o.tag=Hb(m),i=as(m,i),b){case 0:o=Nh(null,o,m,i,u);break e;case 1:o=is(null,o,m,i,u);break e;case 11:o=Rd(null,o,m,i,u);break e;case 14:o=Id(null,o,m,as(m.type,i),u);break e}throw Error(r(306,m,""))}return o;case 0:return m=o.type,b=o.pendingProps,b=o.elementType===m?b:as(m,b),Nh(i,o,m,b,u);case 1:return m=o.type,b=o.pendingProps,b=o.elementType===m?b:as(m,b),is(i,o,m,b,u);case 3:e:{if(Md(o),i===null)throw Error(r(387));m=o.pendingProps,w=o.memoizedState,b=w.element,oh(i,o),lh(o,m,null,u);var A=o.memoizedState;if(m=A.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){b=Oi(Error(r(423)),o),o=xp(i,o,m,u,b);break e}else if(m!==b){b=Oi(Error(r(424)),o),o=xp(i,o,m,u,b);break e}else for(Jr=xo(o.stateNode.containerInfo.firstChild),pa=o,tr=!0,Ci=null,u=sh(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(dc(),m===b){o=ss(i,o,u);break e}xt(i,o,m,u)}o=o.child}return o;case 5:return tp(o),i===null&&Yf(o),m=o.type,b=o.pendingProps,w=i!==null?i.memoizedProps:null,A=b.children,Uf(m,b)?A=null:w!==null&&Uf(m,w)&&(o.flags|=32),Sh(i,o),xt(i,o,A,u),o.child;case 6:return i===null&&Yf(o),null;case 13:return Sp(i,o,u);case 4:return wd(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=sl(o,null,m,u):xt(i,o,m,u),o.child;case 11:return m=o.type,b=o.pendingProps,b=o.elementType===m?b:as(m,b),Rd(i,o,m,b,u);case 7:return xt(i,o,o.pendingProps,u),o.child;case 8:return xt(i,o,o.pendingProps.children,u),o.child;case 12:return xt(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(m=o.type._context,b=o.pendingProps,w=o.memoizedProps,A=b.value,sr(yu,m._currentValue),m._currentValue=A,w!==null)if(Dr(w.value,A)){if(w.children===b.children&&!Ln.current){o=ss(i,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var L=w.dependencies;if(L!==null){A=w.child;for(var F=L.firstContext;F!==null;){if(F.context===m){if(w.tag===1){F=ns(-1,u&-u),F.tag=2;var U=w.updateQueue;if(U!==null){U=U.shared;var W=U.pending;W===null?F.next=F:(F.next=W.next,W.next=F),U.pending=F}}w.lanes|=u,F=w.alternate,F!==null&&(F.lanes|=u),jo(w.return,u,o),L.lanes|=u;break}F=F.next}}else if(w.tag===10)A=w.type===o.type?null:w.child;else if(w.tag===18){if(A=w.return,A===null)throw Error(r(341));A.lanes|=u,L=A.alternate,L!==null&&(L.lanes|=u),jo(A,u,o),A=w.sibling}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===o){A=null;break}if(w=A.sibling,w!==null){w.return=A.return,A=w;break}A=A.return}w=A}xt(i,o,b.children,u),o=o.child}return o;case 9:return b=o.type,m=o.pendingProps.children,ll(o,u),b=Pn(b),m=m(b),o.flags|=1,xt(i,o,m,u),o.child;case 14:return m=o.type,b=as(m,o.pendingProps),b=as(m.type,b),Id(i,o,m,b,u);case 15:return Eo(i,o,o.type,o.pendingProps,u);case 17:return m=o.type,b=o.pendingProps,b=o.elementType===m?b:as(m,b),Oo(i,o),o.tag=1,da(m)?(i=!0,hu(o)):i=!1,ll(o,u),gp(o,m,b),Ao(o,m,b,u),bp(null,o,m,!0,i,u);case 19:return ko(i,o,u);case 22:return wh(i,o,u)}throw Error(r(156,o.tag))};function Wy(i,o){return me(i,o)}function Wb(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(i,o,u,m){return new Wb(i,o,u,m)}function $h(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hb(i){if(typeof i=="function")return $h(i)?1:0;if(i!=null){if(i=i.$$typeof,i===oe)return 11;if(i===K)return 14}return 2}function vl(i,o){var u=i.alternate;return u===null?(u=Ii(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Op(i,o,u,m,b,w){var A=2;if(m=i,typeof i=="function")$h(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case D:return bl(u.children,b,w,o);case B:A=8,b|=8;break;case G:return i=Ii(12,u,o,b|2),i.elementType=G,i.lanes=w,i;case se:return i=Ii(13,u,o,b),i.elementType=se,i.lanes=w,i;case ie:return i=Ii(19,u,o,b),i.elementType=ie,i.lanes=w,i;case ee:return Tp(u,b,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case X:A=10;break e;case Y:A=9;break e;case oe:A=11;break e;case K:A=14;break e;case ne:A=16,m=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return o=Ii(A,u,o,b),o.elementType=i,o.type=m,o.lanes=w,o}function bl(i,o,u,m){return i=Ii(7,i,m,o),i.lanes=u,i}function Tp(i,o,u,m){return i=Ii(22,i,m,o),i.elementType=ee,i.lanes=u,i.stateNode={isHidden:!1},i}function Gd(i,o,u){return i=Ii(6,i,null,o),i.lanes=u,i}function Rp(i,o,u){return o=Ii(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Vb(i,o,u,m,b){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iu(0),this.expirationTimes=iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.identifierPrefix=m,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Fh(i,o,u,m,b,w,A,L,F){return i=new Vb(i,o,u,L,F),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Ii(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},bd(w),i}function Gb(i,o,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:m==null?null:""+m,children:i,containerInfo:o,implementation:u}}function Hy(i){if(!i)return Cn;i=i._reactInternals;e:{if(rn(i)!==i||i.tag!==1)throw Error(r(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(da(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(i.tag===1){var u=i.type;if(da(u))return th(i,u,o)}return o}function Ru(i,o,u,m,b,w,A,L,F){return i=Fh(u,m,!0,i,b,w,A,L,F),i.context=Hy(null),u=i.current,m=Qn(),b=Vs(u),w=ns(m,b),w.callback=o??null,$s(u,w,b),i.current.lanes=b,gi(i,b,m),Jn(i,m),i}function xl(i,o,u,m){var b=o.current,w=Qn(),A=Vs(b);return u=Hy(u),o.context===null?o.context=u:o.pendingContext=u,o=ns(w,A),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=$s(b,o,A),i!==null&&(Ri(i,b,A,w),xd(i,b,A)),A}function Tc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Rc(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Bh(i,o){Rc(i,o),(i=i.alternate)&&Rc(i,o)}function To(){return null}var Vy=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ip(i){this._internalRoot=i}Mp.prototype.render=Ip.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));xl(i,o,null,null)},Mp.prototype.unmount=Ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Pc(function(){xl(null,i,null,null)}),o[Ts]=null}};function Mp(i){this._internalRoot=i}Mp.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ss();i={blockedOn:null,target:i,priority:o};for(var u=0;u<wn.length&&o!==0&&o<wn[u].priority;u++);wn.splice(u,0,i),u===0&&Xl(i)}};function Iu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Dp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Gy(){}function Kb(i,o,u,m,b){if(b){if(typeof m=="function"){var w=m;m=function(){var U=Tc(A);w.call(U)}}var A=Ru(o,m,i,0,null,!1,!1,"",Gy);return i._reactRootContainer=A,i[Ts]=A.current,ud(i.nodeType===8?i.parentNode:i),Pc(),A}for(;b=i.lastChild;)i.removeChild(b);if(typeof m=="function"){var L=m;m=function(){var U=Tc(F);L.call(U)}}var F=Fh(i,0,!1,null,null,!1,!1,"",Gy);return i._reactRootContainer=F,i[Ts]=F.current,ud(i.nodeType===8?i.parentNode:i),Pc(function(){xl(o,F,u,m)}),F}function v(i,o,u,m,b){var w=u._reactRootContainer;if(w){var A=w;if(typeof b=="function"){var L=b;b=function(){var F=Tc(A);L.call(F)}}xl(o,A,i,b)}else A=Kb(u,o,i,b,m);return Tc(A)}oo=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=hi(o.pendingLanes);u!==0&&(Yo(o,u|1),Jn(o,et()),(Tt&6)===0&&(jc=et()+500,Is()))}break;case 13:Pc(function(){var m=Ls(i,1);if(m!==null){var b=Qn();Ri(m,i,1,b)}}),Bh(i,1)}},Vi=function(i){if(i.tag===13){var o=Ls(i,134217728);if(o!==null){var u=Qn();Ri(o,i,134217728,u)}Bh(i,134217728)}},Gi=function(i){if(i.tag===13){var o=Vs(i),u=Ls(i,o);if(u!==null){var m=Qn();Ri(u,i,o,m)}Bh(i,o)}},Ss=function(){return Rt},Yl=function(i,o){var u=Rt;try{return Rt=i,o()}finally{Rt=u}},tn=function(i,o,u){switch(o){case"input":if(Ee(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var b=pd(m);if(!b)throw Error(r(90));xe(m),Ee(m,b)}}}break;case"textarea":Vr(i,u);break;case"select":o=u.value,o!=null&&mt(i,!!u.multiple,o,!1)}},Ut=Th,zt=Pc;var _={usingClientEntryPoint:!1,Events:[Gf,mu,pd,ct,qt,Th]},C={findFiberByHostInstance:nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E={bundleType:C.bundleType,version:C.version,rendererPackageName:C.rendererPackageName,rendererConfig:C.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=nu(i),i===null?null:i.stateNode},findFiberByHostInstance:C.findFiberByHostInstance||To,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$.isDisabled&&$.supportsFiber)try{Xr=$.inject(E),Mr=$}catch{}}return Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,Mi.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iu(o))throw Error(r(200));return Gb(i,o,null,u)},Mi.createRoot=function(i,o){if(!Iu(i))throw Error(r(299));var u=!1,m="",b=Vy;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),o=Fh(i,1,!1,null,null,u,!1,m,b),i[Ts]=o.current,ud(i.nodeType===8?i.parentNode:i),new Ip(o)},Mi.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=nu(o),i=i===null?null:i.stateNode,i},Mi.flushSync=function(i){return Pc(i)},Mi.hydrate=function(i,o,u){if(!Dp(o))throw Error(r(200));return v(null,i,o,!0,u)},Mi.hydrateRoot=function(i,o,u){if(!Iu(i))throw Error(r(405));var m=u!=null&&u.hydratedSources||null,b=!1,w="",A=Vy;if(u!=null&&(u.unstable_strictMode===!0&&(b=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),o=Ru(o,null,i,1,u??null,b,!1,w,A),i[Ts]=o.current,ud(i),m)for(i=0;i<m.length;i++)u=m[i],b=u._getVersion,b=b(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,b]:o.mutableSourceEagerHydrationData.push(u,b);return new Mp(o)},Mi.render=function(i,o,u){if(!Dp(o))throw Error(r(200));return v(null,i,o,!1,u)},Mi.unmountComponentAtNode=function(i){if(!Dp(i))throw Error(r(40));return i._reactRootContainer?(Pc(function(){v(null,null,i,!1,function(){i._reactRootContainer=null,i[Ts]=null})}),!0):!1},Mi.unstable_batchedUpdates=Th,Mi.unstable_renderSubtreeIntoContainer=function(i,o,u,m){if(!Dp(u))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return v(i,o,u,!1,m)},Mi.version="18.3.1-next-f1338f8080-20240426",Mi}var EP;function ZI(){if(EP)return ex.exports;EP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ex.exports=n3(),ex.exports}var kP;function a3(){if(kP)return Xy;kP=1;var e=ZI();return Xy.createRoot=e.createRoot,Xy.hydrateRoot=e.hydrateRoot,Xy}var i3=a3(),y=A_();const te=pr(y),eM=Q$({__proto__:null,default:te},[y]);var vg=ZI();const tM=pr(vg);function s3(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const o3=e=>{switch(e){case"success":return u3;case"info":return f3;case"warning":return d3;case"error":return p3;default:return null}},l3=Array(12).fill(0),c3=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},l3.map((r,n)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),u3=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),d3=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),f3=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),p3=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),m3=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),h3=()=>{const[e,t]=te.useState(document.hidden);return te.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let FN=1;class g3{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,s=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:FN++,c=this.toasts.find(f=>f.id===s),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),c?this.toasts=this.toasts.map(f=>f.id===s?(this.publish({...f,...t,id:s,title:n}),{...f,...t,id:s,dismissible:d,title:n}):f):this.addToast({title:n,...a,dismissible:d,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,c;const d=a.then(async p=>{if(c=["resolve",p],te.isValidElement(p))s=!1,this.create({id:n,type:"default",message:p});else if(v3(p)&&!p.ok){s=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,P=typeof h=="object"&&!te.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:x,...P})}else if(p instanceof Error){s=!1;const h=typeof r.error=="function"?await r.error(p):r.error,x=typeof r.description=="function"?await r.description(p):r.description,P=typeof h=="object"&&!te.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:x,...P})}else if(r.success!==void 0){s=!1;const h=typeof r.success=="function"?await r.success(p):r.success,x=typeof r.description=="function"?await r.description(p):r.description,P=typeof h=="object"&&!te.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:x,...P})}}).catch(async p=>{if(c=["reject",p],r.error!==void 0){s=!1;const g=typeof r.error=="function"?await r.error(p):r.error,h=typeof r.description=="function"?await r.description(p):r.description,S=typeof g=="object"&&!te.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:h,...S})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),f=()=>new Promise((p,g)=>d.then(()=>c[0]==="reject"?g(c[1]):p(c[1])).catch(g));return typeof n!="string"&&typeof n!="number"?{unwrap:f}:Object.assign(n,{unwrap:f})},this.custom=(t,r)=>{const n=r?.id||FN++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const $i=new g3,y3=(e,t)=>{const r=t?.id||FN++;return $i.addToast({title:e,...t,id:r}),r},v3=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",b3=y3,x3=()=>$i.toasts,w3=()=>$i.getActiveToasts(),He=Object.assign(b3,{success:$i.success,info:$i.info,warning:$i.warning,error:$i.error,custom:$i.custom,message:$i.message,promise:$i.promise,dismiss:$i.dismiss,loading:$i.loading},{getHistory:x3,getToasts:w3});s3("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qy(e){return e.label!==void 0}const S3=3,N3="24px",j3="16px",OP=4e3,_3=356,C3=14,P3=45,A3=200;function jl(...e){return e.filter(Boolean).join(" ")}function E3(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const k3=e=>{var t,r,n,a,s,c,d,f,p;const{invert:g,toast:h,unstyled:x,interacting:S,setHeights:P,visibleToasts:j,heights:N,index:k,toasts:T,expanded:R,removeToast:M,defaultRichColors:O,closeButton:I,style:D,cancelButtonStyle:B,actionButtonStyle:G,className:X="",descriptionClassName:Y="",duration:oe,position:se,gap:ie,expandByDefault:K,classNames:ne,icons:ee,closeButtonAriaLabel:z="Close toast"}=e,[fe,pe]=te.useState(null),[q,J]=te.useState(null),[de,be]=te.useState(!1),[Ae,Ie]=te.useState(!1),[Fe,ke]=te.useState(!1),[Se,De]=te.useState(!1),[ze,xe]=te.useState(!1),[Ve,dt]=te.useState(0),[it,pt]=te.useState(0),Ee=te.useRef(h.duration||oe||OP),Le=te.useRef(null),Ke=te.useRef(null),Ye=k===0,mt=k+1<=j,st=h.type,ar=h.dismissible!==!1,Vr=h.className||"",mr=h.descriptionClassName||"",Vt=te.useMemo(()=>N.findIndex(ct=>ct.toastId===h.id)||0,[N,h.id]),Mt=te.useMemo(()=>{var ct;return(ct=h.closeButton)!=null?ct:I},[h.closeButton,I]),fi=te.useMemo(()=>h.duration||oe||OP,[h.duration,oe]),kr=te.useRef(0),Ct=te.useRef(0),en=te.useRef(0),Gt=te.useRef(null),[Gr,Ur]=se.split("-"),xa=te.useMemo(()=>N.reduce((ct,qt,Ut)=>Ut>=Vt?ct:ct+qt.height,0),[N,Vt]),lr=h3(),Vn=h.invert||g,Kt=st==="loading";Ct.current=te.useMemo(()=>Vt*ie+xa,[Vt,xa]),te.useEffect(()=>{Ee.current=fi},[fi]),te.useEffect(()=>{be(!0)},[]),te.useEffect(()=>{const ct=Ke.current;if(ct){const qt=ct.getBoundingClientRect().height;return pt(qt),P(Ut=>[{toastId:h.id,height:qt,position:h.position},...Ut]),()=>P(Ut=>Ut.filter(zt=>zt.toastId!==h.id))}},[P,h.id]),te.useLayoutEffect(()=>{if(!de)return;const ct=Ke.current,qt=ct.style.height;ct.style.height="auto";const Ut=ct.getBoundingClientRect().height;ct.style.height=qt,pt(Ut),P(zt=>zt.find(Ot=>Ot.toastId===h.id)?zt.map(Ot=>Ot.toastId===h.id?{...Ot,height:Ut}:Ot):[{toastId:h.id,height:Ut,position:h.position},...zt])},[de,h.title,h.description,P,h.id,h.jsx,h.action,h.cancel]);const Or=te.useCallback(()=>{Ie(!0),dt(Ct.current),P(ct=>ct.filter(qt=>qt.toastId!==h.id)),setTimeout(()=>{M(h)},A3)},[h,M,P,Ct]);te.useEffect(()=>{if(h.promise&&st==="loading"||h.duration===1/0||h.type==="loading")return;let ct;return R||S||lr?(()=>{if(en.current<kr.current){const zt=new Date().getTime()-kr.current;Ee.current=Ee.current-zt}en.current=new Date().getTime()})():(()=>{Ee.current!==1/0&&(kr.current=new Date().getTime(),ct=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Or()},Ee.current))})(),()=>clearTimeout(ct)},[R,S,h,st,lr,Or]),te.useEffect(()=>{h.delete&&(Or(),h.onDismiss==null||h.onDismiss.call(h,h))},[Or,h.delete]);function tn(){var ct;if(ee?.loading){var qt;return te.createElement("div",{className:jl(ne?.loader,h==null||(qt=h.classNames)==null?void 0:qt.loader,"sonner-loader"),"data-visible":st==="loading"},ee.loading)}return te.createElement(c3,{className:jl(ne?.loader,h==null||(ct=h.classNames)==null?void 0:ct.loader),visible:st==="loading"})}const Wa=h.icon||ee?.[st]||o3(st);var dn,wa;return te.createElement("li",{tabIndex:0,ref:Ke,className:jl(X,Vr,ne?.toast,h==null||(t=h.classNames)==null?void 0:t.toast,ne?.default,ne?.[st],h==null||(r=h.classNames)==null?void 0:r[st]),"data-sonner-toast":"","data-rich-colors":(dn=h.richColors)!=null?dn:O,"data-styled":!(h.jsx||h.unstyled||x),"data-mounted":de,"data-promise":!!h.promise,"data-swiped":ze,"data-removed":Ae,"data-visible":mt,"data-y-position":Gr,"data-x-position":Ur,"data-index":k,"data-front":Ye,"data-swiping":Fe,"data-dismissible":ar,"data-type":st,"data-invert":Vn,"data-swipe-out":Se,"data-swipe-direction":q,"data-expanded":!!(R||K&&de),"data-testid":h.testId,style:{"--index":k,"--toasts-before":k,"--z-index":T.length-k,"--offset":`${Ae?Ve:Ct.current}px`,"--initial-height":K?"auto":`${it}px`,...D,...h.style},onDragEnd:()=>{ke(!1),pe(null),Gt.current=null},onPointerDown:ct=>{ct.button!==2&&(Kt||!ar||(Le.current=new Date,dt(Ct.current),ct.target.setPointerCapture(ct.pointerId),ct.target.tagName!=="BUTTON"&&(ke(!0),Gt.current={x:ct.clientX,y:ct.clientY})))},onPointerUp:()=>{var ct,qt,Ut;if(Se||!ar)return;Gt.current=null;const zt=Number(((ct=Ke.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$t=Number(((qt=Ke.current)==null?void 0:qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ot=new Date().getTime()-((Ut=Le.current)==null?void 0:Ut.getTime()),Yt=fe==="x"?zt:$t,Tr=Math.abs(Yt)/Ot;if(Math.abs(Yt)>=P3||Tr>.11){dt(Ct.current),h.onDismiss==null||h.onDismiss.call(h,h),J(fe==="x"?zt>0?"right":"left":$t>0?"down":"up"),Or(),De(!0);return}else{var xr,Rr;(xr=Ke.current)==null||xr.style.setProperty("--swipe-amount-x","0px"),(Rr=Ke.current)==null||Rr.style.setProperty("--swipe-amount-y","0px")}xe(!1),ke(!1),pe(null)},onPointerMove:ct=>{var qt,Ut,zt;if(!Gt.current||!ar||((qt=window.getSelection())==null?void 0:qt.toString().length)>0)return;const Ot=ct.clientY-Gt.current.y,Yt=ct.clientX-Gt.current.x;var Tr;const xr=(Tr=e.swipeDirections)!=null?Tr:E3(se);!fe&&(Math.abs(Yt)>1||Math.abs(Ot)>1)&&pe(Math.abs(Yt)>Math.abs(Ot)?"x":"y");let Rr={x:0,y:0};const Kr=cr=>1/(1.5+Math.abs(cr)/20);if(fe==="y"){if(xr.includes("top")||xr.includes("bottom"))if(xr.includes("top")&&Ot<0||xr.includes("bottom")&&Ot>0)Rr.y=Ot;else{const cr=Ot*Kr(Ot);Rr.y=Math.abs(cr)<Math.abs(Ot)?cr:Ot}}else if(fe==="x"&&(xr.includes("left")||xr.includes("right")))if(xr.includes("left")&&Yt<0||xr.includes("right")&&Yt>0)Rr.x=Yt;else{const cr=Yt*Kr(Yt);Rr.x=Math.abs(cr)<Math.abs(Yt)?cr:Yt}(Math.abs(Rr.x)>0||Math.abs(Rr.y)>0)&&xe(!0),(Ut=Ke.current)==null||Ut.style.setProperty("--swipe-amount-x",`${Rr.x}px`),(zt=Ke.current)==null||zt.style.setProperty("--swipe-amount-y",`${Rr.y}px`)}},Mt&&!h.jsx&&st!=="loading"?te.createElement("button",{"aria-label":z,"data-disabled":Kt,"data-close-button":!0,onClick:Kt||!ar?()=>{}:()=>{Or(),h.onDismiss==null||h.onDismiss.call(h,h)},className:jl(ne?.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(wa=ee?.close)!=null?wa:m3):null,(st||h.icon||h.promise)&&h.icon!==null&&(ee?.[st]!==null||h.icon)?te.createElement("div",{"data-icon":"",className:jl(ne?.icon,h==null||(a=h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||tn():null,h.type!=="loading"?Wa:null):null,te.createElement("div",{"data-content":"",className:jl(ne?.content,h==null||(s=h.classNames)==null?void 0:s.content)},te.createElement("div",{"data-title":"",className:jl(ne?.title,h==null||(c=h.classNames)==null?void 0:c.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?te.createElement("div",{"data-description":"",className:jl(Y,mr,ne?.description,h==null||(d=h.classNames)==null?void 0:d.description)},typeof h.description=="function"?h.description():h.description):null),te.isValidElement(h.cancel)?h.cancel:h.cancel&&Qy(h.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||B,onClick:ct=>{Qy(h.cancel)&&ar&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,ct),Or())},className:jl(ne?.cancelButton,h==null||(f=h.classNames)==null?void 0:f.cancelButton)},h.cancel.label):null,te.isValidElement(h.action)?h.action:h.action&&Qy(h.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||G,onClick:ct=>{Qy(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,ct),!ct.defaultPrevented&&Or())},className:jl(ne?.actionButton,h==null||(p=h.classNames)==null?void 0:p.actionButton)},h.action.label):null)};function TP(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function O3(e,t){const r={};return[e,t].forEach((n,a)=>{const s=a===1,c=s?"--mobile-offset":"--offset",d=s?j3:N3;function f(p){["top","right","bottom","left"].forEach(g=>{r[`${c}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(p=>{n[p]===void 0?r[`${c}-${p}`]=d:r[`${c}-${p}`]=typeof n[p]=="number"?`${n[p]}px`:n[p]}):f(d)}),r}const T3=te.forwardRef(function(t,r){const{id:n,invert:a,position:s="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:f,className:p,offset:g,mobileOffset:h,theme:x="light",richColors:S,duration:P,style:j,visibleToasts:N=S3,toastOptions:k,dir:T=TP(),gap:R=C3,icons:M,containerAriaLabel:O="Notifications"}=t,[I,D]=te.useState([]),B=te.useMemo(()=>n?I.filter(de=>de.toasterId===n):I.filter(de=>!de.toasterId),[I,n]),G=te.useMemo(()=>Array.from(new Set([s].concat(B.filter(de=>de.position).map(de=>de.position)))),[B,s]),[X,Y]=te.useState([]),[oe,se]=te.useState(!1),[ie,K]=te.useState(!1),[ne,ee]=te.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=te.useRef(null),fe=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),pe=te.useRef(null),q=te.useRef(!1),J=te.useCallback(de=>{D(be=>{var Ae;return(Ae=be.find(Ie=>Ie.id===de.id))!=null&&Ae.delete||$i.dismiss(de.id),be.filter(({id:Ie})=>Ie!==de.id)})},[]);return te.useEffect(()=>$i.subscribe(de=>{if(de.dismiss){requestAnimationFrame(()=>{D(be=>be.map(Ae=>Ae.id===de.id?{...Ae,delete:!0}:Ae))});return}setTimeout(()=>{tM.flushSync(()=>{D(be=>{const Ae=be.findIndex(Ie=>Ie.id===de.id);return Ae!==-1?[...be.slice(0,Ae),{...be[Ae],...de},...be.slice(Ae+1)]:[de,...be]})})})}),[I]),te.useEffect(()=>{if(x!=="system"){ee(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;const de=window.matchMedia("(prefers-color-scheme: dark)");try{de.addEventListener("change",({matches:be})=>{ee(be?"dark":"light")})}catch{de.addListener(({matches:Ae})=>{try{ee(Ae?"dark":"light")}catch(Ie){console.error(Ie)}})}},[x]),te.useEffect(()=>{I.length<=1&&se(!1)},[I]),te.useEffect(()=>{const de=be=>{var Ae;if(c.every(ke=>be[ke]||be.code===ke)){var Fe;se(!0),(Fe=z.current)==null||Fe.focus()}be.code==="Escape"&&(document.activeElement===z.current||(Ae=z.current)!=null&&Ae.contains(document.activeElement))&&se(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[c]),te.useEffect(()=>{if(z.current)return()=>{pe.current&&(pe.current.focus({preventScroll:!0}),pe.current=null,q.current=!1)}},[z.current]),te.createElement("section",{ref:r,"aria-label":`${O} ${fe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},G.map((de,be)=>{var Ae;const[Ie,Fe]=de.split("-");return B.length?te.createElement("ol",{key:de,dir:T==="auto"?TP():T,tabIndex:-1,ref:z,className:p,"data-sonner-toaster":!0,"data-sonner-theme":ne,"data-y-position":Ie,"data-x-position":Fe,style:{"--front-toast-height":`${((Ae=X[0])==null?void 0:Ae.height)||0}px`,"--width":`${_3}px`,"--gap":`${R}px`,...j,...O3(g,h)},onBlur:ke=>{q.current&&!ke.currentTarget.contains(ke.relatedTarget)&&(q.current=!1,pe.current&&(pe.current.focus({preventScroll:!0}),pe.current=null))},onFocus:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||q.current||(q.current=!0,pe.current=ke.relatedTarget)},onMouseEnter:()=>se(!0),onMouseMove:()=>se(!0),onMouseLeave:()=>{ie||se(!1)},onDragEnd:()=>se(!1),onPointerDown:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},B.filter(ke=>!ke.position&&be===0||ke.position===de).map((ke,Se)=>{var De,ze;return te.createElement(k3,{key:ke.id,icons:M,index:Se,toast:ke,defaultRichColors:S,duration:(De=k?.duration)!=null?De:P,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:a,visibleToasts:N,closeButton:(ze=k?.closeButton)!=null?ze:f,interacting:ie,position:de,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:J,toasts:B.filter(xe=>xe.position==ke.position),heights:X.filter(xe=>xe.position==ke.position),setHeights:Y,expandByDefault:d,gap:R,expanded:oe,swipeDirections:t.swipeDirections})})):null}))}),BN=e=>{const t=Number(e);return Number.isFinite(t)?Math.round((t+Number.EPSILON)*100)/100:0},R3=(e,t)=>{const r=t?.originalPrice??e.originalPrice;if(typeof r!="number")return null;const n=BN(r);return!Number.isFinite(n)||n<=0?null:n},qN=(e,t,r,n)=>{const a=n?.pricingMode??"wholesale",s=(()=>{if(a==="retail"){const g=R3(e,t);if(g!=null)return g}return BN(t?.price??e.price)})();if(a==="retail")return s;const c=e.bulkPricingTiers??[];if(!Array.isArray(c)||c.length===0)return s;const d=[...c].sort((g,h)=>(Number(h.minQuantity)||0)-(Number(g.minQuantity)||0)).find(g=>r>=(Number(g.minQuantity)||0));if(!d)return s;const f=Number(d.discountPercentage)||0,p=s*(1-f/100);return BN(p)},I3="modulepreload",M3=function(e){return"/"+e},RP={},nx=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");a=c(r.map(p=>{if(p=M3(p),p in RP)return;RP[p]=!0;const g=p.endsWith(".css"),h=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${h}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":I3,g||(x.as="script"),x.crossOrigin="",x.href=p,f&&x.setAttribute("nonce",f),document.head.appendChild(x),g)return new Promise((S,P)=>{x.addEventListener("load",S),x.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})};function IP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rM(...e){return t=>{let r=!1;const n=e.map(a=>{const s=IP(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():IP(e[a],null)}}}}function bs(...e){return y.useCallback(rM(...e),e)}function U0(e){const t=D3(e),r=y.forwardRef((n,a)=>{const{children:s,...c}=n,d=y.Children.toArray(s),f=d.find($3);if(f){const p=f.props.children,g=d.map(h=>h===f?y.Children.count(p)>1?y.Children.only(null):y.isValidElement(p)?p.props.children:null:h);return l.jsx(t,{...c,ref:a,children:y.isValidElement(p)?y.cloneElement(p,void 0,g):null})}return l.jsx(t,{...c,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var nM=U0("Slot");function D3(e){const t=y.forwardRef((r,n)=>{const{children:a,...s}=r;if(y.isValidElement(a)){const c=B3(a),d=F3(s,a.props);return a.type!==y.Fragment&&(d.ref=n?rM(n,c):c),y.cloneElement(a,d)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var L3=Symbol("radix.slottable");function $3(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===L3}function F3(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...d)=>{const f=s(...d);return a(...d),f}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function B3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function aM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=aM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ht(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=aM(e))&&(n&&(n+=" "),n+=t);return n}const MP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,DP=ht,iM=(e,t)=>r=>{var n;if(t?.variants==null)return DP(e,r?.class,r?.className);const{variants:a,defaultVariants:s}=t,c=Object.keys(a).map(p=>{const g=r?.[p],h=s?.[p];if(g===null)return null;const x=MP(g)||MP(h);return a[p][x]}),d=r&&Object.entries(r).reduce((p,g)=>{let[h,x]=g;return x===void 0||(p[h]=x),p},{}),f=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((p,g)=>{let{class:h,className:x,...S}=g;return Object.entries(S).every(P=>{let[j,N]=P;return Array.isArray(N)?N.includes({...s,...d}[j]):{...s,...d}[j]===N})?[...p,h,x]:p},[]);return DP(e,c,f,r?.class,r?.className)},E_="-",q3=e=>{const t=z3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const d=c.split(E_);return d[0]===""&&d.length!==1&&d.shift(),sM(d,t)||U3(c)},getConflictingClassGroupIds:(c,d)=>{const f=r[c]||[];return d&&n[c]?[...f,...n[c]]:f}}},sM=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?sM(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(E_);return t.validators.find(({validator:c})=>c(s))?.classGroupId},LP=/^\[(.+)\]$/,U3=e=>{if(LP.test(e)){const t=LP.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},z3=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)UN(r[a],n,a,t);return n},UN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:$P(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(W3(a)){UN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,c])=>{UN(c,$P(t,s),r,n)})})},$P=(e,t)=>{let r=e;return t.split(E_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},W3=e=>e.isThemeGetter,H3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,c)=>{r.set(s,c),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let c=r.get(s);if(c!==void 0)return c;if((c=n.get(s))!==void 0)return a(s,c),c},set(s,c){r.has(s)?r.set(s,c):a(s,c)}}},zN="!",WN=":",V3=WN.length,G3=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const s=[];let c=0,d=0,f=0,p;for(let P=0;P<a.length;P++){let j=a[P];if(c===0&&d===0){if(j===WN){s.push(a.slice(f,P)),f=P+V3;continue}if(j==="/"){p=P;continue}}j==="["?c++:j==="]"?c--:j==="("?d++:j===")"&&d--}const g=s.length===0?a:a.substring(f),h=K3(g),x=h!==g,S=p&&p>f?p-f:void 0;return{modifiers:s,hasImportantModifier:x,baseClassName:h,maybePostfixModifierPosition:S}};if(t){const a=t+WN,s=n;n=c=>c.startsWith(a)?s(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=s=>r({className:s,parseClassName:a})}return n},K3=e=>e.endsWith(zN)?e.substring(0,e.length-1):e.startsWith(zN)?e.substring(1):e,Y3=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let s=[];return n.forEach(c=>{c[0]==="["||t[c]?(a.push(...s.sort(),c),s=[]):s.push(c)}),a.push(...s.sort()),a}},X3=e=>({cache:H3(e.cacheSize),parseClassName:G3(e),sortModifiers:Y3(e),...q3(e)}),Q3=/\s+/,J3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=t,c=[],d=e.trim().split(Q3);let f="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{isExternal:h,modifiers:x,hasImportantModifier:S,baseClassName:P,maybePostfixModifierPosition:j}=r(g);if(h){f=g+(f.length>0?" "+f:f);continue}let N=!!j,k=n(N?P.substring(0,j):P);if(!k){if(!N){f=g+(f.length>0?" "+f:f);continue}if(k=n(P),!k){f=g+(f.length>0?" "+f:f);continue}N=!1}const T=s(x).join(":"),R=S?T+zN:T,M=R+k;if(c.includes(M))continue;c.push(M);const O=a(k,N);for(let I=0;I<O.length;++I){const D=O[I];c.push(R+D)}f=g+(f.length>0?" "+f:f)}return f};function Z3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=oM(t))&&(n&&(n+=" "),n+=r);return n}const oM=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=oM(e[n]))&&(r&&(r+=" "),r+=t);return r};function e9(e,...t){let r,n,a,s=c;function c(f){const p=t.reduce((g,h)=>h(g),e());return r=X3(p),n=r.cache.get,a=r.cache.set,s=d,d(f)}function d(f){const p=n(f);if(p)return p;const g=J3(f,r);return a(f,g),g}return function(){return s(Z3.apply(null,arguments))}}const Fn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},lM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,cM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,t9=/^\d+\/\d+$/,r9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,a9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,i9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$p=e=>t9.test(e),Pt=e=>!!e&&!Number.isNaN(Number(e)),Mu=e=>!!e&&Number.isInteger(Number(e)),ax=e=>e.endsWith("%")&&Pt(e.slice(0,-1)),Mc=e=>r9.test(e),o9=()=>!0,l9=e=>n9.test(e)&&!a9.test(e),uM=()=>!1,c9=e=>i9.test(e),u9=e=>s9.test(e),d9=e=>!nt(e)&&!at(e),f9=e=>Rm(e,pM,uM),nt=e=>lM.test(e),Yd=e=>Rm(e,mM,l9),ix=e=>Rm(e,y9,Pt),FP=e=>Rm(e,dM,uM),p9=e=>Rm(e,fM,u9),Jy=e=>Rm(e,hM,c9),at=e=>cM.test(e),zh=e=>Im(e,mM),m9=e=>Im(e,v9),BP=e=>Im(e,dM),h9=e=>Im(e,pM),g9=e=>Im(e,fM),Zy=e=>Im(e,hM,!0),Rm=(e,t,r)=>{const n=lM.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Im=(e,t,r=!1)=>{const n=cM.exec(e);return n?n[1]?t(n[1]):r:!1},dM=e=>e==="position"||e==="percentage",fM=e=>e==="image"||e==="url",pM=e=>e==="length"||e==="size"||e==="bg-size",mM=e=>e==="length",y9=e=>e==="number",v9=e=>e==="family-name",hM=e=>e==="shadow",b9=()=>{const e=Fn("color"),t=Fn("font"),r=Fn("text"),n=Fn("font-weight"),a=Fn("tracking"),s=Fn("leading"),c=Fn("breakpoint"),d=Fn("container"),f=Fn("spacing"),p=Fn("radius"),g=Fn("shadow"),h=Fn("inset-shadow"),x=Fn("text-shadow"),S=Fn("drop-shadow"),P=Fn("blur"),j=Fn("perspective"),N=Fn("aspect"),k=Fn("ease"),T=Fn("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...M(),at,nt],I=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],B=()=>[at,nt,f],G=()=>[$p,"full","auto",...B()],X=()=>[Mu,"none","subgrid",at,nt],Y=()=>["auto",{span:["full",Mu,at,nt]},Mu,at,nt],oe=()=>[Mu,"auto",at,nt],se=()=>["auto","min","max","fr",at,nt],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],ne=()=>["auto",...B()],ee=()=>[$p,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],z=()=>[e,at,nt],fe=()=>[...M(),BP,FP,{position:[at,nt]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",h9,f9,{size:[at,nt]}],J=()=>[ax,zh,Yd],de=()=>["","none","full",p,at,nt],be=()=>["",Pt,zh,Yd],Ae=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Fe=()=>[Pt,ax,BP,FP],ke=()=>["","none",P,at,nt],Se=()=>["none",Pt,at,nt],De=()=>["none",Pt,at,nt],ze=()=>[Pt,at,nt],xe=()=>[$p,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mc],breakpoint:[Mc],color:[o9],container:[Mc],"drop-shadow":[Mc],ease:["in","out","in-out"],font:[d9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mc],shadow:[Mc],spacing:["px",Pt],text:[Mc],"text-shadow":[Mc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$p,nt,at,N]}],container:["container"],columns:[{columns:[Pt,nt,at,d]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[Mu,"auto",at,nt]}],basis:[{basis:[$p,"full","auto",d,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,$p,"auto","initial","none",nt]}],grow:[{grow:["",Pt,at,nt]}],shrink:[{shrink:["",Pt,at,nt]}],order:[{order:[Mu,"first","last","none",at,nt]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:ne()}],mx:[{mx:ne()}],my:[{my:ne()}],ms:[{ms:ne()}],me:[{me:ne()}],mt:[{mt:ne()}],mr:[{mr:ne()}],mb:[{mb:ne()}],ml:[{ml:ne()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[d,"screen",...ee()]}],"min-w":[{"min-w":[d,"screen","none",...ee()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",r,zh,Yd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,at,ix]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ax,nt]}],"font-family":[{font:[m9,nt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,at,nt]}],"line-clamp":[{"line-clamp":[Pt,"none",at,ix]}],leading:[{leading:[s,...B()]}],"list-image":[{"list-image":["none",at,nt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",at,nt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",at,Yd]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Pt,"auto",at,nt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at,nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at,nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mu,at,nt],radial:["",at,nt],conic:[Mu,at,nt]},g9,p9]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:de()}],"rounded-s":[{"rounded-s":de()}],"rounded-e":[{"rounded-e":de()}],"rounded-t":[{"rounded-t":de()}],"rounded-r":[{"rounded-r":de()}],"rounded-b":[{"rounded-b":de()}],"rounded-l":[{"rounded-l":de()}],"rounded-ss":[{"rounded-ss":de()}],"rounded-se":[{"rounded-se":de()}],"rounded-ee":[{"rounded-ee":de()}],"rounded-es":[{"rounded-es":de()}],"rounded-tl":[{"rounded-tl":de()}],"rounded-tr":[{"rounded-tr":de()}],"rounded-br":[{"rounded-br":de()}],"rounded-bl":[{"rounded-bl":de()}],"border-w":[{border:be()}],"border-w-x":[{"border-x":be()}],"border-w-y":[{"border-y":be()}],"border-w-s":[{"border-s":be()}],"border-w-e":[{"border-e":be()}],"border-w-t":[{"border-t":be()}],"border-w-r":[{"border-r":be()}],"border-w-b":[{"border-b":be()}],"border-w-l":[{"border-l":be()}],"divide-x":[{"divide-x":be()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":be()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,at,nt]}],"outline-w":[{outline:["",Pt,zh,Yd]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",g,Zy,Jy]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",h,Zy,Jy]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Pt,Yd]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":be()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",x,Zy,Jy]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Pt,at,nt]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Fe()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":Fe()}],"mask-image-t-to-pos":[{"mask-t-to":Fe()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":Fe()}],"mask-image-r-to-pos":[{"mask-r-to":Fe()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":Fe()}],"mask-image-b-to-pos":[{"mask-b-to":Fe()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":Fe()}],"mask-image-l-to-pos":[{"mask-l-to":Fe()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":Fe()}],"mask-image-x-to-pos":[{"mask-x-to":Fe()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":Fe()}],"mask-image-y-to-pos":[{"mask-y-to":Fe()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[at,nt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Fe()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Fe()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",at,nt]}],filter:[{filter:["","none",at,nt]}],blur:[{blur:ke()}],brightness:[{brightness:[Pt,at,nt]}],contrast:[{contrast:[Pt,at,nt]}],"drop-shadow":[{"drop-shadow":["","none",S,Zy,Jy]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Pt,at,nt]}],"hue-rotate":[{"hue-rotate":[Pt,at,nt]}],invert:[{invert:["",Pt,at,nt]}],saturate:[{saturate:[Pt,at,nt]}],sepia:[{sepia:["",Pt,at,nt]}],"backdrop-filter":[{"backdrop-filter":["","none",at,nt]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,at,nt]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,at,nt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,at,nt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,at,nt]}],"backdrop-invert":[{"backdrop-invert":["",Pt,at,nt]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,at,nt]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,at,nt]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,at,nt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",at,nt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",at,nt]}],ease:[{ease:["linear","initial",k,at,nt]}],delay:[{delay:[Pt,at,nt]}],animate:[{animate:["none",T,at,nt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,at,nt]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[at,nt,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at,nt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at,nt]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Pt,zh,Yd,ix]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},x9=e9(b9);function zn(...e){return x9(ht(e))}const w9=iM("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive btn-hover-lighter",{variants:{variant:{default:"bg-primary text-primary-foreground",destructive:"bg-destructive text-white focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent/50 hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/40",secondary:"bg-secondary text-secondary-foreground",ghost:"hover:bg-accent/40 hover:text-accent-foreground dark:hover:bg-accent/40",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Ue=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const c=n?nM:"button";return l.jsx(c,{ref:s,"data-slot":"button",className:zn(w9({variant:t,size:r}),e),...a})});Ue.displayName="Button";const S9=iM("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),Bc=y.forwardRef(({className:e,variant:t,asChild:r=!1,...n},a)=>{const s=r?nM:"span";return l.jsx(s,{ref:a,"data-slot":"badge",className:zn(S9({variant:t}),e),...n})});Bc.displayName="Badge";function di(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function N9(e,t){const r=y.createContext(t),n=s=>{const{children:c,...d}=s,f=y.useMemo(()=>d,Object.values(d));return l.jsx(r.Provider,{value:f,children:c})};n.displayName=e+"Provider";function a(s){const c=y.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function z0(e,t=[]){let r=[];function n(s,c){const d=y.createContext(c),f=r.length;r=[...r,c];const p=h=>{const{scope:x,children:S,...P}=h,j=x?.[e]?.[f]||d,N=y.useMemo(()=>P,Object.values(P));return l.jsx(j.Provider,{value:N,children:S})};p.displayName=s+"Provider";function g(h,x){const S=x?.[e]?.[f]||d,P=y.useContext(S);if(P)return P;if(c!==void 0)return c;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[p,g]}const a=()=>{const s=r.map(c=>y.createContext(c));return function(d){const f=d?.[e]||s;return y.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return a.scopeName=e,[n,j9(a,...t)]}function j9(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const c=n.reduce((d,{useScope:f,scopeName:p})=>{const h=f(s)[`__scope${p}`];return{...d,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var Yu=globalThis?.document?y.useLayoutEffect:()=>{},_9=eM[" useId ".trim().toString()]||(()=>{}),C9=0;function Pv(e){const[t,r]=y.useState(_9());return Yu(()=>{r(n=>n??String(C9++))},[e]),e||(t?`radix-${t}`:"")}var P9=eM[" useInsertionEffect ".trim().toString()]||Yu;function k_({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,c]=A9({defaultProp:t,onChange:r}),d=e!==void 0,f=d?e:a;{const g=y.useRef(e!==void 0);y.useEffect(()=>{const h=g.current;h!==d&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,n])}const p=y.useCallback(g=>{if(d){const h=E9(g)?g(e):g;h!==e&&c.current?.(h)}else s(g)},[d,e,s,c]);return[f,p]}function A9({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),s=y.useRef(t);return P9(()=>{s.current=t},[t]),y.useEffect(()=>{a.current!==r&&(s.current?.(r),a.current=r)},[r,a]),[r,n,s]}function E9(e){return typeof e=="function"}var k9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wn=k9.reduce((e,t)=>{const r=U0(`Primitive.${t}`),n=y.forwardRef((a,s)=>{const{asChild:c,...d}=a,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...d,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function O9(e,t){e&&vg.flushSync(()=>e.dispatchEvent(t))}function im(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>t.current?.(...r),[])}function T9(e,t=globalThis?.document){const r=im(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var R9="DismissableLayer",HN="dismissableLayer.update",I9="dismissableLayer.pointerDownOutside",M9="dismissableLayer.focusOutside",qP,gM=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),O_=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:c,onDismiss:d,...f}=e,p=y.useContext(gM),[g,h]=y.useState(null),x=g?.ownerDocument??globalThis?.document,[,S]=y.useState({}),P=bs(t,D=>h(D)),j=Array.from(p.layers),[N]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=j.indexOf(N),T=g?j.indexOf(g):-1,R=p.layersWithOutsidePointerEventsDisabled.size>0,M=T>=k,O=$9(D=>{const B=D.target,G=[...p.branches].some(X=>X.contains(B));!M||G||(a?.(D),c?.(D),D.defaultPrevented||d?.())},x),I=F9(D=>{const B=D.target;[...p.branches].some(X=>X.contains(B))||(s?.(D),c?.(D),D.defaultPrevented||d?.())},x);return T9(D=>{T===p.layers.size-1&&(n?.(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},x),y.useEffect(()=>{if(g)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(qP=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),UP(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=qP)}},[g,x,r,p]),y.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),UP())},[g,p]),y.useEffect(()=>{const D=()=>S({});return document.addEventListener(HN,D),()=>document.removeEventListener(HN,D)},[]),l.jsx(Wn.div,{...f,ref:P,style:{pointerEvents:R?M?"auto":"none":void 0,...e.style},onFocusCapture:di(e.onFocusCapture,I.onFocusCapture),onBlurCapture:di(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:di(e.onPointerDownCapture,O.onPointerDownCapture)})});O_.displayName=R9;var D9="DismissableLayerBranch",L9=y.forwardRef((e,t)=>{const r=y.useContext(gM),n=y.useRef(null),a=bs(t,n);return y.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),l.jsx(Wn.div,{...e,ref:a})});L9.displayName=D9;function $9(e,t=globalThis?.document){const r=im(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const s=d=>{if(d.target&&!n.current){let f=function(){yM(I9,r,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function F9(e,t=globalThis?.document){const r=im(e),n=y.useRef(!1);return y.useEffect(()=>{const a=s=>{s.target&&!n.current&&yM(M9,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function UP(){const e=new CustomEvent(HN);document.dispatchEvent(e)}function yM(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?O9(a,s):a.dispatchEvent(s)}var sx="focusScope.autoFocusOnMount",ox="focusScope.autoFocusOnUnmount",zP={bubbles:!1,cancelable:!0},B9="FocusScope",T_=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...c}=e,[d,f]=y.useState(null),p=im(a),g=im(s),h=y.useRef(null),x=bs(t,j=>f(j)),S=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let j=function(R){if(S.paused||!d)return;const M=R.target;d.contains(M)?h.current=M:$u(h.current,{select:!0})},N=function(R){if(S.paused||!d)return;const M=R.relatedTarget;M!==null&&(d.contains(M)||$u(h.current,{select:!0}))},k=function(R){if(document.activeElement===document.body)for(const O of R)O.removedNodes.length>0&&$u(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",N);const T=new MutationObserver(k);return d&&T.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",N),T.disconnect()}}},[n,d,S.paused]),y.useEffect(()=>{if(d){HP.add(S);const j=document.activeElement;if(!d.contains(j)){const k=new CustomEvent(sx,zP);d.addEventListener(sx,p),d.dispatchEvent(k),k.defaultPrevented||(q9(V9(vM(d)),{select:!0}),document.activeElement===j&&$u(d))}return()=>{d.removeEventListener(sx,p),setTimeout(()=>{const k=new CustomEvent(ox,zP);d.addEventListener(ox,g),d.dispatchEvent(k),k.defaultPrevented||$u(j??document.body,{select:!0}),d.removeEventListener(ox,g),HP.remove(S)},0)}}},[d,p,g,S]);const P=y.useCallback(j=>{if(!r&&!n||S.paused)return;const N=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,k=document.activeElement;if(N&&k){const T=j.currentTarget,[R,M]=U9(T);R&&M?!j.shiftKey&&k===M?(j.preventDefault(),r&&$u(R,{select:!0})):j.shiftKey&&k===R&&(j.preventDefault(),r&&$u(M,{select:!0})):k===T&&j.preventDefault()}},[r,n,S.paused]);return l.jsx(Wn.div,{tabIndex:-1,...c,ref:x,onKeyDown:P})});T_.displayName=B9;function q9(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if($u(n,{select:t}),document.activeElement!==r)return}function U9(e){const t=vM(e),r=WP(t,e),n=WP(t.reverse(),e);return[r,n]}function vM(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function WP(e,t){for(const r of e)if(!z9(r,{upTo:t}))return r}function z9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function W9(e){return e instanceof HTMLInputElement&&"select"in e}function $u(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&W9(e)&&t&&e.select()}}var HP=H9();function H9(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=VP(e,t),e.unshift(t)},remove(t){e=VP(e,t),e[0]?.resume()}}}function VP(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function V9(e){return e.filter(t=>t.tagName!=="A")}var G9="Portal",R_=y.forwardRef((e,t)=>{const{container:r,...n}=e,[a,s]=y.useState(!1);Yu(()=>s(!0),[]);const c=r||a&&globalThis?.document?.body;return c?tM.createPortal(l.jsx(Wn.div,{...n,ref:t}),c):null});R_.displayName=G9;function K9(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Nf=e=>{const{present:t,children:r}=e,n=Y9(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),s=bs(n.ref,X9(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:s}):null};Nf.displayName="Presence";function Y9(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),s=y.useRef("none"),c=e?"mounted":"unmounted",[d,f]=K9(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const p=ev(n.current);s.current=d==="mounted"?p:"none"},[d]),Yu(()=>{const p=n.current,g=a.current;if(g!==e){const x=s.current,S=ev(p);e?f("MOUNT"):S==="none"||p?.display==="none"?f("UNMOUNT"):f(g&&x!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Yu(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,h=S=>{const j=ev(n.current).includes(CSS.escape(S.animationName));if(S.target===t&&j&&(f("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},x=S=>{S.target===t&&(s.current=ev(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:y.useCallback(p=>{n.current=p?getComputedStyle(p):null,r(p)},[])}}function ev(e){return e?.animationName||"none"}function X9(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lx=0;function bM(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??GP()),document.body.insertAdjacentElement("beforeend",e[1]??GP()),lx++,()=>{lx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lx--}},[])}function GP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var El=function(){return El=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},El.apply(this,arguments)};function xM(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Q9(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Av="right-scroll-bar-position",Ev="width-before-scroll-bar",J9="with-scroll-bars-hidden",Z9="--removed-body-scroll-bar-size";function cx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function eF(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var tF=typeof window<"u"?y.useLayoutEffect:y.useEffect,KP=new WeakMap;function rF(e,t){var r=eF(null,function(n){return e.forEach(function(a){return cx(a,n)})});return tF(function(){var n=KP.get(r);if(n){var a=new Set(n),s=new Set(e),c=r.current;a.forEach(function(d){s.has(d)||cx(d,null)}),s.forEach(function(d){a.has(d)||cx(d,c)})}KP.set(r,e)},[e]),r}function nF(e){return e}function aF(e,t){t===void 0&&(t=nF);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var c=t(s,n);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(s){for(n=!0;r.length;){var c=r;r=[],c.forEach(s)}r={push:function(d){return s(d)},filter:function(){return r}}},assignMedium:function(s){n=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(s),c=r}var f=function(){var g=c;c=[],g.forEach(s)},p=function(){return Promise.resolve().then(f)};p(),r={push:function(g){c.push(g),p()},filter:function(g){return c=c.filter(g),r}}}};return a}function iF(e){e===void 0&&(e={});var t=aF(null);return t.options=El({async:!0,ssr:!1},e),t}var wM=function(e){var t=e.sideCar,r=xM(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,El({},r))};wM.isSideCarExport=!0;function sF(e,t){return e.useMedium(t),wM}var SM=iF(),ux=function(){},W0=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:ux,onWheelCapture:ux,onTouchMoveCapture:ux}),a=n[0],s=n[1],c=e.forwardProps,d=e.children,f=e.className,p=e.removeScrollBar,g=e.enabled,h=e.shards,x=e.sideCar,S=e.noRelative,P=e.noIsolation,j=e.inert,N=e.allowPinchZoom,k=e.as,T=k===void 0?"div":k,R=e.gapMode,M=xM(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=x,I=rF([r,t]),D=El(El({},M),a);return y.createElement(y.Fragment,null,g&&y.createElement(O,{sideCar:SM,removeScrollBar:p,shards:h,noRelative:S,noIsolation:P,inert:j,setCallbacks:s,allowPinchZoom:!!N,lockRef:r,gapMode:R}),c?y.cloneElement(y.Children.only(d),El(El({},D),{ref:I})):y.createElement(T,El({},D,{className:f,ref:I}),d))});W0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};W0.classNames={fullWidth:Ev,zeroRight:Av};var oF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=oF();return t&&e.setAttribute("nonce",t),e}function cF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dF=function(){var e=0,t=null;return{add:function(r){e==0&&(t=lF())&&(cF(t,r),uF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fF=function(){var e=dF();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},NM=function(){var e=fF(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},pF={left:0,top:0,right:0,gap:0},dx=function(e){return parseInt(e||"",10)||0},mF=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[dx(r),dx(n),dx(a)]},hF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pF;var t=mF(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},gF=NM(),Zp="data-scroll-locked",yF=function(e,t,r,n){var a=e.left,s=e.top,c=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(J9,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Zp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Av,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Ev,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(Av," .").concat(Av,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ev," .").concat(Ev,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Zp,`] {
    `).concat(Z9,": ").concat(d,`px;
  }
`)},YP=function(){var e=parseInt(document.body.getAttribute(Zp)||"0",10);return isFinite(e)?e:0},vF=function(){y.useEffect(function(){return document.body.setAttribute(Zp,(YP()+1).toString()),function(){var e=YP()-1;e<=0?document.body.removeAttribute(Zp):document.body.setAttribute(Zp,e.toString())}},[])},bF=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;vF();var s=y.useMemo(function(){return hF(a)},[a]);return y.createElement(gF,{styles:yF(s,!t,a,r?"":"!important")})},VN=!1;if(typeof window<"u")try{var tv=Object.defineProperty({},"passive",{get:function(){return VN=!0,!0}});window.addEventListener("test",tv,tv),window.removeEventListener("test",tv,tv)}catch{VN=!1}var Fp=VN?{passive:!1}:!1,xF=function(e){return e.tagName==="TEXTAREA"},jM=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!xF(e)&&r[t]==="visible")},wF=function(e){return jM(e,"overflowY")},SF=function(e){return jM(e,"overflowX")},XP=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=_M(e,n);if(a){var s=CM(e,n),c=s[1],d=s[2];if(c>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},NF=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},jF=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},_M=function(e,t){return e==="v"?wF(t):SF(t)},CM=function(e,t){return e==="v"?NF(t):jF(t)},_F=function(e,t){return e==="h"&&t==="rtl"?-1:1},CF=function(e,t,r,n,a){var s=_F(e,window.getComputedStyle(t).direction),c=s*n,d=r.target,f=t.contains(d),p=!1,g=c>0,h=0,x=0;do{if(!d)break;var S=CM(e,d),P=S[0],j=S[1],N=S[2],k=j-N-s*P;(P||k)&&_M(e,d)&&(h+=k,x+=P);var T=d.parentNode;d=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(g&&Math.abs(h)<1||!g&&Math.abs(x)<1)&&(p=!0),p},rv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},QP=function(e){return[e.deltaX,e.deltaY]},JP=function(e){return e&&"current"in e?e.current:e},PF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},AF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},EF=0,Bp=[];function kF(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(EF++)[0],s=y.useState(NM)[0],c=y.useRef(e);y.useEffect(function(){c.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var j=Q9([e.lockRef.current],(e.shards||[]).map(JP),!0).filter(Boolean);return j.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),j.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=y.useCallback(function(j,N){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var k=rv(j),T=r.current,R="deltaX"in j?j.deltaX:T[0]-k[0],M="deltaY"in j?j.deltaY:T[1]-k[1],O,I=j.target,D=Math.abs(R)>Math.abs(M)?"h":"v";if("touches"in j&&D==="h"&&I.type==="range")return!1;var B=XP(D,I);if(!B)return!0;if(B?O=D:(O=D==="v"?"h":"v",B=XP(D,I)),!B)return!1;if(!n.current&&"changedTouches"in j&&(R||M)&&(n.current=O),!O)return!0;var G=n.current||O;return CF(G,N,j,G==="h"?R:M)},[]),f=y.useCallback(function(j){var N=j;if(!(!Bp.length||Bp[Bp.length-1]!==s)){var k="deltaY"in N?QP(N):rv(N),T=t.current.filter(function(O){return O.name===N.type&&(O.target===N.target||N.target===O.shadowParent)&&PF(O.delta,k)})[0];if(T&&T.should){N.cancelable&&N.preventDefault();return}if(!T){var R=(c.current.shards||[]).map(JP).filter(Boolean).filter(function(O){return O.contains(N.target)}),M=R.length>0?d(N,R[0]):!c.current.noIsolation;M&&N.cancelable&&N.preventDefault()}}},[]),p=y.useCallback(function(j,N,k,T){var R={name:j,delta:N,target:k,should:T,shadowParent:OF(k)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(M){return M!==R})},1)},[]),g=y.useCallback(function(j){r.current=rv(j),n.current=void 0},[]),h=y.useCallback(function(j){p(j.type,QP(j),j.target,d(j,e.lockRef.current))},[]),x=y.useCallback(function(j){p(j.type,rv(j),j.target,d(j,e.lockRef.current))},[]);y.useEffect(function(){return Bp.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:x}),document.addEventListener("wheel",f,Fp),document.addEventListener("touchmove",f,Fp),document.addEventListener("touchstart",g,Fp),function(){Bp=Bp.filter(function(j){return j!==s}),document.removeEventListener("wheel",f,Fp),document.removeEventListener("touchmove",f,Fp),document.removeEventListener("touchstart",g,Fp)}},[]);var S=e.removeScrollBar,P=e.inert;return y.createElement(y.Fragment,null,P?y.createElement(s,{styles:AF(a)}):null,S?y.createElement(bF,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function OF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const TF=sF(SM,kF);var I_=y.forwardRef(function(e,t){return y.createElement(W0,El({},e,{ref:t,sideCar:TF}))});I_.classNames=W0.classNames;var RF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qp=new WeakMap,nv=new WeakMap,av={},fx=0,PM=function(e){return e&&(e.host||PM(e.parentNode))},IF=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=PM(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},MF=function(e,t,r,n){var a=IF(t,Array.isArray(e)?e:[e]);av[r]||(av[r]=new WeakMap);var s=av[r],c=[],d=new Set,f=new Set(a),p=function(h){!h||d.has(h)||(d.add(h),p(h.parentNode))};a.forEach(p);var g=function(h){!h||f.has(h)||Array.prototype.forEach.call(h.children,function(x){if(d.has(x))g(x);else try{var S=x.getAttribute(n),P=S!==null&&S!=="false",j=(qp.get(x)||0)+1,N=(s.get(x)||0)+1;qp.set(x,j),s.set(x,N),c.push(x),j===1&&P&&nv.set(x,!0),N===1&&x.setAttribute(r,"true"),P||x.setAttribute(n,"true")}catch(k){console.error("aria-hidden: cannot operate on ",x,k)}})};return g(t),d.clear(),fx++,function(){c.forEach(function(h){var x=qp.get(h)-1,S=s.get(h)-1;qp.set(h,x),s.set(h,S),x||(nv.has(h)||h.removeAttribute(n),nv.delete(h)),S||h.removeAttribute(r)}),fx--,fx||(qp=new WeakMap,qp=new WeakMap,nv=new WeakMap,av={})}},AM=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=RF(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),MF(n,a,r,"aria-hidden")):function(){return null}},H0="Dialog",[EM]=z0(H0),[DF,Vo]=EM(H0),kM=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:c=!0}=e,d=y.useRef(null),f=y.useRef(null),[p,g]=k_({prop:n,defaultProp:a??!1,onChange:s,caller:H0});return l.jsx(DF,{scope:t,triggerRef:d,contentRef:f,contentId:Pv(),titleId:Pv(),descriptionId:Pv(),open:p,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(h=>!h),[g]),modal:c,children:r})};kM.displayName=H0;var OM="DialogTrigger",TM=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Vo(OM,r),s=bs(t,a.triggerRef);return l.jsx(Wn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":L_(a.open),...n,ref:s,onClick:di(e.onClick,a.onOpenToggle)})});TM.displayName=OM;var M_="DialogPortal",[LF,RM]=EM(M_,{forceMount:void 0}),IM=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Vo(M_,t);return l.jsx(LF,{scope:t,forceMount:r,children:y.Children.map(n,c=>l.jsx(Nf,{present:r||s.open,children:l.jsx(R_,{asChild:!0,container:a,children:c})}))})};IM.displayName=M_;var Iv="DialogOverlay",MM=y.forwardRef((e,t)=>{const r=RM(Iv,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Vo(Iv,e.__scopeDialog);return s.modal?l.jsx(Nf,{present:n||s.open,children:l.jsx(FF,{...a,ref:t})}):null});MM.displayName=Iv;var $F=U0("DialogOverlay.RemoveScroll"),FF=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Vo(Iv,r);return l.jsx(I_,{as:$F,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(Wn.div,{"data-state":L_(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),hf="DialogContent",DM=y.forwardRef((e,t)=>{const r=RM(hf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Vo(hf,e.__scopeDialog);return l.jsx(Nf,{present:n||s.open,children:s.modal?l.jsx(BF,{...a,ref:t}):l.jsx(qF,{...a,ref:t})})});DM.displayName=hf;var BF=y.forwardRef((e,t)=>{const r=Vo(hf,e.__scopeDialog),n=y.useRef(null),a=bs(t,r.contentRef,n);return y.useEffect(()=>{const s=n.current;if(s)return AM(s)},[]),l.jsx(LM,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:di(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:di(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&s.preventDefault()}),onFocusOutside:di(e.onFocusOutside,s=>s.preventDefault())})}),qF=y.forwardRef((e,t)=>{const r=Vo(hf,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return l.jsx(LM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=s.target;r.triggerRef.current?.contains(c)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),LM=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...c}=e,d=Vo(hf,r),f=y.useRef(null),p=bs(t,f);return bM(),l.jsxs(l.Fragment,{children:[l.jsx(T_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:l.jsx(O_,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":L_(d.open),...c,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(UF,{titleId:d.titleId}),l.jsx(WF,{contentRef:f,descriptionId:d.descriptionId})]})]})}),D_="DialogTitle",$M=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Vo(D_,r);return l.jsx(Wn.h2,{id:a.titleId,...n,ref:t})});$M.displayName=D_;var FM="DialogDescription",BM=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Vo(FM,r);return l.jsx(Wn.p,{id:a.descriptionId,...n,ref:t})});BM.displayName=FM;var qM="DialogClose",UM=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Vo(qM,r);return l.jsx(Wn.button,{type:"button",...n,ref:t,onClick:di(e.onClick,()=>a.onOpenChange(!1))})});UM.displayName=qM;function L_(e){return e?"open":"closed"}var zM="DialogTitleWarning",[Zoe,WM]=N9(zM,{contentName:hf,titleName:D_,docsSlug:"dialog"}),UF=({titleId:e})=>{const t=WM(zM),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},zF="DialogDescriptionWarning",WF=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WM(zF).contentName}}.`;return y.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},HF=kM,HM=TM,VF=IM,VM=MM,GM=DM,GF=$M,KF=BM,KM=UM;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),ZP=e=>{const t=XF(e);return t.charAt(0).toUpperCase()+t.slice(1)},YM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:c,...d},f)=>y.createElement("svg",{ref:f,...QF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:YM("lucide",a),...d},[...c.map(([p,g])=>y.createElement(p,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(e,t)=>{const r=y.forwardRef(({className:n,...a},s)=>y.createElement(JF,{ref:s,iconNode:t,className:YM(`lucide-${YF(ZP(e))}`,`lucide-${e}`,n),...a}));return r.displayName=ZP(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],e6=_t("arrow-left-right",ZF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],r6=_t("arrow-left",t6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],a6=_t("arrow-right",n6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],s6=_t("arrow-up-down",i6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],l6=_t("building-2",o6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],px=_t("calendar-days",c6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],d6=_t("check",u6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],p6=_t("chevron-left",f6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kv=_t("chevron-right",m6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],g6=_t("circle-alert",h6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],v6=_t("circle-check",y6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ov=_t("download",b6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],w6=_t("external-link",x6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$c=_t("eye-off",S6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fc=_t("eye",N6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],_6=_t("fingerprint",j6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],P6=_t("funnel",C6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],E6=_t("house",A6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],O6=_t("info",k6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],R6=_t("landmark",T6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],of=_t("loader-circle",I6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],D6=_t("log-in",M6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],$6=_t("log-out",L6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],B6=_t("maximize-2",F6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],U6=_t("minimize-2",q6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M5 12h14",key:"1ays0h"}]],$_=_t("minus",z6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],e2=_t("notebook-pen",W6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Kp=_t("package",H6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],XM=_t("pencil",V6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],t2=_t("pill",G6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],V0=_t("plus",K6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Fu=_t("refresh-cw",Y6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],r2=_t("search",X6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],sm=_t("shopping-cart",Q6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Z6=_t("square-check-big",J6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],tB=_t("tag",eB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],GN=_t("trash-2",rB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],aB=_t("upload",nB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sB=_t("user",iB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],lB=_t("users",oB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],uB=_t("wifi-off",cB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zu=_t("x",dB);function Wc({...e}){return l.jsx(HF,{"data-slot":"dialog",...e})}const KN=y.forwardRef(({...e},t)=>l.jsx(HM,{ref:t,"data-slot":"dialog-trigger",...e}));KN.displayName=HM.displayName;function fB({...e}){return l.jsx(VF,{"data-slot":"dialog-portal",...e})}function F_({...e}){return l.jsx(KM,{"data-slot":"dialog-close",...e})}const QM=y.forwardRef(({className:e,style:t,...r},n)=>l.jsx(VM,{ref:n,"data-slot":"dialog-overlay",className:zn("fixed inset-0 z-[9999] backdrop-blur-xl duration-[55ms] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",e),style:{backdropFilter:"blur(4px) saturate(1.2)",WebkitBackdropFilter:"blur(4px) saturate(1.2)",willChange:"opacity",...t},...r}));QM.displayName=VM.displayName;const Ml=y.forwardRef(({className:e,children:t,style:r,hideCloseButton:n=!1,overlayClassName:a,overlayStyle:s,containerClassName:c,containerStyle:d,...f},p)=>l.jsx(fB,{"data-slot":"dialog-portal",children:l.jsxs("div",{className:c??"fixed inset-x-0 bottom-0 z-[10000] flex items-center justify-center px-3 py-6 sm:px-4 sm:py-8",style:c?d:{top:"var(--modal-header-offset, 6rem)",left:0,right:0,...d},children:[l.jsx(QM,{className:a,style:s}),l.jsxs(GM,{ref:p,"data-slot":"dialog-content",className:zn("relative z-[1001] flex w-full max-w-[min(740px,calc(100vw-2rem))] flex-col overflow-y-auto squircle-xl glass-card border-[3px] p-6 text-slate-900 shadow-[0_24px_60px_-25px_rgba(7,27,27,0.55)] focus:outline-none data-[state=closed]:pointer-events-none duration-[55ms] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95 sm:max-w-[min(800px,calc(100vw-2.5rem))] lg:max-w-[min(50vw,48rem)]",e),style:{backgroundColor:"rgba(245, 251, 255, 0.94)",borderColor:"rgba(95, 179, 249, 0.65)",backdropFilter:"blur(16px) saturate(1.45)",WebkitBackdropFilter:"blur(16px) saturate(1.45)",maxHeight:"calc(var(--viewport-height, 100dvh) - var(--modal-header-offset, 6rem) - clamp(1.5rem, 6vh, 3rem))",margin:"clamp(0.5rem, 3vh, 2rem) auto 1.5rem",willChange:"opacity, transform",...r},...f,children:[t,!n&&l.jsxs(KM,{className:"dialog-close-btn inline-flex items-center justify-center text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150 absolute top-4 right-4 z-[10050] disabled:pointer-events-none",style:{backgroundColor:"rgb(95, 179, 249)",width:"38px",height:"38px",borderRadius:"50%"},children:[l.jsx(zu,{className:"h-4 w-4 sm:h-5 sm:w-5"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}));Ml.displayName=GM.displayName;function Wu({className:e,...t}){return l.jsx("div",{"data-slot":"dialog-header",className:zn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function kl({className:e,...t}){return l.jsx(GF,{"data-slot":"dialog-title",className:zn("text-lg leading-none font-semibold",e),...t})}function Hu({className:e,...t}){return l.jsx(KF,{"data-slot":"dialog-description",className:zn("text-muted-foreground text-sm",e),...t})}const Ar=y.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{ref:n,type:t,"data-slot":"input",className:zn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r}));Ar.displayName="Input";var pB="Label",JM=y.forwardRef((e,t)=>l.jsx(Wn.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));JM.displayName=pB;var mB=JM;const Zr=y.forwardRef(({className:e,...t},r)=>l.jsx(mB,{ref:r,"data-slot":"label",className:zn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t}));Zr.displayName="Label";const hB=()=>{if(typeof window>"u")return!1;if(window.isSecureContext)return!0;const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"||e==="::1"},ZM=()=>{if(!hB())return null;const e=navigator.credentials;return!e||typeof e.get!="function"?null:e},eD=async()=>{const e=ZM();if(!e||typeof window.PasswordCredential!="function")return null;try{const r=await e.get({password:!0,mediation:"optional"});if(r&&r.type==="password"){const n=r;return{id:n.id||"",password:n.password||""}}}catch(r){console.debug("[Credentials] Stored credential request failed",r)}return null},gB=async(e,t,r)=>{if(!e||!t||typeof window>"u")return;const n=ZM();if(!n||typeof n.store!="function")return;const a=window.PasswordCredential;if(typeof a=="function")try{const s=new a({id:e,name:r||e,password:t});await n.store(s)}catch(s){console.debug("[Credentials] Unable to store credential",s)}},yB=[[/\bwoocommerce\b/gi,"store"],[/\bwoo\s*commerce\b/gi,"store"],[/\bwoo\b/gi,"store"],[/\bstripe\b/gi,"payment provider"],[/\bcloudflare\b/gi,"network provider"],[/\bgodaddy\b/gi,"hosting provider"],[/\bshipstation\b/gi,"shipping provider"],[/\bshipengine\b/gi,"shipping provider"]],Dl=e=>{if(typeof e!="string"||e.length===0)return e;let t=e;for(const[r,n]of yB)t=t.replace(r,n);return t=t.replace(/\bstore\s+store\b/gi,"store"),t=t.replace(/\bpayment provider\s+payment provider\b/gi,"payment provider"),t},vB=new Set(["error","message","reason","hint","title","statusText","detail"]),bg=e=>{const t=new WeakSet,r=(n,a)=>{if(typeof n=="string")return a&&vB.has(a)?Dl(n):n;if(!n||typeof n!="object"||t.has(n))return n;if(t.add(n),Array.isArray(n)){for(let s=0;s<n.length;s+=1)n[s]=r(n[s],a);return n}for(const[s,c]of Object.entries(n))n[s]=r(c,s);return n};return r(e,null)},Te=(()=>{const e="https://api.peppro.net".trim();if(!e)return"http://localhost:3001/api";const t=e.replace(/\/+$/,"");return t.toLowerCase().endsWith("/api")?t:`${t}/api`})(),n2="peppro_tab_id_v1",B_="peppro_session_id_v1",Mv="peppro_user_id_v1",Dv="peppro_auth_email_v1",q_="peppro_session_started_at_v1",tD="peppro_auth_event_v1",bB="peppro:force-logout",xB="test@doctor.com",rD=e=>String(e||"").trim().toLowerCase()===xB,xg=()=>{try{if(typeof crypto<"u"&&"randomUUID"in crypto&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return`${Date.now()}-${Math.random().toString(16).slice(2)}${Math.random().toString(16).slice(2)}`},nD=()=>{try{const e=sessionStorage.getItem(n2);if(e&&e.trim())return e;const t=xg();return sessionStorage.setItem(n2,t),t}catch{return xg()}},U_=()=>{try{const e=sessionStorage.getItem(B_);return e&&e.trim()?e:null}catch{return null}},YN=e=>{try{sessionStorage.setItem(B_,e)}catch{}},iy=()=>{try{sessionStorage.removeItem(B_)}catch{}},XN=e=>{try{sessionStorage.setItem(q_,String(Math.floor(Number(e)||Date.now())))}catch{}},wB=()=>{try{sessionStorage.removeItem(q_)}catch{}},aD=()=>{try{const e=sessionStorage.getItem(Mv);return e&&e.trim()?e:null}catch{return null}},Wh=e=>{try{const t=typeof e=="string"?e.trim():"";if(!t){sessionStorage.removeItem(Mv);return}sessionStorage.setItem(Mv,t)}catch{}},iD=()=>{try{const e=sessionStorage.getItem(Dv);return e&&e.trim()?e:null}catch{return null}},Hh=e=>{try{const t=typeof e=="string"?e.trim():"";if(!t){sessionStorage.removeItem(Dv);return}sessionStorage.setItem(Dv,t)}catch{}},SB=e=>{if(!(typeof window>"u")){try{if("BroadcastChannel"in window){const t=new window.BroadcastChannel("peppro-auth");t.postMessage(e),t.close()}}catch{}try{localStorage.setItem(tD,JSON.stringify(e))}catch{}}};let a2=0;const G0=(e,t)=>{if(typeof window>"u")return;const r=Date.now();if(!(r-a2<1500)){a2=r;try{const n={reason:e,...t?.authCode?{authCode:t.authCode}:{}};window.dispatchEvent(new CustomEvent(bB,{detail:n}))}catch{}}},i2=e=>{if(!e||e.type!=="LOGIN"||rD(iD()))return;const t=nD();if(e.tabId===t)return;const r=aD(),n=typeof e.userId=="string"?e.userId:null;if(!r||!n||r!==n)return;const a=U_();!a||a===e.sessionId||(sy(),iy(),G0("another_tab_login"))};if(typeof window<"u"){try{localStorage.removeItem("auth_token")}catch{}try{const e=sessionStorage.getItem("auth_token");e&&e.trim()&&!U_()&&YN(xg());const t=sessionStorage.getItem(q_),r=t?Number(t):NaN;e&&e.trim()&&!Number.isFinite(r)&&XN(Date.now())}catch{}try{"BroadcastChannel"in window&&new window.BroadcastChannel("peppro-auth").addEventListener("message",t=>{try{i2(t?.data)}catch{}})}catch{}try{window.addEventListener("storage",e=>{if(!(e.key!==tD||!e.newValue))try{i2(JSON.parse(e.newValue))}catch{}})}catch{}}const om=()=>{try{const e=sessionStorage.getItem("auth_token");if(e&&e.trim().length>0)return e}catch{}return null},mx=e=>{if(!e)return;try{sessionStorage.setItem("auth_token",e)}catch{}if(rD(iD())){U_()||YN(xg()),XN(Date.now());return}const t=xg();YN(t),XN(Date.now()),SB({type:"LOGIN",tabId:nD(),sessionId:t,userId:aD(),at:Date.now()})},sy=()=>{try{localStorage.removeItem("auth_token")}catch{}try{sessionStorage.removeItem("auth_token")}catch{}try{sessionStorage.removeItem(Mv)}catch{}try{sessionStorage.removeItem(Dv)}catch{}wB()},Hc=e=>{try{if(typeof window>"u")return;const t={ok:!!e.ok,status:typeof e.status=="number"?e.status:null,message:typeof e.message=="string"?e.message:null,at:Date.now()};window.dispatchEvent(new CustomEvent("peppro:api-reachability",{detail:t}))}catch{}},s2=15e3,NB=12e3,jB=5e3,_B=3e4,CB=45e3,z_=(e,t)=>{const r=String(e||"").toLowerCase();return r.includes("/api/health")?jB:r.includes("/api/auth/")?NB:r.includes("/api/settings/user-activity/longpoll")?_B:t==="POST"&&(r.endsWith("/api/orders")||r.includes("/api/orders/"))?CB:s2},W_=async(e,t,r)=>{if(typeof window>"u"||r<=0||!Number.isFinite(r))return fetch(e,t);const n=new AbortController,a=t.signal;a&&(a.aborted?n.abort():a.addEventListener("abort",()=>n.abort(),{once:!0}));const s=window.setTimeout(()=>n.abort(),r);try{return await fetch(e,{...t,signal:n.signal})}finally{window.clearTimeout(s)}},Qe=async(e,t={})=>{const r=om(),n={"Content-Type":"application/json",...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);const a=(t.method||"GET").toUpperCase();let s=e;if(a==="GET"&&!(t.cache&&t.cache!=="default")){const f=s.includes("?")?"&":"?";s=`${s}${f}_ts=${Date.now()}`}let c;try{const f=z_(s,a);c=await W_(s,{cache:t.cache??"no-store",...t,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",...n}},f)}catch(f){const p=f?.name==="AbortError",g=p?"Request timed out":typeof f?.message=="string"?f.message:null;if(Hc({ok:!1,status:null,message:g}),p){const h=new Error("Request timed out");throw h.code="TIMEOUT",h.status=null,h}throw f}if(c.ok?Hc({ok:!0,status:c.status}):(c.status>=500||c.status===429)&&Hc({ok:!1,status:c.status}),!c.ok){const f=c.headers.get("content-type")||"";let p=`Request failed (${c.status})`,g=null,h=!1;try{if(f.includes("application/json")){if(g=await c.json(),g&&typeof g=="object"&&"error"in g){const j=g.error;typeof j=="string"&&j.trim().length>0&&(p=j)}}else if(g=await c.text(),typeof g=="string"&&g.trim().length>0){const j=g.trim();h=j.startsWith("<")||j.includes("<html"),p=`${p}: ${j}`}}catch(j){g={parseError:j instanceof Error?j.message:String(j)}}h&&(e.toLowerCase().includes("/shipping/")?p="Address cannot be identified.":p=`Request failed (${c.status}). Please try again in a moment.`),p=Dl(p),typeof g=="string"?g=Dl(g):g&&typeof g=="object"&&bg(g);const x=new Error(p);x.status=c.status,x.details=g;const S=typeof g=="object"&&g!==null?g.code:null;if(c.status===401||c.status===403&&typeof S=="string"&&S.startsWith("TOKEN_")){if(sy(),iy(),r){const j=typeof S=="string"?S:void 0;G0(j==="TOKEN_REVOKED"?"credentials_used_elsewhere":"auth_revoked",{authCode:j})}x.code="AUTH_REQUIRED",typeof S=="string"&&(x.authCode=S)}else c.status===403&&(x.code="FORBIDDEN");throw x}if(c.status===204||c.status===205)return null;if((c.headers.get("content-type")||"").includes("application/json")){const f=await c.text();if(!f)return null;try{const p=JSON.parse(f);return bg(p)}catch(p){return console.warn("[fetchWithAuth] Failed to parse JSON response",{error:p}),Dl(f)}}return c.text()},sD=async(e,t={})=>{const r=om(),n={...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);let a;const s=(t.method||"GET").toUpperCase();try{a=await W_(e,{cache:t.cache??"no-store",...t,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",...n}},z_(e,s))}catch(d){const f=d?.name==="AbortError",p=f?"Request timed out":typeof d?.message=="string"?d.message:null;if(Hc({ok:!1,status:null,message:p}),f){const g=new Error("Request timed out");throw g.code="TIMEOUT",g.status=null,g}throw d}if(a.ok?Hc({ok:!0,status:a.status}):(a.status>=500||a.status===429)&&Hc({ok:!1,status:a.status}),!a.ok){const d=a.headers.get("content-type")||"";let f=`Request failed (${a.status})`,p=null,g=!1;try{if(d.includes("application/json")){if(p=await a.json(),p&&typeof p=="object"&&"error"in p){const P=p.error;typeof P=="string"&&P.trim().length>0&&(f=P)}}else if(p=await a.text(),typeof p=="string"&&p.trim().length>0){const P=p.trim();g=P.startsWith("<")||P.includes("<html"),f=`${f}: ${P}`}}catch(P){p={parseError:P instanceof Error?P.message:String(P)}}g&&(a.status===413?f="Upload too large. Your server rejected the request (413).":f=`Request failed (${a.status}). Please try again in a moment.`),f=Dl(f),typeof p=="string"?p=Dl(p):p&&typeof p=="object"&&bg(p);const h=new Error(f);h.status=a.status,h.details=p;const x=typeof p=="object"&&p!==null?p.code:null;if(a.status===401||a.status===403&&typeof x=="string"&&x.startsWith("TOKEN_")){if(sy(),iy(),r){const P=typeof x=="string"?x:void 0;G0(P==="TOKEN_REVOKED"?"credentials_used_elsewhere":"auth_revoked",{authCode:P})}h.code="AUTH_REQUIRED",typeof x=="string"&&(h.authCode=x)}else a.status===403&&(h.code="FORBIDDEN");throw h}if((a.headers.get("content-type")||"").includes("application/json")){const d=await a.text();if(!d)return null;try{const f=JSON.parse(d);return bg(f)}catch{return Dl(d)}}return a.text()},H_=async(e,t={})=>{const r=om(),n={...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);let a;const s=(t.method||"GET").toUpperCase();try{a=await W_(e,{cache:t.cache??"no-store",...t,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",...n}},z_(e,s))}catch(g){const h=g?.name==="AbortError",x=h?"Request timed out":typeof g?.message=="string"?g.message:null;if(Hc({ok:!1,status:null,message:x}),h){const S=new Error("Request timed out");throw S.code="TIMEOUT",S.status=null,S}throw g}if(a.ok?Hc({ok:!0,status:a.status}):(a.status>=500||a.status===429)&&Hc({ok:!1,status:a.status}),!a.ok){const g=a.headers.get("content-type")||"";let h=`Request failed (${a.status})`,x=null;try{if(g.includes("application/json")){if(x=await a.json(),x&&typeof x=="object"&&"error"in x){const N=x.error;typeof N=="string"&&N.trim().length>0&&(h=N)}}else x=await a.text()}catch(N){x={parseError:N instanceof Error?N.message:String(N)}}h=Dl(h),typeof x=="string"?x=Dl(x):x&&typeof x=="object"&&bg(x);const S=new Error(h);S.status=a.status,S.details=x;const P=typeof x=="object"&&x!==null?x.code:null;if(a.status===401||a.status===403&&typeof P=="string"&&P.startsWith("TOKEN_")){if(sy(),iy(),r){const N=typeof P=="string"?P:void 0;G0(N==="TOKEN_REVOKED"?"credentials_used_elsewhere":"auth_revoked",{authCode:N})}S.code="AUTH_REQUIRED",typeof P=="string"&&(S.authCode=P)}else a.status===403&&(S.code="FORBIDDEN");throw S}const d=(a.headers.get("content-disposition")||"").match(/filename=\"?([^\";]+)\"?/i),f=d&&d[1]?d[1]:null;return{blob:await a.blob(),filename:f,contentType:a.headers.get("content-type")||""}},ds={register:async e=>{const t=await Qe(`${Te}/auth/register`,{method:"POST",body:JSON.stringify({name:e.name,email:e.email,password:e.password,code:e.code,npiNumber:e.npiNumber,phone:e.phone??void 0})});return Wh(t?.user?.id),Hh(t?.user?.email??e.email),mx(t.token),t.user},verifyNpi:async e=>Qe(`${Te}/auth/verify-npi`,{method:"POST",body:JSON.stringify({npiNumber:e})}),login:async(e,t)=>{const r=await Qe(`${Te}/auth/login`,{method:"POST",body:JSON.stringify({email:e,password:t})});return Wh(r?.user?.id),Hh(r?.user?.email??e),mx(r.token),r.user},checkEmail:async e=>{const t=await fetch(`${Te}/auth/check-email?email=${encodeURIComponent(e)}`);if(!t.ok)throw new Error("EMAIL_CHECK_FAILED");return t.json()},logout:()=>{const e=om();try{e&&fetch(`${Te}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:"{}"}).catch(()=>null)}catch{}sy(),iy()},markOffline:()=>{const e=om();if(e)try{fetch(`${Te}/auth/logout`,{method:"POST",keepalive:!0,headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:"{}"}).catch(()=>null)}catch{}},getCurrentUser:async()=>{try{const e=await Qe(`${Te}/auth/me`);return Wh(e?.id),Hh(e?.email),e}catch(e){const t=e,r=typeof t?.status=="number"?t.status:null,n=typeof t?.code=="string"?t.code:null,a=typeof t?.authCode=="string"?t.authCode:null;if(n==="AUTH_REQUIRED"||r===401||r===403&&typeof a=="string"&&a.startsWith("TOKEN_"))return Wh(null),Hh(null),null;throw e}},updateMe:async e=>Qe(`${Te}/auth/me`,{method:"PUT",body:JSON.stringify(e)}),passkeys:{getRegistrationOptions:async()=>Qe(`${Te}/auth/passkeys/register/options`,{method:"POST"}),completeRegistration:async e=>Qe(`${Te}/auth/passkeys/register/verify`,{method:"POST",body:JSON.stringify(e)}),getAuthenticationOptions:async e=>{const t=await fetch(`${Te}/auth/passkeys/login/options`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok){const r=await t.text();throw new Error(r||"PASSKEY_OPTIONS_FAILED")}return t.json()},completeAuthentication:async e=>{const t=await fetch(`${Te}/auth/passkeys/login/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.text();throw new Error(n||"PASSKEY_AUTH_FAILED")}const r=await t.json();return Wh(r?.user?.id),Hh(r?.user?.email),mx(r.token),r.user}}},vr={getShopStatus:async()=>Qe(`${Te}/settings/shop`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),getForumStatus:async()=>Qe(`${Te}/settings/forum`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),getResearchStatus:async()=>Qe(`${Te}/settings/research`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),getTestPaymentsOverrideStatus:async()=>Qe(`${Te}/settings/test-payments-override`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),updateShopStatus:async e=>Qe(`${Te}/settings/shop`,{method:"PUT",body:JSON.stringify({enabled:e})}),updateForumStatus:async e=>Qe(`${Te}/settings/forum`,{method:"PUT",body:JSON.stringify({enabled:e})}),updateResearchStatus:async e=>Qe(`${Te}/settings/research`,{method:"PUT",body:JSON.stringify({enabled:e})}),updateTestPaymentsOverrideStatus:async e=>Qe(`${Te}/settings/test-payments-override`,{method:"PUT",body:JSON.stringify({enabled:e})}),getStripeSettings:async()=>Qe(`${Te}/settings/stripe`,{method:"GET"}),updateStripeTestMode:async e=>Qe(`${Te}/settings/stripe`,{method:"PUT",body:JSON.stringify({testMode:e})}),getUserActivity:async e=>{const t=e?`?window=${encodeURIComponent(e)}`:"";return Qe(`${Te}/settings/user-activity${t}`,{method:"GET"})},getUserActivityLongPoll:async(e,t,r=25e3,n)=>{const a=new URLSearchParams;e&&a.set("window",e),t&&a.set("etag",String(t)),r&&Number.isFinite(r)&&a.set("timeoutMs",String(Math.max(1e3,Math.min(r,3e4))));const s=a.toString()?`?${a.toString()}`:"";return Qe(`${Te}/settings/user-activity/longpoll${s}`,{method:"GET",signal:n})},pingPresence:async e=>Qe(`${Te}/settings/presence`,{method:"POST",body:JSON.stringify(e||{})}),getLiveClients:async e=>{const t=new URLSearchParams;e&&t.set("salesRepId",String(e));const r=t.toString()?`?${t.toString()}`:"";return Qe(`${Te}/settings/live-clients${r}`,{method:"GET"})},getLiveClientsLongPoll:async(e,t,r=25e3,n)=>{const a=new URLSearchParams;e&&a.set("salesRepId",String(e)),t&&a.set("etag",String(t)),r&&Number.isFinite(r)&&a.set("timeoutMs",String(Math.max(1e3,Math.min(r,3e4))));const s=a.toString()?`?${a.toString()}`:"";return Qe(`${Te}/settings/live-clients/longpoll${s}`,{method:"GET",signal:n})},getLiveUsers:async()=>Qe(`${Te}/settings/live-users`,{method:"GET"}),getLiveUsersLongPoll:async(e,t=25e3,r)=>{const n=new URLSearchParams;e&&n.set("etag",String(e)),t&&Number.isFinite(t)&&n.set("timeoutMs",String(Math.max(1e3,Math.min(t,3e4))));const a=n.toString()?`?${n.toString()}`:"";return Qe(`${Te}/settings/live-users/longpoll${a}`,{method:"GET",signal:r})},getAdminUserProfile:async e=>{if(!e)throw new Error("userId is required");return Qe(`${Te}/settings/users/${encodeURIComponent(String(e))}`,{method:"GET"})},updateUserProfile:async(e,t)=>{if(!e)throw new Error("userId is required");return Qe(`${Te}/settings/users/${encodeURIComponent(String(e))}`,{method:"PATCH",body:JSON.stringify(t)})},getReportSettings:async()=>Qe(`${Te}/settings/reports`,{method:"GET"}),setSalesBySalesRepCsvDownloadedAt:async e=>Qe(`${Te}/settings/reports`,{method:"PUT",body:JSON.stringify({salesBySalesRepCsvDownloadedAt:e})}),setTaxesByStateCsvDownloadedAt:async e=>Qe(`${Te}/settings/reports`,{method:"PUT",body:JSON.stringify({taxesByStateCsvDownloadedAt:e})}),setProductsCommissionCsvDownloadedAt:async e=>Qe(`${Te}/settings/reports`,{method:"PUT",body:JSON.stringify({productsCommissionCsvDownloadedAt:e})})},V_="peppro_checkout_idempotency_v1",PB=7200*1e3,AB=()=>{try{if(typeof crypto<"u"&&"randomUUID"in crypto&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return`${Date.now()}-${Math.random().toString(16).slice(2)}${Math.random().toString(16).slice(2)}`},EB=()=>{try{const e=sessionStorage.getItem(V_);if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"||typeof t.key!="string"||!t.key.trim()||typeof t.fingerprint!="string"||!t.fingerprint.trim()||typeof t.createdAt!="number"||!Number.isFinite(t.createdAt)?null:{key:t.key,fingerprint:t.fingerprint,createdAt:t.createdAt}}catch{return null}},kB=e=>{try{sessionStorage.setItem(V_,JSON.stringify(e))}catch{}},OB=()=>{try{sessionStorage.removeItem(V_)}catch{}},TB=e=>{const t=Array.isArray(e.items)?e.items.map((c,d)=>({productId:c?.productId??c?.id??c?.sku??`item-${d}`,variationId:c?.variationId??c?.variantId??c?.variation?.id??null,quantity:Number(c?.quantity)||0,price:Number(c?.price)||0})).sort((c,d)=>`${c.productId}:${c.variationId??""}`.localeCompare(`${d.productId}:${d.variationId??""}`)):[],r=e.shipping?.address||null,n=r?.postalCode||r?.postcode||null,a=r?.country||null,s=r?.state||null;return JSON.stringify({items:t,total:Number(e.total)||0,referralCode:e.referralCode||null,paymentMethod:e.paymentMethod||null,taxTotal:typeof e.taxTotal=="number"?e.taxTotal:null,shipping:{postalCode:n,country:a,state:s,shippingTotal:e.shipping?.shippingTotal??null}})},RB=e=>{const t=Date.now(),r=EB();if(r&&r.fingerprint===e&&t-r.createdAt<PB)return r.key;const n=AB();return kB({key:n,fingerprint:e,createdAt:t}),n},Ba={create:async(e,t,r,n,a,s,c,d,f)=>{const p=TB({items:e,total:t,referralCode:r,shipping:n,paymentMethod:d,taxTotal:c}),g=RB(p),h=await Qe(`${Te}/orders/`,{method:"POST",headers:{"Idempotency-Key":g},body:JSON.stringify({items:e,total:t,referralCode:r,pricingMode:f??null,paymentMethod:d??null,shippingAddress:n?.address,shippingEstimate:n?.estimate,shippingTotal:n?.shippingTotal??null,expectedShipmentWindow:a??null,physicianCertification:s?.physicianCertification===!0,taxTotal:typeof c=="number"?c:null})});return h&&typeof h=="object"&&h.success===!0&&OB(),h},estimateTotals:async(e,t)=>Qe(`${Te}/orders/estimate`,{method:"POST",body:JSON.stringify(e),signal:t?.signal}),cancelOrder:async(e,t)=>{if(!e)throw new Error("Order ID is required to cancel an order");return Qe(`${Te}/orders/${encodeURIComponent(e)}/cancel`,{method:"POST",body:JSON.stringify({reason:t||"Payment confirmation failed"})})},getAll:async e=>{const t=new URLSearchParams;e?.includeCanceled&&t.set("includeCanceled","true"),e?.force&&t.set("force","true");const r=t.toString(),n=r?`${Te}/orders/?${r}`:`${Te}/orders/`;return Qe(n)},getForSalesRep:async e=>{const t=new URLSearchParams;e?.salesRepId&&t.set("salesRepId",e.salesRepId),e?.scope&&t.set("scope",e.scope),t.set("includeDoctors","true");const r=t.toString(),n=r?`${Te}/orders/sales-rep?${r}`:`${Te}/orders/sales-rep`;return Qe(n)},getSalesByRepForAdmin:async e=>{const t=new URLSearchParams;e?.periodStart&&t.set("periodStart",e.periodStart),e?.periodEnd&&t.set("periodEnd",e.periodEnd);const r=t.toString(),n=r?`${Te}/orders/admin/sales-rep-summary?${r}`:`${Te}/orders/admin/sales-rep-summary`;return Qe(n)},getTaxesByStateForAdmin:async e=>{const t=new URLSearchParams;e?.periodStart&&t.set("periodStart",e.periodStart),e?.periodEnd&&t.set("periodEnd",e.periodEnd);const r=t.toString(),n=r?`${Te}/orders/admin/taxes-by-state?${r}`:`${Te}/orders/admin/taxes-by-state`;return Qe(n)},getProductSalesCommissionForAdmin:async e=>{const t=new URLSearchParams;e?.periodStart&&t.set("periodStart",e.periodStart),e?.periodEnd&&t.set("periodEnd",e.periodEnd);const r=t.toString(),n=r?`${Te}/orders/admin/product-sales-commission?${r}`:`${Te}/orders/admin/product-sales-commission`;return Qe(n)},getAdminOrdersForUser:async e=>{if(!e)throw new Error("userId is required");return Qe(`${Te}/orders/admin/users/${encodeURIComponent(String(e))}`,{method:"GET"})},getSalesRepOrderDetail:async(e,t)=>{if(!e)throw new Error("orderId is required");const r=new URLSearchParams;if(t){const s=typeof t=="string"&&t.includes("@");s?r.set("doctorEmail",t):r.set("doctorId",String(t)),s?r.set("doctorId",String(t)):r.set("doctorEmail",String(t))}const n=r.toString(),a=n?`${Te}/orders/sales-rep/${encodeURIComponent(e)}?${n}`:`${Te}/orders/sales-rep/${encodeURIComponent(e)}`;return Qe(a)},updateOrderNotes:async(e,t)=>{if(!e)throw new Error("orderId is required");return Qe(`${Te}/orders/${encodeURIComponent(String(e))}/notes`,{method:"PATCH",body:JSON.stringify({notes:t})})},updateOrderFields:async(e,t)=>{if(!e)throw new Error("orderId is required");return Qe(`${Te}/orders/${encodeURIComponent(String(e))}`,{method:"PATCH",body:JSON.stringify(t||{})})},downloadInvoice:async e=>{if(!e)throw new Error("orderId is required");return H_(`${Te}/orders/${encodeURIComponent(String(e))}/invoice`,{method:"GET",cache:"no-store"})}},sf={listCertificateProducts:async()=>Qe(`${Te}/woo/certificates/products`,{method:"GET",cache:"no-store"}),listMissingCertificates:async()=>Qe(`${Te}/woo/certificates/missing`,{method:"GET",cache:"no-store"}),getProduct:async e=>{if(!e)throw new Error("productId is required");return Qe(`${Te}/woo/products/${encodeURIComponent(String(e))}`,{method:"GET",cache:"force-cache",headers:{"Cache-Control":"public, max-age=300",Pragma:""}})},getProductVariation:async(e,t)=>{if(!e)throw new Error("productId is required");if(!t)throw new Error("variationId is required");return Qe(`${Te}/woo/products/${encodeURIComponent(String(e))}/variations/${encodeURIComponent(String(t))}`,{method:"GET",cache:"force-cache",headers:{"Cache-Control":"public, max-age=300",Pragma:""}})},getCertificateOfAnalysis:async e=>{if(!e)throw new Error("productId is required");return H_(`${Te}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis`,{method:"GET",cache:"no-store"})},getCertificateOfAnalysisInfo:async e=>{if(!e)throw new Error("productId is required");return Qe(`${Te}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis/info`,{method:"GET",cache:"no-store"})},uploadCertificateOfAnalysis:async(e,t)=>{if(!e)throw new Error("productId is required");const r=`${Te}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis`;if("file"in t){const n=new FormData;return n.append("file",t.file,t.filename||t.file.name||"certificate-of-analysis"),sD(r,{method:"POST",body:n})}if(!t?.dataUrl)throw new Error("dataUrl is required");return Qe(r,{method:"POST",body:JSON.stringify({data:t.dataUrl,filename:t.filename})})},deleteCertificateOfAnalysis:async e=>{if(!e)throw new Error("productId is required");return Qe(`${Te}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis`,{method:"DELETE"})}},oD={getRates:async e=>Qe(`${Te}/shipping/rates`,{method:"POST",body:JSON.stringify(e)})},IB={confirmStripeIntent:async e=>Qe(`${Te}/payments/stripe/confirm`,{method:"POST",body:JSON.stringify({paymentIntentId:e})})},ea={submitDoctorReferral:async e=>Qe(`${Te}/referrals/doctor/referrals`,{method:"POST",body:JSON.stringify(e)}),getDoctorSummary:async()=>Qe(`${Te}/referrals/doctor/summary`),getDoctorLedger:async()=>Qe(`${Te}/referrals/doctor/ledger`),getSalesRepDashboard:async e=>{const t=new URLSearchParams;e?.salesRepId&&t.set("salesRepId",e.salesRepId),e?.scope&&t.set("scope",e.scope);const r=t.toString(),n=r?`${Te}/referrals/admin/dashboard?${r}`:`${Te}/referrals/admin/dashboard`;return Qe(n)},createReferralCode:async e=>Qe(`${Te}/referrals/admin/referrals/code`,{method:"POST",body:JSON.stringify({referralId:e})}),updateCodeStatus:async(e,t)=>Qe(`${Te}/referrals/admin/codes/${e}`,{method:"PATCH",body:JSON.stringify({status:t})}),updateReferral:async(e,t)=>Qe(`${Te}/referrals/admin/referrals/${e}`,{method:"PATCH",body:JSON.stringify(t)}),getSalesProspect:async e=>Qe(`${Te}/referrals/admin/sales-prospects/${encodeURIComponent(e)}`),upsertSalesProspect:async(e,t)=>Qe(`${Te}/referrals/admin/sales-prospects/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),uploadResellerPermit:async(e,t)=>{const r=new FormData;return r.append("file",t),sD(`${Te}/referrals/admin/sales-prospects/${encodeURIComponent(e)}/reseller-permit`,{method:"POST",body:r})},downloadResellerPermit:async e=>H_(`${Te}/referrals/admin/sales-prospects/${encodeURIComponent(e)}/reseller-permit`,{method:"GET"}),deleteResellerPermit:async e=>Qe(`${Te}/referrals/admin/sales-prospects/${encodeURIComponent(e)}/reseller-permit`,{method:"DELETE"}),createManualProspect:async e=>Qe(`${Te}/referrals/admin/manual`,{method:"POST",body:JSON.stringify(e)}),deleteManualProspect:async e=>Qe(`${Te}/referrals/admin/manual/${e}`,{method:"DELETE"}),deleteDoctorReferral:async e=>{try{return await Qe(`${Te}/referrals/doctor/referrals/${e}`,{method:"DELETE"})}catch(t){if(t?.status===404)return{deleted:!0};throw t}},getReferralCodes:async()=>Qe(`${Te}/referrals/admin/codes`),addManualCredit:async e=>Qe(`${Te}/referrals/admin/credits`,{method:"POST",body:JSON.stringify(e)})},ef=async()=>{try{return(await fetch(`${Te}/health`)).ok}catch{return!1}},QN={getPeptideHeadlines:async()=>{const e=Date.now(),t=await fetch(`${Te}/news/peptides?_ts=${e}`,{headers:{Accept:"application/json"},credentials:"include"});if(!t.ok){if(t.status===404)return{items:[],count:0};throw new Error(`Failed to fetch peptide news (${t.status})`)}return t.json()}},lD={getQuoteOfTheDay:async()=>{const e=await fetch(`${Te}/quotes/daily`,{headers:{Accept:"application/json"},credentials:"include"});if(!e.ok)throw new Error(`Failed to fetch quote (${e.status})`);return e.json()}},cD={listPeptideForum:async()=>{const e=await fetch(`${Te}/forum/the-peptide-forum?_ts=${Date.now()}`,{headers:{Accept:"application/json"},credentials:"include"});if(!e.ok){const t=await e.text().catch(()=>"");throw new Error(t||`Forum request failed (${e.status})`)}return e.json()}},JN={request:async e=>Qe(`${Te}/password-reset/request`,{method:"POST",body:JSON.stringify({email:e})}),reset:async(e,t)=>Qe(`${Te}/password-reset/reset`,{method:"POST",body:JSON.stringify({token:e,password:t})})},MB={getAll:async()=>Qe(`${Te}/contact`)},uD={post:async(e,t)=>{const r=om(),n=e.startsWith("http://")||e.startsWith("https://")?e:`${Te}${e.startsWith("/")?e:`/${e}`}`,a={"Content-Type":"application/json"};return r&&(a.Authorization=`Bearer ${r}`),fetch(n,{method:"POST",headers:a,body:JSON.stringify(t??{})})}},hx=Object.freeze(Object.defineProperty({__proto__:null,API_BASE_URL:Te,api:uD,authAPI:ds,checkServerHealth:ef,contactFormsAPI:MB,forumAPI:cD,newsAPI:QN,ordersAPI:Ba,passwordResetAPI:JN,paymentsAPI:IB,quotesAPI:lD,referralAPI:ea,settingsAPI:vr,shippingAPI:oD,wooAPI:sf},Symbol.toStringTag,{value:"Module"})),DB={},LB=String(DB?.VITE_PROXY_WOO_MEDIA||"").toLowerCase()!=="false",$B=Te.replace(/\/+$/,""),Lv=e=>e?LB?`${$B}/woo/media?src=${encodeURIComponent(e)}`:e:null,o2="__peppro_tab_id__",FB=e=>{try{return window.sessionStorage.getItem(e)}catch{return null}},BB=(e,t)=>{try{window.sessionStorage.setItem(e,t)}catch{}},dD=e=>{try{return window.localStorage.getItem(e)}catch{return null}},qB=(e,t)=>{try{window.localStorage.setItem(e,t)}catch{}},UB=e=>{try{window.localStorage.removeItem(e)}catch{}},zB=()=>`tab_${typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Math.random().toString(16).slice(2)}${Date.now().toString(16)}`}`,G_=()=>{if(typeof window>"u")return"server";const e=FB(o2);if(e)return e;const t=zB();return BB(o2,t),t},fD=e=>`peppro:lock:${e}`,Cl=(e,t)=>{if(typeof window>"u")return!0;const r=Math.max(5e3,Number.isFinite(t)?t:15e3),n=fD(e),a=G_(),s=Date.now();let c=null;const d=dD(n);if(d)try{c=JSON.parse(d)}catch{c=null}if(!c||typeof c.expiresAt!="number"||c.expiresAt<=s||!c.tabId||c?.tabId===a){const p={tabId:a,expiresAt:s+r,updatedAt:s};return qB(n,JSON.stringify(p)),!0}return!1},Zs=e=>{if(typeof window>"u")return;const t=fD(e),r=G_(),n=dD(t);if(n)try{JSON.parse(n)?.tabId===r&&UB(t)}catch{}},oy=e=>(e||"").toLowerCase(),l2=e=>oy(e)==="admin",c2=e=>{const t=oy(e);return t!=="admin"&&(t==="sales_lead"||t==="saleslead"||t==="sales-lead")},u2=e=>{const t=oy(e);return t!=="admin"&&(t==="sales_rep"||t==="rep"||t==="sales_lead"||t==="saleslead"||t==="sales-lead")},d2=e=>{const t=oy(e);return t==="doctor"||t==="test_doctor"},WB=({activeBars:e})=>{const t=Math.max(0,Math.min(e,3)),r="rgb(30, 41, 59)",n="rgb(203, 213, 225)",a=[{x:2,y:9,w:4,h:4},{x:8,y:6,w:4,h:7},{x:14,y:3,w:4,h:10}];return l.jsx("svg",{width:"22",height:"14",viewBox:"0 0 20 14",fill:"none","aria-hidden":"true",children:a.map((s,c)=>{const d=c<t;return l.jsx("rect",{x:s.x,y:s.y,width:s.w,height:s.h,rx:"1",fill:d?r:n},c)})})},HB=(e,t)=>{const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,n.rel="noopener noreferrer",document.body.appendChild(n),n.click(),n.remove(),window.setTimeout(()=>URL.revokeObjectURL(r),1500)},VB=(e,t)=>{const r=t?.maxSize,n=t?.quality;return new Promise((s,c)=>{const d=new Image;d.onload=()=>s(d),d.onerror=c,d.src=URL.createObjectURL(e)}).then(s=>{const{naturalWidth:c,naturalHeight:d,src:f}=s,p=Math.min(1,r/Math.max(c,d)),g=Math.max(1,Math.round(c*p)),h=Math.max(1,Math.round(d*p)),x=document.createElement("canvas");x.width=g,x.height=h;const S=x.getContext("2d");if(!S)throw URL.revokeObjectURL(f),new Error("Unable to get canvas context");S.drawImage(s,0,0,g,h);const P=x.toDataURL("image/jpeg",n);return URL.revokeObjectURL(f),P})},f2=e=>{if(!e)return"Pending";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"})},Io=(e,t="USD")=>{if(e==null||Number.isNaN(e))return"";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}catch{return`$${e.toFixed(2)}`}},yr=(e,t=0)=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const r=parseFloat(e);return Number.isNaN(r)?t:r}return t},pD=e=>{if(!e)return null;const t=e.replace(/[_-]+/g," ").trim();return t?t.replace(/\b\w/g,r=>r.toUpperCase()):null},GB=e=>{if(!e)return"PP";const t=new Set(["mr","mrs","ms","miss","mx","dr","doctor","prof","prof.","sir","madam"]),r=new Set(["jr","sr","ii","iii","iv","v"]),n=e.split(/\s+/).map(d=>d.replace(/[.,]/g,"").trim()).filter(Boolean),a=n.filter((d,f)=>{const p=d.toLowerCase();return!(t.has(p)||f===n.length-1&&r.has(p))});if(a.length===0)return"PP";const s=a[0]?.[0]||"",c=a.length>1&&a[a.length-1]?.[0]||"";return(s+c).toUpperCase()||"PP"},ta=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},KB=(e,t)=>{if(!e)return null;const r=(t||"").toLowerCase(),n=encodeURIComponent(e);return r.includes("ups")?`https://www.ups.com/track?loc=en_US&tracknum=${n}`:r.includes("usps")?`https://tools.usps.com/go/TrackConfirmAction?tLabels=${n}`:r.includes("fedex")?`https://www.fedex.com/fedextrack/?trknbr=${n}`:r.includes("dhl")?`https://www.dhl.com/en/express/tracking.html?AWB=${n}`:`https://www.google.com/search?q=${n}`},iv=e=>{if(!e)return null;const t=e?.number||e?.id||e?.wooOrderNumber||e?.orderNumber||"unknown";let r=null;const n=e?.trackingNumber||e?.tracking_number||e?.tracking||null;if(n&&(r=String(n)),!r){const a=ta(e.integrationDetails||e.integrations),s=ta(a?.shipStation||a?.shipstation),c=s?.trackingNumber||s?.tracking_number||s?.tracking||null;if(c&&(r=String(c)),!r){const d=s?.shipments||s?.shipment||s?.data?.shipments||[];if(Array.isArray(d)){const f=x=>x?.trackingNumber||x?.tracking_number||x?.tracking||null,p=d.find(x=>x&&x.voided===!1&&f(x)),g=d.find(x=>x&&f(x)),h=p||g;h&&(r=String(f(h)))}}}return r?(console.info("[Tracking] Resolved tracking number",{order:t,tracking:r}),r):null},YB=["processing","completed","complete","shipped","in-transit","in_transit","out-for-delivery","out_for_delivery","delivered","fulfilled"],p2=e=>{if(!e)return!1;const t=e.toLowerCase();return YB.some(r=>t.includes(r))},m2=e=>{const t=e.shippingEstimate;if(!t)return null;if(t.estimatedArrivalDate){const r=new Date(t.estimatedArrivalDate);if(!Number.isNaN(r.getTime()))return r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}if(t.deliveryDateGuaranteed){const r=new Date(t.deliveryDateGuaranteed);if(!Number.isNaN(r.getTime()))return r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}if(t.estimatedDeliveryDays&&Number.isFinite(t.estimatedDeliveryDays)){const r=e.createdAt?new Date(e.createdAt):new Date;if(!Number.isNaN(r.getTime())){const n=new Date(r.getTime());return n.setDate(n.getDate()+Number(t.estimatedDeliveryDays)),n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}return null},XB=e=>e&&pD(e.serviceType||e.serviceCode)||null,h2=new Set(["pending","on-hold","on_hold"]),Vh=e=>{if(!e)return null;if(typeof e=="string")try{return JSON.parse(e)}catch{return null}return typeof e=="object"?e:null},g2=e=>{if(!e)return null;const t=e.first_name||"",r=e.last_name||"";return{name:[t,r].filter(Boolean).join(" ").trim()||e.name||null,company:e.company||null,addressLine1:e.address_1||e.addressLine1||null,addressLine2:e.address_2||e.addressLine2||null,city:e.city||null,state:e.state||null,postalCode:e.postcode||e.postal_code||e.postalCode||null,country:e.country||null,phone:e.phone||null,email:e.email||null}},y2=e=>{if(!e)return l.jsx("p",{className:"text-sm text-slate-500",children:"No address available."});const t=[],r=a=>{if(typeof a!="string")return;const s=a.trim();s&&t.push({key:s,node:s})};r(e.name||null),r(e.company||null),r([e.addressLine1,e.addressLine2].filter(Boolean).join(" ").trim()||null),r([e.city,e.state,e.postalCode].filter(Boolean).join(", ").replace(/, ,/g,", ").replace(/^,/,"").trim()||null),r(e.country||null),r(e.phone?`Phone: ${e.phone}`:null);const n=typeof e.email=="string"?e.email.trim():"";return n&&t.push({key:`email-${n}`,node:l.jsxs(l.Fragment,{children:["Email: ",l.jsx("a",{href:`mailto:${n}`,children:n})]})}),t.length?l.jsx("div",{className:"text-sm text-slate-700 space-y-1 text-left",children:t.map((a,s)=>l.jsx("p",{children:a.node},`${a.key}-${s}`))}):l.jsx("p",{className:"text-sm text-slate-500",children:"No address available."})},v2=e=>{const t=e.trim();if(!t)return t;const[r,n=""]=t.split("?"),a=r.match(/^(.*)-(\d{2,4})x(\d{2,4})(\.[a-zA-Z0-9]+)$/);if(!a)return t;const s=`${a[1]}${a[4]}`;return n?`${s}?${n}`:s},Lo=e=>{if(typeof e=="string"&&e.trim().length>0)return Lv(v2(e));if(e&&typeof e=="object"){const t=e.src||e.url||e.href||e.source;if(typeof t=="string"&&t.trim().length>0)return Lv(v2(t))}return null},Al=e=>{if(e==null)return null;if(typeof e=="number"&&Number.isFinite(e))return String(e);if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},QB=(e,t=[])=>{if(!Array.isArray(t)||t.length===0)return null;const r=e.sku?.trim(),n=e.name?.trim().toLowerCase(),a=Al(e.productId)||Al(e?.product_id),s=Al(e.variantId)||Al(e?.variation_id);return t.find(c=>{if(!c)return!1;const d=typeof c.sku=="string"?c.sku.trim():null;if(r&&d&&r===d)return!0;const f=Al(c.product_id);if(a&&f&&a===f)return!0;const p=Al(c.variation_id);if(s&&p&&s===p)return!0;const g=typeof c.name=="string"?c.name.trim().toLowerCase():null;return!!(n&&g&&n===g)})},gx=(e,t=[])=>{const r=Lo(e?.image)||Lo(e?.imageUrl)||Lo(e?.thumbnail);if(r)return r;const n=QB(e,t);if(!n)return null;const a=Lo(n?.image)||Lo(n?.product_image)||Lo(n?.image_url);if(a)return a;const s=Array.isArray(n?.meta_data)?n.meta_data:[];for(const c of s){const d=Lo(c?.value);if(d)return d;if(typeof c?.value=="string"&&c.value.trim().length>0)return c.value.trim()}return null},JB=e=>e?e.trim().toLowerCase()==="trash"?"Canceled":e.split(/[_\s]+/).map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "):"Pending",_l=e=>{if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},mD=e=>{const t=String(e||"").trim().toLowerCase();return t==="refunded"||t==="cancelled"||t==="canceled"||t==="trash"},ZB=e=>{if(!e)return null;const r=(e.status?String(e.status):"").trim(),n=r.toLowerCase();if(mD(r)||n==="completed"||n==="complete"||n==="processing"||n==="pending"||n==="on-hold"||n==="on_hold"||n==="failed")return r.length>0?r:null;const a=e.shippingEstimate?.status||e.integrationDetails?.shipStation?.status,s=a?String(a).trim():"",c=s.toLowerCase(),d=c.includes("in_transit")||c.includes("in-transit")||c.includes("out_for_delivery")||c.includes("out-for-delivery")||c.includes("delivered")||c.includes("awaiting_shipment")||c.includes("awaiting shipment")||c.includes("shipped");return s&&d?s:r.length>0?r:null},b2=e=>{const t=ZB(e),n=(t?String(t):"").trim().toLowerCase();if(n==="trash"||n==="canceled"||n==="cancelled")return"Canceled";if(n==="refunded")return"Refunded";const a=typeof e?.trackingNumber=="string"?e.trackingNumber.trim():"",s=e?.shippingEstimate?.estimatedArrivalDate||null,c=typeof s=="string"&&s.trim().length>0;return n==="shipped"?a&&!c?"Processing":"Shipped":n.includes("out_for_delivery")||n.includes("out-for-delivery")?"Out for Delivery":n.includes("in_transit")||n.includes("in-transit")?"In Transit":n.includes("delivered")?"Delivered":a&&!c?"Processing":a&&c?"Shipped":n==="processing"?"Processing":n==="completed"||n==="complete"?"Completed":n==="awaiting_shipment"||n==="awaiting shipment"?"Order Received":t?JB(t):"Pending"},eq=e=>{if(!e)return"Updated a few moments ago";const t=new Date(e),r=Date.now(),n=t.getTime();if(Number.isNaN(n))return`Updated ${e}`;const a=Math.max(0,r-n);if(a<9e4)return"Updated a few moments ago";const s=Math.floor(a/1e3),c=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let d=s;const f=[];for(const p of c){const g=Math.floor(d/p.seconds);if(g>0&&(f.push(`${g}${p.label}`),d-=g*p.seconds),f.length>=2)break}return f.length?`Updated ${f.join(" ")} ago`:"Updated a few moments ago"};function tq({user:e,researchDashboardEnabled:t=!1,onLogin:r,onLogout:n,cartItems:a,onSearch:s,onCreateAccount:c,onCartClick:d,loginPromptToken:f,loginContext:p=null,showCartIconFallback:g=!1,onShowInfo:h,onUserUpdated:x,accountOrders:S=[],accountOrdersLoading:P=!1,accountOrdersError:j=null,ordersLastSyncedAt:N,onRefreshOrders:k,accountModalRequest:T=null,showCanceledOrders:R=!1,onToggleShowCanceled:M,onBuyOrderAgain:O,onCancelOrder:I,referralCodes:D=[],catalogLoading:B=!1}){const G="rgb(95, 179, 249)",X="rgba(95, 179, 249, 0.18)",[Y,oe]=y.useState(!1),[se,ie]=y.useState(""),[K,ne]=y.useState(""),[ee,z]=y.useState("login"),[fe,pe]=y.useState(""),[q,J]=y.useState(""),[de,be]=y.useState(""),[Ae,Ie]=y.useState(""),[Fe,ke]=y.useState(""),[Se,De]=y.useState(""),ze=y.useRef(null),[xe,Ve]=y.useState(""),[dt,it]=y.useState(""),[pt,Ee]=y.useState(!1),[Le,Ke]=y.useState("details"),[Ye,mt]=y.useState(!1),[st,ar]=y.useState(!1),[Vr,mr]=y.useState(null),[Vt,Mt]=y.useState(!1),[fi,kr]=y.useState(!1),Ct=y.useRef(null),[en,Gt]=y.useState(!1),[Gr,Ur]=y.useState(!1),[xa,lr]=y.useState(!1),[Vn,Kt]=y.useState(!1),[Or,tn]=y.useState(!1),[Wa,dn]=y.useState(!1),[wa,ct]=y.useState(0),[qt,Ut]=y.useState(250),zt=y.useRef(0),$t=y.useRef([]),Ot=y.useRef(null),Yt=y.useRef(!1),Tr=y.useRef(!1),[xr,Rr]=y.useState({orderId:"",email:""}),[Kr,cr]=y.useState(!1),[Ha,Wi]=y.useState(null),Ko=y.useRef(null),[pi,Vl]=y.useState("fair"),[rn,xs]=y.useState({downloadMbps:null,uploadMbps:null,latencyMs:null,measuredAt:null}),[ur,Va]=y.useState(e),nu=y.useRef(null),[$e,me]=y.useState(null),[Me,ft]=y.useState(Array.isArray(S)?S:[]),Ze=y.useRef(Array.isArray(S)?S:[]),[et,St]=y.useState(null),[jt,hr]=y.useState({}),Ir=y.useRef({}),Yr=y.useRef(new Set),It=y.useRef({active:0,queue:[]}),Xr=y.useRef(null),Mr=y.useRef(null),Sa=y.useRef(null),nn=Le==="research"&&Ye,mi=y.useCallback(()=>{Sa.current!==null&&(clearTimeout(Sa.current),Sa.current=null)},[]),Gn=y.useCallback((Z=!1)=>{if(mi(),ar(!1),Z){mt(!1),mr(null);return}Sa.current=window.setTimeout(()=>{mt(!1),mr(null),Sa.current=null},320)},[mi]),Wm=y.useCallback(()=>{mi();const Z=Xr.current,le=Mr.current;if(Z&&le){const ye=Z.getBoundingClientRect(),we=le.getBoundingClientRect();mr({top:ye.top-we.top,left:ye.left-we.left,width:ye.width,height:ye.height})}else mr(null);ar(!1),mt(!0),requestAnimationFrame(()=>ar(!0))},[mi]),io=y.useCallback(()=>{if(Ye){Gn();return}Wm()},[Gn,Wm,Ye]);y.useEffect(()=>{Le!=="research"&&Gn(!0)},[Le,Gn]),y.useEffect(()=>{pt||Gn(!0)},[pt,Gn]),y.useEffect(()=>()=>mi(),[mi]);const ws=y.useRef(null),hi=y.useRef(null),wr=y.useRef(null),Gl=y.useRef(""),so=y.useRef({}),Hi=y.useRef(null),[au,iu]=y.useState(!1),[gi,Kl]=y.useState(0),[Yo,Rt]=y.useState(!1),su=y.useRef(!1),oo=y.useRef(null);y.useEffect(()=>{const Z={offline:0,poor:1,fair:2,good:3};let le=!0;const ye={current:null},we={current:null},Be={current:0},_e={current:0},rt={current:null},bt={current:null},Nt={current:"fair"},Qr={current:0},sn={current:0},mn={current:0},xi={current:0},Ca={current:null};let Kn=null,Ja=null,Pa=null,Yn=null,Re=null,Aa=0,Za=0;const sa=ot=>{if(!ot)return"";const lt=ot?.message;if(typeof lt=="string")return lt;try{return String(ot)}catch{return""}},Nr=ot=>{const lt=sa(ot).toLowerCase();return lt?lt.includes("appears to be offline")||lt.includes("internet connection")||lt.includes("not connected to the internet")||lt.includes("network request failed")||lt.includes("failed to fetch")||lt.includes("load failed")||lt.includes("offline"):!1},on=()=>{xi.current=Date.now(),mn.current=0,sn.current=0},ln=()=>mn.current<2?!1:xi.current?Date.now()-xi.current>9e3:!0,Rn=ot=>{let lt=null;for(const yt of ot)yt&&(!lt||Z[yt]<Z[lt])&&(lt=yt);return lt??"fair"},Dr=()=>{const ot=(()=>{if(ye.current==="offline"||we.current==="offline")return"offline";const lt=!!bt.current;return Rn(lt?[ye.current,we.current,rt.current,bt.current]:[ye.current,we.current,rt.current])})();Nt.current=ot,le&&Vl(ot)},_n=ot=>{const lt=typeof ot.at=="number"?ot.at:Date.now();if(ot.ok){Be.current=lt,_e.current=0,we.current=null,Dr();return}_e.current+=1;const yt=typeof ot.status=="number"?ot.status:null,Wt=typeof ot.message=="string"?ot.message.toLowerCase():"";if(!(yt===429||yt===500||yt===502||yt===503||yt===504||Wt.includes("failed to fetch")||Wt.includes("load failed")))return;const jr=Be.current>0&&lt-Be.current<9e3;we.current=_e.current>=2&&!jr?"offline":"poor",Dr()},vo=()=>{if(typeof navigator>"u")return null;if(navigator.onLine===!1)return"offline";const ot=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!ot)return null;const lt=String(ot.effectiveType||"").toLowerCase(),yt=typeof ot.downlink=="number"?ot.downlink:null,Wt=typeof ot.rtt=="number"?ot.rtt:null;if(!!ot.saveData||lt==="slow-2g"||lt==="2g")return"poor";if(lt==="3g")return"fair";if(lt==="4g")return"good";if(typeof yt=="number"&&yt>0){if(yt<1)return"poor";if(yt<2)return"fair";if(yt>=8)return"good"}if(typeof Wt=="number"){if(Wt>900)return"poor";if(Wt>450)return"fair";if(Wt<=200)return"good"}return"fair"},oa=async()=>{if(typeof navigator>"u")return null;if(navigator.onLine===!1)return"offline";const ot=Aa+=1,lt=performance.now(),yt=1800;Yn&&Yn.abort();const Wt=new AbortController;Yn=Wt;const Lr=window.setTimeout(()=>Wt.abort(),yt);try{const jr=await fetch(`/index.html?ping=1&t=${Date.now()}`,{method:"GET",cache:"no-store",signal:Wt.signal,headers:{"Cache-Control":"no-cache"}});await jr.text();const Dt=performance.now()-lt;return!le||ot!==Aa?null:(on(),Ca.current=Math.round(Dt),xs(Mn=>({...Mn,latencyMs:Math.round(Dt),measuredAt:Date.now()})),jr.ok?Dt>2200?"poor":Dt>900?"fair":"good":Dt>1400?"poor":"fair")}catch(jr){return!le||ot!==Aa?null:jr?.name==="AbortError"?(mn.current+=1,ln()?"offline":"poor"):jr instanceof TypeError&&(Nr(jr)||(sn.current+=1,sn.current>=2))||Nr(jr)?"offline":"poor"}finally{window.clearTimeout(Lr)}},la=async()=>{if(typeof navigator>"u")return{downloadMbps:null,quality:null};if(navigator.onLine===!1)return{downloadMbps:null,quality:"offline"};const ot=Za+=1,lt=5200;Re&&Re.abort();const yt=new AbortController;Re=yt;const Wt=window.setTimeout(()=>yt.abort(),lt),Lr=async Dt=>{const Mn=performance.now(),hn=await fetch(Dt.url,{method:"GET",cache:"no-store",signal:yt.signal,headers:{"Cache-Control":"no-cache"}});if(!le||ot!==Za||!hn.ok)return null;const Ea=jr();let ti=0,wi=0;if(hn.body&&typeof hn.body.getReader=="function"){const bo=hn.body.getReader();try{for(;ti<Ea;){const{done:Si,value:tc}=await bo.read();if(Si)break;ti+=tc?.byteLength??0}wi=performance.now()-Mn}catch{wi=performance.now()-Mn}finally{try{await bo.cancel()}catch{}}}else{const bo=await hn.arrayBuffer();ti=Math.min(bo.byteLength,Ea),wi=performance.now()-Mn}return!ti||wi<=0?null:ti*8/(wi/1e3)/1e6},jr=()=>{const Dt=Ca.current;return typeof Dt=="number"&&Dt>1400?14e4:32e4};try{const Dt=await Lr({url:`/leafTexture.jpg?networkTest=1&t=${Date.now()}`});if(!le||ot!==Za)return{downloadMbps:null,quality:null};const Mn=typeof Dt=="number"&&Number.isFinite(Dt);if(!Mn)return sn.current+=1,{downloadMbps:null,quality:sn.current>=2?"offline":"poor"};on();const hn=Mn?Dt:null,Ea=Ca.current;xs({downloadMbps:hn?Math.round(hn*10)/10:null,uploadMbps:null,latencyMs:typeof Ea=="number"?Ea:null,measuredAt:Date.now()});const ti=typeof hn=="number"&&hn<.8,wi=typeof Ea=="number"&&Ea>2500;if(ti||wi)return{downloadMbps:hn,quality:"poor"};const Df=typeof hn=="number"&&hn<2,bo=typeof Ea=="number"&&Ea>900;return Df||bo?{downloadMbps:hn,quality:"fair"}:{downloadMbps:hn,quality:"good"}}catch(Dt){if(!le||ot!==Za)return{downloadMbps:null,quality:null};if(Dt?.name==="AbortError")return mn.current+=1,{downloadMbps:null,quality:ln()?"offline":"poor"};if(Dt instanceof TypeError){if(Nr(Dt))return{downloadMbps:null,quality:"offline"};if(sn.current+=1,sn.current>=2)return{downloadMbps:null,quality:"offline"}}return{downloadMbps:null,quality:Nr(Dt)?"offline":"poor"}}finally{window.clearTimeout(Wt)}},In=()=>{ye.current=vo(),Dr()},ca=async()=>{const ot=await oa();le&&(rt.current=ot,Dr())},ua=async()=>{const ot=Date.now(),lt=Nt.current==="poor"||Nt.current==="offline"?3e4:75e3;if(ot-Qr.current<lt)return;Qr.current=ot;const yt=await la();le&&(bt.current=yt.quality,Dr())},ei=()=>{Pa&&window.clearTimeout(Pa),document.visibilityState==="visible"&&(Pa=window.setTimeout(()=>{ca(),ua()},50))};In(),ca(),ua(),window.addEventListener("online",In),window.addEventListener("offline",In);const Xt=ot=>{const lt=ot?.detail;lt&&typeof lt.ok=="boolean"?_n(lt):_n({ok:!1})};window.addEventListener("peppro:api-reachability",Xt),document.addEventListener("visibilitychange",ei);const ir=navigator?.connection;return ir&&typeof ir.addEventListener=="function"&&ir.addEventListener("change",In),Kn=window.setInterval(()=>{document.visibilityState==="visible"&&ca()},5e3),Ja=window.setInterval(()=>{document.visibilityState==="visible"&&ua()},3e4),()=>{le=!1,Kn&&window.clearInterval(Kn),Ja&&window.clearInterval(Ja),Pa&&window.clearTimeout(Pa),Yn&&Yn.abort(),Re&&Re.abort(),window.removeEventListener("online",In),window.removeEventListener("offline",In),window.removeEventListener("peppro:api-reachability",Xt),document.removeEventListener("visibilitychange",ei),ir&&typeof ir.removeEventListener=="function"&&ir.removeEventListener("change",In)}},[]);const Vi=y.useCallback(Z=>{if(!Z)return;const le=ye=>ye?String(ye).trim():null;ft(ye=>ye.some(we=>le(we.id)===le(Z.id)||le(we.wooOrderId)===le(Z.wooOrderId)||le(we.wooOrderNumber)===le(Z.wooOrderNumber)||le(we.number)===le(Z.number))?ye:[Z,...ye])},[]),Gi=y.useCallback(()=>{const Z=so.current;Z.email!==void 0&&ws.current&&(ws.current.value=Z.email,Z.email=void 0),Z.password!==void 0&&hi.current&&(hi.current.value=Z.password,Z.password=void 0)},[]),Ss=y.useCallback(Z=>{Z.email!==void 0&&(so.current.email=Z.email),Z.password!==void 0&&(so.current.password=Z.password),Gi()},[Gi]),Yl=y.useCallback(async()=>{if(!su.current){su.current=!0;try{const Z=await eD();Z&&Ss({email:Z.id,password:Z.password})}finally{su.current=!1}}},[Ss]),ou=y.useCallback(()=>{!Y||ee!=="login"||Yl()},[Yl,Y,ee]);y.useEffect(()=>{T&&(T.token&&T.token===oo.current||(oo.current=T.token??Date.now(),console.debug("[Header] Processing account modal request",T),T.order&&(Vi(T.order),me(T.order)),T.tab&&Ke(T.tab),(T.open||T.order)&&Ee(!0)))},[T,Vi]),y.useEffect(()=>{Va(e)},[e]),y.useEffect(()=>{if(!Y||ee!=="login")return;const Z=requestAnimationFrame(()=>{Gi()});return()=>cancelAnimationFrame(Z)},[Y,ee,Gi]),y.useEffect(()=>{pt||Ke("details")},[pt]);const Ki=ur?.role??e.role,Ga=l2(Ki),Yi=u2(Ki)||c2(Ki),Ka=ur?Ga?`Admin: ${ur.name}`:c2(Ki)?`Lead: ${ur.name}`:Yi?`Rep: ${ur.name}`:ur.name:"",Xi=ur?.profileImageUrl||e.profileImageUrl||null,lo=GB(ur?.name||e.name||Ka),Xo=(Array.isArray(D)?D.map(Z=>Z==null?"":String(Z).trim().toUpperCase()).filter((Z,le,ye)=>Z.length>0&&ye.indexOf(Z)===le):[])[0]||null,Of=(Ga||Yi)&&!!Xo,ia=y.useRef(null),[id,Xl]=y.useState(0),[Ql,sd]=y.useState(0),[Hm,Qo]=y.useState(0),fn=y.useRef({isDragging:!1,startX:0,scrollLeft:0}),co=(Z=32,le="")=>{const ye=typeof Z=="number"?`${Z}px`:Z,we=typeof Z=="number"?Z:null,Be=we?`${Math.max(12,Math.round(we*.45))}px`:void 0;return Xi?l.jsx("img",{src:Xi,alt:`${Ka||ur?.name||e.name} avatar`,className:ht("header-avatar-image",le),style:{width:ye,height:ye},onError:()=>{x&&ur&&x({...ur,profileImageUrl:null})}}):l.jsx("div",{className:ht("header-avatar-image header-avatar-fallback",le),style:{width:ye,height:ye,fontSize:Be},"aria-hidden":"true",children:lo})},Ya=y.useCallback(()=>{const Z=ia.current;if(!Z)return;const le=Z.querySelector(`button[data-tab="${Le}"]`);if(!le)return;const ye=8,we=Z.scrollLeft||0,Be=Math.max(0,le.offsetLeft-we+ye),_e=Math.max(0,le.offsetWidth-ye*2);Xl(Be),sd(_e),Qo(1)},[Le]);y.useLayoutEffect(()=>{const Z=requestAnimationFrame(()=>{Ya()});return()=>cancelAnimationFrame(Z)},[Ya,pt,Le]),y.useEffect(()=>{const Z=()=>Ya();return window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[Ya]),y.useEffect(()=>{const Z=ia.current;if(!Z)return;const le=()=>{Ya()};return Z.addEventListener("scroll",le,{passive:!0}),()=>{Z.removeEventListener("scroll",le)}},[Ya]);const Vm=Z=>{if(Z.button!==0)return;const le=ia.current;le&&(fn.current.isDragging=!0,fn.current.startX=Z.clientX,fn.current.scrollLeft=le.scrollLeft,le.classList.add("is-dragging"))},Tf=Z=>{const le=ia.current;if(!le||!fn.current.isDragging)return;Z.preventDefault();const ye=Z.clientX-fn.current.startX;le.scrollLeft=fn.current.scrollLeft-ye},an=()=>{const Z=ia.current;fn.current.isDragging=!1,Z&&Z.classList.remove("is-dragging")},Jl=()=>{an()},pn=()=>{an()},uo=Z=>{const le=ia.current;if(!le||Z.touches.length!==1)return;const ye=Z.touches[0];fn.current.isDragging=!0,fn.current.startX=ye.clientX,fn.current.scrollLeft=le.scrollLeft},Na=Z=>{const le=ia.current;if(!le||!fn.current.isDragging)return;const we=Z.touches[0].clientX-fn.current.startX;le.scrollLeft=fn.current.scrollLeft-we},lu=()=>{an()},Ns=Z=>{const le=ia.current;le&&Math.abs(Z.deltaY)>Math.abs(Z.deltaX)&&(le.scrollLeft+=Z.deltaY,Z.preventDefault())};y.useEffect(()=>{if(!pt)return;const Z=setTimeout(()=>{Ya()},80);return()=>clearTimeout(Z)},[pt,Ya,Le]);const Jo=async Z=>{if(Z.preventDefault(),Or)return;Ve(""),it(""),tn(!0);const le=Z.currentTarget,ye=ws.current?.value??"",we=hi.current?.value??"",Be=bt=>{if(typeof navigator<"u"&&navigator.onLine===!1||pi==="offline")return"offline";if(pi==="poor")return"network";const Nt=String(bt||"").toLowerCase();return Nt?Nt.includes("offline")||Nt.includes("no internet")||Nt.includes("internet connection")?"offline":Nt.includes("failed to fetch")||Nt.includes("networkerror")||Nt.includes("network request failed")||Nt.includes("load failed")||Nt.includes("timeout")||Nt.includes("econnrefused")||Nt.includes("enotfound")||Nt.includes("eai_again")?"network":null:null};if(Be(null)==="offline"){Ve("No internet connection detected. Please turn on Wi-Fi or cellular data and try again."),tn(!1);return}let rt;try{rt=await r(ye,we)}catch(bt){const Nt=typeof bt?.message=="string"?bt.message:null,Qr=Be(Nt);Ve(Qr==="offline"?"No internet connection detected. Please turn on Wi-Fi or cellular data and try again.":Qr==="network"?"Can't reach PepPro right now. This usually means your internet is offline or very slow. Please check your connection and try again.":"Unable to log in. Please try again."),tn(!1);return}if(rt.status==="success"){Ss({email:"",password:""}),le.reset(),oe(!1),z("login"),pe(""),J(""),be(""),Ie(""),ke(""),De(""),Ur(!1),lr(!1),Kt(!1),Ve(""),it(""),p!=="checkout"&&Ee(!0),tn(!1);return}if(rt.status==="sales_rep_signup_required"){Ve("Your sales rep profile needs to be activated before you can sign in. Please finish setting up your account or contact support for help."),Ur(!1),lr(!1),Kt(!1),tn(!1);return}if(rt.status==="invalid_password"){Ve("Incorrect password. Please try again."),Ss({password:""}),z("login"),Ur(!1),lr(!1),Kt(!1),tn(!1);return}if(rt.status==="email_not_found"){Ve(""),it("We couldn't find that email. Please create your account below."),z("signup"),be(ye),J(""),Ie(we),ke(we),De(""),Ur(!1),lr(!1),Kt(!1),tn(!1);return}if(rt.status==="error"){const bt=Be(rt.message);Ve(bt==="offline"?"No internet connection detected. Please turn on Wi-Fi or cellular data and try again.":bt==="network"?"Can't reach PepPro right now. This usually means your internet is offline or very slow. Please check your connection and try again.":"Unable to log in. Please try again.")}tn(!1)};y.useEffect(()=>{f==null||f===0||ze.current!==f&&(ze.current=f,z("login"),Ve(""),it(""),J(""),pe(""),be(""),Ie(""),ke(""),De(""),Ss({email:"",password:""}),Ur(!1),lr(!1),Kt(!1),e||oe(!0),Ee(!1))},[f,e]),y.useEffect(()=>{e&&Y&&oe(!1)},[e,Y]),y.useEffect(()=>{e||Ee(!1)},[e]),y.useEffect(()=>{const Z=Array.isArray(S)?S:[];if(Z.length>0){ft(Z);return}P||ft(Z)},[S,P]),y.useEffect(()=>{Ze.current=Me},[Me]),y.useEffect(()=>{if(!$e||!Me.length)return;const Z=_e=>String(_e??"").trim().toLowerCase(),le=[$e.id,$e.wooOrderId,$e.wooOrderNumber,$e.number,$e.cancellationId].map(Z).filter(Boolean);if(!le.length)return;const ye=Me.find(_e=>[_e.id,_e.wooOrderId,_e.wooOrderNumber,_e.number,_e.cancellationId].map(Z).filter(Boolean).some(bt=>le.includes(bt)));if(!ye)return;const we=String(ye.status??"")!==String($e.status??""),Be=String(ye.updatedAt??"")!==String($e.updatedAt??"");(we||Be)&&me(ye)},[Me,$e?.id,$e?.wooOrderId,$e?.wooOrderNumber,$e?.number,$e?.cancellationId,$e?.status,$e?.updatedAt]),y.useEffect(()=>{Ir.current=jt},[jt]),y.useEffect(()=>{if(!et)return;const Z=ye=>{const we=ye?.cancellationId||ye?.wooOrderId||ye?.id;return we?String(we)===String(et):!1},le=Me.find(Z);if(le&&mD(le.status?String(le.status):null)){const ye=$e?$e.cancellationId||$e.wooOrderId||$e.id:null;ye&&String(ye)===String(et)&&me(null),St(we=>we===et?null:we)}},[et,Me,$e]),y.useEffect(()=>{if(!pt||Le!=="orders"||!k||!e)return;let Z=!1,le=!1;const ye="orders-auto-refresh",we=45e3,Be=()=>!(typeof document<"u"&&document.hidden||typeof navigator<"u"&&navigator.onLine===!1),_e=async()=>{if(!(Z||le)&&Be()&&Cl(ye,we)){le=!0;try{await Promise.resolve(k())}finally{le=!1}}};_e();const rt=window.setInterval(()=>{_e()},2e4);return()=>{Z=!0,Zs(ye),window.clearInterval(rt)}},[pt,Le,k,e]),y.useEffect(()=>{const Z=()=>{if(typeof window<"u"){const le=window.innerWidth>=1024;Gt(le),le&&Mt(!1)}};return Z(),window.addEventListener("resize",Z),()=>{window.removeEventListener("resize",Z)}},[]),y.useEffect(()=>()=>{$t.current.forEach(Z=>window.clearTimeout(Z)),$t.current=[],Ot.current!==null&&(window.cancelAnimationFrame(Ot.current),Ot.current=null)},[]);const Xa=y.useCallback(()=>{$t.current.forEach(Z=>window.clearTimeout(Z)),$t.current=[],Ot.current!==null&&(window.cancelAnimationFrame(Ot.current),Ot.current=null)},[]),Sn=y.useCallback(Z=>{Yt.current||(Yt.current=!0,Z?.closeModal!==!1&&dn(!1),Promise.resolve(n()))},[n]),Zo=y.useCallback(()=>{dn(!1),Tr.current=!1},[]),Sr=y.useCallback((Z,le)=>{Yt.current||(Tr.current=!0,Ut(le),ct(0),Sn({closeModal:!1}),$t.current.push(window.setTimeout(()=>{zt.current===Z&&Zo()},le)))},[Zo,Sn]),js=y.useCallback(()=>{Xa(),Yt.current=!1,Tr.current=!1,zt.current+=1;const Z=zt.current;Ee(!1),oe(!1),Ut(350),ct(0),dn(!0),Ot.current=window.requestAnimationFrame(()=>{zt.current===Z&&ct(1)}),$t.current.push(window.setTimeout(()=>{zt.current===Z&&Sr(Z,350)},5e3))},[Sr,Xa]),od=y.useCallback(Z=>{if(Z){dn(!0);return}if(Yt.current)return;Xa(),zt.current+=1;const le=zt.current;dn(!0),Sr(le,1e3)},[Sr,Xa]);y.useLayoutEffect(()=>{if(typeof window>"u")return;const Z=Ko.current;if(!Z)return;const le=()=>{const{height:we}=Z.getBoundingClientRect();document.documentElement.style.setProperty("--app-header-height",`${Math.round(we)}px`)};le();let ye=null;return"ResizeObserver"in window?(ye=new ResizeObserver(()=>le()),ye.observe(Z)):window.addEventListener("resize",le),()=>{ye?ye.disconnect():window.removeEventListener("resize",le)}},[]),y.useEffect(()=>()=>{Ct.current&&clearTimeout(Ct.current)},[]),y.useEffect(()=>{if(typeof window>"u")return;const Z=()=>{Ee(!1),oe(!1)};return window.addEventListener("peppro:close-dialogs",Z),()=>{window.removeEventListener("peppro:close-dialogs",Z)}},[]);const Qi=Z=>{Z.preventDefault(),s(se),typeof window<"u"&&window.innerWidth<768&&Mt(!1)},_s=Z=>{console.debug("[Header] Search change",{value:Z}),ie(Z),s(Z)};y.useEffect(()=>{Gl.current=se},[se]);const Zt=y.useCallback(()=>{const Z=wr.current;if(Z)try{Z.focus({preventScroll:!0})}catch{Z.focus()}},[]),fo=()=>{Mt(Z=>{const le=!Z;return typeof window<"u"&&(le?window.setTimeout(()=>Zt(),0):wr.current?.blur()),le})};y.useEffect(()=>{Vt&&(typeof window>"u"||window.setTimeout(()=>Zt(),0))},[Zt,Vt]),y.useEffect(()=>{if(!Vt||typeof window>"u")return;const Z=ye=>{if(!ye||!ye.tagName)return!1;const we=ye;if(we===wr.current)return!0;const Be=String(we.tagName||"").toLowerCase();return Be==="input"||Be==="textarea"||Be==="select"?!0:!!we.isContentEditable},le=ye=>{if(Vt){if(ye.key==="Escape"){ye.preventDefault(),Mt(!1),wr.current?.blur();return}if(!(ye.metaKey||ye.ctrlKey||ye.altKey)&&!Z(ye.target)){if(ye.key==="Backspace"){ye.preventDefault();const we=Gl.current||"";_s(we.slice(0,Math.max(0,we.length-1))),Zt();return}if(ye.key.length===1){ye.preventDefault();const we=Gl.current||"";_s(we+ye.key),Zt()}}}};return window.addEventListener("keydown",le,!0),()=>window.removeEventListener("keydown",le,!0)},[Zt,_s,Vt]);const Ji=async Z=>{Z.preventDefault();const ye={name:q?`${q} ${fe}`.trim():fe,email:de,password:Ae,confirmPassword:Fe,code:Se};it(""),Ve("");const we=c?await c(ye):await r(de,Ae);if(we.status==="success"){pe(""),J(""),be(""),Ie(""),ke(""),De(""),Ur(!1),lr(!1),Kt(!1),z("login"),oe(!1),it(""),Ve(""),p!=="checkout"&&Ee(!0);return}if(we.status==="email_exists"){it(""),Ve("An account with this email already exists. Please log in."),z("login"),Ss({email:ye.email,password:""}),J(""),Ie(""),ke(""),De(""),Ur(!1),lr(!1),Kt(!1);return}if(we.status==="invalid_password"){it(""),Ve("Incorrect password. Please try again."),z("login"),Ss({email:ye.email,password:""}),J(""),Ie(""),ke(""),De(""),Ur(!1),lr(!1),Kt(!1);return}if(we.status==="email_not_found"){it("We couldn't find that email. Please create your account below."),z("signup"),be(ye.email),J(""),Ie(""),ke(""),De(""),Ur(!1),lr(!1),Kt(!1);return}if(we.status==="password_mismatch"){it("Passwords do not match. Please confirm and try again.");return}if(we.status==="invalid_referral_code"){it("Referral codes must be 5 characters (e.g., AB123). Please double-check and try again.");return}if(we.status==="referral_code_not_found"){it("We couldn't locate that referral code. Please confirm it with your sales representative.");return}if(we.status==="sales_rep_email_mismatch"){it("Please use the email address associated with your sales representative profile.");return}if(we.status==="referral_code_unavailable"){it("This onboarding code isn't available. Please confirm it with your representative.");return}if(we.status==="name_email_required"){it("Name and email are required to create your account.");return}we.status==="error"&&(we.message==="PASSWORD_REQUIRED"?it("Please create a secure password to access your account."):it("Unable to create an account right now. Please try again."))},Zi=async Z=>{if(Z.preventDefault(),!xr.orderId.trim()){Wi("Please enter a valid order ID.");return}cr(!0),Wi(null);try{await new Promise(le=>setTimeout(le,900)),Wi("We will email your latest tracking update shortly.")}catch(le){console.warn("[Account modal] Tracking lookup failed",le),Wi("Unable to look up that order right now. Please try again.")}finally{cr(!1)}},po=Z=>{console.debug("[Header] Auth dialog open change",{open:Z}),oe(Z),Z||(z("login"),pe(""),J(""),be(""),Ie(""),ke(""),De(""),Ve(""),it(""),Ur(!1),lr(!1),Kt(!1))},Rf=()=>{d&&d()},If=y.useCallback(async Z=>{if(!I)return;St(Z);try{await I(Z)}catch(Be){const _e=typeof Be?.message=="string"&&Be.message.trim().length>0?Be.message:"Unable to cancel this order right now.";He.error(_e),St(rt=>rt===Z?null:rt);return}const le=Be=>{const _e=String(Be||"").trim().toLowerCase();return _e==="refunded"||_e==="cancelled"||_e==="canceled"||_e==="trash"},ye=Be=>{const _e=Be?.cancellationId||Be?.wooOrderId||Be?.id;return _e?String(_e)===String(Z):!1},we=$e?$e.cancellationId||$e.wooOrderId||$e.id:null;(async()=>{const Be=Date.now(),_e=18e4,rt=1500;for(;Date.now()-Be<_e;){try{await Promise.resolve(k?.())}catch{}const bt=Ze.current.find(ye);if(bt&&le(bt.status)){we&&String(we)===String(Z)&&me(null),St(Nt=>Nt===Z?null:Nt);return}await new Promise(Nt=>setTimeout(Nt,rt))}He.info("Cancellation submitted. It may take a moment for the order status to update.")})()},[I,k,$e]),cu=y.useCallback((Z,le)=>{Z&&hr(ye=>{if(Object.is(ye[Z],le))return ye;const we={...ye,[Z]:le};return Ir.current=we,we})},[]),el=y.useCallback(Z=>{if(!Z)return[];const le=ta(Z.integrationDetails),ye=ta(le?.wooCommerce||le?.woocommerce),we=ta(ye?.response)||{},Be=ta(ye?.payload)||{};return Array.isArray(we?.line_items)?we.line_items:Array.isArray(Be?.line_items)?Be.line_items:[]},[]),Nn=y.useCallback(Z=>{if(!Z)return null;const le=Al(Z.productId)||Al(Z?.product_id);if(!le)return null;const ye=Al(Z.variantId)||Al(Z?.variation_id),we=ye?`${le}:${ye}`:`${le}:0`;return{productId:le,variationId:ye||null,key:we}},[]),ja=y.useCallback(async Z=>{const ye=It.current;return new Promise(we=>{const Be=()=>{ye.active+=1,Promise.resolve().then(Z).catch(()=>{}).finally(()=>{ye.active=Math.max(0,ye.active-1);const _e=ye.queue.shift();_e&&_e(),we()})};if(ye.active<4){Be();return}ye.queue.push(Be)})},[]),mo=y.useCallback(async(Z,le=[])=>{const ye=gx(Z,le),we=Nn(Z);if(we){if(ye){cu(we.key,ye);return}if(!Object.prototype.hasOwnProperty.call(Ir.current,we.key)&&!Yr.current.has(we.key)){Yr.current.add(we.key);try{await ja(async()=>{const Be=await nx(()=>Promise.resolve().then(()=>hx),void 0);let _e=null;if(we.variationId)try{const rt=await Be.wooAPI.getProductVariation(we.productId,we.variationId);_e=Lo(rt?.image)||Lo(rt?.images?.[0])||null}catch{}if(!_e)try{const rt=await Be.wooAPI.getProduct(we.productId);_e=Lo(rt?.images?.[0])||Lo(rt?.image)||null}catch{}cu(we.key,_e)})}finally{Yr.current.delete(we.key)}}}},[Nn,ja,cu]),Cs=y.useCallback(Z=>{const le=Z?String(Z).trim().toLowerCase():"";return le==="trash"||le.includes("cancel")||le.includes("refund")},[]),Ps=y.useRef(new Set),ho=y.useCallback(async Z=>{const le=Z?.integrations||Z?.integrationDetails||null,ye=le?.wooCommerce||le?.woocommerce||null,we=Z?.wooOrderId||ye?.wooOrderId||Z?.wooOrderNumber||ye?.wooOrderNumber||Z?.id||null,Be=we?String(we):"";if(!Be){He.error("Invoice is not available for this order yet.");return}if(!Ps.current.has(Be)){Ps.current.add(Be);try{const _e=await nx(()=>Promise.resolve().then(()=>hx),void 0),{blob:rt,filename:bt}=await _e.ordersAPI.downloadInvoice(Be);HB(rt,bt||`PepPro_Invoice_${Be}.pdf`)}catch(_e){const rt=_e instanceof Error?_e.message:"Unable to download invoice right now.";He.error(rt)}finally{Ps.current.delete(Be)}}},[]);y.useEffect(()=>{if(!pt||Le!=="orders")return;const Z=Me.filter(ye=>{const we=(ye.source||"").toLowerCase(),Be=!!(ye.integrationDetails?.wooCommerce||ye.integrationDetails?.woocommerce);return we==="woocommerce"||we==="peppro"||we==="local"||Be}).filter(ye=>R?!0:!Cs(ye.status)),le=new Set;for(const ye of Z){const we=el(ye),Be=Array.isArray(ye.lineItems)?ye.lineItems:[];for(const _e of Be){const rt=Nn(_e);if(rt&&!le.has(rt.key)&&(le.add(rt.key),mo(_e,we),le.size>=40))return}}},[pt,Le,Me,R,mo,el,Nn,Cs]),y.useEffect(()=>{if(!pt||Le!=="orders"||!$e)return;const Z=el($e);(Array.isArray($e.lineItems)?$e.lineItems:[]).forEach(ye=>{mo(ye,Z)})},[pt,Le,$e,mo,el]);const tl=y.useCallback(async()=>{if(Xo)try{if(!navigator?.clipboard)throw new Error("Clipboard API unavailable");await navigator.clipboard.writeText(Xo),kr(!0),Ct.current&&clearTimeout(Ct.current),Ct.current=setTimeout(()=>{kr(!1)},2e3)}catch{kr(!1)}},[Xo]),Zl=()=>l.jsxs(Ue,{variant:"outline",size:"sm",onClick:Rf,className:ht("relative hidden md:inline-flex glass squircle-sm transition-all duration-300 flex-shrink-0",g&&"inline-flex"),style:{color:G,borderColor:X},children:[l.jsx(sm,{className:"h-4 w-4",style:{color:G}}),a>0&&l.jsx(Bc,{variant:"outline",className:"absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center p-0 glass-strong squircle-sm border border-[var(--brand-glass-border-2)] text-[rgb(95,179,249)]",children:a})]}),go=(Z="")=>l.jsxs("div",{className:"relative",children:[l.jsx(r2,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-slate-500"}),l.jsx(Ar,{type:"text",inputMode:"search",enterKeyHint:"search",placeholder:"Search peptides...",value:se,onChange:le=>_s(le.target.value),ref:wr,className:`glass squircle-sm pl-10 pr-12 placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-0 focus-visible:border-[rgba(255,255,255,0.3)] ${Z}`.trim(),style:{borderColor:X,minWidth:"100%"}}),se.trim().length>0&&l.jsx("button",{type:"button","aria-label":"Clear search",onClick:()=>{_s(""),requestAnimationFrame(()=>{wr.current?.focus()})},className:"absolute right-3 left-auto top-1/2 z-10 -translate-y-1/2 rounded-full p-1 text-slate-900/70 transition-colors hover:bg-white/50 hover:text-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.4)]",style:{right:"0.75rem",left:"auto"},children:l.jsx(zu,{className:"h-4 w-4"})})]}),uu=[{id:"details",label:"Details",Icon:O6},{id:"orders",label:"Orders",Icon:Kp},{id:"research",label:"Research",Icon:lB}],es=y.useCallback(async(Z,le)=>{try{const we=await(await nx(()=>Promise.resolve().then(()=>hx),void 0)).authAPI.updateMe(le),Be=Object.fromEntries(Object.entries(le).map(([rt,bt])=>{if(typeof bt=="string"){const Nt=bt.trim();return[rt,Nt.length>0?Nt:null]}return[rt,bt]})),_e={...ur||{},...we||{}};Object.entries(Be).forEach(([rt,bt])=>{const Nt=we?we[rt]:void 0;(Nt==null||typeof Nt=="string"&&Nt.trim().length===0)&&(_e[rt]=bt)}),Va(_e),x?.(_e),He.success(`${Z} updated`)}catch(ye){throw ye?.status===413?He.error("Upload too large. Please choose a smaller image."):ye?.message==="EMAIL_EXISTS"?He.error("That email is already in use."):He.error("Update failed"),ye}},[Va,x,ur]),Mf=[{key:"name",label:"Full Name",autoComplete:"name"},{key:"email",label:"Email",type:"email",autoComplete:"email"},{key:"phone",label:"Phone",autoComplete:"tel"}],yi=[{key:"officeAddressLine1",label:"Street",autoComplete:"shipping address-line1"},{key:"officeAddressLine2",label:"Suite / Unit",autoComplete:"shipping address-line2"},{key:"officeCity",label:"City",autoComplete:"shipping address-level2"},{key:"officeState",label:"State",autoComplete:"shipping address-level1"},{key:"officePostalCode",label:"Postal Code",autoComplete:"shipping postal-code"}],ld=ur?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"glass-card squircle-md p-4 border border-[var(--brand-glass-border-2)] space-y-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Contact Info"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Manage your account and shipping information below."})]}),l.jsxs("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-start pt-2",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:min-w-[220px] sm:max-w-[260px]",children:[l.jsxs("div",{className:"avatar-shell",onClick:()=>Hi.current?.click(),children:[co(72),l.jsx("button",{type:"button",className:"avatar-edit-badge",onClick:Z=>{Z.preventDefault(),Z.stopPropagation(),Rt(le=>!le)},"aria-label":"Edit profile photo",children:l.jsx(XM,{className:"h-3 w-3"})})]}),Yo&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Profile photo"}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l.jsx(Ue,{type:"button",size:"sm",variant:"outline",className:"squircle-sm",disabled:au,onClick:()=>Hi.current?.click(),children:au?`Uploading ${gi}%`:"Upload photo"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Photos must be 50MB or smaller in size."})]})]}),l.jsx("input",{type:"file",accept:"image/*",ref:Hi,className:"hidden",onChange:async Z=>{const le=Z.target.files?.[0];if(!le)return;const ye=50*1024*1024;if(le.size>ye){He.error("Upload too large. Please choose an image 50MB or smaller."),Hi.current&&(Hi.current.value="");return}iu(!0),Kl(8);let we=null;try{console.info("[Profile] Compressing image before upload",{sizeBytes:le.size,name:le.name});const Be=await VB(le,{maxSize:1600,quality:.82});Kl(55);const _e=60,rt=95;let bt=_e;we=window.setInterval(()=>{bt=Math.min(rt,bt+2),Kl(bt)},120),await es("Profile photo",{profileImageUrl:Be}),Kl(100),Rt(!1),He.success("Profile photo updated")}catch(Be){const _e=typeof Be?.message=="string"?Be.message:"Upload failed";He.error(_e),console.error("[Profile] Upload failed",{message:_e,error:Be})}finally{we&&window.clearInterval(we),iu(!1),Kl(0),Hi.current&&(Hi.current.value="")}}})]}),Of&&Xo&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Referral Code"}),l.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-dashed border-slate-300 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-800",children:[l.jsx("span",{className:"tracking-[0.16em] uppercase",children:Xo}),l.jsx(Ue,{type:"button",size:"sm",variant:"outline",className:"squircle-sm text-xs",onClick:tl,children:"Copy"})]}),l.jsx("p",{className:"text-xs text-slate-500",children:"Share this code with doctors to link them to your account. Editing is disabled for security."})]}),l.jsx("div",{className:"flex flex-col gap-3 sm:flex-1",children:Mf.map(({key:Z,label:le,type:ye,autoComplete:we})=>l.jsx(x2,{label:le,value:ur?.[Z]||"",type:ye||"text",autoComplete:we,onSave:async Be=>{await es(le,{[Z]:Be})}},Z))})]})]}),l.jsxs("div",{className:"glass-card squircle-md p-4 border border-[var(--brand-glass-border-2)] space-y-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Direct Shipping"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Update the address where orders should ship."})]}),l.jsx("div",{className:"grid gap-3",children:yi.map(({key:Z,label:le,autoComplete:ye})=>l.jsx(x2,{label:le,value:ur?.[Z]||"",autoComplete:ye,onSave:async we=>{await es(le,{[Z]:we})}},Z))})]})]}):null,rl=l.jsxs("div",{ref:Xr,className:"glass-card squircle-md p-6 border border-[var(--brand-glass-border-2)] text-center space-y-3 bg-white",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Research"}),l.jsx("p",{className:"text-sm text-slate-600",children:"This section is currently in development. Soon you'll be able to access research tools and resources here to share your findings securely and anonymously with the PepPro network of physicians."})]}),jn=l.jsx("div",{ref:Xr,className:ht("transition-all duration-300 ease-in-out bg-white",Ye&&"h-full w-full min-h-full",Ye?"h-full flex flex-col":"space-y-4"),children:l.jsx("div",{className:"flex",children:l.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 text-[rgb(95,179,249)] shadow-[0_10px_18px_-12px_rgba(15,23,42,0.35)] transition-colors hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.35)]","aria-label":Ye?"Exit full screen Research dashboard":"Expand Research dashboard to full screen",onClick:io,children:Ye?l.jsx(U6,{className:"h-4 w-4","aria-hidden":"true",style:{transform:"scaleX(-1)"}}):l.jsx(B6,{className:"h-4 w-4","aria-hidden":"true",style:{transform:"scaleX(-1)"}})})})}),ec=ur?.role||e?.role||null,yo=l2(ec)||oy(ec)==="test_doctor"||t===!0&&(d2(ec)||u2(ec))?jn:rl,du=()=>{const le=!!(ur&&d2(ur.role)),ye=(ur?.salesRep?.email||"").trim(),we=K.trim().toLowerCase(),Be=Me.filter(_e=>{const rt=(_e.source||"").toLowerCase(),bt=!!(_e.integrationDetails?.wooCommerce||_e.integrationDetails?.woocommerce);return rt==="woocommerce"||rt==="peppro"||rt==="local"||bt}).filter(_e=>R?!0:!Cs(_e.status)).filter(_e=>{if(!we)return!0;const rt=ta(_e.integrationDetails),bt=ta(rt?.wooCommerce||rt?.woocommerce),Nt=ta(bt?.response)||{},Qr=_l(_e.wooOrderNumber)||_l(Nt?.number)||_l(bt?.wooOrderNumber)||_l(_e.number)||_l(_e.id)||"",sn=iv(_e),mn=(_e.lineItems||[]).map(Ca=>(Ca?.name||"").toString()).filter(Boolean).join(" ");return[Qr,_e.status||"",sn||"",mn].join(" ").toLowerCase().includes(we)});return Be.length?l.jsxs("div",{className:"space-y-4 pb-4",children:[Be.map(_e=>{const rt=b2(_e),bt=iv(_e),Nt=bt?`${rt}  ${bt}`:rt,Qr=String(_e.status||"").trim().toLowerCase(),sn=Qr.replace(/_/g,"-"),mn=Qr.includes("cancel")||Qr.includes("refund")||Qr==="trash",xi=Qr.includes("processing"),Ca=!!I&&(h2.has(Qr)||h2.has(sn))&&!mn,Kn=_e.cancellationId||_e.wooOrderId||(_e.id?String(_e.id):null),Ja=!!(Kn&&et===Kn),Re=`Order #${_l(_e.wooOrderNumber)||_l(_e.integrationDetails?.wooCommerce?.response?.number)||_l(_e.integrationDetails?.wooCommerce?.wooOrderNumber)||_l(_e.integrationDetails?.woocommerce?.response?.number)||_l(_e.integrationDetails?.woocommerce?.wooOrderNumber)||null||_e.number||_e.id||"Order"}`,Aa=_e.lineItems?.length??0,Za=Aa>0&&(xi||!mn),sa=ta(_e.integrationDetails),Nr=ta(sa?.wooCommerce||sa?.woocommerce),on=ta(Nr?.response)||{},ln=ta(Nr?.payload)||{},Rn=on?.shipping_lines&&on.shipping_lines[0]||ln?.shipping_lines&&ln.shipping_lines[0],Dr=Array.isArray(on?.line_items)?on.line_items:Array.isArray(ln?.line_items)?ln.line_items:[],_n=m2(_e),vo=!!(_n&&(p2(_e.status)||(_e.status||"").toLowerCase()==="completed")),oa=(_e.lineItems||[]).reduce((yt,Wt)=>{const Lr=yr(Wt.total,yr(Wt.subtotal,0));return yt+Lr},0),la=yr(_e.itemsSubtotal??_e.itemsTotal,oa>0?oa:yr(on?.subtotal??ln?.subtotal,0)),In=yr(_e.shippingTotal,yr(on?.shipping_total??ln?.shipping_total??Rn?.total,0)),ca=yr(_e.taxTotal,yr(on?.total_tax??ln?.total_tax,0)),ua=Math.abs(yr(_e.appliedReferralCredit,yr(on?.discount_total??ln?.discount_total??ln?.discount_lines?.[0]?.total??0,0))),ei=yr(_e.grandTotal,yr(_e.total,0)),Xt=la+In+ca-ua,ir=ei>0?ei:Xt,ot=ca>0&&Xt>ir+.01?Xt:ir,lt=`${Aa} item${Aa!==1?"s":""}`;return l.jsxs("div",{className:"account-order-card squircle-lg bg-white border border-[#d5d9d9] overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 bg-[#f5f6f6] border-b border-[#d5d9d9]",children:l.jsxs("div",{className:"order-header-main flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"order-header-meta flex flex-wrap items-center gap-8 text-sm text-slate-700",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Order placed"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:f2(_e.createdAt)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Total"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Io(ot,_e.currency||"USD")})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Status"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Nt})]}),vo&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Expected delivery"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:_n})]})]}),l.jsx("div",{className:"order-header-actions flex flex-row items-end gap-3 text-sm",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3",children:[(()=>{const yt=_e.integrations||sa,Wt=yt?.wooCommerce||yt?.woocommerce||null;return!(_e.wooOrderId||Wt?.wooOrderId||_e.wooOrderNumber||Wt?.wooOrderNumber||null||sa?.wooCommerce?.wooOrderId||sa?.woocommerce?.wooOrderId)?null:l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"text-[rgb(26,85,173)] font-semibold hover:underline",onClick:()=>void ho(_e),children:"Download invoice"}),"|"]})})(),l.jsx("button",{type:"button",className:"text-[rgb(26,85,173)] font-semibold hover:underline",onClick:()=>me(_e),children:"View order details"})]})})]})}),l.jsx("div",{className:"px-6 pt-5 pb-6",children:l.jsxs("div",{className:"order-card-body flex flex-col gap-4 pt-4 md:flex-row md:items-start md:gap-6",children:[l.jsxs("div",{className:"space-y-4 flex-1 min-w-0",children:[l.jsx("div",{className:"order-number-row flex flex-wrap items-start justify-between gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[l.jsxs("p",{className:"text-base font-bold text-slate-900 break-words",children:[l.jsx("span",{className:"mr-2",children:Re}),Za&&l.jsx("span",{className:"text-slate-700 font-semibold",children:lt})]}),!1]})}),_e.lineItems&&_e.lineItems.length>0&&l.jsx("div",{className:"space-y-3",children:_e.lineItems.map((yt,Wt)=>{const Lr=Nn(yt),jr=Lr?jt[Lr.key]:null,Dt=typeof jr=="string"&&jr.trim().length>0?jr:gx(yt,Dr);return l.jsxs("div",{className:"order-line-item flex items-center gap-4 mb-4 min-h-[60px]",children:[l.jsx("div",{className:"h-full min-h-[60px] w-20 rounded-xl border border-[#d5d9d9] bg-white overflow-hidden flex items-center justify-center text-slate-500 flex-shrink-0",style:{maxHeight:"120px"},children:Dt?l.jsx("img",{src:Dt,alt:yt.name||"Item thumbnail",className:"object-contain",style:{width:"100%",height:"100%",maxHeight:"120px"},onError:Mn=>{Mn.currentTarget.style.display="none"}}):l.jsx(Kp,{className:"h-6 w-6 opacity-60"})}),l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx("p",{className:"text-[rgb(26,85,173)] font-semibold leading-snug",children:yt.name||"Item"}),l.jsxs("p",{className:"text-sm text-slate-700",children:["Qty: ",yt.quantity??""]})]})]},yt.id||`${yt.sku}-${Wt}`)})})]}),l.jsxs("div",{className:"order-card-actions flex flex-col gap-2 items-stretch text-center justify-start w-full pb-2 md:items-end md:gap-6 md:w-auto md:min-w-[12rem] md:text-right md:self-stretch md:ml-auto",children:[typeof _e.notes=="string"&&_e.notes.trim().length>0&&l.jsxs("div",{className:"w-full text-left md:text-left rounded-lg border border-slate-200 bg-white/70 px-3 py-2",children:[l.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Notes"}),l.jsx("div",{className:"mt-1 text-sm text-slate-700 whitespace-pre-wrap max-h-24 overflow-auto",children:_e.notes.trim()})]}),l.jsxs(Ue,{type:"button",size:"sm",variant:"outline",className:"header-home-button squircle-sm bg-white text-slate-900 px-6 justify-center font-semibold gap-2 w-full lg:w-full",onClick:()=>{O?O(_e):me(_e)},children:[l.jsx(sm,{className:"h-4 w-4","aria-hidden":"true"}),"Buy it again"]}),Ca&&l.jsx("button",{type:"button",disabled:Ja,onClick:()=>{if(!Ja){const yt=Kn||_e.id;yt&&If(yt)}},className:"order-cancel-button squircle-sm inline-flex h-9 w-full items-center justify-center px-6 py-0 text-center font-semibold disabled:cursor-not-allowed disabled:opacity-60 lg:w-full",children:Ja?"Canceling":"Cancel order"})]})]})})]},`${_e.source}-${_e.id}`)}),le&&l.jsx("div",{className:"glass-card squircle-lg border border-[var(--brand-glass-border-2)] bg-white/80 px-7 py-4 text-sm text-slate-700",children:l.jsxs("div",{className:"space-y-1",children:[ye&&l.jsxs("p",{children:["Sales rep:"," ",l.jsx("a",{href:`mailto:${ye}`,className:"underline hover:text-[rgb(95,179,249)]",children:ye})]}),l.jsxs("p",{children:["Support:"," ",l.jsx("a",{href:"mailto:support@peppro.net",className:"underline hover:text-[rgb(95,179,249)]",children:"support@peppro.net"})]})]})})]}):l.jsx("div",{className:"text-center py-12",children:l.jsxs("div",{className:"glass-card squircle-lg p-8 border border-[var(--brand-glass-border-2)] inline-block",children:[l.jsx(Kp,{className:"h-12 w-12 mx-auto mb-3 text-slate-400"}),l.jsx("p",{className:"text-sm font-medium text-slate-700 mb-1",children:"No orders found"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Your recent orders will appear here"})]})})},_a=()=>{if(!$e)return null;const Z=ta($e.integrationDetails),le=ta(Z?.wooCommerce||Z?.woocommerce),ye=ta(le?.response)||{},we=ta(le?.payload)||{},Be=ye?.shipping_lines&&ye.shipping_lines[0]||we?.shipping_lines&&we.shipping_lines[0],_e=Array.isArray(ye?.line_items)?ye.line_items:Array.isArray(we?.line_items)?we.line_items:[],rt=m2($e),bt=!!(rt&&(p2($e.status)||!$e.status)),Nt=String($e.status||"").trim().toLowerCase(),Qr=$e.expectedShipmentWindow||$e.expected_shipment_window||null,sn=!!(Qr&&!(Nt==="shipped"&&iv($e))),mn=XB($e.shippingEstimate)||pD(Be?.method_title||Be?.method_id);$e.shippingEstimate?.rate??(Be&&typeof Be.total=="string"&&Number(Be.total));const xi=g2(ye?.shipping||we?.shipping),Ca=g2(ye?.billing||we?.billing),Kn=iv($e),Ja=Be?.method_title||Be?.method_id||"",Pa=$e.shippingEstimate?.carrierId||Z?.shipStation?.carrierCode||(Ja?.toLowerCase().includes("ups")?"ups":null),Yn=Kn?KB(Kn,Pa):null,Re=Vh($e.shippingAddress)||Vh($e.shipping)||xi||Vh($e.billingAddress),Aa=Vh($e.billingAddress)||Ca||Vh($e.shippingAddress),Za=$e.lineItems||[],sa=Za.reduce((Xt,ir)=>{const ot=yr(ir.total,yr(ir.subtotal,0));return Xt+ot},0),Nr=ta(Z?.stripe||Z?.Stripe)||{},on=yr($e.itemsSubtotal??$e.itemsTotal,sa>0?sa:yr(ye.total??we.total??ye.subtotal??we.subtotal,0)),ln=yr($e.shippingTotal,yr(ye.shipping_total??we.shipping_total??Be?.total,0)),Rn=yr($e.taxTotal,yr(ye.total_tax??we.total_tax,0)),Dr=yr($e.appliedReferralCredit,yr(ye.discount_total??we.discount_total??we.discount_lines?.[0]?.total??0,0)),_n=Math.abs(Dr),vo=yr($e.grandTotal,yr($e.total,0)),oa=on+ln+Rn-_n,la=vo>0?vo:oa,In=Rn>0&&oa>la+.01?oa:la,ca=Math.max(In,0),ua=$e.paymentDetails||$e.paymentMethod||null,ei=(()=>{if(Nr?.cardLast4)return`${Nr?.cardBrand||"Card"}  ${Nr.cardLast4}`;if(typeof ua=="string"&&ua.trim().length>0){const Xt=ot=>ot.trim().toLowerCase().replace(/[\s-]+/g,"_");if(/stripe onsite/i.test(ua))return"Card payment";const ir=Xt(ua);return ir.includes("zelle")?"Zelle":ir==="bacs"||ir==="bank_transfer"||ir==="direct_bank_transfer"||ir.includes("direct_bank")||ir.includes("bank_transfer")||ir.includes("banktransfer")?"Direct Bank Transfer":ir.includes("stripe")?"Card payment":ua}return null})();return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-end",children:l.jsx(Ue,{type:"button",variant:"outline",className:"header-home-button squircle-sm bg-white text-slate-900",onClick:()=>me(null),children:" Back to orders"})}),l.jsxs("div",{className:"account-order-card squircle-lg bg-white border border-[#d5d9d9] overflow-hidden text-left",children:[l.jsxs("div",{className:"px-6 py-4 bg-[#f5f6f6] flex flex-wrap items-center justify-between gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.08em] text-slate-500",children:"Order"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:$e.number?`Order #${$e.number}`:$e.id})]}),l.jsxs("div",{className:"space-y-1 text-right",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.08em] text-slate-500",children:"Status"}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:b2($e)})]})]}),l.jsxs("div",{className:"px-6 py-5 flex flex-wrap items-center justify-between gap-6 text-sm text-slate-700 mb-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Placed"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:f2($e.createdAt)})]}),bt&&l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Expected delivery"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:rt})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Total"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Io(ca,$e.currency||"USD")})]})]}),l.jsxs("div",{className:"border-t border-[#d5d9d9] p-6 space-y-6",children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Shipping Information"}),y2(Re),l.jsxs("div",{className:"text-sm text-slate-700 space-y-1",children:[Kn&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Tracking:"})," ",Yn?l.jsx("a",{href:Yn,target:"_blank",rel:"noreferrer",className:"text-[rgb(26,85,173)] hover:underline",children:Kn}):Kn]}),mn&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Service:"})," ",mn]}),Number.isFinite(ln)&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Shipping:"})," ",Io(ln,$e.currency||"USD")]}),Number.isFinite(Rn)&&Rn>0&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Estimated tax:"})," ",Io(Rn,$e.currency||"USD")]}),rt&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Expected:"})," ",rt]}),sn&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Estimated ship window:"})," ",Qr]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Billing Information"}),y2(Aa),l.jsxs("div",{className:"text-sm text-slate-700 space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Payment:"})," ",ei?`${ei}`:""]}),Nr?.cardLast4&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Card:"})," ",`${Nr?.cardBrand||"Card"}  ${Nr.cardLast4}`]}),$e.physicianCertified&&l.jsx("p",{className:"text-green-700 font-semibold",children:"Physician certification acknowledged"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Items"}),Za.length>0?l.jsx("div",{className:"space-y-4",children:Za.map((Xt,ir)=>{const ot=Number(Xt.quantity)||0,lt=yr(Xt.total,yr(Xt.subtotal,0)),yt=ot>0?lt/ot:yr(Xt.price,lt),Wt=Nn(Xt),Lr=Wt?jt[Wt.key]:null,jr=typeof Lr=="string"&&Lr.trim().length>0?Lr:gx(Xt,_e);return l.jsxs("div",{className:"flex items-start gap-4 border-b border-slate-100 pb-3 last:border-b-0 last:pb-0",children:[l.jsx("div",{className:"h-full min-h-[60px] w-20 rounded-xl border border-[#d5d9d9] bg-white overflow-hidden flex items-center justify-center text-slate-500 flex-shrink-0",style:{maxHeight:"120px"},children:jr?l.jsx("img",{src:jr,alt:Xt.name||"Item thumbnail",className:"object-contain",style:{width:"100%",height:"100%",maxHeight:"120px"},onError:Dt=>{Dt.currentTarget.style.display="none"}}):l.jsx(Kp,{className:"h-6 w-6 opacity-60"})}),l.jsxs("div",{className:"flex-1 min-w-[12rem] space-y-1 pr-4",children:[l.jsx("p",{className:"text-slate-900 font-semibold",children:Xt.name||"Item"}),l.jsxs("p",{className:"text-slate-600",children:["Qty: ",ot||""]})]}),l.jsxs("div",{className:"text-sm text-slate-700 text-right min-w-[8rem]",children:[Number.isFinite(yt)&&l.jsxs("p",{children:["Each: ",Io(yt,$e.currency||"USD")]}),Number.isFinite(lt)&&l.jsxs("p",{className:"font-semibold",children:["Total: ",Io(lt,$e.currency||"USD")]})]})]},Xt.id||`${Xt.sku}-${ir}`)})}):l.jsx("p",{className:"text-sm text-slate-600",children:"No line items available for this order."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Order Summary"}),l.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal"}),l.jsx("span",{children:Io(on,$e.currency||"USD")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{children:Io(ln,$e.currency||"USD")})]}),Rn>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tax"}),l.jsx("span",{children:Io(Rn,$e.currency||"USD")})]}),_n>0&&l.jsxs("div",{className:"flex justify-between text-[rgb(26,85,173)]",children:[l.jsx("span",{children:"Credits & Discounts"}),l.jsxs("span",{children:["-",Io(_n,$e.currency||"USD")]})]}),ei&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Paid with"}),l.jsx("span",{className:"font-medium text-slate-900",children:ei})]}),l.jsxs("div",{className:"flex justify-between text-base font-semibold text-slate-900 border-t border-slate-100 pt-3",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{children:Io(Math.max(In,0),$e.currency||"USD")})]})]})]}),typeof $e.notes=="string"&&$e.notes.trim().length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h4",{className:"text-base font-semibold text-slate-900",children:["Notes ",l.jsx("span",{className:"text-sm font-normal text-slate-500",children:"(from PepPro)"})]}),l.jsx("div",{className:"rounded-lg border border-slate-200 bg-white/70 p-3",children:l.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:$e.notes})})]})]})]})]})},Qa=ur?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[N&&l.jsx("button",{type:"button",onClick:()=>Promise.resolve(k?.({force:!0})),disabled:!k,title:k?"Refresh orders":void 0,className:"text-xs text-slate-500 px-3 py-1.5 glass-card squircle-sm border border-[var(--brand-glass-border-1)] disabled:opacity-70 disabled:cursor-default hover:text-slate-700 hover:border-[var(--brand-glass-border-2)] transition-colors",children:eq(N)}),l.jsx(Ar,{value:K,onChange:Z=>ne(Z.target.value),placeholder:"Search orders",className:"h-7 w-full sm:w-[16rem] md:w-[18rem] text-xs squircle-sm bg-white/80 border border-[var(--brand-glass-border-1)] focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.35)]"}),l.jsx("div",{className:"flex items-center gap-2 ml-auto",children:l.jsx(Ue,{type:"button",variant:"outline",size:"sm",onClick:()=>M?.(),className:"glass squircle-sm btn-hover-lighter border border-[rgb(95,179,249)] bg-white text-slate-900 shadow-[0_8px_18px_rgba(95,179,249,0.14)] my-0 h-7 py-0 leading-none gap-1",children:R?l.jsxs(l.Fragment,{children:[l.jsx($c,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Hide canceled"]}):l.jsxs(l.Fragment,{children:[l.jsx(Fc,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Show canceled"]})})})]}),j&&l.jsx("div",{className:"glass-card squircle-md p-4 border border-red-200 bg-red-50/50",children:l.jsx("p",{className:"text-sm text-red-700 font-medium",children:j})}),B&&l.jsxs("div",{className:"glass-card squircle-md p-4 border border-[rgba(95,179,249,0.35)] bg-white/80 flex items-center gap-3",children:[l.jsx(Fu,{className:"h-4 w-4 text-[rgb(95,179,249)] animate-spin","aria-hidden":"true"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Loading product and order catelogue"}),l.jsx("p",{className:"text-xs text-slate-600",children:"Please hold while we sync the catalog data."})]})]})]}),l.jsx("div",{className:"relative",children:$e?_a():du()})]}):null,vi=Le==="details"?ld:Le==="orders"?Qa:yo,ts=Vr&&!st?{top:Vr.top,left:Vr.left,width:Vr.width,height:Vr.height,backgroundColor:"#fff"}:{top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:"#fff"},bi=e?l.jsxs(l.Fragment,{children:[l.jsxs(Wc,{open:pt,onOpenChange:Z=>{console.debug("[Header] Welcome dialog open change",{open:Z}),Ee(Z)},children:[l.jsx(KN,{asChild:!0,children:l.jsxs(Ue,{type:"button",variant:"default",size:"sm",onClick:()=>Ee(!0),className:"squircle-sm glass-brand btn-hover-lighter transition-all duration-300 whitespace-nowrap pl-1 pr-0 header-account-button","aria-haspopup":"dialog","aria-expanded":pt,children:[l.jsx("span",{className:"hidden sm:inline text-white",children:Ka}),l.jsx("span",{className:"header-account-avatar-shell",children:co(48,"header-account-avatar")})]})}),l.jsx(Ml,{className:"checkout-modal glass-card squircle-lg w-full max-w-[min(960px,calc(100vw-3rem))] border border-[var(--brand-glass-border-2)] shadow-2xl p-0 flex flex-col max-h-[90vh] overflow-hidden",style:{backdropFilter:"blur(38px) saturate(1.6)"},children:l.jsxs("div",{ref:Mr,className:"relative w-full flex flex-col overflow-hidden transition-all duration-300 ease-in-out",style:{position:"relative",height:"auto",maxHeight:"90vh"},children:[l.jsx(Wu,{className:ht("sticky top-0 z-10 glass-card border-b border-[var(--brand-glass-border-1)] px-6 py-4 backdrop-blur-lg flex items-start justify-between gap-4 transition-opacity duration-300 ease-in-out",nn&&"opacity-0 invisible pointer-events-none select-none"),style:{boxShadow:"0 18px 28px -20px rgba(7,18,36,0.3)"},children:l.jsxs("div",{className:"flex-1 min-w-0 max-w-full space-y-3 account-header-content",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-wrap min-w-0",children:[l.jsx(kl,{className:"text-xl font-semibold header-user-name min-w-0 truncate",children:e.name}),l.jsx("span",{"aria-hidden":"true",className:"text-slate-300",children:"|"}),l.jsxs(Ue,{type:"button",variant:"outline",size:"sm",className:"header-home-button squircle-sm text-slate-900 gap-2",onClick:()=>{Ee(!1),setTimeout(()=>{h&&h()},100)},children:[l.jsx(E6,{className:"h-5 w-5 text-[rgb(95,179,249)]","aria-hidden":"true"}),"Home"]})]}),l.jsx(Hu,{className:"account-header-description",children:(e.visits??1)>1?"We appreciate you joining us on the path to making healthcare simpler and more transparent! You can manage your account details and orders below.":"We are thrilled to have you with uslet's make healthcare simpler together!"}),l.jsxs("div",{className:"relative w-full",children:[l.jsx("div",{className:"w-full account-tab-scroll-container",ref:ia,onMouseDown:Vm,onMouseMove:Tf,onMouseUp:Jl,onMouseLeave:pn,onTouchStart:uo,onTouchMove:Na,onTouchEnd:lu,onWheel:Ns,children:l.jsx("div",{className:"flex items-center gap-4 pb-0 sm:pb-4 account-tab-row",children:uu.map(Z=>{const le=Le===Z.id;return l.jsxs("button",{type:"button",className:ht("relative inline-flex items-center gap-2 px-3 pb-4 pt-1 text-sm font-semibold whitespace-nowrap transition-colors text-slate-600 hover:text-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-black/30 flex-shrink-0",le&&"text-slate-900"),"data-tab":Z.id,"aria-pressed":le,onClick:()=>Ke(Z.id),children:[l.jsx(Z.Icon,{className:"h-3.5 w-3.5","aria-hidden":"true"}),Z.label]},Z.id)})})}),l.jsx("span",{"aria-hidden":"true",className:"account-tab-underline-indicator",style:{left:id,width:Ql,opacity:Hm}})]})]})}),l.jsx("div",{className:ht("flex-1 overflow-y-auto px-6 pb-6",nn&&"opacity-0 invisible pointer-events-none select-none"),children:l.jsx("div",{className:"space-y-6 pt-4",children:!nn&&(vi??l.jsx("div",{className:"text-sm text-slate-600",children:"Loading account details..."}))})}),nn&&l.jsx("div",{className:"absolute z-30 overflow-hidden bg-white opacity-100 mix-blend-normal transition-[top,left,width,height,opacity] duration-300 ease-in-out p-4 sm:p-6",style:{...ts,borderRadius:"inherit",willChange:"top, left, width, height"},children:l.jsx("div",{className:"relative z-10 h-full w-full overflow-y-auto bg-white",children:yo})}),l.jsx("div",{className:ht("border-t border-[var(--brand-glass-border-1)] px-6 py-4 flex justify-end transition-opacity duration-300 ease-in-out",nn&&"hidden"),children:l.jsxs(Ue,{type:"button",variant:"outline",size:"sm",className:"btn-no-hover header-logout-button squircle-sm bg-transparent text-slate-900 border-0",onClick:js,children:[l.jsx($6,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})})]}),l.jsx(Wc,{open:Wa,onOpenChange:od,children:l.jsx(Ml,{hideCloseButton:!0,className:"duration-[250ms] data-[state=closed]:duration-[250ms] !max-w-[min(28rem,calc(100vw-2rem))]",onTransitionEnd:Z=>{Z.propertyName==="opacity"&&Tr.current&&wa===0&&Zo()},style:{margin:"auto",maxWidth:"min(32rem, calc(100vw - 2rem))",opacity:wa,transition:`opacity ${qt}ms ease`,transform:"none"},containerClassName:"fixed inset-0 z-[10000] flex items-center justify-center p-6 sm:p-10",overlayStyle:{backgroundColor:"rgba(4, 14, 21, 0.45)",backdropFilter:"blur(22px) saturate(1.35)",WebkitBackdropFilter:"blur(22px) saturate(1.35)",opacity:wa,transition:`opacity ${qt}ms ease`},children:l.jsx("div",{className:"px-8 py-14 text-center sm:px-10 sm:py-16",children:l.jsx("p",{className:"text-base leading-relaxed",style:{color:G},children:"Thank you for being a partner of ours and a joy to those around you. We at PepPro wish you a great rest of your day and will be here when you need us!"})})})}),Zl()]}):l.jsxs(l.Fragment,{children:[l.jsxs(Wc,{open:Y,onOpenChange:po,children:[l.jsx(KN,{asChild:!0,children:l.jsxs(Ue,{variant:"default",className:"squircle-sm glass-brand-subtle btn-hover-lighter transition-all duration-300 whitespace-nowrap",children:[l.jsx(sB,{className:"h-4 w-4 flex-shrink-0"}),l.jsx("span",{className:"hidden sm:inline ml-2",children:"Login"})]})}),l.jsxs(Ml,{className:"glass-card squircle-xl w-auto border border-[var(--brand-glass-border-2)] shadow-2xl !p-4 sm:!p-6",style:{backdropFilter:"blur(38px) saturate(1.6)",width:"min(560px, calc(100vw - 4.5rem))",maxWidth:"min(560px, calc(100vw - 4.5rem))"},children:[l.jsxs(Wu,{className:"flex items-start justify-between gap-4 border-b border-[var(--brand-glass-border-1)] pb-3",style:{boxShadow:"0 20px 45px -18px rgba(15,23,42,0.1)",position:"relative",zIndex:20},children:[l.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[l.jsx(kl,{className:"text-xl font-semibold text-[rgb(95,179,249)]",children:ee==="login"?"Welcome back":"Create Account"}),l.jsx(Hu,{children:ee==="login"?"Login to enter your PepPro account.":"Create your PepPro physician account to access PepPro."}),ee==="signup"&&l.jsx("p",{className:"text-base leading-snug",style:{color:G},children:"Your representative will work with you, if intended, to collect your resellers permit."})]}),l.jsx(F_,{className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)",borderRadius:"50%"},"aria-label":"Close account modal",children:l.jsx(zu,{className:"h-4 w-4"})})]}),ee==="login"?l.jsxs("div",{className:"space-y-5",children:[l.jsxs("form",{ref:nu,autoComplete:"on",onSubmit:Jo,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(Zr,{htmlFor:"login-username",children:"Email"}),l.jsx(Ar,{ref:ws,id:"login-username",name:"username",type:"email",autoComplete:"username",inputMode:"email",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,onFocus:ou,className:"glass squircle-sm mt-1 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:X},required:!0})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Zr,{htmlFor:"login-password",children:"Password"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(Ar,{ref:hi,id:"login-password",name:"password",autoComplete:"current-password",type:Gr?"text":"password",autoCorrect:"off",spellCheck:!1,onFocus:ou,className:"glass squircle-sm pr-20 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:X},required:!0}),l.jsx("button",{type:"button",onClick:()=>Ur(Z=>!Z),className:"absolute right-4 top-1/2 -translate-y-1/2 inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-gray-600 hover:text-gray-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.12)] btn-hover-lighter","aria-label":Gr?"Hide password":"Show password","aria-pressed":Gr,children:Gr?l.jsxs(l.Fragment,{children:[l.jsx(Fc,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Hide"})]}):l.jsxs(l.Fragment,{children:[l.jsx($c,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Show"})]})})]})]}),xe&&l.jsx("p",{className:"text-sm text-red-600",children:xe}),l.jsxs(Ue,{type:"submit",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter inline-flex items-center justify-center gap-2",disabled:Or,children:[Or&&l.jsx(of,{className:"h-4 w-4 animate-spin-slow text-white shrink-0","aria-hidden":"true",style:{transformOrigin:"center center",transform:"translateZ(0)"}}),Or?"Signing in":"Sign In"]})]}),l.jsxs("p",{className:"text-center text-sm text-gray-600",children:["New to PepPro?"," ",l.jsx("button",{type:"button",onClick:()=>z("signup"),className:"font-semibold btn-hover-lighter",style:{color:G},children:"Create an account"})]})]}):l.jsxs("div",{className:"space-y-5",children:[l.jsxs("form",{onSubmit:Ji,className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:gap-4",children:[l.jsxs("div",{className:"space-y-2 sm:w-36 sm:pb-0",children:[l.jsxs(Zr,{htmlFor:"suffix",children:[l.jsx("span",{children:"Suffix"}),l.jsx("span",{className:"ml-2 text-xs font-normal text-gray-500",children:"Optional"})]}),l.jsxs("select",{id:"suffix",value:q,onChange:Z=>J(Z.target.value),className:"glass squircle-sm mt-1 w-full px-3 text-sm border transition-colors focus-visible:outline-none focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[3px] focus-visible:ring-[rgba(95,179,249,0.3)] leading-tight",style:{borderColor:X,backgroundColor:"rgba(95,179,249,0.02)",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23071b1b' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"12px",paddingRight:"2.5rem",height:"2.5rem",lineHeight:"1.25rem"},children:[l.jsx("option",{value:"",children:"None"}),l.jsx("option",{value:"Mr.",children:"Mr."}),l.jsx("option",{value:"Mrs.",children:"Mrs."}),l.jsx("option",{value:"Ms.",children:"Ms."}),l.jsx("option",{value:"Mx.",children:"Mx."}),l.jsx("option",{value:"Dr.",children:"Dr."}),l.jsx("option",{value:"Prof.",children:"Prof."}),l.jsx("option",{value:"Sir",children:"Sir"}),l.jsx("option",{value:"Dame",children:"Dame"})]})]}),l.jsxs("div",{className:"flex-1 space-y-2 sm:pb-0",children:[l.jsx(Zr,{htmlFor:"name",children:"Full Name"}),l.jsx(Ar,{id:"name",name:"name",autoComplete:"name",type:"text",value:fe,onChange:Z=>pe(Z.target.value),className:"glass squircle-sm mt-1 h-10 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:X},required:!0})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Zr,{htmlFor:"signup-email",children:"Email"}),l.jsx(Ar,{id:"signup-email",name:"email",autoComplete:"email",type:"email",value:de,onChange:Z=>be(Z.target.value),className:"glass squircle-sm mt-1 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:X},required:!0})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Zr,{htmlFor:"signup-password",children:"Password"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(Ar,{id:"signup-password",name:"password",autoComplete:"new-password",type:xa?"text":"password",value:Ae,onChange:Z=>Ie(Z.target.value),className:"glass squircle-sm pr-20 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:X},required:!0}),l.jsx("button",{type:"button",onClick:()=>lr(Z=>!Z),className:"absolute right-4 top-1/2 -translate-y-1/2 inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-gray-600 hover:text-gray-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.12)] btn-hover-lighter","aria-label":xa?"Hide password":"Show password","aria-pressed":xa,children:xa?l.jsxs(l.Fragment,{children:[l.jsx(Fc,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Hide"})]}):l.jsxs(l.Fragment,{children:[l.jsx($c,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Show"})]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Zr,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(Ar,{id:"signup-confirm-password",name:"confirm-password",autoComplete:"new-password",type:Vn?"text":"password",value:Fe,onChange:Z=>ke(Z.target.value),className:"glass squircle-sm pr-20 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:X},required:!0}),l.jsx("button",{type:"button",onClick:()=>Kt(Z=>!Z),className:"absolute right-4 top-1/2 -translate-y-1/2 inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-gray-600 hover:text-gray-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.12)] btn-hover-lighter","aria-label":Vn?"Hide confirm password":"Show confirm password","aria-pressed":Vn,children:Vn?l.jsxs(l.Fragment,{children:[l.jsx(Fc,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Hide"})]}):l.jsxs(l.Fragment,{children:[l.jsx($c,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Show"})]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Zr,{htmlFor:"signup-code",children:"Referral Code"}),l.jsx(Ar,{id:"signup-code",name:"referral-code",autoComplete:"off",value:Se,onChange:Z=>De(Z.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,5)),maxLength:5,inputMode:"text",pattern:"[A-Z0-9]*",className:"glass squircle-sm focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:X,textTransform:"uppercase"},required:!0}),l.jsx("p",{className:"text-xs text-slate-500",children:"Codes are 5 characters and issued by your sales representative."})]}),dt&&l.jsx("p",{className:"text-sm text-red-600",children:dt}),l.jsx(Ue,{type:"submit",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter",children:"Create Account"})]}),l.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",l.jsx("button",{type:"button",onClick:()=>z("login"),className:"font-semibold btn-hover-lighter",style:{color:G},children:"Sign in"})]})]}),l.jsxs("div",{className:"mt-6 glass squircle-lg p-4 sm:p-5 space-y-4 border border-[var(--brand-glass-border-1)]",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Track an order"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Enter your PepPro order ID and email. We'll email you the latest fulfillment update."})]}),l.jsxs("form",{className:"grid gap-3 sm:grid-cols-2",onSubmit:Zi,children:[l.jsxs("div",{children:[l.jsx(Zr,{htmlFor:"account-track-id",children:"Order ID"}),l.jsx(Ar,{id:"account-track-id",value:xr.orderId,onChange:Z=>Rr(le=>({...le,orderId:Z.target.value})),className:"mt-1",placeholder:"ORD-12345",required:!0})]}),l.jsxs("div",{children:[l.jsx(Zr,{htmlFor:"account-track-email",children:"Email"}),l.jsx(Ar,{id:"account-track-email",type:"email",value:xr.email,onChange:Z=>Rr(le=>({...le,email:Z.target.value})),className:"mt-1",placeholder:"you@example.com"})]}),l.jsxs("div",{className:"sm:col-span-2 flex flex-wrap items-center gap-3",children:[l.jsxs(Ue,{type:"submit",className:"glass-brand squircle-sm inline-flex items-center gap-2",disabled:Kr,children:[Kr&&l.jsx(of,{className:"h-4 w-4 animate-spin text-current shrink-0","aria-hidden":"true",style:{transformOrigin:"center center"}}),Kr?"Checking":"Email tracking link"]}),Ha&&l.jsx("p",{className:"text-sm text-slate-600",children:Ha})]})]})]})]})]}),Zl()]}),fu=en?{maxWidth:"160px",maxHeight:"160px"}:{maxWidth:"min(190px, 56vw)",maxHeight:"78px"};return l.jsx("header",{ref:Ko,"data-app-header":!0,className:"w-full app-header-blur border-b border-slate-200 shadow-sm",style:{position:"fixed",top:0,left:0,right:0,zIndex:9500,opacity:1},children:l.jsx("div",{className:"w-full px-6 sm:px-6 py-4",children:l.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[l.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 sm:gap-4 justify-between",children:[l.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-shrink-0",children:l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("div",{className:"brand-logo relative flex items-center justify-center flex-shrink-0",children:l.jsx("img",{src:"/Peppro_fulllogo.png",alt:"PepPro logo",className:"relative z-[1] flex-shrink-0",style:{display:"block",width:"auto",height:"auto",maxWidth:fu.maxWidth,maxHeight:fu.maxHeight,objectFit:"contain"}})})})}),en&&l.jsx("form",{onSubmit:Qi,className:"flex flex-1 justify-center",children:l.jsx("div",{className:"w-full max-w-md",children:go()})}),l.jsxs("div",{className:"ml-auto flex items-center gap-2 md:gap-4 flex-wrap sm:flex-nowrap justify-end",children:[(pi==="offline"||pi==="poor")&&l.jsx("div",{className:"flex items-center justify-center squircle-sm border border-slate-200 bg-white/70 px-2 py-1",title:pi==="offline"?"Offline":(()=>{const Z=[];return typeof rn.downloadMbps=="number"&&Z.push(`Down ${rn.downloadMbps} Mbps`),typeof rn.latencyMs=="number"&&Z.push(`Latency ${rn.latencyMs} ms`),`Poor internet connection${Z.length?` (${Z.join("  ")})`:""}`})(),"aria-label":pi==="offline"?"Offline":"Poor internet connection",children:pi==="offline"?l.jsx(uB,{className:"h-4 w-4 text-slate-800","aria-hidden":"true"}):l.jsx(WB,{activeBars:1})}),bi,!en&&l.jsxs(Ue,{type:"button",variant:"outline",size:"icon",onClick:fo,"aria-expanded":Vt,className:"glass squircle-sm transition-all duration-300",style:{color:G,borderColor:X},children:[Vt?l.jsx(zu,{className:"h-4 w-4",style:{color:G}}):l.jsx(r2,{className:"h-4 w-4",style:{color:G}}),l.jsx("span",{className:"sr-only",children:Vt?"Close search":"Open search"})]})]})]}),Vt&&!en&&l.jsx("div",{className:"px-1 pb-2",children:l.jsx("form",{onSubmit:Qi,children:go()})})]})})})}function x2({label:e,value:t,type:r="text",autoComplete:n,onSave:a}){const[s,c]=y.useState(!1),[d,f]=y.useState(t);y.useEffect(()=>f(t),[t]);const[p,g]=y.useState(!1),h=y.useCallback(async()=>{if(!p){g(!0);try{await a(d),c(!1)}finally{g(!1)}}},[d,a,p]);return l.jsxs("div",{className:"editable-row group flex items-start gap-3 sm:items-center",children:[l.jsx("div",{className:"min-w-[7rem] text-sm font-medium text-slate-700",children:e}),l.jsxs("div",{className:"flex-1 flex items-center gap-2 flex-wrap",children:[s?l.jsx("input",{className:"w-full h-9 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",value:d,type:r,autoComplete:n,onChange:x=>f(x.currentTarget.value),onKeyDown:async x=>{x.key==="Enter"&&(x.preventDefault(),await h())}}):l.jsxs("div",{className:"text-sm text-slate-700 flex items-center gap-2",children:[l.jsx("span",{children:t||""}),l.jsx("button",{type:"button",className:ht("inline-edit-button",s&&"is-active"),onClick:()=>c(!0),"aria-label":`Edit ${e}`,title:`Edit ${e}`,children:l.jsx(XM,{className:"w-3 h-3"})})]}),s&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ue,{variant:"outline",className:"squircle-sm",disabled:p,onClick:h,children:"Save"}),l.jsx(Ue,{variant:"ghost",className:"squircle-sm",onClick:()=>{f(t),c(!1)},children:"Cancel"})]})]})]})}const K0=y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card",className:zn("glass-card text-card-foreground flex flex-col gap-6 rounded-xl border border-[var(--brand-glass-border-2)]",e),...t}));K0.displayName="Card";const hD=y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card-header",className:zn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t}));hD.displayName="CardHeader";const gD=y.forwardRef(({className:e,...t},r)=>l.jsx("h4",{ref:r,"data-slot":"card-title",className:zn("leading-none",e),...t}));gD.displayName="CardTitle";const rq=y.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,"data-slot":"card-description",className:zn("text-muted-foreground",e),...t}));rq.displayName="CardDescription";const nq=y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card-action",className:zn("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...t}));nq.displayName="CardAction";const Y0=y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card-content",className:zn("px-6 [&:last-child]:pb-6",e),...t}));Y0.displayName="CardContent";const yD=y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card-footer",className:zn("flex items-center px-6 pb-6 [.border-t]:pt-6",e),...t}));yD.displayName="CardFooter";const aq="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==",vD=e=>null,w2=vD()??null,S2=vD()??null;function bD(e){const[t,r]=y.useState(!1),[n,a]=y.useState(!1),[s,c]=y.useState(0),[d,f]=y.useState(null),p=y.useRef(!0),g=y.useRef(null),h=y.useRef(Date.now()),{alt:x,style:S,className:P,loading:j="lazy",decoding:N="async",referrerPolicy:k="no-referrer",crossOrigin:T,src:R,...M}=e,O="/Peppro_IconLogo_Transparent_NoBuffer.png",I=typeof R=="string"?R.trim():"",D=I||O,B=d??D,G=B===O;y.useEffect(()=>(p.current=!0,()=>{p.current=!1,g.current&&(window.clearTimeout(g.current),g.current=null)}),[]),y.useEffect(()=>{g.current&&(window.clearTimeout(g.current),g.current=null),h.current=Date.now(),c(0),r(!1),a(D===O),f(D)},[D]);const X=y.useMemo(()=>!D||D===O||w2!==null&&s>=w2?!1:S2!==null?Date.now()-h.current<S2:!0,[D,s]),Y=y.useMemo(()=>{if(!D||D===O)return null;let ie=D;if(/^https?:\/\//i.test(ie)&&/\s/.test(ie))try{ie=encodeURI(ie)}catch{}const K=ie.includes("?")?"&":"?";return`${ie}${K}_imgRetry=${Date.now()}_${s+1}`},[D,s]),oe=()=>{if(G){r(!0),a(!0);return}if(X&&Y){const ie=s+1,K=Math.min(6e4,800*Math.pow(1.7,ie-1));c(ie),r(!1),f(O),a(!0),g.current&&window.clearTimeout(g.current),g.current=window.setTimeout(()=>{g.current=null,p.current&&(f(Y),a(!1))},K);return}f(O),a(!0)},se=()=>{a(!0)};return t?l.jsx("div",{className:`flex h-full w-full items-center justify-center bg-gray-100 text-center align-middle ${P??""}`,style:S,children:l.jsx("img",{src:aq,alt:x||"Image",className:"block max-h-full max-w-full object-contain",loading:j,decoding:N,referrerPolicy:k,crossOrigin:T,...M,onLoad:se})}):l.jsxs("div",{className:"relative flex h-full w-full items-center justify-center overflow-hidden",style:S,children:[!n&&!t&&!G&&l.jsx("div",{className:"image-skeleton","aria-hidden":"true"}),l.jsx("img",{src:B,alt:x,loading:j,decoding:N,referrerPolicy:k,crossOrigin:T,className:`block object-contain transition-opacity duration-300 ${G||n?"opacity-100":"opacity-0"} ${G?"peppro-placeholder-img":""} ${P??""}`,...M,onLoad:se,onError:oe})]})}const jf={},iq=(()=>{const e=String(jf?.VITE_AUTO_OPEN_STRENGTH??"").toLowerCase().trim();return e?e==="true":!0})(),N2=(()=>{const e=String(jf?.VITE_AUTO_OPEN_STRENGTH_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:750})(),sq=(()=>{const e=String(jf?.VITE_AUTO_OPEN_STRENGTH_PACE_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:500})(),oq=String(jf?.VITE_AUTO_CYCLE_STRENGTH||"").toLowerCase().trim()==="true",lq=(()=>{const e=String(jf?.VITE_AUTO_CYCLE_STRENGTH_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:175})(),sv="__peppro_needs_variant__",cq="/Peppro_IconLogo_Transparent_NoBuffer.png",uq=(()=>{const e=String(jf?.VITE_AUTO_OPEN_IMAGE_TIMEOUT_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:45e3})(),dq=(()=>{const e=String(jf?.VITE_AUTO_OPEN_IMAGE_MAX_ATTEMPTS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=1?t:10})(),fq=(e,t)=>new Promise(r=>{const n=new Image;let a=!1;const s=window.setTimeout(()=>{a||(a=!0,r(!1))},t);n.onload=()=>{a||(a=!0,window.clearTimeout(s),r(!0))},n.onerror=()=>{a||(a=!0,window.clearTimeout(s),r(!1))},n.src=e}),pq=(e,t)=>{const r=e.includes("?")?"&":"?";return`${e}${r}_imgRetry=${Date.now()}_${t}`},mq=async(e,t)=>{const r=e.trim();if(!r||r===cq||r.startsWith("data:"))return!0;const n=Date.now();let a=0;for(;Date.now()-n<t&&a<dq;){if(a+=1,await fq(a===1?r:pq(r,a),25e3))return!0;const c=Math.min(6e4,900*Math.pow(1.7,a-1));await new Promise(d=>window.setTimeout(d,c))}return!1},$v=[];let lg=!1;const xD=()=>{if(lg||$v.length===0)return;lg=!0;const e=$v.shift();if(!e){lg=!1;return}e().catch(()=>{}).finally(()=>{lg=!1,xD()})},hq=e=>{$v.push(e),xD()},ov=e=>!Array.isArray(e)||e.length===0?{id:"default",strength:"Standard",basePrice:0}:e.find(t=>!!t?.image)??e[0];function gq({product:e,onAddToCart:t,onEnsureVariants:r}){const n=y.useMemo(()=>(Array.isArray(e.variations)?e.variations:[]).filter(Le=>Le?.id!==sv),[e.variations]),a=Array.isArray(e.variations)&&e.variations.length===1&&e.variations[0]?.id===sv,[s,c]=y.useState(ov(n.length>0?n:e.variations)),[d,f]=y.useState(""),[p,g]=y.useState(1),[h,x]=y.useState("1"),[S,P]=y.useState(!1),[j,N]=y.useState(!1),k=y.useRef(!1),T=y.useRef(!1),R=y.useRef(null),M=y.useRef(null),[O,I]=y.useState(!1),[D,B]=y.useState(!1),[G,X]=y.useState(null),[Y,oe]=y.useState(null),se=y.useMemo(()=>{const Ee=String(e.id||"").trim(),Le=Ee.match(/^woo-(\d+)$/i);if(Le&&Le[1]){const Ye=Number.parseInt(Le[1],10);return Number.isFinite(Ye)?Ye:null}const Ke=Ee.replace(/[^0-9]/g,"");if(Ke){const Ye=Number.parseInt(Ke,10);return Number.isFinite(Ye)?Ye:null}return null},[e.id]);y.useEffect(()=>()=>{Y&&URL.revokeObjectURL(Y)},[Y]),y.useEffect(()=>{const Ee=Array.isArray(e.variations)?e.variations:[];if(Ee.length===0)return;const Le=Ee.filter(Ye=>Ye?.id!==sv),Ke=Le.length>0?Le:Ee;c(Ye=>{const mt=Ke.find(st=>st.id===Ye.id)??ov(Ke);return mt?.id===Ye.id?Ye:mt}),f(Ye=>Le.length===0?"":(Ye?Le.some(st=>st.id===Ye):!1)?Ye:ov(Le).id)},[e.id,e.variations]),y.useEffect(()=>{if(!oq||j||T.current||!Array.isArray(e.variations)||e.variations.length<2||R.current===e.id)return;const Ee=e.variations.filter(mt=>!!mt?.image);if(Ee.length===0)return;R.current=e.id;let Le=!1;const Ke=mt=>new Promise(st=>window.setTimeout(st,mt));return(async()=>{for(const mt of Ee){if(Le||T.current)return;c(mt),await Ke(lq)}Le||T.current||c(ov(e.variations))})(),()=>{Le=!0}},[e.id,e.variations,j]);const ie=e.bulkPricingTiers??[],K="h-8 w-8 squircle-sm",ee=(()=>{if(ie.length===0)return s.basePrice;const Ee=[...ie].sort((Le,Ke)=>Ke.minQuantity-Le.minQuantity).find(Le=>p>=Le.minQuantity);if(Ee){const Le=Ee.discountPercentage/100;return s.basePrice*(1-Le)}return s.basePrice})(),z=ee*p,fe=ie.find(Ee=>Ee.minQuantity>p)||null,pe=y.useMemo(()=>{if(!ie.length)return[];const Ee=[...ie].sort((mt,st)=>mt.minQuantity-st.minQuantity),Le=Ee.findIndex(mt=>p<mt.minQuantity);let Ke=Le===-1?Math.max(0,Ee.length-5):Math.max(0,Le-2),Ye=Ee.slice(Ke,Ke+5);return Ye.length<5&&Ke>0&&(Ke=Math.max(0,Ke-(5-Ye.length)),Ye=Ee.slice(Ke,Ke+5)),Ye},[ie,p]),q=Ee=>{const Le=Math.max(1,p+Ee);g(Le),x(String(Le)),P(!0)},J=typeof r=="function"&&(a||e.variations.some(Ee=>String(Ee.id).startsWith("woo-variation-"))),de=async Ee=>{if(!J)return;const Le=Ee?.force===!0;if(!j&&!(!Le&&k.current)){Le||(k.current=!0);try{return N(!0),await r(Ee)}finally{N(!1)}}},be=Ee=>{if(T.current=!0,f(Ee),!Ee||Ee===sv){de({force:!0});return}const Le=n?.find(Ke=>Ke.id===Ee);Le&&c(Le)};y.useEffect(()=>{if(!iq||!a||typeof r!="function"||j||k.current||T.current||M.current===e.id)return;M.current=e.id;const Ee=!lg&&$v.length===0;hq(async()=>{if(Ee&&N2>0&&await new Promise(Ye=>window.setTimeout(Ye,N2)),T.current)return;const Le=await de();if(T.current)return;const Ke=(()=>{const Ye=Le,mt=Array.isArray(Ye?.variants)?Ye.variants:[],st=typeof Ye?.defaultVariantId=="string"&&Ye.defaultVariantId.trim().length>0?Ye.defaultVariantId.trim():null,ar=st?mt.find(Vt=>Vt?.id===st):null,Vr=(ar&&typeof ar?.image=="string"&&ar.image.trim().length>0?ar:null)??mt.find(Vt=>typeof Vt?.image=="string"&&Vt.image.trim().length>0),mr=typeof Ye?.image=="string"?Ye.image:null;return Vr?.image??mr??null})();typeof Ke=="string"&&Ke.trim().length>0&&await mq(Ke.trim(),uq),await new Promise(Ye=>window.setTimeout(Ye,sq))})},[a,r,e.id,j]);const Ae=async()=>{if(I(!0),X(null),!(Y||D)){if(!se){X("Certificate unavailable for this product.");return}B(!0);try{const{blob:Ee}=await sf.getCertificateOfAnalysis(se),Le=URL.createObjectURL(Ee);oe(Le)}catch(Ee){const Le=typeof Ee?.status=="number"?Ee.status:null;X(Le===404?"We are working to attach a certificate for this product.":typeof Ee?.message=="string"?Ee.message:"Failed to load certificate.")}finally{B(!1)}}},Ie=()=>{if(!Y)return;const Le=`${e.name.trim().replace(/[^a-z0-9]+/gi,"_").replace(/^_+|_+$/g,"").slice(0,80)||"certificate_of_analysis"}.png`,Ke=document.createElement("a");Ke.href=Y,Ke.download=Le,Ke.rel="noopener",document.body.appendChild(Ke),Ke.click(),Ke.remove();try{uD.post("/settings/downloads/track",{kind:"coa",wooProductId:se,productId:e?.id,filename:Le,at:new Date().toISOString()})}catch{}},Fe=l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"line-clamp-2 text-slate-900",children:e.name}),l.jsx("button",{type:"button",onClick:()=>void Ae(),className:"line-clamp-2 text-left hover:underline",style:{color:"rgb(95, 179, 249)"},children:"Certificate of Analysis"}),e.manufacturer&&l.jsx("p",{className:"text-xs text-gray-500",children:e.manufacturer})]}),Se=y.useMemo(()=>{const Ee=Array.isArray(e.images)&&e.images.length>0?e.images:[e.image];return s?.image?[s.image,...Ee].filter((Le,Ke,Ye)=>!!Le&&Ye.indexOf(Le)===Ke):Ee},[e.images,e.image,s?.image])[0]||e.image,De=e.variations&&e.variations.length>0?l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-600",htmlFor:`variation-${e.id}`,children:"Strength"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{id:`variation-${e.id}`,value:d,onChange:Ee=>be(Ee.target.value),onFocus:()=>{T.current=!0,(a||n.length===0)&&de({force:!0})},onClick:()=>{T.current=!0,(a||n.length===0)&&de({force:!0})},onMouseDown:()=>{T.current=!0,(a||n.length===0)&&de({force:!0})},disabled:j,className:"w-full squircle-sm border border-[rgba(255,255,255,0.5)] bg-white/80 px-3 py-2 text-sm font-[Lexend] transition-all focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.4)] focus:border-[rgba(95,179,249,0.6)] product-card-select",children:[(a||!d||n.length===0)&&l.jsx("option",{value:"",disabled:!0,children:j?"Loading variants":"Select strength"}),n.map(Ee=>l.jsx("option",{value:Ee.id,children:j?"Loading variants":Ee.strength},Ee.id))]}),l.jsx("span",{className:"product-card-select__chevron","aria-hidden":"true",children:l.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",children:l.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]})]}):null,ze=l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-600",children:"Quantity"}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[l.jsx(Ue,{variant:"outline",size:"icon",className:K,onClick:()=>q(-1),disabled:p<=1,children:l.jsx($_,{className:"h-3 w-3"})}),l.jsx("div",{className:"flex-1 text-center px-3 py-1 glass-card squircle-sm",children:l.jsx(Ar,{type:"text",inputMode:"numeric",pattern:"[0-9]*",min:1,value:h,onChange:Ee=>{const Le=Ee.target.value.replace(/[^0-9]/g,"");if(x(Le),Le){const Ke=Math.max(1,Number(Le));g(Ke)}P(!0)},onBlur:()=>{h||(g(1),x("1"))},className:"h-auto border-none bg-transparent text-center text-base font-semibold focus-visible:ring-0 focus-visible:outline-none"})}),l.jsx(Ue,{variant:"outline",size:"icon",className:K,onClick:()=>q(1),children:l.jsx(V0,{className:"h-3 w-3"})})]})]}),xe=l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-baseline justify-between gap-2",children:[l.jsx("span",{className:"text-xs text-gray-600",children:"Unit Price:"}),l.jsxs("span",{className:"font-bold text-green-600",children:["$",ee.toFixed(2)]})]}),l.jsxs("div",{className:"flex flex-wrap items-baseline justify-between gap-2",children:[l.jsx("span",{className:"text-xs text-gray-600",children:"Total:"}),l.jsxs("span",{className:"text-lg font-bold text-green-700",children:["$",z.toFixed(2)]})]})]}),Ve=ie.length>0?l.jsxs(l.Fragment,{children:[l.jsxs("button",{type:"button",onClick:()=>P(Ee=>!Ee),className:"flex w-full items-center justify-between text-xs font-semibold text-slate-700 focus-visible:outline-none",children:[l.jsx("span",{className:"tracking-wide uppercase text-[0.65rem]",children:"Bulk Pricing"}),l.jsx("span",{className:"text-[rgb(95,179,249)] text-[0.65rem] font-medium",children:S?"Hide":"Show"})]}),S&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-1.5 pt-1",children:pe.map(Ee=>l.jsxs("div",{className:"flex items-center justify-between rounded-md px-2 py-1 text-[0.8rem]",children:[l.jsxs("span",{className:p>=Ee.minQuantity?"text-green-600 font-semibold":"text-slate-600",children:["Buy ",Ee.minQuantity,"+"]}),l.jsxs("span",{className:p>=Ee.minQuantity?"text-green-600 font-semibold tabular-nums":"text-slate-600 tabular-nums",children:["Save ",Ee.discountPercentage,"%"]})]},`${Ee.minQuantity}-${Ee.discountPercentage}`))}),fe&&l.jsxs("p",{className:"text-xs text-[rgb(95,179,249)] mt-1 font-medium",children:["Buy ",fe.minQuantity-p," more to save ",fe.discountPercentage,"%"]})]})]}):null,dt=Ve?l.jsx("div",{className:"glass-card squircle-sm border border-[var(--brand-glass-border-2)] p-3 space-y-2",children:Ve}):null,it=l.jsxs(Ue,{onClick:()=>{t(e.id,s.id,p),g(1),x("1"),P(!1)},className:"squircle-sm glass-brand btn-hover-lighter w-full",children:[l.jsx(sm,{className:"w-4 h-4 mr-2"}),"Add to Cart"]});return l.jsxs(l.Fragment,{children:[l.jsxs(K0,{className:"group h-full gap-3 overflow-hidden glass-card squircle-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-l-4 border-l-[rgba(95,179,249,0.5)] border-t border-r border-b border-[rgba(255,255,255,0.45)]",style:{background:"linear-gradient(to right, rgba(95,179,249,0.08) 0%, rgba(255,255,255,0.35) 8px, rgba(255,255,255,0.35) 100%)",backdropFilter:"blur(40px) saturate(1.7)",WebkitBackdropFilter:"blur(40px) saturate(1.7)"},children:[l.jsxs(Y0,{className:"flex-1 p-0",children:[l.jsx("div",{className:"product-image-frame product-image-frame--flush",children:l.jsx(bD,{src:Se,alt:e.name,className:"product-image-frame__img"})}),l.jsxs("div",{className:"p-4 pb-3 space-y-3",children:[l.jsx("div",{className:"space-y-1",children:Fe}),De,ze,xe,dt]})]}),l.jsx(yD,{className:"mt-auto p-4 pt-0",children:it})]}),l.jsx(Wc,{open:O,onOpenChange:Ee=>{I(Ee),Ee||(X(null),Y&&(URL.revokeObjectURL(Y),oe(null)))},children:l.jsxs(Ml,{className:"checkout-modal glass-card squircle-lg w-full max-w-[min(960px,calc(100vw-3rem))] border border-[var(--brand-glass-border-2)] shadow-2xl p-0 flex flex-col max-h-[90vh] overflow-hidden",style:{backdropFilter:"blur(38px) saturate(1.6)"},hideCloseButton:!0,children:[l.jsx(Wu,{className:"sticky top-0 z-10 glass-card border-b border-[var(--brand-glass-border-1)] px-6 py-4 backdrop-blur-lg",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(kl,{className:"text-xl font-semibold text-[rgb(95,179,249)]",children:"Certificate of Analysis"}),l.jsx(Hu,{className:"truncate",children:e.name})]}),l.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[l.jsxs(Ue,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:Ie,disabled:!Y||D,title:Y?"Download certificate":"Certificate not loaded yet",children:[l.jsx(Ov,{className:"h-4 w-4","aria-hidden":"true"}),"Download"]}),l.jsx(F_,{className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 aspect-square items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)"},"aria-label":"Close certificate",children:l.jsx(zu,{className:"h-4 w-4"})})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:l.jsx("div",{className:"space-y-6 pt-6",children:l.jsx("div",{className:"min-h-[320px] rounded-xl border border-[var(--brand-glass-border-2)] bg-white/80 p-3 sm:p-4 flex items-center justify-center",children:D?l.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[l.jsx(of,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}),"Loading certificate"]}):Y?l.jsx("img",{src:Y,alt:`Certificate of Analysis for ${e.name}`,className:"max-h-[70vh] w-auto max-w-full object-contain"}):l.jsx("div",{className:"text-sm text-slate-600 text-center",children:G||"Unable to load certificate."})})})})]})})]})}function yq(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function wD(e){const[t,r]=y.useState(void 0);return Yu(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let c,d;if("borderBoxSize"in s){const f=s.borderBoxSize,p=Array.isArray(f)?f[0]:f;c=p.inlineSize,d=p.blockSize}else c=e.offsetWidth,d=e.offsetHeight;r({width:c,height:d})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var X0="Checkbox",[vq]=z0(X0),[bq,K_]=vq(X0);function xq(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:c,name:d,onCheckedChange:f,required:p,value:g="on",internal_do_not_use_render:h}=e,[x,S]=k_({prop:r,defaultProp:a??!1,onChange:f,caller:X0}),[P,j]=y.useState(null),[N,k]=y.useState(null),T=y.useRef(!1),R=P?!!c||!!P.closest("form"):!0,M={checked:x,disabled:s,setChecked:S,control:P,setControl:j,name:d,form:c,value:g,hasConsumerStoppedPropagationRef:T,required:p,defaultChecked:Vu(a)?!1:a,isFormControl:R,bubbleInput:N,setBubbleInput:k};return l.jsx(bq,{scope:t,...M,children:wq(h)?h(M):n})}var SD="CheckboxTrigger",ND=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:c,disabled:d,checked:f,required:p,setControl:g,setChecked:h,hasConsumerStoppedPropagationRef:x,isFormControl:S,bubbleInput:P}=K_(SD,e),j=bs(a,g),N=y.useRef(f);return y.useEffect(()=>{const k=s?.form;if(k){const T=()=>h(N.current);return k.addEventListener("reset",T),()=>k.removeEventListener("reset",T)}},[s,h]),l.jsx(Wn.button,{type:"button",role:"checkbox","aria-checked":Vu(f)?"mixed":f,"aria-required":p,"data-state":ED(f),"data-disabled":d?"":void 0,disabled:d,value:c,...n,ref:j,onKeyDown:di(t,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:di(r,k=>{h(T=>Vu(T)?!0:!T),P&&S&&(x.current=k.isPropagationStopped(),x.current||k.stopPropagation())})})});ND.displayName=SD;var jD=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:c,disabled:d,value:f,onCheckedChange:p,form:g,...h}=e;return l.jsx(xq,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:d,required:c,onCheckedChange:p,name:n,form:g,value:f,internal_do_not_use_render:({isFormControl:x})=>l.jsxs(l.Fragment,{children:[l.jsx(ND,{...h,ref:t,__scopeCheckbox:r}),x&&l.jsx(AD,{__scopeCheckbox:r})]})})});jD.displayName=X0;var _D="CheckboxIndicator",CD=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=K_(_D,r);return l.jsx(Nf,{present:n||Vu(s.checked)||s.checked===!0,children:l.jsx(Wn.span,{"data-state":ED(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});CD.displayName=_D;var PD="CheckboxBubbleInput",AD=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:c,required:d,disabled:f,name:p,value:g,form:h,bubbleInput:x,setBubbleInput:S}=K_(PD,e),P=bs(r,S),j=yq(s),N=wD(n);y.useEffect(()=>{const T=x;if(!T)return;const R=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(R,"checked").set,I=!a.current;if(j!==s&&O){const D=new Event("click",{bubbles:I});T.indeterminate=Vu(s),O.call(T,Vu(s)?!1:s),T.dispatchEvent(D)}},[x,j,s,a]);const k=y.useRef(Vu(s)?!1:s);return l.jsx(Wn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??k.current,required:d,disabled:f,name:p,value:g,form:h,...t,tabIndex:-1,ref:P,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});AD.displayName=PD;function wq(e){return typeof e=="function"}function Vu(e){return e==="indeterminate"}function ED(e){return Vu(e)?"indeterminate":e?"checked":"unchecked"}const kD=y.forwardRef(({className:e,...t},r)=>l.jsx(jD,{ref:r,"data-slot":"checkbox",className:zn("glass-checkbox peer relative grid h-5 w-5 shrink-0 place-items-center overflow-hidden rounded-[4px] border-2 border-slate-500/90 bg-white/65 backdrop-blur-2xl shadow-[0_3px_10px_-2px_rgba(15,23,42,0.4),inset_0_2px_rgba(255,255,255,0.9),inset_0_-1px_rgba(0,0,0,0.08)] ring-1 ring-inset ring-white/50 transition-all duration-200 outline-none hover:border-slate-600 hover:bg-white/75 hover:shadow-[0_4px_12px_-2px_rgba(15,23,42,0.45),inset_0_2px_rgba(255,255,255,0.95)] hover:ring-white/60 focus-visible:ring-2 focus-visible:ring-[rgb(95,179,249)]/65 focus-visible:ring-offset-[1.5px] focus-visible:ring-offset-white/35 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-[rgb(95,179,249)] data-[state=checked]:border-[rgb(95,179,249)] data-[state=checked]:text-white data-[state=checked]:ring-[rgb(95,179,249)]/65 data-[state=checked]:shadow-[0_3px_10px_-2px_rgba(95,179,249,0.5),inset_0_1px_rgba(255,255,255,0.4)]",e),...t,children:l.jsx(CD,{"data-slot":"checkbox-indicator",className:"relative z-[1] flex items-center justify-center text-current transition-none",children:l.jsx(d6,{className:"size-4"})})}));kD.displayName="Checkbox";function Sq({categories:e,filters:t,onFiltersChange:r,productCounts:n}){const a=p=>{const g=new Set(t.categories);g.has(p)?g.delete(p):g.add(p),r({...t,categories:Array.from(g)})},s=()=>{r({...t,categories:[]})},c=t.categories.length,d=y.useRef(null),f=y.useRef(null);return y.useLayoutEffect(()=>{if(typeof window>"u")return;const p=d.current;if(!p)return;const g=p.closest(".filter-sidebar-container"),h=g?.closest(".products-layout");if(!g||!h)return;let x=window.scrollY||0;const S=D=>{const B=D??d.current;B&&(f.current!==null&&(window.clearTimeout(f.current),f.current=null),B.style.transition="",B.style.transform="")},P=()=>{["position","top","left","right","bottom","width","zIndex","transform","transition"].forEach(B=>{try{p.style[B]=""}catch{}}),S(p);try{g.style.minHeight="",g.style.position="",g.style.overflow=""}catch{}x=window.scrollY||0},j=()=>{const D=document.querySelector("[data-app-header]"),B=getComputedStyle(document.documentElement).getPropertyValue("--app-header-height"),G=Number.parseFloat(B||"112");return D?.getBoundingClientRect().height||G||112},N=(D,B)=>{const X=Math.max(-28,Math.min(28,B*.6));if(Math.abs(X)<=1){D.style.transition="",D.style.transform="translate3d(0, 0, 0)",f.current!==null&&(window.clearTimeout(f.current),f.current=null);return}D.style.transition="transform 180ms ease-out",D.style.transform=`translate3d(0, ${(-X).toFixed(0)}px, 0)`,f.current!==null&&window.clearTimeout(f.current),f.current=window.setTimeout(()=>{D.style.transition="transform 200ms ease-out",D.style.transform="translate3d(0, 0, 0)",f.current=null},140)};let k=null;const T=()=>{const D=d.current;if(!D)return;const B=D.closest(".filter-sidebar-container"),G=B?.closest(".products-layout");if(!B||!G)return;if(!(window.innerWidth>=1024)){P();return}B.style.position="relative",B.style.overflow="visible";const Y=j()+24,oe=24,se=G.getBoundingClientRect(),ie=B.getBoundingClientRect(),K=window.getComputedStyle(B),ne=Number.parseFloat(K.paddingLeft||"0")||0,ee=Number.parseFloat(K.paddingRight||"0")||0,z=ne+ee,fe=D.getBoundingClientRect().height,pe=window.scrollY+se.top,q=pe+se.height,J=window.scrollY,de=pe-Y,be=q-Y-fe-oe;if(be<=de){P(),B.style.position="relative",B.style.minHeight=`${Math.ceil(fe)}px`,D.style.position="absolute",D.style.top="0",D.style.left=`${Math.round(ne)}px`,D.style.right="auto",D.style.width=`calc(100% - ${Math.round(z)}px)`,S(D),x=J;return}if(J>=be){const Ae=q-fe-oe-pe;B.style.minHeight=`${Math.ceil(fe)}px`,D.style.position="absolute",D.style.top=`${Math.max(0,Math.round(Ae))}px`,D.style.left=`${Math.round(ne)}px`,D.style.right="auto",D.style.width=`calc(100% - ${Math.round(z)}px)`,D.style.transform="none",S(D),x=J;return}if(J>=de){B.style.minHeight=`${Math.ceil(fe)}px`,D.style.position="fixed",D.style.top=`${Math.round(Y)}px`,D.style.left=`${Math.round(ie.left+ne)}px`;const Ae=Math.max(0,Math.round(ie.width-z));D.style.width=`${Ae}px`;const Ie=J-x;D.style.transform="translate3d(0, 0, 0)",N(D,Ie),x=J;return}P(),S(D),x=J},R=()=>{k===null&&(k=window.requestAnimationFrame(()=>{k=null,T()}))};R();const M=()=>R(),O=()=>R();window.addEventListener("scroll",M,{passive:!0}),window.addEventListener("resize",O),window.addEventListener("orientationchange",O);const I=[];if("ResizeObserver"in window){const D=new ResizeObserver(R);D.observe(g),I.push(D);const B=new ResizeObserver(R);B.observe(h),I.push(B)}return()=>{k!==null&&window.cancelAnimationFrame(k),window.removeEventListener("scroll",M),window.removeEventListener("resize",O),window.removeEventListener("orientationchange",O),I.forEach(D=>D.disconnect()),P(),S(p)}},[]),l.jsxs(K0,{ref:d,className:"glass-card squircle-lg w-full lg:max-w-none border-l-4 border-l-[rgba(95,179,249,0.5)] border-t border-r border-b border-[rgba(255,255,255,0.45)] catalog-filter-card",style:{background:"linear-gradient(to right, rgba(95,179,249,0.08) 0%, rgba(255,255,255,0.35) 8px, rgba(255,255,255,0.35) 100%)",backdropFilter:"blur(40px) saturate(1.7)"},children:[l.jsx(hD,{children:l.jsxs(gD,{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 truncate",children:[l.jsx(P6,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("span",{className:"font-semibold truncate",children:"Filters"})]}),l.jsx(Bc,{variant:"outline",className:`squircle-sm inline-flex items-center justify-center w-7 h-5 flex-shrink-0 ${c>0?"":"invisible"}`,children:c||0})]}),l.jsx(Ue,{variant:"ghost",size:"sm",onClick:s,className:`${c>0?"":"opacity-0 pointer-events-none"} whitespace-nowrap text-sm px-3 py-1`,children:"Clear All"})]})}),l.jsx(Y0,{className:"space-y-6",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(Zr,{children:"Categories"}),l.jsx("div",{className:"space-y-2",children:e.map(p=>l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[l.jsx(kD,{id:`category-${p}`,checked:t.categories.includes(p),onCheckedChange:()=>a(p)}),l.jsx(Zr,{htmlFor:`category-${p}`,className:"text-sm cursor-pointer break-words",children:p})]}),l.jsx(Bc,{variant:"outline",className:"text-xs squircle-sm",children:n[p]||0})]},p))})]})})]})}var Nq="Separator",j2="horizontal",jq=["horizontal","vertical"],OD=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=j2,...a}=e,s=_q(n)?n:j2,d=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return l.jsx(Wn.div,{"data-orientation":s,...d,...a,ref:t})});OD.displayName=Nq;function _q(e){return jq.includes(e)}var Cq=OD;const ZN=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>l.jsx(Cq,{ref:a,"data-slot":"separator-root",decorative:r,orientation:t,className:zn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n}));ZN.displayName="Separator";const _2=50;function TD({images:e,alt:t,className:r,imageClassName:n,showDots:a=!0,showArrows:s=!1,children:c,onClick:d,...f}){const p=y.useMemo(()=>e&&e.length>0?e:[""],[e]),[g,h]=y.useState(0),[x,S]=y.useState(null),[P,j]=y.useState(null);y.useEffect(()=>{h(0)},[p]),y.useEffect(()=>{h(B=>{const G=p.length>0?p.length-1:0;return Math.min(B,G)})},[p.length]);const N=()=>{h(B=>B<p.length-1?B+1:B)},k=()=>{h(B=>B>0?B-1:B)},T=B=>{S(B.targetTouches[0].clientX),j(null)},R=B=>{j(B.targetTouches[0].clientX)},M=()=>{if(x!==null&&P!==null){const B=x-P;B>_2&&g<p.length-1&&N(),B<-_2&&g>0&&k()}S(null),j(null)},O=p.length>1,I=g>0,D=g<p.length-1;return l.jsxs("div",{className:ht("relative overflow-hidden",r),onClick:d,...f,children:[l.jsxs("div",{className:"relative h-full w-full",onTouchStart:T,onTouchMove:R,onTouchEnd:M,children:[l.jsx("div",{className:"flex h-full w-full transition-transform duration-300 ease-out",style:{transform:`translateX(-${g*100}%)`},children:p.map((B,G)=>l.jsx("div",{className:"product-image-frame flex h-full w-full flex-shrink-0 items-center justify-center",children:l.jsx(bD,{src:B,alt:`${t} - ${G+1}`,className:ht("product-image-frame__img",n)})},`${B}-${G}`))}),c,O&&s&&I&&l.jsx("button",{type:"button",onClick:B=>{B.stopPropagation(),k()},"aria-label":"Previous image",className:"absolute left-2 top-1/2 -translate-y-1/2 rounded-full bg-white/90 p-2 text-[rgb(95,179,249)]",children:l.jsx(p6,{className:"h-4 w-4"})}),O&&s&&D&&l.jsx("button",{type:"button",onClick:B=>{B.stopPropagation(),N()},"aria-label":"Next image",className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-full bg-white/90 p-2 text-[rgb(95,179,249)]",children:l.jsx(kv,{className:"h-4 w-4"})})]}),O&&a&&l.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-1.5",children:p.map((B,G)=>l.jsx("button",{type:"button",onClick:X=>{X.stopPropagation(),h(G)},className:ht("transition-all rounded-full",G===g?"h-2 w-6 bg-white":"h-2 w-2 bg-white/50 hover:bg-white/75"),"aria-label":`View image ${G+1}`,"aria-pressed":G===g},`dot-${G}`))})]})}const Gp=e=>typeof e=="string"?e.trim():e==null?"":String(e).trim(),Pq=e=>!!(Gp(e.addressLine1)&&Gp(e.city)&&Gp(e.state)&&Gp(e.postalCode)&&Gp(e.country)),C2=e=>e.replace(/\b\w/g,t=>t.toUpperCase()),Aq=e=>{const r=(e.serviceType||e.serviceCode||"Service").replace(/[_-]+/g," ").trim(),n=r?C2(r):"Service";return e.carrierId?`${C2(e.carrierId.replace(/[_-]+/g," ").trim())}  ${n}`:n},P2=(e,t)=>{const r=new Date(e);let n=Math.max(0,Math.floor(t));for(;n>0;){r.setDate(r.getDate()+1);const a=r.getDay();a!==0&&a!==6&&(n-=1)}return r},Eq=(e,t)=>{try{const n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour:"2-digit",hour12:!1}).formatToParts(e).find(s=>s.type==="hour")?.value,a=n?Number.parseInt(n,10):NaN;return Number.isFinite(a)?a:null}catch{return null}};function kq({isOpen:e,onClose:t,cartItems:r,onCheckout:n,onUpdateItemQuantity:a,onRemoveItem:s,isAuthenticated:c,onRequireLogin:d,physicianName:f,customerEmail:p,customerName:g,onClearCart:h,onPaymentSuccess:x,defaultShippingAddress:S,availableCredits:P=0,pricingMode:j,onPricingModeChange:N,showRetailPricingToggle:k=!1}){const[T,R]=y.useState({}),[M,O]=y.useState(!1),[I,D]=y.useState({}),[B,G]=y.useState(!1),[X,Y]=y.useState("zelle"),[oe,se]=y.useState(null),[ie,K]=y.useState("idle"),[ne,ee]=y.useState(null),z=y.useRef(null),fe=y.useRef(null),pe=y.useRef(null),[q,J]=y.useState({name:S?.name||f||g||"",addressLine1:S?.addressLine1||"",addressLine2:S?.addressLine2||"",city:S?.city||"",state:S?.state||"",postalCode:S?.postalCode||"",country:S?.country||"US"}),[de,be]=y.useState(null),[Ae,Ie]=y.useState(null),[Fe,ke]=y.useState(null),[Se,De]=y.useState(!1),ze=y.useRef(null),xe=y.useRef(0),[Ve,dt]=y.useState(!1),[it,pt]=y.useState(null),[Ee,Le]=y.useState(null),[Ke,Ye]=y.useState(!1),mt=y.useRef(null),st=y.useRef(null);y.useEffect(()=>{const me=Me=>{dt(!!Me.detail?.open)};return window.addEventListener("peppro:legal-state",me),()=>window.removeEventListener("peppro:legal-state",me)},[]);const ar=y.useCallback(()=>{ze.current&&(xe.current=ze.current.scrollTop)},[]),Vr=y.useCallback(()=>{ze.current&&(ze.current.scrollTop=xe.current)},[]);y.useLayoutEffect(()=>{Ve||Vr()},[Ve,Vr]);const mr=y.useCallback(me=>{ar(),dt(!0),window.dispatchEvent(new CustomEvent("peppro:open-legal",{detail:{key:me,preserveDialogs:!0}}))},[ar]),Vt=j??"wholesale",Mt=Vt==="retail",fi=(me,Me)=>{const ft=me.bulkPricingTiers??[];if(!ft.length)return[];const Ze=[...ft].sort((hr,Ir)=>hr.minQuantity-Ir.minQuantity),et=Ze.findIndex(hr=>Me<hr.minQuantity);let St=et===-1?Math.max(0,Ze.length-5):Math.max(0,et-2),jt=Ze.slice(St,St+5);return jt.length<5&&St>0&&(St=Math.max(0,St-(5-jt.length)),jt=Ze.slice(St,St+5)),jt},kr=y.useMemo(()=>r.map(({id:me,product:Me,quantity:ft,note:Ze,variant:et},St)=>{const jt=qN(Me,et,ft,{pricingMode:Vt});return{cartItemId:me,productId:Me.id,variantId:et?.id??null,name:et?`${Me.name}  ${et.label}`:Me.name,price:jt,quantity:ft,note:Ze??null,position:St+1,sku:et?.sku||Me.sku||null,image:et?.image||Me.image||null}}),[r,Vt]),Ct=y.useMemo(()=>kr.map(me=>`${me.productId}:${me.variantId||"base"}:${me.quantity}:${me.price}`).join("|"),[kr]),en=y.useMemo(()=>kr.reduce((me,Me)=>me+Me.price*Me.quantity,0),[kr]),Gt=Fe!=null&&de?de[Fe]:null,Gr=Gt?.rate&&Number(Gt.rate)||0,Ur=Math.max(0,typeof it?.amount=="number"?it.amount:0),xa=Math.max(0,Number(P||0)),lr=Math.min(en,xa),Vn=Math.max(0,en-lr+Gr+Ur),Kt=it?.testPaymentOverrideApplied===!0,Or=typeof it?.originalGrandTotal=="number"&&Number.isFinite(it.originalGrandTotal)?Math.max(0,it.originalGrandTotal):null,tn=Kt?0:lr,Wa=Kt?0:Gr,dn=Kt?0:Ur,wa=Kt?.01:Vn,ct=[q.addressLine1,q.addressLine2,q.city,q.state,q.postalCode,q.country].map(me=>Gp(me).toUpperCase()).join("|"),qt=Pq(q),Ut=!0,zt=!!(de&&de.length>0&&Fe!=null),$t=!!(e&&c&&zt&&qt&&kr.length>0),Yt=B&&Ut&&zt&&(!$t||!!it&&!Ke),Tr=y.useMemo(()=>{if(!$t)return null;const me=Gt?.addressFingerprint||`${Gt?.carrierId||"carrier"}:${Gt?.serviceCode||Gt?.serviceType||"service"}`;return[Ct||"items",ct||"address",me,Gr.toFixed(2),X||"payment"].join("|")},[$t,Ct,ct,Gt,Gr,X]),xr=Yt&&c;let Rr=`Place Order (${wa.toFixed(2)})`;ie==="success"&&ne||ie==="error"&&ne?Rr=ne:Ke&&$t?Rr="Calculating taxes":M&&(Rr="Processing order...");const Kr=y.useMemo(()=>{const me=new Map;for(const Me of r){const ft=Me.product,Ze=Me.variant??null,et=typeof Ze?.wooId=="number"?`variant:${Ze.wooId}`:typeof ft.wooId=="number"?`product:${ft.wooId}`:`product:${ft.id}`,St=me.get(et)??{requested:0,inStock:!0,stockQuantity:null};St.requested+=Math.max(0,Number(Me.quantity)||0);const jt=Ze?Ze.inStock:ft.inStock;St.inStock=St.inStock&&jt!==!1;const hr=Ze?.stockQuantity??ft.stockQuantity??null;typeof hr=="number"&&Number.isFinite(hr)&&hr>=0&&(St.stockQuantity=St.stockQuantity==null?Math.floor(hr):Math.min(St.stockQuantity,Math.floor(hr))),me.set(et,St)}for(const Me of me.values())if(!Me.inStock||Me.stockQuantity!=null&&Me.requested>Me.stockQuantity)return!0;return!1},[r]),cr=y.useMemo(()=>{if(!Gt)return null;const me=new Date,Ze=(Eq(me,"America/Los_Angeles")??me.getHours())>=13,et=Kr?3:0,St=Ze?2:1,jt=Ze?3:2,hr=et+St,Ir=et+jt,Yr=P2(me,hr),It=P2(me,Ir),Xr=Yr.toDateString()===It.toDateString()?Yr.toLocaleDateString():`${Yr.toLocaleDateString()}${It.toLocaleDateString()}`,Mr=[];et&&Mr.push("3 business day backorder"),Mr.push(`${St}${jt} business day processing`);const Sa=`${Mr.join(" + ")}${Ze?" (order placed after 1pm PT)":""}`;return{shipWindowLabel:Xr,mathText:Sa,disclaimer:"Carrier transit begins after shipment and is not guaranteed."}},[Kr,Gt]),Ha=async()=>{if(!qt){const me="Enter the full shipping address before requesting shipping rates.";Ie(me),He.error(me);return}Ie(null),De(!0);try{const Me={shippingAddress:q,items:r.map(et=>{const St=et.variant?.dimensions||et.product.dimensions||{},jt=et.variant?.weightOz??et.product.weightOz??null,hr=typeof jt=="number"&&Number.isFinite(jt)&&jt>0?jt:16;return{name:et.product.name,quantity:et.quantity,weightOz:hr,lengthIn:St?.lengthIn??null,widthIn:St?.widthIn??null,heightIn:St?.heightIn??null}})},ft=await oD.getRates(Me),Ze=Array.isArray(ft?.rates)?ft.rates:[];be(Ze),ke(Ze.length>0?0:null),fe.current=Ze.length>0?ct:null,pe.current=Ze.length>0?Ct:null,Ze.length||Ie("No shipping rates available for this address.")}catch(me){const Me=me?.message||"Unable to fetch shipping rates. Please check the address.";Ie(Me),He.error(Me)}finally{De(!1)}},Wi=async()=>{console.debug("[CheckoutModal] Checkout start",{total:Vn,items:r.map(me=>({id:me.id,productId:me.product.id,variantId:me.variant?.id,qty:me.quantity}))}),O(!0);try{const me=await n({shippingAddress:q,shippingRate:Gt,shippingTotal:Gr,expectedShipmentWindow:cr?.shipWindowLabel??null,physicianCertificationAccepted:B,taxTotal:Ur,paymentMethod:X}),ft=(It=>{if(!It)return null;const Xr=It.integrations?.wooCommerce?.response||null,Mr=Xr?.paymentUrl||Xr?.payForOrderUrl||Xr?.payment_url||null,Sa=()=>{if(!Mr)return null;const Gn=String(Mr).match(/order-pay\/(\d+)/i);return Gn&&Gn[1]?Gn[1]:null},nn=[Xr?.number,It.order?.wooOrderNumber,It.order?.number,Xr?.id,Sa(),It.order?.wooOrderId];for(const mi of nn){if(mi==null)continue;const Gn=String(mi).trim().replace(/^#/,"");if(Gn)return Gn}return null})(me);se(ft);const Ze=X==="zelle",et=X==="bank_transfer",St=Ze||et,jt=Ze?ft?`We received your order! Please Zelle support@peppro.net with the memo 'Order #${ft}'. Instructions to follow in an email.`:"We received your order! Please Zelle support@peppro.net. Instructions to follow in an email.":et?"We received your order! An email will follow with Direct Bank Trasnfer (ACH) instructions.":"We received your order!",hr=me&&typeof me=="object"&&"message"in me&&me.message?String(me.message):"We received your order!",Ir=St?jt:hr;K("success"),ee(ft?`Order #${ft} placed`:Ir);const Yr=St?jt:ft?`Order #${ft} placed.`:Ir;He.success(Yr),console.debug("[CheckoutModal] Checkout success"),h&&h(),x&&x(),z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{K("idle"),ee(null),t()},8e3)}catch(me){console.warn("[CheckoutModal] Checkout handler threw",me);const Me=typeof me?.message=="string"&&me.message.trim().length>0?me.message:"Unable to complete purchase. Please try again.";throw K("error"),ee(Me),He.error(Me),me}finally{O(!1)}},Ko=async()=>{if(!B||!Ut){He.error("Accept the terms to continue.");return}if(!zt){He.error("Select a shipping option before completing your purchase.");return}if($t&&(!it||Ke)){He.error("We are calculating taxes for this order. Please try again in a moment.");return}if(!c){d();return}if(M){console.debug("[CheckoutModal] Checkout ignored, already processing");return}try{console.debug("[CheckoutModal] Checkout button confirmed"),await Wi()}catch{}},pi=(me,Me)=>{const ft=Math.min(999,Me+1);R(Ze=>({...Ze,[me]:String(ft)})),a(me,ft),D(Ze=>({...Ze,[me]:!0}))},Vl=(me,Me)=>{const ft=Math.max(1,Me-1);R(Ze=>({...Ze,[me]:String(ft)})),a(me,ft),D(Ze=>({...Ze,[me]:!0}))},rn=(me,Me)=>{const ft=Me.replace(/[^0-9]/g,"");if(R(Ze=>({...Ze,[me]:ft})),ft){const Ze=Math.max(1,Math.min(999,parseInt(ft,10)));a(me,Ze),D(et=>({...et,[me]:!0}))}},xs=me=>{T[me]||(R(Me=>({...Me,[me]:"1"})),a(me,1))},ur=me=>{console.debug("[CheckoutModal] Remove item request",{cartItemId:me}),s(me),R(Me=>{const{[me]:ft,...Ze}=Me;return Ze})};y.useEffect(()=>{e||(R({}),O(!1),D({}),G(!1),Y("zelle"),se(null),K("idle"),ee(null),be(null),ke(null),Ie(null),pe.current=null,pt(null),Le(null),Ye(!1),mt.current=null,st.current&&(st.current.abort(),st.current=null),J({name:S?.name||f||g||"",addressLine1:S?.addressLine1||"",addressLine2:S?.addressLine2||"",city:S?.city||"",state:S?.state||"",postalCode:S?.postalCode||"",country:S?.country||"US"}),z.current&&(clearTimeout(z.current),z.current=null))},[S,g,e,f]),y.useEffect(()=>{J(me=>({...me,name:S?.name||f||g||me.name||"",addressLine1:S?.addressLine1??me.addressLine1??"",addressLine2:S?.addressLine2??me.addressLine2??"",city:S?.city??me.city??"",state:S?.state??me.state??"",postalCode:S?.postalCode??me.postalCode??"",country:S?.country??me.country??"US"}))},[S,f,g]),y.useEffect(()=>{if(r.length===0){R({});return}const me={};r.forEach(Me=>{me[Me.id]=String(Me.quantity)}),R(me),D(Me=>{const ft={};return r.forEach(Ze=>{ft[Ze.id]=Me[Ze.id]??!1}),ft})},[r]),y.useEffect(()=>{if(!de||de.length===0){fe.current=null;return}fe.current!==ct&&(fe.current=null,be(null),ke(null),Ie("Shipping address changed. Please fetch shipping rates again."))},[ct,de]),y.useEffect(()=>{if(!de||de.length===0){pe.current=null;return}pe.current!==Ct&&(pe.current=null,be(null),ke(null),Ie("Cart updated. Please fetch shipping rates again."))},[Ct,de]);const Va=y.useCallback(async me=>{if(!$t||!Tr||!me?.force&&mt.current?.key===Tr)return;st.current&&st.current.abort();const Me=new AbortController;st.current=Me,mt.current?.key!==Tr&&pt(null),Ye(!0),Le(null);try{const ft=await Ba.estimateTotals({items:kr.map(Yr=>({productId:Yr.productId,variantId:Yr.variantId,price:Yr.price,quantity:Yr.quantity})),shippingAddress:q,shippingEstimate:Gt,shippingTotal:Gr,paymentMethod:X},{signal:Me.signal});if(Me.signal.aborted)return;const Ze=ft?.totals||null,et=Math.max(0,Number(Ze?.taxTotal)||0),St=Number(Ze?.grandTotal),jt=Math.max(0,en-lr+Gr+et),hr=Ze?.testPaymentOverrideApplied===!0,Ir=Number(Ze?.originalGrandTotal);pt({amount:et,currency:typeof Ze?.currency=="string"&&Ze.currency?Ze.currency:"USD",grandTotal:Number.isFinite(St)?Math.max(0,St):jt,source:Ze?.source||null,testPaymentOverrideApplied:hr,originalGrandTotal:Number.isFinite(Ir)?Math.max(0,Ir):null}),mt.current={key:Tr,ts:Date.now()}}catch(ft){if(Me.signal.aborted)return;const Ze=typeof ft?.message=="string"&&ft.message.trim()?Dl(ft.message):"Unable to calculate taxes right now. Please try again.";Le(Ze),pt(null),mt.current=null}finally{st.current===Me&&(st.current=null),Me.signal.aborted||Ye(!1)}},[lr,kr,X,Gt,q,Gr,$t,en,Tr]);y.useEffect(()=>{if(!$t||!Tr){st.current&&(st.current.abort(),st.current=null),pt(null),Le(null),Ye(!1),mt.current=null;return}return Va().catch(me=>{console.warn("[CheckoutModal] Tax estimate failed",me)}),()=>{st.current&&(st.current.abort(),st.current=null)}},[Va,$t,Tr]);const nu=y.useCallback(()=>{mt.current=null,Va({force:!0}).catch(me=>{console.warn("[CheckoutModal] Tax estimate retry failed",me)})},[Va]);return r.length===0?null:l.jsx(Wc,{open:e,modal:!Ve,onOpenChange:me=>{if(console.debug("[CheckoutModal] Dialog open change",{open:me}),!me){if(Ve){console.debug("[CheckoutModal] Close request blocked by legal modal");return}t()}},children:l.jsxs(Ml,{hideCloseButton:!0,className:"checkout-modal glass-card squircle-lg w-full max-w-[min(960px,calc(100vw-3rem))] border border-[var(--brand-glass-border-2)] shadow-2xl p-0 flex flex-col max-h-[90vh] overflow-hidden",style:{backdropFilter:"blur(38px) saturate(1.6)"},containerStyle:Ve?{pointerEvents:"none"}:void 0,overlayStyle:Ve?{pointerEvents:"none"}:void 0,"data-legal-overlay":Ve?"true":"false",trapFocus:!Ve,disableOutsidePointerEvents:!1,children:[l.jsx(Wu,{className:"sticky top-0 z-10 glass-card border-b border-[var(--brand-glass-border-1)] px-6 py-4 backdrop-blur-lg",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(kl,{className:"text-xl font-semibold text-[rgb(95,179,249)]",children:"Checkout"}),l.jsx(Hu,{children:"Review and place your order."})]}),l.jsx(F_,{className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)",borderRadius:"50%"},"aria-label":"Close checkout",children:l.jsx(zu,{className:"h-4 w-4"})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden px-6 pb-6",ref:ze,children:l.jsx("div",{className:"space-y-6 pt-6",children:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{children:"Order Summary"}),k&&l.jsxs("div",{className:`glass-card squircle-lg flex flex-wrap items-center justify-between gap-4 border px-6 py-4 transition-colors ${Mt?"border-[rgba(34,197,94,0.38)] shadow-[0_20px_48px_-38px_rgba(34,197,94,0.35)]":"border-[rgba(95,179,249,0.28)] shadow-[0_20px_48px_-40px_rgba(95,179,249,0.22)] hover:border-[rgba(95,179,249,0.42)]"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{id:"retail-pricing-toggle",type:"checkbox",className:"brand-checkbox",checked:Mt,onChange:me=>{const Me=me.target.checked?"retail":"wholesale";N?.(Me)}}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{htmlFor:"retail-pricing-toggle",className:"text-base font-semibold text-slate-900",children:"Retail pricing"}),l.jsx("span",{className:"text-xs text-slate-600",children:"For Sales Reps only"})]})]}),Mt&&l.jsx("span",{className:"inline-flex items-center rounded-full border border-green-200/80 bg-green-50/70 px-3 py-1 text-xs font-semibold text-green-800",children:"Enabled"})]}),l.jsx("div",{className:"flex w-full max-w-full flex-col gap-4 pb-2 lg:grid lg:grid-cols-2 auto-rows-fr",children:r.map((me,Me)=>{const ft=me.product.images.length>0?me.product.images:[me.product.image],Ze=me.variant?.image?[me.variant.image,...ft].filter((It,Xr,Mr)=>It&&Mr.indexOf(It)===Xr):ft,et=qN(me.product,me.variant,me.quantity,{pricingMode:Vt}),St=et*me.quantity,jt=(me.product.bulkPricingTiers??[]).sort((It,Xr)=>It.minQuantity-Xr.minQuantity),hr=fi(me.product,me.quantity),Ir=jt.find(It=>me.quantity<It.minQuantity)||null,Yr=I[me.id]??!1;return l.jsx(K0,{className:"glass squircle-sm h-full w-full",children:l.jsx(Y0,{className:"p-3 relative",children:l.jsx("div",{className:"checkout-item-scroll",children:l.jsx("div",{className:"checkout-item-scroll-inner",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-4 min-w-0 flex-1",children:[l.jsx("div",{className:"checkout-item-image self-start",children:l.jsx(TD,{images:Ze,alt:me.product.name,className:"flex h-full w-full items-center justify-center rounded-lg bg-white/80 p-2",imageClassName:"h-full w-full object-contain",style:{"--product-image-frame-padding":"clamp(0.35rem, 0.75vw, 0.7rem)"},showDots:Ze.length>1,showArrows:!1})}),l.jsxs("div",{className:"min-w-0",children:[l.jsxs("h4",{className:"line-clamp-1",children:["#",Me+1,"  ",me.product.name]}),l.jsx("p",{className:"text-sm text-gray-600",children:me.product.dosage}),me.variant&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Variant: ",me.variant.label]}),l.jsxs("div",{className:"mt-2 mb-2 flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[l.jsxs("span",{className:Mt?"text-green-700 font-bold":"text-green-600 font-bold",children:["$",et.toFixed(2),Mt?l.jsx("span",{className:"ml-1 text-xs font-semibold text-green-700",children:"(Retail)"}):null]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ue,{type:"button",variant:"outline",size:"icon",onClick:()=>Vl(me.id,me.quantity),disabled:me.quantity<=1,className:"squircle-sm bg-slate-50 border-2",children:l.jsx($_,{className:"h-4 w-4"})}),l.jsx(Ar,{value:T[me.id]??String(me.quantity),onChange:It=>rn(me.id,It.target.value),onBlur:()=>xs(me.id),inputMode:"numeric",pattern:"[0-9]*",className:"w-16 text-center squircle-sm bg-slate-50 border-2"}),l.jsx(Ue,{type:"button",variant:"outline",size:"icon",onClick:()=>pi(me.id,me.quantity),className:"squircle-sm bg-slate-50 border-2",children:l.jsx(V0,{className:"h-4 w-4"})})]})]}),!Mt&&hr.length>0&&l.jsxs("div",{className:"mt-3 glass-card squircle-sm border border-[var(--brand-glass-border-2)] p-3 space-y-2",children:[l.jsxs("button",{type:"button",className:"flex w-full items-center justify-between text-xs font-semibold text-slate-700",onClick:()=>D(It=>({...It,[me.id]:!Yr})),children:[l.jsx("span",{className:"tracking-wide uppercase text-[0.65rem]",children:"Bulk Pricing"}),l.jsx("span",{className:"text-[rgb(95,179,249)] text-[0.65rem]",children:Yr?"Hide":"Show"})]}),Yr&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-1.5 pt-4",children:hr.map(It=>l.jsxs("div",{className:"flex items-center justify-between rounded-md px-2 py-1 text-[0.8rem]",children:[l.jsxs("span",{className:me.quantity>=It.minQuantity?"text-green-600 font-semibold":"text-slate-600",children:["Buy ",It.minQuantity,"+"]}),l.jsxs("span",{className:`tabular-nums ${me.quantity>=It.minQuantity?"text-green-600 font-semibold":"text-slate-600"}`,children:["Save ",It.discountPercentage,"%"]})]},`${It.minQuantity}-${It.discountPercentage}`))}),Ir&&l.jsxs("p",{className:"text-xs text-[rgb(95,179,249)] font-medium",children:["Buy ",Ir.minQuantity-me.quantity," more to save ",Ir.discountPercentage,"%"]})]})]}),me.note&&l.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Notes: ",me.note]})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-3 shrink-0 text-right",children:[l.jsxs("p",{className:`${Mt?"text-green-700":""} font-bold tabular-nums tracking-tight`,children:["$",St.toFixed(2)]}),l.jsxs(Ue,{type:"button",variant:"ghost",size:"icon",onClick:()=>ur(me.id),className:"text-red-500 hover:text-red-600",children:[l.jsx(GN,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Remove item"})]})]})]})})})})},me.id)})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{children:"Shipping Address"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Zr,{htmlFor:"ship-name",children:"Recipient Name"}),l.jsx(Ar,{id:"ship-name",placeholder:"Full name",value:q.name||"",onChange:me=>J(Me=>({...Me,name:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Zr,{htmlFor:"ship-line1",children:"Address Line 1"}),l.jsx(Ar,{id:"ship-line1",placeholder:"Street address",value:q.addressLine1||"",onChange:me=>J(Me=>({...Me,addressLine1:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Zr,{htmlFor:"ship-line2",children:"Address Line 2"}),l.jsx(Ar,{id:"ship-line2",placeholder:"Apt, suite, etc. (optional)",value:q.addressLine2||"",onChange:me=>J(Me=>({...Me,addressLine2:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Zr,{htmlFor:"ship-city",children:"City"}),l.jsx(Ar,{id:"ship-city",placeholder:"City",value:q.city||"",onChange:me=>J(Me=>({...Me,city:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Zr,{htmlFor:"ship-state",children:"State"}),l.jsx(Ar,{id:"ship-state",placeholder:"State",value:q.state||"",onChange:me=>J(Me=>({...Me,state:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Zr,{htmlFor:"ship-postal",children:"Postal Code"}),l.jsx(Ar,{id:"ship-postal",placeholder:"ZIP / Postal code",value:q.postalCode||"",onChange:me=>J(Me=>({...Me,postalCode:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Zr,{htmlFor:"ship-country",children:"Country"}),l.jsx(Ar,{id:"ship-country",placeholder:"Country",value:q.country||"US",onChange:me=>J(Me=>({...Me,country:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ue,{type:"button",variant:"secondary",onClick:Ha,disabled:Se||r.length===0||!qt,className:"squircle-sm",children:Se?"Fetching rates...":"Get shipping rates"}),Ae&&l.jsx("p",{className:"text-sm text-red-600",children:Ae})]}),de&&de.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:"Select a service"}),l.jsxs("select",{className:"shipping-rate-select",value:Fe!=null?String(Fe):"",onChange:me=>{const Me=me.target.value?Number(me.target.value):null;ke(Me)},children:[l.jsx("option",{value:"",disabled:!0,children:"Choose a shipping option"}),de.map((me,Me)=>l.jsxs("option",{value:Me,children:[Aq(me),"  $",Number(me.rate||0).toFixed(2)]},`${me.serviceCode}-${Me}`))]}),Fe!=null&&de[Fe]&&l.jsx("div",{className:"rounded-md bg-slate-50 px-3 py-2 text-xs text-slate-600",children:cr&&l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:["Estimated Shipping window: ",cr.shipWindowLabel]}),l.jsx("p",{className:"text-xs text-slate-600",children:cr.mathText}),l.jsx("p",{className:"text-[11px] text-slate-500",children:cr.disclaimer})]})})]})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsx("h3",{className:"mb-2",children:"Payment Information"}),l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/70 px-3 py-4 mb-3 text-sm text-slate-700 leading-relaxed",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[X==="zelle"?l.jsx(e6,{size:20,className:"text-slate-600 shrink-0","aria-hidden":"true"}):l.jsx(R6,{size:20,className:"text-slate-600 shrink-0","aria-hidden":"true"}),l.jsx("p",{className:"font-bold text-slate-800",children:X==="zelle"?"Zelle":"Direct Bank Transfer"})]}),l.jsxs("p",{className:"mt-2",children:["After you place your order, well email"," ",X==="zelle"?"Zelle":"bank transfer"," instructions to"," ",l.jsx("span",{className:"font-semibold",children:p||"your email address"}),"."]}),l.jsxs("p",{className:"mt-2 text-[13px] text-slate-600",children:["Important: Include your order number in the payment memo/notes (well show it here after you place the order).",X==="zelle"?" Ensure your bank supports Zelle and that your Zelle account is set up and ready.":""]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[l.jsx(Ue,{type:"button",variant:"secondary",onClick:()=>Y("zelle"),"aria-pressed":X==="zelle",className:`squircle-sm checkout-payment-method-button justify-center gap-2 font-semibold ${X==="zelle"?"checkout-payment-method-button--active":"checkout-payment-method-button--inactive"}`,children:"Zelle"}),l.jsx(Ue,{type:"button",variant:"secondary",onClick:()=>Y("bank_transfer"),"aria-pressed":X==="bank_transfer",className:`squircle-sm checkout-payment-method-button justify-center gap-2 font-semibold ${X==="bank_transfer"?"checkout-payment-method-button--active":"checkout-payment-method-button--inactive"}`,children:"Direct Bank Transfer"})]}),ie==="success"&&oe&&l.jsxs("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-900",children:[l.jsxs("p",{className:"font-semibold",children:["Your order number: ",oe]}),l.jsxs("p",{className:"mt-1",children:["Use this as your payment memo/notes:"," ",l.jsxs("span",{className:"font-mono",children:["Order #",oe]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[l.jsx("input",{type:"checkbox",id:"physician-terms",className:"brand-checkbox",checked:B,onChange:me=>G(me.target.checked)}),l.jsxs("label",{htmlFor:"physician-terms",className:"text-sm text-slate-700 leading-snug flex-1",children:["I certify that I am ",f||"the licensed physician for this account",", and I agree to PepPro's"," ",l.jsx("button",{type:"button",className:"legal-inline-link",onClick:me=>{me.preventDefault(),me.stopPropagation(),mr("terms")},children:"Terms of Service"}),", ",l.jsx("button",{type:"button",className:"legal-inline-link",onClick:me=>{me.preventDefault(),me.stopPropagation(),mr("shipping")},children:"Shipping Policy"}),", and ",l.jsx("button",{type:"button",className:"legal-inline-link",onClick:me=>{me.preventDefault(),me.stopPropagation(),mr("privacy")},children:"Privacy Policy"}),"."]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ZN,{}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsxs("span",{className:Mt?"text-green-700 font-semibold tabular-nums":"tabular-nums",children:["$",en.toFixed(2)]})]}),tn>0&&l.jsxs("div",{className:"flex justify-between text-sm font-semibold text-[rgb(95,179,249)]",children:[l.jsx("span",{children:"Referral Credit"}),l.jsxs("span",{children:["- $",tn.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm text-slate-700",children:[l.jsx("span",{children:"Shipping:"}),l.jsxs("span",{children:["$",Wa.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm text-slate-700",children:[l.jsx("span",{children:"Estimated tax:"}),l.jsx("span",{children:Ke?"Calculating":`$${dn.toFixed(2)}`})]}),Ee&&l.jsxs("div",{className:"flex items-start justify-between text-xs text-red-600",children:[l.jsx("span",{className:"pr-2",children:Ee}),l.jsx("button",{type:"button",onClick:nu,className:"underline decoration-dotted hover:text-red-700",children:"Retry"})]}),l.jsx(ZN,{}),l.jsxs("div",{className:"flex justify-between font-bold items-baseline gap-2",children:[l.jsxs("span",{className:"flex items-baseline gap-2",children:[l.jsx("span",{children:"Total:"}),Mt?l.jsx("span",{className:"text-xs font-semibold text-green-700",children:"(Retail)"}):null,Kt&&l.jsx("span",{className:"text-xs font-semibold text-amber-700",children:"Test override: $0.01"})]}),l.jsxs("span",{className:`${Mt?"text-green-700":""} tabular-nums`,children:["$",wa.toFixed(2)]})]}),Kt&&Or!=null&&l.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[l.jsx("span",{children:"Original total:"}),l.jsxs("span",{className:"tabular-nums line-through",children:["$",Or.toFixed(2)]})]})]}),l.jsx("div",{className:"pt-4",children:l.jsxs(Ue,{variant:"ghost",onClick:Ko,disabled:!Yt||M||ie==="success",className:"w-full glass-brand squircle-sm transition-all duration-300 hover:scale-105 hover:-translate-y-0.5 active:translate-y-0",children:[xr?l.jsx(sm,{className:"w-4 h-4 mr-2"}):l.jsx(D6,{className:"w-4 h-4 mr-2"}),Rr]})})]})})})]})})}function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lm.apply(null,arguments)}function Oq(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Tq(...e){return t=>e.forEach(r=>Oq(r,t))}const RD=y.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.Children.toArray(r),s=a.find(Iq);if(s){const c=s.props.children,d=a.map(f=>f===s?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return y.createElement(ej,lm({},n,{ref:t}),y.isValidElement(c)?y.cloneElement(c,void 0,d):null)}return y.createElement(ej,lm({},n,{ref:t}),r)});RD.displayName="Slot";const ej=y.forwardRef((e,t)=>{const{children:r,...n}=e;return y.isValidElement(r)?y.cloneElement(r,{...Mq(n,r.props),ref:t?Tq(t,r.ref):r.ref}):y.Children.count(r)>1?y.Children.only(null):null});ej.displayName="SlotClone";const Rq=({children:e})=>y.createElement(y.Fragment,null,e);function Iq(e){return y.isValidElement(e)&&e.type===Rq}function Mq(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...d)=>{s(...d),a(...d)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}const Dq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Lq=Dq.reduce((e,t)=>{const r=y.forwardRef((n,a)=>{const{asChild:s,...c}=n,d=s?RD:t;return y.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),y.createElement(d,lm({},c,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),A2=y.forwardRef((e,t)=>y.createElement(Lq.span,lm({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),tj=y.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{ref:r,"data-slot":"textarea",className:zn("textarea bg-input-background border-input flex min-h-[80px] w-full rounded-md border px-3 py-2 text-base transition-[color,box-shadow] outline-none resize-none placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t}));tj.displayName="Textarea";const $q=["top","right","bottom","left"],Xu=Math.min,hs=Math.max,Fv=Math.round,lv=Math.floor,Ll=e=>({x:e,y:e}),Fq={left:"right",right:"left",bottom:"top",top:"bottom"},Bq={start:"end",end:"start"};function rj(e,t,r){return hs(e,Xu(t,r))}function Yc(e,t){return typeof e=="function"?e(t):e}function Xc(e){return e.split("-")[0]}function Mm(e){return e.split("-")[1]}function Y_(e){return e==="x"?"y":"x"}function X_(e){return e==="y"?"height":"width"}const qq=new Set(["top","bottom"]);function Tl(e){return qq.has(Xc(e))?"y":"x"}function Q_(e){return Y_(Tl(e))}function Uq(e,t,r){r===void 0&&(r=!1);const n=Mm(e),a=Q_(e),s=X_(a);let c=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(c=Bv(c)),[c,Bv(c)]}function zq(e){const t=Bv(e);return[nj(e),t,nj(t)]}function nj(e){return e.replace(/start|end/g,t=>Bq[t])}const E2=["left","right"],k2=["right","left"],Wq=["top","bottom"],Hq=["bottom","top"];function Vq(e,t,r){switch(e){case"top":case"bottom":return r?t?k2:E2:t?E2:k2;case"left":case"right":return t?Wq:Hq;default:return[]}}function Gq(e,t,r,n){const a=Mm(e);let s=Vq(Xc(e),r==="start",n);return a&&(s=s.map(c=>c+"-"+a),t&&(s=s.concat(s.map(nj)))),s}function Bv(e){return e.replace(/left|right|bottom|top/g,t=>Fq[t])}function Kq(e){return{top:0,right:0,bottom:0,left:0,...e}}function ID(e){return typeof e!="number"?Kq(e):{top:e,right:e,bottom:e,left:e}}function qv(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function O2(e,t,r){let{reference:n,floating:a}=e;const s=Tl(t),c=Q_(t),d=X_(c),f=Xc(t),p=s==="y",g=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,x=n[d]/2-a[d]/2;let S;switch(f){case"top":S={x:g,y:n.y-a.height};break;case"bottom":S={x:g,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:h};break;case"left":S={x:n.x-a.width,y:h};break;default:S={x:n.x,y:n.y}}switch(Mm(t)){case"start":S[c]-=x*(r&&p?-1:1);break;case"end":S[c]+=x*(r&&p?-1:1);break}return S}const Yq=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:c}=r,d=s.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:g,y:h}=O2(p,n,f),x=n,S={},P=0;for(let j=0;j<d.length;j++){const{name:N,fn:k}=d[j],{x:T,y:R,data:M,reset:O}=await k({x:g,y:h,initialPlacement:n,placement:x,strategy:a,middlewareData:S,rects:p,platform:c,elements:{reference:e,floating:t}});g=T??g,h=R??h,S={...S,[N]:{...S[N],...M}},O&&P<=50&&(P++,typeof O=="object"&&(O.placement&&(x=O.placement),O.rects&&(p=O.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):O.rects),{x:g,y:h}=O2(p,x,f)),j=-1)}return{x:g,y:h,placement:x,strategy:a,middlewareData:S}};async function wg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:c,elements:d,strategy:f}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:h="floating",altBoundary:x=!1,padding:S=0}=Yc(t,e),P=ID(S),N=d[x?h==="floating"?"reference":"floating":h],k=qv(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(N)))==null||r?N:N.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:f})),T=h==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d.floating)),M=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},O=qv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:T,offsetParent:R,strategy:f}):T);return{top:(k.top-O.top+P.top)/M.y,bottom:(O.bottom-k.bottom+P.bottom)/M.y,left:(k.left-O.left+P.left)/M.x,right:(O.right-k.right+P.right)/M.x}}const Xq=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:c,elements:d,middlewareData:f}=t,{element:p,padding:g=0}=Yc(e,t)||{};if(p==null)return{};const h=ID(g),x={x:r,y:n},S=Q_(a),P=X_(S),j=await c.getDimensions(p),N=S==="y",k=N?"top":"left",T=N?"bottom":"right",R=N?"clientHeight":"clientWidth",M=s.reference[P]+s.reference[S]-x[S]-s.floating[P],O=x[S]-s.reference[S],I=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let D=I?I[R]:0;(!D||!await(c.isElement==null?void 0:c.isElement(I)))&&(D=d.floating[R]||s.floating[P]);const B=M/2-O/2,G=D/2-j[P]/2-1,X=Xu(h[k],G),Y=Xu(h[T],G),oe=X,se=D-j[P]-Y,ie=D/2-j[P]/2+B,K=rj(oe,ie,se),ne=!f.arrow&&Mm(a)!=null&&ie!==K&&s.reference[P]/2-(ie<oe?X:Y)-j[P]/2<0,ee=ne?ie<oe?ie-oe:ie-se:0;return{[S]:x[S]+ee,data:{[S]:K,centerOffset:ie-K-ee,...ne&&{alignmentOffset:ee}},reset:ne}}}),Qq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:c,initialPlacement:d,platform:f,elements:p}=t,{mainAxis:g=!0,crossAxis:h=!0,fallbackPlacements:x,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:j=!0,...N}=Yc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const k=Xc(a),T=Tl(d),R=Xc(d)===d,M=await(f.isRTL==null?void 0:f.isRTL(p.floating)),O=x||(R||!j?[Bv(d)]:zq(d)),I=P!=="none";!x&&I&&O.push(...Gq(d,j,P,M));const D=[d,...O],B=await wg(t,N),G=[];let X=((n=s.flip)==null?void 0:n.overflows)||[];if(g&&G.push(B[k]),h){const ie=Uq(a,c,M);G.push(B[ie[0]],B[ie[1]])}if(X=[...X,{placement:a,overflows:G}],!G.every(ie=>ie<=0)){var Y,oe;const ie=(((Y=s.flip)==null?void 0:Y.index)||0)+1,K=D[ie];if(K&&(!(h==="alignment"?T!==Tl(K):!1)||X.every(z=>Tl(z.placement)===T?z.overflows[0]>0:!0)))return{data:{index:ie,overflows:X},reset:{placement:K}};let ne=(oe=X.filter(ee=>ee.overflows[0]<=0).sort((ee,z)=>ee.overflows[1]-z.overflows[1])[0])==null?void 0:oe.placement;if(!ne)switch(S){case"bestFit":{var se;const ee=(se=X.filter(z=>{if(I){const fe=Tl(z.placement);return fe===T||fe==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(fe=>fe>0).reduce((fe,pe)=>fe+pe,0)]).sort((z,fe)=>z[1]-fe[1])[0])==null?void 0:se[0];ee&&(ne=ee);break}case"initialPlacement":ne=d;break}if(a!==ne)return{reset:{placement:ne}}}return{}}}};function T2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function R2(e){return $q.some(t=>e[t]>=0)}const Jq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Yc(e,t);switch(n){case"referenceHidden":{const s=await wg(t,{...a,elementContext:"reference"}),c=T2(s,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:R2(c)}}}case"escaped":{const s=await wg(t,{...a,altBoundary:!0}),c=T2(s,r.floating);return{data:{escapedOffsets:c,escaped:R2(c)}}}default:return{}}}}},MD=new Set(["left","top"]);async function Zq(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=Xc(r),d=Mm(r),f=Tl(r)==="y",p=MD.has(c)?-1:1,g=s&&f?-1:1,h=Yc(t,e);let{mainAxis:x,crossAxis:S,alignmentAxis:P}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return d&&typeof P=="number"&&(S=d==="end"?P*-1:P),f?{x:S*g,y:x*p}:{x:x*p,y:S*g}}const e8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:c,middlewareData:d}=t,f=await Zq(t,e);return c===((r=d.offset)==null?void 0:r.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:a+f.x,y:s+f.y,data:{...f,placement:c}}}}},t8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:k,y:T}=N;return{x:k,y:T}}},...f}=Yc(e,t),p={x:r,y:n},g=await wg(t,f),h=Tl(Xc(a)),x=Y_(h);let S=p[x],P=p[h];if(s){const N=x==="y"?"top":"left",k=x==="y"?"bottom":"right",T=S+g[N],R=S-g[k];S=rj(T,S,R)}if(c){const N=h==="y"?"top":"left",k=h==="y"?"bottom":"right",T=P+g[N],R=P-g[k];P=rj(T,P,R)}const j=d.fn({...t,[x]:S,[h]:P});return{...j,data:{x:j.x-r,y:j.y-n,enabled:{[x]:s,[h]:c}}}}}},r8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=Yc(e,t),g={x:r,y:n},h=Tl(a),x=Y_(h);let S=g[x],P=g[h];const j=Yc(d,t),N=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(f){const R=x==="y"?"height":"width",M=s.reference[x]-s.floating[R]+N.mainAxis,O=s.reference[x]+s.reference[R]-N.mainAxis;S<M?S=M:S>O&&(S=O)}if(p){var k,T;const R=x==="y"?"width":"height",M=MD.has(Xc(a)),O=s.reference[h]-s.floating[R]+(M&&((k=c.offset)==null?void 0:k[h])||0)+(M?0:N.crossAxis),I=s.reference[h]+s.reference[R]+(M?0:((T=c.offset)==null?void 0:T[h])||0)-(M?N.crossAxis:0);P<O?P=O:P>I&&(P=I)}return{[x]:S,[h]:P}}}},n8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:c,elements:d}=t,{apply:f=()=>{},...p}=Yc(e,t),g=await wg(t,p),h=Xc(a),x=Mm(a),S=Tl(a)==="y",{width:P,height:j}=s.floating;let N,k;h==="top"||h==="bottom"?(N=h,k=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(k=h,N=x==="end"?"top":"bottom");const T=j-g.top-g.bottom,R=P-g.left-g.right,M=Xu(j-g[N],T),O=Xu(P-g[k],R),I=!t.middlewareData.shift;let D=M,B=O;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(B=R),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(D=T),I&&!x){const X=hs(g.left,0),Y=hs(g.right,0),oe=hs(g.top,0),se=hs(g.bottom,0);S?B=P-2*(X!==0||Y!==0?X+Y:hs(g.left,g.right)):D=j-2*(oe!==0||se!==0?oe+se:hs(g.top,g.bottom))}await f({...t,availableWidth:B,availableHeight:D});const G=await c.getDimensions(d.floating);return P!==G.width||j!==G.height?{reset:{rects:!0}}:{}}}};function Q0(){return typeof window<"u"}function Dm(e){return DD(e)?(e.nodeName||"").toLowerCase():"#document"}function ys(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wl(e){var t;return(t=(DD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function DD(e){return Q0()?e instanceof Node||e instanceof ys(e).Node:!1}function Uo(e){return Q0()?e instanceof Element||e instanceof ys(e).Element:!1}function Bl(e){return Q0()?e instanceof HTMLElement||e instanceof ys(e).HTMLElement:!1}function I2(e){return!Q0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ys(e).ShadowRoot}const a8=new Set(["inline","contents"]);function ly(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=zo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!a8.has(a)}const i8=new Set(["table","td","th"]);function s8(e){return i8.has(Dm(e))}const o8=[":popover-open",":modal"];function J0(e){return o8.some(t=>{try{return e.matches(t)}catch{return!1}})}const l8=["transform","translate","scale","rotate","perspective"],c8=["transform","translate","scale","rotate","perspective","filter"],u8=["paint","layout","strict","content"];function J_(e){const t=Z_(),r=Uo(e)?zo(e):e;return l8.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||c8.some(n=>(r.willChange||"").includes(n))||u8.some(n=>(r.contain||"").includes(n))}function d8(e){let t=Qu(e);for(;Bl(t)&&!cm(t);){if(J_(t))return t;if(J0(t))return null;t=Qu(t)}return null}function Z_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const f8=new Set(["html","body","#document"]);function cm(e){return f8.has(Dm(e))}function zo(e){return ys(e).getComputedStyle(e)}function Z0(e){return Uo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qu(e){if(Dm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||I2(e)&&e.host||Wl(e);return I2(t)?t.host:t}function LD(e){const t=Qu(e);return cm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bl(t)&&ly(t)?t:LD(t)}function Sg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=LD(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),c=ys(a);if(s){const d=aj(c);return t.concat(c,c.visualViewport||[],ly(a)?a:[],d&&r?Sg(d):[])}return t.concat(a,Sg(a,[],r))}function aj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $D(e){const t=zo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Bl(e),s=a?e.offsetWidth:r,c=a?e.offsetHeight:n,d=Fv(r)!==s||Fv(n)!==c;return d&&(r=s,n=c),{width:r,height:n,$:d}}function eC(e){return Uo(e)?e:e.contextElement}function em(e){const t=eC(e);if(!Bl(t))return Ll(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=$D(t);let c=(s?Fv(r.width):r.width)/n,d=(s?Fv(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const p8=Ll(0);function FD(e){const t=ys(e);return!Z_()||!t.visualViewport?p8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function m8(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ys(e)?!1:t}function gf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=eC(e);let c=Ll(1);t&&(n?Uo(n)&&(c=em(n)):c=em(e));const d=m8(s,r,n)?FD(s):Ll(0);let f=(a.left+d.x)/c.x,p=(a.top+d.y)/c.y,g=a.width/c.x,h=a.height/c.y;if(s){const x=ys(s),S=n&&Uo(n)?ys(n):n;let P=x,j=aj(P);for(;j&&n&&S!==P;){const N=em(j),k=j.getBoundingClientRect(),T=zo(j),R=k.left+(j.clientLeft+parseFloat(T.paddingLeft))*N.x,M=k.top+(j.clientTop+parseFloat(T.paddingTop))*N.y;f*=N.x,p*=N.y,g*=N.x,h*=N.y,f+=R,p+=M,P=ys(j),j=aj(P)}}return qv({width:g,height:h,x:f,y:p})}function eb(e,t){const r=Z0(e).scrollLeft;return t?t.left+r:gf(Wl(e)).left+r}function BD(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-eb(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function h8(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",c=Wl(n),d=t?J0(t.floating):!1;if(n===c||d&&s)return r;let f={scrollLeft:0,scrollTop:0},p=Ll(1);const g=Ll(0),h=Bl(n);if((h||!h&&!s)&&((Dm(n)!=="body"||ly(c))&&(f=Z0(n)),Bl(n))){const S=gf(n);p=em(n),g.x=S.x+n.clientLeft,g.y=S.y+n.clientTop}const x=c&&!h&&!s?BD(c,f):Ll(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-f.scrollLeft*p.x+g.x+x.x,y:r.y*p.y-f.scrollTop*p.y+g.y+x.y}}function g8(e){return Array.from(e.getClientRects())}function y8(e){const t=Wl(e),r=Z0(e),n=e.ownerDocument.body,a=hs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=hs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+eb(e);const d=-r.scrollTop;return zo(n).direction==="rtl"&&(c+=hs(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:c,y:d}}const M2=25;function v8(e,t){const r=ys(e),n=Wl(e),a=r.visualViewport;let s=n.clientWidth,c=n.clientHeight,d=0,f=0;if(a){s=a.width,c=a.height;const g=Z_();(!g||g&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}const p=eb(n);if(p<=0){const g=n.ownerDocument,h=g.body,x=getComputedStyle(h),S=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,P=Math.abs(n.clientWidth-h.clientWidth-S);P<=M2&&(s-=P)}else p<=M2&&(s+=p);return{width:s,height:c,x:d,y:f}}const b8=new Set(["absolute","fixed"]);function x8(e,t){const r=gf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Bl(e)?em(e):Ll(1),c=e.clientWidth*s.x,d=e.clientHeight*s.y,f=a*s.x,p=n*s.y;return{width:c,height:d,x:f,y:p}}function D2(e,t,r){let n;if(t==="viewport")n=v8(e,r);else if(t==="document")n=y8(Wl(e));else if(Uo(t))n=x8(t,r);else{const a=FD(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return qv(n)}function qD(e,t){const r=Qu(e);return r===t||!Uo(r)||cm(r)?!1:zo(r).position==="fixed"||qD(r,t)}function w8(e,t){const r=t.get(e);if(r)return r;let n=Sg(e,[],!1).filter(d=>Uo(d)&&Dm(d)!=="body"),a=null;const s=zo(e).position==="fixed";let c=s?Qu(e):e;for(;Uo(c)&&!cm(c);){const d=zo(c),f=J_(c);!f&&d.position==="fixed"&&(a=null),(s?!f&&!a:!f&&d.position==="static"&&!!a&&b8.has(a.position)||ly(c)&&!f&&qD(e,c))?n=n.filter(g=>g!==c):a=d,c=Qu(c)}return t.set(e,n),n}function S8(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const c=[...r==="clippingAncestors"?J0(t)?[]:w8(t,this._c):[].concat(r),n],d=c[0],f=c.reduce((p,g)=>{const h=D2(t,g,a);return p.top=hs(h.top,p.top),p.right=Xu(h.right,p.right),p.bottom=Xu(h.bottom,p.bottom),p.left=hs(h.left,p.left),p},D2(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function N8(e){const{width:t,height:r}=$D(e);return{width:t,height:r}}function j8(e,t,r){const n=Bl(t),a=Wl(t),s=r==="fixed",c=gf(e,!0,s,t);let d={scrollLeft:0,scrollTop:0};const f=Ll(0);function p(){f.x=eb(a)}if(n||!n&&!s)if((Dm(t)!=="body"||ly(a))&&(d=Z0(t)),n){const S=gf(t,!0,s,t);f.x=S.x+t.clientLeft,f.y=S.y+t.clientTop}else a&&p();s&&!n&&a&&p();const g=a&&!n&&!s?BD(a,d):Ll(0),h=c.left+d.scrollLeft-f.x-g.x,x=c.top+d.scrollTop-f.y-g.y;return{x:h,y:x,width:c.width,height:c.height}}function yx(e){return zo(e).position==="static"}function L2(e,t){if(!Bl(e)||zo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Wl(e)===r&&(r=r.ownerDocument.body),r}function UD(e,t){const r=ys(e);if(J0(e))return r;if(!Bl(e)){let a=Qu(e);for(;a&&!cm(a);){if(Uo(a)&&!yx(a))return a;a=Qu(a)}return r}let n=L2(e,t);for(;n&&s8(n)&&yx(n);)n=L2(n,t);return n&&cm(n)&&yx(n)&&!J_(n)?r:n||d8(e)||r}const _8=async function(e){const t=this.getOffsetParent||UD,r=this.getDimensions,n=await r(e.floating);return{reference:j8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function C8(e){return zo(e).direction==="rtl"}const P8={convertOffsetParentRelativeRectToViewportRelativeRect:h8,getDocumentElement:Wl,getClippingRect:S8,getOffsetParent:UD,getElementRects:_8,getClientRects:g8,getDimensions:N8,getScale:em,isElement:Uo,isRTL:C8};function zD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function A8(e,t){let r=null,n;const a=Wl(e);function s(){var d;clearTimeout(n),(d=r)==null||d.disconnect(),r=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),s();const p=e.getBoundingClientRect(),{left:g,top:h,width:x,height:S}=p;if(d||t(),!x||!S)return;const P=lv(h),j=lv(a.clientWidth-(g+x)),N=lv(a.clientHeight-(h+S)),k=lv(g),R={rootMargin:-P+"px "+-j+"px "+-N+"px "+-k+"px",threshold:hs(0,Xu(1,f))||1};let M=!0;function O(I){const D=I[0].intersectionRatio;if(D!==f){if(!M)return c();D?c(!1,D):n=setTimeout(()=>{c(!1,1e-7)},1e3)}D===1&&!zD(p,e.getBoundingClientRect())&&c(),M=!1}try{r=new IntersectionObserver(O,{...R,root:a.ownerDocument})}catch{r=new IntersectionObserver(O,R)}r.observe(e)}return c(!0),s}function E8(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,p=eC(e),g=a||s?[...p?Sg(p):[],...Sg(t)]:[];g.forEach(k=>{a&&k.addEventListener("scroll",r,{passive:!0}),s&&k.addEventListener("resize",r)});const h=p&&d?A8(p,r):null;let x=-1,S=null;c&&(S=new ResizeObserver(k=>{let[T]=k;T&&T.target===p&&S&&(S.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var R;(R=S)==null||R.observe(t)})),r()}),p&&!f&&S.observe(p),S.observe(t));let P,j=f?gf(e):null;f&&N();function N(){const k=gf(e);j&&!zD(j,k)&&r(),j=k,P=requestAnimationFrame(N)}return r(),()=>{var k;g.forEach(T=>{a&&T.removeEventListener("scroll",r),s&&T.removeEventListener("resize",r)}),h?.(),(k=S)==null||k.disconnect(),S=null,f&&cancelAnimationFrame(P)}}const k8=e8,O8=t8,T8=Qq,R8=n8,I8=Jq,$2=Xq,M8=r8,D8=(e,t,r)=>{const n=new Map,a={platform:P8,...r},s={...a.platform,_c:n};return Yq(e,t,{...a,platform:s})};var L8=typeof document<"u",$8=function(){},Tv=L8?y.useLayoutEffect:$8;function Uv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Uv(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!Uv(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function WD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function F2(e,t){const r=WD(e);return Math.round(t*r)/r}function vx(e){const t=y.useRef(e);return Tv(()=>{t.current=e}),t}function F8(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:c}={},transform:d=!0,whileElementsMounted:f,open:p}=e,[g,h]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,S]=y.useState(n);Uv(x,n)||S(n);const[P,j]=y.useState(null),[N,k]=y.useState(null),T=y.useCallback(z=>{z!==I.current&&(I.current=z,j(z))},[]),R=y.useCallback(z=>{z!==D.current&&(D.current=z,k(z))},[]),M=s||P,O=c||N,I=y.useRef(null),D=y.useRef(null),B=y.useRef(g),G=f!=null,X=vx(f),Y=vx(a),oe=vx(p),se=y.useCallback(()=>{if(!I.current||!D.current)return;const z={placement:t,strategy:r,middleware:x};Y.current&&(z.platform=Y.current),D8(I.current,D.current,z).then(fe=>{const pe={...fe,isPositioned:oe.current!==!1};ie.current&&!Uv(B.current,pe)&&(B.current=pe,vg.flushSync(()=>{h(pe)}))})},[x,t,r,Y,oe]);Tv(()=>{p===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[p]);const ie=y.useRef(!1);Tv(()=>(ie.current=!0,()=>{ie.current=!1}),[]),Tv(()=>{if(M&&(I.current=M),O&&(D.current=O),M&&O){if(X.current)return X.current(M,O,se);se()}},[M,O,se,X,G]);const K=y.useMemo(()=>({reference:I,floating:D,setReference:T,setFloating:R}),[T,R]),ne=y.useMemo(()=>({reference:M,floating:O}),[M,O]),ee=y.useMemo(()=>{const z={position:r,left:0,top:0};if(!ne.floating)return z;const fe=F2(ne.floating,g.x),pe=F2(ne.floating,g.y);return d?{...z,transform:"translate("+fe+"px, "+pe+"px)",...WD(ne.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:fe,top:pe}},[r,d,ne.floating,g.x,g.y]);return y.useMemo(()=>({...g,update:se,refs:K,elements:ne,floatingStyles:ee}),[g,se,K,ne,ee])}const B8=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?$2({element:n.current,padding:a}).fn(r):{}:n?$2({element:n,padding:a}).fn(r):{}}}},q8=(e,t)=>({...k8(e),options:[e,t]}),U8=(e,t)=>({...O8(e),options:[e,t]}),z8=(e,t)=>({...M8(e),options:[e,t]}),W8=(e,t)=>({...T8(e),options:[e,t]}),H8=(e,t)=>({...R8(e),options:[e,t]}),V8=(e,t)=>({...I8(e),options:[e,t]}),G8=(e,t)=>({...B8(e),options:[e,t]});var K8="Arrow",HD=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return l.jsx(Wn.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});HD.displayName=K8;var Y8=HD,tC="Popper",[VD,GD]=z0(tC),[X8,KD]=VD(tC),YD=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return l.jsx(X8,{scope:t,anchor:n,onAnchorChange:a,children:r})};YD.displayName=tC;var XD="PopperAnchor",QD=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=KD(XD,r),c=y.useRef(null),d=bs(t,c),f=y.useRef(null);return y.useEffect(()=>{const p=f.current;f.current=n?.current||c.current,p!==f.current&&s.onAnchorChange(f.current)}),n?null:l.jsx(Wn.div,{...a,ref:d})});QD.displayName=XD;var rC="PopperContent",[Q8,J8]=VD(rC),JD=y.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:h="partial",hideWhenDetached:x=!1,updatePositionStrategy:S="optimized",onPlaced:P,...j}=e,N=KD(rC,r),[k,T]=y.useState(null),R=bs(t,Fe=>T(Fe)),[M,O]=y.useState(null),I=wD(M),D=I?.width??0,B=I?.height??0,G=n+(s!=="center"?"-"+s:""),X=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},Y=Array.isArray(p)?p:[p],oe=Y.length>0,se={padding:X,boundary:Y.filter(eU),altBoundary:oe},{refs:ie,floatingStyles:K,placement:ne,isPositioned:ee,middlewareData:z}=F8({strategy:"fixed",placement:G,whileElementsMounted:(...Fe)=>E8(...Fe,{animationFrame:S==="always"}),elements:{reference:N.anchor},middleware:[q8({mainAxis:a+B,alignmentAxis:c}),f&&U8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?z8():void 0,...se}),f&&W8({...se}),H8({...se,apply:({elements:Fe,rects:ke,availableWidth:Se,availableHeight:De})=>{const{width:ze,height:xe}=ke.reference,Ve=Fe.floating.style;Ve.setProperty("--radix-popper-available-width",`${Se}px`),Ve.setProperty("--radix-popper-available-height",`${De}px`),Ve.setProperty("--radix-popper-anchor-width",`${ze}px`),Ve.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),M&&G8({element:M,padding:d}),tU({arrowWidth:D,arrowHeight:B}),x&&V8({strategy:"referenceHidden",...se})]}),[fe,pe]=t4(ne),q=im(P);Yu(()=>{ee&&q?.()},[ee,q]);const J=z.arrow?.x,de=z.arrow?.y,be=z.arrow?.centerOffset!==0,[Ae,Ie]=y.useState();return Yu(()=>{k&&Ie(window.getComputedStyle(k).zIndex)},[k]),l.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:ee?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[z.transformOrigin?.x,z.transformOrigin?.y].join(" "),...z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(Q8,{scope:r,placedSide:fe,onArrowChange:O,arrowX:J,arrowY:de,shouldHideArrow:be,children:l.jsx(Wn.div,{"data-side":fe,"data-align":pe,...j,ref:R,style:{...j.style,animation:ee?void 0:"none"}})})})});JD.displayName=rC;var ZD="PopperArrow",Z8={top:"bottom",right:"left",bottom:"top",left:"right"},e4=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=J8(ZD,n),c=Z8[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(Y8,{...a,ref:r,style:{...a.style,display:"block"}})})});e4.displayName=ZD;function eU(e){return e!==null}var tU=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,c=a.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[p,g]=t4(r),h={start:"0%",center:"50%",end:"100%"}[g],x=(a.arrow?.x??0)+d/2,S=(a.arrow?.y??0)+f/2;let P="",j="";return p==="bottom"?(P=c?h:`${x}px`,j=`${-f}px`):p==="top"?(P=c?h:`${x}px`,j=`${n.floating.height+f}px`):p==="right"?(P=`${-f}px`,j=c?h:`${S}px`):p==="left"&&(P=`${n.floating.width+f}px`,j=c?h:`${S}px`),{data:{x:P,y:j}}}});function t4(e){const[t,r="center"]=e.split("-");return[t,r]}var rU=YD,r4=QD,nU=JD,aU=e4,tb="Popover",[n4]=z0(tb,[GD]),cy=GD(),[iU,Zu]=n4(tb),a4=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:c=!1}=e,d=cy(t),f=y.useRef(null),[p,g]=y.useState(!1),[h,x]=k_({prop:n,defaultProp:a??!1,onChange:s,caller:tb});return l.jsx(rU,{...d,children:l.jsx(iU,{scope:t,contentId:Pv(),triggerRef:f,open:h,onOpenChange:x,onOpenToggle:y.useCallback(()=>x(S=>!S),[x]),hasCustomAnchor:p,onCustomAnchorAdd:y.useCallback(()=>g(!0),[]),onCustomAnchorRemove:y.useCallback(()=>g(!1),[]),modal:c,children:r})})};a4.displayName=tb;var i4="PopoverAnchor",sU=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Zu(i4,r),s=cy(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=a;return y.useEffect(()=>(c(),()=>d()),[c,d]),l.jsx(r4,{...s,...n,ref:t})});sU.displayName=i4;var s4="PopoverTrigger",o4=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Zu(s4,r),s=cy(r),c=bs(t,a.triggerRef),d=l.jsx(Wn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":p4(a.open),...n,ref:c,onClick:di(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?d:l.jsx(r4,{asChild:!0,...s,children:d})});o4.displayName=s4;var nC="PopoverPortal",[oU,lU]=n4(nC,{forceMount:void 0}),l4=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Zu(nC,t);return l.jsx(oU,{scope:t,forceMount:r,children:l.jsx(Nf,{present:r||s.open,children:l.jsx(R_,{asChild:!0,container:a,children:n})})})};l4.displayName=nC;var um="PopoverContent",c4=y.forwardRef((e,t)=>{const r=lU(um,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Zu(um,e.__scopePopover);return l.jsx(Nf,{present:n||s.open,children:s.modal?l.jsx(uU,{...a,ref:t}):l.jsx(dU,{...a,ref:t})})});c4.displayName=um;var cU=U0("PopoverContent.RemoveScroll"),uU=y.forwardRef((e,t)=>{const r=Zu(um,e.__scopePopover),n=y.useRef(null),a=bs(t,n),s=y.useRef(!1);return y.useEffect(()=>{const c=n.current;if(c)return AM(c)},[]),l.jsx(I_,{as:cU,allowPinchZoom:!0,children:l.jsx(u4,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:di(e.onCloseAutoFocus,c=>{c.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:di(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;s.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:di(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),dU=y.forwardRef((e,t)=>{const r=Zu(um,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return l.jsx(u4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=s.target;r.triggerRef.current?.contains(c)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),u4=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,...h}=e,x=Zu(um,r),S=cy(r);return bM(),l.jsx(T_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:l.jsx(O_,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onDismiss:()=>x.onOpenChange(!1),children:l.jsx(nU,{"data-state":p4(x.open),role:"dialog",id:x.contentId,...S,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),d4="PopoverClose",fU=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Zu(d4,r);return l.jsx(Wn.button,{type:"button",...n,ref:t,onClick:di(e.onClick,()=>a.onOpenChange(!1))})});fU.displayName=d4;var pU="PopoverArrow",f4=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=cy(r);return l.jsx(aU,{...a,...n,ref:t})});f4.displayName=pU;function p4(e){return e?"open":"closed"}var bx=a4,xx=o4,wx=l4,Sx=c4,Nx=f4;function Bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function vs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ci(e,t){const r=Bt(e);return isNaN(t)?vs(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Wo(e,t){const r=Bt(e);if(isNaN(t))return vs(e,NaN);if(!t)return r;const n=r.getDate(),a=vs(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const aC=6048e5,mU=864e5;let hU={};function uy(){return hU}function ql(e,t){const r=uy(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Bt(e),s=a.getDay(),c=(s<n?7:0)+s-n;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function yf(e){return ql(e,{weekStartsOn:1})}function m4(e){const t=Bt(e),r=t.getFullYear(),n=vs(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=yf(n),s=vs(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const c=yf(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function dm(e){const t=Bt(e);return t.setHours(0,0,0,0),t}function zv(e){const t=Bt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Rl(e,t){const r=dm(e),n=dm(t),a=+r-zv(r),s=+n-zv(n);return Math.round((a-s)/mU)}function gU(e){const t=m4(e),r=vs(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),yf(r)}function ij(e,t){const r=t*7;return ci(e,r)}function yU(e,t){return Wo(e,t*12)}function vU(e){let t;return e.forEach(function(r){const n=Bt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function bU(e){let t;return e.forEach(r=>{const n=Bt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Bi(e,t){const r=dm(e),n=dm(t);return+r==+n}function iC(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xU(e){if(!iC(e)&&typeof e!="number")return!1;const t=Bt(e);return!isNaN(Number(t))}function Ng(e,t){const r=Bt(e),n=Bt(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function wU(e,t,r){const n=ql(e,r),a=ql(t,r),s=+n-zv(n),c=+a-zv(a);return Math.round((s-c)/aC)}function sC(e){const t=Bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ui(e){const t=Bt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function h4(e){const t=Bt(e),r=vs(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function oC(e,t){const r=uy(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Bt(e),s=a.getDay(),c=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}function g4(e){return oC(e,{weekStartsOn:1})}const SU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NU=(e,t,r)=>{let n;const a=SU[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function jx(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const jU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_U={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PU={date:jx({formats:jU,defaultWidth:"full"}),time:jx({formats:_U,defaultWidth:"full"}),dateTime:jx({formats:CU,defaultWidth:"full"})},AU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},EU=(e,t,r,n)=>AU[e];function Gh(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=r?.width?String(r.width):c;a=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=r?.width?String(r.width):e.defaultWidth;a=e.values[d]||e.values[c]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const kU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},TU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},RU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},IU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},MU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DU=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},LU={ordinalNumber:DU,era:Gh({values:kU,defaultWidth:"wide"}),quarter:Gh({values:OU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gh({values:TU,defaultWidth:"wide"}),day:Gh({values:RU,defaultWidth:"wide"}),dayPeriod:Gh({values:IU,defaultWidth:"wide",formattingValues:MU,defaultFormattingWidth:"wide"})};function Kh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const c=s[0],d=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?FU(d,h=>h.test(c)):$U(d,h=>h.test(c));let p;p=e.valueCallback?e.valueCallback(f):f,p=r.valueCallback?r.valueCallback(p):p;const g=t.slice(c.length);return{value:p,rest:g}}}function $U(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function FU(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function BU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let c=e.valueCallback?e.valueCallback(s[0]):s[0];c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(a.length);return{value:c,rest:d}}}const qU=/^(\d+)(th|st|nd|rd)?/i,UU=/\d+/i,zU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WU={any:[/^b/i,/^(a|c)/i]},HU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VU={any:[/1/i,/2/i,/3/i,/4/i]},GU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},KU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},XU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},QU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZU={ordinalNumber:BU({matchPattern:qU,parsePattern:UU,valueCallback:e=>parseInt(e,10)}),era:Kh({matchPatterns:zU,defaultMatchWidth:"wide",parsePatterns:WU,defaultParseWidth:"any"}),quarter:Kh({matchPatterns:HU,defaultMatchWidth:"wide",parsePatterns:VU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Kh({matchPatterns:GU,defaultMatchWidth:"wide",parsePatterns:KU,defaultParseWidth:"any"}),day:Kh({matchPatterns:YU,defaultMatchWidth:"wide",parsePatterns:XU,defaultParseWidth:"any"}),dayPeriod:Kh({matchPatterns:QU,defaultMatchWidth:"any",parsePatterns:JU,defaultParseWidth:"any"})},y4={code:"en-US",formatDistance:NU,formatLong:PU,formatRelative:EU,localize:LU,match:ZU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ez(e){const t=Bt(e);return Rl(t,h4(t))+1}function v4(e){const t=Bt(e),r=+yf(t)-+gU(t);return Math.round(r/aC)+1}function b4(e,t){const r=Bt(e),n=r.getFullYear(),a=uy(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=vs(e,0);c.setFullYear(n+1,0,s),c.setHours(0,0,0,0);const d=ql(c,t),f=vs(e,0);f.setFullYear(n,0,s),f.setHours(0,0,0,0);const p=ql(f,t);return r.getTime()>=d.getTime()?n+1:r.getTime()>=p.getTime()?n:n-1}function tz(e,t){const r=uy(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=b4(e,t),s=vs(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),ql(s,t)}function x4(e,t){const r=Bt(e),n=+ql(r,t)-+tz(r,t);return Math.round(n/aC)+1}function or(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Du={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return or(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):or(r+1,2)},d(e,t){return or(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return or(e.getHours()%12||12,t.length)},H(e,t){return or(e.getHours(),t.length)},m(e,t){return or(e.getMinutes(),t.length)},s(e,t){return or(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return or(a,t.length)}},Up={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},B2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Du.y(e,t)},Y:function(e,t,r,n){const a=b4(e,n),s=a>0?a:1-a;if(t==="YY"){const c=s%100;return or(c,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):or(s,t.length)},R:function(e,t){const r=m4(e);return or(r,t.length)},u:function(e,t){const r=e.getFullYear();return or(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return or(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return or(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Du.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return or(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=x4(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):or(a,t.length)},I:function(e,t,r){const n=v4(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):or(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Du.d(e,t)},D:function(e,t,r){const n=ez(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):or(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return or(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return or(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return or(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Up.noon:n===0?a=Up.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Up.evening:n>=12?a=Up.afternoon:n>=4?a=Up.morning:a=Up.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Du.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Du.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):or(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):or(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Du.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Du.s(e,t)},S:function(e,t){return Du.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return U2(n);case"XXXX":case"XX":return tf(n);case"XXXXX":case"XXX":default:return tf(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return U2(n);case"xxxx":case"xx":return tf(n);case"xxxxx":case"xxx":default:return tf(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+q2(n,":");case"OOOO":default:return"GMT"+tf(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+q2(n,":");case"zzzz":default:return"GMT"+tf(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return or(n,t.length)},T:function(e,t,r){const n=e.getTime();return or(n,t.length)}};function q2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+or(s,2)}function U2(e,t){return e%60===0?(e>0?"-":"+")+or(Math.abs(e)/60,2):tf(e,t)}function tf(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=or(Math.trunc(n/60),2),s=or(n%60,2);return r+a+t+s}const z2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},w4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},rz=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return z2(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",z2(n,t)).replace("{{time}}",w4(a,t))},nz={p:w4,P:rz},az=/^D+$/,iz=/^Y+$/,sz=["D","DD","YY","YYYY"];function oz(e){return az.test(e)}function lz(e){return iz.test(e)}function cz(e,t,r){const n=uz(e,t,r);if(console.warn(n),sz.includes(e))throw new RangeError(n)}function uz(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pz=/^'([^]*?)'?$/,mz=/''/g,hz=/[a-zA-Z]/;function _f(e,t,r){const n=uy(),a=r?.locale??n.locale??y4,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=Bt(e);if(!xU(d))throw new RangeError("Invalid time value");let f=t.match(fz).map(g=>{const h=g[0];if(h==="p"||h==="P"){const x=nz[h];return x(g,a.formatLong)}return g}).join("").match(dz).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const h=g[0];if(h==="'")return{isToken:!1,value:gz(g)};if(B2[h])return{isToken:!0,value:g};if(h.match(hz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(f=a.localize.preprocessor(d,f));const p={firstWeekContainsDate:s,weekStartsOn:c,locale:a};return f.map(g=>{if(!g.isToken)return g.value;const h=g.value;(!r?.useAdditionalWeekYearTokens&&lz(h)||!r?.useAdditionalDayOfYearTokens&&oz(h))&&cz(h,t,String(e));const x=B2[h[0]];return x(d,h,a.localize,p)}).join("")}function gz(e){const t=e.match(pz);return t?t[1].replace(mz,"'"):e}function yz(e){const t=Bt(e),r=t.getFullYear(),n=t.getMonth(),a=vs(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function vz(e){return Math.trunc(+Bt(e)/1e3)}function bz(e){const t=Bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function xz(e,t){return wU(bz(e),Ui(e),t)+1}function sj(e,t){const r=Bt(e),n=Bt(t);return r.getTime()>n.getTime()}function S4(e,t){const r=Bt(e),n=Bt(t);return+r<+n}function lC(e,t){const r=Bt(e),n=Bt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function wz(e,t){const r=Bt(e),n=Bt(t);return r.getFullYear()===n.getFullYear()}function _x(e,t){return ci(e,-t)}function Cx(e,t){const r=Bt(e),n=r.getFullYear(),a=r.getDate(),s=vs(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const c=yz(s);return r.setMonth(t,Math.min(a,c)),r}function W2(e,t){const r=Bt(e);return isNaN(+r)?vs(e,NaN):(r.setFullYear(t),r)}var vt=function(){return vt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},vt.apply(this,arguments)};function Sz(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function N4(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function dy(e){return e.mode==="multiple"}function fy(e){return e.mode==="range"}function rb(e){return e.mode==="single"}var Nz={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function jz(e,t){return _f(e,"LLLL y",t)}function _z(e,t){return _f(e,"d",t)}function Cz(e,t){return _f(e,"LLLL",t)}function Pz(e){return"".concat(e)}function Az(e,t){return _f(e,"cccccc",t)}function Ez(e,t){return _f(e,"yyyy",t)}var kz=Object.freeze({__proto__:null,formatCaption:jz,formatDay:_z,formatMonthCaption:Cz,formatWeekNumber:Pz,formatWeekdayName:Az,formatYearCaption:Ez}),Oz=function(e,t,r){return _f(e,"do MMMM (EEEE)",r)},Tz=function(){return"Month: "},Rz=function(){return"Go to next month"},Iz=function(){return"Go to previous month"},Mz=function(e,t){return _f(e,"cccc",t)},Dz=function(e){return"Week n. ".concat(e)},Lz=function(){return"Year: "},$z=Object.freeze({__proto__:null,labelDay:Oz,labelMonthDropdown:Tz,labelNext:Rz,labelPrevious:Iz,labelWeekNumber:Dz,labelWeekday:Mz,labelYearDropdown:Lz});function Fz(){var e="buttons",t=Nz,r=y4,n={},a={},s=1,c={},d=new Date;return{captionLayout:e,classNames:t,formatters:kz,labels:$z,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:c,today:d,mode:"default"}}function Bz(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,c=e.toDate;return n?s=Ui(n):t&&(s=new Date(t,0,1)),a?c=sC(a):r&&(c=new Date(r,11,31)),{fromDate:s?dm(s):void 0,toDate:c?dm(c):void 0}}var j4=y.createContext(void 0);function qz(e){var t,r=e.initialProps,n=Fz(),a=Bz(r),s=a.fromDate,c=a.toDate,d=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;d!=="buttons"&&(!s||!c)&&(d="buttons");var f;(rb(r)||dy(r)||fy(r))&&(f=r.onSelect);var p=vt(vt(vt({},n),r),{captionLayout:d,classNames:vt(vt({},n.classNames),r.classNames),components:vt({},r.components),formatters:vt(vt({},n.formatters),r.formatters),fromDate:s,labels:vt(vt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:vt(vt({},n.modifiers),r.modifiers),modifiersClassNames:vt(vt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:f,styles:vt(vt({},n.styles),r.styles),toDate:c});return l.jsx(j4.Provider,{value:p,children:e.children})}function Er(){var e=y.useContext(j4);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function _4(e){var t=Er(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function Uz(e){return l.jsx("svg",vt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function C4(e){var t,r,n=e.onChange,a=e.value,s=e.children,c=e.caption,d=e.className,f=e.style,p=Er(),g=(r=(t=p.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Uz;return l.jsxs("div",{className:d,style:f,children:[l.jsx("span",{className:p.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:p.classNames.dropdown,style:p.styles.dropdown,value:a,onChange:n,children:s}),l.jsxs("div",{className:p.classNames.caption_label,style:p.styles.caption_label,"aria-hidden":"true",children:[c,l.jsx(g,{className:p.classNames.dropdown_icon,style:p.styles.dropdown_icon})]})]})}function zz(e){var t,r=Er(),n=r.fromDate,a=r.toDate,s=r.styles,c=r.locale,d=r.formatters.formatMonthCaption,f=r.classNames,p=r.components,g=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!a)return l.jsx(l.Fragment,{});var h=[];if(wz(n,a))for(var x=Ui(n),S=n.getMonth();S<=a.getMonth();S++)h.push(Cx(x,S));else for(var x=Ui(new Date),S=0;S<=11;S++)h.push(Cx(x,S));var P=function(N){var k=Number(N.target.value),T=Cx(Ui(e.displayMonth),k);e.onChange(T)},j=(t=p?.Dropdown)!==null&&t!==void 0?t:C4;return l.jsx(j,{name:"months","aria-label":g(),className:f.dropdown_month,style:s.dropdown_month,onChange:P,value:e.displayMonth.getMonth(),caption:d(e.displayMonth,{locale:c}),children:h.map(function(N){return l.jsx("option",{value:N.getMonth(),children:d(N,{locale:c})},N.getMonth())})})}function Wz(e){var t,r=e.displayMonth,n=Er(),a=n.fromDate,s=n.toDate,c=n.locale,d=n.styles,f=n.classNames,p=n.components,g=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,x=[];if(!a)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});for(var S=a.getFullYear(),P=s.getFullYear(),j=S;j<=P;j++)x.push(W2(h4(new Date),j));var N=function(T){var R=W2(Ui(r),Number(T.target.value));e.onChange(R)},k=(t=p?.Dropdown)!==null&&t!==void 0?t:C4;return l.jsx(k,{name:"years","aria-label":h(),className:f.dropdown_year,style:d.dropdown_year,onChange:N,value:r.getFullYear(),caption:g(r,{locale:c}),children:x.map(function(T){return l.jsx("option",{value:T.getFullYear(),children:g(T,{locale:c})},T.getFullYear())})})}function Hz(e,t){var r=y.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function Vz(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,c=e.fromDate,d=e.numberOfMonths,f=d===void 0?1:d;if(s&&Ng(s,a)<0){var p=-1*(f-1);a=Wo(s,p)}return c&&Ng(a,c)<0&&(a=c),Ui(a)}function Gz(){var e=Er(),t=Vz(e),r=Hz(t,e.month),n=r[0],a=r[1],s=function(c){var d;if(!e.disableNavigation){var f=Ui(c);a(f),(d=e.onMonthChange)===null||d===void 0||d.call(e,f)}};return[n,s]}function Kz(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ui(e),s=Ui(Wo(a,n)),c=Ng(s,a),d=[],f=0;f<c;f++){var p=Wo(a,f);d.push(p)}return r&&(d=d.reverse()),d}function Yz(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,c=n?s:1,d=Ui(e);if(!r)return Wo(d,c);var f=Ng(r,e);if(!(f<s))return Wo(d,c)}}function Xz(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,c=n?s:1,d=Ui(e);if(!r)return Wo(d,-c);var f=Ng(d,r);if(!(f<=0))return Wo(d,-c)}}var P4=y.createContext(void 0);function Qz(e){var t=Er(),r=Gz(),n=r[0],a=r[1],s=Kz(n,t),c=Yz(n,t),d=Xz(n,t),f=function(h){return s.some(function(x){return lC(h,x)})},p=function(h,x){f(h)||(x&&S4(h,x)?a(Wo(h,1+t.numberOfMonths*-1)):a(h))},g={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:p,previousMonth:d,nextMonth:c,isDateDisplayed:f};return l.jsx(P4.Provider,{value:g,children:e.children})}function py(){var e=y.useContext(P4);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function H2(e){var t,r=Er(),n=r.classNames,a=r.styles,s=r.components,c=py().goToMonth,d=function(g){c(Wo(g,e.displayIndex?-e.displayIndex:0))},f=(t=s?.CaptionLabel)!==null&&t!==void 0?t:_4,p=l.jsx(f,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:p}),l.jsx(zz,{onChange:d,displayMonth:e.displayMonth}),l.jsx(Wz,{onChange:d,displayMonth:e.displayMonth})]})}function Jz(e){return l.jsx("svg",vt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Zz(e){return l.jsx("svg",vt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Wv=y.forwardRef(function(e,t){var r=Er(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var c=s.join(" "),d=vt(vt({},a.button_reset),a.button);return e.style&&Object.assign(d,e.style),l.jsx("button",vt({},e,{ref:t,type:"button",className:c,style:d}))});function e7(e){var t,r,n=Er(),a=n.dir,s=n.locale,c=n.classNames,d=n.styles,f=n.labels,p=f.labelPrevious,g=f.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var x=p(e.previousMonth,{locale:s}),S=[c.nav_button,c.nav_button_previous].join(" "),P=g(e.nextMonth,{locale:s}),j=[c.nav_button,c.nav_button_next].join(" "),N=(t=h?.IconRight)!==null&&t!==void 0?t:Zz,k=(r=h?.IconLeft)!==null&&r!==void 0?r:Jz;return l.jsxs("div",{className:c.nav,style:d.nav,children:[!e.hidePrevious&&l.jsx(Wv,{name:"previous-month","aria-label":x,className:S,style:d.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?l.jsx(N,{className:c.nav_icon,style:d.nav_icon}):l.jsx(k,{className:c.nav_icon,style:d.nav_icon})}),!e.hideNext&&l.jsx(Wv,{name:"next-month","aria-label":P,className:j,style:d.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?l.jsx(k,{className:c.nav_icon,style:d.nav_icon}):l.jsx(N,{className:c.nav_icon,style:d.nav_icon})})]})}function V2(e){var t=Er().numberOfMonths,r=py(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,c=r.displayMonths,d=c.findIndex(function(P){return lC(e.displayMonth,P)}),f=d===0,p=d===c.length-1,g=t>1&&(f||!p),h=t>1&&(p||!f),x=function(){n&&s(n)},S=function(){a&&s(a)};return l.jsx(e7,{displayMonth:e.displayMonth,hideNext:g,hidePrevious:h,nextMonth:a,previousMonth:n,onPreviousClick:x,onNextClick:S})}function t7(e){var t,r=Er(),n=r.classNames,a=r.disableNavigation,s=r.styles,c=r.captionLayout,d=r.components,f=(t=d?.CaptionLabel)!==null&&t!==void 0?t:_4,p;return a?p=l.jsx(f,{id:e.id,displayMonth:e.displayMonth}):c==="dropdown"?p=l.jsx(H2,{displayMonth:e.displayMonth,id:e.id}):c==="dropdown-buttons"?p=l.jsxs(l.Fragment,{children:[l.jsx(H2,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(V2,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):p=l.jsxs(l.Fragment,{children:[l.jsx(f,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(V2,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:n.caption,style:s.caption,children:p})}function r7(e){var t=Er(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?l.jsx("tfoot",{className:a,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function n7(e,t,r){for(var n=r?yf(new Date):ql(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var c=ci(n,s);a.push(c)}return a}function a7(){var e=Er(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,c=e.ISOWeek,d=e.formatters.formatWeekdayName,f=e.labels.labelWeekday,p=n7(a,s,c);return l.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:t.head_cell}),p.map(function(g,h){return l.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":f(g,{locale:a}),children:d(g,{locale:a})},h)})]})}function i7(){var e,t=Er(),r=t.classNames,n=t.styles,a=t.components,s=(e=a?.HeadRow)!==null&&e!==void 0?e:a7;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(s,{})})}function s7(e){var t=Er(),r=t.locale,n=t.formatters.formatDay;return l.jsx(l.Fragment,{children:n(e.date,{locale:r})})}var cC=y.createContext(void 0);function o7(e){if(!dy(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(cC.Provider,{value:t,children:e.children})}return l.jsx(l7,{initialProps:e.initialProps,children:e.children})}function l7(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,c=function(p,g,h){var x,S;(x=t.onDayClick)===null||x===void 0||x.call(t,p,g,h);var P=!!(g.selected&&a&&n?.length===a);if(!P){var j=!!(!g.selected&&s&&n?.length===s);if(!j){var N=n?N4([],n):[];if(g.selected){var k=N.findIndex(function(T){return Bi(p,T)});N.splice(k,1)}else N.push(p);(S=t.onSelect)===null||S===void 0||S.call(t,N,p,g,h)}}},d={disabled:[]};n&&d.disabled.push(function(p){var g=s&&n.length>s-1,h=n.some(function(x){return Bi(x,p)});return!!(g&&!h)});var f={selected:n,onDayClick:c,modifiers:d};return l.jsx(cC.Provider,{value:f,children:r})}function uC(){var e=y.useContext(cC);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function c7(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Bi(a,e)&&Bi(n,e)?void 0:Bi(a,e)?{from:a,to:void 0}:Bi(n,e)?void 0:sj(n,e)?{from:e,to:a}:{from:n,to:e}:a?sj(e,a)?{from:a,to:e}:{from:e,to:a}:n?S4(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var dC=y.createContext(void 0);function u7(e){if(!fy(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(dC.Provider,{value:t,children:e.children})}return l.jsx(d7,{initialProps:e.initialProps,children:e.children})}function d7(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,c=a.to,d=t.min,f=t.max,p=function(S,P,j){var N,k;(N=t.onDayClick)===null||N===void 0||N.call(t,S,P,j);var T=c7(S,n);(k=t.onSelect)===null||k===void 0||k.call(t,T,S,P,j)},g={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(g.range_start=[s],c?(g.range_end=[c],Bi(s,c)||(g.range_middle=[{after:s,before:c}])):g.range_end=[s]):c&&(g.range_start=[c],g.range_end=[c]),d&&(s&&!c&&g.disabled.push({after:_x(s,d-1),before:ci(s,d-1)}),s&&c&&g.disabled.push({after:s,before:ci(s,d-1)}),!s&&c&&g.disabled.push({after:_x(c,d-1),before:ci(c,d-1)})),f){if(s&&!c&&(g.disabled.push({before:ci(s,-f+1)}),g.disabled.push({after:ci(s,f-1)})),s&&c){var h=Rl(c,s)+1,x=f-h;g.disabled.push({before:_x(s,x)}),g.disabled.push({after:ci(c,x)})}!s&&c&&(g.disabled.push({before:ci(c,-f+1)}),g.disabled.push({after:ci(c,f-1)}))}return l.jsx(dC.Provider,{value:{selected:n,onDayClick:p,modifiers:g},children:r})}function fC(){var e=y.useContext(dC);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Rv(e){return Array.isArray(e)?N4([],e):e!==void 0?[e]:[]}function f7(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Rv(a)}),t}var Ho;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ho||(Ho={}));var p7=Ho.Selected,Dc=Ho.Disabled,m7=Ho.Hidden,h7=Ho.Today,Px=Ho.RangeEnd,Ax=Ho.RangeMiddle,Ex=Ho.RangeStart,g7=Ho.Outside;function y7(e,t,r){var n,a=(n={},n[p7]=Rv(e.selected),n[Dc]=Rv(e.disabled),n[m7]=Rv(e.hidden),n[h7]=[e.today],n[Px]=[],n[Ax]=[],n[Ex]=[],n[g7]=[],n);return e.fromDate&&a[Dc].push({before:e.fromDate}),e.toDate&&a[Dc].push({after:e.toDate}),dy(e)?a[Dc]=a[Dc].concat(t.modifiers[Dc]):fy(e)&&(a[Dc]=a[Dc].concat(r.modifiers[Dc]),a[Ex]=r.modifiers[Ex],a[Ax]=r.modifiers[Ax],a[Px]=r.modifiers[Px]),a}var A4=y.createContext(void 0);function v7(e){var t=Er(),r=uC(),n=fC(),a=y7(t,r,n),s=f7(t.modifiers),c=vt(vt({},a),s);return l.jsx(A4.Provider,{value:c,children:e.children})}function E4(){var e=y.useContext(A4);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function b7(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function x7(e){return!!(e&&typeof e=="object"&&"from"in e)}function w7(e){return!!(e&&typeof e=="object"&&"after"in e)}function S7(e){return!!(e&&typeof e=="object"&&"before"in e)}function N7(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function j7(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=Rl(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var c=Rl(e,n)>=0&&Rl(a,e)>=0;return c}return a?Bi(a,e):n?Bi(n,e):!1}function _7(e){return iC(e)}function C7(e){return Array.isArray(e)&&e.every(iC)}function P7(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(_7(r))return Bi(e,r);if(C7(r))return r.includes(e);if(x7(r))return j7(e,r);if(N7(r))return r.dayOfWeek.includes(e.getDay());if(b7(r)){var n=Rl(r.before,e),a=Rl(r.after,e),s=n>0,c=a<0,d=sj(r.before,r.after);return d?c&&s:s||c}return w7(r)?Rl(e,r.after)>0:S7(r)?Rl(r.before,e)>0:typeof r=="function"?r(e):!1})}function pC(e,t,r){var n=Object.keys(t).reduce(function(s,c){var d=t[c];return P7(e,d)&&s.push(c),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!lC(e,r)&&(a.outside=!0),a}function A7(e,t){for(var r=Ui(e[0]),n=sC(e[e.length-1]),a,s,c=r;c<=n;){var d=pC(c,t),f=!d.disabled&&!d.hidden;if(!f){c=ci(c,1);continue}if(d.selected)return c;d.today&&!s&&(s=c),a||(a=c),c=ci(c,1)}return s||a}var E7=365;function k4(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,c=t.retry,d=c===void 0?{count:0,lastFocused:e}:c,f=a.weekStartsOn,p=a.fromDate,g=a.toDate,h=a.locale,x={day:ci,week:ij,month:Wo,year:yU,startOfWeek:function(N){return a.ISOWeek?yf(N):ql(N,{locale:h,weekStartsOn:f})},endOfWeek:function(N){return a.ISOWeek?g4(N):oC(N,{locale:h,weekStartsOn:f})}},S=x[r](e,n==="after"?1:-1);n==="before"&&p?S=vU([p,S]):n==="after"&&g&&(S=bU([g,S]));var P=!0;if(s){var j=pC(S,s);P=!j.disabled&&!j.hidden}return P?S:d.count>E7?d.lastFocused:k4(S,{moveBy:r,direction:n,context:a,modifiers:s,retry:vt(vt({},d),{count:d.count+1})})}var O4=y.createContext(void 0);function k7(e){var t=py(),r=E4(),n=y.useState(),a=n[0],s=n[1],c=y.useState(),d=c[0],f=c[1],p=A7(t.displayMonths,r),g=a??(d&&t.isDateDisplayed(d))?d:p,h=function(){f(a),s(void 0)},x=function(N){s(N)},S=Er(),P=function(N,k){if(a){var T=k4(a,{moveBy:N,direction:k,context:S,modifiers:r});Bi(a,T)||(t.goToDate(T,a),x(T))}},j={focusedDay:a,focusTarget:g,blur:h,focus:x,focusDayAfter:function(){return P("day","after")},focusDayBefore:function(){return P("day","before")},focusWeekAfter:function(){return P("week","after")},focusWeekBefore:function(){return P("week","before")},focusMonthBefore:function(){return P("month","before")},focusMonthAfter:function(){return P("month","after")},focusYearBefore:function(){return P("year","before")},focusYearAfter:function(){return P("year","after")},focusStartOfWeek:function(){return P("startOfWeek","before")},focusEndOfWeek:function(){return P("endOfWeek","after")}};return l.jsx(O4.Provider,{value:j,children:e.children})}function mC(){var e=y.useContext(O4);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function O7(e,t){var r=E4(),n=pC(e,r,t);return n}var hC=y.createContext(void 0);function T7(e){if(!rb(e.initialProps)){var t={selected:void 0};return l.jsx(hC.Provider,{value:t,children:e.children})}return l.jsx(R7,{initialProps:e.initialProps,children:e.children})}function R7(e){var t=e.initialProps,r=e.children,n=function(s,c,d){var f,p,g;if((f=t.onDayClick)===null||f===void 0||f.call(t,s,c,d),c.selected&&!t.required){(p=t.onSelect)===null||p===void 0||p.call(t,void 0,s,c,d);return}(g=t.onSelect)===null||g===void 0||g.call(t,s,s,c,d)},a={selected:t.selected,onDayClick:n};return l.jsx(hC.Provider,{value:a,children:r})}function T4(){var e=y.useContext(hC);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function I7(e,t){var r=Er(),n=T4(),a=uC(),s=fC(),c=mC(),d=c.focusDayAfter,f=c.focusDayBefore,p=c.focusWeekAfter,g=c.focusWeekBefore,h=c.blur,x=c.focus,S=c.focusMonthBefore,P=c.focusMonthAfter,j=c.focusYearBefore,N=c.focusYearAfter,k=c.focusStartOfWeek,T=c.focusEndOfWeek,R=function(ee){var z,fe,pe,q;rb(r)?(z=n.onDayClick)===null||z===void 0||z.call(n,e,t,ee):dy(r)?(fe=a.onDayClick)===null||fe===void 0||fe.call(a,e,t,ee):fy(r)?(pe=s.onDayClick)===null||pe===void 0||pe.call(s,e,t,ee):(q=r.onDayClick)===null||q===void 0||q.call(r,e,t,ee)},M=function(ee){var z;x(e),(z=r.onDayFocus)===null||z===void 0||z.call(r,e,t,ee)},O=function(ee){var z;h(),(z=r.onDayBlur)===null||z===void 0||z.call(r,e,t,ee)},I=function(ee){var z;(z=r.onDayMouseEnter)===null||z===void 0||z.call(r,e,t,ee)},D=function(ee){var z;(z=r.onDayMouseLeave)===null||z===void 0||z.call(r,e,t,ee)},B=function(ee){var z;(z=r.onDayPointerEnter)===null||z===void 0||z.call(r,e,t,ee)},G=function(ee){var z;(z=r.onDayPointerLeave)===null||z===void 0||z.call(r,e,t,ee)},X=function(ee){var z;(z=r.onDayTouchCancel)===null||z===void 0||z.call(r,e,t,ee)},Y=function(ee){var z;(z=r.onDayTouchEnd)===null||z===void 0||z.call(r,e,t,ee)},oe=function(ee){var z;(z=r.onDayTouchMove)===null||z===void 0||z.call(r,e,t,ee)},se=function(ee){var z;(z=r.onDayTouchStart)===null||z===void 0||z.call(r,e,t,ee)},ie=function(ee){var z;(z=r.onDayKeyUp)===null||z===void 0||z.call(r,e,t,ee)},K=function(ee){var z;switch(ee.key){case"ArrowLeft":ee.preventDefault(),ee.stopPropagation(),r.dir==="rtl"?d():f();break;case"ArrowRight":ee.preventDefault(),ee.stopPropagation(),r.dir==="rtl"?f():d();break;case"ArrowDown":ee.preventDefault(),ee.stopPropagation(),p();break;case"ArrowUp":ee.preventDefault(),ee.stopPropagation(),g();break;case"PageUp":ee.preventDefault(),ee.stopPropagation(),ee.shiftKey?j():S();break;case"PageDown":ee.preventDefault(),ee.stopPropagation(),ee.shiftKey?N():P();break;case"Home":ee.preventDefault(),ee.stopPropagation(),k();break;case"End":ee.preventDefault(),ee.stopPropagation(),T();break}(z=r.onDayKeyDown)===null||z===void 0||z.call(r,e,t,ee)},ne={onClick:R,onFocus:M,onBlur:O,onKeyDown:K,onKeyUp:ie,onMouseEnter:I,onMouseLeave:D,onPointerEnter:B,onPointerLeave:G,onTouchCancel:X,onTouchEnd:Y,onTouchMove:oe,onTouchStart:se};return ne}function M7(){var e=Er(),t=T4(),r=uC(),n=fC(),a=rb(e)?t.selected:dy(e)?r.selected:fy(e)?n.selected:void 0;return a}function D7(e){return Object.values(Ho).includes(e)}function L7(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(D7(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function $7(e,t){var r=vt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=vt(vt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function F7(e,t,r){var n,a,s,c=Er(),d=mC(),f=O7(e,t),p=I7(e,f),g=M7(),h=!!(c.onDayClick||c.mode!=="default");y.useEffect(function(){var I;f.outside||d.focusedDay&&h&&Bi(d.focusedDay,e)&&((I=r.current)===null||I===void 0||I.focus())},[d.focusedDay,e,r,h,f.outside]);var x=L7(c,f).join(" "),S=$7(c,f),P=!!(f.outside&&!c.showOutsideDays||f.hidden),j=(s=(a=c.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:s7,N=l.jsx(j,{date:e,displayMonth:t,activeModifiers:f}),k={style:S,className:x,children:N,role:"gridcell"},T=d.focusTarget&&Bi(d.focusTarget,e)&&!f.outside,R=d.focusedDay&&Bi(d.focusedDay,e),M=vt(vt(vt({},k),(n={disabled:f.disabled,role:"gridcell"},n["aria-selected"]=f.selected,n.tabIndex=R||T?0:-1,n)),p),O={isButton:h,isHidden:P,activeModifiers:f,selectedDays:g,buttonProps:M,divProps:k};return O}function B7(e){var t=y.useRef(null),r=F7(e.date,e.displayMonth,t);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(Wv,vt({name:"day",ref:t},r.buttonProps)):l.jsx("div",vt({},r.divProps))}function q7(e){var t=e.number,r=e.dates,n=Er(),a=n.onWeekNumberClick,s=n.styles,c=n.classNames,d=n.locale,f=n.labels.labelWeekNumber,p=n.formatters.formatWeekNumber,g=p(Number(t),{locale:d});if(!a)return l.jsx("span",{className:c.weeknumber,style:s.weeknumber,children:g});var h=f(Number(t),{locale:d}),x=function(S){a(t,r,S)};return l.jsx(Wv,{name:"week-number","aria-label":h,className:c.weeknumber,style:s.weeknumber,onClick:x,children:g})}function U7(e){var t,r,n=Er(),a=n.styles,s=n.classNames,c=n.showWeekNumber,d=n.components,f=(t=d?.Day)!==null&&t!==void 0?t:B7,p=(r=d?.WeekNumber)!==null&&r!==void 0?r:q7,g;return c&&(g=l.jsx("td",{className:s.cell,style:a.cell,children:l.jsx(p,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:s.row,style:a.row,children:[g,e.dates.map(function(h){return l.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:l.jsx(f,{displayMonth:e.displayMonth,date:h})},vz(h))})]})}function G2(e,t,r){for(var n=r?.ISOWeek?g4(t):oC(t,r),a=r?.ISOWeek?yf(e):ql(e,r),s=Rl(n,a),c=[],d=0;d<=s;d++)c.push(ci(a,d));var f=c.reduce(function(p,g){var h=r?.ISOWeek?v4(g):x4(g,r),x=p.find(function(S){return S.weekNumber===h});return x?(x.dates.push(g),p):(p.push({weekNumber:h,dates:[g]}),p)},[]);return f}function z7(e,t){var r=G2(Ui(e),sC(e),t);if(t?.useFixedWeeks){var n=xz(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],c=ij(s,6-n),d=G2(ij(s,1),c,t);r.push.apply(r,d)}}return r}function W7(e){var t,r,n,a=Er(),s=a.locale,c=a.classNames,d=a.styles,f=a.hideHead,p=a.fixedWeeks,g=a.components,h=a.weekStartsOn,x=a.firstWeekContainsDate,S=a.ISOWeek,P=z7(e.displayMonth,{useFixedWeeks:!!p,ISOWeek:S,locale:s,weekStartsOn:h,firstWeekContainsDate:x}),j=(t=g?.Head)!==null&&t!==void 0?t:i7,N=(r=g?.Row)!==null&&r!==void 0?r:U7,k=(n=g?.Footer)!==null&&n!==void 0?n:r7;return l.jsxs("table",{id:e.id,className:c.table,style:d.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!f&&l.jsx(j,{}),l.jsx("tbody",{className:c.tbody,style:d.tbody,children:P.map(function(T){return l.jsx(N,{displayMonth:e.displayMonth,dates:T.dates,weekNumber:T.weekNumber},T.weekNumber)})}),l.jsx(k,{displayMonth:e.displayMonth})]})}function H7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var V7=H7()?y.useLayoutEffect:y.useEffect,kx=!1,G7=0;function K2(){return"react-day-picker-".concat(++G7)}function K7(e){var t,r=e??(kx?K2():null),n=y.useState(r),a=n[0],s=n[1];return V7(function(){a===null&&s(K2())},[]),y.useEffect(function(){kx===!1&&(kx=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Y7(e){var t,r,n=Er(),a=n.dir,s=n.classNames,c=n.styles,d=n.components,f=py().displayMonths,p=K7(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),g=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[s.month],x=c.month,S=e.displayIndex===0,P=e.displayIndex===f.length-1,j=!S&&!P;a==="rtl"&&(t=[S,P],P=t[0],S=t[1]),S&&(h.push(s.caption_start),x=vt(vt({},x),c.caption_start)),P&&(h.push(s.caption_end),x=vt(vt({},x),c.caption_end)),j&&(h.push(s.caption_between),x=vt(vt({},x),c.caption_between));var N=(r=d?.Caption)!==null&&r!==void 0?r:t7;return l.jsxs("div",{className:h.join(" "),style:x,children:[l.jsx(N,{id:p,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(W7,{id:g,"aria-labelledby":p,displayMonth:e.displayMonth})]},e.displayIndex)}function X7(e){var t=Er(),r=t.classNames,n=t.styles;return l.jsx("div",{className:r.months,style:n.months,children:e.children})}function Q7(e){var t,r,n=e.initialProps,a=Er(),s=mC(),c=py(),d=y.useState(!1),f=d[0],p=d[1];y.useEffect(function(){a.initialFocus&&s.focusTarget&&(f||(s.focus(s.focusTarget),p(!0)))},[a.initialFocus,f,s.focus,s.focusTarget,s]);var g=[a.classNames.root,a.className];a.numberOfMonths>1&&g.push(a.classNames.multiple_months),a.showWeekNumber&&g.push(a.classNames.with_weeknumber);var h=vt(vt({},a.styles.root),a.style),x=Object.keys(n).filter(function(P){return P.startsWith("data-")}).reduce(function(P,j){var N;return vt(vt({},P),(N={},N[j]=n[j],N))},{}),S=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:X7;return l.jsx("div",vt({className:g.join(" "),style:h,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},x,{children:l.jsx(S,{children:c.displayMonths.map(function(P,j){return l.jsx(Y7,{displayIndex:j,displayMonth:P},j)})})}))}function J7(e){var t=e.children,r=Sz(e,["children"]);return l.jsx(qz,{initialProps:r,children:l.jsx(Qz,{children:l.jsx(T7,{initialProps:r,children:l.jsx(o7,{initialProps:r,children:l.jsx(u7,{initialProps:r,children:l.jsx(v7,{children:l.jsx(k7,{children:t})})})})})})})}function Ox(e){return l.jsx(J7,vt({},e,{children:l.jsx(Q7,{initialProps:e})}))}var Tx,Y2;function zi(){if(Y2)return Tx;Y2=1;var e=Array.isArray;return Tx=e,Tx}var Rx,X2;function R4(){if(X2)return Rx;X2=1;var e=typeof Yy=="object"&&Yy&&Yy.Object===Object&&Yy;return Rx=e,Rx}var Ix,Q2;function Hl(){if(Q2)return Ix;Q2=1;var e=R4(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Ix=r,Ix}var Mx,J2;function my(){if(J2)return Mx;J2=1;var e=Hl(),t=e.Symbol;return Mx=t,Mx}var Dx,Z2;function Z7(){if(Z2)return Dx;Z2=1;var e=my(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function s(c){var d=r.call(c,a),f=c[a];try{c[a]=void 0;var p=!0}catch{}var g=n.call(c);return p&&(d?c[a]=f:delete c[a]),g}return Dx=s,Dx}var Lx,eA;function eW(){if(eA)return Lx;eA=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Lx=r,Lx}var $x,tA;function eu(){if(tA)return $x;tA=1;var e=my(),t=Z7(),r=eW(),n="[object Null]",a="[object Undefined]",s=e?e.toStringTag:void 0;function c(d){return d==null?d===void 0?a:n:s&&s in Object(d)?t(d):r(d)}return $x=c,$x}var Fx,rA;function tu(){if(rA)return Fx;rA=1;function e(t){return t!=null&&typeof t=="object"}return Fx=e,Fx}var Bx,nA;function Lm(){if(nA)return Bx;nA=1;var e=eu(),t=tu(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return Bx=n,Bx}var qx,aA;function gC(){if(aA)return qx;aA=1;var e=zi(),t=Lm(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,c){if(e(s))return!1;var d=typeof s;return d=="number"||d=="symbol"||d=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||c!=null&&s in Object(c)}return qx=a,qx}var Ux,iA;function ed(){if(iA)return Ux;iA=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Ux=e,Ux}var zx,sA;function yC(){if(sA)return zx;sA=1;var e=eu(),t=ed(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function c(d){if(!t(d))return!1;var f=e(d);return f==n||f==a||f==r||f==s}return zx=c,zx}var Wx,oA;function tW(){if(oA)return Wx;oA=1;var e=Hl(),t=e["__core-js_shared__"];return Wx=t,Wx}var Hx,lA;function rW(){if(lA)return Hx;lA=1;var e=tW(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Hx=r,Hx}var Vx,cA;function I4(){if(cA)return Vx;cA=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Vx=r,Vx}var Gx,uA;function nW(){if(uA)return Gx;uA=1;var e=yC(),t=rW(),r=ed(),n=I4(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,f=c.toString,p=d.hasOwnProperty,g=RegExp("^"+f.call(p).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(x){if(!r(x)||t(x))return!1;var S=e(x)?g:s;return S.test(n(x))}return Gx=h,Gx}var Kx,dA;function aW(){if(dA)return Kx;dA=1;function e(t,r){return t?.[r]}return Kx=e,Kx}var Yx,fA;function Cf(){if(fA)return Yx;fA=1;var e=nW(),t=aW();function r(n,a){var s=t(n,a);return e(s)?s:void 0}return Yx=r,Yx}var Xx,pA;function nb(){if(pA)return Xx;pA=1;var e=Cf(),t=e(Object,"create");return Xx=t,Xx}var Qx,mA;function iW(){if(mA)return Qx;mA=1;var e=nb();function t(){this.__data__=e?e(null):{},this.size=0}return Qx=t,Qx}var Jx,hA;function sW(){if(hA)return Jx;hA=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Jx=e,Jx}var Zx,gA;function oW(){if(gA)return Zx;gA=1;var e=nb(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var c=this.__data__;if(e){var d=c[s];return d===t?void 0:d}return n.call(c,s)?c[s]:void 0}return Zx=a,Zx}var ew,yA;function lW(){if(yA)return ew;yA=1;var e=nb(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var s=this.__data__;return e?s[a]!==void 0:r.call(s,a)}return ew=n,ew}var tw,vA;function cW(){if(vA)return tw;vA=1;var e=nb(),t="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&a===void 0?t:a,this}return tw=r,tw}var rw,bA;function uW(){if(bA)return rw;bA=1;var e=iW(),t=sW(),r=oW(),n=lW(),a=cW();function s(c){var d=-1,f=c==null?0:c.length;for(this.clear();++d<f;){var p=c[d];this.set(p[0],p[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,rw=s,rw}var nw,xA;function dW(){if(xA)return nw;xA=1;function e(){this.__data__=[],this.size=0}return nw=e,nw}var aw,wA;function vC(){if(wA)return aw;wA=1;function e(t,r){return t===r||t!==t&&r!==r}return aw=e,aw}var iw,SA;function ab(){if(SA)return iw;SA=1;var e=vC();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return iw=t,iw}var sw,NA;function fW(){if(NA)return sw;NA=1;var e=ab(),t=Array.prototype,r=t.splice;function n(a){var s=this.__data__,c=e(s,a);if(c<0)return!1;var d=s.length-1;return c==d?s.pop():r.call(s,c,1),--this.size,!0}return sw=n,sw}var ow,jA;function pW(){if(jA)return ow;jA=1;var e=ab();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return ow=t,ow}var lw,_A;function mW(){if(_A)return lw;_A=1;var e=ab();function t(r){return e(this.__data__,r)>-1}return lw=t,lw}var cw,CA;function hW(){if(CA)return cw;CA=1;var e=ab();function t(r,n){var a=this.__data__,s=e(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return cw=t,cw}var uw,PA;function ib(){if(PA)return uw;PA=1;var e=dW(),t=fW(),r=pW(),n=mW(),a=hW();function s(c){var d=-1,f=c==null?0:c.length;for(this.clear();++d<f;){var p=c[d];this.set(p[0],p[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,uw=s,uw}var dw,AA;function bC(){if(AA)return dw;AA=1;var e=Cf(),t=Hl(),r=e(t,"Map");return dw=r,dw}var fw,EA;function gW(){if(EA)return fw;EA=1;var e=uW(),t=ib(),r=bC();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return fw=n,fw}var pw,kA;function yW(){if(kA)return pw;kA=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return pw=e,pw}var mw,OA;function sb(){if(OA)return mw;OA=1;var e=yW();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return mw=t,mw}var hw,TA;function vW(){if(TA)return hw;TA=1;var e=sb();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return hw=t,hw}var gw,RA;function bW(){if(RA)return gw;RA=1;var e=sb();function t(r){return e(this,r).get(r)}return gw=t,gw}var yw,IA;function xW(){if(IA)return yw;IA=1;var e=sb();function t(r){return e(this,r).has(r)}return yw=t,yw}var vw,MA;function wW(){if(MA)return vw;MA=1;var e=sb();function t(r,n){var a=e(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return vw=t,vw}var bw,DA;function xC(){if(DA)return bw;DA=1;var e=gW(),t=vW(),r=bW(),n=xW(),a=wW();function s(c){var d=-1,f=c==null?0:c.length;for(this.clear();++d<f;){var p=c[d];this.set(p[0],p[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,bw=s,bw}var xw,LA;function M4(){if(LA)return xw;LA=1;var e=xC(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var s=function(){var c=arguments,d=a?a.apply(this,c):c[0],f=s.cache;if(f.has(d))return f.get(d);var p=n.apply(this,c);return s.cache=f.set(d,p)||f,p};return s.cache=new(r.Cache||e),s}return r.Cache=e,xw=r,xw}var ww,$A;function SW(){if($A)return ww;$A=1;var e=M4(),t=500;function r(n){var a=e(n,function(c){return s.size===t&&s.clear(),c}),s=a.cache;return a}return ww=r,ww}var Sw,FA;function NW(){if(FA)return Sw;FA=1;var e=SW(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(t,function(c,d,f,p){s.push(f?p.replace(r,"$1"):d||c)}),s});return Sw=n,Sw}var Nw,BA;function wC(){if(BA)return Nw;BA=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,s=Array(a);++n<a;)s[n]=r(t[n],n,t);return s}return Nw=e,Nw}var jw,qA;function jW(){if(qA)return jw;qA=1;var e=my(),t=wC(),r=zi(),n=Lm(),a=e?e.prototype:void 0,s=a?a.toString:void 0;function c(d){if(typeof d=="string")return d;if(r(d))return t(d,c)+"";if(n(d))return s?s.call(d):"";var f=d+"";return f=="0"&&1/d==-1/0?"-0":f}return jw=c,jw}var _w,UA;function D4(){if(UA)return _w;UA=1;var e=jW();function t(r){return r==null?"":e(r)}return _w=t,_w}var Cw,zA;function L4(){if(zA)return Cw;zA=1;var e=zi(),t=gC(),r=NW(),n=D4();function a(s,c){return e(s)?s:t(s,c)?[s]:r(n(s))}return Cw=a,Cw}var Pw,WA;function ob(){if(WA)return Pw;WA=1;var e=Lm();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Pw=t,Pw}var Aw,HA;function SC(){if(HA)return Aw;HA=1;var e=L4(),t=ob();function r(n,a){a=e(a,n);for(var s=0,c=a.length;n!=null&&s<c;)n=n[t(a[s++])];return s&&s==c?n:void 0}return Aw=r,Aw}var Ew,VA;function $4(){if(VA)return Ew;VA=1;var e=SC();function t(r,n,a){var s=r==null?void 0:e(r,n);return s===void 0?a:s}return Ew=t,Ew}var _W=$4();const to=pr(_W);var kw,GA;function CW(){if(GA)return kw;GA=1;function e(t){return t==null}return kw=e,kw}var PW=CW();const Jt=pr(PW);var Ow,KA;function AW(){if(KA)return Ow;KA=1;var e=eu(),t=zi(),r=tu(),n="[object String]";function a(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return Ow=a,Ow}var EW=AW();const vf=pr(EW);var kW=yC();const kt=pr(kW);var OW=ed();const $m=pr(OW);var Tw={exports:{}},rr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function TW(){if(YA)return rr;YA=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),P;P=Symbol.for("react.module.reference");function j(N){if(typeof N=="object"&&N!==null){var k=N.$$typeof;switch(k){case e:switch(N=N.type,N){case r:case a:case n:case p:case g:return N;default:switch(N=N&&N.$$typeof,N){case d:case c:case f:case x:case h:case s:return N;default:return k}}case t:return k}}}return rr.ContextConsumer=c,rr.ContextProvider=s,rr.Element=e,rr.ForwardRef=f,rr.Fragment=r,rr.Lazy=x,rr.Memo=h,rr.Portal=t,rr.Profiler=a,rr.StrictMode=n,rr.Suspense=p,rr.SuspenseList=g,rr.isAsyncMode=function(){return!1},rr.isConcurrentMode=function(){return!1},rr.isContextConsumer=function(N){return j(N)===c},rr.isContextProvider=function(N){return j(N)===s},rr.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},rr.isForwardRef=function(N){return j(N)===f},rr.isFragment=function(N){return j(N)===r},rr.isLazy=function(N){return j(N)===x},rr.isMemo=function(N){return j(N)===h},rr.isPortal=function(N){return j(N)===t},rr.isProfiler=function(N){return j(N)===a},rr.isStrictMode=function(N){return j(N)===n},rr.isSuspense=function(N){return j(N)===p},rr.isSuspenseList=function(N){return j(N)===g},rr.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===a||N===n||N===p||N===g||N===S||typeof N=="object"&&N!==null&&(N.$$typeof===x||N.$$typeof===h||N.$$typeof===s||N.$$typeof===c||N.$$typeof===f||N.$$typeof===P||N.getModuleId!==void 0)},rr.typeOf=j,rr}var XA;function RW(){return XA||(XA=1,Tw.exports=TW()),Tw.exports}var IW=RW(),Rw,QA;function F4(){if(QA)return Rw;QA=1;var e=eu(),t=tu(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return Rw=n,Rw}var Iw,JA;function MW(){if(JA)return Iw;JA=1;var e=F4();function t(r){return e(r)&&r!=+r}return Iw=t,Iw}var DW=MW();const hy=pr(DW);var LW=F4();const $W=pr(LW);var Bo=function(t){return t===0?0:t>0?1:-1},lf=function(t){return vf(t)&&t.indexOf("%")===t.length-1},qe=function(t){return $W(t)&&!hy(t)},FW=function(t){return Jt(t)},Un=function(t){return qe(t)||vf(t)},BW=0,lb=function(t){var r=++BW;return"".concat(t||"").concat(r)},bf=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(t)&&!vf(t))return n;var s;if(lf(t)){var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return hy(s)&&(s=n),a&&s>r&&(s=r),s},qu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},qW=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},zp=function(t,r){return qe(t)&&qe(r)?function(n){return t+n*(r-t)}:function(){return r}};function oj(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):to(n,t))===r})}var UW=function(t,r){return qe(t)&&qe(r)?t-r:vf(t)&&vf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function tm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function lj(e){"@babel/helpers - typeof";return lj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lj(e)}var zW=["viewBox","children"],WW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZA=["points","pathLength"],Mw={svg:zW,polygon:ZA,polyline:ZA},NC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!$m(n))return null;var a={};return Object.keys(n).forEach(function(s){NC.includes(s)&&(a[s]=r||function(c){return n[s](n,c)})}),a},HW=function(t,r,n){return function(a){return t(r,n,a),null}},Vv=function(t,r,n){if(!$m(t)||lj(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var c=t[s];NC.includes(s)&&typeof c=="function"&&(a||(a={}),a[s]=HW(c,r,n))}),a},VW=["children"],GW=["children"];function eE(e,t){if(e==null)return{};var r=KW(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},rE=null,Dw=null,jC=function e(t){if(t===rE&&Array.isArray(Dw))return Dw;var r=[];return y.Children.forEach(t,function(n){Jt(n)||(IW.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Dw=r,rE=t,r};function qo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Vc(a)}):n=[Vc(t)],jC(e).forEach(function(a){var s=to(a,"type.displayName")||to(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function ps(e,t){var r=qo(e,t);return r&&r[0]}var nE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!qe(n)||n<=0||!qe(a)||a<=0)},YW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],XW=function(t){return t&&t.type&&vf(t.type)&&YW.indexOf(t.type)>=0},QW=function(t,r,n,a){var s,c=(s=Mw?.[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!kt(t)&&(a&&c.includes(r)||WW.includes(r))||n&&NC.includes(r)},Qt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!$m(a))return null;var s={};return Object.keys(a).forEach(function(c){var d;QW((d=a)===null||d===void 0?void 0:d[c],c,r,n)&&(s[c]=a[c])}),s},cj=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return aE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],c=r[a];if(Array.isArray(s)||Array.isArray(c)){if(!e(s,c))return!1}else if(!aE(s,c))return!1}return!0},aE=function(t,r){if(Jt(t)&&Jt(r))return!0;if(!Jt(t)&&!Jt(r)){var n=t.props||{},a=n.children,s=eE(n,VW),c=r.props||{},d=c.children,f=eE(c,GW);return a&&d?tm(s,f)&&cj(a,d):!a&&!d?tm(s,f):!1}return!1},iE=function(t,r){var n=[],a={};return jC(t).forEach(function(s,c){if(XW(s))n.push(s);else if(s){var d=Vc(s.type),f=r[d]||{},p=f.handler,g=f.once;if(p&&(!g||!a[d])){var h=p(s,d,c);n.push(h),a[d]=!0}}}),n},JW=function(t){var r=t&&t.type;return r&&tE[r]?tE[r]:null},ZW=function(t,r){return jC(r).indexOf(t)},eH=["children","width","height","viewBox","className","style","title","desc"];function uj(){return uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uj.apply(this,arguments)}function tH(e,t){if(e==null)return{};var r=rH(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dj(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,c=e.style,d=e.title,f=e.desc,p=tH(e,eH),g=a||{width:r,height:n,x:0,y:0},h=ht("recharts-surface",s);return te.createElement("svg",uj({},Qt(p,!0,"svg"),{className:h,width:r,height:n,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),te.createElement("title",null,d),te.createElement("desc",null,f),t)}var nH=["children","className"];function fj(){return fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fj.apply(this,arguments)}function aH(e,t){if(e==null)return{};var r=iH(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var na=te.forwardRef(function(e,t){var r=e.children,n=e.className,a=aH(e,nH),s=ht("recharts-layer",n);return te.createElement("g",fj({className:s},Qt(a,!0),{ref:t}),r)}),Gc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},Lw,sE;function sH(){if(sE)return Lw;sE=1;function e(t,r,n){var a=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var c=Array(s);++a<s;)c[a]=t[a+r];return c}return Lw=e,Lw}var $w,oE;function oH(){if(oE)return $w;oE=1;var e=sH();function t(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:e(r,n,a)}return $w=t,$w}var Fw,lE;function B4(){if(lE)return Fw;lE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,s="\\ufe0e\\ufe0f",c="\\u200d",d=RegExp("["+c+e+a+s+"]");function f(p){return d.test(p)}return Fw=f,Fw}var Bw,cE;function lH(){if(cE)return Bw;cE=1;function e(t){return t.split("")}return Bw=e,Bw}var qw,uE;function cH(){if(uE)return qw;uE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,s="\\ufe0e\\ufe0f",c="["+e+"]",d="["+a+"]",f="\\ud83c[\\udffb-\\udfff]",p="(?:"+d+"|"+f+")",g="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",S="\\u200d",P=p+"?",j="["+s+"]?",N="(?:"+S+"(?:"+[g,h,x].join("|")+")"+j+P+")*",k=j+P+N,T="(?:"+[g+d+"?",d,h,x,c].join("|")+")",R=RegExp(f+"(?="+f+")|"+T+k,"g");function M(O){return O.match(R)||[]}return qw=M,qw}var Uw,dE;function uH(){if(dE)return Uw;dE=1;var e=lH(),t=B4(),r=cH();function n(a){return t(a)?r(a):e(a)}return Uw=n,Uw}var zw,fE;function dH(){if(fE)return zw;fE=1;var e=oH(),t=B4(),r=uH(),n=D4();function a(s){return function(c){c=n(c);var d=t(c)?r(c):void 0,f=d?d[0]:c.charAt(0),p=d?e(d,1).join(""):c.slice(1);return f[s]()+p}}return zw=a,zw}var Ww,pE;function fH(){if(pE)return Ww;pE=1;var e=dH(),t=e("toUpperCase");return Ww=t,Ww}var pH=fH();const cb=pr(pH);function Pr(e){return function(){return e}}const q4=Math.cos,Gv=Math.sin,Go=Math.sqrt,Kv=Math.PI,ub=2*Kv,pj=Math.PI,mj=2*pj,rf=1e-6,mH=mj-rf;function U4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function hH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return U4;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class gH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?U4:hH(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,c){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,f=n-t,p=a-r,g=c-t,h=d-r,x=g*g+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>rf)if(!(Math.abs(h*f-p*g)>rf)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let S=n-c,P=a-d,j=f*f+p*p,N=S*S+P*P,k=Math.sqrt(j),T=Math.sqrt(x),R=s*Math.tan((pj-Math.acos((j+x-N)/(2*k*T)))/2),M=R/T,O=R/k;Math.abs(M-1)>rf&&this._append`L${t+M*g},${r+M*h}`,this._append`A${s},${s},0,0,${+(h*S>g*P)},${this._x1=t+O*f},${this._y1=r+O*p}`}}arc(t,r,n,a,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(a),f=n*Math.sin(a),p=t+d,g=r+f,h=1^c,x=c?a-s:s-a;this._x1===null?this._append`M${p},${g}`:(Math.abs(this._x1-p)>rf||Math.abs(this._y1-g)>rf)&&this._append`L${p},${g}`,n&&(x<0&&(x=x%mj+mj),x>mH?this._append`A${n},${n},0,1,${h},${t-d},${r-f}A${n},${n},0,1,${h},${this._x1=p},${this._y1=g}`:x>rf&&this._append`A${n},${n},0,${+(x>=pj)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function _C(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new gH(t)}function CC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function z4(e){this._context=e}z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function db(e){return new z4(e)}function W4(e){return e[0]}function H4(e){return e[1]}function V4(e,t){var r=Pr(!0),n=null,a=db,s=null,c=_C(d);e=typeof e=="function"?e:e===void 0?W4:Pr(e),t=typeof t=="function"?t:t===void 0?H4:Pr(t);function d(f){var p,g=(f=CC(f)).length,h,x=!1,S;for(n==null&&(s=a(S=c())),p=0;p<=g;++p)!(p<g&&r(h=f[p],p,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+e(h,p,f),+t(h,p,f));if(S)return s=null,S+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Pr(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Pr(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Pr(!!f),d):r},d.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),d):a},d.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),d):n},d}function cv(e,t,r){var n=null,a=Pr(!0),s=null,c=db,d=null,f=_C(p);e=typeof e=="function"?e:e===void 0?W4:Pr(+e),t=typeof t=="function"?t:Pr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?H4:Pr(+r);function p(h){var x,S,P,j=(h=CC(h)).length,N,k=!1,T,R=new Array(j),M=new Array(j);for(s==null&&(d=c(T=f())),x=0;x<=j;++x){if(!(x<j&&a(N=h[x],x,h))===k)if(k=!k)S=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),P=x-1;P>=S;--P)d.point(R[P],M[P]);d.lineEnd(),d.areaEnd()}k&&(R[x]=+e(N,x,h),M[x]=+t(N,x,h),d.point(n?+n(N,x,h):R[x],r?+r(N,x,h):M[x]))}if(T)return d=null,T+""||null}function g(){return V4().defined(a).curve(c).context(s)}return p.x=function(h){return arguments.length?(e=typeof h=="function"?h:Pr(+h),n=null,p):e},p.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Pr(+h),p):e},p.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Pr(+h),p):n},p.y=function(h){return arguments.length?(t=typeof h=="function"?h:Pr(+h),r=null,p):t},p.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Pr(+h),p):t},p.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Pr(+h),p):r},p.lineX0=p.lineY0=function(){return g().x(e).y(t)},p.lineY1=function(){return g().x(e).y(r)},p.lineX1=function(){return g().x(n).y(t)},p.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Pr(!!h),p):a},p.curve=function(h){return arguments.length?(c=h,s!=null&&(d=c(s)),p):c},p.context=function(h){return arguments.length?(h==null?s=d=null:d=c(s=h),p):s},p}class G4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function yH(e){return new G4(e,!0)}function vH(e){return new G4(e,!1)}const PC={draw(e,t){const r=Go(t/Kv);e.moveTo(r,0),e.arc(0,0,r,0,ub)}},bH={draw(e,t){const r=Go(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},K4=Go(1/3),xH=K4*2,wH={draw(e,t){const r=Go(t/xH),n=r*K4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},SH={draw(e,t){const r=Go(t),n=-r/2;e.rect(n,n,r,r)}},NH=.8908130915292852,Y4=Gv(Kv/10)/Gv(7*Kv/10),jH=Gv(ub/10)*Y4,_H=-q4(ub/10)*Y4,CH={draw(e,t){const r=Go(t*NH),n=jH*r,a=_H*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const c=ub*s/5,d=q4(c),f=Gv(c);e.lineTo(f*r,-d*r),e.lineTo(d*n-f*a,f*n+d*a)}e.closePath()}},Hw=Go(3),PH={draw(e,t){const r=-Go(t/(Hw*3));e.moveTo(0,r*2),e.lineTo(-Hw*r,-r),e.lineTo(Hw*r,-r),e.closePath()}},Ys=-.5,Xs=Go(3)/2,hj=1/Go(12),AH=(hj/2+1)*3,EH={draw(e,t){const r=Go(t/AH),n=r/2,a=r*hj,s=n,c=r*hj+r,d=-s,f=c;e.moveTo(n,a),e.lineTo(s,c),e.lineTo(d,f),e.lineTo(Ys*n-Xs*a,Xs*n+Ys*a),e.lineTo(Ys*s-Xs*c,Xs*s+Ys*c),e.lineTo(Ys*d-Xs*f,Xs*d+Ys*f),e.lineTo(Ys*n+Xs*a,Ys*a-Xs*n),e.lineTo(Ys*s+Xs*c,Ys*c-Xs*s),e.lineTo(Ys*d+Xs*f,Ys*f-Xs*d),e.closePath()}};function kH(e,t){let r=null,n=_C(a);e=typeof e=="function"?e:Pr(e||PC),t=typeof t=="function"?t:Pr(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Pr(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Pr(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Yv(){}function Xv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function X4(e){this._context=e}X4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OH(e){return new X4(e)}function Q4(e){this._context=e}Q4.prototype={areaStart:Yv,areaEnd:Yv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TH(e){return new Q4(e)}function J4(e){this._context=e}J4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RH(e){return new J4(e)}function Z4(e){this._context=e}Z4.prototype={areaStart:Yv,areaEnd:Yv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function IH(e){return new Z4(e)}function mE(e){return e<0?-1:1}function hE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),c=(r-e._y1)/(a||n<0&&-0),d=(s*a+c*n)/(n+a);return(mE(s)+mE(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function gE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Vw(e,t,r){var n=e._x0,a=e._y0,s=e._x1,c=e._y1,d=(s-n)/3;e._context.bezierCurveTo(n+d,a+d*t,s-d,c-d*r,s,c)}function Qv(e){this._context=e}Qv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vw(this,this._t0,gE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Vw(this,gE(this,r=hE(this,e,t)),r);break;default:Vw(this,this._t0,r=hE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function eL(e){this._context=new tL(e)}(eL.prototype=Object.create(Qv.prototype)).point=function(e,t){Qv.prototype.point.call(this,t,e)};function tL(e){this._context=e}tL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function MH(e){return new Qv(e)}function DH(e){return new eL(e)}function rL(e){this._context=e}rL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=yE(e),a=yE(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yE(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),c=new Array(r);for(a[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(a[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(c[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function LH(e){return new rL(e)}function fb(e,t){this._context=e,this._t=t}fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function $H(e){return new fb(e,.5)}function FH(e){return new fb(e,0)}function BH(e){return new fb(e,1)}function fm(e,t){if((c=e.length)>1)for(var r=1,n,a,s=e[t[0]],c,d=s.length;r<c;++r)for(a=s,s=e[t[r]],n=0;n<d;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function gj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function qH(e,t){return e[t]}function UH(e){const t=[];return t.key=e,t}function zH(){var e=Pr([]),t=gj,r=fm,n=qH;function a(s){var c=Array.from(e.apply(this,arguments),UH),d,f=c.length,p=-1,g;for(const h of s)for(d=0,++p;d<f;++d)(c[d][p]=[0,+n(h,c[d].key,p,s)]).data=h;for(d=0,g=CC(t(c));d<f;++d)c[g[d]].index=d;return r(c,g),c}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Pr(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Pr(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?gj:typeof s=="function"?s:Pr(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??fm,a):r},a}function WH(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,c;a<s;++a){for(c=r=0;r<n;++r)c+=e[r][a][1]||0;if(c)for(r=0;r<n;++r)e[r][a][1]/=c}fm(e,t)}}function HH(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var c=0,d=0;c<a;++c)d+=e[c][r][1]||0;n[r][1]+=n[r][0]=-d/2}fm(e,t)}}function VH(e,t){if(!(!((c=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,c;n<s;++n){for(var d=0,f=0,p=0;d<c;++d){for(var g=e[t[d]],h=g[n][1]||0,x=g[n-1][1]||0,S=(h-x)/2,P=0;P<d;++P){var j=e[t[P]],N=j[n][1]||0,k=j[n-1][1]||0;S+=N-k}f+=h,p+=S*h}a[n-1][1]+=a[n-1][0]=r,f&&(r-=p/f)}a[n-1][1]+=a[n-1][0]=r,fm(e,t)}}function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}var GH=["type","size","sizeType"];function yj(){return yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yj.apply(this,arguments)}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){KH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KH(e,t,r){return t=YH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YH(e){var t=XH(e,"string");return jg(t)=="symbol"?t:t+""}function XH(e,t){if(jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QH(e,t){if(e==null)return{};var r=JH(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nL={symbolCircle:PC,symbolCross:bH,symbolDiamond:wH,symbolSquare:SH,symbolStar:CH,symbolTriangle:PH,symbolWye:EH},ZH=Math.PI/180,eV=function(t){var r="symbol".concat(cb(t));return nL[r]||PC},tV=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*ZH;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},rV=function(t,r){nL["symbol".concat(cb(t))]=r},AC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,c=t.sizeType,d=c===void 0?"area":c,f=QH(t,GH),p=bE(bE({},f),{},{type:n,size:s,sizeType:d}),g=function(){var N=eV(n),k=kH().type(N).size(tV(s,d,n));return k()},h=p.className,x=p.cx,S=p.cy,P=Qt(p,!0);return x===+x&&S===+S&&s===+s?te.createElement("path",yj({},P,{className:ht("recharts-symbols",h),transform:"translate(".concat(x,", ").concat(S,")"),d:g()})):null};AC.registerSymbol=rV;function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vj.apply(this,arguments)}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){_g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iL(n.key),n)}}function sV(e,t,r){return t&&iV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oV(e,t,r){return t=Jv(t),lV(e,aL()?Reflect.construct(t,r||[],Jv(e).constructor):t.apply(e,r))}function lV(e,t){if(t&&(pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cV(e)}function cV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aL=function(){return!!e})()}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(e)}function uV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bj(e,t)}function bj(e,t){return bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bj(e,t)}function _g(e,t,r){return t=iL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iL(e){var t=dV(e,"string");return pm(t)=="symbol"?t:t+""}function dV(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qs=32,EC=(function(e){function t(){return aV(this,t),oV(this,t,arguments)}return uV(t,e),sV(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Qs/2,c=Qs/6,d=Qs/3,f=n.inactive?a:n.color;if(n.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Qs,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(s,"h").concat(d,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*d,",").concat(s,`
            H`).concat(Qs,"M").concat(2*d,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(d,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return te.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Qs/8,"h").concat(Qs,"v").concat(Qs*3/4,"h").concat(-Qs,"z"),className:"recharts-legend-icon"});if(te.isValidElement(n.legendIcon)){var p=nV({},n);return delete p.legendIcon,te.cloneElement(n.legendIcon,p)}return te.createElement(AC,{fill:f,cx:s,cy:s,size:Qs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,c=a.iconSize,d=a.layout,f=a.formatter,p=a.inactiveColor,g={x:0,y:0,width:Qs,height:Qs},h={display:d==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(S,P){var j=S.formatter||f,N=ht(_g(_g({"recharts-legend-item":!0},"legend-item-".concat(P),!0),"inactive",S.inactive));if(S.type==="none")return null;var k=kt(S.value)?null:S.value;Gc(!kt(S.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=S.inactive?p:S.color;return te.createElement("li",vj({className:N,style:h,key:"legend-item-".concat(P)},Vv(n.props,S,P)),te.createElement(dj,{width:c,height:c,viewBox:g,style:x},n.renderIcon(S)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},j?j(k,S,P):k))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,c=n.align;if(!a||!a.length)return null;var d={padding:0,margin:0,textAlign:s==="horizontal"?c:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:d},this.renderItems())}}])})(y.PureComponent);_g(EC,"displayName","Legend");_g(EC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Gw,wE;function fV(){if(wE)return Gw;wE=1;var e=ib();function t(){this.__data__=new e,this.size=0}return Gw=t,Gw}var Kw,SE;function pV(){if(SE)return Kw;SE=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Kw=e,Kw}var Yw,NE;function mV(){if(NE)return Yw;NE=1;function e(t){return this.__data__.get(t)}return Yw=e,Yw}var Xw,jE;function hV(){if(jE)return Xw;jE=1;function e(t){return this.__data__.has(t)}return Xw=e,Xw}var Qw,_E;function gV(){if(_E)return Qw;_E=1;var e=ib(),t=bC(),r=xC(),n=200;function a(s,c){var d=this.__data__;if(d instanceof e){var f=d.__data__;if(!t||f.length<n-1)return f.push([s,c]),this.size=++d.size,this;d=this.__data__=new r(f)}return d.set(s,c),this.size=d.size,this}return Qw=a,Qw}var Jw,CE;function sL(){if(CE)return Jw;CE=1;var e=ib(),t=fV(),r=pV(),n=mV(),a=hV(),s=gV();function c(d){var f=this.__data__=new e(d);this.size=f.size}return c.prototype.clear=t,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=a,c.prototype.set=s,Jw=c,Jw}var Zw,PE;function yV(){if(PE)return Zw;PE=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Zw=t,Zw}var e1,AE;function vV(){if(AE)return e1;AE=1;function e(t){return this.__data__.has(t)}return e1=e,e1}var t1,EE;function oL(){if(EE)return t1;EE=1;var e=xC(),t=yV(),r=vV();function n(a){var s=-1,c=a==null?0:a.length;for(this.__data__=new e;++s<c;)this.add(a[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,t1=n,t1}var r1,kE;function lL(){if(kE)return r1;kE=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return r1=e,r1}var n1,OE;function cL(){if(OE)return n1;OE=1;function e(t,r){return t.has(r)}return n1=e,n1}var a1,TE;function uL(){if(TE)return a1;TE=1;var e=oL(),t=lL(),r=cL(),n=1,a=2;function s(c,d,f,p,g,h){var x=f&n,S=c.length,P=d.length;if(S!=P&&!(x&&P>S))return!1;var j=h.get(c),N=h.get(d);if(j&&N)return j==d&&N==c;var k=-1,T=!0,R=f&a?new e:void 0;for(h.set(c,d),h.set(d,c);++k<S;){var M=c[k],O=d[k];if(p)var I=x?p(O,M,k,d,c,h):p(M,O,k,c,d,h);if(I!==void 0){if(I)continue;T=!1;break}if(R){if(!t(d,function(D,B){if(!r(R,B)&&(M===D||g(M,D,f,p,h)))return R.push(B)})){T=!1;break}}else if(!(M===O||g(M,O,f,p,h))){T=!1;break}}return h.delete(c),h.delete(d),T}return a1=s,a1}var i1,RE;function bV(){if(RE)return i1;RE=1;var e=Hl(),t=e.Uint8Array;return i1=t,i1}var s1,IE;function xV(){if(IE)return s1;IE=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,s){n[++r]=[s,a]}),n}return s1=e,s1}var o1,ME;function kC(){if(ME)return o1;ME=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return o1=e,o1}var l1,DE;function wV(){if(DE)return l1;DE=1;var e=my(),t=bV(),r=vC(),n=uL(),a=xV(),s=kC(),c=1,d=2,f="[object Boolean]",p="[object Date]",g="[object Error]",h="[object Map]",x="[object Number]",S="[object RegExp]",P="[object Set]",j="[object String]",N="[object Symbol]",k="[object ArrayBuffer]",T="[object DataView]",R=e?e.prototype:void 0,M=R?R.valueOf:void 0;function O(I,D,B,G,X,Y,oe){switch(B){case T:if(I.byteLength!=D.byteLength||I.byteOffset!=D.byteOffset)return!1;I=I.buffer,D=D.buffer;case k:return!(I.byteLength!=D.byteLength||!Y(new t(I),new t(D)));case f:case p:case x:return r(+I,+D);case g:return I.name==D.name&&I.message==D.message;case S:case j:return I==D+"";case h:var se=a;case P:var ie=G&c;if(se||(se=s),I.size!=D.size&&!ie)return!1;var K=oe.get(I);if(K)return K==D;G|=d,oe.set(I,D);var ne=n(se(I),se(D),G,X,Y,oe);return oe.delete(I),ne;case N:if(M)return M.call(I)==M.call(D)}return!1}return l1=O,l1}var c1,LE;function dL(){if(LE)return c1;LE=1;function e(t,r){for(var n=-1,a=r.length,s=t.length;++n<a;)t[s+n]=r[n];return t}return c1=e,c1}var u1,$E;function SV(){if($E)return u1;$E=1;var e=dL(),t=zi();function r(n,a,s){var c=a(n);return t(n)?c:e(c,s(n))}return u1=r,u1}var d1,FE;function NV(){if(FE)return d1;FE=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,s=0,c=[];++n<a;){var d=t[n];r(d,n,t)&&(c[s++]=d)}return c}return d1=e,d1}var f1,BE;function jV(){if(BE)return f1;BE=1;function e(){return[]}return f1=e,f1}var p1,qE;function _V(){if(qE)return p1;qE=1;var e=NV(),t=jV(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(c){return c==null?[]:(c=Object(c),e(a(c),function(d){return n.call(c,d)}))}:t;return p1=s,p1}var m1,UE;function CV(){if(UE)return m1;UE=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return m1=e,m1}var h1,zE;function PV(){if(zE)return h1;zE=1;var e=eu(),t=tu(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return h1=n,h1}var g1,WE;function OC(){if(WE)return g1;WE=1;var e=PV(),t=tu(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(c){return t(c)&&n.call(c,"callee")&&!a.call(c,"callee")};return g1=s,g1}var cg={exports:{}},y1,HE;function AV(){if(HE)return y1;HE=1;function e(){return!1}return y1=e,y1}cg.exports;var VE;function fL(){return VE||(VE=1,(function(e,t){var r=Hl(),n=AV(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,c=s&&s.exports===a,d=c?r.Buffer:void 0,f=d?d.isBuffer:void 0,p=f||n;e.exports=p})(cg,cg.exports)),cg.exports}var v1,GE;function TC(){if(GE)return v1;GE=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??e,!!a&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return v1=r,v1}var b1,KE;function RC(){if(KE)return b1;KE=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return b1=t,b1}var x1,YE;function EV(){if(YE)return x1;YE=1;var e=eu(),t=RC(),r=tu(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Function]",p="[object Map]",g="[object Number]",h="[object Object]",x="[object RegExp]",S="[object Set]",P="[object String]",j="[object WeakMap]",N="[object ArrayBuffer]",k="[object DataView]",T="[object Float32Array]",R="[object Float64Array]",M="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",D="[object Uint8Array]",B="[object Uint8ClampedArray]",G="[object Uint16Array]",X="[object Uint32Array]",Y={};Y[T]=Y[R]=Y[M]=Y[O]=Y[I]=Y[D]=Y[B]=Y[G]=Y[X]=!0,Y[n]=Y[a]=Y[N]=Y[s]=Y[k]=Y[c]=Y[d]=Y[f]=Y[p]=Y[g]=Y[h]=Y[x]=Y[S]=Y[P]=Y[j]=!1;function oe(se){return r(se)&&t(se.length)&&!!Y[e(se)]}return x1=oe,x1}var w1,XE;function pL(){if(XE)return w1;XE=1;function e(t){return function(r){return t(r)}}return w1=e,w1}var ug={exports:{}};ug.exports;var QE;function kV(){return QE||(QE=1,(function(e,t){var r=R4(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,c=s&&r.process,d=(function(){try{var f=a&&a.require&&a.require("util").types;return f||c&&c.binding&&c.binding("util")}catch{}})();e.exports=d})(ug,ug.exports)),ug.exports}var S1,JE;function mL(){if(JE)return S1;JE=1;var e=EV(),t=pL(),r=kV(),n=r&&r.isTypedArray,a=n?t(n):e;return S1=a,S1}var N1,ZE;function OV(){if(ZE)return N1;ZE=1;var e=CV(),t=OC(),r=zi(),n=fL(),a=TC(),s=mL(),c=Object.prototype,d=c.hasOwnProperty;function f(p,g){var h=r(p),x=!h&&t(p),S=!h&&!x&&n(p),P=!h&&!x&&!S&&s(p),j=h||x||S||P,N=j?e(p.length,String):[],k=N.length;for(var T in p)(g||d.call(p,T))&&!(j&&(T=="length"||S&&(T=="offset"||T=="parent")||P&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||a(T,k)))&&N.push(T);return N}return N1=f,N1}var j1,ek;function TV(){if(ek)return j1;ek=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return j1=t,j1}var _1,tk;function hL(){if(tk)return _1;tk=1;function e(t,r){return function(n){return t(r(n))}}return _1=e,_1}var C1,rk;function RV(){if(rk)return C1;rk=1;var e=hL(),t=e(Object.keys,Object);return C1=t,C1}var P1,nk;function IV(){if(nk)return P1;nk=1;var e=TV(),t=RV(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!e(s))return t(s);var c=[];for(var d in Object(s))n.call(s,d)&&d!="constructor"&&c.push(d);return c}return P1=a,P1}var A1,ak;function gy(){if(ak)return A1;ak=1;var e=yC(),t=RC();function r(n){return n!=null&&t(n.length)&&!e(n)}return A1=r,A1}var E1,ik;function pb(){if(ik)return E1;ik=1;var e=OV(),t=IV(),r=gy();function n(a){return r(a)?e(a):t(a)}return E1=n,E1}var k1,sk;function MV(){if(sk)return k1;sk=1;var e=SV(),t=_V(),r=pb();function n(a){return e(a,r,t)}return k1=n,k1}var O1,ok;function DV(){if(ok)return O1;ok=1;var e=MV(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,c,d,f,p,g){var h=d&t,x=e(s),S=x.length,P=e(c),j=P.length;if(S!=j&&!h)return!1;for(var N=S;N--;){var k=x[N];if(!(h?k in c:n.call(c,k)))return!1}var T=g.get(s),R=g.get(c);if(T&&R)return T==c&&R==s;var M=!0;g.set(s,c),g.set(c,s);for(var O=h;++N<S;){k=x[N];var I=s[k],D=c[k];if(f)var B=h?f(D,I,k,c,s,g):f(I,D,k,s,c,g);if(!(B===void 0?I===D||p(I,D,d,f,g):B)){M=!1;break}O||(O=k=="constructor")}if(M&&!O){var G=s.constructor,X=c.constructor;G!=X&&"constructor"in s&&"constructor"in c&&!(typeof G=="function"&&G instanceof G&&typeof X=="function"&&X instanceof X)&&(M=!1)}return g.delete(s),g.delete(c),M}return O1=a,O1}var T1,lk;function LV(){if(lk)return T1;lk=1;var e=Cf(),t=Hl(),r=e(t,"DataView");return T1=r,T1}var R1,ck;function $V(){if(ck)return R1;ck=1;var e=Cf(),t=Hl(),r=e(t,"Promise");return R1=r,R1}var I1,uk;function gL(){if(uk)return I1;uk=1;var e=Cf(),t=Hl(),r=e(t,"Set");return I1=r,I1}var M1,dk;function FV(){if(dk)return M1;dk=1;var e=Cf(),t=Hl(),r=e(t,"WeakMap");return M1=r,M1}var D1,fk;function BV(){if(fk)return D1;fk=1;var e=LV(),t=bC(),r=$V(),n=gL(),a=FV(),s=eu(),c=I4(),d="[object Map]",f="[object Object]",p="[object Promise]",g="[object Set]",h="[object WeakMap]",x="[object DataView]",S=c(e),P=c(t),j=c(r),N=c(n),k=c(a),T=s;return(e&&T(new e(new ArrayBuffer(1)))!=x||t&&T(new t)!=d||r&&T(r.resolve())!=p||n&&T(new n)!=g||a&&T(new a)!=h)&&(T=function(R){var M=s(R),O=M==f?R.constructor:void 0,I=O?c(O):"";if(I)switch(I){case S:return x;case P:return d;case j:return p;case N:return g;case k:return h}return M}),D1=T,D1}var L1,pk;function qV(){if(pk)return L1;pk=1;var e=sL(),t=uL(),r=wV(),n=DV(),a=BV(),s=zi(),c=fL(),d=mL(),f=1,p="[object Arguments]",g="[object Array]",h="[object Object]",x=Object.prototype,S=x.hasOwnProperty;function P(j,N,k,T,R,M){var O=s(j),I=s(N),D=O?g:a(j),B=I?g:a(N);D=D==p?h:D,B=B==p?h:B;var G=D==h,X=B==h,Y=D==B;if(Y&&c(j)){if(!c(N))return!1;O=!0,G=!1}if(Y&&!G)return M||(M=new e),O||d(j)?t(j,N,k,T,R,M):r(j,N,D,k,T,R,M);if(!(k&f)){var oe=G&&S.call(j,"__wrapped__"),se=X&&S.call(N,"__wrapped__");if(oe||se){var ie=oe?j.value():j,K=se?N.value():N;return M||(M=new e),R(ie,K,k,T,M)}}return Y?(M||(M=new e),n(j,N,k,T,R,M)):!1}return L1=P,L1}var $1,mk;function IC(){if(mk)return $1;mk=1;var e=qV(),t=tu();function r(n,a,s,c,d){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,s,c,r,d)}return $1=r,$1}var F1,hk;function UV(){if(hk)return F1;hk=1;var e=sL(),t=IC(),r=1,n=2;function a(s,c,d,f){var p=d.length,g=p,h=!f;if(s==null)return!g;for(s=Object(s);p--;){var x=d[p];if(h&&x[2]?x[1]!==s[x[0]]:!(x[0]in s))return!1}for(;++p<g;){x=d[p];var S=x[0],P=s[S],j=x[1];if(h&&x[2]){if(P===void 0&&!(S in s))return!1}else{var N=new e;if(f)var k=f(P,j,S,s,c,N);if(!(k===void 0?t(j,P,r|n,f,N):k))return!1}}return!0}return F1=a,F1}var B1,gk;function yL(){if(gk)return B1;gk=1;var e=ed();function t(r){return r===r&&!e(r)}return B1=t,B1}var q1,yk;function zV(){if(yk)return q1;yk=1;var e=yL(),t=pb();function r(n){for(var a=t(n),s=a.length;s--;){var c=a[s],d=n[c];a[s]=[c,d,e(d)]}return a}return q1=r,q1}var U1,vk;function vL(){if(vk)return U1;vk=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return U1=e,U1}var z1,bk;function WV(){if(bk)return z1;bk=1;var e=UV(),t=zV(),r=vL();function n(a){var s=t(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(c){return c===a||e(c,a,s)}}return z1=n,z1}var W1,xk;function HV(){if(xk)return W1;xk=1;function e(t,r){return t!=null&&r in Object(t)}return W1=e,W1}var H1,wk;function VV(){if(wk)return H1;wk=1;var e=L4(),t=OC(),r=zi(),n=TC(),a=RC(),s=ob();function c(d,f,p){f=e(f,d);for(var g=-1,h=f.length,x=!1;++g<h;){var S=s(f[g]);if(!(x=d!=null&&p(d,S)))break;d=d[S]}return x||++g!=h?x:(h=d==null?0:d.length,!!h&&a(h)&&n(S,h)&&(r(d)||t(d)))}return H1=c,H1}var V1,Sk;function GV(){if(Sk)return V1;Sk=1;var e=HV(),t=VV();function r(n,a){return n!=null&&t(n,a,e)}return V1=r,V1}var G1,Nk;function KV(){if(Nk)return G1;Nk=1;var e=IC(),t=$4(),r=GV(),n=gC(),a=yL(),s=vL(),c=ob(),d=1,f=2;function p(g,h){return n(g)&&a(h)?s(c(g),h):function(x){var S=t(x,g);return S===void 0&&S===h?r(x,g):e(h,S,d|f)}}return G1=p,G1}var K1,jk;function Fm(){if(jk)return K1;jk=1;function e(t){return t}return K1=e,K1}var Y1,_k;function YV(){if(_k)return Y1;_k=1;function e(t){return function(r){return r?.[t]}}return Y1=e,Y1}var X1,Ck;function XV(){if(Ck)return X1;Ck=1;var e=SC();function t(r){return function(n){return e(n,r)}}return X1=t,X1}var Q1,Pk;function QV(){if(Pk)return Q1;Pk=1;var e=YV(),t=XV(),r=gC(),n=ob();function a(s){return r(s)?e(n(s)):t(s)}return Q1=a,Q1}var J1,Ak;function td(){if(Ak)return J1;Ak=1;var e=WV(),t=KV(),r=Fm(),n=zi(),a=QV();function s(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?n(c)?t(c[0],c[1]):e(c):a(c)}return J1=s,J1}var Z1,Ek;function bL(){if(Ek)return Z1;Ek=1;function e(t,r,n,a){for(var s=t.length,c=n+(a?1:-1);a?c--:++c<s;)if(r(t[c],c,t))return c;return-1}return Z1=e,Z1}var eS,kk;function JV(){if(kk)return eS;kk=1;function e(t){return t!==t}return eS=e,eS}var tS,Ok;function ZV(){if(Ok)return tS;Ok=1;function e(t,r,n){for(var a=n-1,s=t.length;++a<s;)if(t[a]===r)return a;return-1}return tS=e,tS}var rS,Tk;function eG(){if(Tk)return rS;Tk=1;var e=bL(),t=JV(),r=ZV();function n(a,s,c){return s===s?r(a,s,c):e(a,t,c)}return rS=n,rS}var nS,Rk;function tG(){if(Rk)return nS;Rk=1;var e=eG();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return nS=t,nS}var aS,Ik;function rG(){if(Ik)return aS;Ik=1;function e(t,r,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(n(r,t[a]))return!0;return!1}return aS=e,aS}var iS,Mk;function nG(){if(Mk)return iS;Mk=1;function e(){}return iS=e,iS}var sS,Dk;function aG(){if(Dk)return sS;Dk=1;var e=gL(),t=nG(),r=kC(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return sS=a,sS}var oS,Lk;function iG(){if(Lk)return oS;Lk=1;var e=oL(),t=tG(),r=rG(),n=cL(),a=aG(),s=kC(),c=200;function d(f,p,g){var h=-1,x=t,S=f.length,P=!0,j=[],N=j;if(g)P=!1,x=r;else if(S>=c){var k=p?null:a(f);if(k)return s(k);P=!1,x=n,N=new e}else N=p?[]:j;e:for(;++h<S;){var T=f[h],R=p?p(T):T;if(T=g||T!==0?T:0,P&&R===R){for(var M=N.length;M--;)if(N[M]===R)continue e;p&&N.push(R),j.push(T)}else x(N,R,g)||(N!==j&&N.push(R),j.push(T))}return j}return oS=d,oS}var lS,$k;function sG(){if($k)return lS;$k=1;var e=td(),t=iG();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return lS=r,lS}var oG=sG();const Fk=pr(oG);function xL(e,t,r){return t===!0?Fk(e,r):kt(t)?Fk(e,t):e}function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}var lG=["ref"];function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){mb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SL(n.key),n)}}function uG(e,t,r){return t&&qk(e.prototype,t),r&&qk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dG(e,t,r){return t=Zv(t),fG(e,wL()?Reflect.construct(t,r||[],Zv(e).constructor):t.apply(e,r))}function fG(e,t){if(t&&(mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pG(e)}function pG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wL=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(e)}function mG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xj(e,t)}function xj(e,t){return xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xj(e,t)}function mb(e,t,r){return t=SL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SL(e){var t=hG(e,"string");return mm(t)=="symbol"?t:t+""}function hG(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gG(e,t){if(e==null)return{};var r=yG(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vG(e){return e.value}function bG(e,t){if(te.isValidElement(e))return te.cloneElement(e,t);if(typeof e=="function")return te.createElement(e,t);t.ref;var r=gG(t,lG);return te.createElement(EC,r)}var Uk=1,rm=(function(e){function t(){var r;cG(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=dG(this,t,[].concat(a)),mb(r,"lastBoundingBox",{width:-1,height:-1}),r}return mG(t,e),uG(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Uk||Math.abs(a.height-this.lastBoundingBox.height)>Uk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Lc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,c=a.align,d=a.verticalAlign,f=a.margin,p=a.chartWidth,g=a.chartHeight,h,x;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(c==="center"&&s==="vertical"){var S=this.getBBoxSnapshot();h={left:((p||0)-S.width)/2}}else h=c==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(d==="middle"){var P=this.getBBoxSnapshot();x={top:((g||0)-P.height)/2}}else x=d==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return Lc(Lc({},h),x)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,c=a.width,d=a.height,f=a.wrapperStyle,p=a.payloadUniqBy,g=a.payload,h=Lc(Lc({position:"absolute",width:c||"auto",height:d||"auto"},this.getDefaultPosition(f)),f);return te.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(S){n.wrapperNode=S}},bG(s,Lc(Lc({},this.props),{},{payload:xL(g,p,vG)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Lc(Lc({},this.defaultProps),n.props),c=s.layout;return c==="vertical"&&qe(n.props.height)?{height:n.props.height}:c==="horizontal"?{width:n.props.width||a}:null}}])})(y.PureComponent);mb(rm,"displayName","Legend");mb(rm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cS,zk;function xG(){if(zk)return cS;zk=1;var e=my(),t=OC(),r=zi(),n=e?e.isConcatSpreadable:void 0;function a(s){return r(s)||t(s)||!!(n&&s&&s[n])}return cS=a,cS}var uS,Wk;function NL(){if(Wk)return uS;Wk=1;var e=dL(),t=xG();function r(n,a,s,c,d){var f=-1,p=n.length;for(s||(s=t),d||(d=[]);++f<p;){var g=n[f];a>0&&s(g)?a>1?r(g,a-1,s,c,d):e(d,g):c||(d[d.length]=g)}return d}return uS=r,uS}var dS,Hk;function wG(){if(Hk)return dS;Hk=1;function e(t){return function(r,n,a){for(var s=-1,c=Object(r),d=a(r),f=d.length;f--;){var p=d[t?f:++s];if(n(c[p],p,c)===!1)break}return r}}return dS=e,dS}var fS,Vk;function SG(){if(Vk)return fS;Vk=1;var e=wG(),t=e();return fS=t,fS}var pS,Gk;function jL(){if(Gk)return pS;Gk=1;var e=SG(),t=pb();function r(n,a){return n&&e(n,a,t)}return pS=r,pS}var mS,Kk;function NG(){if(Kk)return mS;Kk=1;var e=gy();function t(r,n){return function(a,s){if(a==null)return a;if(!e(a))return r(a,s);for(var c=a.length,d=n?c:-1,f=Object(a);(n?d--:++d<c)&&s(f[d],d,f)!==!1;);return a}}return mS=t,mS}var hS,Yk;function MC(){if(Yk)return hS;Yk=1;var e=jL(),t=NG(),r=t(e);return hS=r,hS}var gS,Xk;function _L(){if(Xk)return gS;Xk=1;var e=MC(),t=gy();function r(n,a){var s=-1,c=t(n)?Array(n.length):[];return e(n,function(d,f,p){c[++s]=a(d,f,p)}),c}return gS=r,gS}var yS,Qk;function jG(){if(Qk)return yS;Qk=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return yS=e,yS}var vS,Jk;function _G(){if(Jk)return vS;Jk=1;var e=Lm();function t(r,n){if(r!==n){var a=r!==void 0,s=r===null,c=r===r,d=e(r),f=n!==void 0,p=n===null,g=n===n,h=e(n);if(!p&&!h&&!d&&r>n||d&&f&&g&&!p&&!h||s&&f&&g||!a&&g||!c)return 1;if(!s&&!d&&!h&&r<n||h&&a&&c&&!s&&!d||p&&a&&c||!f&&c||!g)return-1}return 0}return vS=t,vS}var bS,Zk;function CG(){if(Zk)return bS;Zk=1;var e=_G();function t(r,n,a){for(var s=-1,c=r.criteria,d=n.criteria,f=c.length,p=a.length;++s<f;){var g=e(c[s],d[s]);if(g){if(s>=p)return g;var h=a[s];return g*(h=="desc"?-1:1)}}return r.index-n.index}return bS=t,bS}var xS,eO;function PG(){if(eO)return xS;eO=1;var e=wC(),t=SC(),r=td(),n=_L(),a=jG(),s=pL(),c=CG(),d=Fm(),f=zi();function p(g,h,x){h.length?h=e(h,function(j){return f(j)?function(N){return t(N,j.length===1?j[0]:j)}:j}):h=[d];var S=-1;h=e(h,s(r));var P=n(g,function(j,N,k){var T=e(h,function(R){return R(j)});return{criteria:T,index:++S,value:j}});return a(P,function(j,N){return c(j,N,x)})}return xS=p,xS}var wS,tO;function AG(){if(tO)return wS;tO=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return wS=e,wS}var SS,rO;function EG(){if(rO)return SS;rO=1;var e=AG(),t=Math.max;function r(n,a,s){return a=t(a===void 0?n.length-1:a,0),function(){for(var c=arguments,d=-1,f=t(c.length-a,0),p=Array(f);++d<f;)p[d]=c[a+d];d=-1;for(var g=Array(a+1);++d<a;)g[d]=c[d];return g[a]=s(p),e(n,this,g)}}return SS=r,SS}var NS,nO;function kG(){if(nO)return NS;nO=1;function e(t){return function(){return t}}return NS=e,NS}var jS,aO;function CL(){if(aO)return jS;aO=1;var e=Cf(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return jS=t,jS}var _S,iO;function OG(){if(iO)return _S;iO=1;var e=kG(),t=CL(),r=Fm(),n=t?function(a,s){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return _S=n,_S}var CS,sO;function TG(){if(sO)return CS;sO=1;var e=800,t=16,r=Date.now;function n(a){var s=0,c=0;return function(){var d=r(),f=t-(d-c);if(c=d,f>0){if(++s>=e)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return CS=n,CS}var PS,oO;function RG(){if(oO)return PS;oO=1;var e=OG(),t=TG(),r=t(e);return PS=r,PS}var AS,lO;function IG(){if(lO)return AS;lO=1;var e=Fm(),t=EG(),r=RG();function n(a,s){return r(t(a,s,e),a+"")}return AS=n,AS}var ES,cO;function hb(){if(cO)return ES;cO=1;var e=vC(),t=gy(),r=TC(),n=ed();function a(s,c,d){if(!n(d))return!1;var f=typeof c;return(f=="number"?t(d)&&r(c,d.length):f=="string"&&c in d)?e(d[c],s):!1}return ES=a,ES}var kS,uO;function MG(){if(uO)return kS;uO=1;var e=NL(),t=PG(),r=IG(),n=hb(),a=r(function(s,c){if(s==null)return[];var d=c.length;return d>1&&n(s,c[0],c[1])?c=[]:d>2&&n(c[0],c[1],c[2])&&(c=[c[0]]),t(s,e(c,1),[])});return kS=a,kS}var DG=MG();const DC=pr(DG);function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function wj(){return wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wj.apply(this,arguments)}function LG(e,t){return qG(e)||BG(e,t)||FG(e,t)||$G()}function $G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FG(e,t){if(e){if(typeof e=="string")return dO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dO(e,t)}}function dO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,d=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(d.push(n.value),d.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return d}}function qG(e){if(Array.isArray(e))return e}function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){UG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UG(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=WG(e,"string");return Cg(t)=="symbol"?t:t+""}function WG(e,t){if(Cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HG(e){return Array.isArray(e)&&Un(e[0])&&Un(e[1])?e.join(" ~ "):e}var VG=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,c=t.itemStyle,d=c===void 0?{}:c,f=t.labelStyle,p=f===void 0?{}:f,g=t.payload,h=t.formatter,x=t.itemSorter,S=t.wrapperClassName,P=t.labelClassName,j=t.label,N=t.labelFormatter,k=t.accessibilityLayer,T=k===void 0?!1:k,R=function(){if(g&&g.length){var oe={padding:0,margin:0},se=(x?DC(g,x):g).map(function(ie,K){if(ie.type==="none")return null;var ne=OS({display:"block",paddingTop:4,paddingBottom:4,color:ie.color||"#000"},d),ee=ie.formatter||h||HG,z=ie.value,fe=ie.name,pe=z,q=fe;if(ee&&pe!=null&&q!=null){var J=ee(z,fe,ie,K,g);if(Array.isArray(J)){var de=LG(J,2);pe=de[0],q=de[1]}else pe=J}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:ne},Un(q)?te.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Un(q)?te.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,te.createElement("span",{className:"recharts-tooltip-item-value"},pe),te.createElement("span",{className:"recharts-tooltip-item-unit"},ie.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:oe},se)}return null},M=OS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),O=OS({margin:0},p),I=!Jt(j),D=I?j:"",B=ht("recharts-default-tooltip",S),G=ht("recharts-tooltip-label",P);I&&N&&g!==void 0&&g!==null&&(D=N(j,g));var X=T?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",wj({className:B,style:M},X),te.createElement("p",{className:G,style:O},te.isValidElement(D)?D:"".concat(D)),R())};function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function uv(e,t,r){return t=GG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=KG(e,"string");return Pg(t)=="symbol"?t:t+""}function KG(e,t){if(Pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yh="recharts-tooltip-wrapper",YG={visibility:"hidden"};function XG(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ht(Yh,uv(uv(uv(uv({},"".concat(Yh,"-right"),qe(r)&&t&&qe(t.x)&&r>=t.x),"".concat(Yh,"-left"),qe(r)&&t&&qe(t.x)&&r<t.x),"".concat(Yh,"-bottom"),qe(n)&&t&&qe(t.y)&&n>=t.y),"".concat(Yh,"-top"),qe(n)&&t&&qe(t.y)&&n<t.y))}function pO(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,c=e.reverseDirection,d=e.tooltipDimension,f=e.viewBox,p=e.viewBoxDimension;if(s&&qe(s[n]))return s[n];var g=r[n]-d-a,h=r[n]+a;if(t[n])return c[n]?g:h;if(c[n]){var x=g,S=f[n];return x<S?Math.max(h,f[n]):Math.max(g,f[n])}var P=h+d,j=f[n]+p;return P>j?Math.max(g,f[n]):Math.max(h,f[n])}function QG(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function JG(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,c=e.tooltipBox,d=e.useTranslate3d,f=e.viewBox,p,g,h;return c.height>0&&c.width>0&&r?(g=pO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),h=pO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),p=QG({translateX:g,translateY:h,useTranslate3d:d})):p=YG,{cssProperties:p,cssClasses:XG({translateX:g,translateY:h,coordinate:r})}}function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){Nj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AL(n.key),n)}}function tK(e,t,r){return t&&eK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rK(e,t,r){return t=e0(t),nK(e,PL()?Reflect.construct(t,r||[],e0(e).constructor):t.apply(e,r))}function nK(e,t){if(t&&(hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aK(e)}function aK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PL=function(){return!!e})()}function e0(e){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e0(e)}function iK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sj(e,t)}function Sj(e,t){return Sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sj(e,t)}function Nj(e,t,r){return t=AL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AL(e){var t=sK(e,"string");return hm(t)=="symbol"?t:t+""}function sK(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gO=1,oK=(function(e){function t(){var r;ZG(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=rK(this,t,[].concat(a)),Nj(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Nj(r,"handleKeyDown",function(c){if(c.key==="Escape"){var d,f,p,g;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(d=(f=r.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&d!==void 0?d:0,y:(p=(g=r.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&p!==void 0?p:0}})}}),r}return iK(t,e),tK(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>gO||Math.abs(n.height-this.state.lastBoundingBox.height)>gO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,c=a.allowEscapeViewBox,d=a.animationDuration,f=a.animationEasing,p=a.children,g=a.coordinate,h=a.hasPayload,x=a.isAnimationActive,S=a.offset,P=a.position,j=a.reverseDirection,N=a.useTranslate3d,k=a.viewBox,T=a.wrapperStyle,R=JG({allowEscapeViewBox:c,coordinate:g,offsetTopLeft:S,position:P,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:N,viewBox:k}),M=R.cssClasses,O=R.cssProperties,I=hO(hO({transition:x&&s?"transform ".concat(d,"ms ").concat(f):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},T);return te.createElement("div",{tabIndex:-1,className:M,style:I,ref:function(B){n.wrapperNode=B}},p)}}])})(y.PureComponent),lK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},yy={isSsr:lK()};function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){LC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kL(n.key),n)}}function dK(e,t,r){return t&&uK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fK(e,t,r){return t=t0(t),pK(e,EL()?Reflect.construct(t,r||[],t0(e).constructor):t.apply(e,r))}function pK(e,t){if(t&&(gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mK(e)}function mK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EL=function(){return!!e})()}function t0(e){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t0(e)}function hK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jj(e,t)}function jj(e,t){return jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jj(e,t)}function LC(e,t,r){return t=kL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kL(e){var t=gK(e,"string");return gm(t)=="symbol"?t:t+""}function gK(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function yK(e){return e.dataKey}function vK(e,t){return te.isValidElement(e)?te.cloneElement(e,t):typeof e=="function"?te.createElement(e,t):te.createElement(VG,t)}var Pl=(function(e){function t(){return cK(this,t),fK(this,t,arguments)}return hK(t,e),dK(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,c=a.allowEscapeViewBox,d=a.animationDuration,f=a.animationEasing,p=a.content,g=a.coordinate,h=a.filterNull,x=a.isAnimationActive,S=a.offset,P=a.payload,j=a.payloadUniqBy,N=a.position,k=a.reverseDirection,T=a.useTranslate3d,R=a.viewBox,M=a.wrapperStyle,O=P??[];h&&O.length&&(O=xL(P.filter(function(D){return D.value!=null&&(D.hide!==!0||n.props.includeHidden)}),j,yK));var I=O.length>0;return te.createElement(oK,{allowEscapeViewBox:c,animationDuration:d,animationEasing:f,isAnimationActive:x,active:s,coordinate:g,hasPayload:I,offset:S,position:N,reverseDirection:k,useTranslate3d:T,viewBox:R,wrapperStyle:M},vK(p,vO(vO({},this.props),{},{payload:O})))}}])})(y.PureComponent);LC(Pl,"displayName","Tooltip");LC(Pl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yy.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var TS,bO;function bK(){if(bO)return TS;bO=1;var e=Hl(),t=function(){return e.Date.now()};return TS=t,TS}var RS,xO;function xK(){if(xO)return RS;xO=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return RS=t,RS}var IS,wO;function wK(){if(wO)return IS;wO=1;var e=xK(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return IS=r,IS}var MS,SO;function OL(){if(SO)return MS;SO=1;var e=wK(),t=ed(),r=Lm(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function f(p){if(typeof p=="number")return p;if(r(p))return n;if(t(p)){var g=typeof p.valueOf=="function"?p.valueOf():p;p=t(g)?g+"":g}if(typeof p!="string")return p===0?p:+p;p=e(p);var h=s.test(p);return h||c.test(p)?d(p.slice(2),h?2:8):a.test(p)?n:+p}return MS=f,MS}var DS,NO;function SK(){if(NO)return DS;NO=1;var e=ed(),t=bK(),r=OL(),n="Expected a function",a=Math.max,s=Math.min;function c(d,f,p){var g,h,x,S,P,j,N=0,k=!1,T=!1,R=!0;if(typeof d!="function")throw new TypeError(n);f=r(f)||0,e(p)&&(k=!!p.leading,T="maxWait"in p,x=T?a(r(p.maxWait)||0,f):x,R="trailing"in p?!!p.trailing:R);function M(se){var ie=g,K=h;return g=h=void 0,N=se,S=d.apply(K,ie),S}function O(se){return N=se,P=setTimeout(B,f),k?M(se):S}function I(se){var ie=se-j,K=se-N,ne=f-ie;return T?s(ne,x-K):ne}function D(se){var ie=se-j,K=se-N;return j===void 0||ie>=f||ie<0||T&&K>=x}function B(){var se=t();if(D(se))return G(se);P=setTimeout(B,I(se))}function G(se){return P=void 0,R&&g?M(se):(g=h=void 0,S)}function X(){P!==void 0&&clearTimeout(P),N=0,g=j=h=P=void 0}function Y(){return P===void 0?S:G(t())}function oe(){var se=t(),ie=D(se);if(g=arguments,h=this,j=se,ie){if(P===void 0)return O(j);if(T)return clearTimeout(P),P=setTimeout(B,f),M(j)}return P===void 0&&(P=setTimeout(B,f)),S}return oe.cancel=X,oe.flush=Y,oe}return DS=c,DS}var LS,jO;function NK(){if(jO)return LS;jO=1;var e=SK(),t=ed(),r="Expected a function";function n(a,s,c){var d=!0,f=!0;if(typeof a!="function")throw new TypeError(r);return t(c)&&(d="leading"in c?!!c.leading:d,f="trailing"in c?!!c.trailing:f),e(a,s,{leading:d,maxWait:s,trailing:f})}return LS=n,LS}var jK=NK();const TL=pr(jK);function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){_K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _K(e,t,r){return t=CK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=PK(e,"string");return Ag(t)=="symbol"?t:t+""}function PK(e,t){if(Ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AK(e,t){return TK(e)||OK(e,t)||kK(e,t)||EK()}function EK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kK(e,t){if(e){if(typeof e=="string")return CO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CO(e,t)}}function CO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,d=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(d.push(n.value),d.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return d}}function TK(e){if(Array.isArray(e))return e}var RK=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,c=s===void 0?"100%":s,d=e.height,f=d===void 0?"100%":d,p=e.minWidth,g=p===void 0?0:p,h=e.minHeight,x=e.maxHeight,S=e.children,P=e.debounce,j=P===void 0?0:P,N=e.id,k=e.className,T=e.onResize,R=e.style,M=R===void 0?{}:R,O=y.useRef(null),I=y.useRef();I.current=T,y.useImperativeHandle(t,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var D=y.useState({containerWidth:a.width,containerHeight:a.height}),B=AK(D,2),G=B[0],X=B[1],Y=y.useCallback(function(se,ie){X(function(K){var ne=Math.round(se),ee=Math.round(ie);return K.containerWidth===ne&&K.containerHeight===ee?K:{containerWidth:ne,containerHeight:ee}})},[]);y.useEffect(function(){var se=function(fe){var pe,q=fe[0].contentRect,J=q.width,de=q.height;Y(J,de),(pe=I.current)===null||pe===void 0||pe.call(I,J,de)};j>0&&(se=TL(se,j,{trailing:!0,leading:!1}));var ie=new ResizeObserver(se),K=O.current.getBoundingClientRect(),ne=K.width,ee=K.height;return Y(ne,ee),ie.observe(O.current),function(){ie.disconnect()}},[Y,j]);var oe=y.useMemo(function(){var se=G.containerWidth,ie=G.containerHeight;if(se<0||ie<0)return null;Gc(lf(c)||lf(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,f),Gc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var K=lf(c)?se:c,ne=lf(f)?ie:f;r&&r>0&&(K?ne=K/r:ne&&(K=ne*r),x&&ne>x&&(ne=x)),Gc(K>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,ne,c,f,g,h,r);var ee=!Array.isArray(S)&&Vc(S.type).endsWith("Chart");return te.Children.map(S,function(z){return te.isValidElement(z)?y.cloneElement(z,dv({width:K,height:ne},ee?{style:dv({height:"100%",width:"100%",maxHeight:ne,maxWidth:K},z.props.style)}:{})):z})},[r,S,f,x,h,g,G,c]);return te.createElement("div",{id:N?"".concat(N):void 0,className:ht("recharts-responsive-container",k),style:dv(dv({},M),{},{width:c,height:f,minWidth:g,minHeight:h,maxHeight:x}),ref:O},oe)}),RL=function(t){return null};RL.displayName="Cell";function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){IK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IK(e,t,r){return t=MK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=DK(e,"string");return Eg(t)=="symbol"?t:t+""}function DK(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wp={widthCache:{},cacheCount:0},LK=2e3,$K={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AO="recharts_measurement_span";function FK(e){var t=_j({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var pg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||yy.isSsr)return{width:0,height:0};var n=FK(r),a=JSON.stringify({text:t,copyStyle:n});if(Wp.widthCache[a])return Wp.widthCache[a];try{var s=document.getElementById(AO);s||(s=document.createElement("span"),s.setAttribute("id",AO),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=_j(_j({},$K),n);Object.assign(s.style,c),s.textContent="".concat(t);var d=s.getBoundingClientRect(),f={width:d.width,height:d.height};return Wp.widthCache[a]=f,++Wp.cacheCount>LK&&(Wp.cacheCount=0,Wp.widthCache={}),f}catch{return{width:0,height:0}}},BK=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function r0(e,t){return WK(e)||zK(e,t)||UK(e,t)||qK()}function qK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(e,t){if(e){if(typeof e=="string")return EO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(e,t)}}function EO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,d=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=s.call(r)).done)&&(d.push(n.value),d.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return d}}function WK(e){if(Array.isArray(e))return e}function HK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GK(n.key),n)}}function VK(e,t,r){return t&&kO(e.prototype,t),r&&kO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GK(e){var t=KK(e,"string");return kg(t)=="symbol"?t:t+""}function KK(e,t){if(kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var OO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QK=Object.keys(IL),Yp="NaN";function JK(e,t){return e*IL[t]}var fv=(function(){function e(t,r){HK(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!YK.test(r)&&(this.num=NaN,this.unit=""),QK.includes(r)&&(this.num=JK(t,r),this.unit="px")}return VK(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=XK.exec(r))!==null&&n!==void 0?n:[],s=r0(a,3),c=s[1],d=s[2];return new e(parseFloat(c),d??"")}}])})();function ML(e){if(e.includes(Yp))return Yp;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=OO.exec(t))!==null&&r!==void 0?r:[],a=r0(n,4),s=a[1],c=a[2],d=a[3],f=fv.parse(s??""),p=fv.parse(d??""),g=c==="*"?f.multiply(p):f.divide(p);if(g.isNaN())return Yp;t=t.replace(OO,g.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,x=(h=TO.exec(t))!==null&&h!==void 0?h:[],S=r0(x,4),P=S[1],j=S[2],N=S[3],k=fv.parse(P??""),T=fv.parse(N??""),R=j==="+"?k.add(T):k.subtract(T);if(R.isNaN())return Yp;t=t.replace(TO,R.toString())}return t}var RO=/\(([^()]*)\)/;function ZK(e){for(var t=e;t.includes("(");){var r=RO.exec(t),n=r0(r,2),a=n[1];t=t.replace(RO,ML(a))}return t}function eY(e){var t=e.replace(/\s+/g,"");return t=ZK(t),t=ML(t),t}function tY(e){try{return eY(e)}catch{return Yp}}function $S(e){var t=tY(e.slice(5,-1));return t===Yp?"":t}var rY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nY=["dx","dy","angle","className","breakAll"];function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cj.apply(this,arguments)}function IO(e,t){if(e==null)return{};var r=aY(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MO(e,t){return lY(e)||oY(e,t)||sY(e,t)||iY()}function iY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sY(e,t){if(e){if(typeof e=="string")return DO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(e,t)}}function DO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,d=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=s.call(r)).done)&&(d.push(n.value),d.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return d}}function lY(e){if(Array.isArray(e))return e}var DL=/[ \f\n\r\t\v\u2028\u2029]+/,LL=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Jt(r)||(n?s=r.toString().split(""):s=r.toString().split(DL));var c=s.map(function(f){return{word:f,width:pg(f,a).width}}),d=n?0:pg("",a).width;return{wordsWithComputedWidth:c,spaceWidth:d}}catch{return null}},cY=function(t,r,n,a,s){var c=t.maxLines,d=t.children,f=t.style,p=t.breakAll,g=qe(c),h=d,x=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(ne,ee){var z=ee.word,fe=ee.width,pe=ne[ne.length-1];if(pe&&(a==null||s||pe.width+fe+n<Number(a)))pe.words.push(z),pe.width+=fe+n;else{var q={words:[z],width:fe};ne.push(q)}return ne},[])},S=x(r),P=function(K){return K.reduce(function(ne,ee){return ne.width>ee.width?ne:ee})};if(!g)return S;for(var j="",N=function(K){var ne=h.slice(0,K),ee=LL({breakAll:p,style:f,children:ne+j}).wordsWithComputedWidth,z=x(ee),fe=z.length>c||P(z).width>Number(a);return[fe,z]},k=0,T=h.length-1,R=0,M;k<=T&&R<=h.length-1;){var O=Math.floor((k+T)/2),I=O-1,D=N(I),B=MO(D,2),G=B[0],X=B[1],Y=N(O),oe=MO(Y,1),se=oe[0];if(!G&&!se&&(k=O+1),G&&se&&(T=O-1),!G&&se){M=X;break}R++}return M||S},LO=function(t){var r=Jt(t)?[]:t.toString().split(DL);return[{words:r}]},uY=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,c=t.breakAll,d=t.maxLines;if((r||n)&&!yy.isSsr){var f,p,g=LL({breakAll:c,children:a,style:s});if(g){var h=g.wordsWithComputedWidth,x=g.spaceWidth;f=h,p=x}else return LO(a);return cY({breakAll:c,children:a,maxLines:d,style:s},f,p,r,n)}return LO(a)},$O="#808080",n0=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,c=t.lineHeight,d=c===void 0?"1em":c,f=t.capHeight,p=f===void 0?"0.71em":f,g=t.scaleToFit,h=g===void 0?!1:g,x=t.textAnchor,S=x===void 0?"start":x,P=t.verticalAnchor,j=P===void 0?"end":P,N=t.fill,k=N===void 0?$O:N,T=IO(t,rY),R=y.useMemo(function(){return uY({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:h,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,h,T.style,T.width]),M=T.dx,O=T.dy,I=T.angle,D=T.className,B=T.breakAll,G=IO(T,nY);if(!Un(n)||!Un(s))return null;var X=n+(qe(M)?M:0),Y=s+(qe(O)?O:0),oe;switch(j){case"start":oe=$S("calc(".concat(p,")"));break;case"middle":oe=$S("calc(".concat((R.length-1)/2," * -").concat(d," + (").concat(p," / 2))"));break;default:oe=$S("calc(".concat(R.length-1," * -").concat(d,")"));break}var se=[];if(h){var ie=R[0].width,K=T.width;se.push("scale(".concat((qe(K)?K/ie:1)/ie,")"))}return I&&se.push("rotate(".concat(I,", ").concat(X,", ").concat(Y,")")),se.length&&(G.transform=se.join(" ")),te.createElement("text",Cj({},Qt(G,!0),{x:X,y:Y,className:ht("recharts-text",D),textAnchor:S,fill:k.includes("url")?$O:k}),R.map(function(ne,ee){var z=ne.words.join(B?"":" ");return te.createElement("tspan",{x:X,dy:ee===0?oe:d,key:"".concat(z,"-").concat(ee)},z)}))};function Gu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $C(e){let t,r,n;e.length!==2?(t=Gu,r=(d,f)=>Gu(e(d),f),n=(d,f)=>e(d)-f):(t=e===Gu||e===dY?e:fY,r=e,n=e);function a(d,f,p=0,g=d.length){if(p<g){if(t(f,f)!==0)return g;do{const h=p+g>>>1;r(d[h],f)<0?p=h+1:g=h}while(p<g)}return p}function s(d,f,p=0,g=d.length){if(p<g){if(t(f,f)!==0)return g;do{const h=p+g>>>1;r(d[h],f)<=0?p=h+1:g=h}while(p<g)}return p}function c(d,f,p=0,g=d.length){const h=a(d,f,p,g-1);return h>p&&n(d[h-1],f)>-n(d[h],f)?h-1:h}return{left:a,center:c,right:s}}function fY(){return 0}function $L(e){return e===null?NaN:+e}function*pY(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const mY=$C(Gu),vy=mY.right;$C($L).center;class FO extends Map{constructor(t,r=yY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(BO(this,t))}has(t){return super.has(BO(this,t))}set(t,r){return super.set(hY(this,t),r)}delete(t){return super.delete(gY(this,t))}}function BO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hY({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function gY({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function yY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vY(e=Gu){if(e===Gu)return FL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function FL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bY=Math.sqrt(50),xY=Math.sqrt(10),wY=Math.sqrt(2);function a0(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),c=s>=bY?10:s>=xY?5:s>=wY?2:1;let d,f,p;return a<0?(p=Math.pow(10,-a)/c,d=Math.round(e*p),f=Math.round(t*p),d/p<e&&++d,f/p>t&&--f,p=-p):(p=Math.pow(10,a)*c,d=Math.round(e/p),f=Math.round(t/p),d*p<e&&++d,f*p>t&&--f),f<d&&.5<=r&&r<2?a0(e,t,r*2):[d,f,p]}function Pj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,c]=n?a0(t,e,r):a0(e,t,r);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(n)if(c<0)for(let p=0;p<d;++p)f[p]=(s-p)/-c;else for(let p=0;p<d;++p)f[p]=(s-p)*c;else if(c<0)for(let p=0;p<d;++p)f[p]=(a+p)/-c;else for(let p=0;p<d;++p)f[p]=(a+p)*c;return f}function Aj(e,t,r){return t=+t,e=+e,r=+r,a0(e,t,r)[2]}function Ej(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Aj(t,e,r):Aj(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function qO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function UO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function BL(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?FL:vY(a);n>r;){if(n-r>600){const f=n-r+1,p=t-r+1,g=Math.log(f),h=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*h*(f-h)/f)*(p-f/2<0?-1:1),S=Math.max(r,Math.floor(t-p*h/f+x)),P=Math.min(n,Math.floor(t+(f-p)*h/f+x));BL(e,t,S,P,a)}const s=e[t];let c=r,d=n;for(Xh(e,r,t),a(e[n],s)>0&&Xh(e,r,n);c<d;){for(Xh(e,c,d),++c,--d;a(e[c],s)<0;)++c;for(;a(e[d],s)>0;)--d}a(e[r],s)===0?Xh(e,r,d):(++d,Xh(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function Xh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function SY(e,t,r){if(e=Float64Array.from(pY(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return UO(e);if(t>=1)return qO(e);var n,a=(n-1)*t,s=Math.floor(a),c=qO(BL(e,s).subarray(0,s+1)),d=UO(e.subarray(s+1));return c+(d-c)*(a-s)}}function NY(e,t,r=$L){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),c=+r(e[s],s,e),d=+r(e[s+1],s+1,e);return c+(d-c)*(a-s)}}function jY(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function no(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ru(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kj=Symbol("implicit");function FC(){var e=new FO,t=[],r=[],n=kj;function a(s){let c=e.get(s);if(c===void 0){if(n!==kj)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new FO;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return FC(t,r).unknown(n)},no.apply(a,arguments),a}function Og(){var e=FC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,c,d=!1,f=0,p=0,g=.5;delete e.unknown;function h(){var x=t().length,S=a<n,P=S?a:n,j=S?n:a;s=(j-P)/Math.max(1,x-f+p*2),d&&(s=Math.floor(s)),P+=(j-P-s*(x-f))*g,c=s*(1-f),d&&(P=Math.round(P),c=Math.round(c));var N=jY(x).map(function(k){return P+s*k});return r(S?N.reverse():N)}return e.domain=function(x){return arguments.length?(t(x),h()):t()},e.range=function(x){return arguments.length?([n,a]=x,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(x){return[n,a]=x,n=+n,a=+a,d=!0,h()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(x){return arguments.length?(d=!!x,h()):d},e.padding=function(x){return arguments.length?(f=Math.min(1,p=+x),h()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),h()):f},e.paddingOuter=function(x){return arguments.length?(p=+x,h()):p},e.align=function(x){return arguments.length?(g=Math.max(0,Math.min(1,x)),h()):g},e.copy=function(){return Og(t(),[n,a]).round(d).paddingInner(f).paddingOuter(p).align(g)},no.apply(h(),arguments)}function qL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qL(t())},e}function mg(){return qL(Og.apply(null,arguments).paddingInner(1))}function BC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function UL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function by(){}var Tg=.7,i0=1/Tg,nm="\\s*([+-]?\\d+)\\s*",Rg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_Y=/^#([0-9a-f]{3,8})$/,CY=new RegExp(`^rgb\\(${nm},${nm},${nm}\\)$`),PY=new RegExp(`^rgb\\(${$l},${$l},${$l}\\)$`),AY=new RegExp(`^rgba\\(${nm},${nm},${nm},${Rg}\\)$`),EY=new RegExp(`^rgba\\(${$l},${$l},${$l},${Rg}\\)$`),kY=new RegExp(`^hsl\\(${Rg},${$l},${$l}\\)$`),OY=new RegExp(`^hsla\\(${Rg},${$l},${$l},${Rg}\\)$`),zO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BC(by,Ig,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WO,formatHex:WO,formatHex8:TY,formatHsl:RY,formatRgb:HO,toString:HO});function WO(){return this.rgb().formatHex()}function TY(){return this.rgb().formatHex8()}function RY(){return zL(this).formatHsl()}function HO(){return this.rgb().formatRgb()}function Ig(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_Y.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?VO(t):r===3?new qi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?pv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?pv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CY.exec(e))?new qi(t[1],t[2],t[3],1):(t=PY.exec(e))?new qi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AY.exec(e))?pv(t[1],t[2],t[3],t[4]):(t=EY.exec(e))?pv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=kY.exec(e))?YO(t[1],t[2]/100,t[3]/100,1):(t=OY.exec(e))?YO(t[1],t[2]/100,t[3]/100,t[4]):zO.hasOwnProperty(e)?VO(zO[e]):e==="transparent"?new qi(NaN,NaN,NaN,0):null}function VO(e){return new qi(e>>16&255,e>>8&255,e&255,1)}function pv(e,t,r,n){return n<=0&&(e=t=r=NaN),new qi(e,t,r,n)}function IY(e){return e instanceof by||(e=Ig(e)),e?(e=e.rgb(),new qi(e.r,e.g,e.b,e.opacity)):new qi}function Oj(e,t,r,n){return arguments.length===1?IY(e):new qi(e,t,r,n??1)}function qi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}BC(qi,Oj,UL(by,{brighter(e){return e=e==null?i0:Math.pow(i0,e),new qi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tg:Math.pow(Tg,e),new qi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qi(pf(this.r),pf(this.g),pf(this.b),s0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GO,formatHex:GO,formatHex8:MY,formatRgb:KO,toString:KO}));function GO(){return`#${cf(this.r)}${cf(this.g)}${cf(this.b)}`}function MY(){return`#${cf(this.r)}${cf(this.g)}${cf(this.b)}${cf((isNaN(this.opacity)?1:this.opacity)*255)}`}function KO(){const e=s0(this.opacity);return`${e===1?"rgb(":"rgba("}${pf(this.r)}, ${pf(this.g)}, ${pf(this.b)}${e===1?")":`, ${e})`}`}function s0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cf(e){return e=pf(e),(e<16?"0":"")+e.toString(16)}function YO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Fo(e,t,r,n)}function zL(e){if(e instanceof Fo)return new Fo(e.h,e.s,e.l,e.opacity);if(e instanceof by||(e=Ig(e)),!e)return new Fo;if(e instanceof Fo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,d=s-a,f=(s+a)/2;return d?(t===s?c=(r-n)/d+(r<n)*6:r===s?c=(n-t)/d+2:c=(t-r)/d+4,d/=f<.5?s+a:2-s-a,c*=60):d=f>0&&f<1?0:c,new Fo(c,d,f,e.opacity)}function DY(e,t,r,n){return arguments.length===1?zL(e):new Fo(e,t,r,n??1)}function Fo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}BC(Fo,DY,UL(by,{brighter(e){return e=e==null?i0:Math.pow(i0,e),new Fo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tg:Math.pow(Tg,e),new Fo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new qi(FS(e>=240?e-240:e+120,a,n),FS(e,a,n),FS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Fo(XO(this.h),mv(this.s),mv(this.l),s0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=s0(this.opacity);return`${e===1?"hsl(":"hsla("}${XO(this.h)}, ${mv(this.s)*100}%, ${mv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XO(e){return e=(e||0)%360,e<0?e+360:e}function mv(e){return Math.max(0,Math.min(1,e||0))}function FS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const qC=e=>()=>e;function LY(e,t){return function(r){return e+r*t}}function $Y(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function FY(e){return(e=+e)==1?WL:function(t,r){return r-t?$Y(t,r,e):qC(isNaN(t)?r:t)}}function WL(e,t){var r=t-e;return r?LY(e,r):qC(isNaN(e)?t:e)}const QO=(function e(t){var r=FY(t);function n(a,s){var c=r((a=Oj(a)).r,(s=Oj(s)).r),d=r(a.g,s.g),f=r(a.b,s.b),p=WL(a.opacity,s.opacity);return function(g){return a.r=c(g),a.g=d(g),a.b=f(g),a.opacity=p(g),a+""}}return n.gamma=e,n})(1);function BY(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function qY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function UY(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)a[c]=Bm(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(d){for(c=0;c<n;++c)s[c]=a[c](d);return s}}function zY(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function o0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function WY(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Bm(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Tj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,BS=new RegExp(Tj.source,"g");function HY(e){return function(){return e}}function VY(e){return function(t){return e(t)+""}}function GY(e,t){var r=Tj.lastIndex=BS.lastIndex=0,n,a,s,c=-1,d=[],f=[];for(e=e+"",t=t+"";(n=Tj.exec(e))&&(a=BS.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),d[c]?d[c]+=s:d[++c]=s),(n=n[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,f.push({i:c,x:o0(n,a)})),r=BS.lastIndex;return r<t.length&&(s=t.slice(r),d[c]?d[c]+=s:d[++c]=s),d.length<2?f[0]?VY(f[0].x):HY(t):(t=f.length,function(p){for(var g=0,h;g<t;++g)d[(h=f[g]).i]=h.x(p);return d.join("")})}function Bm(e,t){var r=typeof t,n;return t==null||r==="boolean"?qC(t):(r==="number"?o0:r==="string"?(n=Ig(t))?(t=n,QO):GY:t instanceof Ig?QO:t instanceof Date?zY:qY(t)?BY:Array.isArray(t)?UY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?WY:o0)(e,t)}function UC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function KY(e,t){t===void 0&&(t=e,e=Bm);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(c){var d=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[d](c-d)}}function YY(e){return function(){return e}}function l0(e){return+e}var JO=[0,1];function ui(e){return e}function Rj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:YY(isNaN(t)?NaN:.5)}function XY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function QY(e,t,r){var n=e[0],a=e[1],s=t[0],c=t[1];return a<n?(n=Rj(a,n),s=r(c,s)):(n=Rj(n,a),s=r(s,c)),function(d){return s(n(d))}}function JY(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)a[c]=Rj(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(d){var f=vy(e,d,1,n)-1;return s[f](a[f](d))}}function xy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gb(){var e=JO,t=JO,r=Bm,n,a,s,c=ui,d,f,p;function g(){var x=Math.min(e.length,t.length);return c!==ui&&(c=XY(e[0],e[x-1])),d=x>2?JY:QY,f=p=null,h}function h(x){return x==null||isNaN(x=+x)?s:(f||(f=d(e.map(n),t,r)))(n(c(x)))}return h.invert=function(x){return c(a((p||(p=d(t,e.map(n),o0)))(x)))},h.domain=function(x){return arguments.length?(e=Array.from(x,l0),g()):e.slice()},h.range=function(x){return arguments.length?(t=Array.from(x),g()):t.slice()},h.rangeRound=function(x){return t=Array.from(x),r=UC,g()},h.clamp=function(x){return arguments.length?(c=x?!0:ui,g()):c!==ui},h.interpolate=function(x){return arguments.length?(r=x,g()):r},h.unknown=function(x){return arguments.length?(s=x,h):s},function(x,S){return n=x,a=S,g()}}function zC(){return gb()(ui,ui)}function ZY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function c0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ym(e){return e=c0(Math.abs(e)),e?e[1]:NaN}function eX(e,t){return function(r,n){for(var a=r.length,s=[],c=0,d=e[0],f=0;a>0&&d>0&&(f+d+1>n&&(d=Math.max(1,n-f)),s.push(r.substring(a-=d,a+d)),!((f+=d+1)>n));)d=e[c=(c+1)%e.length];return s.reverse().join(t)}}function tX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mg(e){if(!(t=rX.exec(e)))throw new Error("invalid format: "+e);var t;return new WC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mg.prototype=WC.prototype;function WC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}WC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nX(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var HL;function aX(e,t){var r=c0(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(HL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+c0(e,Math.max(0,t+s-1))[0]}function ZO(e,t){var r=c0(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const eT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ZO(e*100,t),r:ZO,s:aX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tT(e){return e}var rT=Array.prototype.map,nT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iX(e){var t=e.grouping===void 0||e.thousands===void 0?tT:eX(rT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?tT:tX(rT.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function p(h){h=Mg(h);var x=h.fill,S=h.align,P=h.sign,j=h.symbol,N=h.zero,k=h.width,T=h.comma,R=h.precision,M=h.trim,O=h.type;O==="n"?(T=!0,O="g"):eT[O]||(R===void 0&&(R=12),M=!0,O="g"),(N||x==="0"&&S==="=")&&(N=!0,x="0",S="=");var I=j==="$"?r:j==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",D=j==="$"?n:/[%p]/.test(O)?c:"",B=eT[O],G=/[defgprs%]/.test(O);R=R===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function X(Y){var oe=I,se=D,ie,K,ne;if(O==="c")se=B(Y)+se,Y="";else{Y=+Y;var ee=Y<0||1/Y<0;if(Y=isNaN(Y)?f:B(Math.abs(Y),R),M&&(Y=nX(Y)),ee&&+Y==0&&P!=="+"&&(ee=!1),oe=(ee?P==="("?P:d:P==="-"||P==="("?"":P)+oe,se=(O==="s"?nT[8+HL/3]:"")+se+(ee&&P==="("?")":""),G){for(ie=-1,K=Y.length;++ie<K;)if(ne=Y.charCodeAt(ie),48>ne||ne>57){se=(ne===46?a+Y.slice(ie+1):Y.slice(ie))+se,Y=Y.slice(0,ie);break}}}T&&!N&&(Y=t(Y,1/0));var z=oe.length+Y.length+se.length,fe=z<k?new Array(k-z+1).join(x):"";switch(T&&N&&(Y=t(fe+Y,fe.length?k-se.length:1/0),fe=""),S){case"<":Y=oe+Y+se+fe;break;case"=":Y=oe+fe+Y+se;break;case"^":Y=fe.slice(0,z=fe.length>>1)+oe+Y+se+fe.slice(z);break;default:Y=fe+oe+Y+se;break}return s(Y)}return X.toString=function(){return h+""},X}function g(h,x){var S=p((h=Mg(h),h.type="f",h)),P=Math.max(-8,Math.min(8,Math.floor(ym(x)/3)))*3,j=Math.pow(10,-P),N=nT[8+P/3];return function(k){return S(j*k)+N}}return{format:p,formatPrefix:g}}var hv,HC,VL;sX({thousands:",",grouping:[3],currency:["$",""]});function sX(e){return hv=iX(e),HC=hv.format,VL=hv.formatPrefix,hv}function oX(e){return Math.max(0,-ym(Math.abs(e)))}function lX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ym(t)/3)))*3-ym(Math.abs(e)))}function cX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ym(t)-ym(e))+1}function GL(e,t,r,n){var a=Ej(e,t,r),s;switch(n=Mg(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=lX(a,c))&&(n.precision=s),VL(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=cX(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=oX(a))&&(n.precision=s-(n.type==="%")*2);break}}return HC(n)}function rd(e){var t=e.domain;return e.ticks=function(r){var n=t();return Pj(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return GL(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,c=n[a],d=n[s],f,p,g=10;for(d<c&&(p=c,c=d,d=p,p=a,a=s,s=p);g-- >0;){if(p=Aj(c,d,r),p===f)return n[a]=c,n[s]=d,t(n);if(p>0)c=Math.floor(c/p)*p,d=Math.ceil(d/p)*p;else if(p<0)c=Math.ceil(c*p)/p,d=Math.floor(d*p)/p;else break;f=p}return e},e}function u0(){var e=zC();return e.copy=function(){return xy(e,u0())},no.apply(e,arguments),rd(e)}function KL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,l0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return KL(e).unknown(t)},e=arguments.length?Array.from(e,l0):[0,1],rd(r)}function YL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],c;return s<a&&(c=r,r=n,n=c,c=a,a=s,s=c),e[r]=t.floor(a),e[n]=t.ceil(s),e}function aT(e){return Math.log(e)}function iT(e){return Math.exp(e)}function uX(e){return-Math.log(-e)}function dX(e){return-Math.exp(-e)}function fX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pX(e){return e===10?fX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sT(e){return(t,r)=>-e(-t,r)}function VC(e){const t=e(aT,iT),r=t.domain;let n=10,a,s;function c(){return a=mX(n),s=pX(n),r()[0]<0?(a=sT(a),s=sT(s),e(uX,dX)):e(aT,iT),t}return t.base=function(d){return arguments.length?(n=+d,c()):n},t.domain=function(d){return arguments.length?(r(d),c()):r()},t.ticks=d=>{const f=r();let p=f[0],g=f[f.length-1];const h=g<p;h&&([p,g]=[g,p]);let x=a(p),S=a(g),P,j;const N=d==null?10:+d;let k=[];if(!(n%1)&&S-x<N){if(x=Math.floor(x),S=Math.ceil(S),p>0){for(;x<=S;++x)for(P=1;P<n;++P)if(j=x<0?P/s(-x):P*s(x),!(j<p)){if(j>g)break;k.push(j)}}else for(;x<=S;++x)for(P=n-1;P>=1;--P)if(j=x>0?P/s(-x):P*s(x),!(j<p)){if(j>g)break;k.push(j)}k.length*2<N&&(k=Pj(p,g,N))}else k=Pj(x,S,Math.min(S-x,N)).map(s);return h?k.reverse():k},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Mg(f)).precision==null&&(f.trim=!0),f=HC(f)),d===1/0)return f;const p=Math.max(1,n*d/t.ticks().length);return g=>{let h=g/s(Math.round(a(g)));return h*n<n-.5&&(h*=n),h<=p?f(g):""}},t.nice=()=>r(YL(r(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),t}function XL(){const e=VC(gb()).domain([1,10]);return e.copy=()=>xy(e,XL()).base(e.base()),no.apply(e,arguments),e}function oT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function lT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function GC(e){var t=1,r=e(oT(t),lT(t));return r.constant=function(n){return arguments.length?e(oT(t=+n),lT(t)):t},rd(r)}function QL(){var e=GC(gb());return e.copy=function(){return xy(e,QL()).constant(e.constant())},no.apply(e,arguments)}function cT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function gX(e){return e<0?-e*e:e*e}function KC(e){var t=e(ui,ui),r=1;function n(){return r===1?e(ui,ui):r===.5?e(hX,gX):e(cT(r),cT(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},rd(t)}function YC(){var e=KC(gb());return e.copy=function(){return xy(e,YC()).exponent(e.exponent())},no.apply(e,arguments),e}function yX(){return YC.apply(null,arguments).exponent(.5)}function uT(e){return Math.sign(e)*e*e}function vX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JL(){var e=zC(),t=[0,1],r=!1,n;function a(s){var c=vX(e(s));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(s){return e.invert(uT(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,l0)).map(uT)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return JL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},no.apply(a,arguments),rd(a)}function ZL(){var e=[],t=[],r=[],n;function a(){var c=0,d=Math.max(1,t.length);for(r=new Array(d-1);++c<d;)r[c-1]=NY(e,c/d);return s}function s(c){return c==null||isNaN(c=+c)?n:t[vy(r,c)]}return s.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Gu),a()},s.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return ZL().domain(e).range(t).unknown(n)},no.apply(s,arguments)}function e5(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[vy(n,f,0,r)]:s}function d(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,d()):a.slice()},c.invertExtent=function(f){var p=a.indexOf(f);return p<0?[NaN,NaN]:p<1?[e,n[0]]:p>=r?[n[r-1],t]:[n[p-1],n[p]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return e5().domain([e,t]).range(a).unknown(s)},no.apply(rd(c),arguments)}function t5(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[vy(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return t5().domain(e).range(t).unknown(r)},no.apply(a,arguments)}const qS=new Date,US=new Date;function Hn(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const c=a(s),d=a.ceil(s);return s-c<d-s?c:d},a.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return f;let p;do f.push(p=new Date(+s)),t(s,d),e(s);while(p<s&&s<c);return f},a.filter=s=>Hn(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!s(c););else for(;--d>=0;)for(;t(c,1),!s(c););}),r&&(a.count=(s,c)=>(qS.setTime(+s),US.setTime(+c),e(qS),e(US),Math.floor(r(qS,US))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?c=>n(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const d0=Hn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);d0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Hn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):d0);d0.range;const qc=1e3,eo=qc*60,Uc=eo*60,Qc=Uc*24,XC=Qc*7,dT=Qc*30,zS=Qc*365,uf=Hn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qc)},(e,t)=>(t-e)/qc,e=>e.getUTCSeconds());uf.range;const QC=Hn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qc)},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getMinutes());QC.range;const JC=Hn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getUTCMinutes());JC.range;const ZC=Hn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qc-e.getMinutes()*eo)},(e,t)=>{e.setTime(+e+t*Uc)},(e,t)=>(t-e)/Uc,e=>e.getHours());ZC.range;const eP=Hn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Uc)},(e,t)=>(t-e)/Uc,e=>e.getUTCHours());eP.range;const wy=Hn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*eo)/Qc,e=>e.getDate()-1);wy.range;const yb=Hn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qc,e=>e.getUTCDate()-1);yb.range;const r5=Hn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qc,e=>Math.floor(e/Qc));r5.range;function Pf(e){return Hn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*eo)/XC)}const vb=Pf(0),f0=Pf(1),bX=Pf(2),xX=Pf(3),vm=Pf(4),wX=Pf(5),SX=Pf(6);vb.range;f0.range;bX.range;xX.range;vm.range;wX.range;SX.range;function Af(e){return Hn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/XC)}const bb=Af(0),p0=Af(1),NX=Af(2),jX=Af(3),bm=Af(4),_X=Af(5),CX=Af(6);bb.range;p0.range;NX.range;jX.range;bm.range;_X.range;CX.range;const tP=Hn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());tP.range;const rP=Hn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());rP.range;const Jc=Hn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Jc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Jc.range;const Zc=Hn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Zc.range;function n5(e,t,r,n,a,s){const c=[[uf,1,qc],[uf,5,5*qc],[uf,15,15*qc],[uf,30,30*qc],[s,1,eo],[s,5,5*eo],[s,15,15*eo],[s,30,30*eo],[a,1,Uc],[a,3,3*Uc],[a,6,6*Uc],[a,12,12*Uc],[n,1,Qc],[n,2,2*Qc],[r,1,XC],[t,1,dT],[t,3,3*dT],[e,1,zS]];function d(p,g,h){const x=g<p;x&&([p,g]=[g,p]);const S=h&&typeof h.range=="function"?h:f(p,g,h),P=S?S.range(p,+g+1):[];return x?P.reverse():P}function f(p,g,h){const x=Math.abs(g-p)/h,S=$C(([,,N])=>N).right(c,x);if(S===c.length)return e.every(Ej(p/zS,g/zS,h));if(S===0)return d0.every(Math.max(Ej(p,g,h),1));const[P,j]=c[x/c[S-1][2]<c[S][2]/x?S-1:S];return P.every(j)}return[d,f]}const[PX,AX]=n5(Zc,rP,bb,r5,eP,JC),[EX,kX]=n5(Jc,tP,vb,wy,ZC,QC);function WS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function HS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function OX(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,p=Jh(a),g=Zh(a),h=Jh(s),x=Zh(s),S=Jh(c),P=Zh(c),j=Jh(d),N=Zh(d),k=Jh(f),T=Zh(f),R={a:ee,A:z,b:fe,B:pe,c:null,d:yT,e:yT,f:eQ,g:uQ,G:fQ,H:QX,I:JX,j:ZX,L:a5,m:tQ,M:rQ,p:q,q:J,Q:xT,s:wT,S:nQ,u:aQ,U:iQ,V:sQ,w:oQ,W:lQ,x:null,X:null,y:cQ,Y:dQ,Z:pQ,"%":bT},M={a:de,A:be,b:Ae,B:Ie,c:null,d:vT,e:vT,f:yQ,g:PQ,G:EQ,H:mQ,I:hQ,j:gQ,L:s5,m:vQ,M:bQ,p:Fe,q:ke,Q:xT,s:wT,S:xQ,u:wQ,U:SQ,V:NQ,w:jQ,W:_Q,x:null,X:null,y:CQ,Y:AQ,Z:kQ,"%":bT},O={a:X,A:Y,b:oe,B:se,c:ie,d:hT,e:hT,f:GX,g:mT,G:pT,H:gT,I:gT,j:zX,L:VX,m:UX,M:WX,p:G,q:qX,Q:YX,s:XX,S:HX,u:DX,U:LX,V:$X,w:MX,W:FX,x:K,X:ne,y:mT,Y:pT,Z:BX,"%":KX};R.x=I(r,R),R.X=I(n,R),R.c=I(t,R),M.x=I(r,M),M.X=I(n,M),M.c=I(t,M);function I(Se,De){return function(ze){var xe=[],Ve=-1,dt=0,it=Se.length,pt,Ee,Le;for(ze instanceof Date||(ze=new Date(+ze));++Ve<it;)Se.charCodeAt(Ve)===37&&(xe.push(Se.slice(dt,Ve)),(Ee=fT[pt=Se.charAt(++Ve)])!=null?pt=Se.charAt(++Ve):Ee=pt==="e"?" ":"0",(Le=De[pt])&&(pt=Le(ze,Ee)),xe.push(pt),dt=Ve+1);return xe.push(Se.slice(dt,Ve)),xe.join("")}}function D(Se,De){return function(ze){var xe=Qh(1900,void 0,1),Ve=B(xe,Se,ze+="",0),dt,it;if(Ve!=ze.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(De&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(dt=HS(Qh(xe.y,0,1)),it=dt.getUTCDay(),dt=it>4||it===0?p0.ceil(dt):p0(dt),dt=yb.offset(dt,(xe.V-1)*7),xe.y=dt.getUTCFullYear(),xe.m=dt.getUTCMonth(),xe.d=dt.getUTCDate()+(xe.w+6)%7):(dt=WS(Qh(xe.y,0,1)),it=dt.getDay(),dt=it>4||it===0?f0.ceil(dt):f0(dt),dt=wy.offset(dt,(xe.V-1)*7),xe.y=dt.getFullYear(),xe.m=dt.getMonth(),xe.d=dt.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),it="Z"in xe?HS(Qh(xe.y,0,1)).getUTCDay():WS(Qh(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(it+5)%7:xe.w+xe.U*7-(it+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,HS(xe)):WS(xe)}}function B(Se,De,ze,xe){for(var Ve=0,dt=De.length,it=ze.length,pt,Ee;Ve<dt;){if(xe>=it)return-1;if(pt=De.charCodeAt(Ve++),pt===37){if(pt=De.charAt(Ve++),Ee=O[pt in fT?De.charAt(Ve++):pt],!Ee||(xe=Ee(Se,ze,xe))<0)return-1}else if(pt!=ze.charCodeAt(xe++))return-1}return xe}function G(Se,De,ze){var xe=p.exec(De.slice(ze));return xe?(Se.p=g.get(xe[0].toLowerCase()),ze+xe[0].length):-1}function X(Se,De,ze){var xe=S.exec(De.slice(ze));return xe?(Se.w=P.get(xe[0].toLowerCase()),ze+xe[0].length):-1}function Y(Se,De,ze){var xe=h.exec(De.slice(ze));return xe?(Se.w=x.get(xe[0].toLowerCase()),ze+xe[0].length):-1}function oe(Se,De,ze){var xe=k.exec(De.slice(ze));return xe?(Se.m=T.get(xe[0].toLowerCase()),ze+xe[0].length):-1}function se(Se,De,ze){var xe=j.exec(De.slice(ze));return xe?(Se.m=N.get(xe[0].toLowerCase()),ze+xe[0].length):-1}function ie(Se,De,ze){return B(Se,t,De,ze)}function K(Se,De,ze){return B(Se,r,De,ze)}function ne(Se,De,ze){return B(Se,n,De,ze)}function ee(Se){return c[Se.getDay()]}function z(Se){return s[Se.getDay()]}function fe(Se){return f[Se.getMonth()]}function pe(Se){return d[Se.getMonth()]}function q(Se){return a[+(Se.getHours()>=12)]}function J(Se){return 1+~~(Se.getMonth()/3)}function de(Se){return c[Se.getUTCDay()]}function be(Se){return s[Se.getUTCDay()]}function Ae(Se){return f[Se.getUTCMonth()]}function Ie(Se){return d[Se.getUTCMonth()]}function Fe(Se){return a[+(Se.getUTCHours()>=12)]}function ke(Se){return 1+~~(Se.getUTCMonth()/3)}return{format:function(Se){var De=I(Se+="",R);return De.toString=function(){return Se},De},parse:function(Se){var De=D(Se+="",!1);return De.toString=function(){return Se},De},utcFormat:function(Se){var De=I(Se+="",M);return De.toString=function(){return Se},De},utcParse:function(Se){var De=D(Se+="",!0);return De.toString=function(){return Se},De}}}var fT={"-":"",_:" ",0:"0"},aa=/^\s*\d+/,TX=/^%/,RX=/[\\^$*+?|[\]().{}]/g;function Ht(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function IX(e){return e.replace(RX,"\\$&")}function Jh(e){return new RegExp("^(?:"+e.map(IX).join("|")+")","i")}function Zh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function MX(e,t,r){var n=aa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function DX(e,t,r){var n=aa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function LX(e,t,r){var n=aa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function $X(e,t,r){var n=aa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function FX(e,t,r){var n=aa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function pT(e,t,r){var n=aa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function mT(e,t,r){var n=aa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function BX(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qX(e,t,r){var n=aa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function UX(e,t,r){var n=aa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function hT(e,t,r){var n=aa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function zX(e,t,r){var n=aa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function gT(e,t,r){var n=aa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function WX(e,t,r){var n=aa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function HX(e,t,r){var n=aa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function VX(e,t,r){var n=aa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function GX(e,t,r){var n=aa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function KX(e,t,r){var n=TX.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function YX(e,t,r){var n=aa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function XX(e,t,r){var n=aa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function yT(e,t){return Ht(e.getDate(),t,2)}function QX(e,t){return Ht(e.getHours(),t,2)}function JX(e,t){return Ht(e.getHours()%12||12,t,2)}function ZX(e,t){return Ht(1+wy.count(Jc(e),e),t,3)}function a5(e,t){return Ht(e.getMilliseconds(),t,3)}function eQ(e,t){return a5(e,t)+"000"}function tQ(e,t){return Ht(e.getMonth()+1,t,2)}function rQ(e,t){return Ht(e.getMinutes(),t,2)}function nQ(e,t){return Ht(e.getSeconds(),t,2)}function aQ(e){var t=e.getDay();return t===0?7:t}function iQ(e,t){return Ht(vb.count(Jc(e)-1,e),t,2)}function i5(e){var t=e.getDay();return t>=4||t===0?vm(e):vm.ceil(e)}function sQ(e,t){return e=i5(e),Ht(vm.count(Jc(e),e)+(Jc(e).getDay()===4),t,2)}function oQ(e){return e.getDay()}function lQ(e,t){return Ht(f0.count(Jc(e)-1,e),t,2)}function cQ(e,t){return Ht(e.getFullYear()%100,t,2)}function uQ(e,t){return e=i5(e),Ht(e.getFullYear()%100,t,2)}function dQ(e,t){return Ht(e.getFullYear()%1e4,t,4)}function fQ(e,t){var r=e.getDay();return e=r>=4||r===0?vm(e):vm.ceil(e),Ht(e.getFullYear()%1e4,t,4)}function pQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ht(t/60|0,"0",2)+Ht(t%60,"0",2)}function vT(e,t){return Ht(e.getUTCDate(),t,2)}function mQ(e,t){return Ht(e.getUTCHours(),t,2)}function hQ(e,t){return Ht(e.getUTCHours()%12||12,t,2)}function gQ(e,t){return Ht(1+yb.count(Zc(e),e),t,3)}function s5(e,t){return Ht(e.getUTCMilliseconds(),t,3)}function yQ(e,t){return s5(e,t)+"000"}function vQ(e,t){return Ht(e.getUTCMonth()+1,t,2)}function bQ(e,t){return Ht(e.getUTCMinutes(),t,2)}function xQ(e,t){return Ht(e.getUTCSeconds(),t,2)}function wQ(e){var t=e.getUTCDay();return t===0?7:t}function SQ(e,t){return Ht(bb.count(Zc(e)-1,e),t,2)}function o5(e){var t=e.getUTCDay();return t>=4||t===0?bm(e):bm.ceil(e)}function NQ(e,t){return e=o5(e),Ht(bm.count(Zc(e),e)+(Zc(e).getUTCDay()===4),t,2)}function jQ(e){return e.getUTCDay()}function _Q(e,t){return Ht(p0.count(Zc(e)-1,e),t,2)}function CQ(e,t){return Ht(e.getUTCFullYear()%100,t,2)}function PQ(e,t){return e=o5(e),Ht(e.getUTCFullYear()%100,t,2)}function AQ(e,t){return Ht(e.getUTCFullYear()%1e4,t,4)}function EQ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?bm(e):bm.ceil(e),Ht(e.getUTCFullYear()%1e4,t,4)}function kQ(){return"+0000"}function bT(){return"%"}function xT(e){return+e}function wT(e){return Math.floor(+e/1e3)}var Hp,l5,c5;OQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OQ(e){return Hp=OX(e),l5=Hp.format,Hp.parse,c5=Hp.utcFormat,Hp.utcParse,Hp}function TQ(e){return new Date(e)}function RQ(e){return e instanceof Date?+e:+new Date(+e)}function nP(e,t,r,n,a,s,c,d,f,p){var g=zC(),h=g.invert,x=g.domain,S=p(".%L"),P=p(":%S"),j=p("%I:%M"),N=p("%I %p"),k=p("%a %d"),T=p("%b %d"),R=p("%B"),M=p("%Y");function O(I){return(f(I)<I?S:d(I)<I?P:c(I)<I?j:s(I)<I?N:n(I)<I?a(I)<I?k:T:r(I)<I?R:M)(I)}return g.invert=function(I){return new Date(h(I))},g.domain=function(I){return arguments.length?x(Array.from(I,RQ)):x().map(TQ)},g.ticks=function(I){var D=x();return e(D[0],D[D.length-1],I??10)},g.tickFormat=function(I,D){return D==null?O:p(D)},g.nice=function(I){var D=x();return(!I||typeof I.range!="function")&&(I=t(D[0],D[D.length-1],I??10)),I?x(YL(D,I)):g},g.copy=function(){return xy(g,nP(e,t,r,n,a,s,c,d,f,p))},g}function IQ(){return no.apply(nP(EX,kX,Jc,tP,vb,wy,ZC,QC,uf,l5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MQ(){return no.apply(nP(PX,AX,Zc,rP,bb,yb,eP,JC,uf,c5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xb(){var e=0,t=1,r,n,a,s,c=ui,d=!1,f;function p(h){return h==null||isNaN(h=+h)?f:c(a===0?.5:(h=(s(h)-r)*a,d?Math.max(0,Math.min(1,h)):h))}p.domain=function(h){return arguments.length?([e,t]=h,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),p):[e,t]},p.clamp=function(h){return arguments.length?(d=!!h,p):d},p.interpolator=function(h){return arguments.length?(c=h,p):c};function g(h){return function(x){var S,P;return arguments.length?([S,P]=x,c=h(S,P),p):[c(0),c(1)]}}return p.range=g(Bm),p.rangeRound=g(UC),p.unknown=function(h){return arguments.length?(f=h,p):f},function(h){return s=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),p}}function nd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function u5(){var e=rd(xb()(ui));return e.copy=function(){return nd(e,u5())},ru.apply(e,arguments)}function d5(){var e=VC(xb()).domain([1,10]);return e.copy=function(){return nd(e,d5()).base(e.base())},ru.apply(e,arguments)}function f5(){var e=GC(xb());return e.copy=function(){return nd(e,f5()).constant(e.constant())},ru.apply(e,arguments)}function aP(){var e=KC(xb());return e.copy=function(){return nd(e,aP()).exponent(e.exponent())},ru.apply(e,arguments)}function DQ(){return aP.apply(null,arguments).exponent(.5)}function p5(){var e=[],t=ui;function r(n){if(n!=null&&!isNaN(n=+n))return t((vy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Gu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>SY(e,s/n))},r.copy=function(){return p5(t).domain(e)},ru.apply(r,arguments)}function wb(){var e=0,t=.5,r=1,n=1,a,s,c,d,f,p=ui,g,h=!1,x;function S(j){return isNaN(j=+j)?x:(j=.5+((j=+g(j))-s)*(n*j<n*s?d:f),p(h?Math.max(0,Math.min(1,j)):j))}S.domain=function(j){return arguments.length?([e,t,r]=j,a=g(e=+e),s=g(t=+t),c=g(r=+r),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,S):[e,t,r]},S.clamp=function(j){return arguments.length?(h=!!j,S):h},S.interpolator=function(j){return arguments.length?(p=j,S):p};function P(j){return function(N){var k,T,R;return arguments.length?([k,T,R]=N,p=KY(j,[k,T,R]),S):[p(0),p(.5),p(1)]}}return S.range=P(Bm),S.rangeRound=P(UC),S.unknown=function(j){return arguments.length?(x=j,S):x},function(j){return g=j,a=j(e),s=j(t),c=j(r),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,S}}function m5(){var e=rd(wb()(ui));return e.copy=function(){return nd(e,m5())},ru.apply(e,arguments)}function h5(){var e=VC(wb()).domain([.1,1,10]);return e.copy=function(){return nd(e,h5()).base(e.base())},ru.apply(e,arguments)}function g5(){var e=GC(wb());return e.copy=function(){return nd(e,g5()).constant(e.constant())},ru.apply(e,arguments)}function iP(){var e=KC(wb());return e.copy=function(){return nd(e,iP()).exponent(e.exponent())},ru.apply(e,arguments)}function LQ(){return iP.apply(null,arguments).exponent(.5)}const ST=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Og,scaleDiverging:m5,scaleDivergingLog:h5,scaleDivergingPow:iP,scaleDivergingSqrt:LQ,scaleDivergingSymlog:g5,scaleIdentity:KL,scaleImplicit:kj,scaleLinear:u0,scaleLog:XL,scaleOrdinal:FC,scalePoint:mg,scalePow:YC,scaleQuantile:ZL,scaleQuantize:e5,scaleRadial:JL,scaleSequential:u5,scaleSequentialLog:d5,scaleSequentialPow:aP,scaleSequentialQuantile:p5,scaleSequentialSqrt:DQ,scaleSequentialSymlog:f5,scaleSqrt:yX,scaleSymlog:QL,scaleThreshold:t5,scaleTime:IQ,scaleUtc:MQ,tickFormat:GL},Symbol.toStringTag,{value:"Module"}));var VS,NT;function y5(){if(NT)return VS;NT=1;var e=Lm();function t(r,n,a){for(var s=-1,c=r.length;++s<c;){var d=r[s],f=n(d);if(f!=null&&(p===void 0?f===f&&!e(f):a(f,p)))var p=f,g=d}return g}return VS=t,VS}var GS,jT;function $Q(){if(jT)return GS;jT=1;function e(t,r){return t>r}return GS=e,GS}var KS,_T;function FQ(){if(_T)return KS;_T=1;var e=y5(),t=$Q(),r=Fm();function n(a){return a&&a.length?e(a,r,t):void 0}return KS=n,KS}var BQ=FQ();const Sb=pr(BQ);var YS,CT;function qQ(){if(CT)return YS;CT=1;function e(t,r){return t<r}return YS=e,YS}var XS,PT;function UQ(){if(PT)return XS;PT=1;var e=y5(),t=qQ(),r=Fm();function n(a){return a&&a.length?e(a,r,t):void 0}return XS=n,XS}var zQ=UQ();const Nb=pr(zQ);var QS,AT;function WQ(){if(AT)return QS;AT=1;var e=wC(),t=td(),r=_L(),n=zi();function a(s,c){var d=n(s)?e:r;return d(s,t(c,3))}return QS=a,QS}var JS,ET;function HQ(){if(ET)return JS;ET=1;var e=NL(),t=WQ();function r(n,a){return e(t(n,a),1)}return JS=r,JS}var VQ=HQ();const GQ=pr(VQ);var ZS,kT;function KQ(){if(kT)return ZS;kT=1;var e=IC();function t(r,n){return e(r,n)}return ZS=t,ZS}var YQ=KQ();const sP=pr(YQ);var qm=1e9,XQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lP,Hr=!0,ro="[DecimalError] ",mf=ro+"Invalid argument: ",oP=ro+"Exponent out of range: ",Um=Math.floor,nf=Math.pow,QQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gs,ra=1e7,qr=7,v5=9007199254740991,m0=Um(v5/qr),tt={};tt.absoluteValue=tt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};tt.comparedTo=tt.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};tt.decimalPlaces=tt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};tt.dividedBy=tt.div=function(e){return Kc(this,new this.constructor(e))};tt.dividedToIntegerBy=tt.idiv=function(e){var t=this,r=t.constructor;return br(Kc(t,new r(e),0,1),r.precision)};tt.equals=tt.eq=function(e){return!this.cmp(e)};tt.exponent=function(){return Tn(this)};tt.greaterThan=tt.gt=function(e){return this.cmp(e)>0};tt.greaterThanOrEqualTo=tt.gte=function(e){return this.cmp(e)>=0};tt.isInteger=tt.isint=function(){return this.e>this.d.length-2};tt.isNegative=tt.isneg=function(){return this.s<0};tt.isPositive=tt.ispos=function(){return this.s>0};tt.isZero=function(){return this.s===0};tt.lessThan=tt.lt=function(e){return this.cmp(e)<0};tt.lessThanOrEqualTo=tt.lte=function(e){return this.cmp(e)<1};tt.logarithm=tt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gs))throw Error(ro+"NaN");if(r.s<1)throw Error(ro+(r.s?"NaN":"-Infinity"));return r.eq(gs)?new n(0):(Hr=!1,t=Kc(Dg(r,s),Dg(e,s),s),Hr=!0,br(t,a))};tt.minus=tt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w5(t,e):b5(t,(e.s=-e.s,e))};tt.modulo=tt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ro+"NaN");return r.s?(Hr=!1,t=Kc(r,e,0,1).times(e),Hr=!0,r.minus(t)):br(new n(r),a)};tt.naturalExponential=tt.exp=function(){return x5(this)};tt.naturalLogarithm=tt.ln=function(){return Dg(this)};tt.negated=tt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};tt.plus=tt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b5(t,e):w5(t,(e.s=-e.s,e))};tt.precision=tt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mf+e);if(t=Tn(a)+1,n=a.d.length-1,r=n*qr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};tt.squareRoot=tt.sqrt=function(){var e,t,r,n,a,s,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(ro+"NaN")}for(e=Tn(d),Hr=!1,a=Math.sqrt(+d),a==0||a==1/0?(t=Il(d.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Um((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=c=r+3;;)if(s=n,n=s.plus(Kc(d,s,c+2)).times(.5),Il(s.d).slice(0,c)===(t=Il(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(br(s,r+1,0),s.times(s).eq(d)){n=s;break}}else if(t!="9999")break;c+=4}return Hr=!0,br(n,r)};tt.times=tt.mul=function(e){var t,r,n,a,s,c,d,f,p,g=this,h=g.constructor,x=g.d,S=(e=new h(e)).d;if(!g.s||!e.s)return new h(0);for(e.s*=g.s,r=g.e+e.e,f=x.length,p=S.length,f<p&&(s=x,x=S,S=s,c=f,f=p,p=c),s=[],c=f+p,n=c;n--;)s.push(0);for(n=p;--n>=0;){for(t=0,a=f+n;a>n;)d=s[a]+S[n]*x[a-n-1]+t,s[a--]=d%ra|0,t=d/ra|0;s[a]=(s[a]+t)%ra|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Hr?br(e,h.precision):e};tt.toDecimalPlaces=tt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ul(e,0,qm),t===void 0?t=n.rounding:Ul(t,0,8),br(r,e+Tn(r)+1,t))};tt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=xf(n,!0):(Ul(e,0,qm),t===void 0?t=a.rounding:Ul(t,0,8),n=br(new a(n),e+1,t),r=xf(n,!0,e+1)),r};tt.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?xf(a):(Ul(e,0,qm),t===void 0?t=s.rounding:Ul(t,0,8),n=br(new s(a),e+Tn(a)+1,t),r=xf(n.abs(),!1,e+Tn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};tt.toInteger=tt.toint=function(){var e=this,t=e.constructor;return br(new t(e),Tn(e)+1,t.rounding)};tt.toNumber=function(){return+this};tt.toPower=tt.pow=function(e){var t,r,n,a,s,c,d=this,f=d.constructor,p=12,g=+(e=new f(e));if(!e.s)return new f(gs);if(d=new f(d),!d.s){if(e.s<1)throw Error(ro+"Infinity");return d}if(d.eq(gs))return d;if(n=f.precision,e.eq(gs))return br(d,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=d.s,c){if((r=g<0?-g:g)<=v5){for(a=new f(gs),t=Math.ceil(n/qr+4),Hr=!1;r%2&&(a=a.times(d),TT(a.d,t)),r=Um(r/2),r!==0;)d=d.times(d),TT(d.d,t);return Hr=!0,e.s<0?new f(gs).div(a):br(a,n)}}else if(s<0)throw Error(ro+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,Hr=!1,a=e.times(Dg(d,n+p)),Hr=!0,a=x5(a),a.s=s,a};tt.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Tn(a),n=xf(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ul(e,1,qm),t===void 0?t=s.rounding:Ul(t,0,8),a=br(new s(a),e,t),r=Tn(a),n=xf(a,e<=r||r<=s.toExpNeg,e)),n};tt.toSignificantDigits=tt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ul(e,1,qm),t===void 0?t=n.rounding:Ul(t,0,8)),br(new n(r),e,t)};tt.toString=tt.valueOf=tt.val=tt.toJSON=tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Tn(e),r=e.constructor;return xf(e,t<=r.toExpNeg||t>=r.toExpPos)};function b5(e,t){var r,n,a,s,c,d,f,p,g=e.constructor,h=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Hr?br(t,h):t;if(f=e.d,p=t.d,c=e.e,a=t.e,f=f.slice(),s=c-a,s){for(s<0?(n=f,s=-s,d=p.length):(n=p,a=c,d=f.length),c=Math.ceil(h/qr),d=c>d?c+1:d+1,s>d&&(s=d,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(d=f.length,s=p.length,d-s<0&&(s=d,n=p,p=f,f=n),r=0;s;)r=(f[--s]=f[s]+p[s]+r)/ra|0,f[s]%=ra;for(r&&(f.unshift(r),++a),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=a,Hr?br(t,h):t}function Ul(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mf+e)}function Il(e){var t,r,n,a=e.length-1,s="",c=e[0];if(a>0){for(s+=c,t=1;t<a;t++)n=e[t]+"",r=qr-n.length,r&&(s+=Bu(r)),s+=n;c=e[t],n=c+"",r=qr-n.length,r&&(s+=Bu(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Kc=(function(){function e(n,a){var s,c=0,d=n.length;for(n=n.slice();d--;)s=n[d]*a+c,n[d]=s%ra|0,c=s/ra|0;return c&&n.unshift(c),n}function t(n,a,s,c){var d,f;if(s!=c)f=s>c?1:-1;else for(d=f=0;d<s;d++)if(n[d]!=a[d]){f=n[d]>a[d]?1:-1;break}return f}function r(n,a,s){for(var c=0;s--;)n[s]-=c,c=n[s]<a[s]?1:0,n[s]=c*ra+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,c){var d,f,p,g,h,x,S,P,j,N,k,T,R,M,O,I,D,B,G=n.constructor,X=n.s==a.s?1:-1,Y=n.d,oe=a.d;if(!n.s)return new G(n);if(!a.s)throw Error(ro+"Division by zero");for(f=n.e-a.e,D=oe.length,O=Y.length,S=new G(X),P=S.d=[],p=0;oe[p]==(Y[p]||0);)++p;if(oe[p]>(Y[p]||0)&&--f,s==null?T=s=G.precision:c?T=s+(Tn(n)-Tn(a))+1:T=s,T<0)return new G(0);if(T=T/qr+2|0,p=0,D==1)for(g=0,oe=oe[0],T++;(p<O||g)&&T--;p++)R=g*ra+(Y[p]||0),P[p]=R/oe|0,g=R%oe|0;else{for(g=ra/(oe[0]+1)|0,g>1&&(oe=e(oe,g),Y=e(Y,g),D=oe.length,O=Y.length),M=D,j=Y.slice(0,D),N=j.length;N<D;)j[N++]=0;B=oe.slice(),B.unshift(0),I=oe[0],oe[1]>=ra/2&&++I;do g=0,d=t(oe,j,D,N),d<0?(k=j[0],D!=N&&(k=k*ra+(j[1]||0)),g=k/I|0,g>1?(g>=ra&&(g=ra-1),h=e(oe,g),x=h.length,N=j.length,d=t(h,j,x,N),d==1&&(g--,r(h,D<x?B:oe,x))):(g==0&&(d=g=1),h=oe.slice()),x=h.length,x<N&&h.unshift(0),r(j,h,N),d==-1&&(N=j.length,d=t(oe,j,D,N),d<1&&(g++,r(j,D<N?B:oe,N))),N=j.length):d===0&&(g++,j=[0]),P[p++]=g,d&&j[0]?j[N++]=Y[M]||0:(j=[Y[M]],N=1);while((M++<O||j[0]!==void 0)&&T--)}return P[0]||P.shift(),S.e=f,br(S,c?s+Tn(S)+1:s)}})();function x5(e,t){var r,n,a,s,c,d,f=0,p=0,g=e.constructor,h=g.precision;if(Tn(e)>16)throw Error(oP+Tn(e));if(!e.s)return new g(gs);for(Hr=!1,d=h,c=new g(.03125);e.abs().gte(.1);)e=e.times(c),p+=5;for(n=Math.log(nf(2,p))/Math.LN10*2+5|0,d+=n,r=a=s=new g(gs),g.precision=d;;){if(a=br(a.times(e),d),r=r.times(++f),c=s.plus(Kc(a,r,d)),Il(c.d).slice(0,d)===Il(s.d).slice(0,d)){for(;p--;)s=br(s.times(s),d);return g.precision=h,t==null?(Hr=!0,br(s,h)):s}s=c}}function Tn(e){for(var t=e.e*qr,r=e.d[0];r>=10;r/=10)t++;return t}function eN(e,t,r){if(t>e.LN10.sd())throw Hr=!0,r&&(e.precision=r),Error(ro+"LN10 precision limit exceeded");return br(new e(e.LN10),t)}function Bu(e){for(var t="";e--;)t+="0";return t}function Dg(e,t){var r,n,a,s,c,d,f,p,g,h=1,x=10,S=e,P=S.d,j=S.constructor,N=j.precision;if(S.s<1)throw Error(ro+(S.s?"NaN":"-Infinity"));if(S.eq(gs))return new j(0);if(t==null?(Hr=!1,p=N):p=t,S.eq(10))return t==null&&(Hr=!0),eN(j,p);if(p+=x,j.precision=p,r=Il(P),n=r.charAt(0),s=Tn(S),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)S=S.times(e),r=Il(S.d),n=r.charAt(0),h++;s=Tn(S),n>1?(S=new j("0."+r),s++):S=new j(n+"."+r.slice(1))}else return f=eN(j,p+2,N).times(s+""),S=Dg(new j(n+"."+r.slice(1)),p-x).plus(f),j.precision=N,t==null?(Hr=!0,br(S,N)):S;for(d=c=S=Kc(S.minus(gs),S.plus(gs),p),g=br(S.times(S),p),a=3;;){if(c=br(c.times(g),p),f=d.plus(Kc(c,new j(a),p)),Il(f.d).slice(0,p)===Il(d.d).slice(0,p))return d=d.times(2),s!==0&&(d=d.plus(eN(j,p+2,N).times(s+""))),d=Kc(d,new j(h),p),j.precision=N,t==null?(Hr=!0,br(d,N)):d;d=f,a+=2}}function OT(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Um(r/qr),e.d=[],n=(r+1)%qr,r<0&&(n+=qr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=qr;n<a;)e.d.push(+t.slice(n,n+=qr));t=t.slice(n),n=qr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Hr&&(e.e>m0||e.e<-m0))throw Error(oP+r)}else e.s=0,e.e=0,e.d=[0];return e}function br(e,t,r){var n,a,s,c,d,f,p,g,h=e.d;for(c=1,s=h[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=qr,a=t,p=h[g=0];else{if(g=Math.ceil((n+1)/qr),s=h.length,g>=s)return e;for(p=s=h[g],c=1;s>=10;s/=10)c++;n%=qr,a=n-qr+c}if(r!==void 0&&(s=nf(10,c-a-1),d=p/s%10|0,f=t<0||h[g+1]!==void 0||p%s,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(n>0?a>0?p/nf(10,c-a):0:h[g-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return f?(s=Tn(e),h.length=1,t=t-s-1,h[0]=nf(10,(qr-t%qr)%qr),e.e=Um(-t/qr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=g,s=1,g--):(h.length=g+1,s=nf(10,qr-n),h[g]=a>0?(p/nf(10,c-a)%nf(10,a)|0)*s:0),f)for(;;)if(g==0){(h[0]+=s)==ra&&(h[0]=1,++e.e);break}else{if(h[g]+=s,h[g]!=ra)break;h[g--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(Hr&&(e.e>m0||e.e<-m0))throw Error(oP+Tn(e));return e}function w5(e,t){var r,n,a,s,c,d,f,p,g,h,x=e.constructor,S=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Hr?br(t,S):t;if(f=e.d,h=t.d,n=t.e,p=e.e,f=f.slice(),c=p-n,c){for(g=c<0,g?(r=f,c=-c,d=h.length):(r=h,n=p,d=f.length),a=Math.max(Math.ceil(S/qr),d)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=f.length,d=h.length,g=a<d,g&&(d=a),a=0;a<d;a++)if(f[a]!=h[a]){g=f[a]<h[a];break}c=0}for(g&&(r=f,f=h,h=r,t.s=-t.s),d=f.length,a=h.length-d;a>0;--a)f[d++]=0;for(a=h.length;a>c;){if(f[--a]<h[a]){for(s=a;s&&f[--s]===0;)f[s]=ra-1;--f[s],f[a]+=ra}f[a]-=h[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Hr?br(t,S):t):new x(0)}function xf(e,t,r){var n,a=Tn(e),s=Il(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+Bu(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Bu(-a-1)+s,r&&(n=r-c)>0&&(s+=Bu(n))):a>=c?(s+=Bu(a+1-c),r&&(n=r-a-1)>0&&(s=s+"."+Bu(n))):((n=a+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(s+="."),s+=Bu(n))),e.s<0?"-"+s:s}function TT(e,t){if(e.length>t)return e.length=t,!0}function S5(e){var t,r,n;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(mf+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return OT(c,s.toString())}else if(typeof s!="string")throw Error(mf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,QQ.test(s))OT(c,s);else throw Error(mf+s)}if(a.prototype=tt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=S5,a.config=a.set=JQ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function JQ(e){if(!e||typeof e!="object")throw Error(ro+"Object expected");var t,r,n,a=["precision",1,qm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Um(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(mf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mf+r+": "+n);return this}var lP=S5(XQ);gs=new lP(1);const fr=lP;function ZQ(e){return nJ(e)||rJ(e)||tJ(e)||eJ()}function eJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tJ(e,t){if(e){if(typeof e=="string")return Ij(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ij(e,t)}}function rJ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nJ(e){if(Array.isArray(e))return Ij(e)}function Ij(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var aJ=function(t){return t},N5={},j5=function(t){return t===N5},RT=function(t){return function r(){return arguments.length===0||arguments.length===1&&j5(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},iJ=function e(t,r){return t===1?r:RT(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var c=a.filter(function(d){return d!==N5}).length;return c>=t?r.apply(void 0,a):e(t-c,RT(function(){for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];var g=a.map(function(h){return j5(h)?f.shift():h});return r.apply(void 0,ZQ(g).concat(f))}))})},jb=function(t){return iJ(t.length,t)},Mj=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},sJ=jb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),oJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return aJ;var a=r.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce(function(d,f){return f(d)},s.apply(void 0,arguments))}},Dj=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},_5=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return r&&s.every(function(d,f){return d===r[f]})||(r=s,n=t.apply(void 0,s)),n}};function lJ(e){var t;return e===0?t=1:t=Math.floor(new fr(e).abs().log(10).toNumber())+1,t}function cJ(e,t,r){for(var n=new fr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var uJ=jb(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),dJ=jb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),fJ=jb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const _b={rangeStep:cJ,getDigitCount:lJ,interpolateNumber:uJ,uninterpolateNumber:dJ,uninterpolateTruncation:fJ};function Lj(e){return hJ(e)||mJ(e)||C5(e)||pJ()}function pJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mJ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function hJ(e){if(Array.isArray(e))return $j(e)}function Lg(e,t){return vJ(e)||yJ(e,t)||C5(e,t)||gJ()}function gJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C5(e,t){if(e){if(typeof e=="string")return $j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $j(e,t)}}function $j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yJ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var c=e[Symbol.iterator](),d;!(n=(d=c.next()).done)&&(r.push(d.value),!(t&&r.length===t));n=!0);}catch(f){a=!0,s=f}finally{try{!n&&c.return!=null&&c.return()}finally{if(a)throw s}}return r}}function vJ(e){if(Array.isArray(e))return e}function P5(e){var t=Lg(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function A5(e,t,r){if(e.lte(0))return new fr(0);var n=_b.getDigitCount(e.toNumber()),a=new fr(10).pow(n),s=e.div(a),c=n!==1?.05:.1,d=new fr(Math.ceil(s.div(c).toNumber())).add(r).mul(c),f=d.mul(a);return t?f:new fr(Math.ceil(f))}function bJ(e,t,r){var n=1,a=new fr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new fr(10).pow(_b.getDigitCount(e)-1),a=new fr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new fr(Math.floor(e)))}else e===0?a=new fr(Math.floor((t-1)/2)):r||(a=new fr(Math.floor(e)));var c=Math.floor((t-1)/2),d=oJ(sJ(function(f){return a.add(new fr(f-c).mul(n)).toNumber()}),Mj);return d(0,t)}function E5(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new fr(0),tickMin:new fr(0),tickMax:new fr(0)};var s=A5(new fr(t).sub(e).div(r-1),n,a),c;e<=0&&t>=0?c=new fr(0):(c=new fr(e).add(t).div(2),c=c.sub(new fr(c).mod(s)));var d=Math.ceil(c.sub(e).div(s).toNumber()),f=Math.ceil(new fr(t).sub(c).div(s).toNumber()),p=d+f+1;return p>r?E5(e,t,r,n,a+1):(p<r&&(f=t>0?f+(r-p):f,d=t>0?d:d+(r-p)),{step:s,tickMin:c.sub(new fr(d).mul(s)),tickMax:c.add(new fr(f).mul(s))})}function xJ(e){var t=Lg(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),d=P5([r,n]),f=Lg(d,2),p=f[0],g=f[1];if(p===-1/0||g===1/0){var h=g===1/0?[p].concat(Lj(Mj(0,a-1).map(function(){return 1/0}))):[].concat(Lj(Mj(0,a-1).map(function(){return-1/0})),[g]);return r>n?Dj(h):h}if(p===g)return bJ(p,a,s);var x=E5(p,g,c,s),S=x.step,P=x.tickMin,j=x.tickMax,N=_b.rangeStep(P,j.add(new fr(.1).mul(S)),S);return r>n?Dj(N):N}function wJ(e,t){var r=Lg(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=P5([n,a]),d=Lg(c,2),f=d[0],p=d[1];if(f===-1/0||p===1/0)return[n,a];if(f===p)return[f];var g=Math.max(t,2),h=A5(new fr(p).sub(f).div(g-1),s,0),x=[].concat(Lj(_b.rangeStep(new fr(f),new fr(p).sub(new fr(.99).mul(h)),h)),[p]);return n>a?Dj(x):x}var SJ=_5(xJ),NJ=_5(wJ),jJ="Invariant failed";function wf(e,t){throw new Error(jJ)}var _J=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(this,arguments)}function CJ(e,t){return kJ(e)||EJ(e,t)||AJ(e,t)||PJ()}function PJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AJ(e,t){if(e){if(typeof e=="string")return IT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IT(e,t)}}function IT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,d=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(d.push(n.value),d.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return d}}function kJ(e){if(Array.isArray(e))return e}function OJ(e,t){if(e==null)return{};var r=TJ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T5(n.key),n)}}function MJ(e,t,r){return t&&IJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DJ(e,t,r){return t=g0(t),LJ(e,k5()?Reflect.construct(t,r||[],g0(e).constructor):t.apply(e,r))}function LJ(e,t){if(t&&(xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $J(e)}function $J(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k5=function(){return!!e})()}function g0(e){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g0(e)}function FJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fj(e,t)}function Fj(e,t){return Fj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fj(e,t)}function O5(e,t,r){return t=T5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T5(e){var t=BJ(e,"string");return xm(t)=="symbol"?t:t+""}function BJ(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cb=(function(e){function t(){return RJ(this,t),DJ(this,t,arguments)}return FJ(t,e),MJ(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,c=n.width,d=n.dataKey,f=n.data,p=n.dataPointFormatter,g=n.xAxis,h=n.yAxis,x=OJ(n,_J),S=Qt(x,!1);this.props.direction==="x"&&g.type!=="number"&&wf();var P=f.map(function(j){var N=p(j,d),k=N.x,T=N.y,R=N.value,M=N.errorVal;if(!M)return null;var O=[],I,D;if(Array.isArray(M)){var B=CJ(M,2);I=B[0],D=B[1]}else I=D=M;if(s==="vertical"){var G=g.scale,X=T+a,Y=X+c,oe=X-c,se=G(R-I),ie=G(R+D);O.push({x1:ie,y1:Y,x2:ie,y2:oe}),O.push({x1:se,y1:X,x2:ie,y2:X}),O.push({x1:se,y1:Y,x2:se,y2:oe})}else if(s==="horizontal"){var K=h.scale,ne=k+a,ee=ne-c,z=ne+c,fe=K(R-I),pe=K(R+D);O.push({x1:ee,y1:pe,x2:z,y2:pe}),O.push({x1:ne,y1:fe,x2:ne,y2:pe}),O.push({x1:ee,y1:fe,x2:z,y2:fe})}return te.createElement(na,h0({className:"recharts-errorBar",key:"bar-".concat(O.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},S),O.map(function(q){return te.createElement("line",h0({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return te.createElement(na,{className:"recharts-errorBars"},P)}}])})(te.Component);O5(Cb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});O5(Cb,"displayName","ErrorBar");function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){qJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qJ(e,t,r){return t=UJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJ(e){var t=zJ(e,"string");return $g(t)=="symbol"?t:t+""}function zJ(e,t){if($g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R5=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,c=ps(r,rm);if(!c)return null;var d=rm.defaultProps,f=d!==void 0?Xd(Xd({},d),c.props):{},p;return c.props&&c.props.payload?p=c.props&&c.props.payload:s==="children"?p=(n||[]).reduce(function(g,h){var x=h.item,S=h.props,P=S.sectors||S.data||[];return g.concat(P.map(function(j){return{type:c.props.iconType||x.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):p=(n||[]).map(function(g){var h=g.item,x=h.type.defaultProps,S=x!==void 0?Xd(Xd({},x),h.props):{},P=S.dataKey,j=S.name,N=S.legendType,k=S.hide;return{inactive:k,dataKey:P,type:f.iconType||N||"square",color:cP(h),value:j||P,payload:S}}),Xd(Xd(Xd({},f),rm.getWithHeight(c,a)),{},{payload:p,item:c})};function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function DT(e){return GJ(e)||VJ(e)||HJ(e)||WJ()}function WJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HJ(e,t){if(e){if(typeof e=="string")return Bj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bj(e,t)}}function VJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GJ(e){if(Array.isArray(e))return Bj(e)}function Bj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){am(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function am(e,t,r){return t=KJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KJ(e){var t=YJ(e,"string");return Fg(t)=="symbol"?t:t+""}function YJ(e,t){if(Fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zl(e,t,r){return Jt(e)||Jt(t)?r:Un(t)?to(e,t,r):kt(t)?t(e):r}function hg(e,t,r,n){var a=GQ(e,function(d){return zl(d,t)});if(r==="number"){var s=a.filter(function(d){return qe(d)||parseFloat(d)});return s.length?[Nb(s),Sb(s)]:[1/0,-1/0]}var c=n?a.filter(function(d){return!Jt(d)}):a;return c.map(function(d){return Un(d)||d instanceof Date?d:""})}var XJ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=-1,d=(r=n?.length)!==null&&r!==void 0?r:0;if(d<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var f=s.range,p=0;p<d;p++){var g=p>0?a[p-1].coordinate:a[d-1].coordinate,h=a[p].coordinate,x=p>=d-1?a[0].coordinate:a[p+1].coordinate,S=void 0;if(Bo(h-g)!==Bo(x-h)){var P=[];if(Bo(x-h)===Bo(f[1]-f[0])){S=x;var j=h+f[1]-f[0];P[0]=Math.min(j,(j+g)/2),P[1]=Math.max(j,(j+g)/2)}else{S=g;var N=x+f[1]-f[0];P[0]=Math.min(h,(N+h)/2),P[1]=Math.max(h,(N+h)/2)}var k=[Math.min(h,(S+h)/2),Math.max(h,(S+h)/2)];if(t>k[0]&&t<=k[1]||t>=P[0]&&t<=P[1]){c=a[p].index;break}}else{var T=Math.min(g,x),R=Math.max(g,x);if(t>(T+h)/2&&t<=(R+h)/2){c=a[p].index;break}}}else for(var M=0;M<d;M++)if(M===0&&t<=(n[M].coordinate+n[M+1].coordinate)/2||M>0&&M<d-1&&t>(n[M].coordinate+n[M-1].coordinate)/2&&t<=(n[M].coordinate+n[M+1].coordinate)/2||M===d-1&&t>(n[M].coordinate+n[M-1].coordinate)/2){c=n[M].index;break}return c},cP=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?un(un({},t.type.defaultProps),t.props):t.props,c=s.stroke,d=s.fill,f;switch(a){case"Line":f=c;break;case"Area":case"Radar":f=c&&c!=="none"?c:d;break;default:f=d;break}return f},QJ=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var c={},d=Object.keys(s),f=0,p=d.length;f<p;f++)for(var g=s[d[f]].stackGroups,h=Object.keys(g),x=0,S=h.length;x<S;x++){var P=g[h[x]],j=P.items,N=P.cateAxisId,k=j.filter(function(D){return Vc(D.type).indexOf("Bar")>=0});if(k&&k.length){var T=k[0].type.defaultProps,R=T!==void 0?un(un({},T),k[0].props):k[0].props,M=R.barSize,O=R[N];c[O]||(c[O]=[]);var I=Jt(M)?r:M;c[O].push({item:k[0],stackList:k.slice(1),barSize:Jt(I)?void 0:bf(I,n,0)})}}return c},JJ=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,c=s===void 0?[]:s,d=t.maxBarSize,f=c.length;if(f<1)return null;var p=bf(r,a,0,!0),g,h=[];if(c[0].barSize===+c[0].barSize){var x=!1,S=a/f,P=c.reduce(function(M,O){return M+O.barSize||0},0);P+=(f-1)*p,P>=a&&(P-=(f-1)*p,p=0),P>=a&&S>0&&(x=!0,S*=.9,P=f*S);var j=(a-P)/2>>0,N={offset:j-p,size:0};g=c.reduce(function(M,O){var I={item:O.item,position:{offset:N.offset+N.size+p,size:x?S:O.barSize}},D=[].concat(DT(M),[I]);return N=D[D.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(B){D.push({item:B,position:N})}),D},h)}else{var k=bf(n,a,0,!0);a-2*k-(f-1)*p<=0&&(p=0);var T=(a-2*k-(f-1)*p)/f;T>1&&(T>>=0);var R=d===+d?Math.min(T,d):T;g=c.reduce(function(M,O,I){var D=[].concat(DT(M),[{item:O.item,position:{offset:k+(T+p)*I+(T-R)/2,size:R}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(B){D.push({item:B,position:D[D.length-1].position})}),D},h)}return g},ZJ=function(t,r,n,a){var s=n.children,c=n.width,d=n.margin,f=c-(d.left||0)-(d.right||0),p=R5({children:s,legendWidth:f});if(p){var g=a||{},h=g.width,x=g.height,S=p.align,P=p.verticalAlign,j=p.layout;if((j==="vertical"||j==="horizontal"&&P==="middle")&&S!=="center"&&qe(t[S]))return un(un({},t),{},am({},S,t[S]+(h||0)));if((j==="horizontal"||j==="vertical"&&S==="center")&&P!=="middle"&&qe(t[P]))return un(un({},t),{},am({},P,t[P]+(x||0)))}return t},eZ=function(t,r,n){return Jt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},I5=function(t,r,n,a,s){var c=r.props.children,d=qo(c,Cb).filter(function(p){return eZ(a,s,p.props.direction)});if(d&&d.length){var f=d.map(function(p){return p.props.dataKey});return t.reduce(function(p,g){var h=zl(g,n);if(Jt(h))return p;var x=Array.isArray(h)?[Nb(h),Sb(h)]:[h,h],S=f.reduce(function(P,j){var N=zl(g,j,0),k=x[0]-Math.abs(Array.isArray(N)?N[0]:N),T=x[1]+Math.abs(Array.isArray(N)?N[1]:N);return[Math.min(k,P[0]),Math.max(T,P[1])]},[1/0,-1/0]);return[Math.min(S[0],p[0]),Math.max(S[1],p[1])]},[1/0,-1/0])}return null},tZ=function(t,r,n,a,s){var c=r.map(function(d){return I5(t,d,n,s,a)}).filter(function(d){return!Jt(d)});return c&&c.length?c.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]):null},M5=function(t,r,n,a,s){var c=r.map(function(f){var p=f.props.dataKey;return n==="number"&&p&&I5(t,f,p,a)||hg(t,p,n,s)});if(n==="number")return c.reduce(function(f,p){return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);var d={};return c.reduce(function(f,p){for(var g=0,h=p.length;g<h;g++)d[p[g]]||(d[p[g]]=!0,f.push(p[g]));return f},[])},D5=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},L5=function(t,r,n,a){if(a)return t.map(function(f){return f.coordinate});var s,c,d=t.map(function(f){return f.coordinate===r&&(s=!0),f.coordinate===n&&(c=!0),f.coordinate});return s||d.push(r),c||d.push(n),d},zc=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,c=t.type,d=t.range,f=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,p=(r||n)&&c==="category"&&a.bandwidth?a.bandwidth()/f:0;if(p=t.axisType==="angleAxis"&&d?.length>=2?Bo(d[0]-d[1])*2*p:p,r&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(h){var x=s?s.indexOf(h):h;return{coordinate:a(x)+p,value:h,offset:p}});return g.filter(function(h){return!hy(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,x){return{coordinate:a(h)+p,value:h,index:x,offset:p}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+p,value:h,offset:p}}):a.domain().map(function(h,x){return{coordinate:a(h)+p,value:s?s[h]:h,index:x,offset:p}})},tN=new WeakMap,gv=function(t,r){if(typeof r!="function")return t;tN.has(t)||tN.set(t,new WeakMap);var n=tN.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},rZ=function(t,r,n){var a=t.scale,s=t.type,c=t.layout,d=t.axisType;if(a==="auto")return c==="radial"&&d==="radiusAxis"?{scale:Og(),realScaleType:"band"}:c==="radial"&&d==="angleAxis"?{scale:u0(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:mg(),realScaleType:"point"}:s==="category"?{scale:Og(),realScaleType:"band"}:{scale:u0(),realScaleType:"linear"};if(vf(a)){var f="scale".concat(cb(a));return{scale:(ST[f]||mg)(),realScaleType:ST[f]?f:"point"}}return kt(a)?{scale:a}:{scale:mg(),realScaleType:"point"}},$T=1e-4,nZ=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-$T,c=Math.max(a[0],a[1])+$T,d=t(r[0]),f=t(r[n-1]);(d<s||d>c||f<s||f>c)&&t.domain([r[0],r[n-1]])}},aZ=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},iZ=function(t,r){if(!r||r.length!==2||!qe(r[0])||!qe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!qe(t[0])||t[0]<n)&&(s[0]=n),(!qe(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},sZ=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,c=0,d=0;d<r;++d){var f=hy(t[d][n][1])?t[d][n][0]:t[d][n][1];f>=0?(t[d][n][0]=s,t[d][n][1]=s+f,s=t[d][n][1]):(t[d][n][0]=c,t[d][n][1]=c+f,c=t[d][n][1])}},oZ=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,c=0;c<r;++c){var d=hy(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=s,t[c][n][1]=s+d,s=t[c][n][1]):(t[c][n][0]=0,t[c][n][1]=0)}},lZ={sign:sZ,expand:WH,none:fm,silhouette:HH,wiggle:VH,positive:oZ},cZ=function(t,r,n){var a=r.map(function(d){return d.props.dataKey}),s=lZ[n],c=zH().keys(a).value(function(d,f){return+zl(d,f,0)}).order(gj).offset(s);return c(t)},uZ=function(t,r,n,a,s,c){if(!t)return null;var d=c?r.reverse():r,f={},p=d.reduce(function(h,x){var S,P=(S=x.type)!==null&&S!==void 0&&S.defaultProps?un(un({},x.type.defaultProps),x.props):x.props,j=P.stackId,N=P.hide;if(N)return h;var k=P[n],T=h[k]||{hasStack:!1,stackGroups:{}};if(Un(j)){var R=T.stackGroups[j]||{numericAxisId:n,cateAxisId:a,items:[]};R.items.push(x),T.hasStack=!0,T.stackGroups[j]=R}else T.stackGroups[lb("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[x]};return un(un({},h),{},am({},k,T))},f),g={};return Object.keys(p).reduce(function(h,x){var S=p[x];if(S.hasStack){var P={};S.stackGroups=Object.keys(S.stackGroups).reduce(function(j,N){var k=S.stackGroups[N];return un(un({},j),{},am({},N,{numericAxisId:n,cateAxisId:a,items:k.items,stackedData:cZ(t,k.items,s)}))},P)}return un(un({},h),{},am({},x,S))},g)},dZ=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,c=r.originalDomain,d=r.allowDecimals,f=n||r.scale;if(f!=="auto"&&f!=="linear")return null;if(s&&a==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var p=t.domain();if(!p.length)return null;var g=SJ(p,s,d);return t.domain([Nb(g),Sb(g)]),{niceTicks:g}}if(s&&a==="number"){var h=t.domain(),x=NJ(h,s,d);return{niceTicks:x}}return null},FT=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,c=t.entry,d=t.index;if(r.type==="category")return n[d]?n[d].coordinate+a:null;var f=zl(c,r.dataKey,r.domain[d]);return Jt(f)?null:r.scale(f)-s/2+a},fZ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},pZ=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?un(un({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Un(s)){var c=r[s];if(c){var d=c.items.indexOf(t);return d>=0?c.stackedData[d]:null}}return null},mZ=function(t){return t.reduce(function(r,n){return[Nb(n.concat([r[0]]).filter(qe)),Sb(n.concat([r[1]]).filter(qe))]},[1/0,-1/0])},$5=function(t,r,n){return Object.keys(t).reduce(function(a,s){var c=t[s],d=c.stackedData,f=d.reduce(function(p,g){var h=mZ(g.slice(r,n+1));return[Math.min(p[0],h[0]),Math.max(p[1],h[1])]},[1/0,-1/0]);return[Math.min(f[0],a[0]),Math.max(f[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},BT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qj=function(t,r,n){if(kt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(qe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(BT.test(t[0])){var s=+BT.exec(t[0])[1];a[0]=r[0]-s}else kt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(qe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(qT.test(t[1])){var c=+qT.exec(t[1])[1];a[1]=r[1]+c}else kt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},y0=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=DC(r,function(h){return h.coordinate}),c=1/0,d=1,f=s.length;d<f;d++){var p=s[d],g=s[d-1];c=Math.min((p.coordinate||0)-(g.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0},UT=function(t,r,n){return!t||!t.length||sP(t,to(n,"type.defaultProps.domain"))?r:t},F5=function(t,r){var n=t.type.defaultProps?un(un({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,c=n.unit,d=n.formatter,f=n.tooltipType,p=n.chartType,g=n.hide;return un(un({},Qt(t,!1)),{},{dataKey:a,unit:c,formatter:d,name:s||a,color:cP(t),value:zl(r,a),type:f,payload:r,chartType:p,hide:g})};function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function zT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(r),!0).forEach(function(n){hZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hZ(e,t,r){return t=gZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gZ(e){var t=yZ(e,"string");return Bg(t)=="symbol"?t:t+""}function yZ(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v0=Math.PI/180,vZ=function(t){return t*180/Math.PI},ba=function(t,r,n,a){return{x:t+Math.cos(-v0*a)*n,y:r+Math.sin(-v0*a)*n}},bZ=function(t,r){var n=t.x,a=t.y,s=r.x,c=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-c,2))},xZ=function(t,r){var n=t.x,a=t.y,s=r.cx,c=r.cy,d=bZ({x:n,y:a},{x:s,y:c});if(d<=0)return{radius:d};var f=(n-s)/d,p=Math.acos(f);return a>c&&(p=2*Math.PI-p),{radius:d,angle:vZ(p),angleInRadian:p}},wZ=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(a,s);return{startAngle:r-c*360,endAngle:n-c*360}},SZ=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),c=Math.floor(a/360),d=Math.min(s,c);return t+d*360},HT=function(t,r){var n=t.x,a=t.y,s=xZ({x:n,y:a},r),c=s.radius,d=s.angle,f=r.innerRadius,p=r.outerRadius;if(c<f||c>p)return!1;if(c===0)return!0;var g=wZ(r),h=g.startAngle,x=g.endAngle,S=d,P;if(h<=x){for(;S>x;)S-=360;for(;S<h;)S+=360;P=S>=h&&S<=x}else{for(;S>h;)S-=360;for(;S<x;)S+=360;P=S>=x&&S<=h}return P?WT(WT({},r),{},{radius:c,angle:SZ(S,r)}):null};function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}var NZ=["offset"];function jZ(e){return AZ(e)||PZ(e)||CZ(e)||_Z()}function _Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CZ(e,t){if(e){if(typeof e=="string")return Uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uj(e,t)}}function PZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AZ(e){if(Array.isArray(e))return Uj(e)}function Uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EZ(e,t){if(e==null)return{};var r=kZ(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){OZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OZ(e,t,r){return t=TZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TZ(e){var t=RZ(e,"string");return qg(t)=="symbol"?t:t+""}function RZ(e,t){if(qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ug.apply(this,arguments)}var IZ=function(t){var r=t.value,n=t.formatter,a=Jt(t.children)?r:t.children;return kt(n)?n(a):a},MZ=function(t,r){var n=Bo(r-t),a=Math.min(Math.abs(r-t),360);return n*a},DZ=function(t,r,n){var a=t.position,s=t.viewBox,c=t.offset,d=t.className,f=s,p=f.cx,g=f.cy,h=f.innerRadius,x=f.outerRadius,S=f.startAngle,P=f.endAngle,j=f.clockWise,N=(h+x)/2,k=MZ(S,P),T=k>=0?1:-1,R,M;a==="insideStart"?(R=S+T*c,M=j):a==="insideEnd"?(R=P-T*c,M=!j):a==="end"&&(R=P+T*c,M=j),M=k<=0?M:!M;var O=ba(p,g,N,R),I=ba(p,g,N,R+(M?1:-1)*359),D="M".concat(O.x,",").concat(O.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(M?0:1,`,
    `).concat(I.x,",").concat(I.y),B=Jt(t.id)?lb("recharts-radial-line-"):t.id;return te.createElement("text",Ug({},n,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",d)}),te.createElement("defs",null,te.createElement("path",{id:B,d:D})),te.createElement("textPath",{xlinkHref:"#".concat(B)},r))},LZ=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,c=s.cx,d=s.cy,f=s.innerRadius,p=s.outerRadius,g=s.startAngle,h=s.endAngle,x=(g+h)/2;if(a==="outside"){var S=ba(c,d,p+n,x),P=S.x,j=S.y;return{x:P,y:j,textAnchor:P>=c?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:c,y:d,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:c,y:d,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:c,y:d,textAnchor:"middle",verticalAnchor:"end"};var N=(f+p)/2,k=ba(c,d,N,x),T=k.x,R=k.y;return{x:T,y:R,textAnchor:"middle",verticalAnchor:"middle"}},$Z=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,c=r,d=c.x,f=c.y,p=c.width,g=c.height,h=g>=0?1:-1,x=h*a,S=h>0?"end":"start",P=h>0?"start":"end",j=p>=0?1:-1,N=j*a,k=j>0?"end":"start",T=j>0?"start":"end";if(s==="top"){var R={x:d+p/2,y:f-h*a,textAnchor:"middle",verticalAnchor:S};return qn(qn({},R),n?{height:Math.max(f-n.y,0),width:p}:{})}if(s==="bottom"){var M={x:d+p/2,y:f+g+x,textAnchor:"middle",verticalAnchor:P};return qn(qn({},M),n?{height:Math.max(n.y+n.height-(f+g),0),width:p}:{})}if(s==="left"){var O={x:d-N,y:f+g/2,textAnchor:k,verticalAnchor:"middle"};return qn(qn({},O),n?{width:Math.max(O.x-n.x,0),height:g}:{})}if(s==="right"){var I={x:d+p+N,y:f+g/2,textAnchor:T,verticalAnchor:"middle"};return qn(qn({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:g}:{})}var D=n?{width:p,height:g}:{};return s==="insideLeft"?qn({x:d+N,y:f+g/2,textAnchor:T,verticalAnchor:"middle"},D):s==="insideRight"?qn({x:d+p-N,y:f+g/2,textAnchor:k,verticalAnchor:"middle"},D):s==="insideTop"?qn({x:d+p/2,y:f+x,textAnchor:"middle",verticalAnchor:P},D):s==="insideBottom"?qn({x:d+p/2,y:f+g-x,textAnchor:"middle",verticalAnchor:S},D):s==="insideTopLeft"?qn({x:d+N,y:f+x,textAnchor:T,verticalAnchor:P},D):s==="insideTopRight"?qn({x:d+p-N,y:f+x,textAnchor:k,verticalAnchor:P},D):s==="insideBottomLeft"?qn({x:d+N,y:f+g-x,textAnchor:T,verticalAnchor:S},D):s==="insideBottomRight"?qn({x:d+p-N,y:f+g-x,textAnchor:k,verticalAnchor:S},D):$m(s)&&(qe(s.x)||lf(s.x))&&(qe(s.y)||lf(s.y))?qn({x:d+bf(s.x,p),y:f+bf(s.y,g),textAnchor:"end",verticalAnchor:"end"},D):qn({x:d+p/2,y:f+g/2,textAnchor:"middle",verticalAnchor:"middle"},D)},FZ=function(t){return"cx"in t&&qe(t.cx)};function Ua(e){var t=e.offset,r=t===void 0?5:t,n=EZ(e,NZ),a=qn({offset:r},n),s=a.viewBox,c=a.position,d=a.value,f=a.children,p=a.content,g=a.className,h=g===void 0?"":g,x=a.textBreakAll;if(!s||Jt(d)&&Jt(f)&&!y.isValidElement(p)&&!kt(p))return null;if(y.isValidElement(p))return y.cloneElement(p,a);var S;if(kt(p)){if(S=y.createElement(p,a),y.isValidElement(S))return S}else S=IZ(a);var P=FZ(s),j=Qt(a,!0);if(P&&(c==="insideStart"||c==="insideEnd"||c==="end"))return DZ(a,S,j);var N=P?LZ(a):$Z(a);return te.createElement(n0,Ug({className:ht("recharts-label",h)},j,N,{breakAll:x}),S)}Ua.displayName="Label";var B5=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,c=t.endAngle,d=t.r,f=t.radius,p=t.innerRadius,g=t.outerRadius,h=t.x,x=t.y,S=t.top,P=t.left,j=t.width,N=t.height,k=t.clockWise,T=t.labelViewBox;if(T)return T;if(qe(j)&&qe(N)){if(qe(h)&&qe(x))return{x:h,y:x,width:j,height:N};if(qe(S)&&qe(P))return{x:S,y:P,width:j,height:N}}return qe(h)&&qe(x)?{x:h,y:x,width:0,height:0}:qe(r)&&qe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:c||a||0,innerRadius:p||0,outerRadius:g||f||d||0,clockWise:k}:t.viewBox?t.viewBox:{}},BZ=function(t,r){return t?t===!0?te.createElement(Ua,{key:"label-implicit",viewBox:r}):Un(t)?te.createElement(Ua,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===Ua?y.cloneElement(t,{key:"label-implicit",viewBox:r}):te.createElement(Ua,{key:"label-implicit",content:t,viewBox:r}):kt(t)?te.createElement(Ua,{key:"label-implicit",content:t,viewBox:r}):$m(t)?te.createElement(Ua,Ug({viewBox:r},t,{key:"label-implicit"})):null:null},qZ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=B5(t),c=qo(a,Ua).map(function(f,p){return y.cloneElement(f,{viewBox:r||s,key:"label-".concat(p)})});if(!n)return c;var d=BZ(t.label,r||s);return[d].concat(jZ(c))};Ua.parseViewBox=B5;Ua.renderCallByParent=qZ;var rN,GT;function UZ(){if(GT)return rN;GT=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return rN=e,rN}var zZ=UZ();const WZ=pr(zZ);function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}var HZ=["valueAccessor"],VZ=["data","dataKey","clockWise","id","textBreakAll"];function GZ(e){return QZ(e)||XZ(e)||YZ(e)||KZ()}function KZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YZ(e,t){if(e){if(typeof e=="string")return zj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zj(e,t)}}function XZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QZ(e){if(Array.isArray(e))return zj(e)}function zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b0.apply(this,arguments)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){JZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JZ(e,t,r){return t=ZZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZZ(e){var t=eee(e,"string");return zg(t)=="symbol"?t:t+""}function eee(e,t){if(zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XT(e,t){if(e==null)return{};var r=tee(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ree=function(t){return Array.isArray(t.value)?WZ(t.value):t.value};function Ku(e){var t=e.valueAccessor,r=t===void 0?ree:t,n=XT(e,HZ),a=n.data,s=n.dataKey,c=n.clockWise,d=n.id,f=n.textBreakAll,p=XT(n,VZ);return!a||!a.length?null:te.createElement(na,{className:"recharts-label-list"},a.map(function(g,h){var x=Jt(s)?r(g,h):zl(g&&g.payload,s),S=Jt(d)?{}:{id:"".concat(d,"-").concat(h)};return te.createElement(Ua,b0({},Qt(g,!0),p,S,{parentViewBox:g.parentViewBox,value:x,textBreakAll:f,viewBox:Ua.parseViewBox(Jt(c)?g:YT(YT({},g),{},{clockWise:c})),key:"label-".concat(h),index:h}))}))}Ku.displayName="LabelList";function nee(e,t){return e?e===!0?te.createElement(Ku,{key:"labelList-implicit",data:t}):te.isValidElement(e)||kt(e)?te.createElement(Ku,{key:"labelList-implicit",data:t,content:e}):$m(e)?te.createElement(Ku,b0({data:t},e,{key:"labelList-implicit"})):null:null}function aee(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=qo(n,Ku).map(function(c,d){return y.cloneElement(c,{data:t,key:"labelList-".concat(d)})});if(!r)return a;var s=nee(e.label,t);return[s].concat(GZ(a))}Ku.renderCallByParent=aee;function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function Wj(){return Wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wj.apply(this,arguments)}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){iee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iee(e,t,r){return t=see(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function see(e){var t=oee(e,"string");return Wg(t)=="symbol"?t:t+""}function oee(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lee=function(t,r){var n=Bo(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},yv=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,c=t.sign,d=t.isExternal,f=t.cornerRadius,p=t.cornerIsExternal,g=f*(d?1:-1)+a,h=Math.asin(f/g)/v0,x=p?s:s+c*h,S=ba(r,n,g,x),P=ba(r,n,a,x),j=p?s-c*h:s,N=ba(r,n,g*Math.cos(h*v0),j);return{center:S,circleTangency:P,lineTangency:N,theta:h}},q5=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,c=t.startAngle,d=t.endAngle,f=lee(c,d),p=c+f,g=ba(r,n,s,c),h=ba(r,n,s,p),x="M ".concat(g.x,",").concat(g.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(c>p),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var S=ba(r,n,a,c),P=ba(r,n,a,p);x+="L ".concat(P.x,",").concat(P.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(c<=p),`,
            `).concat(S.x,",").concat(S.y," Z")}else x+="L ".concat(r,",").concat(n," Z");return x},cee=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,c=t.cornerRadius,d=t.forceCornerRadius,f=t.cornerIsExternal,p=t.startAngle,g=t.endAngle,h=Bo(g-p),x=yv({cx:r,cy:n,radius:s,angle:p,sign:h,cornerRadius:c,cornerIsExternal:f}),S=x.circleTangency,P=x.lineTangency,j=x.theta,N=yv({cx:r,cy:n,radius:s,angle:g,sign:-h,cornerRadius:c,cornerIsExternal:f}),k=N.circleTangency,T=N.lineTangency,R=N.theta,M=f?Math.abs(p-g):Math.abs(p-g)-j-R;if(M<0)return d?"M ".concat(P.x,",").concat(P.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):q5({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:p,endAngle:g});var O="M ".concat(P.x,",").concat(P.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
  `);if(a>0){var I=yv({cx:r,cy:n,radius:a,angle:p,sign:h,isExternal:!0,cornerRadius:c,cornerIsExternal:f}),D=I.circleTangency,B=I.lineTangency,G=I.theta,X=yv({cx:r,cy:n,radius:a,angle:g,sign:-h,isExternal:!0,cornerRadius:c,cornerIsExternal:f}),Y=X.circleTangency,oe=X.lineTangency,se=X.theta,ie=f?Math.abs(p-g):Math.abs(p-g)-G-se;if(ie<0&&c===0)return"".concat(O,"L").concat(r,",").concat(n,"Z");O+="L".concat(oe.x,",").concat(oe.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(Y.x,",").concat(Y.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(ie>180),",").concat(+(h>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,"Z")}else O+="L".concat(r,",").concat(n,"Z");return O},uee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},U5=function(t){var r=JT(JT({},uee),t),n=r.cx,a=r.cy,s=r.innerRadius,c=r.outerRadius,d=r.cornerRadius,f=r.forceCornerRadius,p=r.cornerIsExternal,g=r.startAngle,h=r.endAngle,x=r.className;if(c<s||g===h)return null;var S=ht("recharts-sector",x),P=c-s,j=bf(d,P,0,!0),N;return j>0&&Math.abs(g-h)<360?N=cee({cx:n,cy:a,innerRadius:s,outerRadius:c,cornerRadius:Math.min(j,P/2),forceCornerRadius:f,cornerIsExternal:p,startAngle:g,endAngle:h}):N=q5({cx:n,cy:a,innerRadius:s,outerRadius:c,startAngle:g,endAngle:h}),te.createElement("path",Wj({},Qt(r,!0),{className:S,d:N,role:"img"}))};function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hj.apply(this,arguments)}function ZT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(r),!0).forEach(function(n){dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dee(e,t,r){return t=fee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fee(e){var t=pee(e,"string");return Hg(t)=="symbol"?t:t+""}function pee(e,t){if(Hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tR={curveBasisClosed:TH,curveBasisOpen:RH,curveBasis:OH,curveBumpX:yH,curveBumpY:vH,curveLinearClosed:IH,curveLinear:db,curveMonotoneX:MH,curveMonotoneY:DH,curveNatural:LH,curveStep:$H,curveStepAfter:BH,curveStepBefore:FH},vv=function(t){return t.x===+t.x&&t.y===+t.y},eg=function(t){return t.x},tg=function(t){return t.y},mee=function(t,r){if(kt(t))return t;var n="curve".concat(cb(t));return(n==="curveMonotone"||n==="curveBump")&&r?tR["".concat(n).concat(r==="vertical"?"Y":"X")]:tR[n]||db},hee=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,c=t.baseLine,d=t.layout,f=t.connectNulls,p=f===void 0?!1:f,g=mee(n,d),h=p?s.filter(function(j){return vv(j)}):s,x;if(Array.isArray(c)){var S=p?c.filter(function(j){return vv(j)}):c,P=h.map(function(j,N){return eR(eR({},j),{},{base:S[N]})});return d==="vertical"?x=cv().y(tg).x1(eg).x0(function(j){return j.base.x}):x=cv().x(eg).y1(tg).y0(function(j){return j.base.y}),x.defined(vv).curve(g),x(P)}return d==="vertical"&&qe(c)?x=cv().y(tg).x1(eg).x0(c):qe(c)?x=cv().x(eg).y1(tg).y0(c):x=V4().x(eg).y(tg),x.defined(vv).curve(g),x(h)},rR=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var c=n&&n.length?hee(t):a;return y.createElement("path",Hj({},Qt(t,!1),Hv(t),{className:ht("recharts-curve",r),d:c,ref:s}))},nN={exports:{}},aN,nR;function gee(){if(nR)return aN;nR=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return aN=e,aN}var iN,aR;function yee(){if(aR)return iN;aR=1;var e=gee();function t(){}function r(){}return r.resetWarningCache=t,iN=function(){function n(c,d,f,p,g,h){if(h!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},iN}var iR;function vee(){return iR||(iR=1,nN.exports=yee()()),nN.exports}var bee=vee();const nr=pr(bee);var xee=Object.getOwnPropertyNames,wee=Object.getOwnPropertySymbols,See=Object.prototype.hasOwnProperty;function sR(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function bv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,c=s.get(r),d=s.get(n);if(c&&d)return c===n&&d===r;s.set(r,n),s.set(n,r);var f=e(r,n,a);return s.delete(r),s.delete(n),f}}function Nee(e){return e?.[Symbol.toStringTag]}function oR(e){return xee(e).concat(wee(e))}var jee=Object.hasOwn||(function(e,t){return See.call(e,t)});function Ef(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var _ee="__v",Cee="__o",Pee="_owner",lR=Object.getOwnPropertyDescriptor,cR=Object.keys;function Aee(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Eee(e,t){return Ef(e.getTime(),t.getTime())}function kee(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Oee(e,t){return e===t}function uR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),c,d,f=0;(c=s.next())&&!c.done;){for(var p=t.entries(),g=!1,h=0;(d=p.next())&&!d.done;){if(a[h]){h++;continue}var x=c.value,S=d.value;if(r.equals(x[0],S[0],f,h,e,t,r)&&r.equals(x[1],S[1],x[0],S[0],e,t,r)){g=a[h]=!0;break}h++}if(!g)return!1;f++}return!0}var Tee=Ef;function Ree(e,t,r){var n=cR(e),a=n.length;if(cR(t).length!==a)return!1;for(;a-- >0;)if(!z5(e,t,r,n[a]))return!1;return!0}function rg(e,t,r){var n=oR(e),a=n.length;if(oR(t).length!==a)return!1;for(var s,c,d;a-- >0;)if(s=n[a],!z5(e,t,r,s)||(c=lR(e,s),d=lR(t,s),(c||d)&&(!c||!d||c.configurable!==d.configurable||c.enumerable!==d.enumerable||c.writable!==d.writable)))return!1;return!0}function Iee(e,t){return Ef(e.valueOf(),t.valueOf())}function Mee(e,t){return e.source===t.source&&e.flags===t.flags}function dR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),c,d;(c=s.next())&&!c.done;){for(var f=t.values(),p=!1,g=0;(d=f.next())&&!d.done;){if(!a[g]&&r.equals(c.value,d.value,c.value,d.value,e,t,r)){p=a[g]=!0;break}g++}if(!p)return!1}return!0}function Dee(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Lee(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function z5(e,t,r,n){return(n===Pee||n===Cee||n===_ee)&&(e.$$typeof||t.$$typeof)?!0:jee(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var $ee="[object Arguments]",Fee="[object Boolean]",Bee="[object Date]",qee="[object Error]",Uee="[object Map]",zee="[object Number]",Wee="[object Object]",Hee="[object RegExp]",Vee="[object Set]",Gee="[object String]",Kee="[object URL]",Yee=Array.isArray,fR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,pR=Object.assign,Xee=Object.prototype.toString.call.bind(Object.prototype.toString);function Qee(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,c=e.areNumbersEqual,d=e.areObjectsEqual,f=e.arePrimitiveWrappersEqual,p=e.areRegExpsEqual,g=e.areSetsEqual,h=e.areTypedArraysEqual,x=e.areUrlsEqual,S=e.unknownTagComparators;return function(j,N,k){if(j===N)return!0;if(j==null||N==null)return!1;var T=typeof j;if(T!==typeof N)return!1;if(T!=="object")return T==="number"?c(j,N,k):T==="function"?a(j,N,k):!1;var R=j.constructor;if(R!==N.constructor)return!1;if(R===Object)return d(j,N,k);if(Yee(j))return t(j,N,k);if(fR!=null&&fR(j))return h(j,N,k);if(R===Date)return r(j,N,k);if(R===RegExp)return p(j,N,k);if(R===Map)return s(j,N,k);if(R===Set)return g(j,N,k);var M=Xee(j);if(M===Bee)return r(j,N,k);if(M===Hee)return p(j,N,k);if(M===Uee)return s(j,N,k);if(M===Vee)return g(j,N,k);if(M===Wee)return typeof j.then!="function"&&typeof N.then!="function"&&d(j,N,k);if(M===Kee)return x(j,N,k);if(M===qee)return n(j,N,k);if(M===$ee)return d(j,N,k);if(M===Fee||M===zee||M===Gee)return f(j,N,k);if(S){var O=S[M];if(!O){var I=Nee(j);I&&(O=S[I])}if(O)return O(j,N,k)}return!1}}function Jee(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?rg:Aee,areDatesEqual:Eee,areErrorsEqual:kee,areFunctionsEqual:Oee,areMapsEqual:n?sR(uR,rg):uR,areNumbersEqual:Tee,areObjectsEqual:n?rg:Ree,arePrimitiveWrappersEqual:Iee,areRegExpsEqual:Mee,areSetsEqual:n?sR(dR,rg):dR,areTypedArraysEqual:n?rg:Dee,areUrlsEqual:Lee,unknownTagComparators:void 0};if(r&&(a=pR({},a,r(a))),t){var s=bv(a.areArraysEqual),c=bv(a.areMapsEqual),d=bv(a.areObjectsEqual),f=bv(a.areSetsEqual);a=pR({},a,{areArraysEqual:s,areMapsEqual:c,areObjectsEqual:d,areSetsEqual:f})}return a}function Zee(e){return function(t,r,n,a,s,c,d){return e(t,r,d)}}function ete(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(f,p){var g=n(),h=g.cache,x=h===void 0?t?new WeakMap:void 0:h,S=g.meta;return r(f,p,{cache:x,equals:a,meta:S,strict:s})};if(t)return function(f,p){return r(f,p,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var c={cache:void 0,equals:a,meta:void 0,strict:s};return function(f,p){return r(f,p,c)}}var tte=ad();ad({strict:!0});ad({circular:!0});ad({circular:!0,strict:!0});ad({createInternalComparator:function(){return Ef}});ad({strict:!0,createInternalComparator:function(){return Ef}});ad({circular:!0,createInternalComparator:function(){return Ef}});ad({circular:!0,createInternalComparator:function(){return Ef},strict:!0});function ad(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,c=s===void 0?!1:s,d=Jee(e),f=Qee(d),p=n?n(f):Zee(f);return ete({circular:r,comparator:f,createState:a,equals:p,strict:c})}function rte(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function mR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):rte(a)};requestAnimationFrame(n)}function Vj(e){"@babel/helpers - typeof";return Vj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vj(e)}function nte(e){return ote(e)||ste(e)||ite(e)||ate()}function ate(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ite(e,t){if(e){if(typeof e=="string")return hR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hR(e,t)}}function hR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ste(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ote(e){if(Array.isArray(e))return e}function lte(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,d=nte(c),f=d[0],p=d.slice(1);if(typeof f=="number"){mR(a.bind(null,p),f);return}a(f),mR(a.bind(null,p));return}Vj(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){W5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W5(e,t,r){return t=cte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cte(e){var t=ute(e,"string");return Vg(t)==="symbol"?t:String(t)}function ute(e,t){if(Vg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dte=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},fte=function(t){return t},pte=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gg=function(t,r){return Object.keys(r).reduce(function(n,a){return yR(yR({},n),{},W5({},a,t(a,r[a])))},{})},vR=function(t,r,n){return t.map(function(a){return"".concat(pte(a)," ").concat(r,"ms ").concat(n)}).join(",")};function mte(e,t){return yte(e)||gte(e,t)||H5(e,t)||hte()}function hte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,d=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(d.push(n.value),d.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return d}}function yte(e){if(Array.isArray(e))return e}function vte(e){return wte(e)||xte(e)||H5(e)||bte()}function bte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H5(e,t){if(e){if(typeof e=="string")return Gj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gj(e,t)}}function xte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wte(e){if(Array.isArray(e))return Gj(e)}function Gj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x0=1e-4,V5=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},G5=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},bR=function(t,r){return function(n){var a=V5(t,r);return G5(a,n)}},Ste=function(t,r){return function(n){var a=V5(t,r),s=[].concat(vte(a.map(function(c,d){return c*d}).slice(1)),[0]);return G5(s,n)}},xR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],c=r[2],d=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,c=1,d=1;break;case"ease":a=.25,s=.1,c=.25,d=1;break;case"ease-in":a=.42,s=0,c=1,d=1;break;case"ease-out":a=.42,s=0,c=.58,d=1;break;case"ease-in-out":a=0,s=0,c=.58,d=1;break;default:{var f=r[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var p=f[1].split(")")[0].split(",").map(function(N){return parseFloat(N)}),g=mte(p,4);a=g[0],s=g[1],c=g[2],d=g[3]}}}var h=bR(a,c),x=bR(s,d),S=Ste(a,c),P=function(k){return k>1?1:k<0?0:k},j=function(k){for(var T=k>1?1:k,R=T,M=0;M<8;++M){var O=h(R)-T,I=S(R);if(Math.abs(O-T)<x0||I<x0)return x(R);R=P(R-O/I)}return x(R)};return j.isStepper=!1,j},Nte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,c=t.dt,d=c===void 0?17:c,f=function(g,h,x){var S=-(g-h)*n,P=x*s,j=x+(S-P)*d/1e3,N=x*d/1e3+g;return Math.abs(N-h)<x0&&Math.abs(j)<x0?[h,0]:[N,j]};return f.isStepper=!0,f.dt=d,f},jte=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xR(a);case"spring":return Nte();default:if(a.split("(")[0]==="cubic-bezier")return xR(a)}return typeof a=="function"?a:null};function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function wR(e){return Pte(e)||Cte(e)||K5(e)||_te()}function _te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pte(e){if(Array.isArray(e))return Yj(e)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){Kj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kj(e,t,r){return t=Ate(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ate(e){var t=Ete(e,"string");return Gg(t)==="symbol"?t:String(t)}function Ete(e,t){if(Gg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kte(e,t){return Rte(e)||Tte(e,t)||K5(e,t)||Ote()}function Ote(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K5(e,t){if(e){if(typeof e=="string")return Yj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yj(e,t)}}function Yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,d=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(d.push(n.value),d.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return d}}function Rte(e){if(Array.isArray(e))return e}var w0=function(t,r,n){return t+(r-t)*n},Xj=function(t){var r=t.from,n=t.to;return r!==n},Ite=function e(t,r,n){var a=gg(function(s,c){if(Xj(c)){var d=t(c.from,c.to,c.velocity),f=kte(d,2),p=f[0],g=f[1];return ya(ya({},c),{},{from:p,velocity:g})}return c},r);return n<1?gg(function(s,c){return Xj(c)?ya(ya({},c),{},{velocity:w0(c.velocity,a[s].velocity,n),from:w0(c.from,a[s].from,n)}):c},r):e(t,a,n-1)};const Mte=(function(e,t,r,n,a){var s=dte(e,t),c=s.reduce(function(N,k){return ya(ya({},N),{},Kj({},k,[e[k],t[k]]))},{}),d=s.reduce(function(N,k){return ya(ya({},N),{},Kj({},k,{from:e[k],velocity:0,to:t[k]}))},{}),f=-1,p,g,h=function(){return null},x=function(){return gg(function(k,T){return T.from},d)},S=function(){return!Object.values(d).filter(Xj).length},P=function(k){p||(p=k);var T=k-p,R=T/r.dt;d=Ite(r,d,R),a(ya(ya(ya({},e),t),x())),p=k,S()||(f=requestAnimationFrame(h))},j=function(k){g||(g=k);var T=(k-g)/n,R=gg(function(O,I){return w0.apply(void 0,wR(I).concat([r(T)]))},c);if(a(ya(ya(ya({},e),t),R)),T<1)f=requestAnimationFrame(h);else{var M=gg(function(O,I){return w0.apply(void 0,wR(I).concat([r(1)]))},c);a(ya(ya(ya({},e),t),M))}};return h=r.isStepper?P:j,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(f)}}});function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}var Dte=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Lte(e,t){if(e==null)return{};var r=$te(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $te(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function sN(e){return Ute(e)||qte(e)||Bte(e)||Fte()}function Fte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bte(e,t){if(e){if(typeof e=="string")return Qj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qj(e,t)}}function qte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ute(e){if(Array.isArray(e))return Qj(e)}function Qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){dg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dg(e,t,r){return t=Y5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y5(n.key),n)}}function Hte(e,t,r){return t&&Wte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y5(e){var t=Vte(e,"string");return wm(t)==="symbol"?t:String(t)}function Vte(e,t){if(wm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jj(e,t)}function Jj(e,t){return Jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jj(e,t)}function Kte(e){var t=Yte();return function(){var n=S0(e),a;if(t){var s=S0(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Zj(this,a)}}function Zj(e,t){if(t&&(wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e_(e)}function e_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S0(e){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S0(e)}var Ju=(function(e){Gte(r,e);var t=Kte(r);function r(n,a){var s;zte(this,r),s=t.call(this,n,a);var c=s.props,d=c.isActive,f=c.attributeName,p=c.from,g=c.to,h=c.steps,x=c.children,S=c.duration;if(s.handleStyleChange=s.handleStyleChange.bind(e_(s)),s.changeStyle=s.changeStyle.bind(e_(s)),!d||S<=0)return s.state={style:{}},typeof x=="function"&&(s.state={style:g}),Zj(s);if(h&&h.length)s.state={style:h[0].style};else if(p){if(typeof x=="function")return s.state={style:p},Zj(s);s.state={style:f?dg({},f,p):p}}else s.state={style:{}};return s}return Hte(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,c=a.canBegin;this.mounted=!0,!(!s||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,c=s.isActive,d=s.canBegin,f=s.attributeName,p=s.shouldReAnimate,g=s.to,h=s.from,x=this.state.style;if(d){if(!c){var S={style:f?dg({},f,g):g};this.state&&x&&(f&&x[f]!==g||!f&&x!==g)&&this.setState(S);return}if(!(tte(a.to,g)&&a.canBegin&&a.isActive)){var P=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=P||p?h:a.to;if(this.state&&x){var N={style:f?dg({},f,j):j};(f&&x[f]!==j||!f&&x!==j)&&this.setState(N)}this.runAnimation(Mo(Mo({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,c=a.from,d=a.to,f=a.duration,p=a.easing,g=a.begin,h=a.onAnimationEnd,x=a.onAnimationStart,S=Mte(c,d,jte(p),f,this.changeStyle),P=function(){s.stopJSAnimation=S()};this.manager.start([x,g,P,f,h])}},{key:"runStepAnimation",value:function(a){var s=this,c=a.steps,d=a.begin,f=a.onAnimationStart,p=c[0],g=p.style,h=p.duration,x=h===void 0?0:h,S=function(j,N,k){if(k===0)return j;var T=N.duration,R=N.easing,M=R===void 0?"ease":R,O=N.style,I=N.properties,D=N.onAnimationEnd,B=k>0?c[k-1]:N,G=I||Object.keys(O);if(typeof M=="function"||M==="spring")return[].concat(sN(j),[s.runJSAnimation.bind(s,{from:B.style,to:O,duration:T,easing:M}),T]);var X=vR(G,T,M),Y=Mo(Mo(Mo({},B.style),O),{},{transition:X});return[].concat(sN(j),[Y,T,D]).filter(fte)};return this.manager.start([f].concat(sN(c.reduce(S,[g,Math.max(x,d)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=lte());var s=a.begin,c=a.duration,d=a.attributeName,f=a.to,p=a.easing,g=a.onAnimationStart,h=a.onAnimationEnd,x=a.steps,S=a.children,P=this.manager;if(this.unSubscribe=P.subscribe(this.handleStyleChange),typeof p=="function"||typeof S=="function"||p==="spring"){this.runJSAnimation(a);return}if(x.length>1){this.runStepAnimation(a);return}var j=d?dg({},d,f):f,N=vR(Object.keys(j),c,p);P.start([g,s,Mo(Mo({},j),{},{transition:N}),c,h])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var c=a.duration;a.attributeName,a.easing;var d=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var f=Lte(a,Dte),p=y.Children.count(s),g=this.state.style;if(typeof s=="function")return s(g);if(!d||p===0||c<=0)return s;var h=function(S){var P=S.props,j=P.style,N=j===void 0?{}:j,k=P.className,T=y.cloneElement(S,Mo(Mo({},f),{},{style:Mo(Mo({},N),g),className:k}));return T};return p===1?h(y.Children.only(s)):te.createElement("div",null,y.Children.map(s,function(x){return h(x)}))}}]),r})(y.PureComponent);Ju.displayName="Animate";Ju.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ju.propTypes={from:nr.oneOfType([nr.object,nr.string]),to:nr.oneOfType([nr.object,nr.string]),attributeName:nr.string,duration:nr.number,begin:nr.number,easing:nr.oneOfType([nr.string,nr.func]),steps:nr.arrayOf(nr.shape({duration:nr.number.isRequired,style:nr.object.isRequired,easing:nr.oneOfType([nr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nr.func]),properties:nr.arrayOf("string"),onAnimationEnd:nr.func})),children:nr.oneOfType([nr.node,nr.func]),isActive:nr.bool,canBegin:nr.bool,onAnimationEnd:nr.func,shouldReAnimate:nr.bool,onAnimationStart:nr.func,onAnimationReStart:nr.func};function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(this,arguments)}function Xte(e,t){return ere(e)||Zte(e,t)||Jte(e,t)||Qte()}function Qte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(e,t){if(e){if(typeof e=="string")return jR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jR(e,t)}}function jR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,d=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(d.push(n.value),d.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return d}}function ere(e){if(Array.isArray(e))return e}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){tre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tre(e,t,r){return t=rre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rre(e){var t=nre(e,"string");return Kg(t)=="symbol"?t:t+""}function nre(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PR=function(t,r,n,a,s){var c=Math.min(Math.abs(n)/2,Math.abs(a)/2),d=a>=0?1:-1,f=n>=0?1:-1,p=a>=0&&n>=0||a<0&&n<0?1:0,g;if(c>0&&s instanceof Array){for(var h=[0,0,0,0],x=0,S=4;x<S;x++)h[x]=s[x]>c?c:s[x];g="M".concat(t,",").concat(r+d*h[0]),h[0]>0&&(g+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(p,",").concat(t+f*h[0],",").concat(r)),g+="L ".concat(t+n-f*h[1],",").concat(r),h[1]>0&&(g+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(p,`,
        `).concat(t+n,",").concat(r+d*h[1])),g+="L ".concat(t+n,",").concat(r+a-d*h[2]),h[2]>0&&(g+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(p,`,
        `).concat(t+n-f*h[2],",").concat(r+a)),g+="L ".concat(t+f*h[3],",").concat(r+a),h[3]>0&&(g+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(p,`,
        `).concat(t,",").concat(r+a-d*h[3])),g+="Z"}else if(c>0&&s===+s&&s>0){var P=Math.min(c,s);g="M ".concat(t,",").concat(r+d*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(p,",").concat(t+f*P,",").concat(r,`
            L `).concat(t+n-f*P,",").concat(r,`
            A `).concat(P,",").concat(P,",0,0,").concat(p,",").concat(t+n,",").concat(r+d*P,`
            L `).concat(t+n,",").concat(r+a-d*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(p,",").concat(t+n-f*P,",").concat(r+a,`
            L `).concat(t+f*P,",").concat(r+a,`
            A `).concat(P,",").concat(P,",0,0,").concat(p,",").concat(t,",").concat(r+a-d*P," Z")}else g="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return g},are=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,c=r.y,d=r.width,f=r.height;if(Math.abs(d)>0&&Math.abs(f)>0){var p=Math.min(s,s+d),g=Math.max(s,s+d),h=Math.min(c,c+f),x=Math.max(c,c+f);return n>=p&&n<=g&&a>=h&&a<=x}return!1},ire={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uP=function(t){var r=CR(CR({},ire),t),n=y.useRef(),a=y.useState(-1),s=Xte(a,2),c=s[0],d=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&d(M)}catch{}},[]);var f=r.x,p=r.y,g=r.width,h=r.height,x=r.radius,S=r.className,P=r.animationEasing,j=r.animationDuration,N=r.animationBegin,k=r.isAnimationActive,T=r.isUpdateAnimationActive;if(f!==+f||p!==+p||g!==+g||h!==+h||g===0||h===0)return null;var R=ht("recharts-rectangle",S);return T?te.createElement(Ju,{canBegin:c>0,from:{width:g,height:h,x:f,y:p},to:{width:g,height:h,x:f,y:p},duration:j,animationEasing:P,isActive:T},function(M){var O=M.width,I=M.height,D=M.x,B=M.y;return te.createElement(Ju,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:j,isActive:k,easing:P},te.createElement("path",N0({},Qt(r,!0),{className:R,d:PR(D,B,O,I,x),ref:n})))}):te.createElement("path",N0({},Qt(r,!0),{className:R,d:PR(f,p,g,h,x)}))};function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(this,arguments)}var X5=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,c=ht("recharts-dot",s);return r===+r&&n===+n&&a===+a?y.createElement("circle",t_({},Qt(t,!1),Hv(t),{className:c,cx:r,cy:n,r:a})):null};function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}var sre=["x","y","top","left","width","height","className"];function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(this,arguments)}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ore(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){lre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lre(e,t,r){return t=cre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cre(e){var t=ure(e,"string");return Yg(t)=="symbol"?t:t+""}function ure(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dre(e,t){if(e==null)return{};var r=fre(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pre=function(t,r,n,a,s,c){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(c,",").concat(r,"h").concat(n)},mre=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,c=t.top,d=c===void 0?0:c,f=t.left,p=f===void 0?0:f,g=t.width,h=g===void 0?0:g,x=t.height,S=x===void 0?0:x,P=t.className,j=dre(t,sre),N=ore({x:n,y:s,top:d,left:p,width:h,height:S},j);return!qe(n)||!qe(s)||!qe(h)||!qe(S)||!qe(d)||!qe(p)?null:te.createElement("path",r_({},Qt(N,!0),{className:ht("recharts-cross",P),d:pre(n,s,h,S,d,p)}))},oN,ER;function hre(){if(ER)return oN;ER=1;var e=hL(),t=e(Object.getPrototypeOf,Object);return oN=t,oN}var lN,kR;function gre(){if(kR)return lN;kR=1;var e=eu(),t=hre(),r=tu(),n="[object Object]",a=Function.prototype,s=Object.prototype,c=a.toString,d=s.hasOwnProperty,f=c.call(Object);function p(g){if(!r(g)||e(g)!=n)return!1;var h=t(g);if(h===null)return!0;var x=d.call(h,"constructor")&&h.constructor;return typeof x=="function"&&x instanceof x&&c.call(x)==f}return lN=p,lN}var yre=gre();const vre=pr(yre);var cN,OR;function bre(){if(OR)return cN;OR=1;var e=eu(),t=tu(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return cN=n,cN}var xre=bre();const wre=pr(xre);function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j0.apply(this,arguments)}function Sre(e,t){return Cre(e)||_re(e,t)||jre(e,t)||Nre()}function Nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jre(e,t){if(e){if(typeof e=="string")return TR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TR(e,t)}}function TR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _re(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,d=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(d.push(n.value),d.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return d}}function Cre(e){if(Array.isArray(e))return e}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){Pre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pre(e,t,r){return t=Are(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Are(e){var t=Ere(e,"string");return Xg(t)=="symbol"?t:t+""}function Ere(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MR=function(t,r,n,a,s){var c=n-a,d;return d="M ".concat(t,",").concat(r),d+="L ".concat(t+n,",").concat(r),d+="L ".concat(t+n-c/2,",").concat(r+s),d+="L ".concat(t+n-c/2-a,",").concat(r+s),d+="L ".concat(t,",").concat(r," Z"),d},kre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ore=function(t){var r=IR(IR({},kre),t),n=y.useRef(),a=y.useState(-1),s=Sre(a,2),c=s[0],d=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&d(R)}catch{}},[]);var f=r.x,p=r.y,g=r.upperWidth,h=r.lowerWidth,x=r.height,S=r.className,P=r.animationEasing,j=r.animationDuration,N=r.animationBegin,k=r.isUpdateAnimationActive;if(f!==+f||p!==+p||g!==+g||h!==+h||x!==+x||g===0&&h===0||x===0)return null;var T=ht("recharts-trapezoid",S);return k?te.createElement(Ju,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:x,x:f,y:p},to:{upperWidth:g,lowerWidth:h,height:x,x:f,y:p},duration:j,animationEasing:P,isActive:k},function(R){var M=R.upperWidth,O=R.lowerWidth,I=R.height,D=R.x,B=R.y;return te.createElement(Ju,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:j,easing:P},te.createElement("path",j0({},Qt(r,!0),{className:T,d:MR(D,B,M,O,I),ref:n})))}):te.createElement("g",null,te.createElement("path",j0({},Qt(r,!0),{className:T,d:MR(f,p,g,h,x)})))},Tre=["option","shapeType","propTransformer","activeClassName","isActive"];function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function Rre(e,t){if(e==null)return{};var r=Ire(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ire(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){Mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mre(e,t,r){return t=Dre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dre(e){var t=Lre(e,"string");return Qg(t)=="symbol"?t:t+""}function Lre(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $re(e,t){return _0(_0({},t),e)}function Fre(e,t){return e==="symbols"}function LR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return te.createElement(uP,r);case"trapezoid":return te.createElement(Ore,r);case"sector":return te.createElement(U5,r);case"symbols":if(Fre(t))return te.createElement(AC,r);break;default:return null}}function Bre(e){return y.isValidElement(e)?e.props:e}function qre(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?$re:n,s=e.activeClassName,c=s===void 0?"recharts-active-shape":s,d=e.isActive,f=Rre(e,Tre),p;if(y.isValidElement(t))p=y.cloneElement(t,_0(_0({},f),Bre(t)));else if(kt(t))p=t(f);else if(vre(t)&&!wre(t)){var g=a(t,f);p=te.createElement(LR,{shapeType:r,elementProps:g})}else{var h=f;p=te.createElement(LR,{shapeType:r,elementProps:h})}return d?te.createElement(na,{className:c},p):p}function Pb(e,t){return t!=null&&"trapezoids"in e.props}function Ab(e,t){return t!=null&&"sectors"in e.props}function Jg(e,t){return t!=null&&"points"in e.props}function Ure(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function zre(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Wre(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Hre(e,t){var r;return Pb(e,t)?r=Ure:Ab(e,t)?r=zre:Jg(e,t)&&(r=Wre),r}function Vre(e,t){var r;return Pb(e,t)?r="trapezoids":Ab(e,t)?r="sectors":Jg(e,t)&&(r="points"),r}function Gre(e,t){if(Pb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ab(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Jg(e,t)?t.payload:{}}function Kre(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Vre(r,t),s=Gre(r,t),c=n.filter(function(f,p){var g=sP(s,f),h=r.props[a].filter(function(P){var j=Hre(r,t);return j(P,t)}),x=r.props[a].indexOf(h[h.length-1]),S=p===x;return g&&S}),d=n.indexOf(c[c.length-1]);return d}var uN,$R;function Yre(){if($R)return uN;$R=1;var e=Math.ceil,t=Math.max;function r(n,a,s,c){for(var d=-1,f=t(e((a-n)/(s||1)),0),p=Array(f);f--;)p[c?f:++d]=n,n+=s;return p}return uN=r,uN}var dN,FR;function Q5(){if(FR)return dN;FR=1;var e=OL(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var s=a<0?-1:1;return s*r}return a===a?a:0}return dN=n,dN}var fN,BR;function Xre(){if(BR)return fN;BR=1;var e=Yre(),t=hb(),r=Q5();function n(a){return function(s,c,d){return d&&typeof d!="number"&&t(s,c,d)&&(c=d=void 0),s=r(s),c===void 0?(c=s,s=0):c=r(c),d=d===void 0?s<c?1:-1:r(d),e(s,c,d,a)}}return fN=n,fN}var pN,qR;function Qre(){if(qR)return pN;qR=1;var e=Xre(),t=e();return pN=t,pN}var Jre=Qre();const C0=pr(Jre);function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){J5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J5(e,t,r){return t=Zre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zre(e){var t=ene(e,"string");return Zg(t)=="symbol"?t:t+""}function ene(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tne=["Webkit","Moz","O","ms"],rne=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=tne.reduce(function(s,c){return zR(zR({},s),{},J5({},c+n,r))},{});return a[t]=r,a};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function WR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(r),!0).forEach(function(n){fs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e$(n.key),n)}}function ane(e,t,r){return t&&HR(e.prototype,t),r&&HR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ine(e,t,r){return t=A0(t),sne(e,Z5()?Reflect.construct(t,r||[],A0(e).constructor):t.apply(e,r))}function sne(e,t){if(t&&(Sm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return one(e)}function one(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z5=function(){return!!e})()}function A0(e){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A0(e)}function lne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n_(e,t)}function n_(e,t){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n_(e,t)}function fs(e,t,r){return t=e$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e$(e){var t=cne(e,"string");return Sm(t)=="symbol"?t:t+""}function cne(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var une=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,c=t.width,d=t.travellerWidth;if(!r||!r.length)return{};var f=r.length,p=mg().domain(C0(0,f)).range([s,s+c-d]),g=p.domain().map(function(h){return p(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:p(n),endX:p(a),scale:p,scaleValues:g}},VR=function(t){return t.changedTouches&&!!t.changedTouches.length},Nm=(function(e){function t(r){var n;return nne(this,t),n=ine(this,t,[r]),fs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),fs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),fs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,c=a.onDragEnd,d=a.startIndex;c?.({endIndex:s,startIndex:d})}),n.detachDragEndListener()}),fs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),fs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),fs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),fs(n,"handleSlideDragStart",function(a){var s=VR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return lne(t,e),ane(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,c=this.state.scaleValues,d=this.props,f=d.gap,p=d.data,g=p.length-1,h=Math.min(a,s),x=Math.max(a,s),S=t.getIndexInRange(c,h),P=t.getIndexInRange(c,x);return{startIndex:S-S%f,endIndex:P===g?g:P-P%f}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,c=a.tickFormatter,d=a.dataKey,f=zl(s[n],d,n);return kt(c)?c(f,n):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,c=a.startX,d=a.endX,f=this.props,p=f.x,g=f.width,h=f.travellerWidth,x=f.startIndex,S=f.endIndex,P=f.onChange,j=n.pageX-s;j>0?j=Math.min(j,p+g-h-d,p+g-h-c):j<0&&(j=Math.max(j,p-c,p-d));var N=this.getIndex({startX:c+j,endX:d+j});(N.startIndex!==x||N.endIndex!==S)&&P&&P(N),this.setState({startX:c+j,endX:d+j,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=VR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,c=a.movingTravellerId,d=a.endX,f=a.startX,p=this.state[c],g=this.props,h=g.x,x=g.width,S=g.travellerWidth,P=g.onChange,j=g.gap,N=g.data,k={startX:this.state.startX,endX:this.state.endX},T=n.pageX-s;T>0?T=Math.min(T,h+x-S-p):T<0&&(T=Math.max(T,h-p)),k[c]=p+T;var R=this.getIndex(k),M=R.startIndex,O=R.endIndex,I=function(){var B=N.length-1;return c==="startX"&&(d>f?M%j===0:O%j===0)||d<f&&O===B||c==="endX"&&(d>f?O%j===0:M%j===0)||d>f&&O===B};this.setState(fs(fs({},c,p+T),"brushMoveStartX",n.pageX),function(){P&&I()&&P(R)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,c=this.state,d=c.scaleValues,f=c.startX,p=c.endX,g=this.state[a],h=d.indexOf(g);if(h!==-1){var x=h+n;if(!(x===-1||x>=d.length)){var S=d[x];a==="startX"&&S>=p||a==="endX"&&S<=f||this.setState(fs({},a,S),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,d=n.height,f=n.fill,p=n.stroke;return te.createElement("rect",{stroke:p,fill:f,x:a,y:s,width:c,height:d})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,d=n.height,f=n.data,p=n.children,g=n.padding,h=y.Children.only(p);return h?te.cloneElement(h,{x:a,y:s,width:c,height:d,margin:g,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,c,d=this,f=this.props,p=f.y,g=f.travellerWidth,h=f.height,x=f.traveller,S=f.ariaLabel,P=f.data,j=f.startIndex,N=f.endIndex,k=Math.max(n,this.props.x),T=mN(mN({},Qt(this.props,!1)),{},{x:k,y:p,width:g,height:h}),R=S||"Min value: ".concat((s=P[j])===null||s===void 0?void 0:s.name,", Max value: ").concat((c=P[N])===null||c===void 0?void 0:c.name);return te.createElement(na,{tabIndex:0,role:"slider","aria-label":R,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),d.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,a))},onFocus:function(){d.setState({isTravellerFocused:!0})},onBlur:function(){d.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(x,T))}},{key:"renderSlide",value:function(n,a){var s=this.props,c=s.y,d=s.height,f=s.stroke,p=s.travellerWidth,g=Math.min(n,a)+p,h=Math.max(Math.abs(a-n)-p,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:g,y:c,width:h,height:d})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,c=n.y,d=n.height,f=n.travellerWidth,p=n.stroke,g=this.state,h=g.startX,x=g.endX,S=5,P={pointerEvents:"none",fill:p};return te.createElement(na,{className:"recharts-brush-texts"},te.createElement(n0,P0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,x)-S,y:c+d/2},P),this.getTextOfTick(a)),te.createElement(n0,P0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,x)+f+S,y:c+d/2},P),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,c=n.children,d=n.x,f=n.y,p=n.width,g=n.height,h=n.alwaysShowText,x=this.state,S=x.startX,P=x.endX,j=x.isTextActive,N=x.isSlideMoving,k=x.isTravellerMoving,T=x.isTravellerFocused;if(!a||!a.length||!qe(d)||!qe(f)||!qe(p)||!qe(g)||p<=0||g<=0)return null;var R=ht("recharts-brush",s),M=te.Children.count(c)===1,O=rne("userSelect","none");return te.createElement(na,{className:R,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(S,P),this.renderTravellerLayer(S,"startX"),this.renderTravellerLayer(P,"endX"),(j||N||k||T||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,c=n.width,d=n.height,f=n.stroke,p=Math.floor(s+d/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:a,y:s,width:c,height:d,fill:f,stroke:"none"}),te.createElement("line",{x1:a+1,y1:p,x2:a+c-1,y2:p,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:a+1,y1:p+2,x2:a+c-1,y2:p+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return te.isValidElement(n)?s=te.cloneElement(n,a):kt(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,c=n.width,d=n.x,f=n.travellerWidth,p=n.updateId,g=n.startIndex,h=n.endIndex;if(s!==a.prevData||p!==a.prevUpdateId)return mN({prevData:s,prevTravellerWidth:f,prevUpdateId:p,prevX:d,prevWidth:c},s&&s.length?une({data:s,width:c,x:d,travellerWidth:f,startIndex:g,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(c!==a.prevWidth||d!==a.prevX||f!==a.prevTravellerWidth)){a.scale.range([d,d+c-f]);var x=a.scale.domain().map(function(S){return a.scale(S)});return{prevData:s,prevTravellerWidth:f,prevUpdateId:p,prevX:d,prevWidth:c,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,c=0,d=s-1;d-c>1;){var f=Math.floor((c+d)/2);n[f]>a?d=f:c=f}return a>=n[d]?d:c}}])})(y.PureComponent);fs(Nm,"displayName","Brush");fs(Nm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hN,GR;function dne(){if(GR)return hN;GR=1;var e=MC();function t(r,n){var a;return e(r,function(s,c,d){return a=n(s,c,d),!a}),!!a}return hN=t,hN}var gN,KR;function fne(){if(KR)return gN;KR=1;var e=lL(),t=td(),r=dne(),n=zi(),a=hb();function s(c,d,f){var p=n(c)?e:r;return f&&a(c,d,f)&&(d=void 0),p(c,t(d,3))}return gN=s,gN}var pne=fne();const mne=pr(pne);var Fl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},yN,YR;function hne(){if(YR)return yN;YR=1;var e=CL();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return yN=t,yN}var vN,XR;function gne(){if(XR)return vN;XR=1;var e=hne(),t=jL(),r=td();function n(a,s){var c={};return s=r(s,3),t(a,function(d,f,p){e(c,f,s(d,f,p))}),c}return vN=n,vN}var yne=gne();const vne=pr(yne);var bN,QR;function bne(){if(QR)return bN;QR=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return bN=e,bN}var xN,JR;function xne(){if(JR)return xN;JR=1;var e=MC();function t(r,n){var a=!0;return e(r,function(s,c,d){return a=!!n(s,c,d),a}),a}return xN=t,xN}var wN,ZR;function wne(){if(ZR)return wN;ZR=1;var e=bne(),t=xne(),r=td(),n=zi(),a=hb();function s(c,d,f){var p=n(c)?e:t;return f&&a(c,d,f)&&(d=void 0),p(c,r(d,3))}return wN=s,wN}var Sne=wne();const t$=pr(Sne);var Nne=["x","y"];function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a_.apply(this,arguments)}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ng(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(n){jne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jne(e,t,r){return t=_ne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ne(e){var t=Cne(e,"string");return ey(t)=="symbol"?t:t+""}function Cne(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pne(e,t){if(e==null)return{};var r=Ane(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ane(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ene(e,t){var r=e.x,n=e.y,a=Pne(e,Nne),s="".concat(r),c=parseInt(s,10),d="".concat(n),f=parseInt(d,10),p="".concat(t.height||a.height),g=parseInt(p,10),h="".concat(t.width||a.width),x=parseInt(h,10);return ng(ng(ng(ng(ng({},t),a),c?{x:c}:{}),f?{y:f}:{}),{},{height:g,width:x,name:t.name,radius:t.radius})}function tI(e){return te.createElement(qre,a_({shapeType:"rectangle",propTransformer:Ene,activeClassName:"recharts-active-bar"},e))}var kne=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=qe(n)||FW(n);return s?t(n,a):(s||wf(),r)}},One=["value","background"],r$;function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function Tne(e,t){if(e==null)return{};var r=Rne(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(this,arguments)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){Uu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ine(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a$(n.key),n)}}function Mne(e,t,r){return t&&nI(e.prototype,t),r&&nI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dne(e,t,r){return t=k0(t),Lne(e,n$()?Reflect.construct(t,r||[],k0(e).constructor):t.apply(e,r))}function Lne(e,t){if(t&&(jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ne(e)}function $ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n$=function(){return!!e})()}function k0(e){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k0(e)}function Fne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i_(e,t)}function i_(e,t){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i_(e,t)}function Uu(e,t,r){return t=a$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a$(e){var t=Bne(e,"string");return jm(t)=="symbol"?t:t+""}function Bne(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kf=(function(e){function t(){var r;Ine(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Dne(this,t,[].concat(a)),Uu(r,"state",{isAnimationFinished:!1}),Uu(r,"id",lb("recharts-bar-")),Uu(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),c&&c()}),Uu(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),c&&c()}),r}return Fne(t,e),Mne(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,c=s.shape,d=s.dataKey,f=s.activeIndex,p=s.activeBar,g=Qt(this.props,!1);return n&&n.map(function(h,x){var S=x===f,P=S?p:c,j=On(On(On({},g),h),{},{isActive:S,option:P,index:x,dataKey:d,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return te.createElement(na,E0({className:"recharts-bar-rectangle"},Vv(a.props,h,x),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(x)}),te.createElement(tI,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,c=a.layout,d=a.isAnimationActive,f=a.animationBegin,p=a.animationDuration,g=a.animationEasing,h=a.animationId,x=this.state.prevData;return te.createElement(Ju,{begin:f,duration:p,isActive:d,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var P=S.t,j=s.map(function(N,k){var T=x&&x[k];if(T){var R=zp(T.x,N.x),M=zp(T.y,N.y),O=zp(T.width,N.width),I=zp(T.height,N.height);return On(On({},N),{},{x:R(P),y:M(P),width:O(P),height:I(P)})}if(c==="horizontal"){var D=zp(0,N.height),B=D(P);return On(On({},N),{},{y:N.y+N.height-B,height:B})}var G=zp(0,N.width),X=G(P);return On(On({},N),{},{width:X})});return te.createElement(na,null,n.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,c=this.state.prevData;return s&&a&&a.length&&(!c||!sP(c,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,c=a.dataKey,d=a.activeIndex,f=Qt(this.props.background,!1);return s.map(function(p,g){p.value;var h=p.background,x=Tne(p,One);if(!h)return null;var S=On(On(On(On(On({},x),{},{fill:"#eee"},h),f),Vv(n.props,p,g)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:c,index:g,className:"recharts-bar-background-rectangle"});return te.createElement(tI,E0({key:"background-bar-".concat(g),option:n.props.background,isActive:g===d},S))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.data,d=s.xAxis,f=s.yAxis,p=s.layout,g=s.children,h=qo(g,Cb);if(!h)return null;var x=p==="vertical"?c[0].height/2:c[0].width/2,S=function(N,k){var T=Array.isArray(N.value)?N.value[1]:N.value;return{x:N.x,y:N.y,value:T,errorVal:zl(N,k)}},P={clipPath:n?"url(#clipPath-".concat(a,")"):null};return te.createElement(na,P,h.map(function(j){return te.cloneElement(j,{key:"error-bar-".concat(a,"-").concat(j.props.dataKey),data:c,xAxis:d,yAxis:f,layout:p,offset:x,dataPointFormatter:S})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,c=n.className,d=n.xAxis,f=n.yAxis,p=n.left,g=n.top,h=n.width,x=n.height,S=n.isAnimationActive,P=n.background,j=n.id;if(a||!s||!s.length)return null;var N=this.state.isAnimationFinished,k=ht("recharts-bar",c),T=d&&d.allowDataOverflow,R=f&&f.allowDataOverflow,M=T||R,O=Jt(j)?this.id:j;return te.createElement(na,{className:k},T||R?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(O)},te.createElement("rect",{x:T?p:p-h/2,y:R?g:g-x/2,width:T?h:h*2,height:R?x:x*2}))):null,te.createElement(na,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(O,")"):null},P?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,O),(!S||N)&&Ku.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(y.PureComponent);r$=kf;Uu(kf,"displayName","Bar");Uu(kf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yy.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Uu(kf,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,c=e.yAxis,d=e.xAxisTicks,f=e.yAxisTicks,p=e.stackedData,g=e.dataStartIndex,h=e.displayedData,x=e.offset,S=aZ(n,r);if(!S)return null;var P=t.layout,j=r.type.defaultProps,N=j!==void 0?On(On({},j),r.props):r.props,k=N.dataKey,T=N.children,R=N.minPointSize,M=P==="horizontal"?c:s,O=p?M.scale.domain():null,I=fZ({numericAxis:M}),D=qo(T,RL),B=h.map(function(G,X){var Y,oe,se,ie,K,ne;p?Y=iZ(p[g+X],O):(Y=zl(G,k),Array.isArray(Y)||(Y=[I,Y]));var ee=kne(R,r$.defaultProps.minPointSize)(Y[1],X);if(P==="horizontal"){var z,fe=[c.scale(Y[0]),c.scale(Y[1])],pe=fe[0],q=fe[1];oe=FT({axis:s,ticks:d,bandSize:a,offset:S.offset,entry:G,index:X}),se=(z=q??pe)!==null&&z!==void 0?z:void 0,ie=S.size;var J=pe-q;if(K=Number.isNaN(J)?0:J,ne={x:oe,y:c.y,width:ie,height:c.height},Math.abs(ee)>0&&Math.abs(K)<Math.abs(ee)){var de=Bo(K||ee)*(Math.abs(ee)-Math.abs(K));se-=de,K+=de}}else{var be=[s.scale(Y[0]),s.scale(Y[1])],Ae=be[0],Ie=be[1];if(oe=Ae,se=FT({axis:c,ticks:f,bandSize:a,offset:S.offset,entry:G,index:X}),ie=Ie-Ae,K=S.size,ne={x:s.x,y:se,width:s.width,height:K},Math.abs(ee)>0&&Math.abs(ie)<Math.abs(ee)){var Fe=Bo(ie||ee)*(Math.abs(ee)-Math.abs(ie));ie+=Fe}}return On(On(On({},G),{},{x:oe,y:se,width:ie,height:K,value:p?Y:Y[1],payload:G,background:ne},D&&D[X]&&D[X].props),{},{tooltipPayload:[F5(r,G)],tooltipPosition:{x:oe+ie/2,y:se+K/2}})});return On({data:B,layout:P},x)});function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function qne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i$(n.key),n)}}function Une(e,t,r){return t&&aI(e.prototype,t),r&&aI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(n){Eb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eb(e,t,r){return t=i$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i$(e){var t=zne(e,"string");return ty(t)=="symbol"?t:t+""}function zne(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wne=function(t,r,n,a,s){var c=t.width,d=t.height,f=t.layout,p=t.children,g=Object.keys(r),h={left:n.left,leftMirror:n.left,right:c-n.right,rightMirror:c-n.right,top:n.top,topMirror:n.top,bottom:d-n.bottom,bottomMirror:d-n.bottom},x=!!ps(p,kf);return g.reduce(function(S,P){var j=r[P],N=j.orientation,k=j.domain,T=j.padding,R=T===void 0?{}:T,M=j.mirror,O=j.reversed,I="".concat(N).concat(M?"Mirror":""),D,B,G,X,Y;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var oe=k[1]-k[0],se=1/0,ie=j.categoricalDomain.sort(UW);if(ie.forEach(function(be,Ae){Ae>0&&(se=Math.min((be||0)-(ie[Ae-1]||0),se))}),Number.isFinite(se)){var K=se/oe,ne=j.layout==="vertical"?n.height:n.width;if(j.padding==="gap"&&(D=K*ne/2),j.padding==="no-gap"){var ee=bf(t.barCategoryGap,K*ne),z=K*ne/2;D=z-ee-(z-ee)/ne*ee}}}a==="xAxis"?B=[n.left+(R.left||0)+(D||0),n.left+n.width-(R.right||0)-(D||0)]:a==="yAxis"?B=f==="horizontal"?[n.top+n.height-(R.bottom||0),n.top+(R.top||0)]:[n.top+(R.top||0)+(D||0),n.top+n.height-(R.bottom||0)-(D||0)]:B=j.range,O&&(B=[B[1],B[0]]);var fe=rZ(j,s,x),pe=fe.scale,q=fe.realScaleType;pe.domain(k).range(B),nZ(pe);var J=dZ(pe,$o($o({},j),{},{realScaleType:q}));a==="xAxis"?(Y=N==="top"&&!M||N==="bottom"&&M,G=n.left,X=h[I]-Y*j.height):a==="yAxis"&&(Y=N==="left"&&!M||N==="right"&&M,G=h[I]-Y*j.width,X=n.top);var de=$o($o($o({},j),J),{},{realScaleType:q,x:G,y:X,scale:pe,width:a==="xAxis"?n.width:j.width,height:a==="yAxis"?n.height:j.height});return de.bandSize=y0(de,J),!j.hide&&a==="xAxis"?h[I]+=(Y?-1:1)*de.height:j.hide||(h[I]+=(Y?-1:1)*de.width),$o($o({},S),{},Eb({},P,de))},{})},s$=function(t,r){var n=t.x,a=t.y,s=r.x,c=r.y;return{x:Math.min(n,s),y:Math.min(a,c),width:Math.abs(s-n),height:Math.abs(c-a)}},Hne=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return s$({x:r,y:n},{x:a,y:s})},o$=(function(){function e(t){qne(this,e),this.scale=t}return Une(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}case"end":{var d=this.bandwidth?this.bandwidth():0;return this.scale(r)+d}default:return this.scale(r)}if(a){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+f}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();Eb(o$,"EPS",1e-4);var dP=function(t){var r=Object.keys(t).reduce(function(n,a){return $o($o({},n),{},Eb({},a,o$.create(t[a])))},{});return $o($o({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.bandAware,d=s.position;return vne(a,function(f,p){return r[p].apply(f,{bandAware:c,position:d})})},isInRange:function(a){return t$(a,function(s,c){return r[c].isInRange(s)})}})};function Vne(e){return(e%180+180)%180}var Gne=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Vne(a),c=s*Math.PI/180,d=Math.atan(n/r),f=c>d&&c<Math.PI-d?n/Math.sin(c):r/Math.cos(c);return Math.abs(f)},SN,sI;function Kne(){if(sI)return SN;sI=1;var e=td(),t=gy(),r=pb();function n(a){return function(s,c,d){var f=Object(s);if(!t(s)){var p=e(c,3);s=r(s),c=function(h){return p(f[h],h,f)}}var g=a(s,c,d);return g>-1?f[p?s[g]:g]:void 0}}return SN=n,SN}var NN,oI;function Yne(){if(oI)return NN;oI=1;var e=Q5();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return NN=t,NN}var jN,lI;function Xne(){if(lI)return jN;lI=1;var e=bL(),t=td(),r=Yne(),n=Math.max;function a(s,c,d){var f=s==null?0:s.length;if(!f)return-1;var p=d==null?0:r(d);return p<0&&(p=n(f+p,0)),e(s,t(c,3),p)}return jN=a,jN}var _N,cI;function Qne(){if(cI)return _N;cI=1;var e=Kne(),t=Xne(),r=e(t);return _N=r,_N}var Jne=Qne();const Zne=pr(Jne);var eae=M4();const tae=pr(eae);var rae=tae(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),fP=y.createContext(void 0),pP=y.createContext(void 0),l$=y.createContext(void 0),c$=y.createContext({}),u$=y.createContext(void 0),d$=y.createContext(0),f$=y.createContext(0),uI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,c=t.clipPathId,d=t.children,f=t.width,p=t.height,g=rae(s);return te.createElement(fP.Provider,{value:n},te.createElement(pP.Provider,{value:a},te.createElement(c$.Provider,{value:s},te.createElement(l$.Provider,{value:g},te.createElement(u$.Provider,{value:c},te.createElement(d$.Provider,{value:p},te.createElement(f$.Provider,{value:f},d)))))))},nae=function(){return y.useContext(u$)},p$=function(t){var r=y.useContext(fP);r==null&&wf();var n=r[t];return n==null&&wf(),n},aae=function(){var t=y.useContext(fP);return qu(t)},iae=function(){var t=y.useContext(pP),r=Zne(t,function(n){return t$(n.domain,Number.isFinite)});return r||qu(t)},m$=function(t){var r=y.useContext(pP);r==null&&wf();var n=r[t];return n==null&&wf(),n},sae=function(){var t=y.useContext(l$);return t},oae=function(){return y.useContext(c$)},mP=function(){return y.useContext(f$)},hP=function(){return y.useContext(d$)};function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function lae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g$(n.key),n)}}function uae(e,t,r){return t&&cae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dae(e,t,r){return t=O0(t),fae(e,h$()?Reflect.construct(t,r||[],O0(e).constructor):t.apply(e,r))}function fae(e,t){if(t&&(_m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pae(e)}function pae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!e})()}function O0(e){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O0(e)}function mae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s_(e,t)}function s_(e,t){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s_(e,t)}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){gP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gP(e,t,r){return t=g$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g$(e){var t=hae(e,"string");return _m(t)=="symbol"?t:t+""}function hae(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gae(e,t){return xae(e)||bae(e,t)||vae(e,t)||yae()}function yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(e,t){if(e){if(typeof e=="string")return pI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pI(e,t)}}function pI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,d=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(d.push(n.value),d.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return d}}function xae(e){if(Array.isArray(e))return e}function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o_.apply(this,arguments)}var wae=function(t,r){var n;return te.isValidElement(t)?n=te.cloneElement(t,r):kt(t)?n=t(r):n=te.createElement("line",o_({},r,{className:"recharts-reference-line-line"})),n},Sae=function(t,r,n,a,s,c,d,f,p){var g=s.x,h=s.y,x=s.width,S=s.height;if(n){var P=p.y,j=t.y.apply(P,{position:c});if(Fl(p,"discard")&&!t.y.isInRange(j))return null;var N=[{x:g+x,y:j},{x:g,y:j}];return f==="left"?N.reverse():N}if(r){var k=p.x,T=t.x.apply(k,{position:c});if(Fl(p,"discard")&&!t.x.isInRange(T))return null;var R=[{x:T,y:h+S},{x:T,y:h}];return d==="top"?R.reverse():R}if(a){var M=p.segment,O=M.map(function(I){return t.apply(I,{position:c})});return Fl(p,"discard")&&mne(O,function(I){return!t.isInRange(I)})?null:O}return null};function Nae(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,c=e.shape,d=e.className,f=e.alwaysShow,p=nae(),g=p$(a),h=m$(s),x=sae();if(!p||!x)return null;Gc(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var S=dP({x:g.scale,y:h.scale}),P=Un(t),j=Un(r),N=n&&n.length===2,k=Sae(S,P,j,N,x,e.position,g.orientation,h.orientation,e);if(!k)return null;var T=gae(k,2),R=T[0],M=R.x,O=R.y,I=T[1],D=I.x,B=I.y,G=Fl(e,"hidden")?"url(#".concat(p,")"):void 0,X=fI(fI({clipPath:G},Qt(e,!0)),{},{x1:M,y1:O,x2:D,y2:B});return te.createElement(na,{className:ht("recharts-reference-line",d)},wae(c,X),Ua.renderCallByParent(e,Hne({x1:M,y1:O,x2:D,y2:B})))}var yP=(function(e){function t(){return lae(this,t),dae(this,t,arguments)}return mae(t,e),uae(t,[{key:"render",value:function(){return te.createElement(Nae,this.props)}}])})(te.Component);gP(yP,"displayName","ReferenceLine");gP(yP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l_.apply(this,arguments)}function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(n){kb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v$(n.key),n)}}function Cae(e,t,r){return t&&_ae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pae(e,t,r){return t=T0(t),Aae(e,y$()?Reflect.construct(t,r||[],T0(e).constructor):t.apply(e,r))}function Aae(e,t){if(t&&(Cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eae(e)}function Eae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!e})()}function T0(e){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T0(e)}function kae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c_(e,t)}function c_(e,t){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c_(e,t)}function kb(e,t,r){return t=v$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v$(e){var t=Oae(e,"string");return Cm(t)=="symbol"?t:t+""}function Oae(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tae=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,c=dP({x:a.scale,y:s.scale}),d=c.apply({x:r,y:n},{bandAware:!0});return Fl(t,"discard")&&!c.isInRange(d)?null:d},Ob=(function(e){function t(){return jae(this,t),Pae(this,t,arguments)}return kae(t,e),Cae(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,c=n.r,d=n.alwaysShow,f=n.clipPathId,p=Un(a),g=Un(s);if(Gc(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!p||!g)return null;var h=Tae(this.props);if(!h)return null;var x=h.x,S=h.y,P=this.props,j=P.shape,N=P.className,k=Fl(this.props,"hidden")?"url(#".concat(f,")"):void 0,T=hI(hI({clipPath:k},Qt(this.props,!0)),{},{cx:x,cy:S});return te.createElement(na,{className:ht("recharts-reference-dot",N)},t.renderDot(j,T),Ua.renderCallByParent(this.props,{x:x-c,y:S-c,width:2*c,height:2*c}))}}])})(te.Component);kb(Ob,"displayName","ReferenceDot");kb(Ob,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});kb(Ob,"renderDot",function(e,t){var r;return te.isValidElement(e)?r=te.cloneElement(e,t):kt(e)?r=e(t):r=te.createElement(X5,l_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function u_(){return u_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u_.apply(this,arguments)}function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){Tb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x$(n.key),n)}}function Mae(e,t,r){return t&&Iae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dae(e,t,r){return t=R0(t),Lae(e,b$()?Reflect.construct(t,r||[],R0(e).constructor):t.apply(e,r))}function Lae(e,t){if(t&&(Pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ae(e)}function $ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!e})()}function R0(e){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R0(e)}function Fae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d_(e,t)}function d_(e,t){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d_(e,t)}function Tb(e,t,r){return t=x$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x$(e){var t=Bae(e,"string");return Pm(t)=="symbol"?t:t+""}function Bae(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qae=function(t,r,n,a,s){var c=s.x1,d=s.x2,f=s.y1,p=s.y2,g=s.xAxis,h=s.yAxis;if(!g||!h)return null;var x=dP({x:g.scale,y:h.scale}),S={x:t?x.x.apply(c,{position:"start"}):x.x.rangeMin,y:n?x.y.apply(f,{position:"start"}):x.y.rangeMin},P={x:r?x.x.apply(d,{position:"end"}):x.x.rangeMax,y:a?x.y.apply(p,{position:"end"}):x.y.rangeMax};return Fl(s,"discard")&&(!x.isInRange(S)||!x.isInRange(P))?null:s$(S,P)},Rb=(function(e){function t(){return Rae(this,t),Dae(this,t,arguments)}return Fae(t,e),Mae(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,c=n.y1,d=n.y2,f=n.className,p=n.alwaysShow,g=n.clipPathId;Gc(p===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Un(a),x=Un(s),S=Un(c),P=Un(d),j=this.props.shape;if(!h&&!x&&!S&&!P&&!j)return null;var N=qae(h,x,S,P,this.props);if(!N&&!j)return null;var k=Fl(this.props,"hidden")?"url(#".concat(g,")"):void 0;return te.createElement(na,{className:ht("recharts-reference-area",f)},t.renderRect(j,yI(yI({clipPath:k},Qt(this.props,!0)),N)),Ua.renderCallByParent(this.props,N))}}])})(te.Component);Tb(Rb,"displayName","ReferenceArea");Tb(Rb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Tb(Rb,"renderRect",function(e,t){var r;return te.isValidElement(e)?r=te.cloneElement(e,t):kt(e)?r=e(t):r=te.createElement(uP,u_({},t,{className:"recharts-reference-area-rect"})),r});function w$(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Uae(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Gne(n,r)}function zae(e,t,r){var n=r==="width",a=e.x,s=e.y,c=e.width,d=e.height;return t===1?{start:n?a:s,end:n?a+c:s+d}:{start:n?a+c:s+d,end:n?a:s}}function I0(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Wae(e,t){return w$(e,t+1)}function Hae(e,t,r,n,a){for(var s=(n||[]).slice(),c=t.start,d=t.end,f=0,p=1,g=c,h=function(){var P=n?.[f];if(P===void 0)return{v:w$(n,p)};var j=f,N,k=function(){return N===void 0&&(N=r(P,j)),N},T=P.coordinate,R=f===0||I0(e,T,k,g,d);R||(f=0,g=c,p+=1),R&&(g=T+e*(k()/2+a),f+=p)},x;p<=s.length;)if(x=h(),x)return x.v;return[]}function ry(e){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ry(e)}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){Vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vae(e,t,r){return t=Gae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gae(e){var t=Kae(e,"string");return ry(t)=="symbol"?t:t+""}function Kae(e,t){if(ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yae(e,t,r,n,a){for(var s=(n||[]).slice(),c=s.length,d=t.start,f=t.end,p=function(x){var S=s[x],P,j=function(){return P===void 0&&(P=r(S,x)),P};if(x===c-1){var N=e*(S.coordinate+e*j()/2-f);s[x]=S=qa(qa({},S),{},{tickCoord:N>0?S.coordinate-N*e:S.coordinate})}else s[x]=S=qa(qa({},S),{},{tickCoord:S.coordinate});var k=I0(e,S.tickCoord,j,d,f);k&&(f=S.tickCoord-e*(j()/2+a),s[x]=qa(qa({},S),{},{isShow:!0}))},g=c-1;g>=0;g--)p(g);return s}function Xae(e,t,r,n,a,s){var c=(n||[]).slice(),d=c.length,f=t.start,p=t.end;if(s){var g=n[d-1],h=r(g,d-1),x=e*(g.coordinate+e*h/2-p);c[d-1]=g=qa(qa({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate});var S=I0(e,g.tickCoord,function(){return h},f,p);S&&(p=g.tickCoord-e*(h/2+a),c[d-1]=qa(qa({},g),{},{isShow:!0}))}for(var P=s?d-1:d,j=function(T){var R=c[T],M,O=function(){return M===void 0&&(M=r(R,T)),M};if(T===0){var I=e*(R.coordinate-e*O()/2-f);c[T]=R=qa(qa({},R),{},{tickCoord:I<0?R.coordinate-I*e:R.coordinate})}else c[T]=R=qa(qa({},R),{},{tickCoord:R.coordinate});var D=I0(e,R.tickCoord,O,f,p);D&&(f=R.tickCoord+e*(O()/2+a),c[T]=qa(qa({},R),{},{isShow:!0}))},N=0;N<P;N++)j(N);return c}function vP(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,c=e.minTickGap,d=e.orientation,f=e.interval,p=e.tickFormatter,g=e.unit,h=e.angle;if(!a||!a.length||!n)return[];if(qe(f)||yy.isSsr)return Wae(a,typeof f=="number"&&qe(f)?f:0);var x=[],S=d==="top"||d==="bottom"?"width":"height",P=g&&S==="width"?pg(g,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=function(R,M){var O=kt(p)?p(R.value,M):R.value;return S==="width"?Uae(pg(O,{fontSize:t,letterSpacing:r}),P,h):pg(O,{fontSize:t,letterSpacing:r})[S]},N=a.length>=2?Bo(a[1].coordinate-a[0].coordinate):1,k=zae(s,N,S);return f==="equidistantPreserveStart"?Hae(N,k,j,a,c):(f==="preserveStart"||f==="preserveStartEnd"?x=Xae(N,k,j,a,c,f==="preserveStartEnd"):x=Yae(N,k,j,a,c),x.filter(function(T){return T.isShow}))}var Qae=["viewBox"],Jae=["viewBox"],Zae=["ticks"];function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xp.apply(this,arguments)}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){bP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CN(e,t){if(e==null)return{};var r=eie(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N$(n.key),n)}}function rie(e,t,r){return t&&xI(e.prototype,t),r&&xI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nie(e,t,r){return t=M0(t),aie(e,S$()?Reflect.construct(t,r||[],M0(e).constructor):t.apply(e,r))}function aie(e,t){if(t&&(Am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iie(e)}function iie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!e})()}function M0(e){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M0(e)}function sie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f_(e,t)}function bP(e,t,r){return t=N$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N$(e){var t=oie(e,"string");return Am(t)=="symbol"?t:t+""}function oie(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zm=(function(e){function t(r){var n;return tie(this,t),n=nie(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return sie(t,e),rie(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,c=CN(n,Qae),d=this.props,f=d.viewBox,p=CN(d,Jae);return!tm(s,f)||!tm(c,p)||!tm(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,c=a.y,d=a.width,f=a.height,p=a.orientation,g=a.tickSize,h=a.mirror,x=a.tickMargin,S,P,j,N,k,T,R=h?-1:1,M=n.tickSize||g,O=qe(n.tickCoord)?n.tickCoord:n.coordinate;switch(p){case"top":S=P=n.coordinate,N=c+ +!h*f,j=N-R*M,T=j-R*x,k=O;break;case"left":j=N=n.coordinate,P=s+ +!h*d,S=P-R*M,k=S-R*x,T=O;break;case"right":j=N=n.coordinate,P=s+ +h*d,S=P+R*M,k=S+R*x,T=O;break;default:S=P=n.coordinate,N=c+ +h*f,j=N+R*M,T=j+R*x,k=O;break}return{line:{x1:S,y1:j,x2:P,y2:N},tick:{x:k,y:T}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,c;switch(a){case"left":c=s?"start":"end";break;case"right":c=s?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,c="end";switch(a){case"left":case"right":c="middle";break;case"top":c=s?"start":"end";break;default:c=s?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,d=n.height,f=n.orientation,p=n.mirror,g=n.axisLine,h=Bn(Bn(Bn({},Qt(this.props,!1)),Qt(g,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var x=+(f==="top"&&!p||f==="bottom"&&p);h=Bn(Bn({},h),{},{x1:a,y1:s+x*d,x2:a+c,y2:s+x*d})}else{var S=+(f==="left"&&!p||f==="right"&&p);h=Bn(Bn({},h),{},{x1:a+S*c,y1:s,x2:a+S*c,y2:s+d})}return te.createElement("line",Xp({},h,{className:ht("recharts-cartesian-axis-line",to(g,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var c=this,d=this.props,f=d.tickLine,p=d.stroke,g=d.tick,h=d.tickFormatter,x=d.unit,S=vP(Bn(Bn({},this.props),{},{ticks:n}),a,s),P=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),N=Qt(this.props,!1),k=Qt(g,!1),T=Bn(Bn({},N),{},{fill:"none"},Qt(f,!1)),R=S.map(function(M,O){var I=c.getTickLineCoord(M),D=I.line,B=I.tick,G=Bn(Bn(Bn(Bn({textAnchor:P,verticalAnchor:j},N),{},{stroke:"none",fill:p},k),B),{},{index:O,payload:M,visibleTicksCount:S.length,tickFormatter:h});return te.createElement(na,Xp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Vv(c.props,M,O)),f&&te.createElement("line",Xp({},T,D,{className:ht("recharts-cartesian-axis-tick-line",to(f,"className"))})),g&&t.renderTickItem(g,G,"".concat(kt(h)?h(M.value,O):M.value).concat(x||"")))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,c=a.width,d=a.height,f=a.ticksGenerator,p=a.className,g=a.hide;if(g)return null;var h=this.props,x=h.ticks,S=CN(h,Zae),P=x;return kt(f)&&(P=x&&x.length>0?f(this.props):f(S)),c<=0||d<=0||!P||!P.length?null:te.createElement(na,{className:ht("recharts-cartesian-axis",p),ref:function(N){n.layerReference=N}},s&&this.renderAxisLine(),this.renderTicks(P,this.state.fontSize,this.state.letterSpacing),Ua.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var c,d=ht(a.className,"recharts-cartesian-axis-tick-value");return te.isValidElement(n)?c=te.cloneElement(n,Bn(Bn({},a),{},{className:d})):kt(n)?c=n(Bn(Bn({},a),{},{className:d})):c=te.createElement(n0,Xp({},a,{className:"recharts-cartesian-axis-tick-value"}),s),c}}])})(y.Component);bP(zm,"displayName","CartesianAxis");bP(zm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lie=["x1","y1","x2","y2","key"],cie=["offset"];function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){uie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uie(e,t,r){return t=die(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function die(e){var t=fie(e,"string");return Sf(t)=="symbol"?t:t+""}function fie(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(this,arguments)}function SI(e,t){if(e==null)return{};var r=pie(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mie=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,c=t.width,d=t.height,f=t.ry;return te.createElement("rect",{x:a,y:s,ry:f,width:c,height:d,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function j$(e,t){var r;if(te.isValidElement(e))r=te.cloneElement(e,t);else if(kt(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,c=t.y2,d=t.key,f=SI(t,lie),p=Qt(f,!1);p.offset;var g=SI(p,cie);r=te.createElement("line",df({},g,{x1:n,y1:a,x2:s,y2:c,fill:"none",key:d}))}return r}function hie(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var c=s.map(function(d,f){var p=za(za({},e),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(f),index:f});return j$(a,p)});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function gie(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var c=s.map(function(d,f){var p=za(za({},e),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(f),index:f});return j$(a,p)});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function yie(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,c=e.height,d=e.horizontalPoints,f=e.horizontal,p=f===void 0?!0:f;if(!p||!t||!t.length)return null;var g=d.map(function(x){return Math.round(x+a-a)}).sort(function(x,S){return x-S});a!==g[0]&&g.unshift(0);var h=g.map(function(x,S){var P=!g[S+1],j=P?a+c-x:g[S+1]-x;if(j<=0)return null;var N=S%t.length;return te.createElement("rect",{key:"react-".concat(S),y:x,x:n,height:j,width:s,stroke:"none",fill:t[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function vie(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,c=e.y,d=e.width,f=e.height,p=e.verticalPoints;if(!r||!n||!n.length)return null;var g=p.map(function(x){return Math.round(x+s-s)}).sort(function(x,S){return x-S});s!==g[0]&&g.unshift(0);var h=g.map(function(x,S){var P=!g[S+1],j=P?s+d-x:g[S+1]-x;if(j<=0)return null;var N=S%n.length;return te.createElement("rect",{key:"react-".concat(S),x,y:c,width:j,height:f,stroke:"none",fill:n[N],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var bie=function(t,r){var n=t.xAxis,a=t.width,s=t.height,c=t.offset;return L5(vP(za(za(za({},zm.defaultProps),n),{},{ticks:zc(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),c.left,c.left+c.width,r)},xie=function(t,r){var n=t.yAxis,a=t.width,s=t.height,c=t.offset;return L5(vP(za(za(za({},zm.defaultProps),n),{},{ticks:zc(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),c.top,c.top+c.height,r)},Vp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _$(e){var t,r,n,a,s,c,d=mP(),f=hP(),p=oae(),g=za(za({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Vp.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Vp.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Vp.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Vp.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Vp.vertical,verticalFill:(c=e.verticalFill)!==null&&c!==void 0?c:Vp.verticalFill,x:qe(e.x)?e.x:p.left,y:qe(e.y)?e.y:p.top,width:qe(e.width)?e.width:p.width,height:qe(e.height)?e.height:p.height}),h=g.x,x=g.y,S=g.width,P=g.height,j=g.syncWithTicks,N=g.horizontalValues,k=g.verticalValues,T=aae(),R=iae();if(!qe(S)||S<=0||!qe(P)||P<=0||!qe(h)||h!==+h||!qe(x)||x!==+x)return null;var M=g.verticalCoordinatesGenerator||bie,O=g.horizontalCoordinatesGenerator||xie,I=g.horizontalPoints,D=g.verticalPoints;if((!I||!I.length)&&kt(O)){var B=N&&N.length,G=O({yAxis:R?za(za({},R),{},{ticks:B?N:R.ticks}):void 0,width:d,height:f,offset:p},B?!0:j);Gc(Array.isArray(G),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Sf(G),"]")),Array.isArray(G)&&(I=G)}if((!D||!D.length)&&kt(M)){var X=k&&k.length,Y=M({xAxis:T?za(za({},T),{},{ticks:X?k:T.ticks}):void 0,width:d,height:f,offset:p},X?!0:j);Gc(Array.isArray(Y),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Sf(Y),"]")),Array.isArray(Y)&&(D=Y)}return te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(mie,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),te.createElement(hie,df({},g,{offset:p,horizontalPoints:I,xAxis:T,yAxis:R})),te.createElement(gie,df({},g,{offset:p,verticalPoints:D,xAxis:T,yAxis:R})),te.createElement(yie,df({},g,{horizontalPoints:I})),te.createElement(vie,df({},g,{verticalPoints:D})))}_$.displayName="CartesianGrid";function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function wie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A$(n.key),n)}}function Nie(e,t,r){return t&&Sie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jie(e,t,r){return t=D0(t),_ie(e,C$()?Reflect.construct(t,r||[],D0(e).constructor):t.apply(e,r))}function _ie(e,t){if(t&&(Em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cie(e)}function Cie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C$=function(){return!!e})()}function D0(e){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D0(e)}function Pie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},p_(e,t)}function P$(e,t,r){return t=A$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A$(e){var t=Aie(e,"string");return Em(t)=="symbol"?t:t+""}function Aie(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m_.apply(this,arguments)}function Eie(e){var t=e.xAxisId,r=mP(),n=hP(),a=p$(t);return a==null?null:y.createElement(zm,m_({},a,{className:ht("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(c){return zc(c,!0)}}))}var Ib=(function(e){function t(){return wie(this,t),jie(this,t,arguments)}return Pie(t,e),Nie(t,[{key:"render",value:function(){return y.createElement(Eie,this.props)}}])})(y.Component);P$(Ib,"displayName","XAxis");P$(Ib,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function kie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O$(n.key),n)}}function Tie(e,t,r){return t&&Oie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rie(e,t,r){return t=L0(t),Iie(e,E$()?Reflect.construct(t,r||[],L0(e).constructor):t.apply(e,r))}function Iie(e,t){if(t&&(km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mie(e)}function Mie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!e})()}function L0(e){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L0(e)}function Die(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h_(e,t)}function h_(e,t){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h_(e,t)}function k$(e,t,r){return t=O$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O$(e){var t=Lie(e,"string");return km(t)=="symbol"?t:t+""}function Lie(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(this,arguments)}var $ie=function(t){var r=t.yAxisId,n=mP(),a=hP(),s=m$(r);return s==null?null:y.createElement(zm,g_({},s,{className:ht("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(d){return zc(d,!0)}}))},Mb=(function(e){function t(){return kie(this,t),Rie(this,t,arguments)}return Die(t,e),Tie(t,[{key:"render",value:function(){return y.createElement($ie,this.props)}}])})(y.Component);k$(Mb,"displayName","YAxis");k$(Mb,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NI(e){return Uie(e)||qie(e)||Bie(e)||Fie()}function Fie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bie(e,t){if(e){if(typeof e=="string")return y_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y_(e,t)}}function qie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uie(e){if(Array.isArray(e))return y_(e)}function y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v_=function(t,r,n,a,s){var c=qo(t,yP),d=qo(t,Ob),f=[].concat(NI(c),NI(d)),p=qo(t,Rb),g="".concat(a,"Id"),h=a[0],x=r;if(f.length&&(x=f.reduce(function(j,N){if(N.props[g]===n&&Fl(N.props,"extendDomain")&&qe(N.props[h])){var k=N.props[h];return[Math.min(j[0],k),Math.max(j[1],k)]}return j},x)),p.length){var S="".concat(h,"1"),P="".concat(h,"2");x=p.reduce(function(j,N){if(N.props[g]===n&&Fl(N.props,"extendDomain")&&qe(N.props[S])&&qe(N.props[P])){var k=N.props[S],T=N.props[P];return[Math.min(j[0],k,T),Math.max(j[1],k,T)]}return j},x)}return s&&s.length&&(x=s.reduce(function(j,N){return qe(N)?[Math.min(j[0],N),Math.max(j[1],N)]:j},x)),x},PN={exports:{}},jI;function zie(){return jI||(jI=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,p,g){this.fn=f,this.context=p,this.once=g||!1}function s(f,p,g,h,x){if(typeof g!="function")throw new TypeError("The listener must be a function");var S=new a(g,h||f,x),P=r?r+p:p;return f._events[P]?f._events[P].fn?f._events[P]=[f._events[P],S]:f._events[P].push(S):(f._events[P]=S,f._eventsCount++),f}function c(f,p){--f._eventsCount===0?f._events=new n:delete f._events[p]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var p=[],g,h;if(this._eventsCount===0)return p;for(h in g=this._events)t.call(g,h)&&p.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},d.prototype.listeners=function(p){var g=r?r+p:p,h=this._events[g];if(!h)return[];if(h.fn)return[h.fn];for(var x=0,S=h.length,P=new Array(S);x<S;x++)P[x]=h[x].fn;return P},d.prototype.listenerCount=function(p){var g=r?r+p:p,h=this._events[g];return h?h.fn?1:h.length:0},d.prototype.emit=function(p,g,h,x,S,P){var j=r?r+p:p;if(!this._events[j])return!1;var N=this._events[j],k=arguments.length,T,R;if(N.fn){switch(N.once&&this.removeListener(p,N.fn,void 0,!0),k){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,g),!0;case 3:return N.fn.call(N.context,g,h),!0;case 4:return N.fn.call(N.context,g,h,x),!0;case 5:return N.fn.call(N.context,g,h,x,S),!0;case 6:return N.fn.call(N.context,g,h,x,S,P),!0}for(R=1,T=new Array(k-1);R<k;R++)T[R-1]=arguments[R];N.fn.apply(N.context,T)}else{var M=N.length,O;for(R=0;R<M;R++)switch(N[R].once&&this.removeListener(p,N[R].fn,void 0,!0),k){case 1:N[R].fn.call(N[R].context);break;case 2:N[R].fn.call(N[R].context,g);break;case 3:N[R].fn.call(N[R].context,g,h);break;case 4:N[R].fn.call(N[R].context,g,h,x);break;default:if(!T)for(O=1,T=new Array(k-1);O<k;O++)T[O-1]=arguments[O];N[R].fn.apply(N[R].context,T)}}return!0},d.prototype.on=function(p,g,h){return s(this,p,g,h,!1)},d.prototype.once=function(p,g,h){return s(this,p,g,h,!0)},d.prototype.removeListener=function(p,g,h,x){var S=r?r+p:p;if(!this._events[S])return this;if(!g)return c(this,S),this;var P=this._events[S];if(P.fn)P.fn===g&&(!x||P.once)&&(!h||P.context===h)&&c(this,S);else{for(var j=0,N=[],k=P.length;j<k;j++)(P[j].fn!==g||x&&!P[j].once||h&&P[j].context!==h)&&N.push(P[j]);N.length?this._events[S]=N.length===1?N[0]:N:c(this,S)}return this},d.prototype.removeAllListeners=function(p){var g;return p?(g=r?r+p:p,this._events[g]&&c(this,g)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(PN)),PN.exports}var Wie=zie();const Hie=pr(Wie);var AN=new Hie,EN="recharts.syncMouseEvents";function ny(e){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(e)}function Vie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T$(n.key),n)}}function Kie(e,t,r){return t&&Gie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kN(e,t,r){return t=T$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T$(e){var t=Yie(e,"string");return ny(t)=="symbol"?t:t+""}function Yie(e,t){if(ny(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xie=(function(){function e(){Vie(this,e),kN(this,"activeIndex",0),kN(this,"coordinateList",[]),kN(this,"layout","horizontal")}return Kie(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,c=r.container,d=c===void 0?null:c,f=r.layout,p=f===void 0?null:f,g=r.offset,h=g===void 0?null:g,x=r.mouseHandlerCallback,S=x===void 0?null:x;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=d??this.container,this.layout=p??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=S??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,c=a.y,d=a.height,f=this.coordinateList[this.activeIndex].coordinate,p=((r=window)===null||r===void 0?void 0:r.scrollX)||0,g=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+f+p,x=c+this.offset.top+d/2+g;this.mouseHandlerCallback({pageX:h,pageY:x})}}}])})();function Qie(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&qe(n)&&qe(a))return!0}return!1}function Jie(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function R$(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,c=ba(t,r,n,a),d=ba(t,r,n,s);return{points:[c,d],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Zie(e,t,r){var n,a,s,c;if(e==="horizontal")n=t.x,s=n,a=r.top,c=r.top+r.height;else if(e==="vertical")a=t.y,c=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var d=t.cx,f=t.cy,p=t.innerRadius,g=t.outerRadius,h=t.angle,x=ba(d,f,p,h),S=ba(d,f,g,h);n=x.x,a=x.y,s=S.x,c=S.y}else return R$(t);return[{x:n,y:a},{x:s,y:c}]}function ay(e){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ay(e)}function _I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(r),!0).forEach(function(n){ese(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ese(e,t,r){return t=tse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tse(e){var t=rse(e,"string");return ay(t)=="symbol"?t:t+""}function rse(e,t){if(ay(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nse(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,c=e.activeCoordinate,d=e.activePayload,f=e.offset,p=e.activeTooltipIndex,g=e.tooltipAxisBandSize,h=e.layout,x=e.chartName,S=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!S||!s||!c||x!=="ScatterChart"&&a!=="axis")return null;var P,j=rR;if(x==="ScatterChart")P=c,j=mre;else if(x==="BarChart")P=Jie(h,c,f,g),j=uP;else if(h==="radial"){var N=R$(c),k=N.cx,T=N.cy,R=N.radius,M=N.startAngle,O=N.endAngle;P={cx:k,cy:T,startAngle:M,endAngle:O,innerRadius:R,outerRadius:R},j=U5}else P={points:Zie(h,c,f)},j=rR;var I=xv(xv(xv(xv({stroke:"#ccc",pointerEvents:"none"},f),P),Qt(S,!1)),{},{payload:d,payloadIndex:p,className:ht("recharts-tooltip-cursor",S.className)});return y.isValidElement(S)?y.cloneElement(S,I):y.createElement(j,I)}var ase=["item"],ise=["children","className","width","height","style","compact","title","desc"];function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(this,arguments)}function CI(e,t){return lse(e)||ose(e,t)||M$(e,t)||sse()}function sse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ose(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,d=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(d.push(n.value),d.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return d}}function lse(e){if(Array.isArray(e))return e}function PI(e,t){if(e==null)return{};var r=cse(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function use(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D$(n.key),n)}}function fse(e,t,r){return t&&dse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pse(e,t,r){return t=$0(t),mse(e,I$()?Reflect.construct(t,r||[],$0(e).constructor):t.apply(e,r))}function mse(e,t){if(t&&(Om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hse(e)}function hse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I$=function(){return!!e})()}function $0(e){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$0(e)}function gse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b_(e,t)}function b_(e,t){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b_(e,t)}function Tm(e){return bse(e)||vse(e)||M$(e)||yse()}function yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M$(e,t){if(e){if(typeof e=="string")return x_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x_(e,t)}}function vse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bse(e){if(Array.isArray(e))return x_(e)}function x_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){gt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gt(e,t,r){return t=D$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D$(e){var t=xse(e,"string");return Om(t)=="symbol"?t:t+""}function xse(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wse={xAxis:["bottom","top"],yAxis:["left","right"]},Sse={width:"100%",height:"100%"},L$={x:0,y:0};function wv(e){return e}var Nse=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},jse=function(t,r,n,a){var s=r.find(function(g){return g&&g.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var c=s.coordinate,d=a.radius;return je(je(je({},a),ba(a.cx,a.cy,d,c)),{},{angle:c,radius:d})}var f=s.coordinate,p=a.angle;return je(je(je({},a),ba(a.cx,a.cy,f,p)),{},{angle:p,radius:f})}return L$},Db=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,c=(n??[]).reduce(function(d,f){var p=f.props.data;return p&&p.length?[].concat(Tm(d),Tm(p)):d},[]);return c.length>0?c:t&&t.length&&qe(a)&&qe(s)?t.slice(a,s+1):[]};function $$(e){return e==="number"?[0,"auto"]:void 0}var w_=function(t,r,n,a){var s=t.graphicalItems,c=t.tooltipAxis,d=Db(r,t);return n<0||!s||!s.length||n>=d.length?null:s.reduce(function(f,p){var g,h=(g=p.props.data)!==null&&g!==void 0?g:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(c.dataKey&&!c.allowDuplicatedCategory){var S=h===void 0?d:h;x=oj(S,c.dataKey,a)}else x=h&&h[n]||d[n];return x?[].concat(Tm(f),[F5(p,x)]):f},[])},EI=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},c=Nse(s,n),d=t.orderedTooltipTicks,f=t.tooltipAxis,p=t.tooltipTicks,g=XJ(c,d,p,f);if(g>=0&&p){var h=p[g]&&p[g].value,x=w_(t,r,g,h),S=jse(n,d,g,s);return{activeTooltipIndex:g,activeLabel:h,activePayload:x,activeCoordinate:S}}return null},_se=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,c=r.axisIdKey,d=r.stackGroups,f=r.dataStartIndex,p=r.dataEndIndex,g=t.layout,h=t.children,x=t.stackOffset,S=D5(g,s);return n.reduce(function(P,j){var N,k=j.type.defaultProps!==void 0?je(je({},j.type.defaultProps),j.props):j.props,T=k.type,R=k.dataKey,M=k.allowDataOverflow,O=k.allowDuplicatedCategory,I=k.scale,D=k.ticks,B=k.includeHidden,G=k[c];if(P[G])return P;var X=Db(t.data,{graphicalItems:a.filter(function(J){var de,be=c in J.props?J.props[c]:(de=J.type.defaultProps)===null||de===void 0?void 0:de[c];return be===G}),dataStartIndex:f,dataEndIndex:p}),Y=X.length,oe,se,ie;Qie(k.domain,M,T)&&(oe=qj(k.domain,null,M),S&&(T==="number"||I!=="auto")&&(ie=hg(X,R,"category")));var K=$$(T);if(!oe||oe.length===0){var ne,ee=(ne=k.domain)!==null&&ne!==void 0?ne:K;if(R){if(oe=hg(X,R,T),T==="category"&&S){var z=qW(oe);O&&z?(se=oe,oe=C0(0,Y)):O||(oe=UT(ee,oe,j).reduce(function(J,de){return J.indexOf(de)>=0?J:[].concat(Tm(J),[de])},[]))}else if(T==="category")O?oe=oe.filter(function(J){return J!==""&&!Jt(J)}):oe=UT(ee,oe,j).reduce(function(J,de){return J.indexOf(de)>=0||de===""||Jt(de)?J:[].concat(Tm(J),[de])},[]);else if(T==="number"){var fe=tZ(X,a.filter(function(J){var de,be,Ae=c in J.props?J.props[c]:(de=J.type.defaultProps)===null||de===void 0?void 0:de[c],Ie="hide"in J.props?J.props.hide:(be=J.type.defaultProps)===null||be===void 0?void 0:be.hide;return Ae===G&&(B||!Ie)}),R,s,g);fe&&(oe=fe)}S&&(T==="number"||I!=="auto")&&(ie=hg(X,R,"category"))}else S?oe=C0(0,Y):d&&d[G]&&d[G].hasStack&&T==="number"?oe=x==="expand"?[0,1]:$5(d[G].stackGroups,f,p):oe=M5(X,a.filter(function(J){var de=c in J.props?J.props[c]:J.type.defaultProps[c],be="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return de===G&&(B||!be)}),T,g,!0);if(T==="number")oe=v_(h,oe,G,s,D),ee&&(oe=qj(ee,oe,M));else if(T==="category"&&ee){var pe=ee,q=oe.every(function(J){return pe.indexOf(J)>=0});q&&(oe=pe)}}return je(je({},P),{},gt({},G,je(je({},k),{},{axisType:s,domain:oe,categoricalDomain:ie,duplicateDomain:se,originalDomain:(N=k.domain)!==null&&N!==void 0?N:K,isCategorical:S,layout:g})))},{})},Cse=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,c=r.axisIdKey,d=r.stackGroups,f=r.dataStartIndex,p=r.dataEndIndex,g=t.layout,h=t.children,x=Db(t.data,{graphicalItems:n,dataStartIndex:f,dataEndIndex:p}),S=x.length,P=D5(g,s),j=-1;return n.reduce(function(N,k){var T=k.type.defaultProps!==void 0?je(je({},k.type.defaultProps),k.props):k.props,R=T[c],M=$$("number");if(!N[R]){j++;var O;return P?O=C0(0,S):d&&d[R]&&d[R].hasStack?(O=$5(d[R].stackGroups,f,p),O=v_(h,O,R,s)):(O=qj(M,M5(x,n.filter(function(I){var D,B,G=c in I.props?I.props[c]:(D=I.type.defaultProps)===null||D===void 0?void 0:D[c],X="hide"in I.props?I.props.hide:(B=I.type.defaultProps)===null||B===void 0?void 0:B.hide;return G===R&&!X}),"number",g),a.defaultProps.allowDataOverflow),O=v_(h,O,R,s)),je(je({},N),{},gt({},R,je(je({axisType:s},a.defaultProps),{},{hide:!0,orientation:to(wse,"".concat(s,".").concat(j%2),null),domain:O,originalDomain:M,isCategorical:P,layout:g})))}return N},{})},Pse=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,c=r.graphicalItems,d=r.stackGroups,f=r.dataStartIndex,p=r.dataEndIndex,g=t.children,h="".concat(a,"Id"),x=qo(g,s),S={};return x&&x.length?S=_se(t,{axes:x,graphicalItems:c,axisType:a,axisIdKey:h,stackGroups:d,dataStartIndex:f,dataEndIndex:p}):c&&c.length&&(S=Cse(t,{Axis:s,graphicalItems:c,axisType:a,axisIdKey:h,stackGroups:d,dataStartIndex:f,dataEndIndex:p})),S},Ase=function(t){var r=qu(t),n=zc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:DC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:y0(r,n)}},kI=function(t){var r=t.children,n=t.defaultShowTooltip,a=ps(r,Nm),s=0,c=0;return t.data&&t.data.length!==0&&(c=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(c=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!n}},Ese=function(t){return!t||!t.length?!1:t.some(function(r){var n=Vc(r&&r.type);return n&&n.indexOf("Bar")>=0})},OI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kse=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,c=s===void 0?{}:s,d=t.yAxisMap,f=d===void 0?{}:d,p=n.width,g=n.height,h=n.children,x=n.margin||{},S=ps(h,Nm),P=ps(h,rm),j=Object.keys(f).reduce(function(O,I){var D=f[I],B=D.orientation;return!D.mirror&&!D.hide?je(je({},O),{},gt({},B,O[B]+D.width)):O},{left:x.left||0,right:x.right||0}),N=Object.keys(c).reduce(function(O,I){var D=c[I],B=D.orientation;return!D.mirror&&!D.hide?je(je({},O),{},gt({},B,to(O,"".concat(B))+D.height)):O},{top:x.top||0,bottom:x.bottom||0}),k=je(je({},N),j),T=k.bottom;S&&(k.bottom+=S.props.height||Nm.defaultProps.height),P&&r&&(k=ZJ(k,a,n,r));var R=p-k.left-k.right,M=g-k.top-k.bottom;return je(je({brushBottom:T},k),{},{width:Math.max(R,0),height:Math.max(M,0)})},Ose=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Tse=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,c=t.validateTooltipEventTypes,d=c===void 0?["axis"]:c,f=t.axisComponents,p=t.legendContent,g=t.formatAxisMap,h=t.defaultProps,x=function(k,T){var R=T.graphicalItems,M=T.stackGroups,O=T.offset,I=T.updateId,D=T.dataStartIndex,B=T.dataEndIndex,G=k.barSize,X=k.layout,Y=k.barGap,oe=k.barCategoryGap,se=k.maxBarSize,ie=OI(X),K=ie.numericAxisName,ne=ie.cateAxisName,ee=Ese(R),z=[];return R.forEach(function(fe,pe){var q=Db(k.data,{graphicalItems:[fe],dataStartIndex:D,dataEndIndex:B}),J=fe.type.defaultProps!==void 0?je(je({},fe.type.defaultProps),fe.props):fe.props,de=J.dataKey,be=J.maxBarSize,Ae=J["".concat(K,"Id")],Ie=J["".concat(ne,"Id")],Fe={},ke=f.reduce(function(mt,st){var ar=T["".concat(st.axisType,"Map")],Vr=J["".concat(st.axisType,"Id")];ar&&ar[Vr]||st.axisType==="zAxis"||wf();var mr=ar[Vr];return je(je({},mt),{},gt(gt({},st.axisType,mr),"".concat(st.axisType,"Ticks"),zc(mr)))},Fe),Se=ke[ne],De=ke["".concat(ne,"Ticks")],ze=M&&M[Ae]&&M[Ae].hasStack&&pZ(fe,M[Ae].stackGroups),xe=Vc(fe.type).indexOf("Bar")>=0,Ve=y0(Se,De),dt=[],it=ee&&QJ({barSize:G,stackGroups:M,totalSize:Ose(ke,ne)});if(xe){var pt,Ee,Le=Jt(be)?se:be,Ke=(pt=(Ee=y0(Se,De,!0))!==null&&Ee!==void 0?Ee:Le)!==null&&pt!==void 0?pt:0;dt=JJ({barGap:Y,barCategoryGap:oe,bandSize:Ke!==Ve?Ke:Ve,sizeList:it[Ie],maxBarSize:Le}),Ke!==Ve&&(dt=dt.map(function(mt){return je(je({},mt),{},{position:je(je({},mt.position),{},{offset:mt.position.offset-Ke/2})})}))}var Ye=fe&&fe.type&&fe.type.getComposedData;Ye&&z.push({props:je(je({},Ye(je(je({},ke),{},{displayedData:q,props:k,dataKey:de,item:fe,bandSize:Ve,barPosition:dt,offset:O,stackedData:ze,layout:X,dataStartIndex:D,dataEndIndex:B}))),{},gt(gt(gt({key:fe.key||"item-".concat(pe)},K,ke[K]),ne,ke[ne]),"animationId",I)),childIndex:ZW(fe,k.children),item:fe})}),z},S=function(k,T){var R=k.props,M=k.dataStartIndex,O=k.dataEndIndex,I=k.updateId;if(!nE({props:R}))return null;var D=R.children,B=R.layout,G=R.stackOffset,X=R.data,Y=R.reverseStackOrder,oe=OI(B),se=oe.numericAxisName,ie=oe.cateAxisName,K=qo(D,n),ne=uZ(X,K,"".concat(se,"Id"),"".concat(ie,"Id"),G,Y),ee=f.reduce(function(J,de){var be="".concat(de.axisType,"Map");return je(je({},J),{},gt({},be,Pse(R,je(je({},de),{},{graphicalItems:K,stackGroups:de.axisType===se&&ne,dataStartIndex:M,dataEndIndex:O}))))},{}),z=kse(je(je({},ee),{},{props:R,graphicalItems:K}),T?.legendBBox);Object.keys(ee).forEach(function(J){ee[J]=g(R,ee[J],z,J.replace("Map",""),r)});var fe=ee["".concat(ie,"Map")],pe=Ase(fe),q=x(R,je(je({},ee),{},{dataStartIndex:M,dataEndIndex:O,updateId:I,graphicalItems:K,stackGroups:ne,offset:z}));return je(je({formattedGraphicalItems:q,graphicalItems:K,offset:z,stackGroups:ne},pe),ee)},P=(function(N){function k(T){var R,M,O;return use(this,k),O=pse(this,k,[T]),gt(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gt(O,"accessibilityManager",new Xie),gt(O,"handleLegendBBoxUpdate",function(I){if(I){var D=O.state,B=D.dataStartIndex,G=D.dataEndIndex,X=D.updateId;O.setState(je({legendBBox:I},S({props:O.props,dataStartIndex:B,dataEndIndex:G,updateId:X},je(je({},O.state),{},{legendBBox:I}))))}}),gt(O,"handleReceiveSyncEvent",function(I,D,B){if(O.props.syncId===I){if(B===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(D)}}),gt(O,"handleBrushChange",function(I){var D=I.startIndex,B=I.endIndex;if(D!==O.state.dataStartIndex||B!==O.state.dataEndIndex){var G=O.state.updateId;O.setState(function(){return je({dataStartIndex:D,dataEndIndex:B},S({props:O.props,dataStartIndex:D,dataEndIndex:B,updateId:G},O.state))}),O.triggerSyncEvent({dataStartIndex:D,dataEndIndex:B})}}),gt(O,"handleMouseEnter",function(I){var D=O.getMouseInfo(I);if(D){var B=je(je({},D),{},{isTooltipActive:!0});O.setState(B),O.triggerSyncEvent(B);var G=O.props.onMouseEnter;kt(G)&&G(B,I)}}),gt(O,"triggeredAfterMouseMove",function(I){var D=O.getMouseInfo(I),B=D?je(je({},D),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(B),O.triggerSyncEvent(B);var G=O.props.onMouseMove;kt(G)&&G(B,I)}),gt(O,"handleItemMouseEnter",function(I){O.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),gt(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),gt(O,"handleMouseMove",function(I){I.persist(),O.throttleTriggeredAfterMouseMove(I)}),gt(O,"handleMouseLeave",function(I){O.throttleTriggeredAfterMouseMove.cancel();var D={isTooltipActive:!1};O.setState(D),O.triggerSyncEvent(D);var B=O.props.onMouseLeave;kt(B)&&B(D,I)}),gt(O,"handleOuterEvent",function(I){var D=JW(I),B=to(O.props,"".concat(D));if(D&&kt(B)){var G,X;/.*touch.*/i.test(D)?X=O.getMouseInfo(I.changedTouches[0]):X=O.getMouseInfo(I),B((G=X)!==null&&G!==void 0?G:{},I)}}),gt(O,"handleClick",function(I){var D=O.getMouseInfo(I);if(D){var B=je(je({},D),{},{isTooltipActive:!0});O.setState(B),O.triggerSyncEvent(B);var G=O.props.onClick;kt(G)&&G(B,I)}}),gt(O,"handleMouseDown",function(I){var D=O.props.onMouseDown;if(kt(D)){var B=O.getMouseInfo(I);D(B,I)}}),gt(O,"handleMouseUp",function(I){var D=O.props.onMouseUp;if(kt(D)){var B=O.getMouseInfo(I);D(B,I)}}),gt(O,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),gt(O,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&O.handleMouseDown(I.changedTouches[0])}),gt(O,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&O.handleMouseUp(I.changedTouches[0])}),gt(O,"handleDoubleClick",function(I){var D=O.props.onDoubleClick;if(kt(D)){var B=O.getMouseInfo(I);D(B,I)}}),gt(O,"handleContextMenu",function(I){var D=O.props.onContextMenu;if(kt(D)){var B=O.getMouseInfo(I);D(B,I)}}),gt(O,"triggerSyncEvent",function(I){O.props.syncId!==void 0&&AN.emit(EN,O.props.syncId,I,O.eventEmitterSymbol)}),gt(O,"applySyncEvent",function(I){var D=O.props,B=D.layout,G=D.syncMethod,X=O.state.updateId,Y=I.dataStartIndex,oe=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)O.setState(je({dataStartIndex:Y,dataEndIndex:oe},S({props:O.props,dataStartIndex:Y,dataEndIndex:oe,updateId:X},O.state)));else if(I.activeTooltipIndex!==void 0){var se=I.chartX,ie=I.chartY,K=I.activeTooltipIndex,ne=O.state,ee=ne.offset,z=ne.tooltipTicks;if(!ee)return;if(typeof G=="function")K=G(z,I);else if(G==="value"){K=-1;for(var fe=0;fe<z.length;fe++)if(z[fe].value===I.activeLabel){K=fe;break}}var pe=je(je({},ee),{},{x:ee.left,y:ee.top}),q=Math.min(se,pe.x+pe.width),J=Math.min(ie,pe.y+pe.height),de=z[K]&&z[K].value,be=w_(O.state,O.props.data,K),Ae=z[K]?{x:B==="horizontal"?z[K].coordinate:q,y:B==="horizontal"?J:z[K].coordinate}:L$;O.setState(je(je({},I),{},{activeLabel:de,activeCoordinate:Ae,activePayload:be,activeTooltipIndex:K}))}else O.setState(I)}),gt(O,"renderCursor",function(I){var D,B=O.state,G=B.isTooltipActive,X=B.activeCoordinate,Y=B.activePayload,oe=B.offset,se=B.activeTooltipIndex,ie=B.tooltipAxisBandSize,K=O.getTooltipEventType(),ne=(D=I.props.active)!==null&&D!==void 0?D:G,ee=O.props.layout,z=I.key||"_recharts-cursor";return te.createElement(nse,{key:z,activeCoordinate:X,activePayload:Y,activeTooltipIndex:se,chartName:r,element:I,isActive:ne,layout:ee,offset:oe,tooltipAxisBandSize:ie,tooltipEventType:K})}),gt(O,"renderPolarAxis",function(I,D,B){var G=to(I,"type.axisType"),X=to(O.state,"".concat(G,"Map")),Y=I.type.defaultProps,oe=Y!==void 0?je(je({},Y),I.props):I.props,se=X&&X[oe["".concat(G,"Id")]];return y.cloneElement(I,je(je({},se),{},{className:ht(G,se.className),key:I.key||"".concat(D,"-").concat(B),ticks:zc(se,!0)}))}),gt(O,"renderPolarGrid",function(I){var D=I.props,B=D.radialLines,G=D.polarAngles,X=D.polarRadius,Y=O.state,oe=Y.radiusAxisMap,se=Y.angleAxisMap,ie=qu(oe),K=qu(se),ne=K.cx,ee=K.cy,z=K.innerRadius,fe=K.outerRadius;return y.cloneElement(I,{polarAngles:Array.isArray(G)?G:zc(K,!0).map(function(pe){return pe.coordinate}),polarRadius:Array.isArray(X)?X:zc(ie,!0).map(function(pe){return pe.coordinate}),cx:ne,cy:ee,innerRadius:z,outerRadius:fe,key:I.key||"polar-grid",radialLines:B})}),gt(O,"renderLegend",function(){var I=O.state.formattedGraphicalItems,D=O.props,B=D.children,G=D.width,X=D.height,Y=O.props.margin||{},oe=G-(Y.left||0)-(Y.right||0),se=R5({children:B,formattedGraphicalItems:I,legendWidth:oe,legendContent:p});if(!se)return null;var ie=se.item,K=PI(se,ase);return y.cloneElement(ie,je(je({},K),{},{chartWidth:G,chartHeight:X,margin:Y,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),gt(O,"renderTooltip",function(){var I,D=O.props,B=D.children,G=D.accessibilityLayer,X=ps(B,Pl);if(!X)return null;var Y=O.state,oe=Y.isTooltipActive,se=Y.activeCoordinate,ie=Y.activePayload,K=Y.activeLabel,ne=Y.offset,ee=(I=X.props.active)!==null&&I!==void 0?I:oe;return y.cloneElement(X,{viewBox:je(je({},ne),{},{x:ne.left,y:ne.top}),active:ee,label:K,payload:ee?ie:[],coordinate:se,accessibilityLayer:G})}),gt(O,"renderBrush",function(I){var D=O.props,B=D.margin,G=D.data,X=O.state,Y=X.offset,oe=X.dataStartIndex,se=X.dataEndIndex,ie=X.updateId;return y.cloneElement(I,{key:I.key||"_recharts-brush",onChange:gv(O.handleBrushChange,I.props.onChange),data:G,x:qe(I.props.x)?I.props.x:Y.left,y:qe(I.props.y)?I.props.y:Y.top+Y.height+Y.brushBottom-(B.bottom||0),width:qe(I.props.width)?I.props.width:Y.width,startIndex:oe,endIndex:se,updateId:"brush-".concat(ie)})}),gt(O,"renderReferenceElement",function(I,D,B){if(!I)return null;var G=O,X=G.clipPathId,Y=O.state,oe=Y.xAxisMap,se=Y.yAxisMap,ie=Y.offset,K=I.type.defaultProps||{},ne=I.props,ee=ne.xAxisId,z=ee===void 0?K.xAxisId:ee,fe=ne.yAxisId,pe=fe===void 0?K.yAxisId:fe;return y.cloneElement(I,{key:I.key||"".concat(D,"-").concat(B),xAxis:oe[z],yAxis:se[pe],viewBox:{x:ie.left,y:ie.top,width:ie.width,height:ie.height},clipPathId:X})}),gt(O,"renderActivePoints",function(I){var D=I.item,B=I.activePoint,G=I.basePoint,X=I.childIndex,Y=I.isRange,oe=[],se=D.props.key,ie=D.item.type.defaultProps!==void 0?je(je({},D.item.type.defaultProps),D.item.props):D.item.props,K=ie.activeDot,ne=ie.dataKey,ee=je(je({index:X,dataKey:ne,cx:B.x,cy:B.y,r:4,fill:cP(D.item),strokeWidth:2,stroke:"#fff",payload:B.payload,value:B.value},Qt(K,!1)),Hv(K));return oe.push(k.renderActiveDot(K,ee,"".concat(se,"-activePoint-").concat(X))),G?oe.push(k.renderActiveDot(K,je(je({},ee),{},{cx:G.x,cy:G.y}),"".concat(se,"-basePoint-").concat(X))):Y&&oe.push(null),oe}),gt(O,"renderGraphicChild",function(I,D,B){var G=O.filterFormatItem(I,D,B);if(!G)return null;var X=O.getTooltipEventType(),Y=O.state,oe=Y.isTooltipActive,se=Y.tooltipAxis,ie=Y.activeTooltipIndex,K=Y.activeLabel,ne=O.props.children,ee=ps(ne,Pl),z=G.props,fe=z.points,pe=z.isRange,q=z.baseLine,J=G.item.type.defaultProps!==void 0?je(je({},G.item.type.defaultProps),G.item.props):G.item.props,de=J.activeDot,be=J.hide,Ae=J.activeBar,Ie=J.activeShape,Fe=!!(!be&&oe&&ee&&(de||Ae||Ie)),ke={};X!=="axis"&&ee&&ee.props.trigger==="click"?ke={onClick:gv(O.handleItemMouseEnter,I.props.onClick)}:X!=="axis"&&(ke={onMouseLeave:gv(O.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:gv(O.handleItemMouseEnter,I.props.onMouseEnter)});var Se=y.cloneElement(I,je(je({},G.props),ke));function De(st){return typeof se.dataKey=="function"?se.dataKey(st.payload):null}if(Fe)if(ie>=0){var ze,xe;if(se.dataKey&&!se.allowDuplicatedCategory){var Ve=typeof se.dataKey=="function"?De:"payload.".concat(se.dataKey.toString());ze=oj(fe,Ve,K),xe=pe&&q&&oj(q,Ve,K)}else ze=fe?.[ie],xe=pe&&q&&q[ie];if(Ie||Ae){var dt=I.props.activeIndex!==void 0?I.props.activeIndex:ie;return[y.cloneElement(I,je(je(je({},G.props),ke),{},{activeIndex:dt})),null,null]}if(!Jt(ze))return[Se].concat(Tm(O.renderActivePoints({item:G,activePoint:ze,basePoint:xe,childIndex:ie,isRange:pe})))}else{var it,pt=(it=O.getItemByXY(O.state.activeCoordinate))!==null&&it!==void 0?it:{graphicalItem:Se},Ee=pt.graphicalItem,Le=Ee.item,Ke=Le===void 0?I:Le,Ye=Ee.childIndex,mt=je(je(je({},G.props),ke),{},{activeIndex:Ye});return[y.cloneElement(Ke,mt),null,null]}return pe?[Se,null,null]:[Se,null]}),gt(O,"renderCustomized",function(I,D,B){return y.cloneElement(I,je(je({key:"recharts-customized-".concat(B)},O.props),O.state))}),gt(O,"renderMap",{CartesianGrid:{handler:wv,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:wv},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:wv},YAxis:{handler:wv},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((R=T.id)!==null&&R!==void 0?R:lb("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=TL(O.triggeredAfterMouseMove,(M=T.throttleDelay)!==null&&M!==void 0?M:1e3/60),O.state={},O}return gse(k,N),fse(k,[{key:"componentDidMount",value:function(){var R,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var R=this.props,M=R.children,O=R.data,I=R.height,D=R.layout,B=ps(M,Pl);if(B){var G=B.props.defaultIndex;if(!(typeof G!="number"||G<0||G>this.state.tooltipTicks.length-1)){var X=this.state.tooltipTicks[G]&&this.state.tooltipTicks[G].value,Y=w_(this.state,O,G,X),oe=this.state.tooltipTicks[G].coordinate,se=(this.state.offset.top+I)/2,ie=D==="horizontal",K=ie?{x:oe,y:se}:{y:oe,x:se},ne=this.state.formattedGraphicalItems.find(function(z){var fe=z.item;return fe.type.name==="Scatter"});ne&&(K=je(je({},K),ne.props.points[G].tooltipPosition),Y=ne.props.points[G].tooltipPayload);var ee={activeTooltipIndex:G,isTooltipActive:!0,activeLabel:X,activePayload:Y,activeCoordinate:K};this.setState(ee),this.renderCursor(B),this.accessibilityManager.setIndex(G)}}}},{key:"getSnapshotBeforeUpdate",value:function(R,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==R.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==R.margin){var O,I;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(R){cj([ps(R.children,Pl)],[ps(this.props.children,Pl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var R=ps(this.props.children,Pl);if(R&&typeof R.props.shared=="boolean"){var M=R.props.shared?"axis":"item";return d.indexOf(M)>=0?M:s}return s}},{key:"getMouseInfo",value:function(R){if(!this.container)return null;var M=this.container,O=M.getBoundingClientRect(),I=BK(O),D={chartX:Math.round(R.pageX-I.left),chartY:Math.round(R.pageY-I.top)},B=O.width/M.offsetWidth||1,G=this.inRange(D.chartX,D.chartY,B);if(!G)return null;var X=this.state,Y=X.xAxisMap,oe=X.yAxisMap,se=this.getTooltipEventType(),ie=EI(this.state,this.props.data,this.props.layout,G);if(se!=="axis"&&Y&&oe){var K=qu(Y).scale,ne=qu(oe).scale,ee=K&&K.invert?K.invert(D.chartX):null,z=ne&&ne.invert?ne.invert(D.chartY):null;return je(je({},D),{},{xValue:ee,yValue:z},ie)}return ie?je(je({},D),ie):null}},{key:"inRange",value:function(R,M){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,D=R/O,B=M/O;if(I==="horizontal"||I==="vertical"){var G=this.state.offset,X=D>=G.left&&D<=G.left+G.width&&B>=G.top&&B<=G.top+G.height;return X?{x:D,y:B}:null}var Y=this.state,oe=Y.angleAxisMap,se=Y.radiusAxisMap;if(oe&&se){var ie=qu(oe);return HT({x:D,y:B},ie)}return null}},{key:"parseEventsOfWrapper",value:function(){var R=this.props.children,M=this.getTooltipEventType(),O=ps(R,Pl),I={};O&&M==="axis"&&(O.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var D=Hv(this.props,this.handleOuterEvent);return je(je({},D),I)}},{key:"addListener",value:function(){AN.on(EN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){AN.removeListener(EN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(R,M,O){for(var I=this.state.formattedGraphicalItems,D=0,B=I.length;D<B;D++){var G=I[D];if(G.item===R||G.props.key===R.key||M===Vc(G.item.type)&&O===G.childIndex)return G}return null}},{key:"renderClipPath",value:function(){var R=this.clipPathId,M=this.state.offset,O=M.left,I=M.top,D=M.height,B=M.width;return te.createElement("defs",null,te.createElement("clipPath",{id:R},te.createElement("rect",{x:O,y:I,height:D,width:B})))}},{key:"getXScales",value:function(){var R=this.state.xAxisMap;return R?Object.entries(R).reduce(function(M,O){var I=CI(O,2),D=I[0],B=I[1];return je(je({},M),{},gt({},D,B.scale))},{}):null}},{key:"getYScales",value:function(){var R=this.state.yAxisMap;return R?Object.entries(R).reduce(function(M,O){var I=CI(O,2),D=I[0],B=I[1];return je(je({},M),{},gt({},D,B.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(R){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[R])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(R){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[R])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(R){var M=this.state,O=M.formattedGraphicalItems,I=M.activeItem;if(O&&O.length)for(var D=0,B=O.length;D<B;D++){var G=O[D],X=G.props,Y=G.item,oe=Y.type.defaultProps!==void 0?je(je({},Y.type.defaultProps),Y.props):Y.props,se=Vc(Y.type);if(se==="Bar"){var ie=(X.data||[]).find(function(z){return are(R,z)});if(ie)return{graphicalItem:G,payload:ie}}else if(se==="RadialBar"){var K=(X.data||[]).find(function(z){return HT(R,z)});if(K)return{graphicalItem:G,payload:K}}else if(Pb(G,I)||Ab(G,I)||Jg(G,I)){var ne=Kre({graphicalItem:G,activeTooltipItem:I,itemData:oe.data}),ee=oe.activeIndex===void 0?ne:oe.activeIndex;return{graphicalItem:je(je({},G),{},{childIndex:ee}),payload:Jg(G,I)?oe.data[ne]:G.props.data[ne]}}}return null}},{key:"render",value:function(){var R=this;if(!nE(this))return null;var M=this.props,O=M.children,I=M.className,D=M.width,B=M.height,G=M.style,X=M.compact,Y=M.title,oe=M.desc,se=PI(M,ise),ie=Qt(se,!1);if(X)return te.createElement(uI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(dj,Qp({},ie,{width:D,height:B,title:Y,desc:oe}),this.renderClipPath(),iE(O,this.renderMap)));if(this.props.accessibilityLayer){var K,ne;ie.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,ie.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",ie.onKeyDown=function(z){R.accessibilityManager.keyboardEvent(z)},ie.onFocus=function(){R.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return te.createElement(uI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",Qp({className:ht("recharts-wrapper",I),style:je({position:"relative",cursor:"default",width:D,height:B},G)},ee,{ref:function(fe){R.container=fe}}),te.createElement(dj,Qp({},ie,{width:D,height:B,title:Y,desc:oe,style:Sse}),this.renderClipPath(),iE(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(y.Component);gt(P,"displayName",r),gt(P,"defaultProps",je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),gt(P,"getDerivedStateFromProps",function(N,k){var T=N.dataKey,R=N.data,M=N.children,O=N.width,I=N.height,D=N.layout,B=N.stackOffset,G=N.margin,X=k.dataStartIndex,Y=k.dataEndIndex;if(k.updateId===void 0){var oe=kI(N);return je(je(je({},oe),{},{updateId:0},S(je(je({props:N},oe),{},{updateId:0}),k)),{},{prevDataKey:T,prevData:R,prevWidth:O,prevHeight:I,prevLayout:D,prevStackOffset:B,prevMargin:G,prevChildren:M})}if(T!==k.prevDataKey||R!==k.prevData||O!==k.prevWidth||I!==k.prevHeight||D!==k.prevLayout||B!==k.prevStackOffset||!tm(G,k.prevMargin)){var se=kI(N),ie={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},K=je(je({},EI(k,R,D)),{},{updateId:k.updateId+1}),ne=je(je(je({},se),ie),K);return je(je(je({},ne),S(je({props:N},ne),k)),{},{prevDataKey:T,prevData:R,prevWidth:O,prevHeight:I,prevLayout:D,prevStackOffset:B,prevMargin:G,prevChildren:M})}if(!cj(M,k.prevChildren)){var ee,z,fe,pe,q=ps(M,Nm),J=q&&(ee=(z=q.props)===null||z===void 0?void 0:z.startIndex)!==null&&ee!==void 0?ee:X,de=q&&(fe=(pe=q.props)===null||pe===void 0?void 0:pe.endIndex)!==null&&fe!==void 0?fe:Y,be=J!==X||de!==Y,Ae=!Jt(R),Ie=Ae&&!be?k.updateId:k.updateId+1;return je(je({updateId:Ie},S(je(je({props:N},k),{},{updateId:Ie,dataStartIndex:J,dataEndIndex:de}),k)),{},{prevChildren:M,dataStartIndex:J,dataEndIndex:de})}return null}),gt(P,"renderActiveDot",function(N,k,T){var R;return y.isValidElement(N)?R=y.cloneElement(N,k):kt(N)?R=N(k):R=te.createElement(X5,k),te.createElement(na,{className:"recharts-active-dot",key:T},R)});var j=y.forwardRef(function(k,T){return te.createElement(P,Qp({},k,{ref:T}))});return j.displayName=P.displayName,j},Rse=Tse({chartName:"BarChart",GraphicalChild:kf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ib},{axisType:"yAxis",AxisComp:Mb}],formatAxisMap:Wne});const Ise={};function Mse({product:e,isOpen:t,onClose:r,onAddToCart:n}){const[a,s]=y.useState(1),[c,d]=y.useState("1"),[f,p]=y.useState(""),[g,h]=y.useState("overview"),[x,S]=y.useState(0),[P,j]=y.useState(null);String(Ise?.VITE_UI_DEBUG||"").toLowerCase()==="true"&&console.debug("[ProductDetailDialog] Render",{isOpen:t,hasProduct:!!e});const N=y.useMemo(()=>[{id:"overview",label:"Overview",show:!!e?.description},{id:"specs",label:"Specifications",show:!0}].filter(K=>K.show),[e?.description,e?.id]),k=e?.variants??[],T=k.length>0,R=!!e&&(e?.type??"").toLowerCase()==="variable"&&!T,M=T?k.find(K=>K.id===P)??k[0]??null:null;y.useEffect(()=>{if(t){s(1),d("1"),p("");const K=N[0]?.id??"specs";h(K),S(0);const ne=e?.defaultVariantId??e?.variants?.find(ee=>ee.inStock)?.id??e?.variants?.[0]?.id??null;j(ne)}},[t,e,N]);const O=K=>{const ne=Math.max(1,Math.min(999,Math.floor(Number.isFinite(K)?K:1)));s(ne),d(String(ne))},I=K=>{Number.isFinite(K)&&O(K)},D=K=>{const ne=K.target.value.replace(/[^0-9]/g,"");d(ne),ne&&O(Number(ne))},B=()=>{c||O(1)},G=()=>{if(!e)return;if(T&&!M){console.warn("[ProductDetailDialog] Variant selection required before adding to cart");return}const K=f.trim();console.debug("[ProductDetailDialog] Add to cart",{productId:e.id,quantity:a,note:K,variantId:M?.id}),n(e.id,a,K||void 0,M?.id??null),r()},X=y.useMemo(()=>{if(!e)return[];const K=e.images.length>0?e.images:[e.image];if(M?.image){const ne=new Set;return[M.image,...K].filter(z=>!z||ne.has(z)?!1:(ne.add(z),!0))}return K},[e,M]),Y=M?.price??e?.price??0,oe=M?.originalPrice??(e?.hasVariants?void 0:e?.originalPrice),se=oe?Math.round((oe-Y)/oe*100):0;T?M?.inStock:e?.inStock;const ie=T?M?.label||M?.dosage||e?.dosage:e?.dosage||M?.label||M?.dosage;return y.useEffect(()=>{if(!N.some(K=>K.id===g)){const K=N[0]?.id??"specs";h(K)}},[N,g]),l.jsx(Wc,{open:t,onOpenChange:K=>{console.debug("[ProductDetailDialog] Open change",{open:K,productId:e?.id}),K||r()},children:l.jsxs(Ml,{className:"squircle-xl max-w-5xl max-h-[90vh] overflow-hidden flex flex-col p-0",children:[l.jsx(Wu,{className:"sticky top-0 z-10 glass-card border-b border-[var(--brand-glass-border-1)] px-6 py-4 backdrop-blur-lg",children:l.jsx("div",{className:"flex items-start justify-between gap-4",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(kl,{className:"text-2xl font-bold text-slate-900 line-clamp-2",children:e?e.name:"Product details"}),l.jsx(Hu,{className:"mt-1",children:"Review the product details and add it to your cart."})]})})}),e?l.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:l.jsxs("div",{className:"flex flex-col gap-6 pt-6 lg:flex-row lg:items-start",children:[l.jsxs("div",{className:"space-y-4 flex-shrink-0 w-full max-w-[240px] lg:max-w-[220px] lg:basis-[220px] lg:sticky lg:top-6",children:[l.jsxs("div",{className:"relative w-full overflow-hidden rounded-3xl glass-card border border-[var(--brand-glass-border-2)] bg-white/70 shadow-lg aspect-square",children:[l.jsx(TD,{images:X,alt:e.name,className:"flex h-full w-full items-center justify-center p-4 sm:p-6",imageClassName:"h-full w-full object-contain",style:{"--product-image-frame-padding":"clamp(0.55rem, 1vw, 1.15rem)"},showArrows:X.length>1,showDots:!1}),l.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[e.prescription&&l.jsxs(Bc,{className:"squircle-sm bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg border-0",children:[l.jsx(t2,{className:"w-3 h-3 mr-1"}),"Rx Required"]}),se>0&&l.jsxs(Bc,{className:"squircle-sm bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg border-0",children:[l.jsx(tB,{className:"w-3 h-3 mr-1"}),"-",se,"% OFF"]})]}),l.jsx("div",{className:"absolute top-4 right-4",children:e.inStock?l.jsxs(Bc,{className:"squircle-sm bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg border-0",children:[l.jsx(v6,{className:"w-3 h-3 mr-1"}),"In Stock"]}):l.jsxs(Bc,{className:"squircle-sm bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg border-0",children:[l.jsx(g6,{className:"w-3 h-3 mr-1"}),"Out of Stock"]})})]}),X.length>1&&l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 max-w-[220px] mx-auto lg:mx-0",children:X.map((K,ne)=>l.jsx("button",{onClick:()=>S(ne),className:`flex-shrink-0 w-14 h-14 rounded-lg glass-card border-2 transition-all overflow-hidden ${x===ne?"border-[rgb(95,179,249)] scale-105":"border-[var(--brand-glass-border-2)] hover:border-slate-400"}`,children:l.jsx("img",{src:K,alt:`${e.name} thumbnail ${ne+1}`,className:"w-full h-full object-contain p-0.5"})},ne))})]}),l.jsxs("div",{className:"space-y-6 flex-1 min-w-0",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex gap-2 border-b border-[var(--brand-glass-border-1)] overflow-x-auto pb-1",children:N.map(K=>l.jsx("button",{onClick:()=>h(K.id),className:`px-4 py-3 text-sm font-medium whitespace-nowrap transition-all border-b-2 ${g===K.id?"border-[rgb(95,179,249)] text-[rgb(95,179,249)]":"border-transparent text-slate-600 hover:text-slate-900"}`,children:K.label},K.id))}),l.jsxs("div",{className:"rounded-2xl border-2 border-[var(--brand-glass-border-2)] p-6 min-h-[200px] bg-white shadow-sm",children:[g==="overview"&&e.description&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Product Overview"}),l.jsx("p",{className:"text-sm leading-relaxed text-slate-700",children:e.description})]}),g==="specs"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Specifications"}),l.jsxs("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-medium text-slate-600 uppercase tracking-wide",children:"Category"}),l.jsx("dd",{className:"mt-1 text-sm font-semibold text-slate-900",children:e.category})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-medium text-slate-600 uppercase tracking-wide",children:"Manufacturer"}),l.jsx("dd",{className:"mt-1 text-sm font-semibold text-slate-900",children:e.manufacturer||"N/A"})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-medium text-slate-600 uppercase tracking-wide",children:"Dosage"}),l.jsx("dd",{className:"mt-1 text-sm font-semibold text-slate-900",children:ie})]}),e.type&&l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-medium text-slate-600 uppercase tracking-wide",children:"Type"}),l.jsx("dd",{className:"mt-1 text-sm font-semibold text-slate-900",children:e.type})]})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"rounded-2xl border-2 border-[var(--brand-glass-border-2)] p-4 space-y-2 bg-white shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(l6,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Manufacturer"})]}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.manufacturer||"N/A"})]}),l.jsxs("div",{className:"rounded-2xl border-2 border-[var(--brand-glass-border-2)] p-4 space-y-2 bg-white shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(t2,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Dosage"})]}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ie})]}),e.type&&l.jsxs("div",{className:"rounded-2xl border-2 border-[var(--brand-glass-border-2)] p-4 space-y-2 bg-white shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Kp,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Type"})]}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.type})]})]})]}),l.jsx("div",{className:"lg:sticky lg:top-6 h-fit flex-shrink-0 lg:basis-[340px] lg:max-w-[340px] lg:w-auto w-full",children:l.jsxs("div",{className:"space-y-5 rounded-3xl border-2 border-[var(--brand-glass-border-2)] p-6 shadow-xl bg-white",children:[l.jsxs("div",{className:"space-y-3 pb-5 border-b border-[var(--brand-glass-border-1)]",children:[l.jsx("div",{className:"flex items-baseline gap-3",children:Y>0?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"text-4xl font-bold text-green-600",children:["$",Y.toFixed(2)]}),oe&&l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["$",oe.toFixed(2)]}),l.jsxs("span",{className:"text-xs font-semibold text-red-600",children:["Save $",(oe-Y).toFixed(2)]})]})]}):l.jsx("span",{className:"text-lg font-semibold text-green-600",children:"Contact for pricing"})}),Y>0&&a>1&&l.jsxs("div",{className:"text-sm text-slate-600",children:["Total:"," ",l.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",(Y*a).toFixed(2)]})]})]}),T&&l.jsxs("div",{className:"space-y-3 pb-5 border-b border-[var(--brand-glass-border-1)]",children:[l.jsx(Zr,{className:"text-sm font-semibold",children:"Select an option"}),l.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.map(K=>{const ne=K.id===M?.id,ee=K.attributes.map(z=>z.value||z.name).filter(Boolean).join("  ");return l.jsxs(Ue,{type:"button",variant:ne?"default":"outline",onClick:()=>j(K.id),className:"justify-between text-left",children:[l.jsxs("span",{className:"flex flex-col text-left",children:[l.jsx("span",{className:"font-semibold",children:K.label}),ee&&l.jsx("span",{className:"text-xs text-slate-500",children:ee})]}),l.jsx("span",{className:"font-semibold",children:K.price>0?`$${K.price.toFixed(2)}`:""})]},K.id)})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Zr,{htmlFor:"quantity",className:"text-sm font-semibold",children:"Quantity"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ue,{type:"button",variant:"outline",size:"icon",onClick:()=>I(a-1),disabled:a<=1,className:"h-12 w-12 rounded-xl border-2 bg-slate-50",children:l.jsx($_,{className:"h-5 w-5"})}),l.jsx(Ar,{id:"quantity",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:c,onChange:D,onBlur:B,className:"h-12 text-center text-xl font-bold squircle-sm bg-slate-50 border-2"}),l.jsx(Ue,{type:"button",variant:"outline",size:"icon",onClick:()=>I(a+1),className:"h-12 w-12 rounded-xl border-2 bg-slate-50",children:l.jsx(V0,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Zr,{htmlFor:"quantityDescription",className:"text-sm font-semibold",children:"Order Notes (Optional)"}),l.jsx("textarea",{id:"quantityDescription",value:f,onChange:K=>p(K.target.value),placeholder:"Add fulfillment notes or special instructions...",className:"min-h-[100px] w-full resize-y squircle-lg p-4 text-sm border-2 border-[var(--brand-glass-border-2)] focus-visible:outline-none focus-visible:border-[rgb(95,179,249)] focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.2)] bg-slate-50"})]}),l.jsxs(Ue,{onClick:G,disabled:R,className:"w-full h-14 text-base font-semibold glass-brand squircle-lg transition-all duration-300 hover:scale-105 hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(sm,{className:"mr-2 h-5 w-5"}),R?"Loading options":"Add to Cart"]})]})})]})}):null]})})}const Dse=`<style type="text/css">
    p.p1 {margin: 0.0px 0.0px 11.0px 0.0px; font: 13.5px Times}
    p.p2 {margin: 0.0px 0.0px 11.0px 0.0px; font: 10.5px Times}
    p.p3 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times}
    p.p5 {margin: 12.0px 0.0px 12.0px 0.0px; font: 9.0px Times}
    p.p6 {margin: 0.0px 0.0px 4.0px 0.0px; font: 12.0px Times}
    p.p7 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times; color: #0000e9}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; min-height: 14.0px}
    span.s1 {text-decoration: underline ; color: #0000e9}
    span.s2 {color: #000000}
    span.s3 {text-decoration: underline}
  </style>
<p class="p1">Terms of Service</p>
<p class="p2">1. Acceptance of Terms</p>
<p class="p3">Effective Date: November 1, 2025 (Last Updated: October 22, 2025).</p>
<p class="p3">By accessing or using the PepPro website (https://peppro.net/) or purchasing any products or services from PepPro ("we," "us," "our"), you agree to be bound by these Terms of Service, the Privacy Policy, and the Liability Disclaimer. If you do not agree, do not use our website or purchase our products.</p>
<p class="p3">PepPro may modify these Terms at any time. Continued use of the site constitutes acceptance of the revised Terms.</p>
<p class="p2">2. Eligibility</p>
<p class="p3">You represent that you are at least 18 years old, legally capable of entering binding agreements, and that any purchases are made for lawful purposes in compliance with all applicable regulations.</p>
<p class="p2">3. Research Use Only</p>
<p class="p3">All PepPro productsincluding peptides, genetic testing kits, and related compoundsare sold strictly for in vitro laboratory research use only.</p>
<p class="p3">Products are not intended, produced, or authorized for human or animal consumption, diagnostic or therapeutic use, cosmetic or nutritional use, or any use beyond controlled laboratory research.</p>
<p class="p3">By purchasing, you acknowledge and agree to these restrictions and assume full responsibility for compliance.</p>
<p class="p2">4. Product Information and FDA Disclaimer</p>
<p class="p3">Information provided on the PepPro website is for informational and educational purposes only.</p>
<p class="p3">Products are not medicines or drugs, have not been evaluated or approved by the U.S. Food and Drug Administration (FDA), and are not intended to diagnose, treat, cure, mitigate, or prevent any disease.</p>
<p class="p3">Always consult qualified professionals before treating any site information as medical advice.</p>
<p class="p2">5. "As-Is" Condition and No Warranties</p>
<p class="p3">All PepPro products and services are supplied "as is" and "with all faults." PepPro disclaims all express or implied warranties, including merchantability, fitness for a particular purpose, and non-infringement.</p>
<p class="p3">PepPro does not guarantee safety, sterility, efficacy, accuracy, completeness, or uninterrupted operation of the website.</p>
<p class="p2">6. Assumption of Risk and Limitation of Liability</p>
<p class="p3">You assume full responsibility for the handling, storage, use, and disposal of PepPro products.</p>
<p class="p3">PepPro and its affiliates are not liable for personal injury, illness, death, contamination, adverse reactions, improper use, property damage, business interruption, or data loss.</p>
<p class="p3">PepPro's maximum liability will not exceed the total amount paid for the product in question.</p>
<p class="p2">7. Indemnification</p>
<p class="p3">You agree to indemnify, defend, and hold harmless PepPro, its affiliates, officers, directors, and employees from any claims, losses, damages, liabilities, and expenses (including attorneys' fees) arising from misuse of products, violation of these Terms, or breach of your representations.</p>
<p class="p2">8. Intellectual Property</p>
<p class="p3">All website content including text, graphics, logos, trademarks, and software is the property of PepPro or its licensors. You may not copy, reproduce, modify, distribute, or create derivative works without prior written consent.</p>
<p class="p4">9. User Accounts, Profile Content, and Image Moderation</p>
<p class="p5">Users may upload profile images, account information, and other content (User Content) as part of their account. By submitting User Content, you represent and warrant that such content is lawful, accurate, professional, and appropriate for a research- and healthcare-adjacent platform.</p>
<p class="p5">PepPro reserves the right, but not the obligation, to review, screen, moderate, restrict, remove, or disable any User Content, including profile images, at any time and in its sole discretion, using automated tools, manual review, or a combination thereof.</p>
<p class="p5">User Content that, in PepPros judgment, is inappropriate, misleading, unprofessional, disruptive, abusive, or inconsistent with applicable laws, regulations, platform standards, or ethical expectations may be removed or restricted.</p>
<p class="p5">Violations are handled on a case-by-case basis and may result in content removal, account suspension, or permanent termination, without prior notice. PepPro is not required to provide warnings or explanations before enforcement.</p>
<p class="p2">10. HIPAA and Health Data</p>
<p class="p3">For telehealth or prescription-related services, PepPro complies with the Health Insurance Portability and Accountability Act of 1996 (HIPAA).</p>
<p class="p3">By signing the HIPAA consent form during checkout or registration, you authorize PepPro to use or disclose your Protected Health Information (PHI) for treatment, payment, and healthcare operations as described in the Notice of Privacy Practices.</p>
<p class="p3">You may revoke consent in writing at any time by contacting <span class="s1"><a href="mailto:support@peppro.net">support@peppro.net</a></span>.</p>
<p class="p2">11. Compliance and Misuse</p>
<p class="p3">You represent and warrant that you are trained and equipped to handle research-grade materials safely, will comply with all applicable laws and regulations, and will not use PepPro products for any prohibited or unlawful purpose.</p>
<p class="p3">PepPro may terminate purchasing rights and pursue legal remedies if misuse or non-compliance is suspected.</p>
<p class="p2">12. No Professional or Medical Advice</p>
<p class="p3">PepPro does not provide medical, legal, or professional advice. Information provided through the site is for research and informational purposes only and is not a substitute for professional judgment or treatment.</p>
<p class="p2">13. Governing Law and Dispute Resolution</p>
<p class="p3">These Terms are governed by the laws of the State of [Insert State], without regard to conflict-of-law principles.</p>
<p class="p3">Any dispute arising from these Terms will be resolved through binding arbitration in [Insert State/County], following the rules of the American Arbitration Association (AAA).</p>
<p class="p6">14. Termination</p>
<p class="p5">PepPro may suspend or terminate access to the website, services, or user accounts at any time, with or without notice, for violations of these Terms, submission of inappropriate or prohibited User Content, suspected misuse, or legal or regulatory non-compliance.</p>
<p class="p5">Termination does not affect obligations, disclaimers, indemnities, or liabilities that arose prior to termination, all of which shall survive.</p>
<p class="p2">15. Changes to Terms</p>
<p class="p3">PepPro may update these Terms at any time. Changes take effect when posted on the website, and continued use constitutes acceptance of the revised Terms.</p>
<p class="p2">16. Contact Information</p>
<p class="p7"><span class="s2">Email: </span><span class="s3"><a href="mailto:support@peppro.net">support@peppro.net</a></span></p>
<p class="p8"><br></p>
`,Lse=`<style type="text/css">
    p.p1 {margin: 0.0px 0.0px 11.0px 0.0px; font: 13.5px Times}
    p.p2 {margin: 0.0px 0.0px 11.0px 0.0px; font: 10.5px Times}
    p.p3 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Times}
    p.p5 {margin: 0.0px 0.0px 0.0px 27.0px; font: 12.0px Times; min-height: 14.0px}
    p.p8 {margin: 0.0px 0.0px 11.0px 0.0px; font: 9.0px Times}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; min-height: 14.0px}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times}
    p.p11 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times; color: #0000e9}
    li.li3 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times}
    li.li4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Times}
    li.li6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.5px Times}
    li.li7 {margin: 0.0px 0.0px 12.0px 0.0px; font: 9.0px Times}
    li.li8 {margin: 0.0px 0.0px 11.0px 0.0px; font: 9.0px Times}
    span.s1 {text-decoration: underline ; color: #1155cc}
    span.s2 {text-decoration: underline ; color: #0000e9}
    span.s3 {color: #000000}
    span.s4 {text-decoration: underline}
    ul.ul1 {list-style-type: disc}
  </style>
<p class="p1">Privacy Policy</p>
<p class="p2">1. Introduction</p>
<p class="p3">Effective Date: November 1, 2025 (Last Updated: October 22, 2025).</p>
<p class="p3">PepPro ("we," "us," "our") respects your privacy and is committed to protecting your personal and health information. This Privacy Policy explains how we collect, use, and safeguard information through our website [insert domain], applications, and services. By using our website or purchasing from PepPro, you consent to this Policy as well as the related Disclaimer of Liability and HIPAA Consent and Notice of Privacy Practices.</p>
<p class="p2">2. Research-Only Product Disclaimer</p>
<p class="p3">All PepPro products, including peptides and genetic testing kits, are for laboratory research use only. Products are not intended, produced, or authorized for human or animal consumption, diagnostic or therapeutic use, or cosmetic, nutritional, or clinical applications. PepPro products are not medicines or drugs and have not been evaluated or approved by the U.S. Food and Drug Administration (FDA) to diagnose, treat, cure, or prevent any disease. By purchasing from PepPro, you agree to use these materials exclusively for in vitro laboratory research under appropriate safety conditions.</p>
<p class="p2">3. Information We Collect</p>
<p class="p3">We collect information in the following categories:</p>
<ul class="ul1">
  <li class="li4">Personal information: name, email address, billing and shipping address, phone number, payment details, and account credentials, NPI number, Resellers Permits, etc.</li>
  <li class="li4">Usage data: browser type, device identifiers, IP address, referral URLs, pages visited, and timestamps gathered through cookies or analytics tools, buying behaviors, etc.</li>
  <li class="li3">Protected health information (PHI): when you use PepPro telehealth or prescription-related services, we may collect PHI as defined under HIPAA.</li>
</ul>
<p class="p5"><br></p>
<p class="p2">4. How We Use Information</p>
<ul class="ul1">
  <li class="li6">PepPro may process user-uploaded images, including profile images, for moderation and platform safety purposes. This review may be conducted using automated systems and, where necessary, manual review by authorized personnel or service providers.</li>
  <li class="li6">Images are reviewed solely to enforce platform standards, prevent abuse, and maintain a professional environment. PepPro does not use profile images for advertising, marketing, or unrelated purposes.</li>
  <li class="li4">Order fulfillment and payment processing.</li>
  <li class="li4">Account management, communication, and customer support.</li>
  <li class="li4">Legal compliance, including HIPAA, FDA, FTC, or state requirements.</li>
  <li class="li4">Improving products and services as well as coordinating healthcare for telehealth users.</li>
  <li class="li7">PepPro does not sell or rent personal information or PHI.</li>
</ul>
<p class="p5"><br></p>
<p class="p2">5. HIPAA Compliance and Health Information</p>
<ul class="ul1">
  <li class="li4">When applicable, PepPro follows HIPAA standards to protect your health information.</li>
  <li class="li4">Treatment: coordination and management of care by licensed healthcare providers.</li>
  <li class="li4">Payment: billing, claims, and pharmacy fulfillment.</li>
  <li class="li4">Healthcare operations: quality review, compliance, training, and administrative purposes.</li>
  <li class="li8">You may request restrictions on PHI use, obtain copies of records, or revoke consent in writing at any time (revocation does not affect prior disclosures). To exercise these rights, contact <span class="s1"><a href="mailto:support@peppro.net">support@peppro.net</a></span>.</li>
</ul>
<p class="p5"><br></p>
<p class="p2">6. Liability and Assumption of Risk</p>
<p class="p3">All PepPro products are provided "as is" and "with all faults." PepPro disclaims all express or implied warranties, including merchantability or fitness for a particular purpose.</p>
<p class="p3">By purchasing, you accept full responsibility for handling, storage, and disposal; acknowledge PepPro is not liable for injury, contamination, or adverse events; and agree to indemnify PepPro and its affiliates against claims arising from misuse or unauthorized application. PepPro's total liability will not exceed the purchase price paid for the product.</p>
<p class="p2">7. Cookies and Tracking</p>
<p class="p3">PepPro uses cookies, pixels, and analytics tools to improve site performance, measure engagement, and personalize content. Disabling cookies may limit certain site features.</p>
<p class="p2">8. Your Data Rights</p>
<p class="p8">Depending on your jurisdiction, you may have the right to access, correct, delete, restrict processing, or object to the processing of your personal information. You may opt out of targeted advertising or data "sales" where state law (such as the CCPA) provides that right and withdraw consent where applicable. Submit privacy requests to <span class="s2"><a href="mailto:support@peppro.net">support@peppro.net</a></span>.</p>
<p class="p2">9. Data Retention and Security</p>
<p class="p4">PepPro retains data only as long as necessary for the purposes described in this Policy. Administrative, technical, and physical safeguards are used to help prevent unauthorized access, alteration, or loss of information; however, no online method is completely secure. User-uploaded images that violate platform standards may be retained temporarily for compliance, audit, or dispute-resolution purposes and then securely deleted in accordance with internal retention policies.</p>
<p class="p9"><br></p>
<p class="p10">10. International Users</p>
<p class="p9"><br></p>
<p class="p3">If you access PepPro services from outside the United States, you consent to the transfer and processing of your data in the U.S., which may have different data protection laws than your home jurisdiction.</p>
<p class="p2">11. Children's Privacy</p>
<p class="p3">PepPro services are not intended for children under 13. We do not knowingly collect personal information from minors and will delete such data promptly if discovered.</p>
<p class="p2">12. Updates to this Policy</p>
<p class="p3">PepPro may revise this Privacy Policy periodically. Changes take effect when posted, and continued use of the website constitutes acceptance of the updated terms.</p>
<p class="p2">13. Contact Information</p>
<p class="p11"><span class="s3">Email: </span><span class="s4"><a href="mailto:support@peppro.net">support@peppro.net</a></span></p>
`,$se=`<style type="text/css">
    p.p1 {margin: 0.0px 0.0px 11.0px 0.0px; font: 13.5px Times}
    p.p2 {margin: 0.0px 0.0px 11.0px 0.0px; font: 10.5px Times}
    p.p3 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times}
    span.s1 {text-decoration: underline ; color: #0000e9}
    span.s2 {text-decoration: underline ; color: #1155cc}
  </style>
<p class="p1">Shipping Policy</p>
<p class="p2">Effective: Dec 17, 2025</p>
<p class="p2">1. Order Processing</p>
<p class="p3">Orders are reviewed Monday through Thursday, excluding federal holidays, to ensure products are not held in a third-party warehouse over an extended period, such as weekends. Most in-stock items ship within one to two business days. Orders placed after 1:00 p.m. local fulfillment time may be processed the next business day.</p>
<p class="p2">2. Verification</p>
<p class="p3">PepPro may request additional documentation, such as for the person signing for orders to meet regulatory requirements. Orders pending verification will not ship until review is complete.</p>
<p class="p2">3. Shipping Methods</p>
<p class="p3">Second Day and overnight services are available to most U.S. addresses. Delivery timelines begin once an order leaves our facility. Estimated transit windows provided at checkout are not guaranteed.<span class="Apple-converted-space"></span></p>
<p class="p2">4. Shipping Restrictions</p>
<p class="p3">PepPro cannot ship to P.O. boxes, APO/FPO/DPO addresses. International shipping is evaluated individually and may require customs declarations. Customers are responsible for understanding and complying with local import laws.</p>
<p class="p2">5. Rates and Fees</p>
<p class="p3">Shipping charges are calculated based on weight, destination, and the selected service level. Taxes, duties, and brokerage fees for international orders are the customer's responsibility unless explicitly stated otherwise.</p>
<p class="p2">6. Tracking</p>
<p class="p3">A shipment confirmation email will be sent when orders depart our facility and tracking numbers are provided under the Orders tab of the users account dashboard on peppro.net. Tracking updates originate from the carrier and may take up to 24 hours to activate.</p>
<p class="p2">7. Delivery Issues</p>
<p class="p3">Delays: PepPro is not liable for carrier delays caused by weather, customs inspections, or other factors beyond our control.</p>
<p class="p3">Lost packages: Report packages marked "delivered" but were not received within three business days. We will coordinate with the carrier to investigate. Resolutions are handled case-by-case.</p>
<p class="p3">Damaged shipments: Inspect packages upon arrival and notify <span class="s1"><a href="mailto:support@peppro.com">support@peppro.com</a></span> with photos within five days to initiate a carrier claim.</p>
<p class="p2">8. Address Accuracy</p>
<p class="p3">Ensure the shipping address is complete and accurate. Orders returned due to incorrect or undeliverable addresses may incur reshipment fees.</p>
<p class="p2">9. Temperature-Sensitive Items</p>
<p class="p3">Certain products may require insulated packaging or cold packs. PepPro selects materials based on season and destination and recommends expedited shipping for temperature-sensitive orders, especially during extreme weather.</p>
<p class="p2">10. Order Changes and Cancellations</p>
<p class="p3">Cancel an order in the Orders tab of your account settings on <span class="s2">peppro.net</span> or contact <span class="s1"><a href="mailto:support@peppro.com">support@peppro.com</a></span> promptly to request modifications. Orders are partially refunded, and a full refund may be able to be accommodated upon request. Once fulfillment begins (order status of Processing), changes may not be possible.</p>
<p class="p2">11. Returns</p>
<p class="p3">Refer to the returns section in the Terms of Service for eligibility. Authorization must be obtained before shipping products back to PepPro. Unauthorized returns will be handled case by case, and a possible restocking fee up to $100 may be deducted from customer credit.</p>
<p class="p2">12. Policy Updates</p>
<p class="p3">PepPro may revise this Shipping Policy at any time. The effective date updates whenever changes are posted.</p>
<p class="p2">13. Contact</p>
<p class="p3">For shipping questions, email <span class="s1"><a href="mailto:support@peppro.net">support@peppro.net</a></span>.</p>
`,Fse={terms:{title:"Terms of Service",html:Dse},privacy:{title:"Privacy Policy",html:Lse},shipping:{title:"Shipping Policy",html:$se}};function TI({variant:e="full",showContactCTA:t=!0}){const[r,n]=y.useState(null),[a,s]=y.useState(!1),[c,d]=y.useState(!1),[f,p]=y.useState(!1),[g,h]=y.useState(!1),[x,S]=y.useState(!1),[P,j]=y.useState(""),[N,k]=y.useState(""),[T,R]=y.useState({name:"",email:"",phone:"",source:""}),M=y.useRef(null),O=y.useRef(null),I=r?Fse[r]:null,D=80;y.useEffect(()=>{const K=document.body,ne=document.documentElement,ee=K.style.overflow,z=K.style.paddingRight;if((r||f)&&!a){const fe=window.innerWidth-ne.clientWidth;return!z&&fe>0&&(K.style.paddingRight=`${fe}px`),K.style.overflow="hidden",()=>{K.style.overflow=ee,K.style.paddingRight=z}}K.style.overflow=ee,K.style.paddingRight=z},[r,f,a]);const B=y.useMemo(()=>[{key:"terms",label:"Terms of Service"},{key:"privacy",label:"Privacy Policy"},{key:"shipping",label:"Shipping Policy"}],[]),G=y.useCallback((K,ne={})=>{console.debug("[LegalFooter] Link clicked",{key:K}),ne.preserveDialogs||window.dispatchEvent(new Event("peppro:close-dialogs")),M.current&&(clearTimeout(M.current),M.current=null),s(!1),d(!1),n(K)},[]),X=()=>{console.debug("[LegalFooter] Close requested",{activeDocument:r}),!(!r||a)&&(s(!0),d(!1),M.current=setTimeout(()=>{n(null),s(!1),M.current=null},D))};y.useEffect(()=>{const K=ne=>{ne.key==="Escape"&&X()};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[]),y.useEffect(()=>{const K=ne=>{const ee=ne,z=ee.detail?.key;z&&G(z,{preserveDialogs:!!ee.detail?.preserveDialogs})};return window.addEventListener("peppro:open-legal",K),()=>window.removeEventListener("peppro:open-legal",K)},[G]),y.useEffect(()=>{if(I&&!a){const K=requestAnimationFrame(()=>d(!0));return()=>cancelAnimationFrame(K)}!I&&!a&&c&&d(!1)},[I,a,c]),y.useEffect(()=>{const K=!!I;return window.dispatchEvent(new CustomEvent("peppro:legal-state",{detail:{open:K}})),()=>{K&&window.dispatchEvent(new CustomEvent("peppro:legal-state",{detail:{open:!1}}))}},[I]),y.useEffect(()=>()=>{M.current&&clearTimeout(M.current),O.current&&clearTimeout(O.current)},[]);const Y=y.useCallback(()=>{O.current&&(clearTimeout(O.current),O.current=null),p(!0),requestAnimationFrame(()=>h(!0))},[]),oe=y.useCallback(()=>{f&&(h(!1),O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{p(!1),O.current=null},D))},[f,D]),se=async K=>{if(K.preventDefault(),k(""),j(""),!T.name.trim()||!T.email.trim()){k("Name and email are required.");return}S(!0);try{const ne=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:T.name.trim(),email:T.email.trim(),phone:T.phone.trim(),source:T.source.trim()})}),ee=await ne.json();if(!ne.ok)throw new Error(ee?.error||"Unable to send your message.");j("Thanks! A representative will reach out shortly."),R({name:"",email:"",phone:"",source:""})}catch(ne){k(ne?.message||"Unable to send your message. Please try again.")}finally{S(!1)}},ie=c||a||f;return l.jsxs(l.Fragment,{children:[l.jsx("footer",{className:"relative z-10 mt-24 glass-strong",children:l.jsx("div",{className:"w-full px-4 sm:px-8 pt-12 pb-10",children:e==="ctaOnly"?l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 pt-10 pb-10",children:[l.jsx("p",{className:"mt-7 pt-4 text-m font-medium text-slate-900",children:"Interested in joining the network?"}),t?l.jsx("button",{type:"button",onClick:()=>{window.dispatchEvent(new Event("peppro:close-dialogs")),Y()},className:"inline-flex items-center justify-center squircle-sm px-6 py-2 text-sm font-semibold text-white shadow-lg shadow-[rgba(95,179,249,0.4)] transition duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] mb-6",style:{backgroundColor:"rgb(95, 179, 249)"},children:"Contact a Representative"}):null]}):l.jsxs("div",{className:"legal-footer-layout gap-4 items-start text-center lg:text-left lg:items-start lg:justify-items-start",children:[t&&l.jsxs("div",{className:"legal-contact flex flex-col items-center justify-center lg:items-end lg:justify-center gap-2 text-center lg:text-right w-full pt-4 lg:pt-0",children:[l.jsx("p",{className:"text-sm lg:pt-6 pb-2 font-medium text-slate-900",children:"Want to join the Network?"}),l.jsx("button",{type:"button",onClick:()=>{window.dispatchEvent(new Event("peppro:close-dialogs")),Y()},className:"inline-flex items-center justify-center squircle-sm px-6 py-2 text-sm font-semibold text-white shadow-lg shadow-[rgba(95,179,249,0.4)] transition duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)]",style:{backgroundColor:"rgb(95, 179, 249)"},children:"Contact a Representative"})]}),l.jsx("div",{className:"legal-disclaimer flex items-start justify-start w-full lg:w-auto lg:pr-10 lg:mr-auto lg:ml-0 lg:place-self-start lg:justify-self-start",children:l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed pt-4 text-center lg:text-left w-full",children:"PepPro peptide products are research chemicals intended for licensed physicians only. They are not intended to prevent, treat, or cure any medical condition, ailment or disease. These products have not been reviewed or approved by the US Food and Drug Administration."})}),l.jsxs("div",{className:"legal-links flex flex-col items-center text-center gap-3 w-full lg:items-start lg:text-left",children:[l.jsxs("div",{className:"space-y-1 text-sm text-slate-600 w-full",children:[l.jsx("p",{children:"Advancing research-grade peptide access with care and compliance."}),l.jsxs("p",{className:"text-xs text-slate-500",children:[" ",new Date().getFullYear()," PepPro. All rights reserved."]}),l.jsx("p",{className:"text-xs text-slate-500",children:" This website design is guided by kinesiology for the highest good."})]}),l.jsx("nav",{className:"mt-1 mb-4 flex flex-wrap items-center justify-center lg:justify-start gap-3 text-sm font-medium text-[rgb(95,179,249)]",children:B.map(K=>l.jsx("button",{type:"button",className:"cursor-pointer rounded-full px-3 py-1.5 transform transition duration-200 hover:-translate-y-0.5 hover:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.4)] btn-hover-lighter",onClick:()=>G(K.key),children:K.label},K.key))})]})]})})}),I&&vg.createPortal(l.jsxs("div",{className:ht("fixed inset-0 flex items-center justify-center p-6 sm:p-12 transition-opacity duration-[55ms] ease-out backdrop-blur-[16px] pointer-events-auto",c?"opacity-100":"opacity-0"),style:{zIndex:2147483647,position:"fixed",willChange:"opacity",backdropFilter:ie?"blur(16px)":"none",WebkitBackdropFilter:ie?"blur(16px)":"none"},children:[l.jsx("div",{className:ht("absolute inset-0 bg-[rgba(4,14,21,0.55)] transition-opacity duration-[55ms] ease-out",c?"opacity-100":"opacity-0"),onClick:X,"aria-hidden":"true",style:{willChange:"opacity",backdropFilter:ie?"blur(20px) saturate(1.55)":"none",WebkitBackdropFilter:ie?"blur(20px) saturate(1.55)":"none"}}),l.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"legal-dialog-title",className:ht("relative w-full max-w-3xl flex flex-col transition-[opacity,transform] duration-[55ms] ease-out h-full",c?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-4 scale-[0.97]"),style:{willChange:"opacity, transform",maxHeight:"calc(var(--viewport-height, 100dvh) - 4rem)"},children:l.jsxs("div",{className:"squircle-xl glass-card landing-glass shadow-[0_24px_60px_-25px_rgba(7,27,27,0.55)] h-full flex flex-col overflow-hidden border-[3px]",style:{backgroundColor:"rgba(245, 251, 255, 0.94)",borderColor:"rgba(95, 179, 249, 0.65)",backdropFilter:ie?"blur(16px) saturate(1.45)":"none",WebkitBackdropFilter:ie?"blur(16px) saturate(1.45)":"none"},children:[l.jsxs("div",{className:"legal-modal-header flex items-center justify-between gap-4 px-4 sm:px-5 flex-shrink-0 border-b",style:{borderColor:"rgba(95, 179, 249, 0.2)",backgroundColor:"rgb(255, 255, 255)"},children:[l.jsx("h2",{id:"legal-dialog-title",className:"flex-1 text-xl sm:text-2xl font-semibold text-[rgb(95,179,249)] pr-2",children:I.title}),l.jsxs("button",{type:"button",onClick:K=>{K.stopPropagation(),X()},className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)",borderRadius:"50%"},children:[l.jsx(zu,{className:"h-4 w-4","aria-hidden":"true"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 sm:px-8 py-8",children:l.jsx("div",{className:"legal-richtext text-sm leading-relaxed text-slate-700",dangerouslySetInnerHTML:{__html:I.html}})})]})})]}),document.body),t&&f&&vg.createPortal(l.jsxs("div",{className:ht("fixed inset-0 flex items-center justify-center p-6 sm:p-12 transition-opacity duration-[55ms] ease-out backdrop-blur-[16px] pointer-events-auto",g?"opacity-100":"opacity-0"),style:{zIndex:2147483647,willChange:"opacity",backdropFilter:ie?"blur(16px)":"none",WebkitBackdropFilter:ie?"blur(16px)":"none"},onClick:oe,"aria-modal":"true",role:"dialog",children:[l.jsx("div",{className:ht("absolute inset-0 bg-[rgba(4,14,21,0.55)] transition-opacity duration-[55ms] ease-out",g?"opacity-100":"opacity-0"),"aria-hidden":"true",style:{willChange:"opacity",backdropFilter:ie?"blur(20px) saturate(1.55)":"none",WebkitBackdropFilter:ie?"blur(20px) saturate(1.55)":"none"}}),l.jsxs("div",{className:ht("relative w-full max-w-lg flex flex-col squircle-xl glass-card landing-glass shadow-[0_24px_60px_-25px_rgba(7,27,27,0.55)] overflow-hidden border-[3px] transition-[opacity,transform] duration-[55ms] ease-out",g?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-4 scale-[0.97]"),style:{backgroundColor:"rgba(245, 251, 255, 0.94)",borderColor:"rgba(95, 179, 249, 0.65)"},onClick:K=>K.stopPropagation(),children:[l.jsxs("div",{className:"legal-modal-header flex items-center justify-between gap-4 px-6 sm:px-7 flex-shrink-0 border-b",style:{borderColor:"rgba(95, 179, 249, 0.2)",backgroundColor:"rgb(255, 255, 255)"},children:[l.jsx("h2",{className:"flex-1 text-lg font-semibold text-[rgb(95,179,249)]",children:"Contact Form"}),l.jsxs("button",{type:"button",onClick:oe,className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)",borderRadius:"50%"},children:[l.jsx(zu,{className:"h-4 w-4","aria-hidden":"true"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]}),l.jsxs("form",{className:"px-6 sm:px-7 py-6 pt-4 space-y-4",onSubmit:se,children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-mediumtext-slate-700",htmlFor:"contact-name",children:"Name"}),l.jsx("input",{id:"contact-name",type:"text",value:T.name,onChange:K=>R(ne=>({...ne,name:K.target.value})),required:!0,className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.25)]"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"contact-email",children:"Email"}),l.jsx("input",{id:"contact-email",type:"email",value:T.email,onChange:K=>R(ne=>({...ne,email:K.target.value})),required:!0,className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.25)]"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"contact-phone",children:"Phone"}),l.jsx("input",{id:"contact-phone",type:"tel",value:T.phone,onChange:K=>R(ne=>({...ne,phone:K.target.value})),className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.25)]"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"contact-source",children:"How did you get introduced to PepPro?"}),l.jsx("input",{id:"contact-source",type:"text",value:T.source,onChange:K=>R(ne=>({...ne,source:K.target.value})),className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.25)]"})]}),l.jsxs("div",{className:"flex w-full items-center justify-between pt-3 mb-4",children:[l.jsxs("div",{className:"text-sm",children:[N&&l.jsx("p",{className:"text-red-600",role:"alert",children:N}),P&&l.jsx("p",{className:"text-emerald-600",role:"status",children:P})]}),l.jsx("button",{type:"submit",disabled:x,className:"inline-flex items-center justify-center squircle-sm px-6 py-2 text-sm font-semibold text-white shadow-lg shadow-[rgba(95,179,249,0.4)] transition duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-60 disabled:cursor-not-allowed mb-[3px]",style:{backgroundColor:"rgb(95, 179, 249)"},children:x?"Sending":"Send"})]})]})]})]}),document.body)]})}const xP={},Bse="/api/woo.php",Sy="false".toLowerCase()==="true",qse=String(xP?.VITE_CATALOG_SNAPSHOT_DISABLED||"").toLowerCase()==="true",yg=String(xP?.VITE_WOO_DEBUG||"").toLowerCase()==="true",F$=(()=>{const e=String(xP?.VITE_WOO_REQUEST_TIMEOUT_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?t:3e4})(),Use=()=>{const e="".trim();return e||(Te?`${Te.replace(/\/+$/,"")}/woo`:Bse)},S_=Use(),RI="a-long-random-string-to-serve-as-proxy-token".trim(),zse=/\.php($|\?)/i.test(S_),Wse=()=>Te?`${Te.replace(/\/+$/,"")}/catalog`:"",II=Wse(),Hse=()=>typeof window<"u"&&window.location?.origin?window.location.origin:"http://localhost",Vse=e=>/^https?:\/\//i.test(e),N_=e=>Vse(e)?new URL(e):new URL(e,Hse()),B$=(e={})=>Object.entries(e).reduce((t,[r,n])=>n==null?t:typeof n=="boolean"?(t[r]=n?"true":"false",t):typeof n=="number"?(Number.isFinite(n)&&(t[r]=String(n)),t):(typeof n=="string"&&n.trim().length>0&&(t[r]=n),t),{});function Gse(e,t={}){const r=e.replace(/^\/+/,""),n=B$(t);if(zse){const c=N_(S_);return RI&&c.searchParams.set("token",RI),c.searchParams.set("endpoint",r),Object.keys(n).length>0&&c.searchParams.set("q",new URLSearchParams(n).toString()),c.toString()}const a=S_.replace(/\/+$/,""),s=N_(`${a}/${r}`);return Object.entries(n).forEach(([c,d])=>{s.searchParams.set(c,d)}),s.toString()}async function q$(e,t={}){if(Sy)return typeof console<"u"&&console.warn&&console.warn("[Catalog] Frontend catalog access is disabled via VITE_WOO_DISABLED"),Array.isArray([])?[]:{};const r=Gse(e,t),n=(()=>{try{const d=new URL(r);return d.searchParams.has("token")&&d.searchParams.set("token","REDACTED"),d.toString()}catch{return r}})(),a=Date.now(),s=typeof AbortController<"u"?new AbortController:null,c=s?globalThis.setTimeout(()=>s.abort(),F$):null;try{yg&&console.info("[Catalog] GET",{endpoint:e,url:n,params:t});const d=await fetch(r,{method:"GET",cache:"default",signal:s?.signal});if(yg&&console.info("[Catalog] GET complete",{endpoint:e,status:d.status,durationMs:Date.now()-a}),!d.ok){const f=await d.text().catch(()=>"");throw new Error(`Catalog request failed (${d.status}): ${f}`)}return d.json()}catch(d){if(yg){const f=typeof d?.message=="string"&&d.message.trim().length>0?d.message:"Unknown error";console.warn("[Catalog] GET failed",{endpoint:e,url:n,message:f,durationMs:Date.now()-a})}throw d}finally{c&&globalThis.clearTimeout(c)}}async function wP(e,t={}){if(!II||qse)return q$(e,t);const r=e.replace(/^\/+/,""),n=N_(`${II.replace(/\/+$/,"")}/${r}`);Object.entries(B$(t)).forEach(([d,f])=>n.searchParams.set(d,f));const a=Date.now(),s=typeof AbortController<"u"?new AbortController:null,c=s?globalThis.setTimeout(()=>s.abort(),Math.min(F$,15e3)):null;try{yg&&console.info("[Catalog] GET(snapshot)",{endpoint:e,url:n.toString(),params:t});const d=await fetch(n.toString(),{method:"GET",cache:"no-store",signal:s?.signal});if(yg&&console.info("[Catalog] GET(snapshot) complete",{endpoint:e,status:d.status,durationMs:Date.now()-a}),!d.ok)throw new Error(`Catalog snapshot request failed (${d.status})`);return d.json()}finally{c&&globalThis.clearTimeout(c)}}const Kse=(e={})=>Sy?Promise.resolve([]):wP("products",{per_page:100,...e}),Yse=(e={})=>Sy?Promise.resolve([]):wP("categories",{per_page:100,...e}),MI=(e,t={})=>Sy?Promise.resolve([]):wP(`products/${e}/variations`,{...t}),DI=(e,t={})=>Sy?Promise.resolve(null):q$(`products/${e}`,{...t});function Ol(e){const t=new Uint8Array(e);let r="";for(const a of t)r+=String.fromCharCode(a);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function F0(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4,n=t.padEnd(t.length+r,"="),a=atob(n),s=new ArrayBuffer(a.length),c=new Uint8Array(s);for(let d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return s}function Lb(){return Xse.stubThis(globalThis?.PublicKeyCredential!==void 0&&typeof globalThis.PublicKeyCredential=="function")}const Xse={stubThis:e=>e};function U$(e){const{id:t}=e;return{...e,id:F0(t),transports:e.transports}}function z$(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}class va extends Error{constructor({message:t,code:r,cause:n,name:a}){super(t,{cause:n}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a??n.name,this.code=r}}function Qse({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new va({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(r.authenticatorSelection?.requireResidentKey===!0)return new va({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&r.authenticatorSelection?.userVerification==="required")return new va({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(r.authenticatorSelection?.userVerification==="required")return new va({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new va({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new va({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return r.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new va({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new va({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const n=globalThis.location.hostname;if(z$(n)){if(r.rp.id!==n)return new va({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new va({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new va({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new va({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}class Jse{constructor(){Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const W$=new Jse,Zse=["cross-platform","platform"];function H$(e){if(e&&!(Zse.indexOf(e)<0))return e}async function eoe(e){!e.optionsJSON&&e.challenge&&(console.warn("startRegistration() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useAutoRegister:r=!1}=e;if(!Lb())throw new Error("WebAuthn is not supported in this browser");const n={...t,challenge:F0(t.challenge),user:{...t.user,id:F0(t.user.id)},excludeCredentials:t.excludeCredentials?.map(U$)},a={};r&&(a.mediation="conditional"),a.publicKey=n,a.signal=W$.createNewAbortSignal();let s;try{s=await navigator.credentials.create(a)}catch(P){throw Qse({error:P,options:a})}if(!s)throw new Error("Registration was not completed");const{id:c,rawId:d,response:f,type:p}=s;let g;typeof f.getTransports=="function"&&(g=f.getTransports());let h;if(typeof f.getPublicKeyAlgorithm=="function")try{h=f.getPublicKeyAlgorithm()}catch(P){ON("getPublicKeyAlgorithm()",P)}let x;if(typeof f.getPublicKey=="function")try{const P=f.getPublicKey();P!==null&&(x=Ol(P))}catch(P){ON("getPublicKey()",P)}let S;if(typeof f.getAuthenticatorData=="function")try{S=Ol(f.getAuthenticatorData())}catch(P){ON("getAuthenticatorData()",P)}return{id:c,rawId:Ol(d),response:{attestationObject:Ol(f.attestationObject),clientDataJSON:Ol(f.clientDataJSON),transports:g,publicKeyAlgorithm:h,publicKey:x,authenticatorData:S},type:p,clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:H$(s.authenticatorAttachment)}}function ON(e,t){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${e}. You should report this error to them.
`,t)}function V$(){if(!Lb())return TN.stubThis(new Promise(t=>t(!1)));const e=globalThis.PublicKeyCredential;return e?.isConditionalMediationAvailable===void 0?TN.stubThis(new Promise(t=>t(!1))):TN.stubThis(e.isConditionalMediationAvailable())}const TN={stubThis:e=>e};function toe({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new va({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new va({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=globalThis.location.hostname;if(z$(n)){if(r.rpId!==n)return new va({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new va({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new va({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}async function roe(e){!e.optionsJSON&&e.challenge&&(console.warn("startAuthentication() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useBrowserAutofill:r=!1,verifyBrowserAutofillInput:n=!0}=e;if(!Lb())throw new Error("WebAuthn is not supported in this browser");let a;t.allowCredentials?.length!==0&&(a=t.allowCredentials?.map(U$));const s={...t,challenge:F0(t.challenge),allowCredentials:a},c={};if(r){if(!await V$())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1&&n)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');c.mediation="conditional",s.allowCredentials=[]}c.publicKey=s,c.signal=W$.createNewAbortSignal();let d;try{d=await navigator.credentials.get(c)}catch(S){throw toe({error:S,options:c})}if(!d)throw new Error("Authentication was not completed");const{id:f,rawId:p,response:g,type:h}=d;let x;return g.userHandle&&(x=Ol(g.userHandle)),{id:f,rawId:Ol(p),response:{authenticatorData:Ol(g.authenticatorData),clientDataJSON:Ol(g.clientDataJSON),signature:Ol(g.signature),userHandle:x},type:h,clientExtensionResults:d.getClientExtensionResults(),authenticatorAttachment:H$(d.authenticatorAttachment)}}const noe=async()=>{if(typeof window>"u"||!Lb()||!window.PublicKeyCredential||typeof window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable!="function")return!1;try{return await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}catch{return!1}},aoe=()=>typeof window>"u"?!1:V$(),ioe=async e=>eoe(e),soe=async(e,t=!1)=>roe(e),ao={},ooe="false".toLowerCase()==="true",loe="false".toLowerCase()==="true",Fi=e=>(e||"").toLowerCase(),Je=e=>Fi(e)==="admin",Do=e=>{const t=Fi(e);return t!=="admin"&&(t==="sales_lead"||t==="saleslead"||t==="sales-lead")},Ft=e=>{const t=Fi(e);return t!=="admin"&&(t==="sales_rep"||t==="rep"||t==="sales_lead"||t==="saleslead"||t==="sales-lead")},coe=e=>Fi(e)==="test_doctor",Js=e=>{const t=Fi(e);return t==="doctor"||t==="test_doctor"},Sv=()=>{},Di=()=>typeof document>"u"?!0:!document.hidden,ag=()=>typeof navigator>"u"?!0:navigator.onLine!==!1,uoe=e=>e?e.trim().toLowerCase()==="trash"?"Canceled":e.split(/[_\s]+/).map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "):"Pending",doe=e=>{if(!e)return null;const t=String(e).trim();if(!t)return null;const r=t.toLowerCase().replace(/[\s-]+/g,"_");return r.includes("zelle")?"Zelle":r==="bacs"||r==="bank_transfer"||r==="direct_bank_transfer"||r.includes("direct_bank_transfer")||r.includes("direct_bank")||r.includes("bank_transfer")||r.includes("banktransfer")?"Direct Bank Transfer":r.includes("stripe")?"Card payment":t},LI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},foe=(e,t)=>{if(!e)return null;const r=(t||"").toLowerCase(),n=encodeURIComponent(e);return r.includes("ups")?`https://www.ups.com/track?loc=en_US&tracknum=${n}`:r.includes("usps")?`https://tools.usps.com/go/TrackConfirmAction?tLabels=${n}`:r.includes("fedex")?`https://www.fedex.com/fedextrack/?trknbr=${n}`:r.includes("dhl")?`https://www.dhl.com/en/express/tracking.html?AWB=${n}`:`https://www.google.com/search?q=${n}`},B0=e=>{if(!e)return null;const t=e?.number||e?.id||e?.wooOrderNumber||e?.orderNumber||"unknown";let r=null;const n=e?.trackingNumber||e?.tracking_number||e?.tracking||null;if(n&&(r=String(n)),!r){const a=LI(e.integrationDetails||e.integrations),s=LI(a?.shipStation||a?.shipstation),c=s?.trackingNumber||s?.tracking_number||s?.tracking||null;if(c&&(r=String(c)),!r){const d=s?.shipments||s?.shipment||s?.data?.shipments||[];if(Array.isArray(d)){const f=x=>x?.trackingNumber||x?.tracking_number||x?.tracking||null,p=d.find(x=>x&&x.voided===!1&&f(x)),g=d.find(x=>x&&f(x)),h=p||g;h&&(r=String(f(h)))}}}return r?(console.info("[Tracking] Resolved tracking number",{order:t,tracking:r}),r):null},poe=e=>{if(!e)return null;const t=String(e.status||"").trim().toLowerCase();if(t==="refunded"||t==="cancelled"||t==="canceled"||t==="trash"){const s=String(e.status||"").trim();return s.length>0?s:null}const n=e.shippingEstimate?.status||e.integrationDetails?.shipStation?.status||e.status||null;if(!n)return null;const a=String(n).trim();return a.length>0?a:null},RN=e=>{const t=poe(e),n=(t?String(t):"").trim().toLowerCase();if(n==="trash"||n==="canceled"||n==="cancelled")return"Canceled";if(n==="refunded")return"Refunded";const a=typeof e?.trackingNumber=="string"?String(e.trackingNumber).trim():"",s=e?.shippingEstimate?.estimatedArrivalDate||null,c=typeof s=="string"&&s.trim().length>0;return n==="shipped"?a&&!c?"Processing":"Shipped":n.includes("out_for_delivery")||n.includes("out-for-delivery")?"Out for Delivery":n.includes("in_transit")||n.includes("in-transit")?"In Transit":n.includes("delivered")?"Delivered":a&&!c?"Processing":a&&c?"Shipped":n==="processing"?"Order Received":n==="completed"||n==="complete"?"Completed":n==="awaiting_shipment"||n==="awaiting shipment"?"Order Received":t?uoe(t):"Pending"},Nv="peppro_variation_cache_v2",li=e=>{if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},ff=e=>e?!!(li(e.addressLine1)||li(e.city)||li(e.state)||li(e.postalCode)):!1,j_=(e,t)=>{if(!(!e&&!t))return{name:li(e?.name)||li(t),company:li(e?.company),addressLine1:li(e?.addressLine1),addressLine2:li(e?.addressLine2),city:li(e?.city),state:li(e?.state),postalCode:li(e?.postalCode),country:li(e?.country)||"US",phone:li(e?.phone),email:li(e?.email)}},ig=e=>{if(!e)return"Dr";const t=e.split(" ").filter(Boolean);return t.length===1?t[0].slice(0,2).toUpperCase():`${t[0][0]}${t[t.length-1][0]}`.toUpperCase()},moe=e=>{if(!e)return;const t={name:e.name||e.npiVerification?.name||null,addressLine1:e.officeAddressLine1||null,addressLine2:e.officeAddressLine2||null,city:e.officeCity||null,state:e.officeState||null,postalCode:e.officePostalCode||null,country:"US"};return ff(t)?j_(t):void 0},hoe=(e,t)=>{if(!(!e||e.length===0))for(const r of e){if(ff(r.shippingAddress))return j_(r.shippingAddress,t);if(ff(r.billingAddress))return j_(r.billingAddress,t)}},ms="/Peppro_IconLogo_Transparent_NoBuffer.png",$I=e=>{if(typeof e!="string")return null;let t=e.trim();if(!t)return null;t.startsWith("//")&&(t=`https:${t}`),/^http:\/\//i.test(t)&&(t=t.replace(/^http:\/\//i,"https://"));try{const r=new URL(t);return r.protocol="https:",r.pathname=r.pathname.split("/").map(n=>encodeURIComponent(decodeURIComponent(n))).join("/"),Lv(r.toString())}catch{return Lv(t)}},goe="/reset-password",yoe=e=>e&&e.replace(/\/+$/,"")||"/",q0=()=>typeof window<"u"&&yoe(window.location.pathname)===goe,__=()=>typeof window>"u"?null:new URLSearchParams(window.location.search).get("token"),voe=()=>q0()?"reset":"login",boe=()=>q0()?__():null,Br=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;const t=Number(e);return Number.isFinite(t)?t:void 0},FI=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},xoe=e=>{const t=[e?.image,e?.imageUrl,e?.image_url,e?.thumbnail,e?.thumb];for(const n of t){if(typeof n=="string"&&n.trim().length>0)return n.trim();if(n&&typeof n=="object"){const a=n.src||n.url||n.href||n.source;if(typeof a=="string"&&a.trim().length>0)return a.trim()}}const r=Array.isArray(e?.meta_data)?e.meta_data:Array.isArray(e?.meta)?e.meta:[];for(const n of r){const a=n?.value;if(typeof a=="string"&&a.trim().length>0)return a.trim();if(a&&typeof a=="object"){const s=a.src||a.url||a.href||a.source;if(typeof s=="string"&&s.trim().length>0)return s.trim()}}return null},BI=e=>Array.isArray(e)?e.map(t=>{const r=Br(t?.quantity),n=Br(t?.price),a=Br(t?.total)??(n&&r?n*r:void 0);return{id:t?.id?String(t.id):void 0,name:typeof t?.name=="string"?t.name:null,quantity:r??null,total:a??null,price:n??null,sku:typeof t?.sku=="string"&&t.sku.trim().length>0?t.sku.trim():null,productId:FI(t?.productId??t?.product_id??t?.wooProductId),variantId:FI(t?.variantId??t?.variation_id??t?.wooVariationId),image:xoe(t)}}).filter(t=>t.name):[],cn=e=>{if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},jv=e=>{if(!e||typeof e!="object")return null;const t=cn(e.first_name)||cn(e.firstName),r=cn(e.last_name)||cn(e.lastName),n=[t,r].filter(Boolean).join(" ").trim()||null;return{name:cn(e.name)||n,company:cn(e.company),addressLine1:cn(e.addressLine1)||cn(e.address_1),addressLine2:cn(e.addressLine2)||cn(e.address_2),city:cn(e.city),state:cn(e.state),postalCode:cn(e.postalCode)||cn(e.postcode),country:cn(e.country),phone:cn(e.phone),email:cn(e.email)}},qI=(e,t)=>{if(!e||typeof e!="object")return null;const r=p=>{if(typeof p!="string"||!p.trim())return null;const g=new Date(p);return Number.isNaN(g.getTime())?null:g.toISOString()},n=p=>{const g=Number(p);return!Number.isFinite(g)||g<=0?null:Math.round(g*100)/100},a=p=>{if(!p||typeof p!="object")return null;const g=n(p.length)??n(p.lengthIn)??n(p.l),h=n(p.width)??n(p.widthIn)??n(p.w),x=n(p.height)??n(p.heightIn)??n(p.h);return!g||!h||!x?null:{length:g,width:h,height:x}},s=t?.fallbackDate||null,c=a(e.packageDimensions)||a(e.dimensions),d={carrierId:e.carrierId||e.carrier_id||null,serviceCode:e.serviceCode||e.service_code||null,serviceType:e.serviceType||e.service_type||null,estimatedDeliveryDays:Number.isFinite(Number(e.estimatedDeliveryDays))?Number(e.estimatedDeliveryDays):null,deliveryDateGuaranteed:e.deliveryDateGuaranteed||e.delivery_date||null,rate:Br(e.rate)??null,currency:typeof e.currency=="string"?e.currency:null,estimatedArrivalDate:typeof e.estimatedArrivalDate=="string"?r(e.estimatedArrivalDate):typeof e.estimated_arrival_date=="string"?r(e.estimated_arrival_date):null,packageCode:e.packageCode||e.package_code||e.packageType||null,packageDimensions:c,weightOz:Br(e.weightOz)??null,meta:typeof e.meta=="object"&&e.meta!==null?e.meta:null};if(!d.estimatedArrivalDate&&d.deliveryDateGuaranteed&&(d.estimatedArrivalDate=r(d.deliveryDateGuaranteed)),!d.estimatedArrivalDate&&d.estimatedDeliveryDays&&Number.isFinite(d.estimatedDeliveryDays)&&d.estimatedDeliveryDays>0&&typeof s=="string"){const p=new Date(s);if(!Number.isNaN(p.getTime())){const g=new Date(p.getTime());g.setDate(g.getDate()+Number(d.estimatedDeliveryDays)),d.estimatedArrivalDate=g.toISOString()}}return Object.values(d).some(p=>p!=null)?d:null},UI=e=>{if(typeof e!="string")return null;const t=e.replace(/^#/,"").trim().toLowerCase();return t.length>0?t:null},af=e=>{if(typeof e=="number"&&Number.isFinite(e))return String(e);if(typeof e=="string"){const t=e.trim();if(!t)return null;if(/^\d+$/.test(t))return t;const r=t.match(/(\d+)/);if(r)return r[1]}return null},woe=e=>{if(!e)return null;const t=e.integrationDetails?.wooCommerce||e.integrationDetails?.woocommerce||{},r=t.response||{},n=t.payload||{},a=[e.wooOrderId,e.woo_order_id,t.wooOrderId,t.woo_order_id,r.id,r.orderId,n.id,n.orderId];for(const s of a){const c=af(s);if(c)return c}return null},Soe=(e,t)=>!e&&!t?null:e?t?{...t,...e,wooCommerce:{...e.wooCommerce||{},...t.wooCommerce||{}}}:e:t?{...t}:null,Noe=(e,t)=>{e.status=t.status||e.status,e.total=typeof t.total=="number"?t.total:e.total,e.currency=t.currency||e.currency,e.number=t.number||e.number,e.wooOrderNumber=t.wooOrderNumber||t.number||e.wooOrderNumber,e.updatedAt=t.updatedAt||e.updatedAt,typeof e.notes!="string"&&typeof t.notes=="string"&&(e.notes=t.notes),!ff(e.shippingAddress)&&ff(t.shippingAddress)&&(e.shippingAddress=t.shippingAddress),!ff(e.billingAddress)&&ff(t.billingAddress)&&(e.billingAddress=t.billingAddress),!e.shippingEstimate&&t.shippingEstimate&&(e.shippingEstimate=t.shippingEstimate),typeof t.shippingTotal=="number"&&(e.shippingTotal=t.shippingTotal),typeof t.taxTotal=="number"&&(e.taxTotal=t.taxTotal),!e.lineItems?.length&&t.lineItems?.length&&(e.lineItems=t.lineItems),e.paymentMethod=e.paymentMethod||t.paymentMethod,e.paymentDetails=e.paymentDetails||t.paymentDetails,e.integrationDetails=Soe(e.integrationDetails,t.integrationDetails),!e.wooOrderId&&t.wooOrderId&&(e.wooOrderId=t.wooOrderId),e.cancellationId||(e.cancellationId=t.cancellationId||t.wooOrderId||e.wooOrderId||e.id)},Qd=(e,t)=>{const r=t?.includeCanceled??!1,n=[],a=new Map,s=new Map,c=f=>{if(!f)return!0;const p=String(f).trim().toLowerCase(),g=p==="trash"||p.includes("cancel")||p.includes("refund");return r||!g},d=f=>{n.push(f),f.id&&a.set(String(f.id),f);const p=UI(f.wooOrderNumber||f.integrationDetails?.wooCommerce?.response?.number||f.integrationDetails?.wooCommerce?.wooOrderNumber||f.number);p&&s.set(p,f)};return e&&Array.isArray(e.local)&&e.local.filter(f=>c(f?.status)).forEach(f=>{const p=f?.id?String(f.id):`local-${Math.random().toString(36).slice(2,10)}`,g=af(f?.wooOrderId)||af(f?.woo_order_id)||woe(f),h=g||p;d({id:p,number:f?.number||p,trackingNumber:B0(f),status:f?.status==="trash"?"canceled":f?.status||"pending",currency:f?.currency||"USD",total:Br(f?.total)??null,notes:typeof f?.notes=="string"?f.notes:null,createdAt:f?.createdAt||null,updatedAt:f?.updatedAt||null,source:"peppro",lineItems:BI(f?.items||f?.lineItems||f?.line_items),integrations:f?.integrations||null,paymentMethod:f?.paymentMethod||null,paymentDetails:f?.paymentDetails||(f?.integrationDetails?.stripe?.cardLast4?`${f.integrationDetails?.stripe?.cardBrand||"Card"}  ${f.integrationDetails.stripe.cardLast4}`:f?.paymentMethod||null),integrationDetails:f?.integrationDetails||null,shippingAddress:jv(f?.shippingAddress||f?.shipping_address||f?.shipping),billingAddress:jv(f?.billingAddress||f?.billing_address||f?.billing),shippingEstimate:qI(f?.shippingEstimate||f?.shipping_estimate,{fallbackDate:f?.createdAt||null}),shippingTotal:Br(f?.shippingTotal)??null,taxTotal:Br(f?.taxTotal)??null,physicianCertified:f?.physicianCertified===!0,wooOrderNumber:cn(f?.wooOrderNumber||f?.integrationDetails?.wooCommerce?.response?.number||f?.integrationDetails?.wooCommerce?.wooOrderNumber)||null,wooOrderId:g||null,cancellationId:h})}),e&&Array.isArray(e.woo)&&e.woo.filter(f=>c(f?.status)).forEach(f=>{const p=f?.id?String(f.id):f?.number?`woo-${f.number}`:`woo-${Math.random().toString(36).slice(2,10)}`,g={id:p,number:f?.number||p,trackingNumber:B0(f),wooOrderNumber:cn(f?.number),wooOrderId:af(f?.id)||af(f?.wooOrderId)||null,status:f?.status==="trash"?"canceled":f?.status||"pending",currency:f?.currency||"USD",total:Br(f?.total)??null,notes:typeof f?.notes=="string"?f.notes:null,createdAt:f?.createdAt||f?.dateCreated||f?.date_created||null,updatedAt:f?.updatedAt||f?.dateModified||f?.date_modified||null,source:"woocommerce",lineItems:BI(f?.lineItems||f?.line_items||f?.items),integrations:f?.integrations||null,paymentMethod:f?.paymentMethod||null,paymentDetails:cn(f?.paymentDetails)||cn(f?.paymentMethod)||null,integrationDetails:f?.integrationDetails||null,shippingAddress:jv(f?.shippingAddress||f?.shipping||f?.shipping_address),billingAddress:jv(f?.billingAddress||f?.billing||f?.billing_address),shippingEstimate:qI(f?.shippingEstimate||f?.shipping_estimate,{fallbackDate:f?.createdAt||f?.dateCompleted||f?.date_created||null}),shippingTotal:Br(f?.shippingTotal??f?.shipping_total)??null,taxTotal:Br(f?.taxTotal??f?.total_tax??f?.totalTax)??null,physicianCertified:f?.physicianCertified===!0,cancellationId:af(f?.id)||af(f?.number)||p},h=cn(f?.integrationDetails?.wooCommerce?.pepproOrderId),x=UI(g.wooOrderNumber),S=h&&a.get(h)||x&&s.get(x);S?Noe(S,g):n.push(g)}),n.sort((f,p)=>{const g=f.createdAt?new Date(f.createdAt).getTime():0;return(p.createdAt?new Date(p.createdAt).getTime():0)-g})},joe=e=>(e||"").replace(/\s+/g," ").trim().toLowerCase(),_oe=new Set(["mr","mrs","ms","mx","dr","prof","sir","madam"]),Coe=new Set(["jr","sr","ii","iii","iv","v"]),zI=e=>joe(e).split(" ").map(t=>t.replace(/[.,]/g,"")).filter(t=>t&&!_oe.has(t)&&!Coe.has(t)),Poe=(e,t)=>{const r=zI(e),n=zI(t);if(!r.length||!n.length)return!1;if(r.join(" ")===n.join(" "))return!0;const a=r[0],s=r[r.length-1],c=n[0],d=n[n.length-1];if(!a||!s||!c||!d||a!==c||s!==d)return!1;const f=r.slice(1,-1).join(" "),p=n.slice(1,-1).join(" ");return!f||!p?!0:f===p},Aoe="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0%25' stop-color='%23B7D8F9'/%3E%3Cstop offset='100%25' stop-color='%2395C5F9'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='120' height='120' rx='16' fill='url(%23grad)'/%3E%3Cpath d='M35 80l15-18 12 14 11-12 12 16' stroke='%23ffffff' stroke-width='5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3Ccircle cx='44' cy='43' r='9' fill='none' stroke='%23ffffff' stroke-width='5'/%3E%3C/svg%3E",Eoe=600,WI=6e4,HI=4e3,VI=900,koe=3,Ooe=1200,IN=300*1e3,Toe=4500,Li=String(ao?.VITE_CATALOG_DEBUG||"").toLowerCase()==="true",fg="v1.9.79".trim()||"v1.9.69",GI=(()=>{const e=String(ao?.VITE_CATALOG_PAGE_CONCURRENCY||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?Math.min(Math.max(t,1),4):2})();typeof window<"u"&&(window.__PEPPRO_BUILD__=fg);const Roe=(()=>{const e=String(ao?.VITE_VARIANT_PREFETCH_CONCURRENCY||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?Math.min(Math.max(t,1),12):1})(),KI=String(ao?.VITE_BACKGROUND_VARIANT_PREFETCH||"").toLowerCase().trim()==="true",Ioe=(()=>{const e=String(ao?.VITE_BACKGROUND_VARIANT_PREFETCH_START_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:1500})(),Moe=(()=>{const e=String(ao?.VITE_BACKGROUND_VARIANT_PREFETCH_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?t:650})(),MN=(()=>{const e=String(ao?.VITE_VARIANT_POLL_INTERVAL_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?t:3e4})(),DN=(()=>{const e=String(ao?.VITE_REFERRAL_BACKGROUND_MIN_INTERVAL_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:3e4})(),sg=String(ao?.VITE_IMAGE_PREFETCH_ENABLED||"").toLowerCase().trim()!=="false",Doe=(()=>{const e=String(ao?.VITE_IMAGE_PREFETCH_CONCURRENCY||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?Math.min(Math.max(t,1),12):4})(),Loe=(()=>{const e=String(ao?.VITE_IMAGE_PREFETCH_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:150})(),YI=[{key:"pending_combined",label:"Pending",statuses:["pending","contact_form"]},{key:"contacted",label:"Contacting",statuses:["contacted"]},{key:"verified",label:"Verified",statuses:["verified","verifying"]},{key:"account_created",label:"Account Created",statuses:["account_created"]},{key:"converted",label:"Converted",statuses:["converted"]},{key:"nuture",label:"Nuturing",statuses:["nuture"]}],$b=[{key:"pending",label:"Pending"},{key:"contacted",label:"Contacting"},{key:"verified",label:"Verified"},{key:"account_created",label:"Account Created"},{key:"converted",label:"Converted"},{key:"nuture",label:"Nuturing"}],XI=$b.filter(e=>e.key!=="nuture"),$oe=new Set($b.filter(e=>e.key!=="pending").map(e=>e.key)),Foe=new Set([...$b.map(e=>e.key),"contact_form"]),Zn=e=>{const t=(e||"").toLowerCase().trim();return t==="verifying"?"verified":Foe.has(t)?t:"pending"},LN=e=>e?e.split(/\s+/).filter(Boolean).map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" ")||null:e??null,C_=[{key:"contact_form",label:"Pending"},{key:"contacted",label:"Contacting"},{key:"verified",label:"Verified"},{key:"account_created",label:"Account Created"},{key:"converted",label:"Converted"},{key:"nuture",label:"Nuturing"}];C_.filter(e=>e.key!=="nuture");const _v="__manual_delete__",Boe=(e,t=12)=>{if(!e)return[];const r=e.replace(/\//g," / ").split(" ").filter(Boolean),n=[];let a="";return r.forEach(s=>{const c=a?`${a} ${s}`:s;c.length<=t?a=c:(a&&n.push(a),a=s)}),a&&n.push(a),n},qoe=({active:e,payload:t,label:r})=>{if(!e||!t||t.length===0)return null;const n=t[0]?.payload||{},a=Array.isArray(n.names)?n.names:[],s=Number(n.count)||0,d=a.slice(0,10),f=a.length-d.length;return l.jsxs("div",{className:"pipeline-tooltip max-w-[260px] rounded-xl border border-slate-200/90 bg-white/95 px-3 py-2 text-xs text-slate-700 shadow-lg backdrop-blur-lg",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900",children:r}),l.jsxs("div",{className:"text-[11px] text-slate-500",children:[s," lead",s===1?"":"s"]}),d.length>0&&l.jsxs("ul",{className:"mt-2 max-h-40 space-y-1 overflow-y-auto pr-1 text-[11px] text-slate-700",children:[d.map(p=>l.jsx("li",{className:"truncate",children:p},p)),f>0&&l.jsxs("li",{className:"text-slate-500",children:["+",f," more"]})]})]})},Uoe=({x:e=0,y:t=0,payload:r})=>{const n=Boe(r?.value||""),a=14,s=t+12-(n.length-1)*a/2;return l.jsx("g",{transform:`translate(${e},${s})`,children:l.jsx("text",{textAnchor:"middle",fill:"#334155",fontSize:12,children:n.map((c,d)=>l.jsx("tspan",{x:0,dy:d===0?0:a,children:c},`${c}-${d}`))})})},Jd=e=>{if(!e)return"Unknown";const t=e.toLowerCase().trim(),r=$b.find(n=>n.key===t);return r?r.label:t==="contact_form"?"Pending":e.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")},Zd=e=>e?e.replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim():"",Jp=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},Lu=(e=new Date)=>{const t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(t,r+1,0).getDate(),s=Math.ceil(a/2),c=n<=s?1:s,d=Jp(new Date(t,r,c)),f=Jp(e);return{start:d,end:f}},QI=e=>{if(!e)return"";const t=e.trim();try{const r=new Date(t);if(!Number.isNaN(r.getTime()))return r.setDate(r.getDate()+1),r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});const n=t.split("-");if(n.length===3){const c=parseInt(n[0],10),d=parseInt(n[1],10)-1,f=parseInt(n[2],10),p=new Date(c,d,f);if(!Number.isNaN(p.getTime()))return p.setDate(p.getDate()+1),p.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}const a=t.match(/^([A-Za-z]{3},?\s+\d{1,2}\s+[A-Za-z]{3}\s+\d{4})/);if(a)return a[1];const s=t.indexOf("T");if(s>0){const d=t.slice(0,s).split("-");if(d.length===3){const f=parseInt(d[0],10),p=parseInt(d[1],10)-1,g=parseInt(d[2],10),h=new Date(f,p,g);if(!Number.isNaN(h.getTime()))return h.setDate(h.getDate()+1),h.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}return t}catch{return t}},zoe=e=>{switch((e||"").toUpperCase().trim()){case"NPI_INVALID":return"Please enter a valid 10-digit NPI number.";case"NPI_NOT_FOUND":return"We could not verify that NPI in the CMS registry. Double-check the digits and try again.";case"NPI_ALREADY_REGISTERED":return"An account already exists for this NPI number.";case"NPI_LOOKUP_FAILED":return"We could not reach the CMS registry. Please try again in a moment.";default:return"Unable to verify this NPI number. Please confirm it is correct."}},Woe=["bulk_pricing_tiers","bulk_pricing","_bulk_pricing_tiers","quantity_discounts","quantity_discount"],Cv=(e,t)=>{const r=Number(e),n=Number(t);return!Number.isFinite(r)||!Number.isFinite(n)||r<=0?null:{minQuantity:Math.max(1,Math.floor(r)),discountPercentage:Math.max(0,Math.min(100,Number(n)))}},G$=e=>{if(e==null)return[];if(Array.isArray(e))return e.map(t=>{if(typeof t=="object"&&t!==null){const r=t;return Cv(r.minQuantity??r.min??r.quantity??r.qty,r.discountPercentage??r.discount??r.percent??r.percentage)}if(typeof t=="string"){const r=t.match(/(\d+(?:\.\d+)?)\s*[:=,-]\s*(\d+(?:\.\d+)?)/);if(r)return Cv(r[1],r[2])}return null}).filter(t=>!!t);if(typeof e=="object")return Object.entries(e).map(([r,n])=>Cv(r,n)).filter(r=>!!r);if(typeof e=="string")try{const t=JSON.parse(e);return G$(t)}catch{return e.split(/[\n,;]/).map(t=>t.trim()).filter(Boolean).map(t=>{const r=t.split(/[:=|-]/).map(n=>n.trim());return r.length>=2?Cv(r[0].replace(/[^\d.]/g,""),r[1].replace(/[^\d.]/g,"")):null}).filter(t=>!!t)}return[]},K$=e=>{if(typeof e=="number")return Number.isFinite(e)?e:null;if(typeof e=="string"){const t=Number(e.replace(/[^\d.\-]/g,""));return Number.isFinite(t)?t:null}return null},Y$=(e,t,r)=>{const n=Number(e),a=K$(t);if(!Number.isFinite(n)||!a||!Number.isFinite(r)||r<=0||n<=0)return null;const s=Math.max(0,Math.min(100,(1-a/r)*100));return{minQuantity:Math.floor(n),discountPercentage:Math.round(s)}},P_=(e,t)=>{if(!e||!Number.isFinite(t)||t<=0)return[];const r=[],n=(a,s)=>{r.push({min:a,price:s})};if(Array.isArray(e))e.forEach(a=>{typeof a=="object"&&a!==null&&n(a.quantity??a.min??a.minQuantity,a.price??a.value)});else if(typeof e=="object")Object.entries(e).forEach(([a,s])=>n(a,s));else if(typeof e=="string")try{const a=JSON.parse(e);return P_(a,t)}catch{e.split(/[\n,;]/).forEach(a=>{if(!a)return;const s=a.split(/[:=|-]/).map(c=>c.trim());s.length>=2&&n(s[0],s[1])})}return r.map(({min:a,price:s})=>Y$(a,s,t)).filter(a=>!!a).sort((a,s)=>a.minQuantity-s.minQuantity)},Hoe=(e,t)=>{if(!Array.isArray(e)||t<=0)return[];const r=[];return e.forEach(n=>{const a=String(n?.key||"");if(!a.includes("peppro_tier")||a.includes("note"))return;const s=a.match(/(\d+)/),c=s?Number(s[1]):null,d=K$(n?.value);if(!c||!d)return;const f=Y$(c,d,t);f&&r.push(f)}),r.sort((n,a)=>n.minQuantity-a.minQuantity)},Voe=(e,t)=>{if(!Number.isFinite(t)||t<=0)return[];const r=P_(e.tiered_pricing_fixed_rules??null,t);if(r.length>0)return r;const n=e.meta_data??[],a=n.find(c=>c?.key==="_fixed_price_rules")?.value,s=P_(a,t);return s.length>0?s:Hoe(n,t)},JI=e=>{if(e==null||e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},Goe=e=>{if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const r=Array.from(t.matchAll(/(\d+(?:\.\d+)?)\s*mg/gi)).map(a=>`${a[1]}mg`);if(r.length===0)return null;const n=[];for(const a of r)(n.length===0||n[n.length-1]!==a)&&n.push(a);return n.length===0?null:n.length===1?n[0]:`${n[0]} / ${n[1]}`},Koe=e=>{const t=e.trim();return t?t.split("-").map(r=>{const n=r.trim();return n?n[0].toUpperCase()+n.slice(1):""}).filter(Boolean).join(" "):""},og=(e,t)=>{const r=e?.categories;if(!Array.isArray(r)||r.length===0)return e;const n=c=>{if(typeof c=="number"&&Number.isFinite(c))return c;const d=Number.parseInt(String(c??"").replace(/[^\d]/g,""),10);return Number.isFinite(d)?d:null};let a=!1;const s=r.map(c=>{if(c&&typeof c=="object"){const p=n(c.id),g=typeof c.name=="string"?c.name.trim():"";let h=g;if(!h&&p!==null){const S=t.get(p);typeof S=="string"&&S.trim()&&(h=S.trim())}return!h&&typeof c.slug=="string"&&c.slug.trim()&&(h=Koe(c.slug)),h!==g||p!==null&&c.id!==p?(a=!0,{...c,id:p??c.id,name:h||c.name}):c}const d=n(c);if(d===null)return c;const f=t.get(d)||"";return a=!0,{id:d,name:f}});return a?{...e,categories:s}:e},$N=(e,t=[])=>{const r=q=>{if(q==null||q==="")return null;const J=Number(q);return!Number.isFinite(J)||J<0?null:Math.floor(J)},n=(e.images??[]).map(q=>$I(q?.src)).filter(q=>!!q),a=(()=>{const q=Array.isArray(e.categories)?e.categories:[],J=[];for(const be of q){const Ae=(be?.name??"").toString().trim(),Ie=Ae,Fe=Ae.toLowerCase();Ie&&(Fe.includes("subscription")||J.push(Ie))}if(J.length===0)return"";const de=J.filter(be=>be.toLowerCase()!=="uncategorized");return de.length>0?de[0]:J[0]})(),s=(e.meta_data??[]).some(q=>{const J=(q?.key??"").toString().toLowerCase(),de=typeof q?.value=="string"?q.value.toLowerCase():"";return J.includes("subscription")||de.includes("subscription")}),c=(e.price_html??"").toLowerCase(),d=(e.categories??[]).some(q=>(q?.name??"").toLowerCase().includes("subscription")),f=`${e.description??""} ${e.short_description??""}`.toLowerCase(),p=s||c.includes("subscription")||c.includes("/ month")||(e.type??"").toLowerCase().includes("subscription")||(e.name??"").toLowerCase().includes("subscription")||d||f.includes("subscription"),g=q=>{if(q==null||q==="")return;const J=Number.parseFloat(q);return Number.isFinite(J)?J:void 0},h=q=>{if(!q)return;const J=Zd(q);if(!J)return;const de=J.match(/(\d[\d,]*)(\.\d+)?/g);if(!de||de.length===0)return;const be=de.map(Ae=>Number.parseFloat(Ae.replace(/,/g,""))).filter(Ae=>Number.isFinite(Ae)&&Ae>0);if(be.length!==0)return Math.min(...be)},x=q=>(q??[]).map(J=>{const de=Zd(J?.name??"").trim(),be=Zd(J?.option??"").trim();return!de&&!be?null:{name:de||be||"Option",value:be||de||""}}).filter(J=>!!(J&&(J.name||J.value))),S=e.meta_data?.find(q=>{const J=(q?.key??"").toString().toLowerCase();return Woe.includes(J)}),P=S?G$(S.value):[];let j=[];const N=JI(e.weight),k=q=>{if(q==null||q==="")return;const J=Number.parseFloat(String(q));return Number.isFinite(J)&&J>0?J:void 0},T=e.dimensions?{lengthIn:k(e.dimensions.length),widthIn:k(e.dimensions.width),heightIn:k(e.dimensions.height)}:void 0,R=typeof e.id=="number"?e.id:Number.parseInt(String(e.id).replace(/[^\d]/g,""),10),M=(t??[]).map(q=>{const J=Number.isFinite(q.id)?Number(q.id):Number.parseInt(String(q.id).replace(/[^\d]/g,""),10),de=g(q.price)??g(q.regular_price),be=g(e.price)??g(e.regular_price)??0,Ae=de??be,Ie=g(q.regular_price),Fe=x(q.attributes),ke=Fe.length>0?Fe.map(it=>it.value||it.name).filter(Boolean).join("  ").trim():"",Se=Goe(q.sku),ze=!!Se&&(!ke||ke.toLowerCase()==="option"||ke.includes("/")&&Se&&Se!==ke)?Se:ke||(q.sku?q.sku:`Variant ${q.id}`),xe=Number.isFinite(J)?`woo-variation-${J}`:`woo-variation-${q.id}`,Ve=Voe(q,Ae);!j.length&&Ve.length&&(j=Ve);const dt=JI(q.weight)??N??null;return{id:xe,wooId:Number.isFinite(J)?J:void 0,label:ze,price:Ae,originalPrice:Ie&&Ie>Ae?Ie:void 0,sku:q.sku?.trim()||void 0,inStock:(q.stock_status??"").toLowerCase()!=="outofstock",stockQuantity:r(q?.stock_quantity),attributes:Fe,image:$I(q.image?.src)??void 0,description:Zd(q.description??"")||void 0,weightOz:dt,dimensions:q.dimensions?{lengthIn:k(q.dimensions.length),widthIn:k(q.dimensions.width),heightIn:k(q.dimensions.height)}:void 0}}).filter(q=>Number.isFinite(q.price)),O=M.length>0,I=M.map(q=>q.price).filter(q=>Number.isFinite(q)),D=I.length>0?Math.min(...I):void 0,B=g(e.price)??g(e.regular_price)??h(e.price_html)??0,G=O?D??B:B,X=g(e.regular_price),Y=!O&&X&&X>G?X:void 0,oe=Zd(e.short_description||e.description),se=e.meta_data?.find(q=>q?.key==="manufacturer")?.value,ie=P.length>0?P:j,K=M.map(q=>q.image).filter(q=>!!q);let ne=[...K,...n].filter((q,J,de)=>!!q&&de.indexOf(q)===J);const ee=O?(()=>{const q=M.map(de=>de.label).filter(Boolean);if(q.length<=3)return q.join("  ");const J=q.length-3;return`${q.slice(0,3).join("  ")} +${J} more`})():void 0,z=O?M.find(q=>q.inStock)?.id??M[0]?.id:void 0,fe=String(e.type||"").toLowerCase()==="variable",pe=Array.isArray(e.variations)?e.variations.length:0;return fe&&(!O||K.length===0)?ne=[ms]:ne.length===0&&(ne=[ms]),{id:`woo-${e.id}`,wooId:Number.isFinite(R)?R:void 0,name:Zd(e.name)||`Product ${e.id}`,category:a,price:G,originalPrice:Y,rating:Number.parseFloat(e.average_rating||"")||5,reviews:Number.isFinite(e.rating_count)?Number(e.rating_count):0,image:ne[0]??ms,images:ne,image_loaded:!1,inStock:O?M.some(q=>q.inStock):(e.stock_status??"").toLowerCase()!=="outofstock",stockQuantity:r(e?.stock_quantity),prescription:!1,dosage:O?`${M.length} option${M.length===1?"":"s"} available`:fe&&pe>0?`${pe} option${pe===1?"":"s"} available`:"See details",manufacturer:Zd(typeof se=="string"?se:"")||"",type:e.type??"General",isSubscription:p,description:oe||void 0,weightOz:N??null,dimensions:T,sku:e.sku?.trim()||void 0,variants:O?M:void 0,hasVariants:O,defaultVariantId:z,variantSummary:ee,bulkPricingTiers:ie.length>0?ie:void 0}},Yoe=e=>{const t=(e.type??"").toLowerCase()==="variable"&&(!e.variants||e.variants.length===0),r=t?ms:e.image,n=t||!e.images||e.images.length===0?[ms]:e.images,a=e.variants&&e.variants.length>0?e.variants.map(s=>({id:s.id,strength:s.label||s.attributes.map(c=>c.value).join("  ")||"Option",basePrice:s.price,image:s.image,weightOz:s.weightOz??null,stockQuantity:s.stockQuantity??null})):t?[{id:"__peppro_needs_variant__",strength:"Select strength",basePrice:e.price,image:e.image,weightOz:e.weightOz??null,stockQuantity:null}]:[{id:e.id,strength:e.dosage||"Standard",basePrice:e.price,image:e.image,weightOz:e.weightOz??null,stockQuantity:e.stockQuantity??null}];return{id:e.id,name:e.name,category:e.category,image:r,images:n,inStock:e.inStock,stockQuantity:e.stockQuantity??null,manufacturer:e.manufacturer,weightOz:e.weightOz??null,variations:a,bulkPricingTiers:e.bulkPricingTiers??[]}},X$=y.forwardRef((e,t)=>l.jsxs("div",{ref:t,className:"catalog-skeleton-card squircle-xl","aria-hidden":"true",children:[l.jsx("div",{className:"catalog-skeleton-thumb"}),l.jsxs("div",{className:"catalog-skeleton-lines",children:[l.jsx("div",{className:"catalog-skeleton-line catalog-skeleton-line--short"}),l.jsx("div",{className:"catalog-skeleton-line"}),l.jsx("div",{className:"catalog-skeleton-line catalog-skeleton-line--medium"}),l.jsx("div",{className:"catalog-skeleton-line catalog-skeleton-line--xs"})]}),l.jsxs("div",{className:"catalog-skeleton-footer",children:[l.jsx("div",{className:"catalog-skeleton-pill"}),l.jsx("div",{className:"catalog-skeleton-pill catalog-skeleton-pill--short"})]})]}));X$.displayName="CatalogSkeletonCard";const Xoe=({product:e,onAddToCart:t,onEnsureVariants:r})=>{const n=y.useMemo(()=>Yoe(e),[e]);return l.jsx(gq,{product:n,onEnsureVariants:typeof r=="function"?a=>r(e,a):void 0,onAddToCart:(a,s,c)=>t(a,s,c)})};function Qoe(){const e=String(ao?.VITE_BROWSER_VARIATION_CACHE||"").toLowerCase().trim()==="true",t="https://ship14.shipstation.com",[r,n]=y.useState(null),[a,s]=y.useState([]),[c,d]=y.useState(!1),[f,p]=y.useState("wholesale"),[g,h]=y.useState(""),[x,S]=y.useState(null),[P,j]=y.useState(!1),[N,k]=y.useState(0),T=y.useRef(!1),[R,M]=y.useState(!1),[O,I]=y.useState(null),D=!!(r&&(Ft(r.role)||Je(r.role))),[B,G]=y.useState(voe),[X,Y]=y.useState(!1),[oe,se]=y.useState(!1);y.useEffect(()=>{!D&&f==="retail"&&p("wholesale")},[D,f]);const[ie,K]=y.useState(!1),[ne,ee]=y.useState(!1),[z,fe]=y.useState(!0),[pe,q]=y.useState(!1),[J,de]=y.useState(null),[be,Ae]=y.useState(null),[Ie,Fe]=y.useState([]),[ke,Se]=y.useState(!1),De=y.useRef(new Map),ze=y.useRef(!1),xe=y.useRef(new Map),Ve=y.useRef(new Map),dt=y.useCallback(()=>{if(!ze.current){if(typeof window>"u"){ze.current=!0;return}if(!e){ze.current=!0,De.current.clear();return}ze.current=!0;try{const v=window.localStorage.getItem(Nv)||window.sessionStorage.getItem(Nv);if(!v)return;const _=JSON.parse(v);_&&typeof _=="object"&&_.data&&typeof _.data=="object"&&Object.entries(_.data).forEach(([C,E])=>{const $=Number(C);Number.isFinite($)&&Array.isArray(E)&&De.current.set($,E)})}catch(v){console.debug("[Catalog] Failed to load variation cache",v),De.current.clear()}}},[]),it=y.useCallback(()=>{if(!(typeof window>"u")&&e)try{const v={};De.current.forEach((C,E)=>{v[String(E)]=C});const _=JSON.stringify({data:v,ts:Date.now()});window.localStorage.setItem(Nv,_),window.sessionStorage.setItem(Nv,_)}catch(v){console.debug("[Catalog] Failed to persist variation cache",v)}},[]),pt=y.useCallback(async()=>{if(r){q(!0),de(null);try{const v=await cD.listPeptideForum(),_=Array.isArray(v?.items)?v.items:[],E=/localhost|127\\.0\\.0\\.1/i.test(Te)&&_.length===0?[{id:"local-dev-dummy",title:"Dummy Forum Class (Local Dev)",date:new Date(Date.now()+10080*60*1e3).toISOString(),description:"Placeholder item for the local Node backend. Replace with real forum data when available.",link:"https://example.com",recording:null}]:_;Fe(E),Ae(typeof v?.updatedAt=="string"?v.updatedAt:null)}catch(v){Fe([]),Ae(null),de(typeof v?.message=="string"&&v.message?v.message:"Unable to load The Peptide Forum right now.")}finally{q(!1)}}},[r]),Ee=z||Je(r?.role);y.useEffect(()=>{if(!(!X||!r)){if(!Ee){Fe([]),Ae(null),de(null);return}pt()}},[X,r?.id,pt,Ee]);const Le=y.useRef(new Map),Ke=y.useRef(new Map),Ye=y.useRef(0),mt=y.useRef(0),st=y.useRef(0),ar=y.useRef([]),Vr=y.useRef(new Set),mr=y.useRef(0),Vt=y.useRef([]),Mt=y.useRef(new Map),fi=y.useRef(new Set),kr=y.useRef(new Map),Ct=y.useCallback(async(v,_)=>{const C=(v.type??"").toLowerCase()==="variable",E=_?.force===!0;if(!C||!E&&v.variants&&v.variants.length>0||!E&&Date.now()<Ye.current)return v;dt();const $=typeof v.wooId=="number"?v.wooId:Number.parseInt(String(v.id).replace(/[^\d]/g,""),10);if(!Number.isFinite($))return v;let i=e?De.current.get($):void 0;i&&i.length===0&&(De.current.delete($),i=void 0);let o=xe.current.get($);if(o){const A=og(o,Ve.current);A!==o&&(o=A,xe.current.set($,A))}const u=Ke.current.get($);if(u&&Date.now()<u.nextAt&&!E)return v;E&&Ke.current.delete($);const m=()=>{const L=(Ke.current.get($)?.attempt??0)+1,F=Math.min(6e4,1500*Math.pow(1.8,L-1));Ke.current.set($,{attempt:L,nextAt:Date.now()+F})},b=A=>Array.isArray(A)&&A.some(L=>!!L?.image?.src),w=async()=>{if(i&&!E&&b(i))return i;const A=await MI($,{per_page:100,status:"publish",...E?{force:!0}:null}),L=Array.isArray(A)?A:[];if(!E&&L.length>0&&!b(L))try{const F=await MI($,{per_page:100,status:"publish",force:!0}),U=Array.isArray(F)?F:[];return U.length>0?U:L}catch{return L}return L};try{const A=Le.current.get($),L=A??(async()=>{const W=await w();return W.length>0&&e&&(De.current.set($,W),it()),W})();A||Le.current.set($,L);const F=await L;if(Le.current.delete($),!o)try{const W=await DI($,E?{force:!0}:{});if(W&&typeof W=="object"&&"id"in W){const Q=og(W,Ve.current);o=Q,xe.current.set($,Q)}}catch(W){console.debug("[Catalog] Failed to fetch Woo product payload",{wooId:$,error:W})}if(!o)return v;const U=$N(o,F);return U.image_loaded=U.image!==ms&&!!Mt.current.get(U.image)?.loaded,C&&(!U.variants||U.variants.length===0)&&Array.isArray(o.variations)&&o.variations.length>0?(m(),v):(Ke.current.delete($),mt.current=0,Ye.current=0,Rd(W=>W.map(Q=>Q.id===v.id?U:Q)),S(W=>W?.id===v.id?U:W),U)}catch(A){Le.current.delete($),m();const L=typeof A?.status=="number"?A.status:null,F=typeof A?.message=="string"?A.message:"",U=typeof A?.name=="string"?A.name:"";if(!E&&(L===429||L===500||L===502||L===503||L===504||F==="Failed to fetch"||F==="Load failed"||U==="TypeError")){mt.current+=1;const Q=Math.min(8,mt.current),ae=Math.min(300*1e3,2e3*Math.pow(2,Q-1));Ye.current=Date.now()+ae,console.warn("[Catalog] Woo backoff engaged",{status:L,attempt:Q,delayMs:ae})}return console.warn("[Catalog] Failed to load variants for product",{productId:v.id,wooId:$,error:A}),v}},[dt,it]),en=y.useCallback(v=>{if(!((v.type??"").toLowerCase()==="variable")||v.variants&&v.variants.length>0||Date.now()<Ye.current)return;const C=typeof v.wooId=="number"?v.wooId:Number.parseInt(String(v.id).replace(/[^\d]/g,""),10);if(!Number.isFinite(C)||Vr.current.has(C))return;Vr.current.add(C);const E=()=>{for(;st.current<Roe&&ar.current.length>0;){const $=ar.current.shift();$&&(st.current+=1,$())}};ar.current.push(()=>{if(Date.now()<Ye.current){st.current=Math.max(0,st.current-1),Vr.current.delete(C),E();return}Ct(v).catch(()=>{}).finally(()=>{st.current=Math.max(0,st.current-1),Vr.current.delete(C),E()})}),E()},[Ct]),Gt=y.useCallback(v=>{if(!sg||typeof window>"u"||!v)return;const _=v.trim();if(!_||_===ms||_.startsWith("data:"))return;const C=Mt.current.get(_)??{firstSeenAt:Date.now(),attempt:0,nextAt:0,queued:!1,inFlight:!1,loaded:!1};Mt.current.has(_)||Mt.current.set(_,{...C});const E=Mt.current.get(_);!E||E.loaded||E.inFlight||E.queued||Date.now()<E.nextAt||(E.queued=!0,Vt.current.push(_))},[]),Gr=y.useCallback(()=>{if(!sg||typeof window>"u"||!Di())return;const v=()=>{for(;mr.current<Doe&&Vt.current.length>0;){const _=Vt.current.shift();if(!_)continue;const C=Mt.current.get(_);if(!C||C.loaded||C.inFlight)continue;if(Date.now()<C.nextAt){C.queued=!1;continue}C.queued=!1,C.inFlight=!0,C.attempt+=1,mr.current+=1;const E=new Image,i=window.setTimeout(()=>{E.onload=null,E.onerror=null;const o=Mt.current.get(_);if(o){o.inFlight=!1;const u=Math.min(12e4,1200*Math.pow(1.8,o.attempt-1));o.nextAt=Date.now()+u,window.setTimeout(()=>{Gt(_),v()},u+5)}mr.current=Math.max(0,mr.current-1),v()},2e4);E.onload=()=>{window.clearTimeout(i),E.onload=null,E.onerror=null;const o=Mt.current.get(_);o&&(o.loaded=!0,o.inFlight=!1),mr.current=Math.max(0,mr.current-1),window.setTimeout(v,Loe)},E.onerror=()=>{window.clearTimeout(i),E.onload=null,E.onerror=null;const o=Mt.current.get(_);if(o){o.inFlight=!1;const u=Math.min(12e4,1200*Math.pow(1.8,o.attempt-1));o.nextAt=Date.now()+u,window.setTimeout(()=>{Gt(_),v()},u+5)}mr.current=Math.max(0,mr.current-1),v()},E.src=_}};v()},[Gt]),Ur=y.useRef(null);y.useRef(null);const[xa,lr]=y.useState(!1),[Vn,Kt]=y.useState(!1),[Or,tn]=y.useState(!1),[Wa,dn]=y.useState(""),[wa,ct]=y.useState(!1),[qt,Ut]=y.useState(!1),[zt,$t]=y.useState(""),[Ot,Yt]=y.useState(boe),[Tr,xr]=y.useState(!1),[Rr,Kr]=y.useState(""),[cr,Ha]=y.useState(""),[Wi,Ko]=y.useState(""),[pi,Vl]=y.useState(""),rn=y.useRef(null),[xs,ur]=y.useState(!1),[Va,nu]=y.useState(!1),$e=y.useRef(null),[me,Me]=y.useState(!1),ft=y.useRef(null),Ze=y.useRef(null),et=y.useRef(null),St=y.useRef(!1),[jt,hr]=y.useState({platform:!1,conditional:!1,checked:!1}),[Ir,Yr]=y.useState(ooe),It=y.useRef(!1),[Xr,Mr]=y.useState(!1),[Sa,nn]=y.useState(!1),[mi,Gn]=y.useState(!1),[Wm,io]=y.useState(""),ws=y.useRef(!1),hi=y.useRef(!1),wr=y.useRef(null),[Gl,so]=y.useState([]),[Hi,au]=y.useState(!1),[iu,gi]=y.useState(null),[Kl,Yo]=y.useState(null),[Rt,su]=y.useState(!0),oo=y.useRef(null),Vi=y.useRef(null),Gi=y.useRef([]),[Ss,Yl]=y.useState(null),ou=y.useCallback(()=>{const v=Date.now();Yl({tab:"details",open:!0,token:v})},[]),Ki=y.useMemo(()=>moe(r),[r]),Ga=y.useMemo(()=>hoe(Gl,r?.name||r?.npiVerification?.name||null),[Gl,r?.name,r?.npiVerification?.name]),Yi=y.useMemo(()=>{if(Ki)return Ki;if(Ga)return Ga;if(r)return{name:r.name||r.npiVerification?.name||null,addressLine1:r.officeAddressLine1||null,addressLine2:r.officeAddressLine2||null,city:r.officeCity||null,state:r.officeState||null,postalCode:r.officePostalCode||null,country:"US"}},[Ki,Ga,r]),Ka=y.useCallback(async()=>{if(!St.current){St.current=!0;try{const v=await eD();v&&(Ze.current&&(Ze.current.value=v.id),et.current&&(et.current.value=v.password))}finally{St.current=!1}}},[]);y.useEffect(()=>{const v=!!(r&&(Js(r.role)||Ft(r.role)));return v&&!wr.current&&(wr.current={log:console.log,info:console.info,debug:console.debug,warn:console.warn},console.log=Sv,console.info=Sv,console.debug=Sv,console.warn=Sv),!v&&wr.current&&(console.log=wr.current.log,console.info=wr.current.info,console.debug=wr.current.debug,console.warn=wr.current.warn,wr.current=null),()=>{wr.current&&(console.log=wr.current.log,console.info=wr.current.info,console.debug=wr.current.debug,console.warn=wr.current.warn,wr.current=null)}},[r?.role]),y.useEffect(()=>{if(typeof window>"u")return;const v=()=>{q0()&&(G("reset"),Yt(__()))};return window.addEventListener("popstate",v),()=>window.removeEventListener("popstate",v)},[]);const Xi=y.useCallback(()=>{if(typeof window>"u")return;const v=window.location.origin;if(window.opener&&!window.opener.closed){try{window.opener.postMessage({type:"PASSWORD_RESET_COMPLETE"},v)}catch(_){console.warn("[Auth] Unable to notify opener about password reset completion",_)}window.close()}else window.location.replace("/")},[]);y.useEffect(()=>{if(!(typeof window>"u")){if(!cr){rn.current&&(window.clearTimeout(rn.current),rn.current=null);return}return rn.current=window.setTimeout(Xi,1500),()=>{rn.current&&(window.clearTimeout(rn.current),rn.current=null)}}},[Xi,cr]);const lo=y.useCallback(()=>{typeof window>"u"||q0()&&window.history.replaceState({},"","/")},[]),wn=y.useCallback(async v=>{const _=v?.includeCanceled??Rt,C=v?.force===!0;if(!r?.id)return so([]),Yo(null),gi(null),[];au(!0),gi(null);try{const E=await Ba.getAll({includeCanceled:_,force:C});let $=Qd(E,{includeCanceled:_});const i=Vi.current,o=oo.current;if(i&&o)if(Date.now()-o.createdAtMs>600*1e3)Vi.current=null;else{const w=i.number?String(i.number).trim():"",A=i.id?String(i.id).trim():"",L=o.pepproOrderId?String(o.pepproOrderId).trim():"";$.some(U=>{const W=U.number?String(U.number).trim():"",Q=U.id?String(U.id).trim():"",ae=typeof U?.integrationDetails?.wooCommerce?.pepproOrderId=="string"?String(U.integrationDetails.wooCommerce.pepproOrderId).trim():"";return w&&W&&W===w||A&&Q&&Q===A||L&&ae&&ae===L})?Vi.current=null:$=[i,...$]}so($);const u=E&&typeof E=="object"&&E.fetchedAt?E.fetchedAt:new Date().toISOString();Yo(typeof u=="string"?u:new Date().toISOString());const m=E&&typeof E=="object"&&E.wooError&&E.wooError.message||null;return gi(m),$}catch(E){if(E?.code==="AUTH_REQUIRED")return so([]),Yo(null),gi("Please sign in again to view your latest orders."),n(null),He.error("Your session expired. Please log in again."),[];const $=typeof E?.message=="string"?E.message:"Unable to load orders.";throw gi($),E}finally{au(!1)}},[r?.id,Rt]),Xo=y.useCallback(async()=>{Gi.current.forEach(o=>window.clearTimeout(o)),Gi.current=[];const v=oo.current,_=v?.wooOrderNumber||null,C=v?.wooOrderId||null,E=v?.pepproOrderId||null,$=[0,900,1800,3500],i=async()=>{try{if((await wn({force:!0})).some(m=>{const b=String(m.number||"").trim(),w=String(m.id||"").trim(),A=typeof m?.integrationDetails?.wooCommerce?.pepproOrderId=="string"?String(m.integrationDetails.wooCommerce.pepproOrderId).trim():"";return _&&b&&b===_||C&&w&&w===C||E&&A&&A===E}))return!0}catch{}return!1};i();for(const o of $.slice(1)){const u=window.setTimeout(async()=>{await i()&&(Gi.current.forEach(b=>window.clearTimeout(b)),Gi.current=[])},o);Gi.current.push(u)}},[wn]),Of=y.useCallback(async v=>{if(v)try{const _=await Ba.cancelOrder(v,"Cancelled via account portal"),C=!!_?.manualRefundReviewRequired||(()=>{const $=String(_?.order?.paymentMethod||_?.order?.paymentDetails||"").toLowerCase();return $.includes("zelle")||$.includes("bank")||$.includes("transfer")})();He.success(C?"Order canceled. If payment was already received, well refund you manually.":"Order canceled. A refund is pending."),await wn()}catch(_){throw _?.code==="AUTH_REQUIRED"?(n(null),He.error("Your session expired. Please log in again to cancel orders."),new Error("Please log in again to cancel orders.")):_}},[wn]),ia=y.useCallback(()=>{su(v=>{const _=!v;return wn({includeCanceled:_}).catch(()=>{}),_})},[wn]);y.useEffect(()=>{let v=!1;return(async()=>{const _=await noe(),C=aoe();v||hr({platform:_,conditional:C,checked:!0})})(),()=>{v=!0}},[]),y.useEffect(()=>()=>{os.current&&clearTimeout(os.current)},[]),y.useEffect(()=>{if(!r?.id){so([]),Yo(null),gi(null);return}wn()},[r?.id,wn]),y.useEffect(()=>{let v=!1,_=null;const C=async()=>{if(!(T.current||v)){T.current=!0;try{await ef(),console.debug("[Health] API warmup complete")}catch(E){console.warn("[Health] API warmup failed",E),v||(T.current=!1,_=window.setTimeout(C,1200));return}T.current=!1}};return C(),()=>{v=!0,_!==null&&window.clearTimeout(_)}},[]),y.useEffect(()=>{!r&&N>0&&ef().catch(v=>{console.warn("[Health] Login prompt warmup failed",v)})},[N,r]),y.useEffect(()=>{if(typeof window>"u"||r)return;let v=!1;const _="login-keepalive",C=Math.max(2e4,WI*2),E=async()=>{if(!v&&!(!Di()||!ag())&&Cl(_,C))try{await ef()}catch(i){v||console.warn("[Health] Keep-alive ping failed",i)}};E();const $=window.setInterval(()=>{E()},WI);return()=>{v=!0,Zs(_),window.clearInterval($)}},[r]),y.useEffect(()=>{if(typeof window>"u"||!r)return;const v=()=>{ds.markOffline()};return window.addEventListener("pagehide",v),window.addEventListener("beforeunload",v),()=>{window.removeEventListener("pagehide",v),window.removeEventListener("beforeunload",v)}},[r?.id]),y.useEffect(()=>{if(X&&r&&ne){K(!0);const v=window.setTimeout(()=>{K(!1),ee(!1)},1500);return()=>{window.clearTimeout(v),K(!1)}}ne||K(!1)},[X,r?.id,ne]);const id=y.useCallback(v=>{n(v),Y(!0),ee(!0),K(!0);const _=(v.visits??1)>1;se(_),I(null),lr(!1),Kt(!1),tn(!1),hi.current=!1},[]),Xl=y.useCallback(async v=>{const{requestId:_,publicKey:C}=await ds.passkeys.getAuthenticationOptions(v?.emailHint||void 0),E=await soe(C,!!v?.useConditionalUI),$=await ds.passkeys.completeAuthentication({requestId:_,assertionResponse:E});return id($),$},[id]),Ql=y.useCallback(async()=>{if(!(r||It.current)){It.current=!0;try{await Xl({useConditionalUI:!0})}catch(v){!(v instanceof DOMException)||v.name!=="NotAllowedError"?console.debug("[Passkey] Conditional login dismissed or failed",v):Yr(!1)}finally{It.current=!1}}},[Xl,r,Yr]);y.useEffect(()=>{!r&&Ir&&jt.conditional&&!ws.current&&(ws.current=!0,Ql())},[r,Ir,jt.conditional,Ql]);const sd=y.useCallback(()=>{Ka()},[Ka]),Hm=y.useCallback(async()=>{if(!jt.platform){an("Passkey login is not available on this device.");return}const v=Ze.current?.value?.trim();if(!v){an("Enter your email to sign in with a passkey.");return}Mr(!0),an("");try{await Xl({emailHint:v})}catch(_){if(_ instanceof DOMException&&_.name==="NotAllowedError")return;const C=(_?.message||"").toUpperCase();C.includes("PASSKEY_NOT_REGISTERED")?an("No passkey found for that email yet. Sign in with your password once to enable passkeys."):C.includes("EMAIL_NOT_FOUND")?an("We could not find that email."):an("Unable to sign in with passkey. Please try again or use your password."),console.warn("[Passkey] Authentication failed",_)}finally{Mr(!1)}},[jt.platform,Xl]),Qo=y.useCallback(async()=>{if(r){if(!jt.platform){io("Passkey setup is not available on this device.");return}Gn(!0),io("");try{const{requestId:v,publicKey:_}=await ds.passkeys.getRegistrationOptions(),C=await ioe(_),E=await ds.passkeys.completeRegistration({requestId:v,attestationResponse:C,label:"This device"});E?.user&&n(E.user)}catch(v){(v?.message||"").toUpperCase().includes("PASSKEY_ALREADY_REGISTERED")?io("A passkey is already registered for this device."):v instanceof DOMException&&v.name==="NotAllowedError"||io("Unable to enable biometric sign-in. Please try again."),console.warn("[Passkey] Registration failed",v)}finally{Gn(!1)}}},[r,jt.platform]);y.useEffect(()=>{loe&&(!r||!jt.platform||hi.current||(hi.current=!0,Qo()))},[r,jt.platform,Qo]),y.useEffect(()=>{try{const E=localStorage.getItem("peppro:shop-enabled");E!==null&&rs(E!=="false")}catch{rs(!0)}try{const E=localStorage.getItem("peppro:peptide-forum-enabled");E!==null&&fe(E!=="false")}catch{fe(!0)}try{const E=localStorage.getItem("peppro:research-dashboard-enabled");E!==null&&jo(E!=="false")}catch{jo(!1)}try{const E=localStorage.getItem("peppro:test-payments-override-enabled");E!==null&&ol(E==="true")}catch{ol(!1)}let v=!0;try{const E=localStorage.getItem("peppro:settings-support:research");E!==null&&(v=E!=="false")}catch{v=!0}Pn(E=>({...E,research:v}));let _=!1;return(async()=>{try{const[E,$,i]=await Promise.allSettled([vr.getShopStatus(),vr.getForumStatus(),vr.getResearchStatus()]);if(_)return;if(E.status==="fulfilled"){const o=E.value;o&&typeof o.shopEnabled=="boolean"&&(rs(o.shopEnabled),localStorage.setItem("peppro:shop-enabled",o.shopEnabled?"true":"false"))}if($.status==="fulfilled"){const o=$.value;o&&typeof o.peptideForumEnabled=="boolean"&&(fe(o.peptideForumEnabled),localStorage.setItem("peppro:peptide-forum-enabled",o.peptideForumEnabled?"true":"false"))}if(i.status==="fulfilled"){const o=i.value;if(o&&typeof o.researchDashboardEnabled=="boolean"){Pn(u=>({...u,research:!0}));try{localStorage.setItem("peppro:settings-support:research","true")}catch{}jo(o.researchDashboardEnabled),localStorage.setItem("peppro:research-dashboard-enabled",o.researchDashboardEnabled?"true":"false")}}else{const o=i.reason;if((typeof o?.status=="number"?o.status:null)===404){Pn(m=>({...m,research:!1}));try{localStorage.setItem("peppro:settings-support:research","false")}catch{}}}}catch(E){console.warn("[Settings] Unable to load settings, using local fallback",E)}})(),()=>{_=!0}},[]),y.useEffect(()=>{if(!r||!Je(r.role)||X)return;let v=!1;return(async()=>{try{const C=await vr.getTestPaymentsOverrideStatus();if(v)return;if(C&&typeof C.testPaymentsOverrideEnabled=="boolean"){ol(C.testPaymentsOverrideEnabled);try{localStorage.setItem("peppro:test-payments-override-enabled",C.testPaymentsOverrideEnabled?"true":"false")}catch{}}}catch(C){const E=typeof C?.status=="number"?C.status:null;E&&E!==404&&console.warn("[Settings] Failed to refresh test payments override",C)}})(),()=>{v=!0}},[r?.id,r?.role,X]),y.useEffect(()=>{if(!r)return;let v=!1;return(async()=>{try{const C=await vr.getResearchStatus();if(v)return;if(C&&typeof C.researchDashboardEnabled=="boolean"){Pn(E=>({...E,research:!0}));try{localStorage.setItem("peppro:settings-support:research","true")}catch{}jo(C.researchDashboardEnabled);try{localStorage.setItem("peppro:research-dashboard-enabled",C.researchDashboardEnabled?"true":"false")}catch{}}}catch(C){if((typeof C?.status=="number"?C.status:null)===404){Pn($=>({...$,research:!1}));try{localStorage.setItem("peppro:settings-support:research","false")}catch{}}else console.warn("[Research] Failed to refresh research setting",C)}})(),()=>{v=!0}},[r?.id]);const fn=y.useCallback(async v=>{if(!Je(r?.role))return;Ds(C=>({...C,shop:!0}));let _=!0;rs(C=>(_=C,v));try{localStorage.setItem("peppro:shop-enabled",v?"true":"false")}catch{}try{const C=await vr.updateShopStatus(v),E=C&&typeof C.shopEnabled=="boolean"?C.shopEnabled:v;rs(E);try{localStorage.setItem("peppro:shop-enabled",E?"true":"false")}catch{}}catch(C){console.warn("[Shop] Failed to update shop toggle",C),He.error("Unable to update Shop setting right now."),rs(_);try{localStorage.setItem("peppro:shop-enabled",_?"true":"false")}catch{}}finally{Ds(C=>({...C,shop:!1}))}},[r?.role]),co=y.useCallback(async v=>{if(!Je(r?.role))return;Ds(C=>({...C,forum:!0}));let _=!0;fe(C=>(_=C,v));try{localStorage.setItem("peppro:peptide-forum-enabled",v?"true":"false")}catch{}try{const C=await vr.updateForumStatus(v),E=C&&typeof C.peptideForumEnabled=="boolean"?C.peptideForumEnabled:v;fe(E);try{localStorage.setItem("peppro:peptide-forum-enabled",E?"true":"false")}catch{}}catch(C){console.warn("[Forum] Failed to update forum toggle",C),He.error("Unable to update Forum setting right now."),fe(_);try{localStorage.setItem("peppro:peptide-forum-enabled",_?"true":"false")}catch{}}finally{Ds(C=>({...C,forum:!1}))}},[r?.role]),Ya=y.useCallback(async v=>{if(!Je(r?.role))return;if(!ll.research){He.error("Research setting isn't available on this server yet.");return}Ds(C=>({...C,research:!0}));let _=!1;jo(C=>(_=C,v));try{localStorage.setItem("peppro:research-dashboard-enabled",v?"true":"false")}catch{}try{const C=await vr.updateResearchStatus(v),E=C&&typeof C.researchDashboardEnabled=="boolean"?C.researchDashboardEnabled:v;jo(E);try{localStorage.setItem("peppro:research-dashboard-enabled",E?"true":"false")}catch{}}catch(C){console.warn("[Research] Failed to update research toggle",C);const E=typeof C?.status=="number"?C.status:null;if(E===404){Pn($=>({...$,research:!1}));try{localStorage.setItem("peppro:settings-support:research","false")}catch{}He.error("Research setting isn't available on this server yet.")}if(E===null)try{await vr.getResearchStatus()}catch($){if((typeof $?.status=="number"?$.status:null)===404){Pn(o=>({...o,research:!1}));try{localStorage.setItem("peppro:settings-support:research","false")}catch{}}}E!==404&&He.error("Unable to update Research setting right now."),jo(_);try{localStorage.setItem("peppro:research-dashboard-enabled",_?"true":"false")}catch{}}finally{Ds(C=>({...C,research:!1}))}},[r?.role]),Vm=y.useCallback(async v=>{if(!Je(r?.role))return;Ds(C=>({...C,testPaymentsOverride:!0}));let _=!1;ol(C=>(_=C,v));try{localStorage.setItem("peppro:test-payments-override-enabled",v?"true":"false")}catch{}try{const C=await vr.updateTestPaymentsOverrideStatus(v),E=C&&typeof C.testPaymentsOverrideEnabled=="boolean"?C.testPaymentsOverrideEnabled:v;ol(E);try{localStorage.setItem("peppro:test-payments-override-enabled",E?"true":"false")}catch{}}catch(C){console.warn("[Payments] Failed to update test payments override",C),He.error("Unable to update test payments override right now."),ol(_);try{localStorage.setItem("peppro:test-payments-override-enabled",_?"true":"false")}catch{}}finally{Ds(C=>({...C,testPaymentsOverride:!1}))}},[r?.role]),[Tf,an]=y.useState(""),[Jl,pn]=y.useState(""),[uo,Na]=y.useState("idle"),[lu,Ns]=y.useState(""),Jo=y.useRef(null),Xa=y.useRef(0),[Sn,Zo]=y.useState({categories:[],types:[]}),[Sr,js]=y.useState(null),od=Math.max(0,Number(Sr?.availableCredits??r?.referralCredits??0)),[Qi,_s]=y.useState([]),[Zt,fo]=y.useState(null),Ji=y.useCallback(v=>{if(v==null)return null;let _=String(v).trim();if(!_)return null;_=_.replace(/^mailto:/i,"").trim();const C=_.match(/<([^>]+)>/);return C?.[1]&&(_=C[1].trim()),_=_.replace(/\s+/g,"").toLowerCase(),_&&_.includes("@")?_:null},[]),Zi=y.useCallback(v=>{const _=Ji(v);if(!_)return[];const C=new Set,E=u=>{const m=u.trim().toLowerCase();m&&(C.add(m),C.add(`email:${m}`))};E(_);const[$,i]=_.split("@",2);if(!$||!i)return Array.from(C);const o=$.split("+",1)[0];if(o&&E(`${o}@${i}`),i==="gmail.com"||i==="googlemail.com"){const u=o.replace(/\./g,"");u&&E(`${u}@${i}`)}return Array.from(C)},[Ji]),po=y.useCallback(v=>{if(v==null)return[];const _=String(v).trim();if(!_)return[];const C=_.replace(/\D/g,""),E=new Set;return E.add(`phone:${_}`),C&&(E.add(`phone:${C}`),C.length===11&&C.startsWith("1")&&E.add(`phone:${C.slice(1)}`)),Array.from(E)},[]),Rf=y.useCallback(v=>{if(!v)return null;const _=String(v).trim().toLowerCase();return _||null},[]),If=y.useMemo(()=>{if(typeof window>"u")return!1;const v=new URLSearchParams(window.location.search).get("debugAccountMatch");return v===null?!1:v===""||v==="1"?!0:["true","yes","on"].includes(v.toLowerCase().trim())},[]),cu=y.useMemo(()=>{const v=Zt,_=[...Array.isArray(v?.users)?v.users:[],...Array.isArray(v?.accounts)?v.accounts:[],...Array.isArray(v?.doctors)?v.doctors:[]],C=new Set,E=$=>{if(!$)return;const i=String($).trim().toLowerCase();i&&C.add(i)};return _.forEach($=>{const i=Fi($?.role);if(i==="admin"||i==="sales_rep"||i==="rep")return;const o=$?.email||$?.referredContactEmail||$?.userEmail||$?.doctorEmail,u=$?.phone||$?.phoneNumber||$?.phone_number||$?.referredContactPhone||null;Zi(o).forEach(m=>E(m)),po(u).forEach(m=>E(m)),E($?.id!==void 0&&$?.id!==null?`acct:${String($.id).trim()}`:null),E($?.userId!==void 0&&$?.userId!==null?`acct:${String($.userId).trim()}`:null),E($?.doctorId!==void 0&&$?.doctorId!==null?`acct:${String($.doctorId).trim()}`:null),E($?.accountId!==void 0&&$?.accountId!==null?`acct:${String($.accountId).trim()}`:null),E($?.account_id!==void 0&&$?.account_id!==null?`acct:${String($.account_id).trim()}`:null)}),C},[Zi,po,Zt]),el=y.useMemo(()=>{const v=Zt,_=[...Array.isArray(v?.users)?v.users:[],...Array.isArray(v?.accounts)?v.accounts:[],...Array.isArray(v?.doctors)?v.doctors:[]],C=new Map,E=($,i)=>{if(!$)return;const o=String($).trim().toLowerCase();if(!o)return;const u=C.get(o);(!u||!u.profileImageUrl&&i.profileImageUrl)&&C.set(o,i)};return _.forEach($=>{const i=Fi($?.role);if(i==="admin"||i==="sales_rep"||i==="rep")return;const o=Ji($?.email||$?.referredContactEmail||$?.userEmail||$?.doctorEmail),u=$?.phone||$?.phoneNumber||$?.phone_number||$?.referredContactPhone||null,m=$?.id||$?.userId||$?.doctorId||$?.accountId||$?.account_id||$?.referredContactAccountId||null,b=$?.name||[$?.firstName,$?.lastName].filter(Boolean).join(" ").trim()||$?.doctorName||$?.username||o||"Account",w=$?.profileImageUrl||$?.profile_image_url||$?.avatar||$?.avatarUrl||null,A={name:b,email:o||$?.referredContactEmail||null,profileImageUrl:w};if(Zi(o).forEach(L=>E(L,A)),u&&po(u).forEach(L=>E(L,A)),m){const L=String(m).trim();L&&(E(`acct:${L}`,A),E(`acct:${L.toLowerCase()}`,A),E(L,A))}}),C},[Zi,po,Ji,Zt]),Nn=y.useMemo(()=>(()=>{let v=0;const _=C=>{const E=Rf(C);return E?cu.has(E):!1};return(Zt?.referrals??[]).map(C=>{const E=typeof C.referredContactHasAccount=="boolean"?C.referredContactHasAccount:null,$=E===null,i=$?Zi(C.referredContactEmail):[],o=$?po(C.referredContactPhone):[],u=C.referredContactAccountId!==void 0&&C.referredContactAccountId!==null?String(C.referredContactAccountId).trim():"",m=u?`acct:${u}`:null,b=$?i.some(F=>_(F)):!1,w=$?o.some(F=>_(F)):!1,A=$?_(m):!1,L=$?b||w||A:!!E;return If&&$&&!L&&v<25&&(i.length>0||o.length>0||m)&&(v+=1,console.info("[AccountMatch] no match",{referredContactName:C.referredContactName||null,referredContactEmail:C.referredContactEmail||null,referredContactPhone:C.referredContactPhone||null,referredContactAccountId:C.referredContactAccountId||null,normalizedKeys:{emailKeys:i,phoneKeys:o,acctKey:m},matched:{byEmail:b,byPhone:w,byAccountId:A}})),{...C,status:Zn(C.status),referredContactName:LN(C.referredContactName),referrerDoctorName:LN(C.referrerDoctorName),referredContactHasAccount:L}})})(),[cu,po,Zi,If,Ji,Rf,Zt?.referrals]),ja=y.useCallback(v=>{const _=v,C=v.integrationDetails||v.integrations,E=_.userId??_.user_id??_.doctorId??_.doctor_id??_.salesRepDoctorId??_.sales_rep_doctor_id??C?.doctorId??C?.referrerDoctorId??C?.doctor_id??C?.referrer_doctor_id??C?.userId??null;return E?String(E):null},[]),mo=y.useCallback(v=>{if(!r?.email)return!1;const _=(v?.referredContactEmail||"").toLowerCase();return _.length>0&&_===r.email.toLowerCase()},[r?.email]),Cs=r?.id||null,Ps=r?.role||null,ho=r?.salesRepId||null,tl=y.useMemo(()=>{const v=ho||Cs||null;return v?`peppro:sales-doctor-notes:v1:${String(v)}`:null},[Cs,ho]),[Zl,go]=y.useState({}),[uu,es]=y.useState("");y.useEffect(()=>{if(!tl){go({});return}if(!(typeof window>"u"))try{const v=window.localStorage.getItem(tl);if(!v){go({});return}const _=JSON.parse(v);go(_&&typeof _=="object"?_:{})}catch{go({})}},[tl]);const Mf=y.useCallback(v=>{if(go(v),!(!tl||typeof window>"u"))try{window.localStorage.setItem(tl,JSON.stringify(v))}catch{}},[tl]),[yi,ld]=y.useState([]),rl=y.useMemo(()=>{const v=new Set;return yi.forEach(_=>{const C=ja(_)||_.userId||_.doctorId;C&&v.add(`id:${String(C)}`),[_.userEmail,_.doctorEmail,_.email].forEach($=>{$&&typeof $=="string"&&v.add(`email:${$.toLowerCase()}`)})}),v},[ja,yi]),jn=y.useCallback(v=>{const _=r?.id!=null?String(r.id):"",C=typeof r?.email=="string"?r.email.toLowerCase():"",E=typeof v?.referredContactEmail=="string"?v.referredContactEmail:typeof v?.email=="string"?v.email:"",$=E?E.toLowerCase():"";if(C&&$&&C===$)return!1;const i=v?.referredContactAccountId||v?.referredContactId||v?.userId||v?.doctorId;if(_&&i&&String(i)===_)return!1;if((Br(v?.referredContactTotalOrders)??Br(v?.totalOrders)??0)>0)return!0;const u=$;return!!(u&&rl.has(`email:${u}`)||i&&rl.has(`id:${String(i)}`))},[rl,r?.email,r?.id]),ec=y.useCallback(v=>{if(v?.creditIssuedAt)return!0;const _=Zn(v?.status);return _==="nuture"?!0:_==="converted"?!1:jn(v)},[jn]),As=y.useCallback(v=>{if(typeof v!="string")return null;const _=v.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return _.trim()?_:null},[]),yo=y.useCallback(v=>{const _=v?B0(v):null,C=v&&typeof v?.trackingNumber=="string"?String(v.trackingNumber).trim():"",E=(v&&typeof v?.shippingCarrier=="string"?String(v.shippingCarrier):"")||(v&&typeof v.shippingEstimate?.carrierId=="string"?String(v.shippingEstimate.carrierId):"")||"",$=(v&&typeof v?.shippingService=="string"?String(v.shippingService):"")||(v&&typeof v.shippingEstimate?.serviceType=="string"?String(v.shippingEstimate.serviceType):"")||"",i=v&&typeof v.status=="string"?String(v.status):"",o=v&&typeof v?.expectedShipmentWindow=="string"?String(v.expectedShipmentWindow):"";return{trackingNumber:(C||_||"").toString().trim(),shippingCarrier:E.toString().trim(),shippingService:$.toString().trim(),status:i.toString().trim(),expectedShipmentWindow:o.toString().trim()}},[]),du=v=>{const _=String(v||"").trim();return _.length?_:null},[_a,Qa]=y.useState({trackingNumber:"",shippingCarrier:"",shippingService:"",status:"",expectedShipmentWindow:""}),[vi,ts]=y.useState({trackingNumber:"",shippingCarrier:"",shippingService:"",status:"",expectedShipmentWindow:""}),[bi,fu]=y.useState(!1),Z=y.useRef(null),[le,ye]=y.useState(null),[we,Be]=y.useState(!1),[_e,rt]=y.useState(""),[bt,Nt]=y.useState(!1),[Qr,sn]=y.useState(new Set),[mn,xi]=y.useState(new Set),[Ca,Kn]=y.useState(new Set),Ja=y.useRef(!1),Pa=y.useRef(new Set),Yn=y.useRef([]),[Re,Aa]=y.useState(null),[Za,sa]=y.useState(!1),[Nr,on]=y.useState(void 0),[ln,Rn]=y.useState(!1);y.useEffect(()=>{on(void 0),Rn(!1)},[Re?.doctorId]);const[Dr,_n]=y.useState(!1),[vo,oa]=y.useState(!1),la=y.useRef(null),In=y.useCallback(()=>{oa(!0),la.current&&window.clearTimeout(la.current),la.current=window.setTimeout(()=>{oa(!1),la.current=null},1e3)},[]),[ca,ua]=y.useState(""),[ei,Xt]=y.useState(!1);y.useEffect(()=>{if(!Re?.doctorId||!Js(Re.role)){es(""),_n(!1),oa(!1);return}const v=String(Re.doctorId);let _=!1;return(async()=>{es(""),_n(!0);try{const E=(await ea.getSalesProspect(v))?.prospect?.notes;_||(es(typeof E=="string"?E:""),_n(!1),oa(!1))}catch{if(!_){const C=String(Re.doctorId);es(Zl[C]||""),_n(!1),oa(!1)}}})(),()=>{_=!0}},[Re?.doctorId,Re?.role,Zl]),y.useEffect(()=>{if(!Re?.doctorId){ua("");return}ua(Re.phone||"")},[Re?.doctorId,Re?.phone]),y.useEffect(()=>()=>{la.current&&(window.clearTimeout(la.current),la.current=null)},[]);const ir=y.useCallback(async()=>{if(!Re?.doctorId||!Js(Re.role))return;const v=String(Re.doctorId);if(r&&(Ft(r.role)||Je(r.role)))try{Ma($=>({...$,updatingReferral:v,error:null})),await ea.upsertSalesProspect(v,{notes:uu}),In();return}catch($){console.warn("[Referral] Update sales rep notes failed",$),He.error(typeof $?.message=="string"&&$.message?$.message:"Unable to save notes right now.")}finally{Ma($=>({...$,updatingReferral:null}))}const _=String(Re.doctorId),C=As(uu),E={...Zl};C?E[_]=C:delete E[_],Mf(E),In()},[Mf,Re?.doctorId,Re?.role,uu,Zl,As,In,r]),ot=y.useCallback(async()=>{if(!Re?.doctorId)return;const v=ca.trim(),_=Re.phone||"";if(v!==_){Xt(!0);try{await vr.updateUserProfile(Re.doctorId,{phone:v||null}),Aa(C=>C&&{...C,phone:v||null}),He.success("Phone number updated.")}catch(C){console.warn("[SalesDoctor] Failed to update phone number",C),He.error(typeof C?.message=="string"&&C.message?C.message:"Unable to update phone number right now.")}finally{Xt(!1)}}},[Re?.doctorId,Re?.phone,ca,vr]),lt=y.useCallback(v=>{v&&ld(_=>_.map(C=>String(C.id||"")===String(v.id||v.number||"")||C.wooOrderId&&v.wooOrderId&&String(C.wooOrderId)===String(v.wooOrderId)||C.number&&v.number&&String(C.number)===String(v.number)?{...C,...v,shippingEstimate:v.shippingEstimate||C.shippingEstimate||null,createdAt:v.createdAt||C.createdAt||null,updatedAt:v.updatedAt||C.updatedAt||null,lineItems:v.lineItems?.length?v.lineItems:C.lineItems}:C))},[]),yt=y.useCallback(v=>{xi(_=>{const C=new Set(_);return C.has(v)?C.delete(v):C.add(v),C})},[]),Wt=y.useCallback(v=>{Kn(_=>{const C=new Set(_);return C.has(v)?C.delete(v):C.add(v),C})},[]),[Lr,jr]=y.useState(new Map),[Dt,Mn]=y.useState(!1),[hn,Ea]=y.useState(!1),[ti,wi]=y.useState(null),[Df,bo]=y.useState(null),Si=y.useRef(null),tc=y.useRef(0),cd=y.useRef(!1),Ny=y.useRef(new Map),jy=y.useRef(new Map),rc=y.useRef([]),Gm=y.useRef([]),[_y,Km]=y.useState(new Set),er=y.useRef(null);y.useEffect(()=>{Yn.current=yi},[yi]);const Lf=y.useCallback(async v=>{ye(v),rt(typeof v?.notes=="string"?String(v.notes):""),Z.current=null,Be(!0);try{const _=await Ba.getSalesRepOrderDetail(v.wooOrderId||v.id||v.number||"",v?.doctorEmail||v?.doctor_email||v?.doctorId||ja(v)||null),C=Qd({woo:Array.isArray(_)?_:[_]},{includeCanceled:!0});if(C&&C.length>0){const E=C[0];ye(E);const $=yo(E);ts($),Qa($),rt(typeof E?.notes=="string"?String(E.notes):""),lt(E)}else if(_&&typeof _=="object"){const E=_;ye(E);const $=yo(E);ts($),Qa($),rt(typeof E?.notes=="string"?String(E.notes):""),lt(E)}}catch(_){console.error("[Sales Tracking] Failed to fetch order detail",_),He.error(typeof _?.message=="string"?_.message:"Unable to load order details.")}finally{Be(!1)}},[yo,lt]);y.useEffect(()=>{if(!le){rt(""),ts({trackingNumber:"",shippingCarrier:"",shippingService:"",status:"",expectedShipmentWindow:""}),Qa({trackingNumber:"",shippingCarrier:"",shippingService:"",status:"",expectedShipmentWindow:""}),Z.current=null;return}rt(typeof le?.notes=="string"?String(le.notes):"")},[le?.id]),y.useEffect(()=>{if(!le||we)return;const v=String(le.wooOrderId||le.id||le.number||"");if(!v||Z.current===v)return;const _=yo(le);ts(_),Qa(_),Z.current=v},[yo,le,we]);const $f=y.useCallback(async()=>{if(!le)return;if(!r?.role||!Ft(r.role)&&!Je(r.role)){He.error("You don't have permission to edit order notes.");return}if(bt)return;const v=As(_e),_=le.wooOrderId||le.id||le.number||"";if(!_){He.error("Unable to identify this order.");return}Nt(!0);try{const C=await Ba.updateOrderNotes(_,v),E=C&&typeof C=="object"&&C.order||null,$=E&&typeof E?.notes=="string"?String(E.notes):v;ye(i=>i&&{...i,notes:$}),lt({...le,notes:$}),He.success("Order notes updated.")}catch(C){console.warn("[Orders] Failed to update order notes",C),He.error(typeof C?.message=="string"&&C.message?C.message:"Unable to update order notes right now.")}finally{Nt(!1)}},[lt,As,le,_e,bt,r?.role]),ud=y.useCallback(async()=>{if(!le)return;if(!r?.role||!Ft(r.role)&&!Je(r.role)){He.error("You don't have permission to edit this order.");return}if(bi)return;const v=le.wooOrderId||le.id||le.number||"";if(!v){He.error("Unable to identify this order.");return}const _={},C=["trackingNumber","shippingCarrier","shippingService","status","expectedShipmentWindow"];for(const E of C){const $=du(_a[E]),i=du(vi[E]);$!==i&&(_[E]=$)}if(Object.keys(_).length===0){He("No changes to save.");return}fu(!0);try{const E=await Ba.updateOrderFields(v,_),$=E&&typeof E=="object"&&E.order||null;ye(i=>{if(!i)return i;const o={};$&&typeof $=="object"?("trackingNumber"in $&&(o.trackingNumber=$.trackingNumber??null),"shippingCarrier"in $&&(o.shippingCarrier=$.shippingCarrier??null),"shippingService"in $&&(o.shippingService=$.shippingService??null),"status"in $&&(o.status=$.status??null),"expectedShipmentWindow"in $&&(o.expectedShipmentWindow=$.expectedShipmentWindow??null),$.shippingEstimate&&(o.shippingEstimate=$.shippingEstimate),$.updatedAt&&(o.updatedAt=$.updatedAt)):("trackingNumber"in _&&(o.trackingNumber=_.trackingNumber),"shippingCarrier"in _&&(o.shippingCarrier=_.shippingCarrier),"shippingService"in _&&(o.shippingService=_.shippingService),"status"in _&&(o.status=_.status),"expectedShipmentWindow"in _&&(o.expectedShipmentWindow=_.expectedShipmentWindow));const u={...i,...o};return lt(u),u}),ts(i=>{const o={...i};for(const u of C)u in _&&(o[u]=du(_[u])||"");return o}),Qa(i=>{const o={...i};for(const u of C)u in _&&(o[u]=du(_[u])||"");return o}),He.success("Order updated.")}catch(E){console.warn("[Orders] Failed to update order fields",E),He.error(typeof E?.message=="string"&&E.message?E.message:"Unable to update the order right now.")}finally{fu(!1)}},[yo,lt,le,_a,vi,bi,r?.role]),Ni=v=>{const _=String(v||"").toLowerCase().trim();return!["cancelled","canceled","on-hold","on_hold","trash","refunded"].includes(_)},Es=y.useCallback((v,_)=>{const C=()=>{const F=String(v?.doctorId||"").trim(),U=typeof v?.doctorEmail=="string"?v.doctorEmail.trim().toLowerCase():"",Q=[...Array.isArray(rc.current)?rc.current:[],...Array.isArray(Gm.current)?Gm.current:[]].find(ue=>{const he=String(ue?.id||"").trim();if(F&&he&&F===he)return!0;const ve=typeof ue?.email=="string"?ue.email.trim().toLowerCase():"";return!!(U&&ve&&U===ve)});if(!Q)return null;const ae=typeof Q?.idleMinutes=="number"&&Number.isFinite(Q.idleMinutes)?Q.idleMinutes:typeof Q?.idleForMinutes=="number"&&Number.isFinite(Q.idleForMinutes)?Q.idleForMinutes:null;return{isOnline:typeof Q?.isOnline=="boolean"?Q.isOnline:null,isIdle:typeof Q?.isIdle=="boolean"?Q.isIdle:null,idleMinutes:ae,lastSeenAt:Q?.lastSeenAt||Q?.last_seen_at||null,lastInteractionAt:Q?.lastInteractionAt||Q?.last_interaction_at||null,lastLoginAt:Q?.lastLoginAt||Q?.last_login_at||null}},$=[...v.orders||[]].sort((F,U)=>{const W=F.createdAt?new Date(F.createdAt).getTime():0;return(U.createdAt?new Date(U.createdAt).getTime():0)-W})[0],i=$?.shippingAddress||$?.shipping||$?.billingAddress||$?.billing||null,o=i&&[[i.firstName,i.lastName].filter(Boolean).join(" ").trim(),i.address1||i.address_1,i.address2||i.address_2,[i.city,i.state,i.postcode].filter(Boolean).join(", "),i.country].filter(F=>typeof F=="string"&&F.trim().length>0).join(`
`),u=v.doctorAddress&&v.doctorAddress.trim().length>0?v.doctorAddress:o||null,m=$?.createdAt||null,b=v.orders.filter(F=>Ni(F.status)),w=b.length>0?v.total/b.length:null,A=Fi(_||"doctor")||"doctor",L=typeof v?.isOnline=="boolean"||typeof v?.isIdle=="boolean"?{isOnline:typeof v?.isOnline=="boolean"?v.isOnline:null,isIdle:typeof v?.isIdle=="boolean"?v.isIdle:null,idleMinutes:typeof v?.idleMinutes=="number"&&Number.isFinite(v.idleMinutes)?v.idleMinutes:typeof v?.idleForMinutes=="number"&&Number.isFinite(v.idleForMinutes)?v.idleForMinutes:null,lastSeenAt:typeof v?.lastSeenAt=="string"?v.lastSeenAt:typeof v?.last_seen_at=="string"?v.last_seen_at:null,lastInteractionAt:typeof v?.lastInteractionAt=="string"?v.lastInteractionAt:typeof v?.last_interaction_at=="string"?v.last_interaction_at:null,lastLoginAt:typeof v?.lastLoginAt=="string"?v.lastLoginAt:typeof v?.last_login_at=="string"?v.last_login_at:null}:C();Aa({doctorId:v.doctorId,referralId:v.referralId??null,name:v.doctorName,email:v.doctorEmail,avatar:v.doctorAvatar??null,revenue:v.total,personalRevenue:v.personalRevenue??null,salesRevenue:v.salesRevenue??null,salesWholesaleRevenue:v.salesWholesaleRevenue??null,salesRetailRevenue:v.salesRetailRevenue??null,orderQuantity:v.orderQuantity??null,totalOrderValue:v.totalOrderValue??null,orders:v.orders,phone:v.doctorPhone||i?.phone||i?.phoneNumber||null,address:u,lastOrderDate:m,avgOrderValue:w,role:A,ownerSalesRepId:v.ownerSalesRepId??null,isOnline:L?.isOnline??null,isIdle:L?.isIdle??null,idleMinutes:L?.idleMinutes??null,lastSeenAt:L?.lastSeenAt??null,lastInteractionAt:L?.lastInteractionAt??null,lastLoginAt:L?.lastLoginAt??null})},[]),nc=y.useCallback((v,_)=>{const C=String(v?.id||"").trim();if(!C)return;const E=v?.profileImageUrl||null,$=v?.name||v?.email||"User",i=Fi(v?.role),o=typeof _?.salesRepWholesaleRevenue=="number"&&Number.isFinite(_.salesRepWholesaleRevenue)?_.salesRepWholesaleRevenue:null,u=typeof _?.salesRepRetailRevenue=="number"&&Number.isFinite(_.salesRepRetailRevenue)?_.salesRepRetailRevenue:null;if(sa(!0),Es({doctorId:C,referralId:null,doctorName:$,doctorEmail:v?.email||null,doctorAvatar:E,doctorPhone:null,doctorAddress:null,isOnline:typeof v?.isOnline=="boolean"?v.isOnline:null,isIdle:typeof v?.isIdle=="boolean"?v.isIdle:null,idleMinutes:typeof v?.idleMinutes=="number"&&Number.isFinite(v.idleMinutes)?v.idleMinutes:typeof v?.idleForMinutes=="number"&&Number.isFinite(v.idleForMinutes)?v.idleForMinutes:null,lastSeenAt:v?.lastSeenAt||v?.last_seen_at||null,lastInteractionAt:v?.lastInteractionAt||v?.last_interaction_at||null,lastLoginAt:v?.lastLoginAt||v?.last_login_at||null,orders:[],total:0,salesWholesaleRevenue:o,salesRetailRevenue:u},i||"doctor"),!Je(r?.role)&&!Do(r?.role)){(async()=>{try{const m=r?.role||null;if(!m||!Ft(m))return;const b=r?.salesRepId||r?.id||null,w=await Ba.getForSalesRep({salesRepId:b?String(b):void 0,scope:"mine"}),A=w&&typeof w=="object"?w:null,L=Array.isArray(A?.orders)?A.orders:Array.isArray(w)?w:[],F=Array.isArray(A?.doctors)?A.doctors:Array.isArray(A?.users)?A.users:[],U=Qd({local:L},{includeCanceled:!0}),W=typeof v?.email=="string"?v.email.trim().toLowerCase():"",Q=V=>{const H=ja(V)||V?.userId||V?.doctorId||null;if(H&&String(H)===C)return!0;const re=V?.doctorEmail||V?.doctor_email||V?.billing?.email||V?.billing_email||null,ge=typeof re=="string"?re.trim().toLowerCase():"";return!!(W&&ge&&W===ge)},ae=U.filter(Q),ue=ae.reduce((V,H)=>Ni(H.status)?V+(Br(H.total)||0):V,0),he=ae.filter(V=>Ni(V.status)).length,ve=(()=>{const V=F.find(H=>String(H?.id||H?.doctorId||H?.userId||"")===C);return V||(W?F.find(H=>typeof H?.email=="string"&&H.email.trim().toLowerCase()===W):null)})(),Ge=ve?.name||[ve?.firstName,ve?.lastName].filter(Boolean).join(" ").trim()||$;Es({doctorId:C,referralId:null,doctorName:Ge,doctorEmail:ve?.email||v?.email||null,doctorAvatar:ve?.profileImageUrl||ve?.profile_image_url||E,doctorPhone:ve?.phone||ve?.phoneNumber||ve?.phone_number||null,doctorAddress:null,isOnline:typeof v?.isOnline=="boolean"?v.isOnline:null,isIdle:typeof v?.isIdle=="boolean"?v.isIdle:null,idleMinutes:typeof v?.idleMinutes=="number"&&Number.isFinite(v.idleMinutes)?v.idleMinutes:typeof v?.idleForMinutes=="number"&&Number.isFinite(v.idleForMinutes)?v.idleForMinutes:null,lastSeenAt:v?.lastSeenAt||v?.last_seen_at||null,lastInteractionAt:v?.lastInteractionAt||v?.last_interaction_at||null,lastLoginAt:v?.lastLoginAt||v?.last_login_at||null,orders:ae,total:ue,orderQuantity:he,totalOrderValue:ue,salesWholesaleRevenue:o,salesRetailRevenue:u},"doctor")}catch(m){console.warn("[Sales Rep] Failed to hydrate live client detail",m)}finally{sa(!1)}})();return}(async()=>{try{const[m,b]=await Promise.all([vr.getAdminUserProfile(C),Ba.getAdminOrdersForUser(C)]),w=m?.user||null,A=Qd(b,{includeCanceled:!0}),L=A.reduce((re,ge)=>Ni(ge.status)?re+(Br(ge.total)||0):re,0),F=A.filter(re=>Ni(re.status)).length,U=Fi(w?.role||i||"doctor"),W=[w?.officeAddressLine1,w?.officeAddressLine2,[w?.officeCity,w?.officeState,w?.officePostalCode].filter(Boolean).join(", "),w?.officeCountry].filter(re=>typeof re=="string"&&re.trim().length>0),Q=W.length>0?W.join(`
`):null,ae=U==="sales_rep"||U==="rep"||U==="sales_lead"||U==="saleslead"||U==="sales-lead"||U==="admin";let ue=null,he=null,ve=o,Ge=u,V=A,H=F;if(ae){he=L;try{const ge=(await Ba.getForSalesRep({salesRepId:C,scope:"all"}))?.orders,Ne=Array.isArray(ge)?ge:[],Pe=Qd({local:Ne},{includeCanceled:!0}),Oe=typeof w?.email=="string"?w.email.trim().toLowerCase():typeof v?.email=="string"?v.email.trim().toLowerCase():"",ce=Pe.filter(Ce=>{if(!Ni(Ce?.status))return!1;const ut=Ce?.doctorId||Ce?.doctor_id||Ce?.userId||Ce?.user_id||null;if(ut&&String(ut)===C)return!1;const gr=Ce?.doctorEmail||Ce?.doctor_email||Ce?.billing?.email||Ce?.billing_email||null,us=typeof gr=="string"?gr.trim().toLowerCase():"";return!(Oe&&us&&Oe===us)});V=ce,H=ce.length;const We=ce.reduce((Ce,ut)=>{const gr=Br(ut?.total)||0,us=ut?.pricingMode||ut?.pricing_mode||ut?.pricing||ut?.priceType||null,Ic=String(us||"").toLowerCase().trim();return Ce.total+=gr,Ic==="wholesale"?Ce.wholesale+=gr:Ce.retail+=gr,Ce},{total:0,wholesale:0,retail:0});ue=We.total,ve=We.wholesale,Ge=We.retail}catch(re){console.warn("[Admin] Failed to load sales rep revenue",re)}}Es({doctorId:C,referralId:null,doctorName:w?.name||$,doctorEmail:w?.email||v?.email||null,doctorAvatar:w?.profileImageUrl||E,doctorPhone:w?.phone||null,doctorAddress:Q,isOnline:typeof v?.isOnline=="boolean"?v.isOnline:null,isIdle:typeof v?.isIdle=="boolean"?v.isIdle:null,idleMinutes:typeof v?.idleMinutes=="number"&&Number.isFinite(v.idleMinutes)?v.idleMinutes:typeof v?.idleForMinutes=="number"&&Number.isFinite(v.idleForMinutes)?v.idleForMinutes:null,lastSeenAt:v?.lastSeenAt||v?.last_seen_at||null,lastInteractionAt:v?.lastInteractionAt||v?.last_interaction_at||null,lastLoginAt:v?.lastLoginAt||v?.last_login_at||null,orders:V,total:L,personalRevenue:he,salesRevenue:ue,salesWholesaleRevenue:ve,salesRetailRevenue:Ge,orderQuantity:H,totalOrderValue:L},U||"doctor")}catch(m){console.warn("[Admin] Failed to hydrate live user detail",m)}finally{sa(!1)}})()},[Es,r?.role]),Ff=()=>l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-36"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[...Array(4)].map((v,_)=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-24"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]},_))}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(2)].map((v,_)=>l.jsxs("div",{className:"news-loading-card bg-white/75 shadow-none border border-slate-200/70 space-y-3",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-40"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]})]},_))}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"}),[...Array(2)].map((v,_)=>l.jsxs("div",{className:"news-loading-card flex items-center gap-3 bg-white/75 shadow-none border border-slate-200/70",children:[l.jsx("div",{className:"news-loading-thumb rounded-md"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-40"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]},_))]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-36"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:[...Array(4)].map((v,_)=>l.jsx("div",{className:"news-loading-line news-loading-shimmer w-full"},_))})]})]}),pu=()=>l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-60"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-44"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"news-loading-thumb rounded-full",style:{width:72,height:72,minWidth:72}}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-40"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[...Array(3)].map((v,_)=>l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-24"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]},_))}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[...Array(2)].map((v,_)=>l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50/60 px-3 py-3 space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-full"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-5/6"})]},_))}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-36"}),l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((v,_)=>l.jsxs("div",{className:"news-loading-card flex items-center gap-3 bg-white/75 shadow-none border border-slate-200/70",children:[l.jsx("div",{className:"news-loading-thumb rounded-md"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-40"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]},_))})]})]}),Ym=y.useCallback(async(v,_)=>{const E=Date.now(),$=_?.onlyIds,i=_?.force===!0,o=v.filter(F=>{const U=String(F.id||F.number||"");if(!U||$&&!$.has(U))return!1;const W=!!(F.createdAt||F.dateCreated||F.date_created||F.date_created_gmt)||!1,Q=!!(F?.shippingEstimate?.estimatedArrivalDate||F?.shippingEstimate?.deliveryDateGuaranteed||F?.shippingEstimate?.estimated_delivery_date||F?.shipping?.estimatedArrivalDate||F?.shipping?.estimated_delivery_date);if(W&&Q)return!1;if(!i){const ae=jy.current.get(U)||0;if(ae>0&&E-ae<6e5)return!1}return!0});if(o.length===0)return;const u=typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now(),m=420,b=new Set(o.map(F=>String(F.id||F.number||"")));sn(b),await(async(F,U,W)=>{const Q=[...F],ae=Array.from({length:Math.max(1,U)},async()=>{for(;Q.length>0;){const ue=Q.shift();if(!ue)break;await W(ue)}});await Promise.all(ae)})(o,3,async F=>{try{const U=String(F.id||F.number||"");U&&jy.current.set(U,E);const W=await Ba.getSalesRepOrderDetail(F.wooOrderId||F.id||F.number||"",F?.doctorEmail||F?.doctor_email||F?.doctorId||null),Q=Qd({woo:Array.isArray(W)?W:[W]},{includeCanceled:!0});Q&&Q.length>0?lt(Q[0]):W&&typeof W=="object"&&lt(W)}catch(U){console.debug("[Sales Tracking] detail enrichment skipped",{orderId:F.id,message:typeof U?.message=="string"?U.message:String(U)})}});const L=(typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now())-u;L<m&&await new Promise(F=>setTimeout(F,m-L)),sn(new Set)},[lt]),[ks,Cy]=y.useState([]),[Os,dd]=y.useState(null),[Bf,Xm]=y.useState(null),[qf,Uf]=y.useState(!1),[zf,Qm]=y.useState(null),[Jm,Wf]=y.useState(null),[fd,Hf]=y.useState([]),[xo,Zm]=y.useState([]),[ac,ji]=y.useState(!1),[ri,Ts]=y.useState(null),[Vf,Py]=y.useState(!1),[Ay,nl]=y.useState(null),[Gf,mu]=y.useState(null),[pd,md]=y.useState(null),[Rs,wo]=y.useState([]),[Lt,sr]=y.useState([]),[Cn,Dn]=y.useState(null),[Ln,al]=y.useState(!1),[ic,da]=y.useState(null),[eh,Ey]=y.useState(null),[th,hu]=y.useState(null),[ni,ka]=y.useState(()=>Lu().start),[fa,il]=y.useState(()=>Lu().end),[rh,nh]=y.useState(void 0),[Is,sc]=y.useState(!1);y.useEffect(()=>{if(Is)return;const v=E=>{const $=new Date(E);return Number.isNaN($.getTime())?null:$},_=ni?v(ni):null,C=fa?v(fa):null;nh(_&&C?{from:_,to:C}:void 0)},[Is,fa,ni]);const[oc,gu]=y.useState([]),lc=y.useCallback(v=>{if(typeof v=="string")return v.trim().toUpperCase();if(v&&typeof v=="object"){const _=v.code??v.value??null;if(typeof _=="string")return _.trim().toUpperCase()}return""},[]),ai=y.useMemo(()=>{const v=Zt?.codes;return Array.isArray(v)?v.map(_=>lc(_)).filter((_,C,E)=>_.length>0&&E.indexOf(_)===C):[]},[Zt?.codes,lc]),_i=y.useMemo(()=>[...ai,...oc].filter((_,C,E)=>_.length>0&&E.indexOf(_)===C),[ai,oc]);y.useEffect(()=>{if(!r||!Je(r.role)){Qm(null),md(null),hu(null);return}let v=!1;return(async()=>{try{const _=await vr.getReportSettings(),C=typeof _?.salesBySalesRepCsvDownloadedAt=="string"?String(_.salesBySalesRepCsvDownloadedAt):null,E=typeof _?.taxesByStateCsvDownloadedAt=="string"?String(_.taxesByStateCsvDownloadedAt):null,$=typeof _?.productsCommissionCsvDownloadedAt=="string"?String(_.productsCommissionCsvDownloadedAt):null;v||(Qm(C),md(E),hu($))}catch(_){console.debug("[Sales by Sales Rep] Failed to load report settings",_)}})(),()=>{v=!0}},[r?.id,r?.role]);const cc=y.useCallback(async()=>{try{const _=new Date().toISOString(),C=F=>{if(F==null)return"";const U=String(F);return/[",\n\r]/.test(U)?`"${U.replace(/"/g,'""')}"`:U},E=Os?.periodStart?String(Os.periodStart).slice(0,10):null,$=Os?.periodEnd?String(Os.periodEnd).slice(0,10):null,i=E&&$?`${E} to ${$} (PST)`:"All time (PST)",u=[C(`Sales by Sales Rep  ${i}`),"",["Sales Rep","Email","Orders","Wholesale","Retail"].join(","),...ks.map(F=>[C(F.salesRepName||""),C(F.salesRepEmail||""),C(Number(F.totalOrders||0)),C(Number(F.wholesaleRevenue||0).toFixed(2)),C(Number(F.retailRevenue||0).toFixed(2))].join(","))].join(`
`),m=new Blob([u],{type:"text/csv;charset=utf-8"}),b=URL.createObjectURL(m),w=document.createElement("a"),A=_.replace(/[:.]/g,"-"),L=E&&$?`_${E}_to_${$}`:"";if(w.href=b,w.download=`sales-by-sales-rep${L}_${fg}_${A}.csv`,document.body.appendChild(w),w.click(),w.remove(),URL.revokeObjectURL(b),Qm(_),r&&Je(r.role))try{await vr.setSalesBySalesRepCsvDownloadedAt(_)}catch(F){console.debug("[Sales by Sales Rep] Failed to persist CSV download timestamp",F)}}catch(v){console.error("[Sales by Sales Rep] CSV export failed",v),He.error("Unable to download report right now.")}},[ks,Os?.periodEnd,Os?.periodStart,r,r?.role]),Oa=y.useCallback(async()=>{if(!(!r||!Je(r.role))){Py(!0),nl(null);try{const v=Lu(),_=ni||v.start,C=fa||v.end,E=await Ba.getTaxesByStateForAdmin({periodStart:_||void 0,periodEnd:C||void 0}),$=Array.isArray(E?.rows)?E.rows:Array.isArray(E)?E:[];Hf($.map(o=>({state:String(o?.state||"UNKNOWN"),taxTotal:Number(o?.taxTotal||0),orderCount:Number(o?.orderCount||0)})).filter(o=>o.orderCount>0||o.taxTotal>0));const i=Array.isArray(E?.orderTaxes)?E.orderTaxes:[];Zm(i.map(o=>({orderNumber:String(o?.orderNumber||""),state:String(o?.state||"UNKNOWN"),taxTotal:Number(o?.taxTotal||0)})).filter(o=>o.orderNumber.trim().length>0&&o.taxTotal>0)),ji(!1),Ts({periodStart:E?.periodStart??null,periodEnd:E?.periodEnd??null,totals:E?.totals??null}),mu(Date.now())}catch(v){const _=typeof v?.message=="string"?v.message:"Unable to load taxes by state.";nl(_),Hf([]),Zm([]),ji(!1),Ts(null)}finally{Py(!1)}}},[fa,ni,r?.id,r?.role]),So=y.useCallback(async()=>{try{const _=new Date().toISOString(),C=F=>{if(F==null)return"";const U=String(F);return/[",\n\r]/.test(U)?`"${U.replace(/"/g,'""')}"`:U},E=ri?.periodStart?String(ri.periodStart).slice(0,10):null,$=ri?.periodEnd?String(ri.periodEnd).slice(0,10):null,i=E&&$?`_${E}_to_${$}`:"",o=_.replace(/[:.]/g,"-"),u=E&&$?`${E} to ${$} (PST)`:"All time (PST)",b=[C(`Taxes by State  ${u}`),"",["State","Orders","Tax Total"].join(","),...fd.map(F=>[C(F.state),C(Number(F.orderCount||0)),C(Number(F.taxTotal||0).toFixed(2))].join(","))].join(`
`),w=new Blob([b],{type:"text/csv;charset=utf-8"}),A=URL.createObjectURL(w),L=document.createElement("a");if(L.href=A,L.download=`taxes-by-state${i}_${fg}_${o}.csv`,document.body.appendChild(L),L.click(),L.remove(),URL.revokeObjectURL(A),md(_),r&&Je(r.role))try{await vr.setTaxesByStateCsvDownloadedAt(_)}catch(F){console.debug("[Taxes by State] Failed to persist CSV download timestamp",F)}}catch(v){console.error("[Taxes by State] CSV export failed",v),He.error("Unable to download report right now.")}},[ri?.periodEnd,ri?.periodStart,fd,r,r?.role]),Ta=y.useCallback(async()=>{if(!(!r||!Je(r.role))){al(!0),da(null);try{const v=Lu(),_=ni||v.start,C=fa||v.end,E=await Ba.getProductSalesCommissionForAdmin({periodStart:_||void 0,periodEnd:C||void 0}),$=Array.isArray(E?.products)?E.products:[],o=(Array.isArray(E?.commissions)?E.commissions:[]).filter(u=>{const m=String(u?.role||"").toLowerCase(),b=String(u?.id||"");return!(m==="supplier"||b==="__supplier__")});wo($.map(u=>({key:String(u?.key||u?.sku||""),sku:u?.sku??null,productId:u?.productId??null,variationId:u?.variationId??null,name:String(u?.name||""),quantity:Number(u?.quantity||0)})).filter(u=>u.quantity>0)),sr(o.map(u=>({id:String(u?.id||""),name:String(u?.name||""),role:String(u?.role||""),amount:Number(u?.amount||0),retailOrders:Number(u?.retailOrders||0),wholesaleOrders:Number(u?.wholesaleOrders||0),retailBase:Number(u?.retailBase||0),wholesaleBase:Number(u?.wholesaleBase||0),houseRetailOrders:Number(u?.houseRetailOrders||0),houseWholesaleOrders:Number(u?.houseWholesaleOrders||0),houseRetailBase:Number(u?.houseRetailBase||0),houseWholesaleBase:Number(u?.houseWholesaleBase||0),houseRetailCommission:Number(u?.houseRetailCommission||0),houseWholesaleCommission:Number(u?.houseWholesaleCommission||0),specialAdminBonus:Number(u?.specialAdminBonus||0),specialAdminBonusRate:Number(u?.specialAdminBonusRate||0),specialAdminBonusMonthlyCap:Number(u?.specialAdminBonusMonthlyCap||0),specialAdminBonusByMonth:u?.specialAdminBonusByMonth??void 0,specialAdminBonusBaseByMonth:u?.specialAdminBonusBaseByMonth??void 0})).filter(u=>Number(u.amount||0)>0||Number(u.retailOrders||0)>0||Number(u.wholesaleOrders||0)>0||Number(u.retailBase||0)>0||Number(u.wholesaleBase||0)>0||Number(u.houseRetailOrders||0)>0||Number(u.houseWholesaleOrders||0)>0||Number(u.houseRetailBase||0)>0||Number(u.houseWholesaleBase||0)>0||Number(u.houseRetailCommission||0)>0||Number(u.houseWholesaleCommission||0)>0||Number(u.specialAdminBonus||0)>0)),Dn({periodStart:E?.periodStart??null,periodEnd:E?.periodEnd??null,totals:E?.totals??null}),Ey(Date.now())}catch(v){const _=typeof v?.message=="string"?v.message:"Unable to load product/commission report.";da(_),wo([]),sr([]),Dn(null)}finally{al(!1)}}},[fa,ni,r?.id,r?.role]),ky=y.useCallback(async()=>{try{const _=new Date().toISOString(),C=F=>{if(F==null)return"";const U=String(F);return/[",\n\r]/.test(U)?`"${U.replace(/"/g,'""')}"`:U},E=Cn?.periodStart?String(Cn.periodStart).slice(0,10):null,$=Cn?.periodEnd?String(Cn.periodEnd).slice(0,10):null,i=E&&$?`_${E}_to_${$}`:"",o=E&&$?`${E} to ${$} (PST)`:"All time (PST)",u=_.replace(/[:.]/g,"-"),m=[];m.push(C(`Products Sold & Commission  ${o}`)),m.push(""),m.push(["Report","Products sold"].join(",")),m.push(["Product","SKU","ProductId","Quantity"].join(",")),Rs.forEach(F=>{m.push([C(F.name),C(F.sku||""),C(F.productId??""),C(Number(F.quantity||0))].join(","))}),m.push(""),m.push(["Report","Commissions"].join(",")),m.push(["Recipient","Role","RetailOrders","WholesaleOrders","RetailBase","WholesaleBase","HouseRetailOrders","HouseWholesaleOrders","HouseRetailBase","HouseWholesaleBase","HouseRetailCommission","HouseWholesaleCommission","Administrative","Amount"].join(",")),Lt.forEach(F=>{m.push([C(F.name),C(F.role),C(Number(F.retailOrders||0)),C(Number(F.wholesaleOrders||0)),C(Number(F.retailBase||0).toFixed(2)),C(Number(F.wholesaleBase||0).toFixed(2)),C(Number(F.houseRetailOrders||0)),C(Number(F.houseWholesaleOrders||0)),C(Number(F.houseRetailBase||0).toFixed(2)),C(Number(F.houseWholesaleBase||0).toFixed(2)),C(Number(F.houseRetailCommission||0).toFixed(2)),C(Number(F.houseWholesaleCommission||0).toFixed(2)),C(Number(F.specialAdminBonus||0).toFixed(2)),C(Number(F.amount||0).toFixed(2))].join(","))});const b=m.join(`
`),w=new Blob([b],{type:"text/csv;charset=utf-8"}),A=URL.createObjectURL(w),L=document.createElement("a");if(L.href=A,L.download=`products-and-commission${i}_${fg}_${u}.csv`,document.body.appendChild(L),L.click(),L.remove(),URL.revokeObjectURL(A),hu(_),r&&Je(r.role))try{await vr.setProductsCommissionCsvDownloadedAt(_)}catch(F){console.debug("[Products/Commission] Failed to persist CSV download timestamp",F)}}catch(v){console.error("[Products/Commission] CSV export failed",v),He.error("Unable to download report right now.")}},[Lt,Rs,Cn?.periodEnd,Cn?.periodStart,r,r?.role]),No=y.useCallback(async()=>{if(!(!r||!Je(r.role))){Uf(!0),Wf(null);try{const v=Lu(),_=ni||v.start,C=fa||v.end;ni||ka(_),fa||il(C);const E=await Ba.getSalesByRepForAdmin({periodStart:_||void 0,periodEnd:C||void 0}),$=Array.isArray(E)?E:Array.isArray(E?.orders)?E.orders:[],i=E&&typeof E=="object"?{periodStart:E?.periodStart??null,periodEnd:E?.periodEnd??null,totals:E?.totals??null}:null,o=$.filter(u=>u.salesRepId!==r.id).filter(u=>{const m=Number(u?.totalOrders||0),b=Number(u?.totalRevenue||0),w=Number(u?.wholesaleRevenue||0),A=Number(u?.retailRevenue||0);return m>0||b>0||w>0||A>0});Cy(o),dd(i),Xm(Date.now())}catch(v){const _=typeof v?.message=="string"?v.message:"Unable to load sales summary";Wf(_),dd(null)}finally{Uf(!1)}}},[fa,ni,r?.id,r?.role]),hd=y.useCallback(()=>{No(),Oa(),Ta()},[Ta,Oa,No]);y.useCallback(()=>{const v=Lu();ka(v.start),il(v.end),No(),Oa(),Ta()},[Ta,Oa,No]);const pa=y.useRef(!1);y.useEffect(()=>{if(!r||!Je(r.role)){pa.current=!1;return}pa.current||(pa.current=!0,No(),Oa(),Ta())},[Ta,Oa,No,r?.id,r?.role]),y.useEffect(()=>{if(!r||!Je(r.role)||!Re?.doctorId||Fi(Re.role||"")!=="admin")return;const _=String(Re.doctorId||"");!_||Lt.some(E=>String(E.id||"")===_)||Ln||Ta()},[Lt,Ln,Ta,Re?.doctorId,Re?.role,r,r?.role]),y.useEffect(()=>{if(!r||!Ft(r.role)&&!Je(r.role)){gu([]);return}let v=!1;return(async()=>{try{const C=await ea.getReferralCodes(),E=Array.isArray(C?.codes)?C.codes:Array.isArray(C)?C:[];if(!v){const $=E.map(i=>lc(i)).filter((i,o,u)=>i.length>0&&u.indexOf(i)===o);gu($)}}catch(C){console.warn("[Referral] Failed to fetch referral codes",C),v||gu([])}})(),()=>{v=!0}},[r?.id,r?.role,lc]);const[Jr,tr]=y.useState({contactName:"",contactEmail:"",contactPhone:"",notes:""}),[Ci,ah]=y.useState(!1),[Kf,uc]=y.useState(null),[Yf,ih]=y.useState(null),[Xf,Qf]=y.useState(!1),[dc,Jf]=y.useState(!1),[Pi,Ms]=y.useState({name:"",email:"",phone:"",notes:"",status:"pending"}),gd=y.useCallback(()=>{Ms({name:"",email:"",phone:"",notes:"",status:"pending"})},[]),yd=y.useCallback(()=>{Qf(!1),gd()},[gd]),[fc,sl]=y.useState(!1),[sh,yu]=y.useState(null),[pc,rs]=y.useState(!0),[Zf,ol]=y.useState(!1),[vd,jo]=y.useState(!1),[ll,Pn]=y.useState({research:!0}),[Ra,Ds]=y.useState({shop:!1,forum:!1,research:!1,testPaymentsOverride:!1}),[Ai,Ls]=y.useState(null),[_o,bd]=y.useState(!1),[oh,ns]=y.useState(null),$s=y.useRef(!1),xd=y.useRef(0),ep=y.useCallback(async v=>{if(!r||!Je(r.role)||X)return;const _=Date.now();if(!(!v?.force&&_-xd.current<3e4)&&!$s.current){$s.current=!0,xd.current=_,bd(!0),ns(null);try{const E=await fetch(`${Te}/health?_ts=${Date.now()}`,{method:"GET",headers:{Accept:"application/json"},cache:"no-store"});if(!E.ok)throw new Error(`Health check failed (${E.status})`);const $=await E.json();Ls($)}catch(E){ns(typeof E?.message=="string"?E.message:"Unable to load server health.")}finally{bd(!1),$s.current=!1}}},[r?.id,r?.role,X]),[lh,Oy]=y.useState(0),[mc,Ia]=y.useState(!1),cl=y.useRef(!1),Fs=y.useRef(Date.now()),Bs=y.useRef(!1),wd=y.useRef(!1),ul=y.useRef(0),tp=y.useRef(0);y.useEffect(()=>{cl.current=mc},[mc]),y.useEffect(()=>{if(!Je(r?.role)&&!Ft(r?.role)&&!Do(r?.role))return;const v=window.setInterval(()=>{Oy(_=>(_+1)%Number.MAX_SAFE_INTEGER)},3e4);return()=>window.clearInterval(v)},[r?.role]);const[Sd,dr]=y.useState([]),[rp,Nd]=y.useState(!1),[np,vu]=y.useState(null),hc=y.useRef(null),Co=y.useRef(!1),[_r,gn]=y.useState(!0),[yn,ap]=y.useState(""),[qs,jd]=y.useState("all"),[ch,vn]=y.useState([]),[uh,_d]=y.useState(!1),[ip,Ei]=y.useState(null),ma=y.useRef(null),gc=y.useRef(!1),[sp,dh]=y.useState(!1),[fh,Ty]=y.useState(""),[dl,Ry]=y.useState("all");y.useEffect(()=>{rc.current=Sd},[Sd]),y.useEffect(()=>{Gm.current=ch},[ch]),y.useEffect(()=>{const v=r?.role||null,_=Do(v),C=Ft(v);if(!_&&!C){dr([]),Nd(!1),vu(null),hc.current=null,Co.current=!1;return}let E=!1,$=null;const i=async()=>{try{Nd(!0),vu(null);const w=await(_?vr.getLiveUsers():vr.getLiveClients());if(E)return;hc.current=typeof w?.etag=="string"?w.etag:null;const A=_?Array.isArray(w?.users)?w.users:[]:Array.isArray(w?.clients)?w.clients:[],L=_?A.filter(F=>{const U=Fi(F?.role||"");return U==="admin"?!1:Js(U)||Ft(U)}):A;dr(L)}catch(w){if(E)return;dr([]),vu(typeof w?.message=="string"?w.message:"Unable to load clients.")}finally{E||Nd(!1)}},o=w=>new Promise(A=>window.setTimeout(A,w)),u=()=>{$||(i(),$=window.setInterval(()=>{i()},5e3))},m=new AbortController;return(async()=>{if(Co.current){u();return}for(;!E;){if(!Di()||!ag()){await o(800);continue}try{const w=await(_?vr.getLiveUsersLongPoll(hc.current,25e3,m.signal):vr.getLiveClientsLongPoll(null,hc.current,25e3,m.signal));if(E)break;hc.current=typeof w?.etag=="string"?w.etag:null;const A=_?Array.isArray(w?.users)?w.users:[]:Array.isArray(w?.clients)?w.clients:[],L=_?A.filter(F=>{const U=Fi(F?.role||"");return U==="admin"?!1:Js(U)||Ft(U)}):A;dr(L)}catch(w){if(E)break;if(typeof w?.status=="number"&&w.status===404){Co.current=!0,u();return}await o(1e3)}}})(),()=>{E=!0,$&&window.clearInterval($),m.abort()}},[r?.role,r?.id]),y.useEffect(()=>{if(!Je(r?.role)){vn([]),_d(!1),Ei(null),ma.current=null,gc.current=!1;return}let v=!1,_=null;const C=async()=>{try{_d(!0),Ei(null);const u=await vr.getLiveUsers();if(v)return;ma.current=typeof u?.etag=="string"?u.etag:null;const m=Array.isArray(u?.users)?u.users:[];vn(m)}catch(u){if(v)return;vn([]),Ei(typeof u?.message=="string"?u.message:"Unable to load users.")}finally{v||_d(!1)}},E=u=>new Promise(m=>window.setTimeout(m,u)),$=()=>{_||(C(),_=window.setInterval(()=>{C()},5e3))},i=new AbortController;return(async()=>{if(gc.current){$();return}for(;!v;){if(!Di()||!ag()){await E(800);continue}try{const u=await vr.getLiveUsersLongPoll(ma.current,25e3,i.signal);if(v)break;ma.current=typeof u?.etag=="string"?u.etag:null;const m=Array.isArray(u?.users)?u.users:[];vn(m)}catch(u){if(v)break;if(typeof u?.status=="number"&&u.status===404){gc.current=!0,$();return}await E(1e3)}}})(),()=>{v=!0,_&&window.clearInterval(_),i.abort()}},[r?.role,r?.id]);const Cd=v=>{if(!v)return"Online";const _=new Date(v).getTime();if(!Number.isFinite(_))return"Online";const C=Math.max(0,Date.now()-_);return`Online for ${(($,i=2)=>{const o=Math.floor(Math.max(0,$)/1e3);if(o<60)return"<1m";const u=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let m=o;const b=[];for(const w of u){const A=Math.floor(m/w.seconds);if(A>0&&(b.push(`${A}${w.label}`),m-=A*w.seconds),b.length>=i)break}return b.length?b.join(" "):"<1m"})(C)}`},ph=v=>{if(!v)return"a few moments ago";const C=new Date(v).getTime();if(Number.isNaN(C))return String(v);const E=Math.max(0,Date.now()-C);if(E<9e4)return"a few moments ago";const $=Math.floor(E/1e3),i=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let o=$;const u=[];for(const m of i){const b=Math.floor(o/m.seconds);if(b>0&&(u.push(`${b}${m.label}`),o-=b*m.seconds),u.length>=2)break}return u.length?`${u.join(" ")} ago`:"a few moments ago"},Iy=v=>{const _=typeof v?.idleMinutes=="number"&&Number.isFinite(v.idleMinutes)?v.idleMinutes:null;if(_==null){const m=v?.lastInteractionAt||v?.lastSeenAt||v?.lastLoginAt||null;if(!m)return null;const b=new Date(m).getTime();if(!Number.isFinite(b))return null;const w=Math.max(0,Date.now()-b),A=Math.floor(w/1e3);if(A<60)return"<1m";const L=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let F=A;const U=[];for(const W of L){const Q=Math.floor(F/W.seconds);if(Q>0&&(U.push(`${Q}${W.label}`),F-=Q*W.seconds),U.length>=2)break}return U.length?U.join(" "):"<1m"}const C=Math.max(0,Math.floor(_));if(C<1)return"<1m";const E=C*6e4,$=Math.floor(E/1e3),i=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let o=$;const u=[];for(const m of i){const b=Math.floor(o/m.seconds);if(b>0&&(u.push(`${b}${m.label}`),o-=b*m.seconds),u.length>=2)break}return u.length?u.join(" "):"<1m"};y.useEffect(()=>{if(!r||!Je(r.role)||X){Ls(null),bd(!1),ns(null);return}ep()},[r?.id,r?.role,X,ep]);const[fl,yc]=y.useState([]),[op,bu]=y.useState(!1),[Po,lp]=y.useState(null),[xu,cp]=y.useState(!1),[Pd,Ad]=y.useState([]),[Ed,wu]=y.useState(!1),[mh,kd]=y.useState(null),[ki,up]=y.useState(""),[Od,Su]=y.useState(null),[dp,hh]=y.useState(!1),[gh,Td]=y.useState(!1),[fp,pp]=y.useState(null),[yh,mp]=y.useState(null),[as,hp]=y.useState(!1),Nu=y.useRef(!1),vh=y.useRef(0),gp=y.useRef(!1),bh=y.useRef(0),Ao=y.useCallback(async v=>{if(!r||!Je(r.role)||X){yc([]),bu(!1),lp(null),cp(!1),Ad([]),wu(!1),kd(null),up(""),Su(null);return}const _=Date.now();if(!(!v?.force&&_-vh.current<6e4)&&!Nu.current){Nu.current=!0,vh.current=_,bu(!0),lp(null);try{const E=await sf.listMissingCertificates(),$=Array.isArray(E?.products)?E.products:[];yc($),Su(null);const i=new Set($.map(o=>String(o.wooProductId)));up(o=>o&&i.has(o)?o:$[0]?String($[0].wooProductId):"")}catch(E){yc([]),lp(E instanceof Error?E.message:"Unable to load missing certificates.")}finally{bu(!1),Nu.current=!1}}},[r?.id,r?.role,X]);y.useEffect(()=>{!r||!Je(r.role)||X||Ao()},[r?.id,r?.role,X,Ao]),y.useEffect(()=>{!r||!Je(r.role)||X||(Po||fl.length>0)&&cp(!0)},[r?.id,r?.role,X,Po,fl.length]);const Oi=y.useCallback(async v=>{if(!r||!Je(r.role)||X){Ad([]),wu(!1),kd(null);return}if(!xu)return;const _=Date.now();if(!(!v?.force&&_-bh.current<6e4)&&!gp.current){gp.current=!0,bh.current=_,wu(!0),kd(null);try{const E=await sf.listCertificateProducts(),$=Array.isArray(E?.products)?E.products:[];Ad($);const i=new Set($.map(o=>String(o.wooProductId)));up(o=>o&&i.has(o)?o:$[0]?String($[0].wooProductId):"")}catch(E){Ad([]),kd(E instanceof Error?E.message:"Unable to load products.")}finally{wu(!1),gp.current=!1}}},[r?.id,r?.role,X,xu]);y.useEffect(()=>{Oi()},[Oi]);const ju=y.useRef(0),yp=y.useCallback(async()=>{if(!r||!Je(r.role)||X){mp(null),Td(!1),pp(null);return}if(!ki){mp(null),Td(!1),pp(null);return}const v=ju.current+=1;Td(!0),pp(null);try{const _=await sf.getCertificateOfAnalysisInfo(ki);if(v!==ju.current)return;mp({exists:!!_?.exists,filename:typeof _?.filename=="string"&&_.filename.trim().length>0?_.filename:null,mimeType:typeof _?.mimeType=="string"&&_.mimeType.trim().length>0?_.mimeType:null,bytes:typeof _?.bytes=="number"?_.bytes:null,updatedAt:typeof _?.updatedAt=="string"&&_.updatedAt.trim().length>0?_.updatedAt:null})}catch(_){if(v!==ju.current)return;mp(null),pp(_ instanceof Error?_.message:"Unable to load current certificate.")}finally{v===ju.current&&Td(!1)}},[r?.id,r?.role,X,ki]);y.useEffect(()=>{yp()},[yp]);const Fb=y.useCallback(async()=>{if(!ki){He.error("Select a product first.");return}hp(!0);try{const _=!!(await sf.deleteCertificateOfAnalysis(ki))?.deleted;He.success(_?"Certificate deleted.":"No certificate to delete."),Su(null),await Ao({force:!0}),await Oi({force:!0})}catch(v){He.error(v instanceof Error?v.message:"Unable to delete certificate.")}finally{hp(!1)}},[ki,Ao,Oi]),My=y.useCallback(async()=>{if(!ki){He.error("Select a product first.");return}if(!Od){He.error("Choose a PNG file first.");return}const v=Od;if(!(v.type==="image/png"||v.name.toLowerCase().endsWith(".png"))){He.error("Certificate must be a PNG.");return}const C=8*1024*1024;if(v.size>C){He.error("PNG is too large (max 8 MB).");return}hh(!0);try{await sf.uploadCertificateOfAnalysis(ki,{file:v,filename:v.name}),He.success("Certificate uploaded."),Su(null),await Ao({force:!0}),await Oi({force:!0})}catch(E){E?.status===413?He.error("Upload rejected (413). Increase the API/proxy upload limit."):He.error(E instanceof Error?E.message:"Unable to upload certificate.")}finally{hh(!1)}},[ki,Od,Ao,Oi]),vp=y.useRef(!1),xh=y.useRef(0),[_u,Ma]=y.useState({updatingReferral:null,error:null}),[Dy,ha]=y.useState(null),[xt,Rd]=y.useState([]),Id=y.useRef([]),[Eo,wh]=y.useState([]),[Sh,Nh]=y.useState([]),[is,bp]=y.useState(!1),[Md,xp]=y.useState(null),[vc,wp]=y.useState(null),[Sp,bc]=y.useState(!1),[Np,Dd]=y.useState(!1),Ld=y.useRef(0),$d=y.useRef(0),ko=y.useRef(null),Oo=y.useRef(null),ss=y.useRef(!1),Cu=y.useRef(0),jp=y.useRef(!1),_p=y.useRef(null),jh=y.useRef(new Map),Pu=y.useCallback((v,_,C)=>{const E=Date.now(),$=jh.current.get(v)??0;E-$<3e4||(jh.current.set(v,E),console.debug("[Leader] Active",{leaderKey:v,label:_,intervalMs:C,tabId:G_()}))},[]);y.useEffect(()=>{Id.current=xt},[xt]),y.useEffect(()=>{if(!sg||typeof window>"u"||!Array.isArray(xt)||xt.length===0||!Di())return;const v="catalog-image-prefetch-seed";if(Cl(v,2e4)){for(const C of xt){if(C.image&&Gt(C.image),Array.isArray(C.images))for(const E of C.images)E&&Gt(E);if(Array.isArray(C.variants))for(const E of C.variants)E?.image&&Gt(E.image)}return Gr(),()=>{Zs(v)}}},[xt,Gt,Gr]),y.useEffect(()=>{if(!KI||!Array.isArray(xt)||xt.length===0||typeof window>"u")return;const v="catalog-variant-prefetch-seed";if(!Cl(v,12e4))return()=>{Zs(v)};const C=xt.map(o=>o.id).join("|");if(_p.current===C){Zs(v);return}_p.current=C,Cu.current+=1;const E=Cu.current;jp.current=!0;const $=o=>new Promise(u=>window.setTimeout(u,o));return(async()=>{if(await $(Ioe),Cu.current!==E)return;const o=xt.filter(u=>(u.type??"").toLowerCase()==="variable"&&(!u.variants||u.variants.length===0));for(const u of o){if(Cu.current!==E)break;try{await Ct(u)}catch{}await $(Moe)}})().finally(()=>{Cu.current===E&&(jp.current=!1)}),()=>{Zs(v),Cu.current+=1,jp.current=!1}},[xt,Ct]),y.useEffect(()=>{if(!KI||typeof window>"u")return;const v="catalog-variant-poll",_=Math.max(2e4,MN*2),C=window.setInterval(()=>{if(!Di()||!Cl(v,_))return;Pu(v,"catalog-variant-poll",MN);const E=Id.current;if(!(!Array.isArray(E)||E.length===0))for(const $ of E)($.type??"").toLowerCase()==="variable"&&($.variants&&$.variants.length>0||en($))},MN);return()=>{Zs(v),window.clearInterval(C)}},[en]),y.useEffect(()=>{if(!sg||typeof window>"u")return;const v="catalog-image-prefetch-queue",_=1e4,C=window.setInterval(()=>{Di()&&Cl(v,_)&&(Pu(v,"catalog-image-prefetch-queue",1200),Gr())},1200);return()=>{Zs(v),window.clearInterval(C)}},[Gr]),y.useEffect(()=>{if(!sg||typeof window>"u")return;const v="catalog-image-loaded-check",_=12e3,C=window.setInterval(()=>{Di()&&Cl(v,_)&&(Pu(v,"catalog-image-loaded-check",1750),Rd(E=>{if(!Array.isArray(E)||E.length===0)return E;let $=!1;const i=E.map(o=>o.image_loaded||!o.image||o.image===ms?o:Mt.current.get(o.image)?.loaded?($=!0,{...o,image_loaded:!0}):o);return $?i:E}))},1750);return()=>{Zs(v),window.clearInterval(C)}},[]);const Au=y.useCallback(async(v,_)=>{if((v.type??"").toLowerCase()==="variable"){await Ct(v,{force:!0});return}const E=await DI(_,{force:!0});if(!E||typeof E!="object"||!("id"in E))return;const $=og(E,Ve.current);xe.current.set(_,$);const i=$N($,[]);i.image_loaded=i.image!==ms&&!!Mt.current.get(i.image)?.loaded,Rd(o=>o.map(u=>u.id===v.id?i:u)),S(o=>o?.id===v.id?i:o)},[Ct]);y.useEffect(()=>{if(typeof window>"u")return;const v="catalog-media-repair",_=25e3,C=2,E=window.setInterval(()=>{if(!Di()||!Cl(v,_)||(Pu(v,"catalog-media-repair",6500),Date.now()<Ye.current))return;const $=Date.now(),i=Id.current;if(!Array.isArray(i)||i.length===0)return;let o=0;for(const u of i){if(o>=C)break;const m=typeof u.wooId=="number"?u.wooId:Number.parseInt(String(u.id).replace(/[^\d]/g,""),10);if(!Number.isFinite(m))continue;const b=Number(m);if(fi.current.has(b))continue;const w=kr.current.get(b);if(w&&$<w.nextAt)continue;const A=(u.type??"").toLowerCase()==="variable",L=Array.isArray(u.variants)&&u.variants.some(ae=>!!ae?.image&&ae.image!==ms),F=!u.image||u.image===ms,U=A&&!L;let W=!1;if(!u.image_loaded&&u.image&&u.image!==ms){const ae=Mt.current.get(u.image);if(ae&&!ae.loaded){const ue=$-ae.firstSeenAt;W=ae.attempt>=2&&ue>25e3}}(U||F||W)&&(fi.current.add(b),o+=1,Au(u,b).then(()=>{const ae=Id.current.find(he=>he.id===u.id);if(ae?.image&&ae.image!==ms||ae?.image_loaded)kr.current.delete(b);else{const ve=(kr.current.get(b)?.attempt??0)+1,Ge=Math.min(10*6e4,4e3*Math.pow(1.9,ve-1));kr.current.set(b,{attempt:ve,nextAt:Date.now()+Ge})}}).catch(()=>{const ue=(kr.current.get(b)?.attempt??0)+1,he=Math.min(10*6e4,4e3*Math.pow(1.9,ue-1));kr.current.set(b,{attempt:ue,nextAt:Date.now()+he})}).finally(()=>{fi.current.delete(b)}))}},6500);return()=>{Zs(v),window.clearInterval(E)}},[Au]);const[An,xc]=y.useState([]),[Eu,Fd]=y.useState(!1),[bn,wc]=y.useState(null),[Xe,Us]=y.useState(null),os=y.useRef(null),_h=y.useCallback(()=>{os.current&&(clearTimeout(os.current),os.current=null),Fd(!0)},[]),Ly=y.useCallback(v=>{const _=Date.now()-v,C=Math.max(0,Eoe-_);os.current&&clearTimeout(os.current),os.current=window.setTimeout(()=>{Fd(!1),os.current=null},C)},[]),[pl,Cp]=y.useState(!1),[Da,Bd]=y.useState(null),[ku,Pp]=y.useState(!1),[qd,Ud]=y.useState(!1),xn=y.useRef(!1),[ii,zs]=y.useState(!1),[Ap,Ch]=y.useState(""),[La,$y]=y.useState("desc"),[Ws,Bb]=y.useState(()=>typeof window>"u"?!1:window.innerWidth>=1024),zd=y.useCallback(v=>{if(!v)return!1;const _=(v.status||"").toLowerCase(),C=String(v.id||"");return _==="contact_form"||C.startsWith("contact_form:")},[]),Sc=y.useCallback(v=>v?String(v.id||"").startsWith("manual:"):!1,[]),ls=y.useCallback(v=>{const _=(v||"").toLowerCase();return _?$oe.has(_):!1},[]),Ph=y.useMemo(()=>{const v=Ap.trim().toLowerCase(),_=[...Qi].sort((C,E)=>{const $=C.createdAt?new Date(C.createdAt).getTime():0,i=E.createdAt?new Date(E.createdAt).getTime():0;return La==="desc"?i-$:$-i});return v?_.filter(C=>[C.referredContactName??"",C.referredContactEmail??"",C.referredContactPhone??"",C.status??""].join(" ").toLowerCase().includes(v)):_},[Qi,Ap,La]),Fy=y.useMemo(()=>Zt?Array.isArray(Zt.statuses)&&Zt.statuses.length>0?Array.from(new Set(Zt.statuses.map(v=>(v||"").trim()))).filter(Boolean):Array.from(new Set(Nn.map(v=>(v.status||"").trim()).filter(Boolean))):[],[Zt,Nn]),Ep=y.useMemo(()=>{const v=XI.map(C=>C.key),_=Fy.map(C=>C.toLowerCase()).filter(C=>C!=="nuture"&&(C==="pending"||ls(C)));return Array.from(new Set([...v,..._]))},[Fy,ls]),[Nc,$a]=y.useState({}),Tt=y.useRef(new Set),$r=y.useMemo(()=>Nn.filter(zd),[Nn,zd]),Fr=y.useMemo(()=>$r.filter(v=>!ls(v.status)&&!jn(v)),[$r,jn,ls]),Cr=y.useMemo(()=>$r.filter(v=>{if(v?.creditIssuedAt||!ls(v.status)||mo(v)||v.referredContactEligibleForCredit===!0)return!1;const _=Zn(v.status);return!(jn(v)&&_!=="converted")}),[$r,jn,mo,ls]),si=y.useMemo(()=>{const v=Sr?.ledger??[],_=new Map;return v.forEach(C=>{C.direction==="credit"&&C.referralId&&_.set(C.referralId,C)}),_},[Sr]),cs=y.useMemo(()=>Nn.filter(v=>!zd(v)&&!Sc(v)&&(!jn(v)||Zn(v.status)==="converted")),[jn,zd,Sc,Nn]),zr=y.useMemo(()=>Nn.filter(v=>Sc(v)),[Nn,Sc]),Hs=y.useMemo(()=>cs.filter(v=>ls(v.status)),[cs,ls]),Ti=y.useMemo(()=>Hs.filter(v=>{const _=Zn(v.status);return jn(v)&&_!=="converted"||mo(v)?!1:!v.creditIssuedAt}),[jn,mo,Hs]),Wd=y.useMemo(()=>Hs.filter(v=>!!v.creditIssuedAt),[Hs]);y.useMemo(()=>cs.filter(v=>!ls(v.status)),[cs,ls]);const Ah=y.useMemo(()=>{const v=new Set;return Cr.forEach(_=>v.add(Zn(_.status))),Hs.forEach(_=>v.add(Zn(_.status))),zr.forEach(_=>v.add(Zn(_.status))),v.delete("nuture"),["all",...Array.from(v)]},[Cr,zr,Hs]),[ml,Fa]=y.useState("all"),Eh=y.useRef(new Map),jc=y.useRef(0),Xn=y.useMemo(()=>{const v=Zt,_=[...Array.isArray(v?.users)?v.users:[],...Array.isArray(v?.accounts)?v.accounts:[],...Array.isArray(v?.doctors)?v.doctors:[]];if(_.length===0)return[];const C=new Set,E=u=>{u&&C.add(u.toLowerCase())};Ti.forEach(u=>{E(u.referredContactEmail||void 0),E(u.referredContactPhone?`phone:${u.referredContactPhone}`:void 0),E(u.referredContactAccountId?`acct:${u.referredContactAccountId}`:void 0),E(u.id?`id:${u.id}`:void 0)}),Cr.forEach(u=>{E(u.referredContactEmail||void 0),E(u.referredContactPhone?`phone:${u.referredContactPhone}`:void 0),E(u.id?`id:${u.id}`:void 0)});const $=new Date().toISOString(),i=new Map;return _.forEach(u=>{const m=u.id||u.userId||u.doctorId||u.accountId||u.account_id||u.email||u.username||u.contactEmail||Math.random().toString(16).slice(2),b=String(m);i.has(b)||i.set(b,u)}),Array.from(i.values()).map((u,m)=>{const b=(u.email||u.userEmail||u.doctorEmail||u.contactEmail||"").toLowerCase();if(b&&r?.email&&b===r.email.toLowerCase())return null;const w=u.id||u.userId||u.doctorId||u.accountId||u.account_id||null;if((Br(u.totalOrders)??0)>0)return null;const L=LN(u.name||[u.firstName,u.lastName].filter(Boolean).join(" ").trim()||u.doctorName||u.contactName||u.username||u.email||"Account"),F=u.email||u.userEmail||u.doctorEmail||u.contactEmail||null,U=u.phone||u.phoneNumber||u.phone_number||u.contactPhone||null,W=u.createdAt||u.created_at||u.dateCreated||u.date_created||u.updatedAt||u.updated_at||$,Q=F&&F.toLowerCase()||U&&`phone:${U}`||w&&`acct:${w}`||`synthetic:${m}`;if(C.has(Q.toLowerCase())||F&&rl.has(`email:${F.toLowerCase()}`)||w&&rl.has(`id:${String(w)}`))return null;const ue=w?String(w):null,he=ue&&Object.prototype.hasOwnProperty.call(Nc,ue)?Nc[ue]:null,ve=he&&typeof he?.status=="string"?Zn(he.status):null;return{kind:"referral",record:{id:`acct-prospect-${w||F||U||m}`,referrerDoctorId:r?.id||r?.salesRepId||"rep",salesRepId:r?.salesRepId||r?.id||null,referredContactName:L,referredContactEmail:F,referredContactPhone:U,referralCodeId:null,status:ve||"account_created",createdAt:W,updatedAt:typeof he?.updatedAt=="string"&&he.updatedAt?he.updatedAt:W,convertedDoctorId:null,convertedAt:null,notes:typeof he?.notes=="string"?he.notes:u.notes||null,referrerDoctorName:null,referrerDoctorEmail:null,referrerDoctorPhone:null,creditIssuedAt:null,creditIssuedAmount:null,creditIssuedBy:null,referredContactHasAccount:!0,referredContactAccountId:w?String(w):null,referredContactAccountName:L,referredContactAccountEmail:F,referredContactAccountCreatedAt:W,referredContactTotalOrders:u.totalOrders||0,referredContactEligibleForCredit:!1,syntheticAccountProspect:!0}}}).filter(Boolean)},[Nc,Ti,Cr,Zt,r?.id,r?.salesRepId]);y.useEffect(()=>{if(!r||!Ft(r.role)&&!Je(r.role))return;const v=Xn.map(C=>String(C.record?.referredContactAccountId||"").trim()).filter(Boolean);if(v.length===0)return;let _=!1;return(async()=>{for(const C of v){if(_)return;if(!Object.prototype.hasOwnProperty.call(Nc,C)&&!Tt.current.has(C)){Tt.current.add(C);try{const $=(await ea.getSalesProspect(C))?.prospect;!_&&$&&$a(i=>({...i,[C]:$}))}catch{}finally{Tt.current.delete(C)}}}})(),()=>{_=!0}},[Xn,Nc,r]),y.useMemo(()=>[...Ti.map(v=>({kind:"referral",record:v})),...Cr.map(v=>({kind:"contact_form",record:v})),...Xn].sort((v,_)=>{const C=v.record.updatedAt?new Date(v.record.updatedAt).getTime():v.record.createdAt?new Date(v.record.createdAt).getTime():0;return(_.record.updatedAt?new Date(_.record.updatedAt).getTime():_.record.createdAt?new Date(_.record.createdAt).getTime():0)-C}),[Ti,Cr,Xn]),y.useMemo(()=>{const v=Wd.map(C=>({kind:"referral",record:C})).sort((C,E)=>{const $=C.record.creditIssuedAt?new Date(C.record.creditIssuedAt).getTime():C.record.updatedAt?new Date(C.record.updatedAt).getTime():0;return(E.record.creditIssuedAt?new Date(E.record.creditIssuedAt).getTime():E.record.updatedAt?new Date(E.record.updatedAt).getTime():0)-$}),_=$r.filter(C=>(C.status||"").toLowerCase()==="converted"&&(C.referredContactEligibleForCredit===!0||jn(C))).map(C=>({kind:"contact_form",record:C})).sort((C,E)=>{const $=C.record.updatedAt?new Date(C.record.updatedAt).getTime():C.record.createdAt?new Date(C.record.createdAt).getTime():0;return(E.record.updatedAt?new Date(E.record.updatedAt).getTime():E.record.createdAt?new Date(E.record.createdAt).getTime():0)-$});return[...v,..._].sort((C,E)=>(E.record.creditIssuedAt?new Date(E.record.creditIssuedAt).getTime():E.record.updatedAt?new Date(E.record.updatedAt).getTime():E.record.createdAt?new Date(E.record.createdAt).getTime():0)-(C.record.creditIssuedAt?new Date(C.record.creditIssuedAt).getTime():C.record.updatedAt?new Date(C.record.updatedAt).getTime():C.record.createdAt?new Date(C.record.createdAt).getTime():0))},[$r,jn,Wd]);const Ou=y.useMemo(()=>{const v=(m,b)=>{const w=m.record??{},A=w.id??w.referralId??w.leadId??w.prospectId??null;if(A)return`${m.kind}:${String(A)}`;const L=w.referredContactAccountId??w.accountId??w.userId??w.doctorId??null,F=w.referredContactEmail??w.email??w.userEmail??null,U=w.referredContactPhone??w.phone??w.phoneNumber??null,W=w.referredContactName??w.name??w.doctorName??null,Q=w.createdAt??w.created_at??w.dateCreated??w.date_created??null,ae=[L,F,U,W,Q].filter(Boolean).join("|");return ae?`${m.kind}:${ae}`.toLowerCase():`${m.kind}:idx:${b}`},C=[...zr.map(m=>({kind:"referral",record:m})),...Ti.map(m=>({kind:"referral",record:m})),...Cr.map(m=>({kind:"contact_form",record:m})),...Xn].filter(m=>!ec(m.record)),E=new Map;C.forEach((m,b)=>{const w=v(m,b);E.has(w)||E.set(w,m)});const $=Eh.current;let i=jc.current;Array.from(E.keys()).forEach(m=>{$.has(m)||($.set(m,i),i+=1)}),jc.current=i;const o=new Map([["nuture",0],["converted",1],["account_created",2],["verified",3],["verifying",3],["contacted",4],["contact_form",5],["pending",6]]);return Array.from(E.entries()).map(([m,b])=>({...b,_sortKey:m})).sort((m,b)=>{const w=Zn(m.record?.status),A=Zn(b.record?.status),L=o.get(w)??Number.MAX_SAFE_INTEGER,F=o.get(A)??Number.MAX_SAFE_INTEGER;if(L!==F)return L-F;const U=$.get(m._sortKey)??Number.MAX_SAFE_INTEGER,W=$.get(b._sortKey)??Number.MAX_SAFE_INTEGER;if(U!==W)return U-W;const Q=m.record?.id?String(m.record.id):"",ae=b.record?.id?String(b.record.id):"";return Q.localeCompare(ae)})},[Xn,Ti,Cr,zr,jn,ec]),_c=y.useMemo(()=>{if(ml==="all")return Ou;const v=ml.toLowerCase();return Ou.filter(({record:_})=>Zn(_.status)===v)},[Ou,ml]),oi=y.useMemo(()=>cs.filter(v=>Zn(v.status)==="pending"),[cs]);y.useEffect(()=>{const v=new Set;oi.forEach(_=>{_.id&&v.add(String(_.id))}),Kn(v)},[oi]);const Hd=y.useMemo(()=>{const v=new Map;YI.forEach((u,m)=>{u.statuses.forEach(b=>v.set(b,m))});const _=[...Nn,...Xn.map(u=>u.record)],C=(u,m)=>{const b=u?.referredContactAccountId||u?.convertedDoctorId||u?.referredContactId||u?.userId||u?.doctorId||null;if(b)return`acct:${String(b)}`;const w=typeof u?.referredContactEmail=="string"?u.referredContactEmail.trim().toLowerCase():"";if(w)return`email:${w}`;const A=typeof u?.referredContactPhone=="string"?u.referredContactPhone.trim():"";return A?`phone:${A}`:u?.id!=null?`id:${String(u.id)}`:`idx:${m}`},E=u=>{const m=u?.referredContactName||u?.referredContactEmail||u?.referredContactPhone||u?.referrerDoctorName||"Prospect";return String(m).trim()||"Prospect"},$=new Map;_.forEach((u,m)=>{const b=Zn(u.status),w=jn(u)&&b!=="converted"?"nuture":b,A=C(u,m),L=E(u),F=$.get(A);if(!F){$.set(A,{status:w,name:L});return}const U=v.get(w)??-1,W=v.get(F.status)??-1;U>W&&$.set(A,{status:w,name:L})});const i={},o={};return $.forEach(({status:u,name:m})=>{i[u]=(i[u]||0)+1,o[u]||(o[u]=new Set),m&&o[u].add(m)}),YI.map(u=>({status:u.key,label:u.label,count:u.statuses.reduce((m,b)=>m+(i[b]||0),0),names:(()=>{const m=new Set;return u.statuses.forEach(b=>{const w=o[b];w&&w.forEach(A=>m.add(A))}),Array.from(m).sort((b,w)=>b.localeCompare(w))})()}))},[Xn,jn,Nn]),hl=y.useCallback(()=>{$y(v=>v==="desc"?"asc":"desc")},[]);y.useCallback(v=>{const _=(v||"contact_form").toLowerCase(),C=Math.max(0,C_.findIndex(E=>E.key===_));return l.jsx("div",{className:"flex flex-col gap-1 text-xs",children:C_.map((E,$)=>{const i=$<=C;return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${i?"bg-emerald-500":"bg-slate-300"}`}),l.jsx("span",{className:i?"text-emerald-600 font-semibold":"text-slate-500",children:E.label})]},E.key)})})},[]);const kp=La==="desc"?"Newest first":"Oldest first",gl=y.useMemo(()=>{const v=new Map,_=Zt?.referrals??[];for(const C of _)if(C.referrerDoctorId&&v.set(C.referrerDoctorId,C.referrerDoctorName||"Doctor"),C.convertedDoctorId){const E=C.referrerDoctorName??C.referredContactName??"Converted doctor";v.set(C.convertedDoctorId,E)}return v},[Zt]);y.useMemo(()=>new Set(gl.keys()),[gl]);const yl=y.useCallback(async v=>{const _=Ps,C=ho||Cs,E=Je(_)?void 0:C,$=Cs!=null?String(Cs).trim():"",i=typeof r?.email=="string"?r.email.trim().toLowerCase():"";if(!_||!Ft(_)&&!Je(_)){ld([]),jr(new Map),Cy([]),wi(null),Wf(null),Mn(!1),Ea(!1);return}if(X)return;const o=Date.now(),u=25e3,m=`${String(_||"").toLowerCase()}:${String(E||"")}`,b=Si.current!==m,w=Yn.current.length>0;b&&(Si.current=m,tc.current=0);const A=v?.force===!0||b,L=o-tc.current;if(!A&&L>0&&L<u||cd.current)return;cd.current=!0,tc.current=o;const F=!w||b;Mn(F),Ea(v?.force===!0&&!F),wi(null),Wf(null);try{console.log("[Sales Tracking] Fetch start",{role:_||null,salesRepId:C||null});let U=[];const W=new Map,Q=await Ba.getForSalesRep({salesRepId:E||void 0,scope:Je(_)?"all":"mine"});if(Q&&typeof Q=="object"&&!Array.isArray(Q)){const ce=Q;Array.isArray(ce.orders)&&(U=ce.orders),(Array.isArray(ce.doctors)?ce.doctors:Array.isArray(ce.users)?ce.users:[]).forEach(Ce=>{const ut=Ce.id||Ce.doctorId||Ce.userId||Ce.accountId||Ce.account_id;ut&&W.set(String(ut),{name:Ce.name||[Ce.firstName,Ce.lastName].filter(Boolean).join(" ").trim()||Ce.email||"Doctor",email:Ce.email||Ce.doctorEmail||Ce.userEmail||null,profileImageUrl:Ce.profileImageUrl||Ce.profile_image_url||null,phone:Ce.phone||Ce.phoneNumber||Ce.phone_number||Ce.contactPhone||null,leadType:Ce.leadType||Ce.lead_type||null,leadTypeSource:Ce.leadTypeSource||Ce.lead_type_source||null,leadTypeLockedAt:Ce.leadTypeLockedAt||Ce.lead_type_locked_at||null,address1:Ce.address1||Ce.address_1||null,address2:Ce.address2||Ce.address_2||null,city:Ce.city||null,state:Ce.state||null,postalCode:Ce.postalCode||Ce.postcode||Ce.zip||null,country:Ce.country||null})})}else Array.isArray(Q)&&(U=Q);const ae=new Map,ue=(ce,We)=>String(ce.id||ce.wooOrderId||ce.number||ce.cancellationId||ce.wooOrderNumber||`idx-${We}`);U.forEach((ce,We)=>{const Ce=ue(ce,We);ae.set(Ce,ce)});const he=ce=>{if(typeof ce=="string"&&ce.trim().length>0){const We=new Date(ce);return Number.isNaN(We.getTime())?null:We.toISOString()}return ce instanceof Date?Number.isNaN(ce.getTime())?null:ce.toISOString():null},ve=new Map,Ge=(ce,We=0)=>{[ce.id,ce.wooOrderId,ce.woo_order_id,ce.number,ce.wooOrderNumber,ce.cancellationId,ce.cancellation_id,`idx-${We}`].filter(Boolean).map(ut=>String(ut)).forEach(ut=>ve.set(ut,ce))};Yn.current.forEach((ce,We)=>Ge(ce,We));const V=Qd({woo:U},{includeCanceled:!0}).map((ce,We)=>{const Ce=ue(ce,We),ut=ae.get(Ce)||{},gr=ja(ut)||ja(ce)||ut.doctor_id||ut.doctorId||ce.doctor_id||ce.doctorId||null,us=gr?W.get(gr):null,Ic=he(ce.createdAt)||he(ce.dateCreated)||he(ce.date_created)||he(ce.dateCreatedGmt)||he(ce.date_created_gmt)||null,Yb=he(ce.updatedAt)||he(ce.dateModified)||he(ce.date_modified)||he(ce.dateModifiedGmt)||he(ce.date_modified_gmt)||Ic,Ky=he(ce?.shippingEstimate?.estimatedArrivalDate)||he(ce?.shippingEstimate?.deliveryDateGuaranteed)||he(ce?.shippingEstimate?.estimated_delivery_date)||he(ce?.shipping?.estimatedArrivalDate)||he(ce?.shipping?.estimated_delivery_date)||null,Ro=ce.shippingEstimate||ce.shippingEstimate||null,At={...Ro&&typeof Ro=="object"?{...Ro}:{},estimatedArrivalDate:Ky},wl=!!Ky||Object.values(At).some(Nl=>Nl!=null&&String(Nl).length>0)?At:null,qh=Nl=>!Nl||typeof Nl!="object"?null:Object.values(Nl).some(Qb=>Qb!=null&&String(Qb).length>0)?Nl:null,Sl=ve.get(Ce),Lp=Sl&&Sl!==ce?{...Sl,...ce,shippingEstimate:wl??Sl.shippingEstimate??null,createdAt:Ic||Sl.createdAt||null,updatedAt:Yb||Sl.updatedAt||null,lineItems:ce.lineItems?.length?ce.lineItems:Sl.lineItems}:ce;return{...Lp,createdAt:Lp.createdAt||Ic,updatedAt:Lp.updatedAt||Yb,shippingEstimate:qh(Lp.shippingEstimate)??wl??null,doctorId:gr,doctorEmail:us?.email||ut?.doctorEmail||ut?.doctor_email||ce?.doctorEmail||ce?.doctor_email||ce?.billing?.email||ce?.billing_email||null,doctorName:us?.name||ut?.doctorName||ut?.billing_name||ce?.doctorName||ce?.billing?.firstName||ce?.billing?.first_name||ce?.billing_name||ce?.billing?.lastName||ce?.billing?.last_name||"Doctor",doctorProfileImageUrl:us?.profileImageUrl||ut?.doctorProfileImageUrl||ce?.doctorProfileImageUrl||null}}).filter(ce=>{if(!$&&!i)return!0;const We=ja(ce)||ce?.doctorId||ce?.doctor_id||ce?.userId||ce?.user_id||null;return!($&&We!=null&&String(We).trim()===$||i&&[ce?.userEmail,ce?.user_email,ce?.doctorEmail,ce?.doctor_email,ce?.email,ce?.billing?.email,ce?.billing_email].filter(ut=>typeof ut=="string").map(ut=>String(ut).trim().toLowerCase()).filter(Boolean).includes(i))}).sort((ce,We)=>{const Ce=ce.createdAt?new Date(ce.createdAt).getTime():0;return(We.createdAt?new Date(We.createdAt).getTime():0)-Ce}),H=ce=>{const We=String(ce.id||ce.number||""),Ce=ce.createdAt||ce.dateCreated||ce.date_created||ce.date_created_gmt||"",ut=ce.updatedAt||ce.dateModified||"",gr=ce?.shippingEstimate?.estimatedArrivalDate||ce?.shippingEstimate?.deliveryDateGuaranteed||ce?.shippingEstimate?.estimated_delivery_date||"",us=ce?.shippingEstimate?.status||ce?.shipping?.status||"";return[We,String(ce.number||""),String(ce.status||""),String(ce.total||""),String(Ce||""),String(ut||""),String(gr||""),String(us||"")].join("|")},re=Ny.current,ge=new Map,Ne=new Set;for(const ce of V){const We=String(ce.id||ce.number||"");if(!We)continue;const Ce=H(ce);ge.set(We,Ce),re.get(We)!==Ce&&Ne.add(We)}re.size!==ge.size&&Ne.add("__list_changed__"),Ny.current=ge;const Pe=F||Ne.size>0||Yn.current.length!==V.length;if(jr(W),Pe&&ld(V),!F&&Ne.size>0){const ce=new Set([...Ne].filter(We=>We!=="__list_changed__"));ce.size>0&&(Km(ce),er.current&&window.clearTimeout(er.current),er.current=window.setTimeout(()=>{Km(new Set),er.current=null},650))}const Oe=[];if(V.forEach(ce=>{const We=ja(ce)||ce.userId||ce.id;if(!We)return;const Ce=String(We);Pa.current.has(Ce)||(Pa.current.add(Ce),Oe.push(Ce))}),Ja.current){if(Oe.length>0){const ce=new Set(mn);Oe.forEach(We=>ce.add(We)),xi(ce)}}else{const ce=new Set;Pa.current.forEach(We=>ce.add(We)),xi(ce),Ja.current=!0}Pe&&bo(Date.now()),console.log("[Sales Tracking] Orders loaded",{count:V.length,doctors:W.size,sample:V[0]&&{id:V[0].id,number:V[0].number,createdAt:V[0].createdAt,updatedAt:V[0].updatedAt,shippingEstimate:V[0].shippingEstimate,arrival:V[0].shippingEstimate?.estimatedArrivalDate}}),Ym(V,{onlyIds:F||v?.force===!0?void 0:Ne,force:v?.force===!0})}catch(U){const W=typeof U?.message=="string"?U.message:"Unable to load sales tracking data at the moment.";console.error("[Sales Tracking] Unable to fetch orders",U),wi(W)}finally{Mn(!1),Ea(!1),cd.current=!1}},[Cs,Ps,ho,r?.email,X,ja,Ym,No]);y.useCallback(async()=>{await yl({force:!0})},[yl]),y.useEffect(()=>{if(X||!Ps||!Ft(Ps)&&!Je(Ps))return;yl();const v="sales-tracking-poll",_=25e3,C=Math.max(45e3,_*2),E=window.setInterval(()=>{Di()&&Cl(v,C)&&yl()},_);return()=>{Zs(v),window.clearInterval(E)}},[yl,Ps,X]);const Vd=y.useMemo(()=>{if(yi.length===0)return null;const v=yi.filter(C=>Ni(C.status)),_=v.reduce((C,E)=>C+(Br(E.total)??0),0);return{totalOrders:v.length,totalRevenue:_,latestOrder:v[0]||yi[0]}},[yi]),Tu=y.useMemo(()=>{const v=new Map;return(Zt?.referrals??[]).forEach(C=>{if(!C?.id)return;const E=String(C.id),$=C.updatedAt?new Date(C.updatedAt).getTime():0,i=o=>{if(!o)return;const u=String(o).trim().toLowerCase();if(!u)return;const m=v.get(u);(!m||$>m.updatedAtMs)&&v.set(u,{referralId:E,updatedAtMs:$})};i(C.referredContactAccountId?`acct:${C.referredContactAccountId}`:null),i(C.convertedDoctorId?`acct:${C.convertedDoctorId}`:null),i(C.referredContactEmail?`email:${String(C.referredContactEmail).toLowerCase()}`:null),i(C.referredContactAccountEmail?`email:${String(C.referredContactAccountEmail).toLowerCase()}`:null)}),v},[Zt?.referrals]),Qn=y.useCallback((v,_)=>{if(v){const C=Tu.get(`acct:${String(v).toLowerCase()}`);if(C)return C.referralId}if(_){const C=Tu.get(`email:${String(_).toLowerCase()}`);if(C)return C.referralId}return null},[Tu]),Vs=y.useMemo(()=>{const v=new Map;for(const _ of yi){const C=ja(_)||_.userId||`anon:${_.id}`,E=C?Lr.get(C):null,$=E?.name||gl.get(C)||_.doctorName||"Doctor",i=E?.email||_.doctorEmail||null,o=E?.profileImageUrl||_.doctorProfileImageUrl||null,u=E?.leadType||null,m=E?.leadTypeSource||null,b=E?.leadTypeLockedAt||null,w=(()=>{const ae=[E?.address1,E?.address2,[E?.city,E?.state,E?.postalCode].filter(Boolean).join(", "),E?.country].filter(ue=>typeof ue=="string"&&ue.trim().length>0);return ae.length>0?ae.join(`
`):null})(),A=E?.phone||null,L=$,F=i||_?.billing?.email||_?.billing_email||null,U=_?.salesRepId||_?.sales_rep_id||_?.salesRep?.id||null,W=v.get(C)||(()=>{const ae={doctorId:C,doctorName:L,doctorEmail:F,doctorAvatar:o,doctorPhone:A,ownerSalesRepId:U?String(U):null,leadType:u,leadTypeSource:m,leadTypeLockedAt:b,doctorAddress:w,orders:[],total:0};return v.set(C,ae),ae})();U&&!W.ownerSalesRepId&&(W.ownerSalesRepId=String(U)),W.orders.push(_);const Q=_.status;Ni(Q)&&(W.total+=Br(_.total)??0)}return Array.from(v.values()).sort((_,C)=>C.total-_.total)},[yi,ja,Lr,gl]),Ri=y.useCallback(()=>{try{const v=sessionStorage.getItem("auth_token");if(v&&v.trim().length>0)return!0}catch{}return!1},[]),Jn=y.useCallback(async v=>{if(!r){console.debug("[Referral] refreshReferralData skipped: no user");return}if(ke){console.debug("[Referral] refreshReferralData suppressed due to prior auth error");return}const _=v?.showLoading??!0,C=Date.now();if(!_){const E=xh.current;if(E>0&&C-E<DN){console.debug("[Referral] refreshReferralData throttled",{sinceMs:C-E,minIntervalMs:DN});return}}if(Ur.current&&Ur.current>Date.now()){console.debug("[Referral] refreshReferralData in cooldown");return}if(!Ri()){console.debug("[Referral] refreshReferralData skipped: missing auth token"),Se(!0);return}if(vp.current){_&&sl(!0);return}vp.current=!0,xh.current=C,_&&sl(!0),console.debug("[Referral] Refresh start",{role:r.role,userId:r.id});try{if(yu(null),Js(r.role)){const E=await ea.getDoctorSummary(),$=Array.isArray(E?.referrals)?E.referrals:[],i=E?.credits??{},o={totalCredits:Number(i.totalCredits??0),availableCredits:Number(i.availableCredits??i.totalCredits??r?.referralCredits??0),netCredits:typeof i.netCredits=="number"?Number(i.netCredits):void 0,firstOrderBonuses:Number(i.firstOrderBonuses??0),ledger:Array.isArray(i.ledger)?i.ledger:[]};js({...o});const u=$.map(m=>({...m}));_s(u),n(m=>{if(!m)return m;const b=o.availableCredits,w=u.length;return Number(m.referralCredits??0)===b&&Number(m.totalReferrals??0)===w?m:{...m,referralCredits:b,totalReferrals:w}}),console.debug("[Referral] Doctor summary loaded",{referrals:u.length,credits:o})}else if(Ft(r.role)||Je(r.role)){const E=await ea.getSalesRepDashboard({salesRepId:r.salesRepId||r.id,scope:(Je(r.role),"mine")});fo(E),console.debug("[Referral] Sales rep dashboard loaded",{referrals:E?.referrals?.length??0,statuses:E?.statuses??null})}else console.debug("[Referral] Refresh skipped for role",{role:r.role})}catch(E){const $=typeof E?.status=="number"?E.status:null,i=typeof E?.message=="string"?E.message:"UNKNOWN_ERROR";console.warn("[Referral] Failed to load data",{status:$,message:i,error:E}),($===401||$===403)&&(Se(!0),Ur.current=Date.now()+300*1e3),yu(l.jsxs(l.Fragment,{children:["There is an issue in loading your referral data. Please refresh the page or contact"," ",l.jsx("a",{className:"text-[rgb(95,179,249)] underline",href:"mailto:support@peppro.net",children:"support@peppro.net"}),"."]}))}finally{console.debug("[Referral] Refresh complete",{role:r.role}),vp.current=!1,_&&sl(!1)}},[r,n,ke,Ri]),En=y.useCallback(async(v,_)=>{const C=r?{id:r.id,role:r.role}:{id:null,role:null},E=_?.showLoading??!0;return console.debug("[Referral] refreshReferralData invoke",{trigger:v,showLoading:E,user:C,suppressed:ke,postLoginHold:X,ts:Date.now(),stack:typeof Error<"u"?new Error("refreshReferralData stack").stack:void 0}),Jn(_)},[r,ke,X,Jn]),kh=y.useCallback(async v=>{if(v.preventDefault(),!Pi.name.trim()){He.error("Name is required.");return}try{Jf(!0),await ea.createManualProspect({name:Pi.name.trim(),email:Pi.email.trim()||void 0,phone:Pi.phone.trim()||void 0,notes:As(Pi.notes)||void 0,status:Pi.status,hasAccount:!1}),He.success("Prospect added successfully."),yd(),await En("manual-prospect-submit",{showLoading:!1})}catch(_){console.error("[Referral] Manual prospect create failed",_);const C=typeof _?.message=="string"?_.message:"Unable to add prospect right now.";He.error(C)}finally{Jf(!1)}},[Pi,yd,As,En]),Oh=y.useCallback(async(v,_)=>{if(!r||!Ft(r.role)&&!Je(r.role))return;const C=String(v?.referredContactAccountId||"").trim();if(!C){He.error("Unable to update this account prospect.");return}try{Ma(i=>({...i,updatingReferral:String(v?.id||""),error:null}));const $=(await ea.upsertSalesProspect(C,{status:_}))?.prospect;$&&$a(i=>({...i,[C]:$})),He.success("Prospect updated."),await En("synthetic-account-promote",{showLoading:!1})}catch(E){console.error("[Referral] Synthetic account promote failed",E);const $=typeof E?.message=="string"&&E.message?E.message:"Unable to update prospect right now.";Ma(i=>({...i,error:$})),He.error($)}finally{Ma(E=>({...E,updatingReferral:null}))}},[$a,En,r]),[qb,ga]=y.useState({}),Cc=y.useCallback((v,_)=>{fo(C=>{if(!C)return C;const $=(Array.isArray(C.referrals)?C.referrals:[]).map(i=>String(i?.id||"")!==String(v)?i:{...i,..._});return{...C,referrals:$}})},[]),Th=y.useCallback(async(v,_)=>{if(!(!r||!Ft(r.role)&&!Je(r.role))){ga(C=>({...C,[v]:!0}));try{const E=(await ea.upsertSalesProspect(v,{resellerPermitExempt:_}))?.prospect;Cc(v,{resellerPermitExempt:_,...E&&typeof E=="object"?E:{}})}catch(C){console.warn("[Prospects] Update reseller permit exempt failed",C),He.error(typeof C?.message=="string"&&C.message?C.message:"Unable to update permit status right now.")}finally{ga(C=>({...C,[v]:!1}))}}},[Cc,r]),Pc=y.useCallback(async(v,_)=>{if(!(!r||!Ft(r.role)&&!Je(r.role))){ga(C=>({...C,[v]:!0}));try{const E=(await ea.uploadResellerPermit(v,_))?.prospect;Cc(v,{...E&&typeof E=="object"?E:{},resellerPermitFileName:_.name})}catch(C){console.warn("[Prospects] Upload reseller permit failed",C),He.error(typeof C?.message=="string"&&C.message?C.message:"Unable to upload permit right now.")}finally{ga(C=>({...C,[v]:!1}))}}},[Cc,r]),Rh=y.useCallback(async v=>{if(!(!r||!Ft(r.role)&&!Je(r.role))&&window.confirm("Delete this reseller permit file?")){ga(_=>({..._,[v]:!0}));try{const C=(await ea.deleteResellerPermit(v))?.prospect;Cc(v,{...C&&typeof C=="object"?C:{},resellerPermitFileName:null,resellerPermitFilePath:null,resellerPermitUploadedAt:null})}catch(_){console.warn("[Prospects] Delete reseller permit failed",_),He.error(typeof _?.message=="string"&&_.message?_.message:"Unable to delete permit right now.")}finally{ga(_=>({..._,[v]:!1}))}}},[Cc,r]),Ac=y.useCallback(async(v,_)=>{if(!(!r||!Ft(r.role)&&!Je(r.role))){ga(C=>({...C,[v]:!0}));try{const C=await ea.downloadResellerPermit(v),E=URL.createObjectURL(C.blob);if(!window.open(E,"_blank","noopener,noreferrer")){const i=document.createElement("a");i.href=E,i.download=C.filename||_||"reseller_permit",document.body.appendChild(i),i.click(),i.remove()}window.setTimeout(()=>URL.revokeObjectURL(E),6e4)}catch(C){console.warn("[Prospects] Download reseller permit failed",C),He.error(typeof C?.message=="string"&&C.message?C.message:"Unable to download permit right now.")}finally{ga(C=>({...C,[v]:!1}))}}},[r]),By=y.useCallback(async v=>{if(window.confirm("Delete this referral? This cannot be undone."))try{ih(v),await ea.deleteDoctorReferral(v),_s(_=>_.filter(C=>C.id!==v)),He.success("Referral deleted.")}catch(_){console.error("[Referral] Doctor referral delete failed",_),He.error(typeof _?.message=="string"?_.message:"Unable to delete referral right now.")}finally{ih(null)}},[]),Ih=y.useCallback(async v=>{const _=v.referrerDoctorId,C=v.referrerDoctorName||"User";if(!_){He.error("Unable to credit this referral because the referrer is missing.");return}if(window.confirm("Are you sure?"))try{ha(v.id),await ea.addManualCredit({doctorId:_,amount:50,reason:`Manual credit for referral ${v.id}`,referralId:v.id}),He.success(`Credited ${C} $50`),await En("manual-credit",{showLoading:!0})}catch(E){console.error("[Referral] Manual credit failed",E);const $=typeof E?.message=="string"?E.message:"Unable to issue credit right now.";He.error($)}finally{ha(null)}},[En]),Gs=y.useCallback(v=>{if(!v)return"";const _=new Date(v);return Number.isNaN(_.getTime())?v:_.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},[]),$n=y.useCallback(v=>{if(!v)return"";const _=new Date(v);return Number.isNaN(_.getTime())?v:_.toLocaleString(void 0,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"})},[]),wt=y.useCallback((v,_="USD")=>{if(v==null||Number.isNaN(v))return"";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:_}).format(v)}catch{return`$${v.toFixed(2)}`}},[]),Ub=y.useCallback(v=>{if($e.current&&($e.current.disconnect(),$e.current=null),!v||typeof IntersectionObserver>"u"){Me(!1);return}const _=new IntersectionObserver(([C])=>{Me(C.isIntersecting)},{rootMargin:"-10% 0px 0px 0px"});_.observe(v),$e.current=_},[]);y.useEffect(()=>{ds.logout()},[]),y.useEffect(()=>{let v=!1;return(async()=>{const C=typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now();try{const E=await ef();if(!v){const $=typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now();console.debug("[Auth] API warm-up complete",{healthy:E,durationMs:Math.round($-C)})}}catch(E){v||console.warn("[Auth] API warm-up failed",E)}})(),()=>{v=!0}},[]),y.useEffect(()=>{if(typeof window>"u")return;let v=!1;const _=(o=!1,u=HI)=>{Oo.current&&window.clearTimeout(Oo.current),o||(wp(Date.now()+u),Dd(!0)),Li&&console.info("[Catalog] Retry scheduled",{background:o,delayMs:u}),Oo.current=window.setTimeout(()=>{C(o)},u)},C=async(o=!1)=>{if(v||ss.current)return;ss.current=!0,Oo.current=null,o||(wp(null),bc(!1),$d.current=0),o||bp(!0),xp(null),o||Dd(!1);const u=Date.now();Li&&console.info("[Catalog] Load started",{background:o,build:fg,apiBase:"https://api.peppro.net",wooProxy:""});try{dt();const m=async()=>{const ve=[],Ge=async V=>{const H=Date.now(),re=await Kse({per_page:100,page:V,status:"publish"});return Li&&console.info("[Catalog] Products page loaded",{page:V,count:Array.isArray(re)?re.length:0,durationMs:Date.now()-H}),re};for(let V=1;V<=25;V+=GI){const H=Array.from({length:GI},(Ne,Pe)=>V+Pe).filter(Ne=>Ne<=25),re=await Promise.all(H.map(Ne=>Ge(Ne)));let ge=!1;for(let Ne=0;Ne<re.length;Ne+=1){const Pe=re[Ne],Oe=H[Ne];if(!Array.isArray(Pe)||Pe.length===0){Li&&console.info("[Catalog] Products page empty",{page:Oe}),ge=!0;break}if(ve.push(...Pe),Pe.length<100){ge=!0;break}}if(ge)break}return Li&&ve.length===0&&console.warn("[Catalog] No Woo products returned"),ve},[b,w]=await Promise.all([m(),Yse({per_page:100})]);if(v)return;Li&&console.info("[Catalog] Woo base payload loaded",{products:Array.isArray(b)?b.length:0,categories:Array.isArray(w)?w.length:0,durationMs:Date.now()-u});const A=Array.isArray(w)?w.map(ue=>ue?.name?.trim()).filter(ue=>!!ue&&!ue.toLowerCase().includes("subscription")):[],L=new Map;if(Array.isArray(w))for(const ue of w){const he=typeof ue?.id=="number"?ue.id:Number.parseInt(String(ue?.id??""),10);if(!Number.isFinite(he))continue;const ve=typeof ue?.name=="string"?ue.name.trim():"";ve&&L.set(Number(he),ve)}Ve.current=L,A.length>0?(wh(A),Li&&console.info("[Catalog] Categories set from API",{categories:A})):Li&&console.info("[Catalog] Categories empty after filter",{rawCategories:Array.isArray(w)?w.map(ue=>ue?.name):[]}),xe.current=new Map((b??[]).filter(ue=>!!(ue&&typeof ue=="object"&&"id"in ue)).map(ue=>{const he=og(ue,Ve.current),ve=typeof he.id=="number"?he.id:Number.parseInt(String(he.id).replace(/[^\d]/g,""),10);return Number.isFinite(ve)?[ve,he]:null}).filter(ue=>!!ue));const F=ue=>{if(!ue||ue.length===0)return!1;Li&&console.info("[Catalog] Applying catalog state",{products:ue.length}),Rd(ue);const he=Array.from(new Set(ue.map(H=>H.category).filter(H=>!!H&&!H.toLowerCase().includes("subscription")))),ve=A.length>0?A:he,Ge=Array.from(new Set([...ve,...he]));Ge.length>0&&wh(Ge);const V=Array.from(new Set(ue.map(H=>H.type).filter(Boolean)));return V.length>0&&Nh(V),!0};let U=0;const W=[],Q=(b??[]).filter(ue=>!!(ue&&typeof ue=="object"&&"id"in ue)).map(ue=>{try{const he=og(ue,Ve.current);return $N(he,[])}catch(he){return U+=1,W.length<5&&W.push({id:ue?.id,name:ue?.name,message:typeof he?.message=="string"?he.message:void 0}),console.warn("[Catalog] Failed to map Woo product",ue?.id,he),null}}).filter(ue=>!!(ue&&ue.name));if(Li&&console.info("[Catalog] Base products mapped",{count:Q.length,mapFailures:U,sampleMapFailures:W}),Array.isArray(b)&&b.length>0&&Q.length===0){const ue=U>0?`Catalog mapping failed for ${U} products.`:"Catalog mapping produced 0 products.";xp(ue),console.error("[Catalog] Mapping resulted in empty catalog",{mappingError:ue,wooCount:b.length,mapFailures:U,sampleMapFailures:W})}const ae=F(Q);if(Li&&console.info("[Catalog] Catalog state applied",{products:Q.length,categories:Eo.length||A.length,durationMs:Date.now()-u}),!o){if(!ae&&Q.length===0&&xt.length===0&&$d.current<koe){$d.current+=1;const ue=Math.max(Ooe,VI);Dd(!0),_(!1,ue);return}bp(!1),ae&&(Ld.current=0,Dd(!1))}Li&&console.info("[Catalog] Load complete (state)",{products:Q.length,categories:Eo.length,loading:!1})}catch(m){if(!v){const b=typeof m?.message=="string"&&m.message.trim().length>0?m.message:"Catalog fetch failed",w=typeof m?.status=="number"?m.status:null,A=typeof m?.name=="string"?m.name:"";if(w===429||w===500||w===502||w===503||w===504||b==="Failed to fetch"||b==="Load failed"||A==="TypeError"){mt.current+=1;const F=Math.min(8,mt.current),U=Math.min(300*1e3,2e3*Math.pow(2,F-1));Ye.current=Date.now()+U}if(!o){Ld.current+=1;const F=Ld.current===1?VI:HI,U=Math.max(F,Math.max(0,Ye.current-Date.now()));Ld.current>=2?xp(b):Dd(!0),_(!1,U);return}console.error("[Catalog] Catalog fetch failed",{message:b,error:m}),_(o)}}finally{Li&&console.info("[Catalog] Load finished",{background:o,durationMs:Date.now()-u}),ss.current=!1}};C(!1);const E="catalog-background-poll",$=Math.max(45e3,IN*2),i=window.setInterval(()=>{Di()&&Cl(E,$)&&(Pu(E,"catalog-background-poll",IN),C(!0))},IN);return()=>{v=!0,Zs(E),Oo.current&&window.clearTimeout(Oo.current),window.clearInterval(i)}},[dt,it]),y.useEffect(()=>{if(ko.current&&(window.clearTimeout(ko.current),ko.current=null),is){bc(!1);return}if(xt.length>0){bc(!1);return}if(vc&&Date.now()<vc){bc(!1);return}return ko.current=window.setTimeout(()=>{bc(!0),ko.current=null},Toe),()=>{ko.current&&(window.clearTimeout(ko.current),ko.current=null)}},[is,xt.length,vc]),y.useEffect(()=>{if(!r){xc([]),wc(null),Us(null);return}let v=!1;return(async()=>{_h(),wc(null);const C=Date.now();try{const E=await QN.getPeptideHeadlines();if(v)return;const $=Array.isArray(E?.items)?E.items.map(i=>({title:typeof i?.title=="string"?i.title.trim():"",url:typeof i?.url=="string"?i.url.trim():"",summary:typeof i?.summary=="string"&&i.summary.trim()?i.summary.trim():void 0,image:typeof i?.imageUrl=="string"&&i.imageUrl.trim()?i.imageUrl.trim():void 0,date:typeof i?.date=="string"&&i.date.trim()?i.date.trim():void 0})).filter(i=>i.title&&i.url):[];if($.length===0){xc([]),wc("No headlines available right now."),Us(new Date);return}xc($.slice(0,6)),Us(new Date)}catch(E){v||(console.warn("[News] Failed to load peptide headlines",E),wc("Unable to load peptide news at the moment."),xc([]))}finally{v||Ly(C)}})(),()=>{v=!0}},[r]),y.useEffect(()=>{if(!r){Pp(!1),Ud(!1),Bd(null),zs(!1),xn.current=!1;return}if(xn.current)return;xn.current=!0,Pp(!1),Ud(!1),Bd(null),zs(!0);const v=window.setTimeout(()=>Pp(!0),250);return()=>window.clearTimeout(v)},[r]),y.useEffect(()=>{if(!r||!ku||ie||qd)return;let v=!1;return(async()=>{try{const C=await lD.getQuoteOfTheDay();v||Bd(C)}catch(C){console.warn("[Quotes] Failed to load quote of the day",C),v||Bd({text:"Excellence is not a skill, it's an attitude.",author:"Ralph Marston"})}finally{v||(zs(!1),Ud(!0))}})(),()=>{v=!0}},[r,ku,ie,qd]),y.useEffect(()=>{if(typeof window>"u")return;const v=()=>{Bb(window.innerWidth>=1024)};return v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}},[]),y.useEffect(()=>{Li&&console.info("[CatalogState] Snapshot",{loading:is,error:Md,products:xt.length,categories:Eo.length,types:Sh.length,filters:Sn,searchQuery:g.trim()})},[is,Md,xt,Eo,Sh,Sn,g]),y.useEffect(()=>{Zo(v=>{const _=v.categories.filter(C=>Eo.includes(C));return _.length===v.categories.length&&v.types.length===0?v:{...v,categories:_,types:[]}})},[Eo]),y.useEffect(()=>{if(!r){js(null),_s([]),fo(null),Ma({updatingReferral:null,error:null}),Se(!1);return}if(Se(!1),X)return;let v=!1;return(async()=>v||await En("user-change-initial-load",{showLoading:!0}))(),()=>{v=!0}},[r,X,Jn]),y.useEffect(()=>{if(typeof document>"u")return;const v=!!r&&!X,_=!r;return document.body.classList.toggle("non-login-bg",v),document.body.classList.toggle("login-view",_),()=>{document.body.classList.remove("non-login-bg"),document.body.classList.remove("login-view")}},[r,X]),y.useEffect(()=>{if(!r||!Ft(r.role)&&!Je(r.role)||X||ke)return;const v=Math.max(DN,45e3),_=window.setInterval(()=>{En("sales-rep-auto-refresh",{showLoading:!1})},v);return()=>{window.clearInterval(_)}},[r?.id,r?.role,X,ke,En]),y.useEffect(()=>{if(typeof window>"u"||typeof document>"u"||!r||!Js(r.role)&&!Ft(r.role)&&!Je(r.role)||X||ke)return;const v=()=>{document.hidden||En("visibilitychange:visible",{showLoading:!1})},_=()=>{En("window:focus",{showLoading:!1})};return document.addEventListener("visibilitychange",v),window.addEventListener("focus",_),()=>{document.removeEventListener("visibilitychange",v),window.removeEventListener("focus",_)}},[r?.id,r?.role,X,ke,En]),y.useEffect(()=>()=>{$e.current&&($e.current.disconnect(),$e.current=null)},[]),y.useEffect(()=>{const v=()=>{j(!1),S(null),d(!1)};return window.addEventListener("peppro:close-dialogs",v),()=>window.removeEventListener("peppro:close-dialogs",v)},[]);const Mh=async(v,_,C=0,E)=>{const $=E??O,i=Date.now();console.debug("[Auth] Login attempt",{email:v,attempt:C});try{const o=await ds.login(v,_);return id(o),$!=="checkout"&&gB(v,_,o.name||v),console.debug("[Auth] Login success",{userId:o.id,visits:o.visits}),{status:"success"}}catch(o){console.warn("[Auth] Login failed",{email:v,error:o});const u=o.message||"LOGIN_ERROR",m=typeof o?.code=="string"?o.code:null;if(u==="EMAIL_NOT_FOUND")return{status:"email_not_found"};if(u==="INVALID_PASSWORD")return{status:"invalid_password"};if(u==="SALES_REP_ACCOUNT_REQUIRED")return{status:"sales_rep_signup_required",message:u};const b=typeof o?.status=="number"?o.status:null,w=typeof u=="string"?u.toUpperCase():"",A=u==="Failed to fetch"||w.includes("LOAD FAILED")||w.includes("NETWORKERROR")||w.includes("NETWORK_ERROR"),L=b!==null&&b>=500,F=m==="TIMEOUT"||w.includes("TIMED OUT"),U=Date.now()-i;if(F||A)return{status:"error",message:"NETWORK_UNAVAILABLE"};if(C===0&&L&&b!==null&&[502,503,504].includes(b)&&U<4e3)return console.warn("[Auth] Transient login failure detected, retrying immediately after health ping",{email:v,statusCode:b,message:u}),ef().catch(()=>{}),await new Promise(W=>setTimeout(W,500)),Mh(v,_,C+1,$);if(u==="Invalid credentials"||u==="INVALID_CREDENTIALS")try{return(await ds.checkEmail(v)).exists?{status:"invalid_password"}:{status:"email_not_found"}}catch{return{status:"email_not_found"}}return u==="EMAIL_REQUIRED"?{status:"error",message:u}:{status:"error",message:u}}},Dh=y.useCallback(()=>{Xa.current+=1,Na("idle"),Ns(""),Jo.current=null},[]),Ec=y.useCallback(v=>{const _=(v||"").replace(/[^0-9]/g,"").slice(0,10);if(_.length<10){console.debug("[NPI] Waiting for 10 digits before verification",{digits:_}),Xa.current+=1,Na("idle"),Ns(""),Jo.current=null;return}const C=Date.now();Xa.current=C,console.debug("[NPI] Verifying against CMS registry",{npiNumber:_,checkId:C}),Na("checking"),Ns(""),ds.verifyNpi(_).then(E=>{if(Xa.current!==C)return;console.debug("[NPI] Verified successfully",{npiNumber:_});const $=(()=>{if(E?.name&&typeof E.name=="string")return E.name.trim();const o=E?.raw?.basic;if(o){const u=[o.first_name,o.middle_name,o.last_name].map(m=>m?.trim()).filter(Boolean);if(u.length)return u.join(" ")}return null})(),i=E??{};Jo.current={...i,name:$??(typeof i.name=="string"?i.name:null),verifiedNpiNumber:_},Na("verified"),Ns("NPI verified with the CMS registry.")}).catch(E=>{if(Xa.current!==C)return;console.warn("[NPI] Verification failed",{npiNumber:_,error:E});const $=zoe(E?.message);Na("rejected"),Ns($),Jo.current=null})},[]),kc=y.useCallback(v=>{G(_=>{if(_===v)return _;if(v!=="reset"&&(lo(),Yt(null),Ko(""),Vl(""),Ha(""),Kr("")),v==="signup"?Dh():pn(""),v==="login"&&(an(""),lr(!1),Kt(!1),tn(!1),$t(""),Ut(!1),dn("")),v==="forgot"){an(""),$t(""),Ut(!1);const C=Ze.current?.value?.trim()||"";dn(E=>E||C)}return v==="reset"&&(an(""),$t(""),Ut(!1),Kr(""),Ha(""),Yt(C=>C??__())),v})},[lo,Dh]),Oc=(v,_)=>Mh(v,_,0),Lh=async v=>{console.debug("[Auth] Create account attempt",{email:v.email});try{const _=(v.password||"").trim(),C=(v.confirmPassword||"").trim();if(!_)return{status:"error",message:"PASSWORD_REQUIRED"};if(_!==C)return{status:"password_mismatch"};const E=(v.code||"").trim().toUpperCase();if(!/^[A-Z]{2}[A-Z0-9]{3}$/.test(E))return{status:"invalid_referral_code"};const $=(v.npiNumber||"").replace(/\D/g,"");if($&&!/^\d{10}$/.test($))return{status:"invalid_npi"};if($){const o=Jo.current;if(!o||o.verifiedNpiNumber!==$)return{status:"error",message:"Please verify your NPI before continuing."};if(o.name&&!Poe(v.name,o.name))return{status:"error",message:"Ensure your name is exactly as stated on your NPI registry."}}const i=await ds.register({name:v.name,email:v.email,password:_,code:E,npiNumber:$||void 0});return n(i),Y(!0),se(!1),console.debug("[Auth] Create account success",{userId:i.id}),I(null),lr(!1),Kt(!1),tn(!1),{status:"success"}}catch(_){const C=_?.status??"unknown",E=_?.details??null;console.warn("[Auth] Create account failed",{email:v.email,status:C,message:_?.message,details:E});const $=typeof _?.message=="string"&&_.message.trim()?_.message.trim():"REGISTER_ERROR";return $==="EMAIL_EXISTS"||$==="User already exists"?{status:"email_exists"}:$==="INVALID_REFERRAL_CODE"?{status:"invalid_referral_code"}:$==="REFERRAL_CODE_NOT_FOUND"?{status:"referral_code_not_found"}:$==="REFERRAL_CODE_UNAVAILABLE"?{status:"referral_code_unavailable"}:$==="SALES_REP_EMAIL_MISMATCH"?{status:"sales_rep_email_mismatch"}:$==="NAME_EMAIL_REQUIRED"?{status:"name_email_required"}:$==="PASSWORD_REQUIRED"?{status:"error",message:$}:$==="NPI_INVALID"?{status:"invalid_npi"}:$==="NPI_NOT_FOUND"?{status:"npi_not_found"}:$==="NPI_NAME_MISMATCH"?{status:"error",message:"Ensure your name is exactly as stated on your NPI registry."}:$==="NPI_ALREADY_REGISTERED"?{status:"npi_already_registered"}:$==="NPI_LOOKUP_FAILED"?{status:"npi_verification_failed",message:$}:{status:"error",message:$}}},Wr=async v=>{if(v.preventDefault(),wa)return;const _=Wa.trim();if(!_){$t("Please enter the email associated with your account.");return}ct(!0),$t(""),Ut(!1);try{await JN.request(_),Ut(!0)}catch(C){const E=typeof C?.status=="number"?C.status:null,$=E&&E>=500?"Password reset service is temporarily unavailable. Please try again in a few minutes.":typeof C?.message=="string"&&C.message.trim()?C.message:"Unable to send reset instructions. Please try again.";$t($),console.warn("[Auth] Password reset request failed",{status:E,error:C})}finally{ct(!1)}},zb=async v=>{if(v.preventDefault(),Tr)return;Kr(""),Ha("");const _=Wi.trim(),C=pi.trim();if(!Ot){Kr("This reset link is invalid or has expired. Please request a new one.");return}if(!_){Kr("Please enter a new password.");return}if(_!==C){Kr("Passwords do not match. Please confirm your new password.");return}xr(!0);try{await JN.reset(Ot,_),Ha("Your password has been updated. You can now sign in with your new credentials."),Ko(""),Vl(""),setPasswordResetToken(null),lo()}catch(E){const $=typeof E?.status=="number"?E.status:null,i=$&&$>=500?"We could not verify your reset link because the service is unavailable. Please try again shortly.":typeof E?.message=="string"&&E.message.trim()?E.message:"Unable to reset your password. Please request a new link.";Kr(i),console.warn("[Auth] Password reset finalize failed",{status:$,error:E})}finally{xr(!1)}},Ks=y.useCallback(()=>{console.debug("[Auth] Logout"),ds.logout(),n(null),I(null),Y(!1),se(!1),d(!1),M(!1),ee(!1),js(null),_s([]),fo(null),uc(null),yu(null),Ma({updatingReferral:null,error:null})},[]);y.useEffect(()=>{if(typeof window>"u")return;const v=_=>{const C=_?.detail||{},E=typeof C?.reason=="string"?C.reason:"",$=typeof C?.authCode=="string"?C.authCode:"";(E==="another_tab_login"||E==="credentials_used_elsewhere"||$==="TOKEN_REVOKED")&&He.error("Another login with your credentials has forced your logout. If this wasn't you, reset your password."),Ks()};return window.addEventListener("peppro:force-logout",v),()=>{window.removeEventListener("peppro:force-logout",v)}},[Ks]),y.useEffect(()=>{if(typeof window>"u")return;if(!r?.id){Ia(!1);return}const v=1e4,_=3600*1e3,C=1440*60*1e3,E="peppro_session_started_at_v1";let $=Date.now();try{const b=window.sessionStorage.getItem(E),w=b?Number(b):NaN;Number.isFinite(w)&&w>0?$=w:window.sessionStorage.setItem(E,String($))}catch{}Fs.current=Date.now(),Bs.current=!1,wd.current=!1,Ia(!1);const i=()=>{Fs.current=Date.now(),Bs.current=!1,Ia(!1);const b=Date.now();if(!(b-tp.current<15e3)){tp.current=b;try{vr.pingPresence({kind:"interaction",isIdle:!1}).catch(()=>{})}catch{}}},o=()=>{if(Date.now()-$>=C){wd.current||(wd.current=!0,He.info("Session expired. Please sign in again."),Ks());return}const w=Date.now()-Fs.current;if(w>=_){Bs.current||(Bs.current=!0,Ks());return}const A=w>=v;if(cl.current!==A){if(cl.current=A,Ia(A),A)try{vr.pingPresence({kind:"heartbeat",isIdle:!0}).catch(()=>{})}catch{}return}Ia(A)},u=["mousemove","mousedown","keydown","scroll","touchstart","focus"];u.forEach(b=>window.addEventListener(b,i,{passive:!0}));const m=window.setInterval(o,1e3);return window.setTimeout(o,200),()=>{u.forEach(b=>window.removeEventListener(b,i)),window.clearInterval(m)}},[r?.id,Ks]),y.useEffect(()=>{if(typeof window>"u")return;if(!r?.id||X){ul.current=0,tp.current=0;return}let v=!1;const _=3e4,C=()=>{if(v||!ag()||!Di())return;const b=Date.now(),w=Math.max(1e4,Math.floor(_*.75));if(!(b-ul.current<w)){ul.current=b;try{vr.pingPresence({kind:"heartbeat",isIdle:cl.current}).catch(()=>{})}catch{}}};C();const E=Math.floor(Math.random()*1500),$=window.setInterval(C,_),i=window.setTimeout(C,1e3+E),o=window.setTimeout(C,2500+E),u=()=>{Di()&&C()},m=()=>C();return document.addEventListener("visibilitychange",u),window.addEventListener("online",m),window.addEventListener("focus",m),()=>{v=!0,window.clearInterval($),window.clearTimeout(i),window.clearTimeout(o),document.removeEventListener("visibilitychange",u),window.removeEventListener("online",m),window.removeEventListener("focus",m)}},[r?.id,X]),y.useEffect(()=>{if(typeof window>"u"||!r)return;let v=!1;const _=5e3,C=async()=>{if(!v&&!(!ag()||!Di()))try{!await ds.getCurrentUser()&&!v&&Ks()}catch{}},E=window.setInterval(()=>{C()},_);return window.setTimeout(()=>void C(),1500),()=>{v=!0,window.clearInterval(E)}},[r?.id,Ks]);const qy=(v,_)=>_?`${v}::${_}`:v,Uy=(v,_=1,C,E)=>{console.debug("[Cart] Add to cart requested",{productId:v,quantity:_,note:C,variantId:E});const $=xt.find(b=>b.id===v);if(!$)return;if(E==="__peppro_needs_variant__"&&(E=null),($.type??"").toLowerCase()==="variable"&&(!$.variants||$.variants.length===0)){console.debug("[Cart] Variant required, opening product details",{productId:v}),S($),j(!0),Ct($);return}const o=Math.max(1,Math.floor(_));let u=null;if($.variants?.length&&(u=E?$.variants.find(b=>b.id===E)??null:$.variants.find(b=>b.inStock)??$.variants[0]??null,!u)){console.warn("[Cart] Variant selection required, opening product details",{productId:v,variantId:E}),S($),j(!0),Ct($);return}const m=qy(v,u?.id??null);s(b=>b.find(A=>A.id===m)?b.map(A=>A.id===m?{...A,quantity:A.quantity+o,note:C??A.note}:A):[...b,{id:m,product:$,quantity:o,note:C,variant:u}]),console.debug("[Cart] Add to cart success",{productId:v,variantId:u?.id,quantity:o})},zy=v=>{if(!v?.lineItems||v.lineItems.length===0){console.debug("[Cart] Buy again ignored, no line items",{orderId:v?.id});return}(async()=>{const _=[],C=(E,$,i)=>{const o=qy(E.id,$?.id??null),u=_.find(m=>m.id===o);if(u){u.quantity+=i;return}_.push({id:o,product:E,quantity:i,variant:$??void 0})};for(const E of v.lineItems){const $=Math.max(1,Math.floor(E.quantity??1)),i=(E.sku??"").trim(),o=(E.name??"").trim(),u=o.toLowerCase();let m,b=null;const w=Number(E.productId??NaN),A=Number(E.variantId??NaN);if(Number.isFinite(w)&&(m=xt.find(L=>L.wooId===w)??xt.find(L=>L.id===`woo-${w}`),m&&(m=await Ct(m),Number.isFinite(A)&&m.variants?.length&&(b=m.variants.find(L=>L.wooId===A)??null),!b&&i&&m.variants?.length&&(b=m.variants.find(L=>(L.sku||"").trim()===i)??null))),!m&&i&&(m=xt.find(L=>(L.sku||"").trim()===i)),!m&&i)for(const L of xt){if(!L.variants?.length)continue;const F=L.variants.find(U=>(U.sku||"").trim()===i)??null;if(F){m=L,b=F;break}}if(!m&&u){let L=o,F=null;const U=o.match(/\s[-]\s/);if(U&&typeof U.index=="number"){const ae=U.index;L=o.slice(0,ae).trim(),F=o.slice(ae+U[0].length).trim()}const W=L.toLowerCase(),Q=F?F.toLowerCase():null;if(m=xt.find(ae=>ae.name.trim().toLowerCase()===u),!m&&W&&(m=xt.find(ae=>ae.name.trim().toLowerCase()===W)),!m&&W&&(m=xt.find(ae=>ae.name.trim().toLowerCase().startsWith(W))),m&&(m.type??"").toLowerCase()==="variable"&&(m=await Ct(m)),m&&Q&&m.variants?.length){const ae=m.variants,ue=Q;b=ae.find(he=>he.label.trim().toLowerCase()===ue)??ae.find(he=>he.label.trim().toLowerCase().includes(ue))??ae.find(he=>(he.attributes??[]).some(ve=>ve.value.trim().toLowerCase()===ue||ve.value.trim().toLowerCase().includes(ue)))??null}}if(!m){console.debug("[Cart] Buy again line skipped, no product match",{sku:i,name:E.name});continue}(m.type??"").toLowerCase()==="variable"&&(m=await Ct(m)),!b&&m.variants?.length&&(b=m.variants.find(L=>L.inStock)??m.variants[0]??null),C(m,b,$)}if(_.length===0){console.debug("[Cart] Buy again produced empty cart",{orderId:v.id});return}console.debug("[Cart] Buy again cart rebuilt",{orderId:v.id,items:_.length}),s(_),d(!0),He.info("Order loaded into a new cart.")})()},Wy=async()=>{_h(),wc(null);const v=Date.now();try{const _=await QN.getPeptideHeadlines(),C=Array.isArray(_?.items)?_.items.map(E=>({title:typeof E?.title=="string"?E.title.trim():"",url:typeof E?.url=="string"?E.url.trim():"",summary:typeof E?.summary=="string"&&E.summary.trim()?E.summary.trim():void 0,image:typeof E?.imageUrl=="string"&&E.imageUrl.trim()?E.imageUrl.trim():void 0,date:typeof E?.date=="string"&&E.date.trim()?E.date.trim():void 0})).filter(E=>E.title&&E.url):[];if(C.length===0){xc([]),wc("No headlines available right now."),Us(new Date);return}xc(C.slice(0,6)),Us(new Date)}catch(_){console.warn("[News] Failed to refresh peptide headlines",_),wc("Unable to load peptide news at the moment."),xc([])}finally{Ly(v)}},Wb=v=>{h(v)},Ii=async v=>{if(console.debug("[Checkout] Attempt",{items:a.length,shipping:v}),a.length===0)return;const _=a.map(({id:o,product:u,quantity:m,note:b,variant:w},A)=>{const L=u.wooId??u.id,F=w?.wooId??w?.id??null,U=(w?.sku||u.sku||"").trim()||null,W=qN(u,w??null,m,{pricingMode:f}),Q=w?.weightOz??u.weightOz??null,ae=w?.dimensions||u.dimensions||void 0;return{cartItemId:o,productId:L,variantId:F,sku:U,name:w?`${u.name}  ${w.label}`:u.name,price:W,quantity:m,note:b??null,position:A+1,weightOz:Q,lengthIn:ae?.lengthIn??null,widthIn:ae?.widthIn??null,heightIn:ae?.heightIn??null}}),C=_.reduce((o,u)=>o+u.price*u.quantity,0),E=typeof v?.taxTotal=="number"&&v.taxTotal>=0?v.taxTotal:0,$=typeof v?.shippingTotal=="number"&&v.shippingTotal>=0?v.shippingTotal:0,i=Math.round((C+$+E+Number.EPSILON)*100)/100;try{const o=await Ba.create(_,i,void 0,{address:v?.shippingAddress,estimate:v?.shippingRate,shippingTotal:v?.shippingTotal??null},v?.expectedShipmentWindow??null,{physicianCertification:v?.physicianCertificationAccepted===!0},E,v?.paymentMethod??null,f);try{const u=o?.order,m=u?.id?String(u.id).trim():null,b=o?.integrations?.wooCommerce?.response||null,w=b?.id||u?.wooOrderId||u?.woo_order_id||null,A=b?.number||b?.id||u?.wooOrderNumber||u?.woo_order_number||u?.wooOrderId||u?.woo_order_id||null,L=w?String(w).trim():null,F=A?String(A).trim():null;oo.current={pepproOrderId:m,wooOrderId:L,wooOrderNumber:F,createdAtMs:Date.now()},u&&typeof u=="object"&&(!u.wooOrderId&&L&&(u.wooOrderId=L),!u.wooOrderNumber&&F&&(u.wooOrderNumber=F))}catch{oo.current={pepproOrderId:null,wooOrderId:null,wooOrderNumber:null,createdAtMs:Date.now()}}try{const u=o?.order,m=oo.current,b=m?.wooOrderId||null,w=m?.wooOrderNumber||null,A=u?.createdAt||u?.created_at||new Date().toISOString(),F=(Array.isArray(u?.items)?u.items:[]).map((W,Q)=>{const ae=typeof W?.quantity=="number"?W.quantity:Number(W?.quantity)||0,ue=typeof W?.total=="number"?W.total:Number(W?.total),he=typeof W?.price=="number"?W.price:Number(W?.price),ve=Number.isFinite(ue)&&ue>0?ue:null,Ge=Number.isFinite(he)&&he>0?he:null;let V=Ge??(ve&&ae>0?ve/ae:null),H=ve??(typeof V=="number"&&Number.isFinite(V)?V*ae:null);return ae>1&&typeof ve=="number"&&typeof Ge=="number"&&Math.abs(ve-Ge)<.01&&(V=Ge,H=Ge*ae),{id:String(W?.id||`${u?.id||"order"}-${Q}`),name:W?.name??null,quantity:ae,total:typeof H=="number"?H:null,subtotal:typeof H=="number"?H:null,price:typeof V=="number"?V:null,sku:W?.sku??W?.variantSku??null,productId:W?.productId??null,variantId:W?.variantId??null,image:null}});if(!b&&!w)throw Vi.current=null,new Error("checkout_woo_id_missing");const U={id:String(b||w),number:w?String(w):null,status:String(u?.status||"on-hold"),currency:"usd",total:typeof u?.grandTotal=="number"?u.grandTotal:Number(u?.grandTotal)||Number(u?.total)||null,createdAt:typeof A=="string"?A:new Date().toISOString(),updatedAt:null,source:"peppro",lineItems:F,integrations:u?.integrations??null,paymentMethod:null,paymentDetails:null,integrationDetails:u?.integrationDetails??null,shippingAddress:u?.shippingAddress??null,billingAddress:u?.billingAddress??null,shippingEstimate:u?.shippingEstimate??null,shippingTotal:typeof u?.shippingTotal=="number"?u.shippingTotal:Number(u?.shippingTotal)||null,taxTotal:typeof u?.taxTotal=="number"?u.taxTotal:Number(u?.taxTotal)||null,physicianCertified:!!(u?.physicianCertificationAccepted??u?.physicianCertified??!1),wooOrderNumber:w?String(w):null,wooOrderId:b?String(b):null,expectedShipmentWindow:u?.expectedShipmentWindow??null};Vi.current=U,so(W=>{const Q=U.number?String(U.number).trim():"",ae=String(U.id||"").trim();return W.some(he=>{const ve=he.number?String(he.number).trim():"",Ge=he.id?String(he.id).trim():"";return Q&&ve&&ve===Q||ae&&Ge&&Ge===ae})?W:[U,...W]})}catch{}return await wn().catch(()=>{}),o}catch(o){console.error("[Checkout] Failed",{error:o});const u=o?.message==="Request failed"?"Unable to complete purchase. Please try again.":o?.message??"Unable to complete purchase. Please try again.";throw new Error(u)}},$h=()=>{console.debug("[Checkout] Require login triggered"),d(!1),k(v=>v+1),M(!0),I("checkout"),kc("login"),QueueMicrotask(()=>window.scrollTo({top:0,behavior:"smooth"}))},Hb=()=>{console.debug("[Intro] Advance from welcome",{shouldReopenCheckout:R}),Y(!1),R&&(d(!0),M(!1))},vl=(v,_)=>{console.debug("[Cart] Update quantity",{cartItemId:v,quantity:_});const C=Math.max(1,Math.floor(_||1));s(E=>E.map($=>$.id===v?{...$,quantity:C}:$))},Op=v=>{console.debug("[Cart] Remove item",{cartItemId:v}),s(_=>_.filter(C=>C.id!==v))},bl=async(v,_=0)=>{try{await ea.submitDoctorReferral(v)}catch(C){const E=typeof C?.status=="number"?C.status:null,$=typeof C?.message=="string"?C.message:"",i=$.toUpperCase(),o=$==="Failed to fetch"||i.includes("NETWORKERROR")||i.includes("NETWORK_ERROR"),u=E!==null&&E>=500;if(_===0&&(o||u)){console.warn("[Referral] Transient submission failure detected, warming API then retrying",{statusCode:E,message:$});try{await Promise.race([ef(),new Promise(m=>setTimeout(m,1e3))])}catch{}await new Promise(m=>setTimeout(m,350)),await bl(v,_+1);return}throw C}},Tp=async v=>{if(v.preventDefault(),!(!r||!Js(r.role))){if(!Jr.contactName.trim()){uc({type:"error",message:"Please provide the doctors name before submitting."});return}try{ah(!0),uc(null),await bl({contactName:Jr.contactName.trim(),contactEmail:Jr.contactEmail.trim()||void 0,contactPhone:Jr.contactPhone.trim()||void 0,notes:As(Jr.notes)||void 0}),uc({type:"success",message:"Referral sent to your representative."}),tr({contactName:"",contactEmail:"",contactPhone:"",notes:""}),Ch(""),await En("doctor-referral-submit",{showLoading:!0})}catch(_){console.warn("[Referral] Submission failed",_),uc({type:"error",message:"Unable to submit referral. Please try again."})}finally{ah(!1)}}},Gd=async(v,_)=>{if(!(!r||!Ft(r.role)&&!Je(r.role)))try{Ma(E=>({...E,updatingReferral:v,error:null}));const C=await ea.updateReferral(v,{status:_});fo(E=>{if(!E)return E;const $=C?.referral,i=C?.statuses??E.statuses;if(!$)return{...E,statuses:i};const o=E.referrals.map(u=>u.id===$.id?$:u);return{...E,referrals:o,statuses:i}}),await En("referral-status-update",{showLoading:!0})}catch(C){console.warn("[Referral] Update referral status failed",C),Ma(E=>({...E,error:typeof C?.message=="string"&&C.message?C.message:"Unable to update referral status. Please try again."}))}finally{Ma(C=>({...C,updatingReferral:null}))}},Rp=y.useCallback(async v=>{if(window.confirm("Delete this manual prospect? This will remove them permanently."))try{Ma(_=>({..._,updatingReferral:v,error:null})),await ea.deleteManualProspect(v),He.success("Manual prospect deleted."),await En("manual-prospect-delete",{showLoading:!1})}catch(_){console.error("[Referral] Manual prospect delete failed",_);const C=typeof _?.message=="string"&&_.message?_.message:"Unable to delete manual prospect right now.";Ma(E=>({...E,error:C})),He.error(C)}finally{Ma(_=>({..._,updatingReferral:null}))}},[En]),Vb=()=>{if(!r||!Js(r.role))return null;const v=Sr?.totalCredits??0,_=Sr?.availableCredits??Number(r.referralCredits??0);Sr?.firstOrderBonuses;const C=r.totalReferrals??Qi.length??0,E=Sr?.ledger??[],i=(()=>{if(!E.length)return[];const m=E.filter(A=>(A.direction||"credit").toLowerCase()==="credit"&&Number(A.amount)>0).map(A=>({entry:A,remaining:Number(A.amount)||0,isUsed:!1}));if(!m.length)return[];const b=m.slice().sort((A,L)=>new Date(A.entry.issuedAt).getTime()-new Date(L.entry.issuedAt).getTime());return E.filter(A=>(A.direction||"").toLowerCase()==="debit"&&Number(A.amount)>0).sort((A,L)=>new Date(A.issuedAt).getTime()-new Date(L.issuedAt).getTime()).forEach(A=>{let L=Math.abs(Number(A.amount)||0);if(!(L<=0))for(const F of b){if(F.remaining<=0)continue;const U=Math.min(F.remaining,L);if(F.remaining-=U,L-=U,F.remaining<=1e-9&&(F.isUsed=!0),L<=1e-9)break}}),m.map(({entry:A,isUsed:L})=>({...A,isUsed:L}))})().slice().sort((m,b)=>new Date(b.issuedAt).getTime()-new Date(m.issuedAt).getTime()).slice(0,5),o=m=>{const b="group glass-card referral-pill squircle-xl flex w-full items-center justify-between gap-4 pr-5 py-4 text-left transition-all",w=m?`${b} shadow-md`:`${b} shadow-[0_18px_48px_-28px_rgba(95,179,249,0.8)] hover:shadow-[0_20px_52px_-24px_rgba(95,179,249,0.85)]`;return l.jsxs("button",{type:"button",className:w,onClick:()=>Cp(A=>!A),"aria-expanded":m,"aria-label":m?"Collapse Referral Rewards Hub":"Expand Referral Rewards Hub",style:{borderWidth:"2px",borderColor:"var(--brand-glass-border-2)",paddingLeft:"1rem",borderRadius:"var(--squircle-xl)"},children:[l.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0 pl-4 ml-2",children:[l.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 text-slate-600 transition-all duration-300 group-hover:bg-slate-200 ${m?"shadow-inner":""}`,children:l.jsx(kv,{className:"h-4 w-4",style:{transform:m?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)",transformOrigin:"center"}})}),l.jsxs("div",{className:"hidden sm:block",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Referral Rewards Hub"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Invite doctors & track credited referrals"})]})]}),l.jsxs("div",{className:"flex flex-1 items-center justify-end gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),l.jsx("p",{className:"text-lg font-medium text-slate-700",children:"Refer your colleagues"})]})]})},u=()=>l.jsx("div",{className:"overflow-hidden transition-all duration-500 ease-in-out",style:{maxHeight:pl?"5000px":"0",opacity:pl?1:0},children:l.jsxs("div",{className:"px-4 sm:px-8 lg:px-16 pb-8 space-y-8 squircle-xl",style:{padding:"1rem 1rem 1rem"},children:[sh&&l.jsx("div",{className:"px-4 py-3 text-sm text-red-700",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l.jsx("span",{children:sh})]})}),l.jsx("div",{className:"glass squircle-lg p-4 sm:p-6 lg:p-8 mx-0 sm:mx-5 shadow-sm space-y-6",children:l.jsxs("form",{className:"glass-strong squircle-md p-3 sm:p-5 space-y-3 w-full",onSubmit:Tp,children:[l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",htmlFor:"referral-contact-name",children:"Colleague Name *"}),l.jsx("input",{id:"referral-contact-name",type:"text",required:!0,value:Jr.contactName,onChange:m=>tr(b=>({...b,contactName:m.target.value})),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",htmlFor:"referral-contact-email",children:"Email"}),l.jsx("input",{id:"referral-contact-email",type:"email",value:Jr.contactEmail,onChange:m=>tr(b=>({...b,contactEmail:m.target.value})),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",htmlFor:"referral-contact-phone",children:"Phone"}),l.jsx("input",{id:"referral-contact-phone",type:"tel",value:Jr.contactPhone,onChange:m=>tr(b=>({...b,contactPhone:m.target.value})),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",htmlFor:"referral-notes",children:"Notes"}),l.jsx("textarea",{id:"referral-notes",value:Jr.notes,onChange:m=>tr(b=>({...b,notes:m.target.value})),className:"w-full min-h-[70px] rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),l.jsx("div",{className:"pt-1 flex w-full justify-end",children:l.jsxs("div",{className:"inline-flex flex-col items-start gap-3 text-left sm:flex-nowrap sm:flex-row sm:items-center sm:justify-end sm:text-right",children:[l.jsx("p",{className:"text-sm text-slate-600 max-w-[28ch] sm:max-w-[26ch]",children:"Your representative will credit you $50 each time your new referee has completed their first checkout."}),l.jsx(Ue,{type:"submit",disabled:Ci,className:"glass-brand squircle-sm transition-all duration-300 hover:scale-105 hover:-translate-y-0.5 active:translate-y-0",children:Ci?"Submitting":"Submit Referral"}),Kf&&l.jsx("span",{className:`text-sm ${Kf.type==="success"?"text-emerald-600":"text-red-600"}`,children:Kf.message})]})})]})}),l.jsxs("div",{className:"mt-8 grid gap-6 md:grid-cols-2 w-full max-w-none px-1 sm:px-5",children:[l.jsxs("div",{className:"glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] p-8 shadow-xl space-y-6 w-full max-w-none",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center squircle-sm bg-emerald-100",children:l.jsx("svg",{className:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Your Referrals"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Total Referrals"}),l.jsx("p",{className:"text-lg font-bold text-emerald-600",children:C})]}),fc&&l.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[l.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading"]})]})]}),Qi.length===0?l.jsxs("div",{className:"text-center py-8 glass-strong squircle-md",children:[l.jsx("div",{className:"flex justify-center mb-3",children:l.jsx("div",{className:"flex h-12 w-12 items-center justify-center squircle-sm bg-slate-100",children:l.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})}),l.jsx("p",{className:"text-sm text-slate-600",children:"No referrals yet"}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Submit your first referral above to get started"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"referral-toolbar",children:[l.jsx("div",{className:"referral-toolbar__search",children:l.jsx("input",{type:"search",value:Ap,onChange:m=>Ch(m.target.value),placeholder:"Search by name or email","aria-label":"Search referrals",className:"referral-search-input"})}),l.jsxs(Ue,{type:"button",variant:"outline",size:"sm",onClick:hl,"aria-pressed":La==="desc",className:"referral-sort-toggle",children:[l.jsx(s6,{className:"h-4 w-4 mr-2"}),kp]})]}),l.jsx("div",{className:"referrals-table-scroll",children:l.jsx("div",{className:"referrals-table-container glass-card squircle-xl",children:Ph.length===0?l.jsxs("div",{className:"referrals-empty-state",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"No referrals match your search."}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Try adjusting your filters or search terms."})]}):l.jsxs("div",{className:"referrals-table",role:"table","aria-label":"Your referrals",children:[l.jsxs("div",{className:"referrals-table__header",role:"row",children:[l.jsx("span",{role:"columnheader",children:"Colleague"}),l.jsx("span",{role:"columnheader",children:"Submitted"}),l.jsx("span",{role:"columnheader",children:"Status"}),l.jsx("span",{role:"columnheader",children:"Actions"})]}),l.jsx("div",{className:"referrals-table__body",role:"rowgroup",children:Ph.map(m=>{const b=si.get(m.id),w=Jd(m.status??"pending"),A=b?"Credited":w,L=!b&&w==="Converted",F=Zn(m.status)==="pending";return l.jsxs("div",{className:"referrals-table__row",role:"row",children:[l.jsx("div",{className:"referrals-table__cell",role:"cell","data-label":"Colleague",children:l.jsxs("div",{className:"referral-contact",children:[l.jsx("span",{className:"referral-contact__name",children:m.referredContactName}),(m.referredContactEmail||m.referredContactPhone)&&l.jsx("span",{className:"referral-contact__meta",children:m.referredContactEmail||m.referredContactPhone})]})}),l.jsxs("div",{className:"referrals-table__cell referrals-table__cell--date",role:"cell","data-label":"Submitted",children:[l.jsx("span",{className:"referral-date",children:Gs(m.createdAt)}),l.jsxs("span",{className:"referral-date-updated",children:["Updated"," ",$n(m.updatedAt??m.createdAt)]})]}),l.jsx("div",{className:"referrals-table__cell",role:"cell","data-label":"Status",children:l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"referral-status-badge",children:A}),L&&l.jsx("span",{className:"text-xs text-amber-600 font-medium mt-1",children:"Awaiting credit"}),m.notes&&l.jsx("p",{className:"text-xs text-slate-500 mt-2 max-w-[220px]",children:m.notes})]})}),l.jsx("div",{className:"referrals-table__cell referrals-table__cell--actions",role:"cell","data-label":"Actions",children:F?l.jsx(Ue,{type:"button",variant:"outline",size:"sm",onClick:()=>By(m.id),disabled:Yf===m.id,children:Yf===m.id?"Deleting":"Delete"}):l.jsx("span",{className:"text-xs text-slate-500",children:"Cannot delete after the Pending status."})})]},m.id)})})]})})})]})]}),l.jsxs("div",{className:"glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] p-8 shadow-xl min-w-0 space-y-6 w-full max-w-none",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center squircle-sm bg-amber-100",children:l.jsx("svg",{className:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Your Credits"})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-4 text-right",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Total Credits"}),l.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:["$",v.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Available Credits"}),l.jsxs("p",{className:"text-lg font-bold text-[rgb(95,179,249)]",children:["$",_.toFixed(2)]})]}),i.length>0&&l.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-slate-100 px-2.5 py-1 text-xs font-medium text-slate-600",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),i.length," recent"]})]})]}),i.length===0?l.jsxs("div",{className:"text-center py-8 glass-strong squircle-md",children:[l.jsx("div",{className:"flex justify-center mb-3",children:l.jsx("div",{className:"flex h-12 w-12 items-center justify-center squircle-sm bg-slate-100",children:l.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})}),l.jsx("p",{className:"text-sm text-slate-600",children:"No credit activity yet"}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Credits appear after your referrals place their first order"})]}):l.jsx("ul",{className:"space-y-4",children:i.map(m=>{const b=m.metadata||{},w=typeof b.referralContactName=="string"?b.referralContactName:null,A=w?`Credited for ${w}`:m.description||"Credit applied",L=!!m.isUsed,F=L?"text-lg font-bold text-slate-500 line-through decoration-slate-400":"text-lg font-bold text-emerald-600",U=L?"text-sm text-slate-500 leading-relaxed":"text-sm text-slate-600 leading-relaxed";return l.jsx("li",{className:`group relative glass-strong squircle-md px-6 py-6 shadow-sm transition-all hover:shadow-md ${L?"bg-slate-50/90 text-slate-500":""}`,children:l.jsxs("div",{className:"relative flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-baseline gap-2 mb-1",children:l.jsxs("span",{className:F,children:["$",m.amount.toFixed(2)]})}),l.jsx("p",{className:U,children:A})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[L&&l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-widest text-slate-500",children:"Used"}),l.jsx("span",{className:"text-xs font-medium text-slate-500 whitespace-nowrap",children:Gs(m.issuedAt)})]})]})},m.id)})})]})]})]})});return l.jsx("section",{className:"grid gap-6 mb-16 mt-0",children:l.jsxs("div",{className:`glass-card squircle-xl referral-pill-wrapper transition-all duration-500 ${pl?"pb-8 shadow-[0_30px_80px_-65px_rgba(95,179,249,0.8)]":"shadow-[0_18px_48px_-28px_rgba(95,179,249,0.8)] hover:shadow-[0_20px_52px_-24px_rgba(95,179,249,0.85)]"}`,style:{borderRadius:"var(--squircle-xl)"},children:[o(pl),u()]})})},Fh=()=>{const v=g.trim(),C=[{key:"count",label:xl.length===1?"1 item":`${xl.length} items`}];v.length>0&&C.push({key:"search",label:`Search  ${v}`}),is&&C.push({key:"loading",label:"loading-icon"});const E=typeof vc=="number"&&Date.now()<vc;Md&&!E&&C.push({key:"error",label:"Store sync issue"}),!Md&&Np&&!is&&E&&C.push({key:"reconnecting",label:"Reconnecting"});const $=(is||xt.length===0&&!Sp||E)&&xl.length===0,i=Array.from({length:6});return l.jsxs("div",{className:"products-layout mt-24",children:[l.jsx("div",{ref:ft,className:"filter-sidebar-container lg:min-w-[18rem] lg:max-w-[24rem] xl:min-w-[20rem] xl:max-w-[26rem] lg:pl-4 xl:pl-6",children:Rc.length>0?l.jsx(Sq,{categories:Rc,types:[],filters:Sn,onFiltersChange:Zo,productCounts:Bh,typeCounts:{}}):l.jsx("div",{className:'glass-card squircle-lg px-10 py-8 lg:px-16 lg:py-10 text-sm text-slate-700 text-center font-["Lexend",_var(--font-sans)]',"aria-live":"polite",children:l.jsxs("p",{className:"mx-auto max-w-sm leading-relaxed",children:[l.jsx("span",{className:"text-base text-slate-900 block mb-1",children:"Fetching Products"}),l.jsx("span",{className:"text-sm text-slate-800 block",children:"No better time to take a few conscious breaths..."})]})})}),l.jsxs("div",{className:"w-full min-w-0 flex-1",children:[l.jsxs("div",{className:"flex flex-col gap-3 mb-6 lg:flex-row lg:flex-nowrap lg:items-center",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 flex-1 min-w-0 order-2 lg:order-1",children:[l.jsx("h2",{className:"mr-1",children:"Products"}),l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:C.map(o=>{const u=o.label==="loading-icon";return l.jsx("span",{className:`filter-chip glass-card${o.tone?` filter-chip--${o.tone}`:""}`,children:u?l.jsx(Fu,{className:"h-3 w-3.1 animate-spin text-[rgb(30,41,59)]","aria-hidden":"true"}):l.jsx("span",{className:"whitespace-nowrap",children:o.label})},o.key)})})]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 ml-auto min-w-[min(100%,220px)] justify-start order-1 lg:order-2 lg:justify-end",children:Iu>0&&l.jsxs(Ue,{variant:"ghost",onClick:()=>d(!0),ref:Ub,className:"squircle-sm glass-brand shadow-lg shadow-[rgba(95,179,249,0.4)] transition-all duration-300 hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 px-5 py-2 min-w-[8.5rem] justify-center w-full sm:w-auto",children:[l.jsx(sm,{className:"w-4 h-4 mr-2"}),"Checkout (",Iu,")"]})})]}),$?l.jsx("div",{className:"grid gap-6 w-full px-4 sm:px-6 lg:px-0 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3",children:i.map((o,u)=>l.jsx(X$,{},`catalog-skeleton-${u}`))}):xl.length>0?l.jsx("div",{className:"grid gap-6 w-full px-4 sm:px-6 lg:px-0 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3",children:xl.map(o=>l.jsx(Xoe,{product:o,onEnsureVariants:Ct,onAddToCart:(u,m,b)=>Uy(u,b,void 0,m)},o.id))}):l.jsx("div",{className:"catalog-loading-state py-12",children:l.jsxs("div",{className:"glass-card squircle-lg p-8 max-w-md text-center",children:[l.jsx("h3",{className:"mb-2",children:is||E||xt.length===0&&!Sp?"Fetching products":"No products found"}),l.jsx("p",{className:"text-gray-600",children:is||E||xt.length===0&&!Sp?E?"Reconnecting to store":"Please wait while we load the catalog.":"Try adjusting your filters or search terms."})]})})]})]})},Gb=()=>{if(!r||!Ft(r.role)&&!Do(r.role)&&!Je(r.role))return null;const v=Nn;v.length;const _=new Set(["pending","contacted","nuture"]);v.filter(o=>_.has((o.status||"").toLowerCase())).length,v.filter(o=>(o.status||"").toLowerCase()==="converted").length;const C=Hd.some(o=>o.count>0),E=(()=>{const o=ni?Gs(ni):null,u=fa?Gs(fa):null;return o&&u&&o!==""&&u!==""?`${o} to ${u}`:"All time"})(),$=o=>{nh(o),o?.from&&o?.to&&(ka(Jp(o.from)),il(Jp(o.to)))},i=qf||Vf||Ln;return l.jsxs("section",{className:"glass-card squircle-xl p-4 sm:p-6 shadow-[0_30px_80px_-55px_rgba(95,179,249,0.6)] w-full sales-rep-dashboard",children:[l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:Je(r?.role)?"Admin Dashboard":Do(r?.role)?"Sales Lead Dashboard":"Sales Rep Dashboard"}),l.jsx("p",{className:"text-sm text-slate-600",children:Je(r?.role)?"Monitor PepPro business activities, sales reps, and keep track of your sales.":"Develop your leads and sales."})]}),Je(r?.role)&&l.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:flex-wrap sm:items-center",children:[l.jsxs("a",{href:"https://shop.peppro.net/wp-admin/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex w-full min-w-0 items-center justify-center gap-2 rounded-md border border-slate-200 bg-white/80 px-3 py-2 text-sm font-semibold text-slate-900 transition-colors hover:border-[rgba(95,179,249,0.65)] hover:bg-white sm:w-auto",title:"Open Woocommerce dashboard",children:[l.jsx("img",{src:"/logos/woocommerce.svg",alt:"","aria-hidden":"true",className:"h-5 w-5",loading:"lazy",decoding:"async"}),l.jsx("span",{children:"Woocommerce dashboard"})]}),l.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex w-full min-w-0 items-center justify-center gap-2 rounded-md border border-slate-200 bg-white/80 px-3 py-2 text-sm font-semibold text-slate-900 transition-colors hover:border-[rgba(95,179,249,0.65)] hover:bg-white sm:w-auto",title:"Open ShipStation Dashboard",children:[l.jsx("img",{src:"/logos/shipstation.svg",alt:"","aria-hidden":"true",className:"h-5 w-5",loading:"lazy",decoding:"async"}),l.jsx("span",{children:"ShipStation Dashboard"})]})]})]}),(Ft(r?.role)||Do(r?.role))&&l.jsx("div",{className:"glass-card squircle-xl p-4 sm:p-6 border border-slate-200/70",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Live clients"}),l.jsx("p",{className:"text-sm text-slate-600",children:Do(r?.role)?"All doctors and sales reps (online, idle, and offline).":"Your doctors (online, idle, and offline)."})]}),np&&l.jsx("div",{className:"px-4 py-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md",children:np}),rp?l.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Loading live clients"}):(()=>{const o=yn.trim().toLowerCase(),u=(Sd||[]).filter(A=>{const L=A?.isSimulated===!0,F=String(A?.id||"");if(L||F.startsWith("pseudo-live-"))return!1;if(Do(r?.role)&&qs!=="all"){const W=String(A?.role||"").toLowerCase().trim();if(qs==="sales_rep"){if(!["sales_rep","salesrep","rep","sales_lead","saleslead","sales-lead"].includes(W))return!1}else if(qs==="doctor"){if(W!=="doctor")return!1}else if(qs==="test_doctor"){if(W!=="test_doctor")return!1}else if(W!==qs)return!1}return!_r&&!A?.isOnline?!1:o?[A?.name,A?.email,A?.id].filter(Boolean).join(" ").toLowerCase().includes(o):!0}),m=A=>{if(!A)return 0;const L=!!A?.isOnline,F=!!A?.isIdle;if(L&&!F)return Date.now();const U=A?.lastInteractionAt||A?.lastSeenAt||A?.lastActivityAt||A?.lastActiveAt||A?.lastLoginAt||null;if(!U)return 0;const W=new Date(U).getTime();return Number.isFinite(W)?W:0},b=[...u].sort((A,L)=>{const F=m(A),U=m(L);if(F!==U)return U-F;const W=String(A?.name||A?.email||A?.id||"").toLowerCase(),Q=String(L?.name||L?.email||L?.id||"").toLowerCase();return W.localeCompare(Q)}),w=b.filter(A=>!!A?.isOnline).length;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 px-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"brand-checkbox",checked:_r,onChange:A=>gn(A.target.checked)}),"Show offline"]}),l.jsxs("span",{className:"text-xs text-slate-500",children:[w," online"]}),Do(r?.role)&&l.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-600",children:[l.jsx("span",{className:"uppercase tracking-wide text-[11px] text-slate-500",children:"Type"}),l.jsxs("select",{value:qs,onChange:A=>jd(A.target.value),className:"rounded-md border border-slate-200/80 bg-white/95 px-2 py-1 text-xs font-medium text-slate-700 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"sales_rep",children:"Sales Rep"}),l.jsx("option",{value:"doctor",children:"Doctors"}),l.jsx("option",{value:"test_doctor",children:"Test doctors"})]})]})]}),l.jsx("input",{value:yn,onChange:A=>ap(A.target.value),onKeyDown:A=>{A.key==="Enter"&&A.preventDefault()},placeholder:Do(r?.role)?"Search users":"Search clients",className:"w-full sm:w-[260px] rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]"})]}),l.jsx("div",{className:"sales-rep-table-wrapper live-users-scroll",children:l.jsx("div",{className:"flex w-full min-w-[900px] flex-col gap-2",children:b.length===0?l.jsx("div",{className:"p-6 text-sm text-slate-500",children:Do(r?.role)?"No users found.":"No clients found."}):b.map(A=>{const L=A.profileImageUrl||null,F=A.name||A.email||"Doctor",W=(()=>{const Oe=A?.lastInteractionAt||A?.lastSeenAt||A?.lastActivityAt||A?.lastActiveAt||A?.lastLoginAt||null;if(!Oe)return null;const ce=new Date(Oe).getTime();return Number.isFinite(ce)?ce:null})(),Q=W!=null?Math.max(0,(Date.now()-W)/6e4):null,ae=2,ue=!!A.isOnline,he=!!A.isIdle,ve=ue,Ge=ve&&(he||Q!=null&&Q>=ae),V=String(A?.role||"").toLowerCase().trim(),H=V==="admin"?{label:"Admin",style:{backgroundColor:"rgb(61,43,233)",color:"#ffffff"}}:V==="sales_rep"||V==="salesrep"||V==="rep"?{label:"Sales Rep",style:{backgroundColor:"rgb(129,221,228)",color:"#ffffff"}}:V==="sales_lead"||V==="saleslead"||V==="sales-lead"?{label:"Sales Lead",style:{backgroundColor:"rgb(2,132,199)",color:"#ffffff"}}:V==="doctor"?{label:"Doctor",style:{backgroundColor:"rgb(95,179,249)",color:"#ffffff"}}:V==="test_doctor"?{label:"Test Doctor",style:{backgroundColor:"rgb(95,179,249)",color:"#ffffff"}}:null,re=Ge?Iy(A):null,ge=Oe=>{const ce=ph(Oe);return ce==="a few moments ago"?"a few moments":ce.replace(/\s+ago$/,"")},Ne=A?.lastSeenAt||A?.lastInteractionAt||A?.lastLoginAt||null,Pe=ve?Ge?`Idle${re?` (${re})`:""} - ${Cd(A.lastLoginAt)}`:Cd(A.lastLoginAt):Ne?`Offline for ${ge(Ne)}`:"Offline";return l.jsx("div",{className:"flex w-full items-center gap-3 rounded-lg border border-slate-200/70 bg-white/70 px-3 py-2",children:l.jsx("button",{type:"button",onClick:()=>nc(A),"aria-label":`Open ${F} profile`,className:"min-w-0 flex-1",style:{background:"transparent",border:"none",padding:0},children:l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("div",{className:"rounded-full shrink-0",style:{width:41.4,height:41.4,minWidth:41.4,boxShadow:ve?Ge?"0 0 0 1px rgba(255,255,255,1), 0 0 0 4px rgba(148,163,184,1)":"0 0 0 1px rgba(255,255,255,1), 0 0 0 4px rgba(95,179,249,1)":void 0},children:l.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm w-full h-full transition hover:shadow-md hover:border-slate-300",children:L?l.jsx("img",{src:L,alt:F,className:"h-full w-full object-cover",loading:"lazy",decoding:"async"}):l.jsx("span",{className:"text-[11px] font-semibold text-slate-600",children:ig(F)})})}),l.jsx("div",{className:"min-w-0 flex-1 overflow-hidden",children:l.jsxs("div",{className:"flex flex-col items-start gap-0.5 text-left",children:[H&&l.jsx("span",{className:"inline-flex items-center squircle-xs px-2 py-[2px] text-sm font-semibold shrink-0 self-start whitespace-nowrap",style:H.style,children:H.label}),l.jsx("span",{className:"text-sm font-semibold text-slate-800 whitespace-nowrap",children:F}),l.jsx("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:A.email||""}),l.jsx("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:Pe})]})})]})})},A.id)})})})]})})()]})}),_u.error&&l.jsx("p",{className:"rounded-md border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700",children:_u.error}),Je(r?.role)&&l.jsxs("div",{className:"glass-card squircle-xl p-4 sm:p-6 border border-slate-200/70",children:[l.jsxs("div",{className:"mb-6 rounded-xl border border-slate-200/70 bg-white/70 p-4",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Server Health"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Quick usage snapshot (load, memory, disk)."})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsxs(Ue,{type:"button",variant:"outline",onClick:()=>void ep({force:!0}),disabled:_o,className:"gap-2",title:"Refresh server health",children:[l.jsx(Fu,{className:`h-4 w-4 ${_o?"animate-spin":""}`}),"Refresh"]})})]}),oh&&l.jsx("div",{className:"mt-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md px-4 py-2",children:oh}),l.jsx("div",{className:"sales-rep-table-wrapper",children:l.jsx("div",{className:"flex w-max flex-nowrap gap-2 text-xs sm:w-full sm:flex-wrap",children:(()=>{const o=Ai?.usage||null,u=o?.cpu||null,m=o?.memory||null,b=o?.disk||null,w=Ai?.cgroup?.memory||null,A=Ai?.uptime||null,L=Ai?.queue||null,F=typeof u?.usagePercent=="number"&&Number.isFinite(u.usagePercent)?`CPU usage: ${u.usagePercent}%`:null,U=u?.loadPercent!==null&&u?.loadPercent!==void 0?`CPU load: ${u.loadPercent}%`:u?.loadAvg?`Load avg: ${u.loadAvg["1m"]??""}`:"CPU load: ",W=m?.usedPercent!==null&&m?.usedPercent!==void 0?`Memory: ${m.usedPercent}%`:typeof m?.availableMb=="number"&&typeof m?.totalMb=="number"?`Memory: ${(100-m.availableMb/m.totalMb*100).toFixed(0)}%`:"Memory: ",Q=b?.usedPercent!==null&&b?.usedPercent!==void 0?`Disk: ${b.usedPercent}%`:"Disk: ",ae=typeof w?.usedPercent=="number"&&Number.isFinite(w.usedPercent)?`CGroup mem: ${w.usedPercent}%`:typeof w?.usageMb=="number"&&Number.isFinite(w.usageMb)&&typeof w?.limitMb=="number"&&Number.isFinite(w.limitMb)&&w.limitMb>0?`CGroup mem: ${w.usageMb.toFixed(0)}/${w.limitMb.toFixed(0)} MB`:null,ue=(()=>{const Pe=o?.process?.maxRssMb??o?.process?.rssMb??null;return typeof Pe=="number"&&Number.isFinite(Pe)?`App RSS: ${Pe.toFixed(0)} MB`:"App RSS: "})(),he=(()=>{const Pe=Ai?.mysql?.enabled;return typeof Pe=="boolean"?Pe?"MySQL: enabled":"MySQL: disabled":null})(),ve=(()=>{const Pe=L?.length;return typeof Pe=="number"&&Number.isFinite(Pe)?`Queue: ${Pe}`:null})(),Ge=(()=>{const Pe=A?.serviceSeconds;if(typeof Pe=="number"&&Number.isFinite(Pe)){const Oe=Math.floor(Pe/60);if(Oe<60)return`Backend uptime: ${Oe}m`;const ce=Math.floor(Oe/60),We=Oe%60;if(ce<24)return`Backend uptime: ${ce}h ${We}m`;const Ce=Math.floor(ce/24),ut=ce%24;return`Backend uptime: ${Ce}d ${ut}h`}return null})(),V=Ai?.build?`Build: ${Ai.build}`:null,H=Ai?.timestamp?`Updated: ${new Date(Ai.timestamp).toLocaleTimeString()}`:null,re=(()=>{const Pe=Ai?.workers,Oe=Pe?.detected,ce=Pe?.configured;return typeof Oe=="number"&&Oe>0?`Backend workers: ${Oe}${ce?` (target ${ce})`:""}`:typeof ce=="number"&&ce>0?`Backend workers: target ${ce}`:null})(),ge=(()=>{const Pe=Ai?.workers?.gunicorn;if(!Pe)return null;const Oe=[];return typeof Pe.workers=="number"&&Oe.push(`${Pe.workers}w`),typeof Pe.threads=="number"&&Oe.push(`${Pe.threads}t`),typeof Pe.timeoutSeconds=="number"&&Oe.push(`timeout ${Pe.timeoutSeconds}s`),Oe.length?`Gunicorn: ${Oe.join(" ")}`:null})();return[F,U,W,Q,ae,ue,re,ge,ve,he,Ge,V,H].filter(Pe=>typeof Pe=="string"&&Pe.trim().length>0).map(Pe=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-slate-700",children:Pe},Pe))})()})})]}),!xu&&l.jsx("div",{className:"mb-6 rounded-xl border border-slate-200/70 bg-white/70 p-4",children:l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Certificates of Analysis"}),l.jsx("p",{className:"text-sm text-slate-600",children:op?"Checking certificates":Po?"Unable to load certificate status.":"All products have a certificate. (You can still view/delete/upload replacements.)"})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Ue,{type:"button",variant:"outline",onClick:()=>cp(!0),className:"gap-2",children:"Show certificate uploads"})})]})}),xu&&l.jsxs("div",{className:"mb-6 rounded-xl border border-slate-200/70 bg-white/70 p-4",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Certificates of Analysis"}),l.jsx("p",{className:"text-sm text-slate-600",children:Po?"Unable to load missing certificate count.":fl.length>0?`${fl.length} product${fl.length===1?"":"s"} missing a certificate.`:"All products currently have a certificate."})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsxs(Ue,{type:"button",variant:"outline",onClick:()=>{Ao({force:!0}),Oi({force:!0})},disabled:op||Ed,className:"gap-2",title:"Refresh certificates",children:[l.jsx(Fu,{className:`h-4 w-4 ${op||Ed?"animate-spin":""}`}),"Refresh"]})})]}),(Po||mh)&&l.jsx("div",{className:"mt-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md px-4 py-2",children:mh||Po}),Ed&&Pd.length===0&&l.jsx("div",{className:"mt-3 px-4 py-3 text-sm text-slate-500",children:"Loading products"}),(Pd.length>0||fl.length>0)&&l.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-[1fr_auto_auto] md:items-end",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Product"}),l.jsx("select",{value:ki,onChange:o=>{up(o.target.value),Su(null)},disabled:Ed,className:"w-full rounded-lg border border-slate-200 bg-white/80 px-3 py-2 text-sm text-slate-800 outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",children:(Pd.length>0?Pd:fl).map(o=>{const u=String(o.wooProductId),m=[o.name&&String(o.name).trim().length>0?String(o.name).trim():`Product ${u}`,o.sku?`SKU ${o.sku}`:null,o.hasCertificate?"Has certificate":"Missing"].filter(b=>typeof b=="string"&&b.trim().length>0);return l.jsx("option",{value:u,children:m.join("  ")},u)})})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("label",{className:"text-xs font-medium text-slate-600",children:"PNG certificate"}),l.jsx(Ue,{type:"button",variant:"ghost",size:"icon",onClick:()=>void Fb(),disabled:as||dp||gh||!yh?.exists,title:"Delete current certificate",className:"h-8 w-8",children:l.jsx(GN,{className:"h-4 w-4 text-slate-700"})})]}),l.jsx("div",{className:"text-xs text-slate-500",children:gh?"Current: Loading":fp?"Current: ":yh?.exists?`Current: ${yh.filename||"certificate-of-analysis.png"}`:"Current: None"}),l.jsx("input",{type:"file",accept:"image/png",onChange:o=>{const u=o.target.files?.[0]??null;Su(u)},disabled:dp,className:"w-full rounded-lg border border-slate-200 bg-white/80 px-3 py-2 text-sm text-slate-700 file:mr-4 file:rounded-md file:border-0 file:bg-slate-100 file:px-3 file:py-2 file:text-sm file:font-medium file:text-slate-700 hover:file:bg-slate-200"})]}),l.jsxs(Ue,{type:"button",onClick:()=>void My(),disabled:dp||!ki||!Od,className:"gap-2",children:[dp?l.jsx(of,{className:"h-4 w-4 animate-spin"}):l.jsx(aB,{className:"h-4 w-4"}),"Upload"]})]})]}),l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Settings"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Configure storefront availability."})]})}),l.jsxs("div",{className:"mb-4 overflow-hidden rounded-lg border border-slate-200/70 bg-white/70",children:[l.jsx("div",{className:"border-b border-slate-200/60 px-4 py-4 last:border-b-0",children:l.jsxs("label",{className:`flex items-start gap-3 ${Je(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[l.jsx("input",{type:"checkbox","aria-label":"Enable Shop for users",checked:pc,onChange:o=>fn(o.target.checked),className:"brand-checkbox mt-0.5",disabled:!Je(r.role)||Ra.shop}),l.jsxs("span",{className:"min-w-0",children:[l.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[l.jsx("span",{children:"Shop button for users"}),l.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",Ra.shop?"Saving":pc?"Enabled":"Disabled",")"]})]}),l.jsx("span",{className:"block text-xs text-slate-600",children:"Controls whether doctors see the Shop button."})]})]})}),l.jsx("div",{className:"border-b border-slate-200/60 px-4 py-4 last:border-b-0",children:l.jsxs("label",{className:`flex items-start gap-3 ${Je(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[l.jsx("input",{type:"checkbox","aria-label":"Enable The Peptide Forum card",checked:z,onChange:o=>co(o.target.checked),className:"brand-checkbox mt-0.5",disabled:!Je(r.role)||Ra.forum}),l.jsxs("span",{className:"min-w-0",children:[l.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[l.jsx("span",{children:"The Peptide Forum card"}),l.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",Ra.forum?"Saving":z?"Enabled":"Disabled",")"]})]}),l.jsx("span",{className:"block text-xs text-slate-600",children:"Shows/hides the forum card on the info page."})]})]})}),l.jsx("div",{className:"border-b border-slate-200/60 px-4 py-4 last:border-b-0",children:l.jsxs("label",{className:`flex items-start gap-3 ${Je(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[l.jsx("input",{type:"checkbox","aria-label":"Enable Research dashboard for doctors and reps",checked:vd,onChange:o=>Ya(o.target.checked),className:"brand-checkbox mt-0.5",disabled:!Je(r.role)||Ra.research||!ll.research}),l.jsxs("span",{className:"min-w-0",children:[l.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[l.jsx("span",{children:"Research dashboard access (doctors/reps)"}),l.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",Ra.research?"Saving":ll.research?vd?"Enabled":"Disabled":"Unavailable",")"]})]}),l.jsx("span",{className:"block text-xs text-slate-600",children:"When disabled, only admins and test doctors see the work-in-progress research dashboard."})]})]})}),l.jsx("div",{className:"px-4 py-4",children:l.jsxs("label",{className:`flex items-start gap-3 ${Je(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[l.jsx("input",{type:"checkbox","aria-label":"Enable test payments override",checked:Zf,onChange:o=>Vm(o.target.checked),className:"brand-checkbox mt-0.5",disabled:!Je(r.role)||Ra.testPaymentsOverride}),l.jsxs("span",{className:"min-w-0",children:[l.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[l.jsx("span",{children:"Test payments override ($0.01)"}),l.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",Ra.testPaymentsOverride?"Saving":Zf?"Enabled":"Disabled",")"]})]}),l.jsx("span",{className:"block text-xs text-slate-600",children:"When enabled, admin + test_doctor checkouts using Zelle/bank transfer are forced to $0.01."})]})]})})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200/70 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Live users"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Users currently online or idle."})]}),ip&&l.jsx("div",{className:"px-4 py-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md",children:ip}),uh?l.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Loading users"}):(()=>{const o=(ch||[]).filter(W=>{const Q=W?.isSimulated===!0,ae=String(W?.id||"");return!Q&&!ae.startsWith("pseudo-live-")}),u=W=>r?.id&&W?.id===r.id||r?.email&&W?.email&&String(r.email).toLowerCase()===String(W.email).toLowerCase(),m=W=>{const Q=W?.isIdle;return typeof Q=="boolean"?Q:u(W)&&mc},b=W=>{const Q=typeof W?.idleMinutes=="number"&&Number.isFinite(W.idleMinutes)?W.idleMinutes:typeof W?.idleForMinutes=="number"&&Number.isFinite(W.idleForMinutes)?W.idleForMinutes:null;if(Q!=null){const re=Math.max(0,Math.floor(Q));if(re<1)return"<1m";const ge=re*6e4,Ne=Math.floor(ge/1e3),Pe=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let Oe=Ne;const ce=[];for(const We of Pe){const Ce=Math.floor(Oe/We.seconds);if(Ce>0&&(ce.push(`${Ce}${We.label}`),Oe-=Ce*We.seconds),ce.length>=2)break}return ce.length?ce.join(" "):"<1m"}const ue=r?.id&&W?.id===r.id||r?.email&&W?.email&&String(r.email).toLowerCase()===String(W.email).toLowerCase()?Fs.current:(()=>{const re=W?.lastInteractionAt||W?.lastSeenAt||W?.lastActivityAt||W?.lastActiveAt||W?.lastLoginAt||null;if(!re)return null;const ge=new Date(re).getTime();return Number.isFinite(ge)?ge:null})();if(!ue)return null;const he=Math.max(0,Date.now()-ue),ve=Math.floor(he/1e3);if(ve<60)return"<1m";const Ge=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let V=ve;const H=[];for(const re of Ge){const ge=Math.floor(V/re.seconds);if(ge>0&&(H.push(`${ge}${re.label}`),V-=ge*re.seconds),H.length>=2)break}return H.length?H.join(" "):"<1m"},w=fh.trim().toLowerCase(),A=o.filter(W=>{if(!sp&&!!!W?.isOnline&&!u(W))return!1;const Q=String(W?.role||"").toLowerCase().trim();if(dl!=="all"){if(dl==="sales_rep"){if(!["sales_rep","salesrep","rep"].includes(Q))return!1}else if(dl==="sales_lead"){if(!["sales_lead","saleslead","sales-lead"].includes(Q))return!1}else if(dl==="doctor"){if(Q!=="doctor")return!1}else if(dl==="test_doctor"){if(Q!=="test_doctor")return!1}else if(Q!==dl)return!1}return w?[W?.name,W?.email,W?.role,W?.id].filter(Boolean).join(" ").toLowerCase().includes(w):!0}),L=W=>{if(!W)return 0;const Q=!!W?.isOnline,ae=!!m(W);if(u(W))return ae?Fs.current:Date.now();if(Q&&!ae)return Date.now();const ue=W?.lastInteractionAt||W?.lastSeenAt||W?.lastActivityAt||W?.lastActiveAt||W?.lastLoginAt||null;if(!ue)return 0;const he=new Date(ue).getTime();return Number.isFinite(he)?he:0},F=[...A].sort((W,Q)=>{const ae=L(W),ue=L(Q);if(ae!==ue)return ue-ae;const he=String(W?.name||W?.email||W?.id||"").toLowerCase(),ve=String(Q?.name||Q?.email||Q?.id||"").toLowerCase();return he.localeCompare(ve)}),U=F.filter(W=>!!W?.isOnline).length;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 px-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"brand-checkbox",checked:sp,onChange:W=>dh(W.target.checked)}),"Show offline"]}),l.jsxs("span",{className:"text-xs text-slate-500",children:[U," online"]}),l.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-600",children:[l.jsx("span",{className:"uppercase tracking-wide text-[11px] text-slate-500",children:"Type"}),l.jsxs("select",{value:dl,onChange:W=>Ry(W.target.value),className:"rounded-md border border-slate-200/80 bg-white/95 px-2 py-1 text-xs font-medium text-slate-700 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"sales_rep",children:"Sales Rep"}),l.jsx("option",{value:"sales_lead",children:"Sales Lead"}),l.jsx("option",{value:"doctor",children:"Doctors"}),l.jsx("option",{value:"test_doctor",children:"Test doctors"})]})]})]}),l.jsx("input",{value:fh,onChange:W=>Ty(W.target.value),onKeyDown:W=>{W.key==="Enter"&&W.preventDefault()},placeholder:"Search users",className:"w-full sm:w-[260px] rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]"})]}),l.jsx("div",{className:"sales-rep-table-wrapper live-users-scroll",children:l.jsx("div",{className:"flex w-full min-w-[900px] flex-col gap-2",children:F.length===0?l.jsx("div",{className:"p-6 text-sm text-slate-500",children:"No users found."}):F.map(W=>{const Q=String(W?.role||"").toLowerCase().trim(),ae=Q==="admin"?{label:"Admin",style:{backgroundColor:"rgb(61,43,233)",color:"#ffffff"}}:Q==="sales_rep"||Q==="salesrep"?{label:"Sales Rep",style:{backgroundColor:"rgb(129,221,228)",color:"#ffffff"}}:Q==="sales_lead"||Q==="saleslead"||Q==="sales-lead"?{label:"Sales Lead",style:{backgroundColor:"rgb(2,132,199)",color:"#ffffff"}}:Q==="doctor"?{label:"Doctor",style:{backgroundColor:"rgb(95,179,249)",color:"#ffffff"}}:Q==="test_doctor"?{label:"Test Doctor",style:{backgroundColor:"rgb(95,179,249)",color:"#ffffff"}}:null,ue=W.profileImageUrl||null,he=W.name||W.email||"User",Ge=(()=>{if(u(W))return Fs.current;const ut=W?.lastInteractionAt||W?.lastSeenAt||W?.lastActivityAt||W?.lastActiveAt||W?.lastLoginAt||null;if(!ut)return null;const gr=new Date(ut).getTime();return Number.isFinite(gr)?gr:null})(),V=Ge!=null?Math.max(0,(Date.now()-Ge)/6e4):null,H=2,re=!!W?.isOnline,ge=!!m(W),Ne=re,Pe=Ne&&(ge||V!=null&&V>=H),Oe=Pe?b(W):null,ce=ut=>{const gr=ph(ut);return gr==="a few moments ago"?"a few moments":gr.replace(/\s+ago$/,"")},We=W?.lastSeenAt||W?.lastInteractionAt||W?.lastLoginAt||null,Ce=Ne?Pe?`Idle${Oe?` (${Oe})`:""} - ${Cd(W.lastLoginAt)}`:Cd(W.lastLoginAt):We?`Offline for ${ce(We)}`:"Offline";return l.jsx("div",{className:"flex w-full items-center gap-3 rounded-lg border border-slate-200/70 bg-white/70 px-3 py-2",children:l.jsx("button",{type:"button",onClick:()=>nc(W),"aria-label":`Open ${he} profile`,className:"min-w-0 flex-1",style:{background:"transparent",border:"none",padding:0},children:l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("div",{className:"rounded-full shrink-0",style:{width:41.4,height:41.4,minWidth:41.4,boxShadow:Ne?Pe?"0 0 0 1px rgba(255,255,255,1), 0 0 0 4px rgba(148,163,184,1)":"0 0 0 1px rgba(255,255,255,1), 0 0 0 4px rgba(95,179,249,1)":void 0},children:l.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm w-full h-full transition hover:shadow-md hover:border-slate-300",children:ue?l.jsx("img",{src:ue,alt:he,className:"h-full w-full object-cover",loading:"lazy",decoding:"async"}):l.jsx("span",{className:"text-[11px] font-semibold text-slate-600",children:ig(he)})})}),l.jsx("div",{className:"min-w-0 flex-1 overflow-hidden",children:l.jsxs("div",{className:"flex flex-col items-start gap-0.5 text-left",children:[ae&&l.jsx("span",{className:"inline-flex items-center squircle-xs px-2 py-[2px] text-sm font-semibold shrink-0 self-start whitespace-nowrap",style:ae.style,children:ae.label}),l.jsx("span",{className:"text-sm font-semibold text-slate-800 whitespace-nowrap",children:he}),l.jsx("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:W.email||""}),l.jsx("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:Ce})]})})]})})},W.id)})})})]})})()]})]}),Je(r?.role)&&l.jsxs("div",{className:"glass-card squircle-xl p-6 border border-slate-200/70",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Admin Reports"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Sales by Sales Rep, Taxes by State, and Products Sold & Commission."})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-start sm:justify-end",children:[l.jsxs(bx,{open:Is,onOpenChange:sc,children:[l.jsx(xx,{asChild:!0,children:l.jsx(Ue,{type:"button",variant:"ghost",size:"icon",className:"h-10 w-10 glass-liquid squircle-sm text-slate-900 hover:text-slate-900","aria-label":"Select date range",children:l.jsx(px,{className:"h-4 w-4","aria-hidden":"true"})})}),l.jsx(wx,{children:l.jsxs(Sx,{side:"bottom",align:"end",sideOffset:8,className:"z-[10000] w-[320px] glass-liquid rounded-xl border border-white/60 p-3 shadow-xl",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Dashboard timeframe"}),l.jsx("div",{className:"mt-2",children:l.jsx(Ox,{mode:"range",numberOfMonths:1,selected:rh,onSelect:$,defaultMonth:rh?.from??void 0})}),l.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[l.jsx(Ue,{type:"button",variant:"ghost",size:"sm",className:"text-slate-700",onClick:()=>{const o=Lu();ka(o.start),il(o.end)},children:"Default"}),l.jsx(Ue,{type:"button",variant:"outline",size:"sm",onClick:()=>sc(!1),children:"Done"})]}),l.jsx(Nx,{className:"fill-white"})]})})]}),l.jsxs("span",{className:"text-sm font-semibold text-slate-900 whitespace-nowrap",children:["(",E,")"]}),l.jsxs(Ue,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:hd,disabled:i,"aria-busy":i,children:[l.jsx(Fu,{className:`h-4 w-4 ${i?"animate-spin":""}`,"aria-hidden":"true"}),i?"Refreshing...":"Refresh"]})]})]}),l.jsxs("div",{className:"mt-6 space-y-6",children:[l.jsxs("div",{className:"glass-card squircle-xl p-6 border border-slate-200/70",children:[l.jsx("div",{className:"flex flex-col gap-3 mb-4",children:l.jsxs("div",{className:"sales-rep-header-row flex w-full flex-col gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Sales by Sales Rep"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Orders placed by doctors assigned to each rep."})]}),l.jsx("div",{className:"sales-rep-header-actions flex flex-row flex-wrap justify-end gap-4",children:l.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-col items-end gap-1",children:[l.jsxs(Ue,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:cc,disabled:ks.length===0,title:"Download CSV",children:[l.jsx(Ov,{className:"h-4 w-4","aria-hidden":"true"}),"Download CSV"]}),l.jsxs("span",{className:"sales-rep-action-meta block text-[11px] text-slate-500 leading-tight text-right",children:[l.jsx("span",{className:"sales-rep-action-meta-label block",children:"Last downloaded"}),l.jsx("span",{className:"sales-rep-action-meta-value block",children:zf?new Date(zf).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""})]})]})})]})}),l.jsx("div",{className:"sales-rep-table-wrapper p-0 overflow-hidden",role:"region","aria-label":"Sales by sales rep list",children:Jm?l.jsx("div",{className:"px-4 py-3 text-sm text-amber-700 mb-3 bg-amber-50 border border-amber-200 rounded-md",children:Jm}):qf?l.jsx("div",{className:"px-4 py-3 text-sm mb-3 text-slate-500",children:"Checking sales"}):Bf===null?l.jsx("div",{className:"px-4 py-3 text-sm mb-3 text-slate-500",children:"Click Refresh to load sales."}):ks.length===0?l.jsx("div",{className:"p-6 text-sm text-slate-500",children:"No sales recorded yet."}):l.jsxs("div",{className:"w-full",style:{minWidth:920},children:[(()=>{const o=Os?.totals||null,u=o||{totalOrders:ks.reduce((b,w)=>b+(Number(w.totalOrders)||0),0),totalRevenue:ks.reduce((b,w)=>b+(Number(w.totalRevenue)||0),0),wholesaleRevenue:ks.reduce((b,w)=>b+(Number(w.wholesaleRevenue)||0),0),retailRevenue:ks.reduce((b,w)=>b+(Number(w.retailRevenue)||0),0)};return typeof u.totalOrders=="number"&&typeof u.totalRevenue=="number"?l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-white/70 px-4 py-2 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:[l.jsxs("span",{children:["Total Orders: ",u.totalOrders]}),l.jsxs("span",{children:["Wholesale: ",wt(Number(u.wholesaleRevenue)||0)]}),l.jsxs("span",{children:["Retail: ",wt(Number(u.retailRevenue)||0)]})]}):null})(),l.jsxs("div",{className:"grid items-center gap-3 border-x border-slate-200/70 bg-[rgba(95,179,249,0.08)] px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-700",style:{gridTemplateColumns:"minmax(200px,1.3fr) minmax(260px,1.8fr) minmax(90px,0.6fr) minmax(120px,0.6fr) minmax(120px,0.6fr)"},children:[l.jsx("div",{className:"whitespace-nowrap",children:"Sales Rep"}),l.jsx("div",{className:"whitespace-nowrap",children:"Email"}),l.jsx("div",{className:"whitespace-nowrap text-right",children:"Orders"}),l.jsx("div",{className:"whitespace-nowrap text-right",children:"Wholesale"}),l.jsx("div",{className:"whitespace-nowrap text-right",children:"Retail"})]}),l.jsx("ul",{className:"divide-y divide-slate-200/70 border-x border-b border-slate-200/70 max-h-[420px] overflow-y-auto",children:ks.map(o=>l.jsxs("li",{className:"grid items-center gap-3 px-4 py-2",style:{gridTemplateColumns:"minmax(200px,1.3fr) minmax(260px,1.8fr) minmax(90px,0.6fr) minmax(120px,0.6fr) minmax(120px,0.6fr)"},children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900 min-w-0",children:l.jsx("button",{type:"button",className:"min-w-0 text-left hover:underline",onClick:()=>nc({id:o.salesRepId,name:o.salesRepName,email:o.salesRepEmail,role:"sales_rep"},{salesRepWholesaleRevenue:Number(o.wholesaleRevenue||0),salesRepRetailRevenue:Number(o.retailRevenue||0)}),title:"Open sales rep details",children:o.salesRepName})}),l.jsx("div",{className:"text-sm text-slate-700 truncate",title:o.salesRepEmail||"",children:o.salesRepEmail||""}),l.jsx("div",{className:"text-sm text-right text-slate-800 tabular-nums whitespace-nowrap",children:o.totalOrders}),l.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums whitespace-nowrap",children:wt(o.wholesaleRevenue||0)}),l.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums whitespace-nowrap",children:wt(o.retailRevenue||0)})]},o.salesRepId))})]})})]}),l.jsxs("div",{className:"glass-card squircle-xl p-6 border border-slate-200/70",children:[l.jsx("div",{className:"flex flex-col gap-3 mb-4",children:l.jsxs("div",{className:"flex w-full flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Taxes by State"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Cumulative tax totals by destination state for the selected period."})]}),l.jsx("div",{className:"sales-rep-header-actions flex flex-row flex-wrap justify-end gap-4",children:l.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-col items-end gap-1",children:[l.jsxs(Ue,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:()=>void So(),disabled:fd.length===0,title:"Download CSV",children:[l.jsx(Ov,{className:"h-4 w-4","aria-hidden":"true"}),"Download CSV"]}),l.jsxs("span",{className:"sales-rep-action-meta block text-[11px] text-slate-500 leading-tight text-right",children:[l.jsx("span",{className:"sales-rep-action-meta-label block",children:"Last downloaded"}),l.jsx("span",{className:"sales-rep-action-meta-value block",children:pd?new Date(pd).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""})]})]})})]})}),Ay?l.jsx("div",{className:"sales-rep-table-wrapper p-0",role:"region","aria-label":"Taxes by state list",children:l.jsx("div",{className:"p-6 text-sm text-amber-700 bg-amber-50",children:Ay})}):Vf?l.jsx("div",{className:"sales-rep-table-wrapper p-0",role:"region","aria-label":"Taxes by state list",children:l.jsx("div",{className:"p-6 text-sm text-slate-500",children:"Loading taxes"})}):fd.length===0?l.jsx("div",{className:"sales-rep-table-wrapper p-0",role:"region","aria-label":"Taxes by state list",children:l.jsx("div",{className:"p-6 text-sm text-slate-500",children:"No tax data for this period."})}):l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"sales-rep-table-wrapper p-0",role:"region","aria-label":"Taxes by state list",children:[ri?.totals&&l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-white/70 px-4 py-2 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:[l.jsxs("span",{children:["Orders: ",Number(ri.totals?.orderCount||0)]}),l.jsxs("span",{children:["Tax: ",wt(Number(ri.totals?.taxTotal||0))]})]}),l.jsxs("div",{className:"grid items-center gap-3 border-b border-slate-200/70 bg-[rgba(95,179,249,0.08)] px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-700 min-w-[920px]",style:{gridTemplateColumns:"minmax(0,1fr) 110px 180px"},children:[l.jsx("div",{className:"sticky left-0 z-20 bg-[rgba(95,179,249,0.08)] shadow-[10px_0_14px_-14px_rgba(15,23,42,0.65)]",children:"State"}),l.jsx("div",{className:"text-right",children:"Orders"}),l.jsx("div",{className:"text-right",children:"Tax"})]}),l.jsx("ul",{className:"divide-y divide-slate-200/70 max-h-[320px] overflow-y-auto min-w-[920px]",children:fd.map(o=>l.jsxs("li",{className:"grid items-center gap-3 px-4 py-2 min-w-[920px]",style:{gridTemplateColumns:"minmax(0,1fr) 110px 180px"},children:[l.jsx("div",{className:"min-w-0 overflow-hidden sticky left-0 z-10 bg-[rgba(255,255,255,0.94)] shadow-[10px_0_14px_-14px_rgba(15,23,42,0.65)]",children:l.jsx("div",{className:"w-full min-w-0 overflow-x-auto no-scrollbar",children:l.jsx("div",{className:"text-sm font-semibold text-slate-900 whitespace-nowrap",children:o.state})})}),l.jsx("div",{className:"text-sm text-right text-slate-800 tabular-nums",children:Number(o.orderCount||0)}),l.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums",children:wt(Number(o.taxTotal||0))})]},o.state))})]}),xo.length>0&&l.jsxs("details",{className:"sales-rep-table-wrapper p-0 bg-white/60 border border-slate-200/70",open:ac,onToggle:o=>{ji(o.currentTarget.open)},children:[l.jsxs("summary",{className:"cursor-pointer select-none flex items-center justify-between gap-3 px-4 py-2 text-sm font-semibold text-slate-900 bg-white/70 border-b-4 border-slate-200/70",children:[l.jsx("span",{children:"Order Tax Breakdown"}),l.jsx("span",{className:"rounded-full border border-slate-200/80 bg-white/70 px-2 py-1 text-[11px] font-semibold text-slate-600 whitespace-nowrap",children:ac?"Collapse":"Expand"})]}),l.jsxs("div",{className:"grid items-center gap-3 border-b border-slate-200/70 bg-[rgba(95,179,249,0.08)] px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-700 min-w-[920px]",style:{gridTemplateColumns:"minmax(0,1fr) 180px"},children:[l.jsx("div",{className:"sticky left-0 z-20 bg-[rgba(95,179,249,0.08)] shadow-[10px_0_14px_-14px_rgba(15,23,42,0.65)]",children:"Order"}),l.jsx("div",{className:"text-right",children:"Tax"})]}),l.jsx("ul",{className:"divide-y divide-slate-200/70 max-h-[260px] overflow-y-auto min-w-[920px]",children:xo.map(o=>l.jsxs("li",{className:"grid items-center gap-3 px-4 py-2 min-w-[920px]",style:{gridTemplateColumns:"minmax(0,1fr) 180px"},children:[l.jsx("div",{className:"min-w-0 overflow-hidden sticky left-0 z-10 bg-[rgba(255,255,255,0.94)] shadow-[10px_0_14px_-14px_rgba(15,23,42,0.65)]",children:l.jsxs("div",{className:"w-full min-w-0 overflow-x-auto no-scrollbar",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900 whitespace-nowrap",children:o.orderNumber}),l.jsxs("div",{className:"text-xs text-slate-600 whitespace-nowrap",children:["State: ",o.state]})]})}),l.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums",children:wt(Number(o.taxTotal||0))})]},`${o.orderNumber}-${o.state}`))})]})]})]}),l.jsxs("div",{className:"glass-card squircle-xl p-6 border border-slate-200/70",children:[l.jsx("div",{className:"flex flex-col gap-3 mb-4",children:l.jsxs("div",{className:"flex w-full flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Products Sold & Commission"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Product quantities sold plus commission totals (wholesale 10%, retail 20%; house/contact-form split and administrative)."}),Cn?.totals&&l.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-sm font-semibold text-slate-900",children:[l.jsxs("span",{children:["Base:"," ",wt(Number(Cn.totals?.commissionableBase||0))]}),l.jsxs("span",{children:["Commission:"," ",wt(Number(Cn.totals?.commissionTotal||0))]})]})]}),l.jsx("div",{className:"sales-rep-header-actions flex flex-row flex-wrap justify-end gap-4",children:l.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-col items-end gap-1",children:[l.jsxs(Ue,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:()=>void ky(),disabled:Rs.length===0&&Lt.length===0,title:"Download CSV",children:[l.jsx(Ov,{className:"h-4 w-4","aria-hidden":"true"}),"Download CSV"]}),l.jsxs("span",{className:"sales-rep-action-meta block text-[11px] text-slate-500 leading-tight text-right",children:[l.jsx("span",{className:"sales-rep-action-meta-label block",children:"Last downloaded"}),l.jsx("span",{className:"sales-rep-action-meta-value block",children:th?new Date(th).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""})]})]})})]})}),ic?l.jsx("div",{className:"sales-rep-table-wrapper p-0",role:"region","aria-label":"Products sold and commission lists",children:l.jsx("div",{className:"p-4 sm:p-6 text-sm text-amber-700 bg-amber-50",children:ic})}):Ln?l.jsx("div",{className:"sales-rep-table-wrapper p-0",role:"region","aria-label":"Products sold and commission lists",children:l.jsx("div",{className:"p-4 sm:p-6 text-sm text-slate-500",children:"Loading report"})}):Rs.length===0&&Lt.length===0?l.jsx("div",{className:"sales-rep-table-wrapper p-0",role:"region","aria-label":"Products sold and commission lists",children:l.jsx("div",{className:"p-4 sm:p-6 text-sm text-slate-500",children:"No data for this period."})}):l.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[l.jsxs("div",{className:"sales-rep-table-wrapper p-0",role:"region","aria-label":"Products sold list",children:[l.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-white/70 px-3 sm:px-4 py-2 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:l.jsx("span",{children:"Products Sold"})}),l.jsxs("div",{className:"grid items-center gap-3 px-3 sm:px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-700 border-b border-slate-200/70 bg-[rgba(95,179,249,0.08)] min-w-[920px]",style:{gridTemplateColumns:"minmax(0,1fr) 96px"},children:[l.jsx("div",{children:"Product"}),l.jsx("div",{className:"text-right",children:"Qty"})]}),l.jsx("ul",{className:"divide-y divide-slate-200/70 max-h-[420px] overflow-y-auto min-w-[920px]",children:Rs.map(o=>l.jsxs("li",{className:"grid items-center gap-3 px-3 sm:px-4 py-1.5 min-w-[920px]",style:{gridTemplateColumns:"minmax(0,1fr) 96px"},children:[l.jsx("div",{className:"min-w-0 overflow-hidden",children:l.jsx("div",{className:"w-full min-w-0 overflow-x-auto no-scrollbar",children:l.jsxs("div",{className:"inline-flex items-baseline gap-2 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900 whitespace-nowrap",title:o.name,children:o.name}),l.jsx("div",{className:"text-[11px] leading-tight text-slate-600 whitespace-nowrap",children:o.sku?`SKU: ${o.sku}`:o.productId!=null?`Product ID: ${o.productId}`:""})]})})}),l.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums",children:Number(o.quantity||0)})]},o.key))})]}),l.jsxs("div",{className:"sales-rep-table-wrapper p-0",role:"region","aria-label":"Commission list",children:[l.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-white/70 px-3 sm:px-4 py-2 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:l.jsx("span",{children:"Commission"})}),l.jsxs("div",{className:"grid items-center gap-3 px-3 sm:px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-700 border-b border-slate-200/70 bg-[rgba(95,179,249,0.08)] min-w-[920px]",style:{gridTemplateColumns:"minmax(0,1fr) 140px"},children:[l.jsx("div",{children:"Recipient"}),l.jsx("div",{className:"text-right",children:"Amount"})]}),l.jsx("ul",{className:"divide-y divide-slate-200/70 max-h-[420px] overflow-y-auto min-w-[920px]",children:Lt.map(o=>l.jsxs("li",{className:"grid items-center gap-3 px-3 sm:px-4 py-1.5 min-w-[920px]",style:{gridTemplateColumns:"minmax(0,1fr) 140px"},children:[l.jsxs("div",{className:"min-w-0 overflow-hidden",children:[l.jsx("div",{className:"w-full min-w-0 overflow-x-auto no-scrollbar",children:l.jsx("div",{className:"text-sm font-semibold text-slate-900 whitespace-nowrap",title:o.name,children:o.name})}),l.jsx("div",{className:"mt-0.5 w-full min-w-0 overflow-x-auto no-scrollbar",children:l.jsx("div",{className:"inline-flex flex-nowrap items-center gap-x-2 gap-y-0 text-[11px] leading-tight text-slate-600 whitespace-nowrap",children:(()=>{const u=Number(o.retailOrders||0),m=Number(o.wholesaleOrders||0),b=Number(o.retailBase||0),w=Number(o.wholesaleBase||0),A=Number(o.houseRetailOrders||0),L=Number(o.houseWholesaleOrders||0),F=Number(o.houseRetailBase||0),U=Number(o.houseWholesaleBase||0),W=Number(o.houseRetailCommission||0),Q=Number(o.houseWholesaleCommission||0),ae=Number(o.specialAdminBonus||0),ue=Number(o.specialAdminBonusRate||0),he=Number(o.specialAdminBonusMonthlyCap||0),ve=o.specialAdminBonusByMonth,Ge=o.specialAdminBonusBaseByMonth,V=b*.2,H=w*.1,re=[];if(re.push(l.jsxs("span",{className:"whitespace-nowrap",children:["Role: ",o.role||" "]},"role")),A>0||F>0||W>0){const ge=F*.2,Ne=W||ge;re.push(l.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["House Retail: ",wt(Ne)," (",A,"  ",wt(F),"0.2)"]},"house-retail"))}else if(u>0||b>0){const ge=V;re.push(l.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["Retail: ",wt(ge)," (",u,"  ",wt(b),"0.2)"]},"retail"))}if(L>0||U>0||Q>0){const ge=U*.1,Ne=Q||ge;re.push(l.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["House Wholesale: ",wt(Ne)," (",L,"  ",wt(U),"0.1)"]},"house-wholesale"))}else if(m>0||w>0){const ge=H;re.push(l.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["Wholesale: ",wt(ge)," (",m,"  ",wt(w),"0.1)"]},"wholesale"))}if(ae>0){const ge=Array.from(new Set([...Object.keys(ve||{}),...Object.keys(Ge||{})])).sort(),Ne=ge.reduce((Ce,ut)=>Ce+Number((Ge||{})[ut]||0),0),Pe=ge.reduce((Ce,ut)=>{const gr=Number((Ge||{})[ut]||0);return Ce+Math.round(gr*ue*100)/100},0);ge.reduce((Ce,ut)=>{const gr=Number((ve||{})[ut]||0);if(gr>0)return Ce+gr;const us=Number((Ge||{})[ut]||0);return Ce+Math.round(us*ue*100)/100},0);const Oe=ae>0&&Math.abs(ae-Pe)>.009,ce=he>0&&Oe?` (cap ${wt(he)}/mo)`:"",We=ue>0&&Ne>0?` (${wt(Ne)}${ue}${ce})`:ue>0?` (rate ${ue}${he>0?`, cap ${wt(he)}/mo`:""})`:"";re.push(l.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["Web: ",wt(ae),We]},"bonus"))}return l.jsx(l.Fragment,{children:re.map((ge,Ne)=>l.jsxs(y.Fragment,{children:[Ne>0&&l.jsx("span",{className:"text-slate-300",children:"|"}),ge]},ge?.key??Ne))})})()})})]}),l.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums",children:wt(Number(o.amount||0))})]},o.id))})]})]})]})]})]}),C&&l.jsxs("div",{className:"sales-rep-combined-chart",children:[l.jsx("div",{className:"sales-rep-chart-header",children:l.jsxs("div",{children:[l.jsx("h3",{children:"Your Pipeline"}),l.jsx("p",{children:"Track lead volume as contacts advance through each stage."})]})}),l.jsx("div",{className:"sales-rep-chart-body",children:l.jsx(RK,{width:"100%",height:210,children:l.jsxs(Rse,{data:Hd,margin:{top:16,right:12,left:-14,bottom:0},children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"statusBar",x1:"0",y1:"0",x2:"1",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#5FB3F9",stopOpacity:.9}),l.jsx("stop",{offset:"100%",stopColor:"#95C5F9",stopOpacity:.9})]})}),l.jsx(_$,{strokeDasharray:"3 3",stroke:"rgba(148, 163, 184, 0.3)"}),l.jsx(Ib,{dataKey:"label",interval:0,tick:l.jsx(Uoe,{}),tickLine:!1,height:58,tickMargin:0,padding:{left:0,right:0}}),l.jsx(Mb,{allowDecimals:!1,tick:{fontSize:12,fill:"#334155"},width:34,tickMargin:2}),l.jsx(Pl,{cursor:{fill:"rgba(148, 163, 184, 0.12)"},content:qoe}),l.jsx(kf,{dataKey:"count",radius:[4,4,2.5,2.5],fill:"url(#statusBar)",barSize:32,children:l.jsx(Ku,{dataKey:"count",position:"insideTop",fill:"#ffffff",fontSize:12,offset:7,formatter:o=>typeof o=="number"?o:Number(o)||0,style:{textShadow:"0 1px 4px rgba(15, 23, 42, 0.35)"},content:o=>{const u=Number(o.value)||0;if(u===0)return null;const{x:m,width:b}=o,w=m+b/2,A=(o.y||0)+12;return l.jsx("text",{x:w,y:A,textAnchor:"middle",fill:"#ffffff",fontSize:12,style:{textShadow:"0 1px 4px rgba(15, 23, 42, 0.35)"},children:u})}})})]})})})]}),l.jsxs("div",{className:"sales-rep-dashboard-grid",children:[l.jsxs("div",{className:"sales-rep-leads-card sales-rep-combined-card",children:[l.jsx("div",{className:"sales-rep-leads-header",children:l.jsx("div",{className:"sales-rep-leads-title",children:l.jsxs("div",{className:"flex items-start mb-1 justify-between gap-3 flex-wrap",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-lg sm:text-xl",children:"Your Sales"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Live orders grouped by your doctors."})]}),l.jsx("div",{className:"sales-rep-card-controls",children:l.jsxs(Ue,{type:"button",variant:"outline",onClick:o=>{o.stopPropagation(),yl({force:!0})},disabled:Dt||hn,className:"gap-2",title:"Refresh your sales data",children:[l.jsx(Fu,{className:`h-4 w-4 ${Dt||hn?"animate-spin":""}`}),"Refresh"]})})]})})}),l.jsxs("div",{className:"sales-metric-pill-group sales-metric-controls",children:[l.jsxs("div",{className:"sales-metric-pill",children:[l.jsx("p",{className:"sales-metric-label",children:"Orders"}),l.jsx("p",{className:"sales-metric-value",children:Vd?.totalOrders??0})]}),l.jsxs("div",{className:"sales-metric-pill",children:[l.jsx("p",{className:"sales-metric-label",children:"Total Revenue"}),l.jsx("p",{className:"sales-metric-value",children:wt(Vd?.totalRevenue??0)})]})]}),l.jsxs("div",{className:"sales-rep-lead-grid",children:[Dt&&l.jsx("ul",{className:"space-y-4","aria-live":"polite",children:[...Array(2)].map((o,u)=>l.jsxs("li",{className:"lead-panel bg-white/60 border border-slate-200/80 rounded-2xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"news-loading-thumb rounded-full"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-24"})]})]}),l.jsxs("div",{className:"space-y-2 text-right",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16 ml-auto"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-20"})]})]}),l.jsx("div",{className:"space-y-3",children:[...Array(2)].map((m,b)=>l.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-100 bg-white/70 p-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-36"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-14 rounded-full"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]})]},`sales-loading-line-${u}-${b}`))})]},`sales-loading-${u}`))}),!Dt&&ti&&l.jsx("p",{className:"lead-panel-empty text-sm text-rose-600",children:ti}),!Dt&&!ti&&Vs.length===0&&l.jsx("p",{className:"lead-panel-empty text-sm text-slate-500",children:"No sales activity reported yet."}),!Dt&&!ti&&Vs.length>0&&Vs.map(o=>{const u=mn.has(o.doctorId);return l.jsxs("section",{className:"lead-panel",children:[l.jsxs("div",{className:"lead-panel-header sales-doctor-row cursor-pointer items-center",role:"button",tabIndex:0,onClick:()=>yt(o.doctorId),onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),yt(o.doctorId))},"aria-expanded":!u,"aria-controls":`sales-orders-${o.doctorId}`,style:{alignItems:"center"},children:[l.jsx("div",{className:"sales-doctor-chevron",children:l.jsx(kv,{className:"h-4 w-4 text-slate-500","aria-hidden":"true",style:{transform:u?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.32s cubic-bezier(0.42, 0, 0.38, 1)",transformOrigin:"center"}})}),l.jsx("div",{className:"sales-doctor-scroll",children:l.jsxs("div",{className:"sales-doctor-scroll-inner",children:[l.jsxs("button",{type:"button",className:"flex items-center gap-3 min-w-0",onClick:m=>{m.stopPropagation(),Es({...o,referralId:Qn(o.doctorId,o.doctorEmail)},"doctor")},onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),m.stopPropagation(),Es({...o,referralId:Qn(o.doctorId,o.doctorEmail)},"doctor"))},"aria-label":`View ${o.doctorName} details`,style:{background:"transparent",border:"none",padding:0},children:[l.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm",style:{width:44,height:44,minWidth:44},children:o.doctorAvatar?l.jsx("img",{src:o.doctorAvatar,alt:o.doctorName,className:"h-full w-full object-cover",style:{width:44,height:44}}):l.jsx("span",{className:"text-sm font-semibold text-slate-600",children:ig(o.doctorName)})}),l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"lead-list-name whitespace-nowrap flex items-center gap-1",children:[l.jsx(e2,{className:"h-4 w-4 text-slate-400","aria-hidden":"true"}),l.jsx("span",{children:o.doctorName})]}),String(o.leadType||"").toLowerCase()==="contact_form"&&l.jsx("span",{className:"lead-source-pill lead-source-pill--contact mt-1",children:"House / Contact Form"}),o.doctorEmail&&l.jsx("p",{className:"lead-list-detail whitespace-nowrap",children:o.doctorEmail})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-[0.16em]",children:"Revenue"}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:wt(o.total)}),l.jsxs("p",{className:"text-xs text-slate-500",children:[o.orders.length," order",o.orders.length===1?"":"s"]})]})]})})]}),!u&&l.jsx("ul",{className:"lead-list",id:`sales-orders-${o.doctorId}`,children:o.orders.map(m=>{const b=m.createdAt||m.dateCreated||m.date_created||m.dateCreatedGmt||m.date_created_gmt||m.updatedAt||null,A=(m?.shippingEstimate?.status||m?.shipping?.status||m.status||"").toString().toLowerCase()==="shipped"&&(m?.shippingEstimate?.estimatedArrivalDate||m?.shippingEstimate?.deliveryDateGuaranteed||m?.shippingEstimate?.estimated_delivery_date||m?.shipping?.estimatedArrivalDate||m?.shipping?.estimated_delivery_date)||null,L=String(m.id||m.number||""),U=Qr.has(L)||_y.has(L),W=b?`Order placed ${$n(b)}`:"Order placed Unknown date",Q=A?`Expected delivery ${Gs(A)}`:"Expected delivery unavailable",ae=RN(m),ue=typeof m?.notes=="string"?String(m.notes).trim():"";return l.jsx("li",{className:"lead-list-item sales-order-card cursor-pointer transition hover:shadow-sm hover:border-[rgb(95,179,249)]",onClick:()=>Lf(m),"aria-busy":U,children:l.jsxs("div",{className:"sales-order-card-content flex flex-col gap-2 w-full",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[l.jsxs("div",{className:"lead-list-name",children:["Order #",m.number??m.id]}),U?l.jsxs("div",{className:"flex items-center gap-2 justify-end w-full sm:w-auto max-w-[200px]",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-20"})]}):l.jsxs("div",{className:"flex items-center gap-3 justify-end",children:[l.jsx("div",{className:"lead-updated",children:wt(m.total)}),l.jsx("span",{className:"sales-tracking-row-status",children:ae})]})]}),U?l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 w-full",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-full"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-full"})]}):l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 w-full",children:[l.jsx("div",{className:"lead-list-detail",children:W}),l.jsx("div",{className:"lead-list-detail",children:Q}),ue?l.jsxs("div",{className:"lead-list-detail sm:col-span-2",children:[l.jsx("span",{className:"text-xs font-semibold text-slate-500 mr-1",children:"Notes:"}),l.jsx("span",{className:"line-clamp-2",children:ue})]}):null]})]})},m.id)})})]},o.doctorId)})]})]}),l.jsxs("div",{className:"sales-rep-leads-card sales-rep-combined-card",children:[l.jsx("div",{className:"sales-rep-leads-header",children:l.jsx("div",{className:"sales-rep-leads-title",children:l.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg sm:text-xl",children:"Your Leads"}),l.jsx("p",{children:"Advance referrals and inbound requests through your pipeline."})]}),l.jsx("div",{className:"sales-rep-card-controls",children:l.jsxs(Ue,{type:"button",variant:"outline",onClick:o=>{o.stopPropagation(),En("sales-rep-manual-refresh",{showLoading:!0})},disabled:fc,className:"gap-2",children:[l.jsx(Fu,{className:`h-4 w-4 ${fc?"animate-spin":""}`}),"Refresh"]})})]})})}),l.jsxs("div",{className:"sales-rep-lead-grid",children:[l.jsxs("section",{className:"lead-panel",children:[l.jsx("div",{className:"lead-panel-header",children:l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"lead-panel-filter-row",children:[l.jsxs("h4",{children:[_c.length," Active Prospect",_c.length===1?"":"s"]}),l.jsx("select",{value:ml,onChange:o=>Fa(o.target.value),className:"rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:Ah.map(o=>l.jsx("option",{value:o,children:o==="all"?"All statuses":Jd(o)},o))})]}),l.jsx("p",{className:"text-sm text-slate-500 referrals-subtitle",children:"Combination of referral and contact form prospects."}),l.jsx("div",{className:"mt-2",children:l.jsxs(Ue,{type:"button",variant:"outline",onClick:()=>Qf(!0),className:"gap-2 text-sm",children:[l.jsx(V0,{className:"h-4 w-4"}),"Manual Prospect"]})})]})}),l.jsx("div",{className:"lead-panel-divider"}),fc&&_c.length===0?l.jsx("p",{className:"lead-panel-empty text-sm text-slate-500",children:"Loading prospects"}):_c.length===0?l.jsx("p",{className:"lead-panel-empty text-sm text-slate-500",children:"Nobody yet. Update a referral or contact form status to move it here."}):l.jsx("div",{className:"lead-list-scroll active-prospects-list-scroll",children:l.jsx("ul",{className:"lead-list",children:_c.map(({kind:o,record:u})=>{const m=_u.updatingReferral===u.id,b=o==="contact_form"?(u.status||"contact_form").toLowerCase():Zn(u.status),w=b==="contact_form"?"pending":b,A=w==="verified",L=Dy===u.id,F=o==="referral"&&u.referrerDoctorName||"User",U=o==="referral"&&u.creditIssuedAt?u.creditIssuedAt:null,W=o==="referral"&&u.creditIssuedAmount!=null?u.creditIssuedAmount:50,Q=o==="referral"&&Sc(u),ae=o==="contact_form"?"lead-source-pill--contact":Q?"lead-source-pill--manual":"lead-source-pill--referral",ue=o==="contact_form"?"Contact Form":Q?"Manual":"Referral",he=typeof u.referredContactHasAccount=="boolean"?u.referredContactHasAccount:!1,ve=o==="referral"?!!u.referredContactEligibleForCredit:!1,Ge=w==="converted"&&!jn(u),V=u.syntheticAccountProspect===!0,H=!!u.resellerPermitExempt,re=typeof u.resellerPermitFileName=="string"&&u.resellerPermitFileName.trim()?u.resellerPermitFileName.trim():"",ge=typeof u.resellerPermitFilePath=="string"?u.resellerPermitFilePath:"",Ne=!!(re||ge),Pe=H||Ne,Oe=!!qb[String(u?.id||"")],ce=`reseller-permit-${String(u?.id||"").replace(/[^a-zA-Z0-9_-]/g,"_").slice(0,64)}`,We=he&&w==="verified",Ce=w==="pending"?"Pending":We?"Account Created":Jd(w),ut=(()=>{if(V)return w==="converted"?null:{value:"converted",label:"Converted",disabled:!1};if(We)return{value:"converted",label:"Converted",disabled:!1};switch(w){case"pending":return{value:"contacted",label:"Contacting",disabled:!1};case"contacted":return{value:"verified",label:Pe?"Verified":"Verified (permit required)",disabled:!Pe};case"verified":return{value:"account_created",label:"Account Created",disabled:!1};case"account_created":return{value:"converted",label:"Converted",disabled:!1};default:return null}})(),Ic={pending:"Move to Contacting when ready to reach out.",contacted:"Reach out to them, verify their practice, ensure they have an NPI number, and note down any other personal and practice details. Collect their reseller permit if available for their tax exemption. When verified, advance their status.",verified:"Now that they are verified, help them create an account by sharing your referral code. You can see when they have created an account with the label in this container.",account_created:"Now that their account is created, walk them through the platform. Ensure to promote their educational and research excellence and our support for them. You can preemptively move them to the Converted status for your convenience if you wish. It will note when they make their first purchase automatically."}[We?"account_created":w]||"",Ky=[...(()=>{const At=["pending","contacted","verified","account_created","converted"],kn=At.indexOf(w);return kn<=0?[]:At.slice(0,kn).map(wl=>({value:wl,label:wl==="pending"?"Pending":Jd(wl),disabled:!1}))})(),{value:w,label:Ce,disabled:!0},...ut?[ut]:[]],Ro=(()=>{if(!he)return null;const At=u.referredContactAccountId,kn=typeof u.referredContactAccountEmail=="string"?u.referredContactAccountEmail.trim():"",wl=typeof u.referredContactEmail=="string"?u.referredContactEmail.trim():"",qh=(kn||wl).toLowerCase(),Sl=typeof u.referredContactPhone=="string"?u.referredContactPhone.trim():"",Lp=[At?`acct:${At}`:null,At?`acct:${String(At).toLowerCase()}`:null,qh?`email:${qh}`:null,qh||null,Sl?`phone:${Sl}`:null].filter(Boolean);for(const Nl of Lp){const Xb=el.get(Nl);if(Xb)return Xb}return null})(),Kd=he&&Ro?.name||u.referredContactName||u.referredContactEmail||"";return l.jsxs("li",{className:"lead-list-item lead-list-item--active-prospect",children:[l.jsxs("div",{className:"lead-list-meta",children:[l.jsx("div",{className:"lead-list-name min-w-0",children:l.jsx("button",{type:"button",className:"inline-flex items-start gap-1 min-w-0 text-left",onClick:()=>{const At=u.referredContactAccountId||u.referredContactId||u.userId||u.doctorId||u.id,kn=u.referredContactEmail||(Ro?.email??null)||null;Es({doctorId:String(At||u.id),referralId:o==="referral"?String(u.id):null,doctorName:Kd,doctorEmail:kn,doctorAvatar:Ro?.profileImageUrl??null,doctorPhone:u.referredContactPhone||null,doctorAddress:null,orders:[],total:0},"doctor")},onKeyDown:At=>{if(At.key==="Enter"||At.key===" "){At.preventDefault();const kn=u.referredContactAccountId||u.referredContactId||u.userId||u.doctorId||u.id,wl=u.referredContactEmail||(Ro?.email??null)||null;Es({doctorId:String(kn||u.id),referralId:o==="referral"?String(u.id):null,doctorName:Kd,doctorEmail:wl,doctorAvatar:Ro?.profileImageUrl??null,doctorPhone:u.referredContactPhone||null,doctorAddress:null,orders:[],total:0},"doctor")}},"aria-label":`View ${Kd} details`,style:{background:"transparent",border:"none",padding:0},children:l.jsxs("span",{className:"flex items-center gap-1.5 min-w-0 text-left",children:[l.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm shrink-0",style:{width:28,height:28,minWidth:28},children:Ro?.profileImageUrl?l.jsx("img",{src:Ro.profileImageUrl,alt:Kd,className:"h-full w-full object-cover",loading:"lazy",decoding:"async"}):l.jsx("span",{className:"text-[11px] font-semibold text-slate-600",children:ig(Kd)})}),l.jsx(e2,{className:"h-4 w-4 text-slate-400 shrink-0 lead-list-name-icon","aria-hidden":"true"}),l.jsx("span",{className:"lead-list-name-text min-w-0 flex-1 break-words justify-start text-left leading-snug mt-[1px] self-start w-full",children:Kd})]})})}),u.referredContactEmail&&l.jsx("div",{className:"lead-list-detail",children:l.jsx("a",{href:`mailto:${u.referredContactEmail}`,className:"text-[rgb(95,179,249)] hover:underline",children:u.referredContactEmail})}),u.referredContactPhone&&l.jsx("div",{className:"lead-list-detail",children:u.referredContactPhone}),l.jsx("span",{className:`lead-source-pill ${ae}`,children:ue}),l.jsx("span",{className:`account-status-pill ${he?"account-status-pill--active":""}`,children:he?"Account Created":"No Account Yet"})]}),l.jsx("div",{className:"active-prospect-status",children:l.jsxs("select",{value:w,disabled:m||Oe,onChange:At=>{const kn=At.target.value;if(kn!==w){if(Q&&kn===_v){Rp(u.id);return}if(!(kn==="account_created"&&!he&&!window.confirm("They have not yet created a PepPro account, are you sure you want to promote them to Account Created?"))){if(V){Oh(u,kn);return}Gd(u.id,kn)}}},className:"lead-status-select",children:[Q&&l.jsx("option",{value:_v,children:"Delete"}),Ky.map(At=>l.jsx("option",{value:At.value,disabled:At.disabled,children:At.label},At.value))]})}),l.jsxs("div",{className:"active-prospect-right",children:[Ic?l.jsx("div",{className:"prospect-permit-instructions mt-2 text-xs leading-snug text-slate-500",children:Ic}):null,A&&l.jsx("div",{className:"mt-1 text-xs text-slate-700 text-center",children:typeof r?.referralCode=="string"&&r.referralCode.trim()?l.jsx(l.Fragment,{children:l.jsxs("button",{type:"button",className:"text-[11px] font-semibold tracking-wide text-slate-700 hover:text-[rgb(37,99,235)]",title:"Copy your sales code",onClick:()=>{const At=String(r.referralCode||"").trim().toUpperCase();if(At)try{navigator.clipboard?.writeText(At)}catch{}},children:["Your referral code:"," ",String(r.referralCode||"").trim().toUpperCase()]})}):l.jsx("span",{className:"font-semibold tracking-wide text-slate-700",children:"Your referral code: "})}),Ge&&l.jsx("div",{className:"text-xs text-amber-600 text-center mt-1",children:"Awaiting their first purchase"}),o==="referral"&&!Q&&b==="converted"&&!U&&ve&&l.jsx(Ue,{type:"button",variant:"outline",size:"sm",disabled:L,onClick:()=>Ih(u),className:"mt-2 w-full header-home-button squircle-sm justify-center",children:L?"Crediting":`Credit ${F} $50`}),o==="referral"&&!Q&&b==="converted"&&!U&&!ve&&l.jsx("div",{className:"text-xs text-slate-500 text-center mt-1",children:"Awaiting first order to credit"}),l.jsxs("div",{className:"lead-list-actions-footer",children:[w==="contacted"&&!V&&l.jsxs("div",{className:"prospect-permit-container",children:[l.jsx("div",{className:"prospect-permit-caption",children:"Reseller Permit Verification"}),l.jsxs("div",{className:"prospect-permit-controls",children:[l.jsxs("label",{className:"prospect-permit-checkbox",children:[l.jsx("input",{type:"checkbox",checked:H,disabled:m||Oe||Ne&&!H,onChange:At=>{Th(String(u.id),At.target.checked)},className:"prospect-permit-checkbox-input"}),"Doctor does not have a resellers permit"]}),l.jsxs("div",{className:"prospect-permit-file-picker",children:[l.jsx("input",{id:ce,type:"file",accept:"application/pdf,image/*",disabled:m||Oe||H,onChange:At=>{const kn=At.target.files?.[0];kn&&(Pc(String(u.id),kn),At.target.value="")},className:"prospect-permit-file-input"}),l.jsx("label",{htmlFor:ce,className:"prospect-permit-file-button","aria-disabled":m||Oe||H,children:"Upload Permit"}),Ne?l.jsxs("div",{className:"prospect-permit-file-meta",children:[(()=>{const At=re||ge.split("/").pop()||"reseller_permit",kn=At.length<=12?At:`${At.slice(0,8)}${At.slice(-3)}`;return l.jsx("button",{type:"button",className:"prospect-permit-file-name prospect-permit-file-name-button",disabled:m||Oe,"aria-label":"Download uploaded reseller permit",title:At,onClick:()=>{Ac(String(u.id),At)},children:kn})})(),l.jsx("button",{type:"button",className:"prospect-permit-file-delete",disabled:m||Oe,title:"Delete uploaded permit",onClick:()=>{Rh(String(u.id))},children:l.jsx(GN,{className:"h-4 w-4","aria-hidden":"true"})})]}):l.jsx("span",{className:"prospect-permit-file-name",children:"No file selected"})]})]})]}),l.jsxs("div",{className:"lead-list-updated-block",children:[o==="referral"&&U&&l.jsx("div",{className:"text-xs font-semibold text-emerald-600 text-right break-words",children:`Credited ${F} ${wt(W)} at ${$n(U)}`}),l.jsx("div",{className:"lead-updated text-right",children:u.updatedAt?`Updated ${$n(u.updatedAt)}`:$n(u.createdAt)})]})]})]})]},u.id)})})})]}),l.jsxs("section",{className:"lead-panel",children:[l.jsx("div",{className:"lead-panel-header",children:l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"lead-panel-filter-row",children:l.jsxs("h4",{children:[oi.length," Referral",oi.length===1?"":"s"]})}),l.jsx("p",{className:"text-sm text-slate-500 referrals-subtitle",children:"Qualify new referrals and update their status."})]})}),l.jsx("div",{className:"lead-panel-divider"}),l.jsx("div",{className:"lead-list-scroll",children:fc?l.jsx("p",{className:"lead-panel-empty text-sm text-slate-500 px-1 py-2",children:"Loading referrals"}):oi.length===0?l.jsx("p",{className:"lead-panel-empty text-sm text-slate-500 px-1 py-2",children:"You have no referrals yet. Encourage doctors to grow the network."}):l.jsx("ul",{className:"lead-list",children:oi.map(o=>{const u=_u.updatingReferral===o.id,m=Dy===o.id,b=Sc(o),w=Zn(o.status),A=(()=>{if(b)return Ep;const re=["pending","contacted"],ge=[],Ne=Pe=>{Pe&&(ge.includes(Pe)||ge.push(Pe))};return re.includes(w)||Ne(w),re.forEach(Pe=>Ne(Pe)),ge})(),L=o.referrerDoctorName||"User",F=o.creditIssuedAt||null,U=o.creditIssuedAmount!=null?o.creditIssuedAmount:50,W=!!o.referredContactEligibleForCredit,Q=Ca.has(o.id),ae=re=>re&&re.split(" ").map(ge=>ge&&ge.charAt(0).toUpperCase()+ge.slice(1)).join(" "),ue=ae(o.referredContactName)||o.referredContactEmail||"Lead",he=ae(o.referrerDoctorName)||"Referrer",ve=o.referrerDoctorEmail||"",Ge=o.referrerDoctorPhone||"",V=o.referredContactEmail||"",H=o.referredContactPhone||"";return l.jsxs("li",{className:"lead-list-item flex-col gap-3",children:[l.jsxs("div",{className:"lead-panel-header referral-card-header cursor-pointer items-center sales-doctor-row",role:"button",tabIndex:0,onClick:()=>Wt(o.id),onKeyDown:re=>{(re.key==="Enter"||re.key===" ")&&(re.preventDefault(),Wt(o.id))},"aria-expanded":!Q,children:[l.jsx("div",{className:"sales-doctor-chevron",children:l.jsx(kv,{className:"h-4 w-4 text-slate-500","aria-hidden":"true",style:{transform:Q?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.32s cubic-bezier(0.42, 0, 0.38, 1)",transformOrigin:"center"}})}),l.jsx("div",{className:"sales-doctor-scroll",children:l.jsxs("div",{className:"sales-doctor-scroll-inner",children:[l.jsx("div",{className:"flex items-center gap-3 min-w-0",children:l.jsx("div",{className:"min-w-0",children:l.jsxs("p",{className:"lead-list-name",children:[he," ",l.jsx("span",{className:"text-slate-500 font-normal",children:"referred"})," ",ue]})})}),l.jsxs("div",{className:"text-right text-xs text-slate-500 space-y-1 min-w-[180px]",children:[l.jsxs("div",{children:["Submitted ",$n(o.createdAt)]}),l.jsxs("div",{className:"text-[11px] text-slate-400",children:["Updated ",$n(o.updatedAt)]})]})]})})]}),!Q&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap gap-2",children:[b&&l.jsx("span",{className:"lead-source-pill lead-source-pill--manual",children:"Manual"}),l.jsx("span",{className:`account-status-pill ${o.referredContactHasAccount?"account-status-pill--active":""}`,children:o.referredContactHasAccount?"Account Created":"No Account Yet"})]}),l.jsx("div",{className:"text-sm text-slate-700 leading-relaxed bg-slate-50/80 border border-slate-200/70 rounded-lg p-3",children:o.notes?l.jsxs("span",{className:"whitespace-pre-wrap",children:["Notes from ",he,": ",o.notes]}):l.jsx("span",{className:"text-xs italic text-slate-400",children:"No notes"})}),l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 w-full",children:[l.jsxs("div",{className:"min-w-[200px] space-y-1",children:[l.jsxs("p",{className:"lead-list-detail",children:["Referee Email:"," ",V!==""?l.jsx("a",{href:`mailto:${V}`,className:"text-[rgb(95,179,249)] hover:underline",children:V}):V]}),l.jsxs("p",{className:"lead-list-detail",children:["Referee Phone: ",H]}),l.jsxs("p",{className:"lead-list-detail",children:["Referrer Email:"," ",ve!==""?l.jsx("a",{href:`mailto:${ve}`,className:"text-[rgb(95,179,249)] hover:underline",children:ve}):ve]}),l.jsxs("p",{className:"lead-list-detail",children:["Referrer Phone: ",Ge]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2 min-w-[240px] ml-auto",children:[l.jsxs("select",{value:w,onChange:re=>{const ge=re.target.value;if(b&&ge===_v){Rp(o.id);return}ge==="account_created"&&!o.referredContactHasAccount&&!window.confirm("They have not created a PepPro account, yet are you sure you want to promote them?")||Gd(o.id,ge)},disabled:u,className:"w-full rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:[b&&l.jsx("option",{value:_v,children:"Delete"}),A.map(re=>l.jsx("option",{value:re,disabled:!b&&!["pending","contacted"].includes(re),children:Jd(re)},re))]}),w==="converted"&&!b&&!F&&W&&l.jsx(Ue,{type:"button",variant:"outline",size:"sm",disabled:m,onClick:()=>Ih(o),className:"w-full header-home-button squircle-sm justify-center",children:m?"Crediting":`Credit ${L} $50`}),w==="converted"&&!b&&!F&&!W&&l.jsx("div",{className:"text-xs text-slate-500 text-right w-full",children:"Awaiting first order to credit"}),F&&l.jsx("div",{className:"text-xs font-semibold text-emerald-600 text-right break-words",children:`Credited ${L} ${wt(U)} at ${$n(F)}`}),l.jsxs("div",{className:"text-[11px] text-slate-500 text-right",children:["Updated ",$n(o.updatedAt)]})]})]})]})]},o.id)})})})]}),Je(r?.role)&&l.jsxs("section",{className:"lead-panel",children:[l.jsx("div",{className:"lead-panel-header",children:l.jsxs("div",{children:[l.jsxs("h4",{children:[Fr.length," House / Contact Form",Fr.length===1?"":"s"]}),l.jsx("p",{className:"text-sm text-slate-500",children:"Inbound submissions captured directly from the site."})]})}),l.jsx("div",{className:"sales-rep-table-wrapper",children:l.jsxs("table",{className:"min-w-[720px] divide-y mb-2 divide-slate-200/70",children:[l.jsx("thead",{className:"bg-slate-50/70",children:l.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-3",children:"ID"}),l.jsx("th",{className:"px-4 py-3",children:"Name"}),l.jsx("th",{className:"px-4 py-3",children:"Email"}),l.jsx("th",{className:"px-4 py-3",children:"Phone"}),l.jsx("th",{className:"px-4 py-3",children:"How did you get introduced to PepPro?"}),l.jsx("th",{className:"px-4 py-3",children:"Received"}),l.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y mt-2 mb-2 divide-slate-200/60",children:fc?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-4 py-6 text-center mt-2 mb-2 text-sm text-slate-500",children:"Loading contact forms"})}):Fr.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-4 py-6 text-center mt-4 mb-2 text-sm text-slate-500",children:"No contact form submissions available."})}):Fr.map(o=>{const u=_u.updatingReferral===o.id,m=Zn(o.status||"contact_form"),b=m==="contact_form"?"pending":m,w=(o.id||"").replace("contact_form:","")||o.id||"";return l.jsxs("tr",{className:"align-top",children:[l.jsx("td",{className:"px-4 py-4 font-mono text-xs text-slate-500",children:w}),l.jsx("td",{className:"px-4 py-4 text-sm font-medium text-slate-900",children:o.referredContactName||""}),l.jsxs("td",{className:"px-4 py-4 text-sm text-slate-600",children:[l.jsx("div",{children:o.referredContactEmail?l.jsx("a",{href:`mailto:${o.referredContactEmail}`,className:"text-[rgb(95,179,249)] hover:underline",children:o.referredContactEmail}):""}),l.jsx("span",{className:`account-status-pill ${o.referredContactHasAccount?"account-status-pill--active":""}`,children:o.referredContactHasAccount?"Account Created":"No Account Yet"})]}),l.jsx("td",{className:"px-4 py-4 text-sm text-slate-600",children:o.referredContactPhone||""}),l.jsx("td",{className:"px-4 py-4 text-sm text-slate-600",children:o.notes||"Contact form"}),l.jsx("td",{className:"px-4 py-4 text-sm text-slate-600",children:l.jsx("div",{children:$n(o.createdAt)})}),l.jsxs("td",{className:"px-4 py-4",children:[l.jsx("select",{value:b,disabled:u,onChange:A=>{const L=A.target.value;L!==b&&Gd(o.id,L)},className:"rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:(()=>{const A=["pending","contacted"],L=[],F=(U,W,Q=!1)=>{U&&(L.some(ae=>ae.value===U)||L.push({value:U,label:W,disabled:Q}))};return A.includes(b)||F(b,Jd(b),!0),A.forEach(U=>{const W=U==="pending"?"Pending":Jd(U);F(U,W,!1)}),L.map(U=>l.jsx("option",{value:U.value,disabled:U.disabled,children:U.label},U.value))})()}),b==="verified"&&l.jsx("button",{type:"button",onClick:ou,className:"block text-[rgb(95,179,249)] text-xs font-semibold hover:underline mt-1",children:"Share Referral Code"})]})]},o.id)})})]})})]})]})]})]})]}),l.jsxs("p",{className:"text-xs text-slate-500/80 pt-2 text-center italic dashboard-feedback-note",children:["Send dashboard recommendations and ideas that will improve your productivity to"," ",l.jsx("a",{className:"text-[rgb(95,179,249)] underline-offset-2 hover:underline",href:"mailto:petergibbons7@icloud.com?subject=Dashboard%20Recommendation%20(PepPro)",children:"petergibbons7@icloud.com"}),"."]})]})},Hy=()=>{console.debug("[Product] Close details"),j(!1),S(null)};y.useEffect(()=>{if(!P||!x)return;(x.type??"").toLowerCase()==="variable"&&(!x.variants||x.variants.length===0)&&Ct(x)},[P,x,Ct]);const Ru=y.useMemo(()=>xt.filter(v=>{if(v.isSubscription)return!1;const _=v.type?.toLowerCase()||"",C=v.name?.toLowerCase()||"",E=v.category?.toLowerCase()||"",$=v.manufacturer?.toLowerCase()||"",i=v.description?.toLowerCase()||"";return!(_.includes("subscription")||C.includes("subscription")||E.includes("subscription")||$.includes("subscription")||i.includes("subscription"))}),[xt]),xl=y.useMemo(()=>{let v=Ru;return g&&(v=v.filter(_=>_.name.toLowerCase().includes(g.toLowerCase())||_.category.toLowerCase().includes(g.toLowerCase())||_.manufacturer.toLowerCase().includes(g.toLowerCase())||_.description&&_.description.toLowerCase().includes(g.toLowerCase()))),Sn.categories.length>0&&(v=v.filter(_=>Sn.categories.includes(_.category))),Sn.types.length>0&&(v=v.filter(_=>_.type&&Sn.types.includes(_.type))),v},[Ru,g,Sn]),Tc=y.useMemo(()=>{const v={};for(const _ of Ru){const C=(_.category||"").trim();C&&(v[C]=(v[C]||0)+1)}return v},[Ru]),Rc=y.useMemo(()=>{const v=Tc.Uncategorized||0;return Eo.filter(_=>_.toLowerCase()==="uncategorized"?v>0:!0)},[Eo,Tc]);y.useEffect(()=>{if(Sn.categories.length===0)return;const v=new Set(Rc),_=Sn.categories.filter(C=>v.has(C));_.length!==Sn.categories.length&&Zo(C=>({...C,categories:_}))},[Sn.categories,Rc]);const Bh=y.useMemo(()=>{const v={};for(const _ of Rc)v[_]=Tc[_]||0;return v},[Rc,Tc]);Ru.slice(0,4);const To=qd&&!!Da,{quoteFontSize:Vy,quoteLineClamp:Ip,quoteMobileFont:Mp}=y.useMemo(()=>{const v=Da?.text?.length||0;return v>260?{quoteFontSize:"clamp(0.55rem, 1.1vw, 0.72rem)",quoteLineClamp:8,quoteMobileFont:"clamp(0.68rem, 1.9vw, 0.84rem)"}:v>180?{quoteFontSize:"clamp(0.6rem, 1.3vw, 0.8rem)",quoteLineClamp:6,quoteMobileFont:"clamp(0.72rem, 2vw, 0.88rem)"}:v>120?{quoteFontSize:"clamp(0.66rem, 1.5vw, 0.9rem)",quoteLineClamp:5,quoteMobileFont:"clamp(0.78rem, 2.2vw, 0.94rem)"}:{quoteFontSize:"clamp(0.74rem, 1.8vw, 0.98rem)",quoteLineClamp:4,quoteMobileFont:"clamp(0.84rem, 2.5vw, 1rem)"}},[Da]),Iu=a.reduce((v,_)=>v+_.quantity,0),Dp=Iu>0&&!me,Gy=Array.from({length:5}),Kb=Array.from({length:1});return l.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col safe-area-vertical",style:{position:"static"},children:[l.jsx("div",{"aria-hidden":"true",style:{position:"fixed",top:"-12vh",left:"-6vw",width:"112vw",height:"140vh",backgroundImage:"url(/leafTexture.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:0,pointerEvents:"none",maskImage:"linear-gradient(to top, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.15) 33%, rgba(0,0,0,0.075) 66%, rgba(0,0,0,0) 100%)",WebkitMaskImage:"linear-gradient(to top, rgba(0,0,0,0.50) 0%, rgba(0,0,0,0.15) 40%, rgba(0,0,0,0.05) 50%, rgba(0,0,0,0) 100%)"}}),ie&&X&&r&&l.jsx("div",{className:"info-focus-overlay","aria-hidden":"true"}),l.jsxs("div",{className:"relative z-10 flex flex-1 flex-col",children:[r&&!X&&l.jsx(tq,{user:r,researchDashboardEnabled:vd,onLogin:Oc,onLogout:Ks,cartItems:Iu,onSearch:Wb,onCreateAccount:Lh,onCartClick:()=>d(!0),loginPromptToken:N,loginContext:O,showCartIconFallback:Dp,onShowInfo:()=>{console.log("[App] onShowInfo called, setting postLoginHold to true"),Y(!0)},onUserUpdated:v=>n(v),accountOrders:Gl,accountOrdersLoading:Hi,accountOrdersError:iu,ordersLastSyncedAt:Kl,onRefreshOrders:wn,showCanceledOrders:Rt,onToggleShowCanceled:ia,accountModalRequest:Ss,onBuyOrderAgain:zy,onCancelOrder:Of,referralCodes:_i,catalogLoading:is}),l.jsxs("div",{className:"flex-1 w-full flex flex-col",children:[(!r||X)&&l.jsxs("div",{className:"min-h-screen flex flex-col items-center pt-20 px-4 py-12",children:[X&&r?l.jsx("div",{className:"w-full max-w-7xl mb-6 px-4",children:Ws?l.jsxs("div",{className:"flex flex-row items-stretch justify-between gap-4 lg:gap-6 mb-8",children:[l.jsx("div",{className:`glass-card squircle-lg border border-[var(--brand-glass-border-2)] px-8 py-6 lg:px-10 lg:py-8 shadow-lg transition-all duration-500 flex items-center justify-center flex-1 info-highlight-card ${ie?"info-focus-active":""} ${ku?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,style:{backdropFilter:"blur(20px) saturate(1.4)",minHeight:"min(140px, 12.5vh)"},children:l.jsxs("p",{className:`font-semibold text-[rgb(95,179,249)] text-center shimmer-text ${ie?"is-shimmering":"shimmer-text--cooldown"}`,style:{color:"rgb(95,179,249)",fontSize:ie?"clamp(1.1rem, 2vw, 2rem)":"clamp(1rem, 1.6vw, 1.75rem)",lineHeight:1.15,transition:"font-size 800ms ease"},children:["Welcome",r.visits&&r.visits>1?" back":"",", ",r.name,"!"]})}),l.jsx("div",{className:"flex-shrink-0 px-6 lg:px-8",children:l.jsx("div",{className:"brand-logo brand-logo--landing",children:l.jsx("img",{src:"/Peppro_fulllogo.png",alt:"PepPro",style:{display:"block",width:"auto",height:"auto",maxWidth:"min(320px, 35vw)",maxHeight:"min(280px, 25vh)",objectFit:"contain"}})})}),l.jsxs("div",{className:`glass-card ${ii&&!To?"quote-container-shimmer":""} squircle-lg border border-[var(--brand-glass-border-2)] px-8 py-6 lg:px-10 lg:py-8 shadow-lg transition-all duration-500 flex flex-col justify-center flex-1 ${ku?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,style:{backdropFilter:"blur(20px) saturate(1.4)",minHeight:"min(140px, 12.5vh)"},"aria-live":"polite",children:[ii&&!To&&l.jsx("div",{className:"flex w-full flex-1 items-center justify-center",children:l.jsx("p",{className:"text-sm font-semibold text-center shimmer-text is-shimmering",style:{color:"rgb(95,179,249)"},children:"Loading today's quote"})}),To&&Da&&l.jsxs("p",{className:"px-4 sm:px-6 italic text-[rgb(95,179,249)] text-center leading-snug break-words",style:{color:"rgb(95,179,249)",fontSize:Vy,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:Ip,WebkitBoxOrient:"vertical"},children:['"',Da.text,'"  ',Da.author]})]})]}):l.jsxs("div",{className:"flex flex-col items-center gap-6 mb-8",children:[l.jsx("div",{className:"flex justify-center px-4",children:l.jsx("div",{className:"brand-logo brand-logo--landing",children:l.jsx("img",{src:"/Peppro_fulllogo.png",alt:"PepPro",style:{display:"block",width:"auto",height:"auto",maxWidth:"min(320px, 35vw)",maxHeight:"min(280px, 25vh)",objectFit:"contain"}})})}),l.jsxs("div",{className:`glass-card squircle-lg border border-[var(--brand-glass-border-2)] px-4 py-4 shadow-lg transition-all duration-500 w-full info-highlight-card ${ie?"info-focus-active":""} ${ku?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"} flex flex-col items-center text-center justify-center sm:justify-start`,style:{backdropFilter:"blur(20px) saturate(1.4)",minHeight:To&&Da?"auto":"min(140px, 20vh)"},children:[l.jsxs("p",{className:`text-center font-semibold text-[rgb(95,179,249)] shimmer-text ${ie?"is-shimmering":"shimmer-text--cooldown"}`,style:{color:"rgb(95,179,249)",fontSize:To&&Da?"clamp(1rem, 3.2vw, 1.6rem)":"clamp(1.32rem, 4.9vw, 1.9rem)",lineHeight:1.2,transform:To&&Da?"translateY(-8px)":"translateY(0)",transition:"font-size 600ms ease, transform 600ms ease"},children:["Welcome",r.visits&&r.visits>1?" back":"",", ",r.name,"!"]}),l.jsxs("div",{className:`${ii&&!To?"quote-container-shimmer":""} w-full rounded-lg bg-white/65 px-3 py-3 sm:px-4 sm:py-3 text-center shadow-inner transition-opacity duration-500 mt-6`,"aria-live":"polite",children:[!To&&l.jsx("div",{className:"min-h-[56px] flex items-center justify-center w-full",children:l.jsx("p",{className:"text-sm font-semibold mt-3 text-center shimmer-text is-shimmering",style:{color:"rgb(95,179,249)"},children:"Loading today's quote"})}),To&&Da&&l.jsxs("p",{className:"px-4 sm:px-6 italic text-[rgb(95,179,249)] leading-snug break-words",style:{color:"rgb(95,179,249)",fontSize:Mp,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:Ip,WebkitBoxOrient:"vertical"},children:['"',Da.text,'"  ',Da.author]})]})]})]})}):l.jsx("div",{className:`flex justify-center ${B==="signup"?"mb-6 sm:mb-8 lg:mb-12":"mb-12 sm:mb-12 lg:mb-20"}`,children:l.jsx("div",{className:"brand-logo brand-logo--landing",children:l.jsx("img",{src:"/Peppro_fulllogo.png",alt:"PepPro",style:{display:"block",width:"auto",height:"auto",maxWidth:"min(360px, 80vw)",maxHeight:"min(360px, 40vh)",objectFit:"contain"}})})}),X&&r?l.jsx("div",{className:"w-full max-w-6xl mt-4 sm:mt-6 md:mt-8",children:l.jsxs("div",{className:"post-login-layout",children:[l.jsx("div",{className:"post-login-news glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] p-6 sm:p-8 shadow-xl",style:{backdropFilter:"blur(38px) saturate(1.6)"},children:l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[rgb(95,179,249)]",children:"Peptide News"}),l.jsx("button",{onClick:Wy,disabled:Eu,className:"p-1.5 rounded-md hover:bg-[rgba(95,179,249,0.1)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh news",children:l.jsx(Fu,{className:`h-4 w-4 text-[rgb(95,179,249)] ${Eu?"animate-spin":""}`})}),Xe&&l.jsxs("span",{className:"text-xs text-gray-500",children:["Updated at:"," ",Xe.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})]})]}),l.jsx("a",{href:"https://www.nature.com/subjects/peptides",target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold uppercase tracking-wide text-[rgb(95,179,249)] hover:underline underline-offset-4",children:"View All"})]}),l.jsxs("div",{className:"max-h-[60vh] overflow-y-auto pr-1 space-y-4 text-sm text-gray-700 leading-relaxed",children:[Eu&&l.jsxs("ul",{className:"space-y-4","aria-live":"polite",children:[Gy.map((v,_)=>l.jsxs("li",{className:"news-loading-card flex items-start gap-3",children:[l.jsx("div",{className:"news-loading-thumb","aria-hidden":"true"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-3/4","aria-hidden":"true"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-full","aria-hidden":"true"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-1/2","aria-hidden":"true"})]})]},_)),l.jsx("li",{className:"text-xs text-slate-500 pl-1",children:"Loading latest headlines"})]}),!Eu&&bn&&l.jsx("p",{className:"text-xs text-red-600",children:bn}),!Eu&&!bn&&An.length===0&&l.jsx("p",{className:"text-xs text-slate-600",children:"No headlines available right now. Please check back soon."}),!Eu&&!bn&&An.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("ul",{className:"space-y-4",children:An.map(v=>l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"peptide-news-thumb flex-none ring-1 ring-white/40 shadow-sm",children:l.jsx("img",{src:v.image??Aoe,alt:`Peptide news: ${v.title}`,loading:"lazy"})}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{children:l.jsxs("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"text-[rgb(95,179,249)] font-semibold hover:underline underline-offset-4","aria-label":`${v.date?QI(v.date)+"  ":""}${v.title}`,children:[v.date&&l.jsx("span",{className:"text-xs text-gray-500 mr-2",children:QI(v.date)}),l.jsx("span",{className:"align-middle",children:v.title})]})}),v.summary&&l.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:v.summary})]})]},v.url))}),l.jsxs("div",{className:"pt-4 text-[11px] uppercase tracking-wide text-gray-500 border-t border-white/40",children:["Source:"," ",l.jsx("a",{href:"https://www.nature.com/subjects/peptides",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-[rgb(95,179,249)] hover:underline underline-offset-4",children:"Nature.com  Peptide Subject"})]})]})]})]})}),l.jsx("div",{className:"post-login-info glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] pt-6 px-6 pb-4 sm:pt-8 sm:px-8 sm:pb-5 shadow-xl",style:{backdropFilter:"blur(38px) saturate(1.6)"},children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:`flex w-full flex-wrap items-center gap-3 pb-2 ${Js(r?.role)?"justify-between":""}`,children:[l.jsxs(Ue,{type:"button",size:"lg",onClick:Ks,className:"text-white squircle-sm px-6 py-2 font-semibold uppercase tracking-wide shadow-lg shadow-[rgba(95,179,249,0.4)] focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-[rgba(95,179,249,0.35)] focus-visible:ring-offset-2 focus-visible:ring-offset-white transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"rgb(95, 179, 249)"},children:[l.jsx(r6,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),l.jsx("span",{children:"Logout"})]}),l.jsxs(Ue,{type:"button",size:"lg",onClick:Hb,disabled:!(pc||Je(r?.role)||Ft(r?.role)||coe(r?.role)),className:"text-white squircle-sm px-6 py-2 font-semibold uppercase tracking-wide shadow-lg shadow-[rgba(95,179,249,0.4)] focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-[rgba(95,179,249,0.35)] focus-visible:ring-offset-2 focus-visible:ring-offset-white transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"rgb(95, 179, 249)"},children:[l.jsx("span",{className:"mr-2",children:"Shop"}),l.jsx(a6,{className:"h-4 w-4","aria-hidden":"true"})]}),(Ft(r?.role)||Je(r?.role))&&l.jsxs("span",{className:"text-[11px] text-slate-600 italic",children:["Shop for physicians:"," ",pc?"Enabled":"Disabled"]})]}),Ee&&l.jsxs("div",{className:"glass-card squircle-md p-4 space-y-3 border border-[var(--brand-glass-border-2)]",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[rgb(95,179,249)]",children:"The Peptide Forum"}),!z&&Je(r?.role)&&l.jsx("p",{className:"text-[11px] text-amber-700",children:"Hidden for users (admin override)"})]}),l.jsx("div",{className:"flex flex-col items-end gap-1",children:l.jsx(Ue,{type:"button",variant:"outline",size:"sm",className:"header-home-button squircle-sm bg-white text-slate-900",onClick:()=>void pt(),disabled:pe,children:pe?"Refreshing":"Refresh"})})]}),pe&&l.jsx("ul",{className:"space-y-3","aria-live":"polite",children:Kb.map((v,_)=>l.jsx("li",{className:"rounded-lg border border-white/40 bg-white/70 px-3 py-2 shadow-sm animate-pulse min-h-[108px]",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-4 w-4/5 rounded bg-[rgba(95,179,249,0.14)]"}),l.jsx("div",{className:"h-3 w-full rounded bg-[rgba(95,179,249,0.10)]"}),l.jsx("div",{className:"h-3 w-11/12 rounded bg-[rgba(95,179,249,0.10)]"}),l.jsx("div",{className:"h-3 w-1/3 rounded bg-[rgba(95,179,249,0.12)]"})]})},_))}),!pe&&J&&l.jsx("p",{className:"text-xs text-red-600",role:"alert",children:J}),!pe&&!J&&(()=>{const v=(Ie||[]).slice().sort((_,C)=>{const E=o=>{if(!o)return Number.NEGATIVE_INFINITY;const u=Date.parse(o);return Number.isFinite(u)?u:Number.NEGATIVE_INFINITY},$=E(_?.date??null);return E(C?.date??null)-$}).filter(_=>{const C=_?.date??null,E=C?Date.parse(C):Number.NaN;if(!Number.isFinite(E))return!!(_?.link&&String(_.link).trim()||_?.recording&&String(_.recording).trim());const $=!!(_?.recording&&String(_.recording).trim()),i=!!(_?.link&&String(_.link).trim());return E<Date.now()?$:i||$});return v.length===0?l.jsxs("p",{className:"text-xs text-slate-500",children:["Stay tuned! New classes will be scheduled here and on our"," ",l.jsx("a",{href:"https://www.linkedin.com/company/peppro/posts/?feedView=all",target:"_blank",rel:"noreferrer",className:"text-[rgb(26,85,173)] hover:underline",children:"LinkedIn"}),"."]}):l.jsx("ul",{className:"space-y-3",children:v.map(_=>l.jsx("li",{className:"rounded-lg border border-white/40 bg-white/70 px-3 py-2 shadow-sm",children:l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[_.date?`${$n(_.date)}  `:"",_.title]}),_.description&&l.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:_.description}),(()=>{const C=_?.date??null,E=C?Date.parse(C):Number.NaN,$=Number.isFinite(E)?E<Date.now():!1,i=_?.recording&&String(_.recording).trim()?String(_.recording).trim():null,o=_?.link&&String(_.link).trim()?String(_.link).trim():null,u=$?i:o;if(!u)return null;const m=$?"Recording Available":"Join the Lecture";return l.jsx("p",{className:"text-sm mt-1 pt-0.5",children:l.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"font-semibold !text-[rgb(95,179,249)] hover:underline underline-offset-4",style:{color:"rgb(95, 179, 249)"},children:l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx(w6,{className:"h-4 w-4","aria-hidden":"true"}),l.jsx("span",{children:m})]})})})})()]})},_.id))})})()]}),!(Ft(r.role)||Je(r.role))&&l.jsxs("div",{className:"glass-card squircle-md p-4 space-y-2 border border-[var(--brand-glass-border-2)]",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Please contact your Representative anytime."}),l.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Name:"})," ",r.salesRep?.name||"N/A"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Email:"})," ",r.salesRep?.email?l.jsx("a",{href:`mailto:${r.salesRep.email}`,className:"text-[rgb(95,179,249)] hover:underline",children:r.salesRep.email}):"N/A"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Phone:"})," ",r.salesRep?.phone||"N/A"]})]})]}),l.jsx("div",{className:"relative flex flex-col gap-6 max-h-[70vh]",children:l.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-16"})})]})})]})}):l.jsx("div",{className:`w-full max-w-md ${B==="signup"?"mt-3 sm:mt-4 md:mt-6":"mt-4 sm:mt-6 md:mt-8"}`,children:l.jsx("div",{className:"glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] p-8 shadow-xl",style:{backdropFilter:"blur(38px) saturate(1.6)"},children:l.jsxs("div",{className:B==="signup"?"space-y-6":"space-y-4",children:[B==="login"&&l.jsx(l.Fragment,{children:l.jsxs("form",{onSubmit:async v=>{if(v.preventDefault(),Sa)return;const _=C=>{if(typeof navigator<"u"&&navigator.onLine===!1)return"offline";const E=String(C||"").toLowerCase().trim();return E?E.includes("internet connection appears to be offline")||E.includes("appears to be offline")||E.includes("no internet")||E.includes("offline")?"offline":E.includes("failed to fetch")||E.includes("networkerror")||E.includes("network request failed")||E.includes("load failed")||E.includes("timeout")||E.includes("econnrefused")||E.includes("enotfound")||E.includes("eai_again")?"network":null:null};an(""),nn(!0);try{const C=new FormData(v.currentTarget),E=await Oc(C.get("username"),C.get("password"));if(E.status!=="success")if(E.status==="invalid_password")an("Incorrect password. Please try again.");else if(E.status==="email_not_found")an("We could not find that email.");else{const $=_(E?.message??null);an($==="offline"?"No internet connection detected. Please turn on WiFi or cellular data and try again.":$==="network"?"Can't reach PepPro right now. This usually means your internet is offline or very slow. Please check your connection and try again.":"Unable to log in. Please try again.")}}catch(C){console.warn("[Landing Login] Failed",C);const E=_(C instanceof Error?C.message:null);an(E==="offline"?"No internet connection detected. Please turn on WiFi or cellular data and try again.":E==="network"?"We cannot reach the PepPro serverright now. Please check your connection and try again in a minute.":"Unable to log in. Please try again.")}finally{nn(!1)}},className:"space-y-3",autoComplete:"on",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-username",className:"text-sm font-medium",children:"Email"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("input",{ref:Ze,id:"landing-username",name:"username",type:"text",autoComplete:"username",inputMode:"email",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,required:!0,onFocus:sd,className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})}),l.jsx("input",{type:"text",autoComplete:"webauthn","aria-hidden":"true",tabIndex:-1,style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",opacity:0}})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-password",className:"text-sm font-medium",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{ref:et,id:"landing-password",name:"password",type:xa?"text":"password",autoComplete:"current-password",autoCorrect:"off",spellCheck:!1,required:!0,onFocus:sd,className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.jsx("button",{type:"button",onClick:()=>lr(v=>!v),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":xa?"Hide password":"Show password","aria-pressed":xa,children:xa?l.jsx(Fc,{className:"h-5 w-5"}):l.jsx($c,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-sm text-gray-600",children:[l.jsxs("p",{children:["Forgot your password?"," ",l.jsx("button",{type:"button",onClick:()=>kc("forgot"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Reset it"})]}),jt.platform&&l.jsxs("button",{type:"button",onClick:Hm,disabled:Xr,className:"inline-flex items-center gap-1 font-semibold text-transparent hover:text-transparent focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Sign in with a passkey (biometrics)",style:{backgroundColor:"transparent",borderColor:"transparent"},children:[Xr?l.jsx(of,{className:"h-4 w-4 animate-spin-slow","aria-hidden":"true"}):l.jsx(_6,{className:"h-4 w-4","aria-hidden":"true"}),l.jsx("span",{className:"sr-only",children:"Sign in with passkey"})]})]})]}),Tf&&l.jsx("p",{className:"text-sm text-red-600",role:"alert",children:Tf}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ue,{type:"submit",size:"lg",className:"mt-2 w-full squircle-sm glass-brand btn-hover-lighter inline-flex items-center justify-center gap-2",disabled:Sa,children:[Sa&&l.jsx(of,{className:"h-4 w-4 animate-spin-slow text-white shrink-0","aria-hidden":"true",style:{transformOrigin:"center center",transform:"translateZ(0)"}}),Sa?"Signing in":"Sign In"]}),l.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Have a referral code?"," ",l.jsx("button",{type:"button",onClick:()=>kc("signup"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Create an account"})]})]})]})}),B==="forgot"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Reset your password"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Enter the email associated with your account and well send you a secure link."})]}),l.jsxs("form",{onSubmit:Wr,className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-reset-email",className:"text-sm font-medium",children:"Email"}),l.jsx("input",{id:"landing-reset-email",type:"email",required:!0,value:Wa,onChange:v=>{dn(v.target.value),zt&&$t(""),qt&&Ut(!1)},className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),zt&&l.jsx("p",{className:"text-sm text-red-600",role:"alert",children:zt}),qt&&l.jsx("p",{className:"text-sm text-emerald-600",role:"status",children:"Your reset link will likely arrive in your spam folder within the next 30 seconds."}),l.jsx(Ue,{type:"submit",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter inline-flex items-center justify-center gap-2",disabled:wa,children:wa?"Sending":qt?"Reset link sent":"Send reset link"})]}),l.jsx("div",{className:"text-center text-sm text-gray-600",children:l.jsx("button",{type:"button",onClick:()=>Xi(),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Return to sign in"})})]}),B==="reset"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Choose a new password"}),l.jsx("p",{className:"text-sm text-gray-600",children:Ot?"Create a new password to secure your account.":"This reset link is invalid or expired. Request a new one to continue."})]}),!cr&&l.jsxs("form",{onSubmit:zb,className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-new-password",className:"text-sm font-medium",children:"New password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"landing-new-password",type:xs?"text":"password",value:Wi,onChange:v=>Ko(v.target.value),required:!0,disabled:!Ot,className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 disabled:bg-slate-50 disabled:text-slate-500"}),l.jsx("button",{type:"button",onClick:()=>ur(v=>!v),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":xs?"Hide new password":"Show new password","aria-pressed":xs,children:xs?l.jsx(Fc,{className:"h-5 w-5"}):l.jsx($c,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-confirm-password",className:"text-sm font-medium",children:"Confirm password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"landing-confirm-password",type:Va?"text":"password",value:pi,onChange:v=>Vl(v.target.value),required:!0,disabled:!Ot,className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 disabled:bg-slate-50 disabled:text-slate-500"}),l.jsx("button",{type:"button",onClick:()=>nu(v=>!v),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":Va?"Hide confirm password":"Show confirm password","aria-pressed":Va,children:Va?l.jsx(Fc,{className:"h-5 w-5"}):l.jsx($c,{className:"h-5 w-5"})})]})]}),Rr&&l.jsx("p",{className:"text-sm text-red-600",role:"alert",children:Rr}),l.jsx(Ue,{type:"submit",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter inline-flex items-center justify-center gap-2",disabled:!Ot||Tr,children:Tr?"Updating":"Update password"})]}),cr&&l.jsxs("div",{className:"space-y-3 text-center",children:[l.jsx("p",{className:"text-sm text-emerald-600",role:"status",children:cr}),l.jsx(Ue,{type:"button",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter",onClick:()=>Xi(),children:"Return to sign in"})]}),!Ot&&!cr&&l.jsx("div",{className:"text-center text-sm text-gray-600",children:l.jsx("button",{type:"button",onClick:()=>kc("forgot"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Request a new reset link"})}),l.jsx("div",{className:"text-center text-sm text-gray-600",children:l.jsx("button",{type:"button",onClick:()=>kc("login"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Back to sign in"})})]}),B==="signup"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-center space-y-2",children:l.jsx("h1",{className:"text-2xl font-semibold",children:"Join the PepPro Network"})}),l.jsxs("form",{onSubmit:async v=>{v.preventDefault(),pn("");const _=new FormData(v.currentTarget),C=_.get("suffix")||"",E=_.get("name")||"",i={name:C?`${C} ${E}`.trim():E,email:_.get("email")||"",password:_.get("password")||"",confirmPassword:_.get("confirm")||"",code:(_.get("code")||"").toUpperCase(),npiNumber:_.get("npiNumber")||""},o=await Lh(i);o.status==="success"?kc("login"):o.status==="email_exists"?pn("An account with this email already exists. Please sign in."):o.status==="invalid_referral_code"?pn("Referral codes must be 5 characters (e.g., AB123)."):o.status==="referral_code_not_found"?pn("We couldn't locate that referral code. Please confirm it with your representative."):o.status==="referral_code_unavailable"?pn("This onboarding code isn't available. Please confirm it with your representative."):o.status==="name_email_required"?pn("Name and email are required to create your account."):o.status==="password_mismatch"?pn("Passwords do not match. Please confirm and try again."):o.status==="invalid_npi"?pn("Enter a valid 10-digit NPI number assigned to you by CMS."):o.status==="npi_not_found"?pn("We couldn't verify that NPI number in the CMS registry. Please double-check and try again."):o.status==="npi_already_registered"?pn("An account already exists for this NPI number. Please sign in or contact support@peppro.net."):o.status==="npi_verification_failed"?pn("We were unable to reach the CMS NPI registry. Please try again in a moment."):o.status==="error"&&(o.message==="PASSWORD_REQUIRED"?pn("Please create a secure password to access your account."):o.message?pn(o.message):pn("Unable to create account. Please try again."))},className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:gap-4",children:[l.jsxs("div",{className:"space-y-2 sm:w-36",children:[l.jsxs("label",{htmlFor:"landing-suffix",className:"text-sm font-medium",children:[l.jsx("span",{children:"Suffix"}),l.jsx("span",{className:"ml-2 text-xs font-normal text-gray-500",children:"Optional"})]}),l.jsxs("select",{id:"landing-suffix",name:"suffix",className:"glass squircle-sm w-full px-3 text-sm border transition-colors focus-visible:outline-none focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)] leading-tight",style:{borderColor:"rgba(95,179,249,0.18)",backgroundColor:"rgba(95,179,249,0.02)",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23071b1b' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"12px",paddingRight:"2.5rem",height:"2.5rem",lineHeight:"1.25rem"},children:[l.jsx("option",{value:"",children:"None"}),l.jsx("option",{value:"Mr.",children:"Mr."}),l.jsx("option",{value:"Mrs.",children:"Mrs."}),l.jsx("option",{value:"Ms.",children:"Ms."}),l.jsx("option",{value:"Mx.",children:"Mx."}),l.jsx("option",{value:"Dr.",children:"Dr."}),l.jsx("option",{value:"Prof.",children:"Prof."}),l.jsx("option",{value:"Sir",children:"Sir"}),l.jsx("option",{value:"Dame",children:"Dame"})]})]}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("label",{htmlFor:"landing-name",className:"text-sm font-medium",children:"Full Name"}),l.jsx("input",{id:"landing-name",name:"name",type:"text",required:!0,className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-email2",className:"text-sm font-medium",children:"Email"}),l.jsx("input",{id:"landing-email2",name:"email",type:"email",required:!0,className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-password2",className:"text-sm font-medium",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"landing-password2",name:"password",type:Vn?"text":"password",required:!0,autoComplete:"new-password",className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.jsx("button",{type:"button",onClick:()=>Kt(v=>!v),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":Vn?"Hide password":"Show password","aria-pressed":Vn,children:Vn?l.jsx(Fc,{className:"h-5 w-5"}):l.jsx($c,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-confirm",className:"text-sm font-medium",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"landing-confirm",name:"confirm",type:Or?"text":"password",required:!0,autoComplete:"new-password",className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.jsx("button",{type:"button",onClick:()=>tn(v=>!v),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":Or?"Hide confirm password":"Show confirm password","aria-pressed":Or,children:Or?l.jsx(Fc,{className:"h-5 w-5"}):l.jsx($c,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-npi",className:"text-sm font-medium",children:"NPI Number"}),l.jsx("input",{id:"landing-npi",name:"npiNumber",type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:10,placeholder:"10-digit NPI",onInput:v=>{const _=v.currentTarget,C=_.value.replace(/[^0-9]/g,"").slice(0,10);_.value=C,Ec(C)},className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.jsxs("p",{className:`text-xs ${uo==="verified"?"text-emerald-600":uo==="rejected"?"text-red-600":"text-slate-500"}`,children:[uo==="idle"&&"We securely verify your medical credentials with the CMS NPI registry.",uo==="checking"&&"Contacting the CMS NPI registry...",uo==="verified"&&l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("span",{className:"npi-checkmark","aria-hidden":"true",children:""}),lu||"NPI verified with the CMS registry."]}),uo==="rejected"&&(lu||"We were unable to verify this NPI number. Please double-check and try again.")]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-code",className:"text-sm font-medium",children:"Referral Code"}),l.jsx("input",{id:"landing-code",name:"code",type:"text",required:!0,maxLength:5,inputMode:"text",pattern:"[A-Z0-9]*",autoComplete:"off",onInput:v=>{const _=v.currentTarget;_.value=_.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,5)},className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",style:{textTransform:"uppercase"}}),l.jsx("p",{className:"text-xs text-slate-500",children:"Codes are 5 characters and issued by your representative."})]}),Jl&&l.jsx("p",{className:"text-sm text-red-600",role:"alert",children:Jl}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ue,{type:"submit",size:"lg",className:"mt-2 w-full squircle-sm glass-brand btn-hover-lighter",children:"Create Account"}),l.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",l.jsx("button",{type:"button",onClick:()=>kc("login"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Sign in"})]})]})]})]})]})})})]}),r&&!X&&l.jsxs("main",{className:"w-full pb-12 mobile-safe-area",style:{paddingTop:"calc(var(--app-header-height, 0px) + 1rem)"},children:[Ft(r.role)||Je(r.role)?Gb():Vb(),Fh()]})]}),r?l.jsx(TI,{showContactCTA:!1,variant:"full"}):l.jsx(TI,{showContactCTA:!0,variant:"ctaOnly"})]}),l.jsx(kq,{isOpen:c,onClose:()=>d(!1),cartItems:a,onCheckout:Ii,onClearCart:()=>s([]),onPaymentSuccess:()=>{const v=Date.now(),_=Vi.current;Yl({tab:"orders",open:!0,token:v,order:_??void 0}),Xo().catch(()=>{}),setTimeout(()=>{Yl(C=>C&&C.token===v?null:C)},2500)},onUpdateItemQuantity:vl,onRemoveItem:Op,isAuthenticated:!!r,onRequireLogin:$h,physicianName:r?.npiVerification?.name||r?.name||null,customerEmail:r?.email||null,customerName:r?.name||null,defaultShippingAddress:Yi,availableCredits:od,pricingMode:f,onPricingModeChange:p,showRetailPricingToggle:D}),l.jsx(Wc,{open:Xf,onOpenChange:v=>{v?Qf(!0):yd()},children:l.jsxs(Ml,{style:{maxWidth:"min(960px, calc(100vw - 3rem))"},children:[l.jsxs(Wu,{children:[l.jsx(kl,{children:"Enter Prospect"}),l.jsx(Hu,{children:"Create a manual prospect entry to jumpstart the pipeline."})]}),l.jsxs("form",{className:"space-y-4",onSubmit:kh,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Name"}),l.jsx(Ar,{value:Pi.name,onChange:v=>Ms(_=>({..._,name:v.target.value})),required:!0,placeholder:"Prospect name"})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Email"}),l.jsx(Ar,{type:"email",value:Pi.email,onChange:v=>Ms(_=>({..._,email:v.target.value})),placeholder:"prospect@email.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Phone"}),l.jsx(Ar,{value:Pi.phone,onChange:v=>Ms(_=>({..._,phone:v.target.value})),placeholder:"(555) 000-0000"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Notes"}),l.jsx(tj,{value:Pi.notes,onChange:v=>Ms(_=>({..._,notes:v.target.value})),rows:3,placeholder:"Add optional context",className:"notes-textarea"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Status"}),l.jsx("select",{value:Pi.status,onChange:v=>Ms(_=>({..._,status:v.target.value})),className:"w-full rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:XI.map(v=>l.jsx("option",{value:v.key,children:v.label},v.key))})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:yd,children:"Cancel"}),l.jsx(Ue,{type:"submit",disabled:dc,className:"squircle-sm glass-brand",children:dc?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(of,{className:"h-4 w-4 animate-spin"}),"Saving"]}):"Save Prospect"})]})]})]})}),l.jsx(Wc,{open:!!Re,onOpenChange:v=>{v||(Aa(null),sa(!1))},children:l.jsx(Ml,{className:"max-w-2xl",children:Za?l.jsxs(l.Fragment,{children:[l.jsx(A2,{children:l.jsx(kl,{children:"Loading account details"})}),pu()]}):Re&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs(Wu,{children:[l.jsxs(kl,{className:"space-y-0.5",children:[l.jsx("div",{className:"text-slate-900",children:Re.name}),l.jsx("div",{className:"text-sm font-normal text-slate-600",children:Re.email?l.jsx("a",{href:`mailto:${Re.email}`,className:"hover:underline",children:Re.email}):""})]}),l.jsx(Hu,{children:"Account details"})]}),Re&&Js(Re.role)&&l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/70 px-4 py-3 space-y-2 min-h-[240px]",children:[l.jsx("p",{className:"text-sm font-semibold justify-center text-slate-800",children:"Shared Notes (Rep and Admin only)"}),l.jsx(tj,{value:uu,onChange:v=>es(v.target.value),rows:4,placeholder:Dr?"Loading notes...":"Add notes about this doctor",className:"text-sm notes-textarea",disabled:Dr}),l.jsxs("div",{className:"mt-2 mb-1 flex items-center justify-end gap-2",children:[vo&&l.jsx(Z6,{className:"h-4 w-4 text-emerald-600"}),l.jsx(Ue,{type:"button",variant:"outline",onClick:()=>void ir(),className:"h-8 px-3 text-xs",disabled:Dr,children:"Save"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm",style:{width:72,height:72,minWidth:72,boxShadow:(()=>{const v=Re?.isOnline===!0,_=Re?.isIdle===!0,C=typeof Re?.idleMinutes=="number"&&Number.isFinite(Re.idleMinutes)?Re.idleMinutes:null;if(!v)return;const E=(()=>{const i=Re?.lastInteractionAt||Re?.lastSeenAt||Re?.lastLoginAt||null;if(!i)return null;const o=new Date(i).getTime();return Number.isFinite(o)?Math.max(0,(Date.now()-o)/6e4):null})();return _||C!=null&&C>=2||E!=null&&E>=2?"0 0 0 1px rgba(255,255,255,1), 0 0 0 4px rgba(148,163,184,1)":"0 0 0 1px rgba(255,255,255,1), 0 0 0 4px rgba(95,179,249,1)"})()},children:Re.avatar?l.jsx("img",{src:Re.avatar,alt:Re.name,className:"h-full w-full object-cover"}):l.jsx("span",{className:"text-lg font-semibold text-slate-600",children:ig(Re.name)})}),l.jsx("div",{className:"space-y-1",children:Ft(Re.role)||typeof Re.personalRevenue=="number"||typeof Re.salesRevenue=="number"?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-sm text-slate-600",children:["Personal Revenue:"," ",wt(Re.personalRevenue??Re.revenue)]}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Sales Revenue:"," ",wt(Re.salesRevenue??0)]}),(()=>{const v=Fi(Re.role||""),_=(U,W)=>{const Q=U?Gs(String(U)):null,ae=W?Gs(String(W)):null;return Q&&ae&&Q!==""&&ae!==""?`${Q} to ${ae}`:"All time"},C=U=>!U||Number.isNaN(U.getTime())?null:U.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),E=!!Nr?.from&&!!Nr?.to,$=E?(()=>{const U=C(Nr?.from||null),W=C(Nr?.to||null);return U&&W?`${U} to ${W}`:null})():null,i=(U,W)=>{if(!Array.isArray(U)||U.length===0)return[];const Q=W?.from?new Date(W.from):null,ae=W?.to?new Date(W.to):null;if(!Q||!ae)return U;Q.setHours(0,0,0,0),ae.setHours(23,59,59,999);const ue=Q.getTime(),he=ae.getTime();return U.filter(ve=>{const Ge=ve?.createdAt||ve?.created_at||ve?.dateCreated||ve?.date_created||null;if(!Ge)return!1;const V=new Date(Ge).getTime();return Number.isFinite(V)?V>=ue&&V<=he:!1})};if(v==="admin"){const U=Lt.find(Q=>String(Q?.id||"")===String(Re.doctorId||"")),W=_(Cn?.periodStart??null,Cn?.periodEnd??null);return l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("p",{className:"text-sm text-slate-600",children:["Total Commission:"," ",U?wt(Number(U.amount||0)):""]}),l.jsxs(bx,{open:ln,onOpenChange:Rn,children:[l.jsx(xx,{asChild:!0,children:l.jsx(Ue,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 glass-liquid squircle-sm text-slate-900 hover:text-slate-900","aria-label":"Select commission date range",children:l.jsx(px,{className:"h-4 w-4","aria-hidden":"true"})})}),l.jsx(wx,{children:l.jsxs(Sx,{side:"bottom",align:"start",sideOffset:8,className:"z-[10000] w-[320px] glass-liquid rounded-xl border border-white/60 p-3 shadow-xl",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Commission timeframe"}),l.jsx("div",{className:"mt-2",children:l.jsx(Ox,{mode:"range",numberOfMonths:1,selected:Nr,onSelect:Q=>{on(Q),Q?.from&&Q?.to&&(ka(Jp(Q.from)),il(Jp(Q.to)),hd())},defaultMonth:Nr?.from??void 0})}),l.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[l.jsx(Ue,{type:"button",variant:"ghost",size:"sm",className:"text-slate-700",onClick:()=>{const Q=Lu();on(void 0),ka(Q.start),il(Q.end),hd()},children:"Default"}),l.jsx(Ue,{type:"button",variant:"outline",size:"sm",onClick:()=>Rn(!1),children:"Done"})]}),l.jsx(Nx,{className:"fill-white"})]})})]}),l.jsxs("span",{className:"text-sm text-slate-500",children:["(",$||W,")"]})]})}const o=ks.find(U=>String(U?.salesRepId||"")===String(Re.doctorId||"")),m=i(Re.orders,Nr).filter(U=>Ni(U?.status)),b=E||m.length>0?m.reduce((U,W)=>{const Q=Br(W?.total)||0,ae=W?.pricingMode||W?.pricing_mode||W?.pricing||W?.priceType||null,ue=String(ae||"").toLowerCase().trim();return ue==="wholesale"?U.wholesale+=Q:U.retail+=Q,U},{wholesale:0,retail:0}):null,w=Number(b?.wholesale??o?.wholesaleRevenue??Re.salesWholesaleRevenue??0),A=Number(b?.retail??o?.retailRevenue??Re.salesRetailRevenue??0);if(!Number.isFinite(w)&&!Number.isFinite(A))return null;const L=w*.1+A*.2,F=_(Os?.periodStart??null,Os?.periodEnd??null);return l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("p",{className:"text-sm text-slate-600",children:["Total Commission: ",wt(L)]}),l.jsxs(bx,{open:ln,onOpenChange:Rn,children:[l.jsx(xx,{asChild:!0,children:l.jsx(Ue,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 glass-liquid squircle-sm text-slate-900 hover:text-slate-900","aria-label":"Select commission date range",children:l.jsx(px,{className:"h-4 w-4","aria-hidden":"true"})})}),l.jsx(wx,{children:l.jsxs(Sx,{side:"bottom",align:"start",sideOffset:8,className:"z-[10000] w-[320px] glass-liquid rounded-xl border border-white/60 p-3 shadow-xl",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Commission timeframe"}),l.jsx("div",{className:"mt-2",children:l.jsx(Ox,{mode:"range",numberOfMonths:1,selected:Nr,onSelect:on,defaultMonth:Nr?.from??void 0})}),l.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[l.jsx(Ue,{type:"button",variant:"ghost",size:"sm",className:"text-slate-700",onClick:()=>on(void 0),children:"All time"}),l.jsx(Ue,{type:"button",variant:"outline",size:"sm",onClick:()=>Rn(!1),children:"Done"})]}),l.jsx(Nx,{className:"fill-white"})]})})]}),l.jsxs("span",{className:"text-sm text-slate-500",children:["(",$||F,")"]})]})})(),null]}):Js(Re.role)?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-sm text-slate-600",children:["Order Quantity:"," ",Re.orderQuantity??Re.orders.filter(v=>Ni(v.status)).length]}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Total Order Value:"," ",wt(Re.totalOrderValue??Re.revenue)]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-sm text-slate-600",children:["Orders: ",Re.orders.length]}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Revenue: ",wt(Re.revenue)]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Contact"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50/60 px-3 py-2 text-sm text-slate-700 space-y-1",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-slate-800",children:"Email: "}),Re.email?l.jsx("a",{href:`mailto:${Re.email}`,children:Re.email}):l.jsx("span",{children:"Unavailable"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-slate-800",children:"Phone: "}),(()=>{const v=!!(Re&&(Je(r?.role)||Ft(r?.role)&&ho&&Re.ownerSalesRepId&&ho===Re.ownerSalesRepId)),_=ca.trim(),C=Re.phone||"",E=_!==C.trim();return v?l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Ar,{type:"tel",value:ca,onChange:$=>ua($.target.value),className:"block w-full rounded-md border border-slate-200/80 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-100",placeholder:"Enter phone number"}),l.jsx(Ue,{type:"button",size:"xs",variant:"outline",className:"self-start whitespace-nowrap",onClick:()=>void ot(),disabled:ei||!E,children:ei?"Saving":"Save"})]}):l.jsx("span",{children:Re.phone||"Unavailable"})})()]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Address"}),l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50/60 px-3 py-2 text-sm text-slate-700 whitespace-pre-line min-h-[72px]",children:Re.address||"Unavailable"})]})]}),(()=>{const v=Re.orders.filter(_=>Ni(_.status)).length;return l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Total Orders"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:v})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Last Order"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Re.lastOrderDate?$n(Re.lastOrderDate):"Unavailable"})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Avg Order Value"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:Re.avgOrderValue?wt(Re.avgOrderValue):""})]})]})})(),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Recent Orders"}),l.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:[Re.orders.map(v=>l.jsxs("button",{type:"button",onClick:()=>Lf(v),className:"w-full text-left flex items-start justify-between gap-3 rounded-lg border border-slate-200 px-3 py-2 cursor-pointer transition hover:shadow-sm hover:border-[rgb(95,179,249)]",children:[l.jsxs("div",{className:"min-w-0 text-sm text-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("span",{className:"font-semibold text-slate-800 truncate",children:`Order #${v.number??v.id}`}),l.jsx("span",{className:"sales-tracking-row-status shrink-0",children:RN(v)})]}),l.jsx("div",{className:"text-xs text-slate-500",children:v.createdAt?$n(v.createdAt):"Date unavailable"})]}),l.jsx("div",{className:"text-right text-sm font-semibold text-slate-900 whitespace-nowrap",children:wt((v.grandTotal??v.total)||0)})]},v.id)),Re.orders.length===0&&l.jsx("p",{className:"text-xs text-slate-500",children:"No orders available."})]})]}),l.jsx("div",{className:"mt-2 text-center text-[11px] font-normal text-slate-400",children:(()=>{const v=String(Re.doctorId??"").trim();return`ID: ${(v.includes(":")?v.split(":").slice(-1)[0].trim():v)||""}`})()})]})})}),l.jsx(Wc,{open:!!le,onOpenChange:v=>{v||(ye(null),Be(!1),Z.current=null)},children:l.jsxs(Ml,{className:"max-w-4xl",children:[we&&l.jsxs(l.Fragment,{children:[l.jsx(A2,{children:l.jsx(kl,{children:"Loading order details"})}),Ff()]}),!we&&le&&l.jsxs(l.Fragment,{children:[l.jsxs(Wu,{children:[l.jsx(kl,{children:le.number?`Order #${le.number}`:"Order details"}),l.jsx(Hu,{children:le.doctorName||le.doctorEmail||""})]}),(()=>{const v=le.shippingEstimate||null,_=le.shippingAddress||le.shipping||le.shipping_address||null,C=le.billingAddress||le.billing||le.billing_address||null,E=le.lineItems||le.lineItems||le.line_items||[],$=E.reduce((V,H)=>{const re=Br(H.total??H.subtotal)??(Br(H.price)??0)*(Br(H.quantity)??0);return V+(Number.isFinite(re)?re:0)},0),i=Br(le.shippingTotal??le.shipping_total??le.shippingTotal)??0,o=Br(le.taxTotal??le.total_tax??le.totalTax)??0,u=$+i+o,m=typeof le.grandTotal=="number"?le.grandTotal:null,b=typeof m=="number"&&Number.isFinite(m)&&m>0?m:u,w=(()=>{const V=le.integrationDetails||le.integrations||{},H=V?.stripe||V?.Stripe||null,re=H?.cardLast4||H?.card_last4||H?.last4||null,ge=H?.cardBrand||H?.card_brand||H?.brand||null;if(re)return`${ge||"Card"}  ${re}`;const Ne=le.paymentDetails||le.paymentMethod||null;return typeof Ne=="string"&&/stripe onsite/i.test(Ne)?"Card payment":typeof Ne=="string"&&doe(Ne)||Ne})(),A=V=>{if(!V)return l.jsx("p",{className:"text-sm text-slate-500",children:""});const H=[V.name,[V.addressLine1,V.addressLine2].filter(Boolean).join(" ").trim(),[V.city,V.state,V.postalCode].filter(Boolean).join(", ").trim(),V.country,V.phone,V.email].filter(re=>re&&String(re).trim().length>0).map((re,ge)=>l.jsx("p",{className:"text-sm text-slate-700",children:re},ge));return H.length>0?H:l.jsx("p",{className:"text-sm text-slate-500",children:""})},L=le.createdAt||le.dateCreated||le.date_created||le.updatedAt||null,F=String(v?.status||le.status||"").toString().trim().toLowerCase(),U=le.expectedShipmentWindow||le.expected_shipment_window||null,Q=F==="shipped"&&v?.estimatedArrivalDate?Gs(v.estimatedArrivalDate):"",ae=V=>V?V.replace(/^ups_/i,"UPS ").replace(/_/g," ").trim().replace(/\s+/g," ").replace(/\b(\w)/g,H=>H.toUpperCase()):null,ue=ae(v?.serviceType)||v?.serviceType||null;ae(v?.carrierId)||v?.carrierId;const he=B0(le),ve=!!(U&&!(F==="shipped"&&he)),Ge=he?foe(he,v?.carrierId||v?.carrier_id||(ue||"").toLowerCase().includes("ups")?"ups":null):null;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm text-slate-700",children:[l.jsxs("div",{children:[l.jsx("p",{className:"uppercase text-[11px] tracking-[0.08em] text-slate-500",children:"Order placed"}),l.jsx("p",{className:"font-semibold text-slate-900",children:L?$n(L):""})]}),l.jsxs("div",{children:[l.jsx("p",{className:"uppercase text-[11px] tracking-[0.08em] text-slate-500",children:"Total"}),l.jsx("p",{className:"font-semibold text-slate-900",children:wt(b,le.currency||"USD")})]}),l.jsxs("div",{children:[l.jsx("p",{className:"uppercase text-[11px] tracking-[0.08em] text-slate-500",children:"Status"}),l.jsx(Bc,{variant:"secondary",className:"uppercase",children:RN(le)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"uppercase text-[11px] tracking-[0.08em] text-slate-500",children:"Expected delivery"}),l.jsx("p",{className:"font-semibold text-slate-900",children:Q})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Shipping Information"}),A(_),l.jsxs("div",{className:"text-sm text-slate-700 space-y-1",children:[ue&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Service:"})," ",ue]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Tracking:"})," ",Ge?l.jsx("a",{href:Ge,target:"_blank",rel:"noreferrer",className:"text-[rgb(26,85,173)] hover:underline",children:he}):he||"Provided when shipped"]}),Number.isFinite(i)&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Shipping:"})," ",wt(i,le.currency||"USD")]}),Q&&Q!==""&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Expected:"})," ",Q]}),ve&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Estimated ship window:"})," ",U]})]}),(()=>{const V=!!(r?.role&&(Ft(r.role)||Je(r.role))),H=ge=>(ge||"").trim(),re=H(_a.trackingNumber)!==H(vi.trackingNumber)||H(_a.shippingCarrier)!==H(vi.shippingCarrier)||H(_a.shippingService)!==H(vi.shippingService)||H(_a.status)!==H(vi.status)||H(_a.expectedShipmentWindow)!==H(vi.expectedShipmentWindow);return V?l.jsxs("div",{className:"mt-3 space-y-2 rounded-lg border border-slate-200 bg-slate-50/60 p-3",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-600",children:"Edit (PepPro)"}),l.jsx("p",{className:"text-[11px] text-slate-500",children:re?"Unsaved changes":"Saved"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[l.jsxs("label",{className:"text-xs text-slate-600",children:["Tracking number",l.jsx("input",{value:_a.trackingNumber,onChange:ge=>Qa(Ne=>({...Ne,trackingNumber:ge.target.value})),placeholder:"Enter tracking",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:bi})]}),l.jsxs("label",{className:"text-xs text-slate-600",children:["Status",l.jsx("input",{list:"peppro-order-status-options",value:_a.status,onChange:ge=>Qa(Ne=>({...Ne,status:ge.target.value})),placeholder:"processing / shipped / delivered",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:bi})]}),l.jsxs("label",{className:"text-xs text-slate-600",children:["Carrier",l.jsx("input",{list:"peppro-order-carrier-options",value:_a.shippingCarrier,onChange:ge=>Qa(Ne=>({...Ne,shippingCarrier:ge.target.value})),placeholder:"UPS / USPS / FedEx",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:bi})]}),l.jsxs("label",{className:"text-xs text-slate-600",children:["Service",l.jsx("input",{value:_a.shippingService,onChange:ge=>Qa(Ne=>({...Ne,shippingService:ge.target.value})),placeholder:"Ground / 2 Day",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:bi})]}),l.jsxs("label",{className:"text-xs text-slate-600 sm:col-span-2",children:["Estimated ship window",l.jsx("input",{value:_a.expectedShipmentWindow,onChange:ge=>Qa(Ne=>({...Ne,expectedShipmentWindow:ge.target.value})),placeholder:"e.g., Ships in 12 business days",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:bi})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3",children:[l.jsx(Ue,{type:"button",variant:"outline",onClick:()=>{Qa(vi)},disabled:bi||!re,children:"Reset"}),l.jsx(Ue,{type:"button",onClick:ud,disabled:bi||!re,className:"gap-2",children:bi?"Saving":"Save"})]}),l.jsxs("datalist",{id:"peppro-order-status-options",children:[l.jsx("option",{value:"processing"}),l.jsx("option",{value:"awaiting_shipment"}),l.jsx("option",{value:"shipped"}),l.jsx("option",{value:"in_transit"}),l.jsx("option",{value:"out_for_delivery"}),l.jsx("option",{value:"delivered"}),l.jsx("option",{value:"completed"}),l.jsx("option",{value:"cancelled"}),l.jsx("option",{value:"refunded"})]}),l.jsxs("datalist",{id:"peppro-order-carrier-options",children:[l.jsx("option",{value:"ups"}),l.jsx("option",{value:"usps"}),l.jsx("option",{value:"fedex"}),l.jsx("option",{value:"dhl"})]}),l.jsx("p",{className:"text-[11px] text-slate-500",children:"Updates are saved in PepPro for display; this does not push changes to WooCommerce/ShipStation."})]}):null})()]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Billing Information"}),A(C),l.jsx("div",{className:"text-sm text-slate-700 space-y-1",children:l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Payment:"})," ",w||""]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Items"}),E.length?l.jsx("div",{className:"space-y-3",children:E.map((V,H)=>l.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-slate-100 p-3",children:[l.jsx("div",{className:"w-16 h-16 aspect-square rounded-md border border-slate-200 bg-white overflow-hidden flex items-center justify-center text-slate-500 flex-shrink-0",children:V.image?l.jsx("img",{src:V.image,alt:V.name||"Item thumbnail",className:"h-full w-full object-cover"}):l.jsx(Kp,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex-1 min-w-[10rem] space-y-1",children:[l.jsx("p",{className:"text-slate-900 font-semibold",children:V.name||"Item"}),l.jsxs("p",{className:"text-slate-600",children:["Qty: ",V.quantity??""]})]}),l.jsx("div",{className:"text-sm text-slate-700 text-right min-w-[6rem]",children:Number.isFinite(V.total)&&l.jsx("p",{className:"font-semibold",children:wt(V.total||0,le.currency||"USD")})})]},V.id||`${V.sku}-${H}`))}):l.jsx("p",{className:"text-sm text-slate-600",children:"No line items available."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Order Summary"}),l.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal"}),l.jsx("span",{children:wt($,le.currency||"USD")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{children:wt(i,le.currency||"USD")})]}),o>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tax"}),l.jsx("span",{children:wt(o,le.currency||"USD")})]}),l.jsxs("div",{className:"flex justify-between text-base font-semibold text-slate-900 border-t border-slate-100 pt-2",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{children:wt(b,le.currency||"USD")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h4",{className:"text-base font-semibold text-slate-900",children:["Notes ",l.jsx("span",{className:"text-sm font-normal text-slate-500",children:"(Visible to the doctor)"})]}),(()=>{const V=!!(r?.role&&(Ft(r.role)||Je(r.role))),H=typeof le?.notes=="string"?String(le.notes):"",re=As(H),ge=As(_e),Ne=re!==ge,Pe=!!((re||ge)&&String(re||ge).trim());return V?l.jsxs("div",{className:"space-y-2",children:[l.jsx("textarea",{value:_e,onChange:Oe=>rt(Oe.target.value),placeholder:"Add an order note",rows:4,className:"w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:bt}),l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:Ne?"Unsaved changes":"Saved"}),l.jsx(Ue,{type:"button",variant:"outline",onClick:$f,disabled:bt||!Ne,className:"gap-2",children:bt?"Saving":"Save notes"})]})]}):Pe?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-white/70 p-3",children:l.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:re||""})}):l.jsx("p",{className:"text-sm text-slate-500",children:"No notes for this order."})})()]})]})})()]})]})}),l.jsx(Mse,{product:x,isOpen:P,onClose:Hy,onAddToCart:Uy})]})}i3.createRoot(document.getElementById("root")).render(l.jsxs(l.Fragment,{children:[l.jsx(Qoe,{}),l.jsx(T3,{richColors:!0,position:"top-center"})]}));

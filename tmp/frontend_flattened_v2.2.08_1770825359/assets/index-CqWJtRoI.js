function oF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xw={exports:{}},oy={},ww={exports:{}},pr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2;function lF(){if(n2)return pr;n2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function v(X){return X===null||typeof X!="object"?null:(X=m&&X[m]||X["@@iterator"],typeof X=="function"?X:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,_={};function N(X,pe,re){this.props=X,this.context=pe,this.refs=_,this.updater=re||w}N.prototype.isReactComponent={},N.prototype.setState=function(X,pe){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,pe,"setState")},N.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function E(){}E.prototype=N.prototype;function D(X,pe,re){this.props=X,this.context=pe,this.refs=_,this.updater=re||w}var L=D.prototype=new E;L.constructor=D,P(L,N.prototype),L.isPureReactComponent=!0;var $=Array.isArray,R=Object.prototype.hasOwnProperty,M={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function V(X,pe,re){var xe,Re={},Le=null,Ke=null;if(pe!=null)for(xe in pe.ref!==void 0&&(Ke=pe.ref),pe.key!==void 0&&(Le=""+pe.key),pe)R.call(pe,xe)&&!F.hasOwnProperty(xe)&&(Re[xe]=pe[xe]);var Ve=arguments.length-2;if(Ve===1)Re.children=re;else if(1<Ve){for(var Te=Array(Ve),st=0;st<Ve;st++)Te[st]=arguments[st+2];Re.children=Te}if(X&&X.defaultProps)for(xe in Ve=X.defaultProps,Ve)Re[xe]===void 0&&(Re[xe]=Ve[xe]);return{$$typeof:e,type:X,key:Le,ref:Ke,props:Re,_owner:M.current}}function Y(X,pe){return{$$typeof:e,type:X.type,key:pe,ref:X.ref,props:X.props,_owner:X._owner}}function ue(X){return typeof X=="object"&&X!==null&&X.$$typeof===e}function te(X){var pe={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(re){return pe[re]})}var le=/\/+/g;function fe(X,pe){return typeof X=="object"&&X!==null&&X.key!=null?te(""+X.key):pe.toString(36)}function me(X,pe,re,xe,Re){var Le=typeof X;(Le==="undefined"||Le==="boolean")&&(X=null);var Ke=!1;if(X===null)Ke=!0;else switch(Le){case"string":case"number":Ke=!0;break;case"object":switch(X.$$typeof){case e:case t:Ke=!0}}if(Ke)return Ke=X,Re=Re(Ke),X=xe===""?"."+fe(Ke,0):xe,$(Re)?(re="",X!=null&&(re=X.replace(le,"$&/")+"/"),me(Re,pe,re,"",function(st){return st})):Re!=null&&(ue(Re)&&(Re=Y(Re,re+(!Re.key||Ke&&Ke.key===Re.key?"":(""+Re.key).replace(le,"$&/")+"/")+X)),pe.push(Re)),1;if(Ke=0,xe=xe===""?".":xe+":",$(X))for(var Ve=0;Ve<X.length;Ve++){Le=X[Ve];var Te=xe+fe(Le,Ve);Ke+=me(Le,pe,re,Te,Re)}else if(Te=v(X),typeof Te=="function")for(X=Te.call(X),Ve=0;!(Le=X.next()).done;)Le=Le.value,Te=xe+fe(Le,Ve++),Ke+=me(Le,pe,re,Te,Re);else if(Le==="object")throw pe=String(X),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.");return Ke}function ie(X,pe,re){if(X==null)return X;var xe=[],Re=0;return me(X,xe,"","",function(Le){return pe.call(re,Le,Re++)}),xe}function J(X){if(X._status===-1){var pe=X._result;pe=pe(),pe.then(function(re){(X._status===0||X._status===-1)&&(X._status=1,X._result=re)},function(re){(X._status===0||X._status===-1)&&(X._status=2,X._result=re)}),X._status===-1&&(X._status=0,X._result=pe)}if(X._status===1)return X._result.default;throw X._result}var ne={current:null},G={transition:null},ve={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:G,ReactCurrentOwner:M};function Se(){throw Error("act(...) is not supported in production builds of React.")}return pr.Children={map:ie,forEach:function(X,pe,re){ie(X,function(){pe.apply(this,arguments)},re)},count:function(X){var pe=0;return ie(X,function(){pe++}),pe},toArray:function(X){return ie(X,function(pe){return pe})||[]},only:function(X){if(!ue(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},pr.Component=N,pr.Fragment=r,pr.Profiler=a,pr.PureComponent=D,pr.StrictMode=n,pr.Suspense=d,pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,pr.act=Se,pr.cloneElement=function(X,pe,re){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var xe=P({},X.props),Re=X.key,Le=X.ref,Ke=X._owner;if(pe!=null){if(pe.ref!==void 0&&(Le=pe.ref,Ke=M.current),pe.key!==void 0&&(Re=""+pe.key),X.type&&X.type.defaultProps)var Ve=X.type.defaultProps;for(Te in pe)R.call(pe,Te)&&!F.hasOwnProperty(Te)&&(xe[Te]=pe[Te]===void 0&&Ve!==void 0?Ve[Te]:pe[Te])}var Te=arguments.length-2;if(Te===1)xe.children=re;else if(1<Te){Ve=Array(Te);for(var st=0;st<Te;st++)Ve[st]=arguments[st+2];xe.children=Ve}return{$$typeof:e,type:X.type,key:Re,ref:Le,props:xe,_owner:Ke}},pr.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:i,_context:X},X.Consumer=X},pr.createElement=V,pr.createFactory=function(X){var pe=V.bind(null,X);return pe.type=X,pe},pr.createRef=function(){return{current:null}},pr.forwardRef=function(X){return{$$typeof:u,render:X}},pr.isValidElement=ue,pr.lazy=function(X){return{$$typeof:g,_payload:{_status:-1,_result:X},_init:J}},pr.memo=function(X,pe){return{$$typeof:f,type:X,compare:pe===void 0?null:pe}},pr.startTransition=function(X){var pe=G.transition;G.transition={};try{X()}finally{G.transition=pe}},pr.unstable_act=Se,pr.useCallback=function(X,pe){return ne.current.useCallback(X,pe)},pr.useContext=function(X){return ne.current.useContext(X)},pr.useDebugValue=function(){},pr.useDeferredValue=function(X){return ne.current.useDeferredValue(X)},pr.useEffect=function(X,pe){return ne.current.useEffect(X,pe)},pr.useId=function(){return ne.current.useId()},pr.useImperativeHandle=function(X,pe,re){return ne.current.useImperativeHandle(X,pe,re)},pr.useInsertionEffect=function(X,pe){return ne.current.useInsertionEffect(X,pe)},pr.useLayoutEffect=function(X,pe){return ne.current.useLayoutEffect(X,pe)},pr.useMemo=function(X,pe){return ne.current.useMemo(X,pe)},pr.useReducer=function(X,pe,re){return ne.current.useReducer(X,pe,re)},pr.useRef=function(X){return ne.current.useRef(X)},pr.useState=function(X){return ne.current.useState(X)},pr.useSyncExternalStore=function(X,pe,re){return ne.current.useSyncExternalStore(X,pe,re)},pr.useTransition=function(){return ne.current.useTransition()},pr.version="18.3.1",pr}var a2;function YC(){return a2||(a2=1,ww.exports=lF()),ww.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2;function cF(){if(s2)return oy;s2=1;var e=YC(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var g,m={},v=null,w=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(w=d.ref);for(g in d)n.call(d,g)&&!i.hasOwnProperty(g)&&(m[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)m[g]===void 0&&(m[g]=d[g]);return{$$typeof:t,type:u,key:v,ref:w,props:m,_owner:a.current}}return oy.Fragment=r,oy.jsx=l,oy.jsxs=l,oy}var i2;function uF(){return i2||(i2=1,xw.exports=cF()),xw.exports}var s=uF(),p0={},Sw={exports:{}},no={},Nw={exports:{}},jw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2;function dF(){return o2||(o2=1,(function(e){function t(G,ve){var Se=G.length;G.push(ve);e:for(;0<Se;){var X=Se-1>>>1,pe=G[X];if(0<a(pe,ve))G[X]=ve,G[Se]=pe,Se=X;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ve=G[0],Se=G.pop();if(Se!==ve){G[0]=Se;e:for(var X=0,pe=G.length,re=pe>>>1;X<re;){var xe=2*(X+1)-1,Re=G[xe],Le=xe+1,Ke=G[Le];if(0>a(Re,Se))Le<pe&&0>a(Ke,Re)?(G[X]=Ke,G[Le]=Se,X=Le):(G[X]=Re,G[xe]=Se,X=xe);else if(Le<pe&&0>a(Ke,Se))G[X]=Ke,G[Le]=Se,X=Le;else break e}}return ve}function a(G,ve){var Se=G.sortIndex-ve.sortIndex;return Se!==0?Se:G.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],g=1,m=null,v=3,w=!1,P=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(G){for(var ve=r(f);ve!==null;){if(ve.callback===null)n(f);else if(ve.startTime<=G)n(f),ve.sortIndex=ve.expirationTime,t(d,ve);else break;ve=r(f)}}function $(G){if(_=!1,L(G),!P)if(r(d)!==null)P=!0,J(R);else{var ve=r(f);ve!==null&&ne($,ve.startTime-G)}}function R(G,ve){P=!1,_&&(_=!1,E(V),V=-1),w=!0;var Se=v;try{for(L(ve),m=r(d);m!==null&&(!(m.expirationTime>ve)||G&&!te());){var X=m.callback;if(typeof X=="function"){m.callback=null,v=m.priorityLevel;var pe=X(m.expirationTime<=ve);ve=e.unstable_now(),typeof pe=="function"?m.callback=pe:m===r(d)&&n(d),L(ve)}else n(d);m=r(d)}if(m!==null)var re=!0;else{var xe=r(f);xe!==null&&ne($,xe.startTime-ve),re=!1}return re}finally{m=null,v=Se,w=!1}}var M=!1,F=null,V=-1,Y=5,ue=-1;function te(){return!(e.unstable_now()-ue<Y)}function le(){if(F!==null){var G=e.unstable_now();ue=G;var ve=!0;try{ve=F(!0,G)}finally{ve?fe():(M=!1,F=null)}}else M=!1}var fe;if(typeof D=="function")fe=function(){D(le)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ie=me.port2;me.port1.onmessage=le,fe=function(){ie.postMessage(null)}}else fe=function(){N(le,0)};function J(G){F=G,M||(M=!0,fe())}function ne(G,ve){V=N(function(){G(e.unstable_now())},ve)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){P||w||(P=!0,J(R))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(G){switch(v){case 1:case 2:case 3:var ve=3;break;default:ve=v}var Se=v;v=ve;try{return G()}finally{v=Se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ve){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Se=v;v=G;try{return ve()}finally{v=Se}},e.unstable_scheduleCallback=function(G,ve,Se){var X=e.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?X+Se:X):Se=X,G){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Se+pe,G={id:g++,callback:ve,priorityLevel:G,startTime:Se,expirationTime:pe,sortIndex:-1},Se>X?(G.sortIndex=Se,t(f,G),r(d)===null&&G===r(f)&&(_?(E(V),V=-1):_=!0,ne($,Se-X))):(G.sortIndex=pe,t(d,G),P||w||(P=!0,J(R))),G},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(G){var ve=v;return function(){var Se=v;v=ve;try{return G.apply(this,arguments)}finally{v=Se}}}})(jw)),jw}var l2;function fF(){return l2||(l2=1,Nw.exports=dF()),Nw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2;function pF(){if(c2)return no;c2=1;var e=YC(),t=fF();function r(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(a[o]=c,o=0;o<c.length;o++)n.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function v(o){return d.call(m,o)?!0:d.call(g,o)?!1:f.test(o)?m[o]=!0:(g[o]=!0,!1)}function w(o,c,p,b){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function P(o,c,p,b){if(c===null||typeof c>"u"||w(o,c,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function _(o,c,p,b,j,k,q){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=b,this.attributeNamespace=j,this.mustUseProperty=p,this.propertyName=o,this.type=c,this.sanitizeURL=k,this.removeEmptyString=q}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){N[o]=new _(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];N[c]=new _(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){N[o]=new _(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){N[o]=new _(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){N[o]=new _(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){N[o]=new _(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){N[o]=new _(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){N[o]=new _(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){N[o]=new _(o,5,!1,o.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function D(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(E,D);N[c]=new _(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(E,D);N[c]=new _(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(E,D);N[c]=new _(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){N[o]=new _(o,1,!1,o.toLowerCase(),null,!1,!1)}),N.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){N[o]=new _(o,1,!1,o.toLowerCase(),null,!0,!0)});function L(o,c,p,b){var j=N.hasOwnProperty(c)?N[c]:null;(j!==null?j.type!==0:b||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(P(c,p,j,b)&&(p=null),b||j===null?v(c)&&(p===null?o.removeAttribute(c):o.setAttribute(c,""+p)):j.mustUseProperty?o[j.propertyName]=p===null?j.type===3?!1:"":p:(c=j.attributeName,b=j.attributeNamespace,p===null?o.removeAttribute(c):(j=j.type,p=j===3||j===4&&p===!0?"":""+p,b?o.setAttributeNS(b,c,p):o.setAttribute(c,p))))}var $=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),M=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),te=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),G=Symbol.iterator;function ve(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var Se=Object.assign,X;function pe(o){if(X===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);X=c&&c[1]||""}return`
`+X+o}var re=!1;function xe(o,c){if(!o||re)return"";re=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ke){var b=ke}Reflect.construct(o,[],c)}else{try{c.call()}catch(ke){b=ke}o.call(c.prototype)}else{try{throw Error()}catch(ke){b=ke}o()}}catch(ke){if(ke&&b&&typeof ke.stack=="string"){for(var j=ke.stack.split(`
`),k=b.stack.split(`
`),q=j.length-1,ae=k.length-1;1<=q&&0<=ae&&j[q]!==k[ae];)ae--;for(;1<=q&&0<=ae;q--,ae--)if(j[q]!==k[ae]){if(q!==1||ae!==1)do if(q--,ae--,0>ae||j[q]!==k[ae]){var he=`
`+j[q].replace(" at new "," at ");return o.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",o.displayName)),he}while(1<=q&&0<=ae);break}}}finally{re=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?pe(o):""}function Re(o){switch(o.tag){case 5:return pe(o.type);case 16:return pe("Lazy");case 13:return pe("Suspense");case 19:return pe("SuspenseList");case 0:case 2:case 15:return o=xe(o.type,!1),o;case 11:return o=xe(o.type.render,!1),o;case 1:return o=xe(o.type,!0),o;default:return""}}function Le(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case F:return"Fragment";case M:return"Portal";case Y:return"Profiler";case V:return"StrictMode";case fe:return"Suspense";case me:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case te:return(o.displayName||"Context")+".Consumer";case ue:return(o._context.displayName||"Context")+".Provider";case le:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ie:return c=o.displayName||null,c!==null?c:Le(o.type)||"Memo";case J:c=o._payload,o=o._init;try{return Le(o(c))}catch{}}return null}function Ke(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(c);case 8:return c===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ve(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Te(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function st(o){var c=Te(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),b=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var j=p.get,k=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return j.call(this)},set:function(q){b=""+q,k.call(this,q)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(q){b=""+q},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function lt(o){o._valueTracker||(o._valueTracker=st(o))}function Me(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),b="";return o&&(b=Te(o)?o.checked?"true":"false":o.value),o=b,o!==p?(c.setValue(o),!0):!1}function Rt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function At(o,c){var p=c.checked;return Se({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function Vt(o,c){var p=c.defaultValue==null?"":c.defaultValue,b=c.checked!=null?c.checked:c.defaultChecked;p=Ve(c.value!=null?c.value:p),o._wrapperState={initialChecked:b,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function tr(o,c){c=c.checked,c!=null&&L(o,"checked",c,!1)}function Nt(o,c){tr(o,c);var p=Ve(c.value),b=c.type;if(p!=null)b==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(b==="submit"||b==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?Ie(o,c.type,p):c.hasOwnProperty("defaultValue")&&Ie(o,c.type,Ve(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function et(o,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var b=c.type;if(!(b!=="submit"&&b!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,p||c===o.value||(o.value=c),o.defaultValue=c}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function Ie(o,c,p){(c!=="number"||Rt(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var mt=Array.isArray;function Tt(o,c,p,b){if(o=o.options,c){c={};for(var j=0;j<p.length;j++)c["$"+p[j]]=!0;for(p=0;p<o.length;p++)j=c.hasOwnProperty("$"+o[p].value),o[p].selected!==j&&(o[p].selected=j),j&&b&&(o[p].defaultSelected=!0)}else{for(p=""+Ve(p),c=null,j=0;j<o.length;j++){if(o[j].value===p){o[j].selected=!0,b&&(o[j].defaultSelected=!0);return}c!==null||o[j].disabled||(c=o[j])}c!==null&&(c.selected=!0)}}function ht(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return Se({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function gt(o,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(r(92));if(mt(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),p=c}o._wrapperState={initialValue:Ve(p)}}function Nr(o,c){var p=Ve(c.value),b=Ve(c.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),c.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),b!=null&&(o.defaultValue=""+b)}function Jt(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function Ca(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dn(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?Ca(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Wa,Wn=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,b,j){MSApp.execUnsafeLocalFunction(function(){return o(c,p,b,j)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(Wa=Wa||document.createElement("div"),Wa.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Wa.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Pa(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Aa=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(o){Aa.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),kr[c]=kr[o]})});function Xo(o,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||kr.hasOwnProperty(o)&&kr[o]?(""+c).trim():c+"px"}function Ls(o,c){o=o.style;for(var p in c)if(c.hasOwnProperty(p)){var b=p.indexOf("--")===0,j=Xo(p,c[p],b);p==="float"&&(p="cssFloat"),b?o.setProperty(p,j):o[p]=j}}var $s=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fs(o,c){if(c){if($s[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function ns(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=null;function ka(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Bi=null,fn=null,ma=null;function br(o){if(o=ln(o)){if(typeof Bi!="function")throw Error(r(280));var c=o.stateNode;c&&(c=Bn(c),Bi(o.stateNode,o.type,c))}}function Et(o){fn?ma?ma.push(o):ma=[o]:fn=o}function _r(){if(fn){var o=fn,c=ma;if(ma=fn=null,br(o),c)for(o=0;o<c.length;o++)br(c[o])}}function hr(o,c){return o(c)}function Lr(){}var Ha=!1;function Cr(o,c,p){if(Ha)return o(c,p);Ha=!0;try{return hr(o,c,p)}finally{Ha=!1,(fn!==null||ma!==null)&&(Lr(),_r())}}function ur(o,c){var p=o.stateNode;if(p===null)return null;var b=Bn(p);if(b===null)return null;p=b[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(o=o.type,b=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!b;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var pn=!1;if(u)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{pn=!1}function mn(o,c,p,b,j,k,q,ae,he){var ke=Array.prototype.slice.call(arguments,3);try{c.apply(p,ke)}catch(He){this.onError(He)}}var Hn=!1,$r=null,si=!1,Ns=null,Bs={onError:function(o){Hn=!0,$r=o}};function qi(o,c,p,b,j,k,q,ae,he){Hn=!1,$r=null,mn.apply(Bs,arguments)}function aa(o,c,p,b,j,k,q,ae,he){if(qi.apply(this,arguments),Hn){if(Hn){var ke=$r;Hn=!1,$r=null}else throw Error(r(198));si||(si=!0,Ns=ke)}}function $n(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function qs(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function Rn(o){if($n(o)!==o)throw Error(r(188))}function Qo(o){var c=o.alternate;if(!c){if(c=$n(o),c===null)throw Error(r(188));return c!==o?null:o}for(var p=o,b=c;;){var j=p.return;if(j===null)break;var k=j.alternate;if(k===null){if(b=j.return,b!==null){p=b;continue}break}if(j.child===k.child){for(k=j.child;k;){if(k===p)return Rn(j),o;if(k===b)return Rn(j),c;k=k.sibling}throw Error(r(188))}if(p.return!==b.return)p=j,b=k;else{for(var q=!1,ae=j.child;ae;){if(ae===p){q=!0,p=j,b=k;break}if(ae===b){q=!0,b=j,p=k;break}ae=ae.sibling}if(!q){for(ae=k.child;ae;){if(ae===p){q=!0,p=k,b=j;break}if(ae===b){q=!0,b=k,p=j;break}ae=ae.sibling}if(!q)throw Error(r(189))}}if(p.alternate!==b)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:c}function as(o){return o=Qo(o),o!==null?sa(o):null}function sa(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=sa(o);if(c!==null)return c;o=o.sibling}return null}var js=t.unstable_scheduleCallback,uo=t.unstable_cancelCallback,Ea=t.unstable_shouldYield,ss=t.unstable_requestPaint,sr=t.unstable_now,hn=t.unstable_getCurrentPriorityLevel,Tn=t.unstable_ImmediatePriority,_s=t.unstable_UserBlockingPriority,Oa=t.unstable_NormalPriority,fo=t.unstable_LowPriority,Zo=t.unstable_IdlePriority,Ni=null,ia=null;function Ui(o){if(ia&&typeof ia.onCommitFiberRoot=="function")try{ia.onCommitFiberRoot(Ni,o,void 0,(o.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:ii,Vn=Math.log,Cs=Math.LN2;function ii(o){return o>>>=0,o===0?32:31-(Vn(o)/Cs|0)|0}var po=64,ji=4194304;function Va(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Us(o,c){var p=o.pendingLanes;if(p===0)return 0;var b=0,j=o.suspendedLanes,k=o.pingedLanes,q=p&268435455;if(q!==0){var ae=q&~j;ae!==0?b=Va(ae):(k&=q,k!==0&&(b=Va(k)))}else q=p&~j,q!==0?b=Va(q):k!==0&&(b=Va(k));if(b===0)return 0;if(c!==0&&c!==b&&(c&j)===0&&(j=b&-b,k=c&-c,j>=k||j===16&&(k&4194240)!==0))return c;if((b&4)!==0&&(b|=p&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=b;0<c;)p=31-Fn(c),j=1<<p,b|=o[p],c&=~j;return b}function Ol(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sc(o,c){for(var p=o.suspendedLanes,b=o.pingedLanes,j=o.expirationTimes,k=o.pendingLanes;0<k;){var q=31-Fn(k),ae=1<<q,he=j[q];he===-1?((ae&p)===0||(ae&b)!==0)&&(j[q]=Ol(ae,c)):he<=c&&(o.expiredLanes|=ae),k&=~ae}}function Jo(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Nc(){var o=po;return po<<=1,(po&4194240)===0&&(po=64),o}function zs(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Ps(o,c,p){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-Fn(c),o[c]=p}function _i(o,c){var p=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var b=o.eventTimes;for(o=o.expirationTimes;0<p;){var j=31-Fn(p),k=1<<j;c[j]=0,b[j]=-1,o[j]=-1,p&=~k}}function Rl(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var b=31-Fn(p),j=1<<b;j&c|o[b]&c&&(o[b]|=c),p&=~j}}var ce=0;function tt(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Be,xt,Bt,Xt,gr,Fr=!1,oa=[],Ur=null,$e=null,xr=null,ha=new Map,rr=new Map,Ra=[],zi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ta(o,c){switch(o){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":$e=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":ha.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(c.pointerId)}}function mo(o,c,p,b,j,k){return o===null||o.nativeEvent!==k?(o={blockedOn:c,domEventName:p,eventSystemFlags:b,nativeEvent:k,targetContainers:[j]},c!==null&&(c=ln(c),c!==null&&xt(c)),o):(o.eventSystemFlags|=b,c=o.targetContainers,j!==null&&c.indexOf(j)===-1&&c.push(j),o)}function Uf(o,c,p,b,j){switch(c){case"focusin":return Ur=mo(Ur,o,c,p,b,j),!0;case"dragenter":return $e=mo($e,o,c,p,b,j),!0;case"mouseover":return xr=mo(xr,o,c,p,b,j),!0;case"pointerover":var k=j.pointerId;return ha.set(k,mo(ha.get(k)||null,o,c,p,b,j)),!0;case"gotpointercapture":return k=j.pointerId,rr.set(k,mo(rr.get(k)||null,o,c,p,b,j)),!0}return!1}function zf(o){var c=Zr(o.target);if(c!==null){var p=$n(c);if(p!==null){if(c=p.tag,c===13){if(c=qs(p),c!==null){o.blockedOn=c,gr(o.priority,function(){Bt(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Cu(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=_c(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var b=new p.constructor(p.type,p);sn=b,p.target.dispatchEvent(b),sn=null}else return c=ln(p),c!==null&&xt(c),o.blockedOn=p,!1;c.shift()}return!0}function Tl(o,c,p){Cu(o)&&p.delete(c)}function fm(){Fr=!1,Ur!==null&&Cu(Ur)&&(Ur=null),$e!==null&&Cu($e)&&($e=null),xr!==null&&Cu(xr)&&(xr=null),ha.forEach(Tl),rr.forEach(Tl)}function ho(o,c){o.blockedOn===c&&(o.blockedOn=null,Fr||(Fr=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fm)))}function la(o){function c(j){return ho(j,o)}if(0<oa.length){ho(oa[0],o);for(var p=1;p<oa.length;p++){var b=oa[p];b.blockedOn===o&&(b.blockedOn=null)}}for(Ur!==null&&ho(Ur,o),$e!==null&&ho($e,o),xr!==null&&ho(xr,o),ha.forEach(c),rr.forEach(c),p=0;p<Ra.length;p++)b=Ra[p],b.blockedOn===o&&(b.blockedOn=null);for(;0<Ra.length&&(p=Ra[0],p.blockedOn===null);)zf(p),p.blockedOn===null&&Ra.shift()}var oi=$.ReactCurrentBatchConfig,li=!0;function jc(o,c,p,b){var j=ce,k=oi.transition;oi.transition=null;try{ce=1,Od(o,c,p,b)}finally{ce=j,oi.transition=k}}function Il(o,c,p,b){var j=ce,k=oi.transition;oi.transition=null;try{ce=4,Od(o,c,p,b)}finally{ce=j,oi.transition=k}}function Od(o,c,p,b){if(li){var j=_c(o,c,p,b);if(j===null)Yr(o,c,b,go,p),Ta(o,b);else if(Uf(j,o,c,p,b))b.stopPropagation();else if(Ta(o,b),c&4&&-1<zi.indexOf(o)){for(;j!==null;){var k=ln(j);if(k!==null&&Be(k),k=_c(o,c,p,b),k===null&&Yr(o,c,b,go,p),k===j)break;j=k}j!==null&&b.stopPropagation()}else Yr(o,c,b,null,p)}}var go=null;function _c(o,c,p,b){if(go=null,o=ka(b),o=Zr(o),o!==null)if(c=$n(o),c===null)o=null;else if(p=c.tag,p===13){if(o=qs(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return go=o,null}function el(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hn()){case Tn:return 1;case _s:return 4;case Oa:case fo:return 16;case Zo:return 536870912;default:return 16}default:return 16}}var is=null,Pu=null,Ci=null;function Ws(){if(Ci)return Ci;var o,c=Pu,p=c.length,b,j="value"in is?is.value:is.textContent,k=j.length;for(o=0;o<p&&c[o]===j[o];o++);var q=p-o;for(b=1;b<=q&&c[p-b]===j[k-b];b++);return Ci=j.slice(o,1<b?1-b:void 0)}function yo(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Au(){return!0}function Cc(){return!1}function ga(o){function c(p,b,j,k,q){this._reactName=p,this._targetInst=j,this.type=b,this.nativeEvent=k,this.target=q,this.currentTarget=null;for(var ae in o)o.hasOwnProperty(ae)&&(p=o[ae],this[ae]=p?p(k):k[ae]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Au:Cc,this.isPropagationStopped=Cc,this}return Se(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Au)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Au)},persist:function(){},isPersistent:Au}),c}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pc=ga(tl),Ml=Se({},tl,{view:0,detail:0}),Wf=ga(Ml),Dl,rl,Gn,ku=Se({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Td,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Gn&&(Gn&&o.type==="mousemove"?(Dl=o.screenX-Gn.screenX,rl=o.screenY-Gn.screenY):rl=Dl=0,Gn=o),Dl)},movementY:function(o){return"movementY"in o?o.movementY:rl}}),Hf=ga(ku),pm=Se({},ku,{dataTransfer:0}),Ac=ga(pm),Eu=Se({},Ml,{relatedTarget:0}),Ou=ga(Eu),Rd=Se({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),mm=ga(Rd),hm=Se({},tl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Hv=ga(hm),kc=Se({},tl,{data:0}),gm=ga(kc),vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ng={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function As(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=ym[o])?!!c[o]:!1}function Td(){return As}var os=Se({},Ml,{key:function(o){if(o.key){var c=vo[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=yo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ng[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Td,charCode:function(o){return o.type==="keypress"?yo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?yo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ec=ga(os),Ia=Se({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Id=ga(Ia),ci=Se({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Td}),Ru=ga(ci),Tu=Se({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kn=ga(Tu),Md=Se({},ku,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ll=ga(Md),Vf=[9,13,27,32],Gf=u&&"CompositionEvent"in window,nl=null;u&&"documentMode"in document&&(nl=document.documentMode);var Dd=u&&"TextEvent"in window&&!nl,_n=u&&(!Gf||nl&&8<nl&&11>=nl),bo=" ",$l=!1;function xo(o,c){switch(o){case"keyup":return Vf.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wi(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var wo=!1;function vm(o,c){switch(o){case"compositionend":return Wi(c);case"keypress":return c.which!==32?null:($l=!0,bo);case"textInput":return o=c.data,o===bo&&$l?null:o;default:return null}}function Kf(o,c){if(wo)return o==="compositionend"||!Gf&&xo(o,c)?(o=Ws(),Ci=Pu=is=null,wo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return _n&&c.locale!=="ko"?null:c.data;default:return null}}var Iu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ma(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Iu[o.type]:c==="textarea"}function Oc(o,c,p,b){Et(b),c=Bu(c,"onChange"),0<c.length&&(p=new Pc("onChange","change",null,p,b),o.push({event:p,listeners:c}))}var Pi=null,al=null;function Rc(o){Vd(o,0)}function So(o){var c=Er(o);if(Me(c))return o}function sl(o,c){if(o==="change")return c}var No=!1;if(u){var jo;if(u){var Hs="oninput"in document;if(!Hs){var Tc=document.createElement("div");Tc.setAttribute("oninput","return;"),Hs=typeof Tc.oninput=="function"}jo=Hs}else jo=!1;No=jo&&(!document.documentMode||9<document.documentMode)}function _o(){Pi&&(Pi.detachEvent("onpropertychange",Mu),al=Pi=null)}function Mu(o){if(o.propertyName==="value"&&So(al)){var c=[];Oc(c,al,o,ka(o)),Cr(Rc,c)}}function ui(o,c,p){o==="focusin"?(_o(),Pi=c,al=p,Pi.attachEvent("onpropertychange",Mu)):o==="focusout"&&_o()}function Yf(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return So(al)}function Du(o,c){if(o==="click")return So(c)}function Ga(o,c){if(o==="input"||o==="change")return So(c)}function Ld(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Yn=typeof Object.is=="function"?Object.is:Ld;function Gr(o,c){if(Yn(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),b=Object.keys(c);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var j=p[b];if(!d.call(c,j)||!Yn(o[j],c[j]))return!1}return!0}function Lu(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Vs(o,c){var p=Lu(o);o=0;for(var b;p;){if(p.nodeType===3){if(b=o+p.textContent.length,o<=c&&b>=c)return{node:p,offset:c-o};o=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Lu(p)}}function ls(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?ls(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Co(){for(var o=window,c=Rt();c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=Rt(o.document)}return c}function ca(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function Hi(o){var c=Co(),p=o.focusedElem,b=o.selectionRange;if(c!==p&&p&&p.ownerDocument&&ls(p.ownerDocument.documentElement,p)){if(b!==null&&ca(p)){if(c=b.start,o=b.end,o===void 0&&(o=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(o,p.value.length);else if(o=(c=p.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var j=p.textContent.length,k=Math.min(b.start,j);b=b.end===void 0?k:Math.min(b.end,j),!o.extend&&k>b&&(j=b,b=k,k=j),j=Vs(p,k);var q=Vs(p,b);j&&q&&(o.rangeCount!==1||o.anchorNode!==j.node||o.anchorOffset!==j.offset||o.focusNode!==q.node||o.focusOffset!==q.offset)&&(c=c.createRange(),c.setStart(j.node,j.offset),o.removeAllRanges(),k>b?(o.addRange(c),o.extend(q.node,q.offset)):(c.setEnd(q.node,q.offset),o.addRange(c)))}}for(c=[],o=p;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)o=c[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var $d=u&&"documentMode"in document&&11>=document.documentMode,di=null,nt=null,fi=null,Ic=!1;function Fd(o,c,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Ic||di==null||di!==Rt(b)||(b=di,"selectionStart"in b&&ca(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),fi&&Gr(fi,b)||(fi=b,b=Bu(nt,"onSelect"),0<b.length&&(c=new Pc("onSelect","select",null,c,p),o.push({event:c,listeners:b}),c.target=di)))}function Po(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var Ao={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},Bd={},$u={};u&&($u=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Da(o){if(Bd[o])return Bd[o];if(!Ao[o])return o;var c=Ao[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in $u)return Bd[o]=c[p];return o}var Mc=Da("animationend"),Dc=Da("animationiteration"),il=Da("animationstart"),Lc=Da("transitionend"),qd=new Map,Ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ol(o,c){qd.set(o,c),i(c,[o])}for(var zd=0;zd<Ud.length;zd++){var Wd=Ud[zd],Xf=Wd.toLowerCase(),Hd=Wd[0].toUpperCase()+Wd.slice(1);ol(Xf,"on"+Hd)}ol(Mc,"onAnimationEnd"),ol(Dc,"onAnimationIteration"),ol(il,"onAnimationStart"),ol("dblclick","onDoubleClick"),ol("focusin","onFocus"),ol("focusout","onBlur"),ol(Lc,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ce="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ko=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ce));function bm(o,c,p){var b=o.type||"unknown-event";o.currentTarget=p,aa(b,c,void 0,o),o.currentTarget=null}function Vd(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var b=o[p],j=b.event;b=b.listeners;e:{var k=void 0;if(c)for(var q=b.length-1;0<=q;q--){var ae=b[q],he=ae.instance,ke=ae.currentTarget;if(ae=ae.listener,he!==k&&j.isPropagationStopped())break e;bm(j,ae,ke),k=he}else for(q=0;q<b.length;q++){if(ae=b[q],he=ae.instance,ke=ae.currentTarget,ae=ae.listener,he!==k&&j.isPropagationStopped())break e;bm(j,ae,ke),k=he}}}if(si)throw o=Ns,si=!1,Ns=null,o}function Kr(o,c){var p=c[ya];p===void 0&&(p=c[ya]=new Set);var b=o+"__bubble";p.has(b)||(ll(c,o,2,!1),p.add(b))}function Gd(o,c,p){var b=0;c&&(b|=4),ll(p,o,b,c)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Kd(o){if(!o[Fu]){o[Fu]=!0,n.forEach(function(p){p!=="selectionchange"&&(ko.has(p)||Gd(p,!1,o),Gd(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Fu]||(c[Fu]=!0,Gd("selectionchange",!1,c))}}function ll(o,c,p,b){switch(el(c)){case 1:var j=jc;break;case 4:j=Il;break;default:j=Od}p=j.bind(null,c,p,o),j=void 0,!pn||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(j=!0),b?j!==void 0?o.addEventListener(c,p,{capture:!0,passive:j}):o.addEventListener(c,p,!0):j!==void 0?o.addEventListener(c,p,{passive:j}):o.addEventListener(c,p,!1)}function Yr(o,c,p,b,j){var k=b;if((c&1)===0&&(c&2)===0&&b!==null)e:for(;;){if(b===null)return;var q=b.tag;if(q===3||q===4){var ae=b.stateNode.containerInfo;if(ae===j||ae.nodeType===8&&ae.parentNode===j)break;if(q===4)for(q=b.return;q!==null;){var he=q.tag;if((he===3||he===4)&&(he=q.stateNode.containerInfo,he===j||he.nodeType===8&&he.parentNode===j))return;q=q.return}for(;ae!==null;){if(q=Zr(ae),q===null)return;if(he=q.tag,he===5||he===6){b=k=q;continue e}ae=ae.parentNode}}b=b.return}Cr(function(){var ke=k,He=ka(p),Ze=[];e:{var We=qd.get(o);if(We!==void 0){var at=Pc,wt=o;switch(o){case"keypress":if(yo(p)===0)break e;case"keydown":case"keyup":at=Ec;break;case"focusin":wt="focus",at=Ou;break;case"focusout":wt="blur",at=Ou;break;case"beforeblur":case"afterblur":at=Ou;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Ru;break;case Mc:case Dc:case il:at=mm;break;case Lc:at=Kn;break;case"scroll":at=Wf;break;case"wheel":at=Ll;break;case"copy":case"cut":case"paste":at=Hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Id}var jt=(c&4)!==0,fa=!jt&&o==="scroll",Ne=jt?We!==null?We+"Capture":null:We;jt=[];for(var ye=ke,Pe;ye!==null;){Pe=ye;var rt=Pe.stateNode;if(Pe.tag===5&&rt!==null&&(Pe=rt,Ne!==null&&(rt=ur(ye,Ne),rt!=null&&jt.push(Eo(ye,rt,Pe)))),fa)break;ye=ye.return}0<jt.length&&(We=new at(We,wt,null,p,He),Ze.push({event:We,listeners:jt}))}}if((c&7)===0){e:{if(We=o==="mouseover"||o==="pointerover",at=o==="mouseout"||o==="pointerout",We&&p!==sn&&(wt=p.relatedTarget||p.fromElement)&&(Zr(wt)||wt[Qr]))break e;if((at||We)&&(We=He.window===He?He:(We=He.ownerDocument)?We.defaultView||We.parentWindow:window,at?(wt=p.relatedTarget||p.toElement,at=ke,wt=wt?Zr(wt):null,wt!==null&&(fa=$n(wt),wt!==fa||wt.tag!==5&&wt.tag!==6)&&(wt=null)):(at=null,wt=ke),at!==wt)){if(jt=Hf,rt="onMouseLeave",Ne="onMouseEnter",ye="mouse",(o==="pointerout"||o==="pointerover")&&(jt=Id,rt="onPointerLeave",Ne="onPointerEnter",ye="pointer"),fa=at==null?We:Er(at),Pe=wt==null?We:Er(wt),We=new jt(rt,ye+"leave",at,p,He),We.target=fa,We.relatedTarget=Pe,rt=null,Zr(He)===ke&&(jt=new jt(Ne,ye+"enter",wt,p,He),jt.target=Pe,jt.relatedTarget=fa,rt=jt),fa=rt,at&&wt)t:{for(jt=at,Ne=wt,ye=0,Pe=jt;Pe;Pe=Vi(Pe))ye++;for(Pe=0,rt=Ne;rt;rt=Vi(rt))Pe++;for(;0<ye-Pe;)jt=Vi(jt),ye--;for(;0<Pe-ye;)Ne=Vi(Ne),Pe--;for(;ye--;){if(jt===Ne||Ne!==null&&jt===Ne.alternate)break t;jt=Vi(jt),Ne=Vi(Ne)}jt=null}else jt=null;at!==null&&cl(Ze,We,at,jt,!1),wt!==null&&fa!==null&&cl(Ze,fa,wt,jt,!0)}}e:{if(We=ke?Er(ke):window,at=We.nodeName&&We.nodeName.toLowerCase(),at==="select"||at==="input"&&We.type==="file")var kt=sl;else if(Ma(We))if(No)kt=Ga;else{kt=Yf;var $t=ui}else(at=We.nodeName)&&at.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(kt=Du);if(kt&&(kt=kt(o,ke))){Oc(Ze,kt,p,He);break e}$t&&$t(o,We,ke),o==="focusout"&&($t=We._wrapperState)&&$t.controlled&&We.type==="number"&&Ie(We,"number",We.value)}switch($t=ke?Er(ke):window,o){case"focusin":(Ma($t)||$t.contentEditable==="true")&&(di=$t,nt=ke,fi=null);break;case"focusout":fi=nt=di=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,Fd(Ze,p,He);break;case"selectionchange":if($d)break;case"keydown":case"keyup":Fd(Ze,p,He)}var Ft;if(Gf)e:{switch(o){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else wo?xo(o,p)&&(Wt="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Wt="onCompositionStart");Wt&&(_n&&p.locale!=="ko"&&(wo||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&wo&&(Ft=Ws()):(is=He,Pu="value"in is?is.value:is.textContent,wo=!0)),$t=Bu(ke,Wt),0<$t.length&&(Wt=new gm(Wt,o,null,p,He),Ze.push({event:Wt,listeners:$t}),Ft?Wt.data=Ft:(Ft=Wi(p),Ft!==null&&(Wt.data=Ft)))),(Ft=Dd?vm(o,p):Kf(o,p))&&(ke=Bu(ke,"onBeforeInput"),0<ke.length&&(He=new gm("onBeforeInput","beforeinput",null,p,He),Ze.push({event:He,listeners:ke}),He.data=Ft))}Vd(Ze,c)})}function Eo(o,c,p){return{instance:o,listener:c,currentTarget:p}}function Bu(o,c){for(var p=c+"Capture",b=[];o!==null;){var j=o,k=j.stateNode;j.tag===5&&k!==null&&(j=k,k=ur(o,p),k!=null&&b.unshift(Eo(o,k,j)),k=ur(o,c),k!=null&&b.push(Eo(o,k,j))),o=o.return}return b}function Vi(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function cl(o,c,p,b,j){for(var k=c._reactName,q=[];p!==null&&p!==b;){var ae=p,he=ae.alternate,ke=ae.stateNode;if(he!==null&&he===b)break;ae.tag===5&&ke!==null&&(ae=ke,j?(he=ur(p,k),he!=null&&q.unshift(Eo(p,he,ae))):j||(he=ur(p,k),he!=null&&q.push(Eo(p,he,ae)))),p=p.return}q.length!==0&&o.push({event:c,listeners:q})}var Qf=/\r\n?/g,B=/\u0000|\uFFFD/g;function Q(o){return(typeof o=="string"?o:""+o).replace(Qf,`
`).replace(B,"")}function oe(o,c,p){if(c=Q(c),Q(o)!==c&&p)throw Error(r(425))}function be(){}var Ee=null,we=null;function Qe(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Ot=typeof setTimeout=="function"?setTimeout:void 0,It=typeof clearTimeout=="function"?clearTimeout:void 0,Zt=typeof Promise=="function"?Promise:void 0,Pr=typeof queueMicrotask=="function"?queueMicrotask:typeof Zt<"u"?function(o){return Zt.resolve(null).then(o).catch(on)}:Ot;function on(o){setTimeout(function(){throw o})}function Xr(o,c){var p=c,b=0;do{var j=p.nextSibling;if(o.removeChild(p),j&&j.nodeType===8)if(p=j.data,p==="/$"){if(b===0){o.removeChild(j),la(c);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=j}while(p);la(c)}function In(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function gn(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Cn,Qn="__reactProps$"+Cn,Qr="__reactContainer$"+Cn,ya="__reactEvents$"+Cn,cs="__reactListeners$"+Cn,ks="__reactHandles$"+Cn;function Zr(o){var c=o[Xn];if(c)return c;for(var p=o.parentNode;p;){if(c=p[Qr]||p[Xn]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=gn(o);o!==null;){if(p=o[Xn])return p;o=gn(o)}return c}o=p,p=o.parentNode}return null}function ln(o){return o=o[Xn]||o[Qr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Er(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Bn(o){return o[Qn]||null}var La=[],Zn=-1;function $a(o){return{current:o}}function dr(o){0>Zn||(o.current=La[Zn],La[Zn]=null,Zn--)}function wr(o,c){Zn++,La[Zn]=o.current,o.current=c}var Or={},yn=$a(Or),Jr=$a(!1),qn=Or;function Gs(o,c){var p=o.type.contextTypes;if(!p)return Or;var b=o.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===c)return b.__reactInternalMemoizedMaskedChildContext;var j={},k;for(k in p)j[k]=c[k];return b&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=j),j}function Rr(o){return o=o.childContextTypes,o!=null}function Lt(){dr(Jr),dr(yn)}function zt(o,c,p){if(yn.current!==Or)throw Error(r(168));wr(yn,c),wr(Jr,p)}function or(o,c,p){var b=o.stateNode;if(c=c.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var j in b)if(!(j in c))throw Error(r(108,Ke(o)||"Unknown",j));return Se({},p,b)}function cn(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Or,qn=yn.current,wr(yn,o),wr(Jr,Jr.current),!0}function Ks(o,c,p){var b=o.stateNode;if(!b)throw Error(r(169));p?(o=or(o,c,qn),b.__reactInternalMemoizedMergedChildContext=o,dr(Jr),dr(yn),wr(yn,o)):dr(Jr),wr(Jr,p)}var Pn=null,Tr=!1,Ka=!1;function An(o){Pn===null?Pn=[o]:Pn.push(o)}function us(o){Tr=!0,An(o)}function vn(){if(!Ka&&Pn!==null){Ka=!0;var o=0,c=ce;try{var p=Pn;for(ce=1;o<p.length;o++){var b=p[o];do b=b(!0);while(b!==null)}Pn=null,Tr=!1}catch(j){throw Pn!==null&&(Pn=Pn.slice(o+1)),js(Tn,vn),j}finally{ce=c,Ka=!1}}return null}var Mn=[],er=0,fr=null,Ya=0,nr=[],en=0,Xa=null,va=1,Ys="";function bn(o,c){Mn[er++]=Ya,Mn[er++]=fr,fr=o,Ya=c}function ul(o,c,p){nr[en++]=va,nr[en++]=Ys,nr[en++]=Xa,Xa=o;var b=va;o=Ys;var j=32-Fn(b)-1;b&=~(1<<j),p+=1;var k=32-Fn(c)+j;if(30<k){var q=j-j%5;k=(b&(1<<q)-1).toString(32),b>>=q,j-=q,va=1<<32-Fn(c)+j|p<<j|b,Ys=k+o}else va=1<<k|p<<j|b,Ys=o}function Fl(o){o.return!==null&&(bn(o,1),ul(o,1,0))}function jg(o){for(;o===fr;)fr=Mn[--er],Mn[er]=null,Ya=Mn[--er],Mn[er]=null;for(;o===Xa;)Xa=nr[--en],nr[en]=null,Ys=nr[--en],nr[en]=null,va=nr[--en],nr[en]=null}var Ai=null,pi=null,ar=!1,Gi=null;function ds(o,c){var p=Ri(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=o,c=o.deletions,c===null?(o.deletions=[p],o.flags|=16):c.push(p)}function _g(o,c){switch(o.tag){case 5:var p=o.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Ai=o,pi=In(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Ai=o,pi=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=Xa!==null?{id:va,overflow:Ys}:null,o.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=Ri(18,null,null,0),p.stateNode=c,p.return=o,o.child=p,Ai=o,pi=null,!0):!1;default:return!1}}function xm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Cg(o){if(ar){var c=pi;if(c){var p=c;if(!_g(o,c)){if(xm(o))throw Error(r(418));c=In(p.nextSibling);var b=Ai;c&&_g(o,c)?ds(b,p):(o.flags=o.flags&-4097|2,ar=!1,Ai=o)}}else{if(xm(o))throw Error(r(418));o.flags=o.flags&-4097|2,ar=!1,Ai=o}}}function qu(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ai=o}function Zf(o){if(o!==Ai)return!1;if(!ar)return qu(o),ar=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Qe(o.type,o.memoizedProps)),c&&(c=pi)){if(xm(o))throw Uu(),Error(r(418));for(;c;)ds(o,c),c=In(c.nextSibling)}if(qu(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(c===0){pi=In(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}o=o.nextSibling}pi=null}}else pi=Ai?In(o.stateNode.nextSibling):null;return!0}function Uu(){for(var o=pi;o;)o=In(o.nextSibling)}function $c(){pi=Ai=null,ar=!1}function Yd(o){Gi===null?Gi=[o]:Gi.push(o)}var wm=$.ReactCurrentBatchConfig;function Bl(o,c,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var b=p.stateNode}if(!b)throw Error(r(147,o));var j=b,k=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===k?c.ref:(c=function(q){var ae=j.refs;q===null?delete ae[k]:ae[k]=q},c._stringRef=k,c)}if(typeof o!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,o))}return o}function Jf(o,c){throw o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function Pg(o){var c=o._init;return c(o._payload)}function Ag(o){function c(Ne,ye){if(o){var Pe=Ne.deletions;Pe===null?(Ne.deletions=[ye],Ne.flags|=16):Pe.push(ye)}}function p(Ne,ye){if(!o)return null;for(;ye!==null;)c(Ne,ye),ye=ye.sibling;return null}function b(Ne,ye){for(Ne=new Map;ye!==null;)ye.key!==null?Ne.set(ye.key,ye):Ne.set(ye.index,ye),ye=ye.sibling;return Ne}function j(Ne,ye){return Ne=gl(Ne,ye),Ne.index=0,Ne.sibling=null,Ne}function k(Ne,ye,Pe){return Ne.index=Pe,o?(Pe=Ne.alternate,Pe!==null?(Pe=Pe.index,Pe<ye?(Ne.flags|=2,ye):Pe):(Ne.flags|=2,ye)):(Ne.flags|=1048576,ye)}function q(Ne){return o&&Ne.alternate===null&&(Ne.flags|=2),Ne}function ae(Ne,ye,Pe,rt){return ye===null||ye.tag!==6?(ye=ro(Pe,Ne.mode,rt),ye.return=Ne,ye):(ye=j(ye,Pe),ye.return=Ne,ye)}function he(Ne,ye,Pe,rt){var kt=Pe.type;return kt===F?He(Ne,ye,Pe.props.children,rt,Pe.key):ye!==null&&(ye.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===J&&Pg(kt)===ye.type)?(rt=j(ye,Pe.props),rt.ref=Bl(Ne,ye,Pe),rt.return=Ne,rt):(rt=sh(Pe.type,Pe.key,Pe.props,null,Ne.mode,rt),rt.ref=Bl(Ne,ye,Pe),rt.return=Ne,rt)}function ke(Ne,ye,Pe,rt){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Pe.containerInfo||ye.stateNode.implementation!==Pe.implementation?(ye=ih(Pe,Ne.mode,rt),ye.return=Ne,ye):(ye=j(ye,Pe.children||[]),ye.return=Ne,ye)}function He(Ne,ye,Pe,rt,kt){return ye===null||ye.tag!==7?(ye=yl(Pe,Ne.mode,rt,kt),ye.return=Ne,ye):(ye=j(ye,Pe),ye.return=Ne,ye)}function Ze(Ne,ye,Pe){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=ro(""+ye,Ne.mode,Pe),ye.return=Ne,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case R:return Pe=sh(ye.type,ye.key,ye.props,null,Ne.mode,Pe),Pe.ref=Bl(Ne,null,ye),Pe.return=Ne,Pe;case M:return ye=ih(ye,Ne.mode,Pe),ye.return=Ne,ye;case J:var rt=ye._init;return Ze(Ne,rt(ye._payload),Pe)}if(mt(ye)||ve(ye))return ye=yl(ye,Ne.mode,Pe,null),ye.return=Ne,ye;Jf(Ne,ye)}return null}function We(Ne,ye,Pe,rt){var kt=ye!==null?ye.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return kt!==null?null:ae(Ne,ye,""+Pe,rt);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case R:return Pe.key===kt?he(Ne,ye,Pe,rt):null;case M:return Pe.key===kt?ke(Ne,ye,Pe,rt):null;case J:return kt=Pe._init,We(Ne,ye,kt(Pe._payload),rt)}if(mt(Pe)||ve(Pe))return kt!==null?null:He(Ne,ye,Pe,rt,null);Jf(Ne,Pe)}return null}function at(Ne,ye,Pe,rt,kt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return Ne=Ne.get(Pe)||null,ae(ye,Ne,""+rt,kt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case R:return Ne=Ne.get(rt.key===null?Pe:rt.key)||null,he(ye,Ne,rt,kt);case M:return Ne=Ne.get(rt.key===null?Pe:rt.key)||null,ke(ye,Ne,rt,kt);case J:var $t=rt._init;return at(Ne,ye,Pe,$t(rt._payload),kt)}if(mt(rt)||ve(rt))return Ne=Ne.get(Pe)||null,He(ye,Ne,rt,kt,null);Jf(ye,rt)}return null}function wt(Ne,ye,Pe,rt){for(var kt=null,$t=null,Ft=ye,Wt=ye=0,En=null;Ft!==null&&Wt<Pe.length;Wt++){Ft.index>Wt?(En=Ft,Ft=null):En=Ft.sibling;var Gt=We(Ne,Ft,Pe[Wt],rt);if(Gt===null){Ft===null&&(Ft=En);break}o&&Ft&&Gt.alternate===null&&c(Ne,Ft),ye=k(Gt,ye,Wt),$t===null?kt=Gt:$t.sibling=Gt,$t=Gt,Ft=En}if(Wt===Pe.length)return p(Ne,Ft),ar&&bn(Ne,Wt),kt;if(Ft===null){for(;Wt<Pe.length;Wt++)Ft=Ze(Ne,Pe[Wt],rt),Ft!==null&&(ye=k(Ft,ye,Wt),$t===null?kt=Ft:$t.sibling=Ft,$t=Ft);return ar&&bn(Ne,Wt),kt}for(Ft=b(Ne,Ft);Wt<Pe.length;Wt++)En=at(Ft,Ne,Wt,Pe[Wt],rt),En!==null&&(o&&En.alternate!==null&&Ft.delete(En.key===null?Wt:En.key),ye=k(En,ye,Wt),$t===null?kt=En:$t.sibling=En,$t=En);return o&&Ft.forEach(function(Mt){return c(Ne,Mt)}),ar&&bn(Ne,Wt),kt}function jt(Ne,ye,Pe,rt){var kt=ve(Pe);if(typeof kt!="function")throw Error(r(150));if(Pe=kt.call(Pe),Pe==null)throw Error(r(151));for(var $t=kt=null,Ft=ye,Wt=ye=0,En=null,Gt=Pe.next();Ft!==null&&!Gt.done;Wt++,Gt=Pe.next()){Ft.index>Wt?(En=Ft,Ft=null):En=Ft.sibling;var Mt=We(Ne,Ft,Gt.value,rt);if(Mt===null){Ft===null&&(Ft=En);break}o&&Ft&&Mt.alternate===null&&c(Ne,Ft),ye=k(Mt,ye,Wt),$t===null?kt=Mt:$t.sibling=Mt,$t=Mt,Ft=En}if(Gt.done)return p(Ne,Ft),ar&&bn(Ne,Wt),kt;if(Ft===null){for(;!Gt.done;Wt++,Gt=Pe.next())Gt=Ze(Ne,Gt.value,rt),Gt!==null&&(ye=k(Gt,ye,Wt),$t===null?kt=Gt:$t.sibling=Gt,$t=Gt);return ar&&bn(Ne,Wt),kt}for(Ft=b(Ne,Ft);!Gt.done;Wt++,Gt=Pe.next())Gt=at(Ft,Ne,Wt,Gt.value,rt),Gt!==null&&(o&&Gt.alternate!==null&&Ft.delete(Gt.key===null?Wt:Gt.key),ye=k(Gt,ye,Wt),$t===null?kt=Gt:$t.sibling=Gt,$t=Gt);return o&&Ft.forEach(function(hw){return c(Ne,hw)}),ar&&bn(Ne,Wt),kt}function fa(Ne,ye,Pe,rt){if(typeof Pe=="object"&&Pe!==null&&Pe.type===F&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case R:e:{for(var kt=Pe.key,$t=ye;$t!==null;){if($t.key===kt){if(kt=Pe.type,kt===F){if($t.tag===7){p(Ne,$t.sibling),ye=j($t,Pe.props.children),ye.return=Ne,Ne=ye;break e}}else if($t.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===J&&Pg(kt)===$t.type){p(Ne,$t.sibling),ye=j($t,Pe.props),ye.ref=Bl(Ne,$t,Pe),ye.return=Ne,Ne=ye;break e}p(Ne,$t);break}else c(Ne,$t);$t=$t.sibling}Pe.type===F?(ye=yl(Pe.props.children,Ne.mode,rt,Pe.key),ye.return=Ne,Ne=ye):(rt=sh(Pe.type,Pe.key,Pe.props,null,Ne.mode,rt),rt.ref=Bl(Ne,ye,Pe),rt.return=Ne,Ne=rt)}return q(Ne);case M:e:{for($t=Pe.key;ye!==null;){if(ye.key===$t)if(ye.tag===4&&ye.stateNode.containerInfo===Pe.containerInfo&&ye.stateNode.implementation===Pe.implementation){p(Ne,ye.sibling),ye=j(ye,Pe.children||[]),ye.return=Ne,Ne=ye;break e}else{p(Ne,ye);break}else c(Ne,ye);ye=ye.sibling}ye=ih(Pe,Ne.mode,rt),ye.return=Ne,Ne=ye}return q(Ne);case J:return $t=Pe._init,fa(Ne,ye,$t(Pe._payload),rt)}if(mt(Pe))return wt(Ne,ye,Pe,rt);if(ve(Pe))return jt(Ne,ye,Pe,rt);Jf(Ne,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,ye!==null&&ye.tag===6?(p(Ne,ye.sibling),ye=j(ye,Pe),ye.return=Ne,Ne=ye):(p(Ne,ye),ye=ro(Pe,Ne.mode,rt),ye.return=Ne,Ne=ye),q(Ne)):p(Ne,ye)}return fa}var zu=Ag(!0),Sm=Ag(!1),Ki=$a(null),ep=null,Wu=null,Nm=null;function jm(){Nm=Wu=ep=null}function _m(o){var c=Ki.current;dr(Ki),o._currentValue=c}function Vv(o,c,p){for(;o!==null;){var b=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),o===p)break;o=o.return}}function Xd(o,c){ep=o,Nm=Wu=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(fs=!0),o.firstContext=null)}function Xs(o){var c=o._currentValue;if(Nm!==o)if(o={context:o,memoizedValue:c,next:null},Wu===null){if(ep===null)throw Error(r(308));Wu=o,ep.dependencies={lanes:0,firstContext:o}}else Wu=Wu.next=o;return c}var ql=null;function Hu(o){ql===null?ql=[o]:ql.push(o)}function kg(o,c,p,b){var j=c.interleaved;return j===null?(p.next=p,Hu(c)):(p.next=j.next,j.next=p),c.interleaved=p,mi(o,b)}function mi(o,c){o.lanes|=c;var p=o.alternate;for(p!==null&&(p.lanes|=c),p=o,o=o.return;o!==null;)o.childLanes|=c,p=o.alternate,p!==null&&(p.childLanes|=c),p=o,o=o.return;return p.tag===3?p.stateNode:null}var Ul=!1;function Fa(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eg(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Yi(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function zl(o,c,p){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(Sr&2)!==0){var j=b.pending;return j===null?c.next=c:(c.next=j.next,j.next=c),b.pending=c,mi(o,p)}return j=b.interleaved,j===null?(c.next=c,Hu(b)):(c.next=j.next,j.next=c),b.interleaved=c,mi(o,p)}function tp(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var b=c.lanes;b&=o.pendingLanes,p|=b,c.lanes=p,Rl(o,p)}}function Cm(o,c){var p=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var j=null,k=null;if(p=p.firstBaseUpdate,p!==null){do{var q={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};k===null?j=k=q:k=k.next=q,p=p.next}while(p!==null);k===null?j=k=c:k=k.next=c}else j=k=c;p={baseState:b.baseState,firstBaseUpdate:j,lastBaseUpdate:k,shared:b.shared,effects:b.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}function Og(o,c,p,b){var j=o.updateQueue;Ul=!1;var k=j.firstBaseUpdate,q=j.lastBaseUpdate,ae=j.shared.pending;if(ae!==null){j.shared.pending=null;var he=ae,ke=he.next;he.next=null,q===null?k=ke:q.next=ke,q=he;var He=o.alternate;He!==null&&(He=He.updateQueue,ae=He.lastBaseUpdate,ae!==q&&(ae===null?He.firstBaseUpdate=ke:ae.next=ke,He.lastBaseUpdate=he))}if(k!==null){var Ze=j.baseState;q=0,He=ke=he=null,ae=k;do{var We=ae.lane,at=ae.eventTime;if((b&We)===We){He!==null&&(He=He.next={eventTime:at,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var wt=o,jt=ae;switch(We=c,at=p,jt.tag){case 1:if(wt=jt.payload,typeof wt=="function"){Ze=wt.call(at,Ze,We);break e}Ze=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=jt.payload,We=typeof wt=="function"?wt.call(at,Ze,We):wt,We==null)break e;Ze=Se({},Ze,We);break e;case 2:Ul=!0}}ae.callback!==null&&ae.lane!==0&&(o.flags|=64,We=j.effects,We===null?j.effects=[ae]:We.push(ae))}else at={eventTime:at,lane:We,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},He===null?(ke=He=at,he=Ze):He=He.next=at,q|=We;if(ae=ae.next,ae===null){if(ae=j.shared.pending,ae===null)break;We=ae,ae=We.next,We.next=null,j.lastBaseUpdate=We,j.shared.pending=null}}while(!0);if(He===null&&(he=Ze),j.baseState=he,j.firstBaseUpdate=ke,j.lastBaseUpdate=He,c=j.shared.interleaved,c!==null){j=c;do q|=j.lane,j=j.next;while(j!==c)}else k===null&&(j.shared.lanes=0);Yc|=q,o.lanes=q,o.memoizedState=Ze}}function Gv(o,c,p){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var b=o[c],j=b.callback;if(j!==null){if(b.callback=null,b=p,typeof j!="function")throw Error(r(191,j));j.call(b)}}}var Fc={},Xi=$a(Fc),Ba=$a(Fc),ki=$a(Fc);function ua(o){if(o===Fc)throw Error(r(174));return o}function Oo(o,c){switch(wr(ki,c),wr(Ba,o),wr(Xi,Fc),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:dn(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=dn(c,o)}dr(Xi),wr(Xi,c)}function Wl(){dr(Xi),dr(Ba),dr(ki)}function Pm(o){ua(ki.current);var c=ua(Xi.current),p=dn(c,o.type);c!==p&&(wr(Ba,o),wr(Xi,p))}function Qd(o){Ba.current===o&&(dr(Xi),dr(Ba))}var xn=$a(0);function rp(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var np=[];function Zd(){for(var o=0;o<np.length;o++)np[o]._workInProgressVersionPrimary=null;np.length=0}var ap=$.ReactCurrentDispatcher,Rg=$.ReactCurrentBatchConfig,Bc=0,tn=null,qa=null,ba=null,Jd=!1,dl=!1,sp=0,Hl=0;function Jn(){throw Error(r(321))}function ip(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!Yn(o[p],c[p]))return!1;return!0}function Ro(o,c,p,b,j,k){if(Bc=k,tn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ap.current=o===null||o.memoizedState===null?Qv:Zv,o=p(b,j),dl){k=0;do{if(dl=!1,sp=0,25<=k)throw Error(r(301));k+=1,ba=qa=null,c.updateQueue=null,ap.current=Bg,o=p(b,j)}while(dl)}if(ap.current=hi,c=qa!==null&&qa.next!==null,Bc=0,ba=qa=tn=null,Jd=!1,c)throw Error(r(300));return o}function Vu(){var o=sp!==0;return sp=0,o}function To(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ba===null?tn.memoizedState=ba=o:ba=ba.next=o,ba}function Ei(){if(qa===null){var o=tn.alternate;o=o!==null?o.memoizedState:null}else o=qa.next;var c=ba===null?tn.memoizedState:ba.next;if(c!==null)ba=c,qa=o;else{if(o===null)throw Error(r(310));qa=o,o={memoizedState:qa.memoizedState,baseState:qa.baseState,baseQueue:qa.baseQueue,queue:qa.queue,next:null},ba===null?tn.memoizedState=ba=o:ba=ba.next=o}return ba}function Gu(o,c){return typeof c=="function"?c(o):c}function Ku(o){var c=Ei(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var b=qa,j=b.baseQueue,k=p.pending;if(k!==null){if(j!==null){var q=j.next;j.next=k.next,k.next=q}b.baseQueue=j=k,p.pending=null}if(j!==null){k=j.next,b=b.baseState;var ae=q=null,he=null,ke=k;do{var He=ke.lane;if((Bc&He)===He)he!==null&&(he=he.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),b=ke.hasEagerState?ke.eagerState:o(b,ke.action);else{var Ze={lane:He,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};he===null?(ae=he=Ze,q=b):he=he.next=Ze,tn.lanes|=He,Yc|=He}ke=ke.next}while(ke!==null&&ke!==k);he===null?q=b:he.next=ae,Yn(b,c.memoizedState)||(fs=!0),c.memoizedState=b,c.baseState=q,c.baseQueue=he,p.lastRenderedState=b}if(o=p.interleaved,o!==null){j=o;do k=j.lane,tn.lanes|=k,Yc|=k,j=j.next;while(j!==o)}else j===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function Am(o){var c=Ei(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var b=p.dispatch,j=p.pending,k=c.memoizedState;if(j!==null){p.pending=null;var q=j=j.next;do k=o(k,q.action),q=q.next;while(q!==j);Yn(k,c.memoizedState)||(fs=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),p.lastRenderedState=k}return[k,b]}function Tg(){}function Kv(o,c){var p=tn,b=Ei(),j=c(),k=!Yn(b.memoizedState,j);if(k&&(b.memoizedState=j,fs=!0),b=b.queue,zc(Mg.bind(null,p,b,o),[o]),b.getSnapshot!==c||k||ba!==null&&ba.memoizedState.tag&1){if(p.flags|=2048,Uc(9,Ig.bind(null,p,b,j,c),void 0,null),Za===null)throw Error(r(349));(Bc&30)!==0||km(p,c,j)}return j}function km(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=tn.updateQueue,c===null?(c={lastEffect:null,stores:null},tn.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function Ig(o,c,p,b){c.value=p,c.getSnapshot=b,Qs(c)&&qc(o)}function Mg(o,c,p){return p(function(){Qs(c)&&qc(o)})}function Qs(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!Yn(o,p)}catch{return!0}}function qc(o){var c=mi(o,1);c!==null&&es(c,o,1,-1)}function Dg(o){var c=To();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:o},c.queue=o,o=o.dispatch=Fg.bind(null,tn,o),[c.memoizedState,o]}function Uc(o,c,p,b){return o={tag:o,create:c,destroy:p,deps:b,next:null},c=tn.updateQueue,c===null?(c={lastEffect:null,stores:null},tn.updateQueue=c,c.lastEffect=o.next=o):(p=c.lastEffect,p===null?c.lastEffect=o.next=o:(b=p.next,p.next=o,o.next=b,c.lastEffect=o)),o}function Yv(){return Ei().memoizedState}function op(o,c,p,b){var j=To();tn.flags|=o,j.memoizedState=Uc(1|c,p,void 0,b===void 0?null:b)}function Em(o,c,p,b){var j=Ei();b=b===void 0?null:b;var k=void 0;if(qa!==null){var q=qa.memoizedState;if(k=q.destroy,b!==null&&ip(b,q.deps)){j.memoizedState=Uc(c,p,k,b);return}}tn.flags|=o,j.memoizedState=Uc(1|c,p,k,b)}function Xv(o,c){return op(8390656,8,o,c)}function zc(o,c){return Em(2048,8,o,c)}function Om(o,c){return Em(4,2,o,c)}function Lg(o,c){return Em(4,4,o,c)}function Rm(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function lp(o,c,p){return p=p!=null?p.concat([o]):null,Em(4,4,Rm.bind(null,c,o),p)}function Wc(){}function Tm(o,c){var p=Ei();c=c===void 0?null:c;var b=p.memoizedState;return b!==null&&c!==null&&ip(c,b[1])?b[0]:(p.memoizedState=[o,c],o)}function Yu(o,c){var p=Ei();c=c===void 0?null:c;var b=p.memoizedState;return b!==null&&c!==null&&ip(c,b[1])?b[0]:(o=o(),p.memoizedState=[o,c],o)}function $g(o,c,p){return(Bc&21)===0?(o.baseState&&(o.baseState=!1,fs=!0),o.memoizedState=p):(Yn(p,c)||(p=Nc(),tn.lanes|=p,Yc|=p,o.baseState=!0),c)}function ef(o,c){var p=ce;ce=p!==0&&4>p?p:4,o(!0);var b=Rg.transition;Rg.transition={};try{o(!1),c()}finally{ce=p,Rg.transition=b}}function Im(){return Ei().memoizedState}function Xu(o,c,p){var b=ml(o);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},Hc(o))Io(c,p);else if(p=kg(o,c,p,b),p!==null){var j=Ja();es(p,o,b,j),Mo(p,c,b)}}function Fg(o,c,p){var b=ml(o),j={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(Hc(o))Io(c,j);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var q=c.lastRenderedState,ae=k(q,p);if(j.hasEagerState=!0,j.eagerState=ae,Yn(ae,q)){var he=c.interleaved;he===null?(j.next=j,Hu(c)):(j.next=he.next,he.next=j),c.interleaved=j;return}}catch{}finally{}p=kg(o,c,j,b),p!==null&&(j=Ja(),es(p,o,b,j),Mo(p,c,b))}}function Hc(o){var c=o.alternate;return o===tn||c!==null&&c===tn}function Io(o,c){dl=Jd=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function Mo(o,c,p){if((p&4194240)!==0){var b=c.lanes;b&=o.pendingLanes,p|=b,c.lanes=p,Rl(o,p)}}var hi={readContext:Xs,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},Qv={readContext:Xs,useCallback:function(o,c){return To().memoizedState=[o,c===void 0?null:c],o},useContext:Xs,useEffect:Xv,useImperativeHandle:function(o,c,p){return p=p!=null?p.concat([o]):null,op(4194308,4,Rm.bind(null,c,o),p)},useLayoutEffect:function(o,c){return op(4194308,4,o,c)},useInsertionEffect:function(o,c){return op(4,2,o,c)},useMemo:function(o,c){var p=To();return c=c===void 0?null:c,o=o(),p.memoizedState=[o,c],o},useReducer:function(o,c,p){var b=To();return c=p!==void 0?p(c):c,b.memoizedState=b.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},b.queue=o,o=o.dispatch=Xu.bind(null,tn,o),[b.memoizedState,o]},useRef:function(o){var c=To();return o={current:o},c.memoizedState=o},useState:Dg,useDebugValue:Wc,useDeferredValue:function(o){return To().memoizedState=o},useTransition:function(){var o=Dg(!1),c=o[0];return o=ef.bind(null,o[1]),To().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,p){var b=tn,j=To();if(ar){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),Za===null)throw Error(r(349));(Bc&30)!==0||km(b,c,p)}j.memoizedState=p;var k={value:p,getSnapshot:c};return j.queue=k,Xv(Mg.bind(null,b,k,o),[o]),b.flags|=2048,Uc(9,Ig.bind(null,b,k,p,c),void 0,null),p},useId:function(){var o=To(),c=Za.identifierPrefix;if(ar){var p=Ys,b=va;p=(b&~(1<<32-Fn(b)-1)).toString(32)+p,c=":"+c+"R"+p,p=sp++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=Hl++,c=":"+c+"r"+p.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},Zv={readContext:Xs,useCallback:Tm,useContext:Xs,useEffect:zc,useImperativeHandle:lp,useInsertionEffect:Om,useLayoutEffect:Lg,useMemo:Yu,useReducer:Ku,useRef:Yv,useState:function(){return Ku(Gu)},useDebugValue:Wc,useDeferredValue:function(o){var c=Ei();return $g(c,qa.memoizedState,o)},useTransition:function(){var o=Ku(Gu)[0],c=Ei().memoizedState;return[o,c]},useMutableSource:Tg,useSyncExternalStore:Kv,useId:Im,unstable_isNewReconciler:!1},Bg={readContext:Xs,useCallback:Tm,useContext:Xs,useEffect:zc,useImperativeHandle:lp,useInsertionEffect:Om,useLayoutEffect:Lg,useMemo:Yu,useReducer:Am,useRef:Yv,useState:function(){return Am(Gu)},useDebugValue:Wc,useDeferredValue:function(o){var c=Ei();return qa===null?c.memoizedState=o:$g(c,qa.memoizedState,o)},useTransition:function(){var o=Am(Gu)[0],c=Ei().memoizedState;return[o,c]},useMutableSource:Tg,useSyncExternalStore:Kv,useId:Im,unstable_isNewReconciler:!1};function Qi(o,c){if(o&&o.defaultProps){c=Se({},c),o=o.defaultProps;for(var p in o)c[p]===void 0&&(c[p]=o[p]);return c}return c}function cp(o,c,p,b){c=o.memoizedState,p=p(b,c),p=p==null?c:Se({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var tf={isMounted:function(o){return(o=o._reactInternals)?$n(o)===o:!1},enqueueSetState:function(o,c,p){o=o._reactInternals;var b=Ja(),j=ml(o),k=Yi(b,j);k.payload=c,p!=null&&(k.callback=p),c=zl(o,k,j),c!==null&&(es(c,o,j,b),tp(c,o,j))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var b=Ja(),j=ml(o),k=Yi(b,j);k.tag=1,k.payload=c,p!=null&&(k.callback=p),c=zl(o,k,j),c!==null&&(es(c,o,j,b),tp(c,o,j))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=Ja(),b=ml(o),j=Yi(p,b);j.tag=2,c!=null&&(j.callback=c),c=zl(o,j,b),c!==null&&(es(c,o,b,p),tp(c,o,b))}};function qg(o,c,p,b,j,k,q){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,k,q):c.prototype&&c.prototype.isPureReactComponent?!Gr(p,b)||!Gr(j,k):!0}function Mm(o,c,p){var b=!1,j=Or,k=c.contextType;return typeof k=="object"&&k!==null?k=Xs(k):(j=Rr(c)?qn:yn.current,b=c.contextTypes,k=(b=b!=null)?Gs(o,j):Or),c=new c(p,k),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=tf,o.stateNode=c,c._reactInternals=o,b&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=j,o.__reactInternalMemoizedMaskedChildContext=k),c}function cw(o,c,p,b){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,b),c.state!==o&&tf.enqueueReplaceState(c,c.state,null)}function Ug(o,c,p,b){var j=o.stateNode;j.props=p,j.state=o.memoizedState,j.refs={},Fa(o);var k=c.contextType;typeof k=="object"&&k!==null?j.context=Xs(k):(k=Rr(c)?qn:yn.current,j.context=Gs(o,k)),j.state=o.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(cp(o,c,k,p),j.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(c=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),c!==j.state&&tf.enqueueReplaceState(j,j.state,null),Og(o,p,j,b),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4194308)}function Vc(o,c){try{var p="",b=c;do p+=Re(b),b=b.return;while(b);var j=p}catch(k){j=`
Error generating stack: `+k.message+`
`+k.stack}return{value:o,source:c,stack:j,digest:null}}function Qu(o,c,p){return{value:o,source:null,stack:p??null,digest:c??null}}function rf(o,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var nf=typeof WeakMap=="function"?WeakMap:Map;function up(o,c,p){p=Yi(-1,p),p.tag=3,p.payload={element:null};var b=c.value;return p.callback=function(){vi||(vi=!0,Jm=b),rf(o,c)},p}function Dm(o,c,p){p=Yi(-1,p),p.tag=3;var b=o.type.getDerivedStateFromError;if(typeof b=="function"){var j=c.value;p.payload=function(){return b(j)},p.callback=function(){rf(o,c)}}var k=o.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(p.callback=function(){rf(o,c),typeof b!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var q=c.stack;this.componentDidCatch(c.value,{componentStack:q!==null?q:""})}),p}function Lm(o,c,p){var b=o.pingCache;if(b===null){b=o.pingCache=new nf;var j=new Set;b.set(c,j)}else j=b.get(c),j===void 0&&(j=new Set,b.set(c,j));j.has(p)||(j.add(p),o=Jg.bind(null,o,c,p),c.then(o,o))}function $m(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function zg(o,c,p,b,j){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=Yi(-1,1),c.tag=2,zl(p,c,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=j,o)}var Fm=$.ReactCurrentOwner,fs=!1;function Zs(o,c,p,b){c.child=o===null?Sm(c,null,p,b):zu(c,o.child,p,b)}function Bm(o,c,p,b,j){p=p.render;var k=c.ref;return Xd(c,j),b=Ro(o,c,p,b,k,j),p=Vu(),o!==null&&!fs?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~j,Vl(o,c,j)):(ar&&p&&Fl(c),c.flags|=1,Zs(o,c,b,j),c.child)}function Wg(o,c,p,b,j){if(o===null){var k=p.type;return typeof k=="function"&&!yf(k)&&k.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=k,qm(o,c,k,b,j)):(o=sh(p.type,null,b,c,c.mode,j),o.ref=c.ref,o.return=c,c.child=o)}if(k=o.child,(o.lanes&j)===0){var q=k.memoizedProps;if(p=p.compare,p=p!==null?p:Gr,p(q,b)&&o.ref===c.ref)return Vl(o,c,j)}return c.flags|=1,o=gl(k,b),o.ref=c.ref,o.return=c,c.child=o}function qm(o,c,p,b,j){if(o!==null){var k=o.memoizedProps;if(Gr(k,b)&&o.ref===c.ref)if(fs=!1,c.pendingProps=b=k,(o.lanes&j)!==0)(o.flags&131072)!==0&&(fs=!0);else return c.lanes=o.lanes,Vl(o,c,j)}return zm(o,c,p,b,j)}function af(o,c,p){var b=c.pendingProps,j=b.children,k=o!==null?o.memoizedState:null;if(b.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(pl,yi),yi|=p;else{if((p&1073741824)===0)return o=k!==null?k.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,wr(pl,yi),yi|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=k!==null?k.baseLanes:p,wr(pl,yi),yi|=b}else k!==null?(b=k.baseLanes|p,c.memoizedState=null):b=p,wr(pl,yi),yi|=b;return Zs(o,c,j,p),c.child}function Um(o,c){var p=c.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function zm(o,c,p,b,j){var k=Rr(p)?qn:yn.current;return k=Gs(c,k),Xd(c,j),p=Ro(o,c,p,b,k,j),b=Vu(),o!==null&&!fs?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~j,Vl(o,c,j)):(ar&&b&&Fl(c),c.flags|=1,Zs(o,c,p,j),c.child)}function Jv(o,c,p,b,j){if(Rr(p)){var k=!0;cn(c)}else k=!1;if(Xd(c,j),c.stateNode===null)fp(o,c),Mm(c,p,b),Ug(c,p,b,j),b=!0;else if(o===null){var q=c.stateNode,ae=c.memoizedProps;q.props=ae;var he=q.context,ke=p.contextType;typeof ke=="object"&&ke!==null?ke=Xs(ke):(ke=Rr(p)?qn:yn.current,ke=Gs(c,ke));var He=p.getDerivedStateFromProps,Ze=typeof He=="function"||typeof q.getSnapshotBeforeUpdate=="function";Ze||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ae!==b||he!==ke)&&cw(c,q,b,ke),Ul=!1;var We=c.memoizedState;q.state=We,Og(c,b,q,j),he=c.memoizedState,ae!==b||We!==he||Jr.current||Ul?(typeof He=="function"&&(cp(c,p,He,b),he=c.memoizedState),(ae=Ul||qg(c,p,ae,b,We,he,ke))?(Ze||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(c.flags|=4194308)):(typeof q.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=he),q.props=b,q.state=he,q.context=ke,b=ae):(typeof q.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{q=c.stateNode,Eg(o,c),ae=c.memoizedProps,ke=c.type===c.elementType?ae:Qi(c.type,ae),q.props=ke,Ze=c.pendingProps,We=q.context,he=p.contextType,typeof he=="object"&&he!==null?he=Xs(he):(he=Rr(p)?qn:yn.current,he=Gs(c,he));var at=p.getDerivedStateFromProps;(He=typeof at=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ae!==Ze||We!==he)&&cw(c,q,b,he),Ul=!1,We=c.memoizedState,q.state=We,Og(c,b,q,j);var wt=c.memoizedState;ae!==Ze||We!==wt||Jr.current||Ul?(typeof at=="function"&&(cp(c,p,at,b),wt=c.memoizedState),(ke=Ul||qg(c,p,ke,b,We,wt,he)||!1)?(He||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(b,wt,he),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(b,wt,he)),typeof q.componentDidUpdate=="function"&&(c.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof q.componentDidUpdate!="function"||ae===o.memoizedProps&&We===o.memoizedState||(c.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&We===o.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=wt),q.props=b,q.state=wt,q.context=he,b=ke):(typeof q.componentDidUpdate!="function"||ae===o.memoizedProps&&We===o.memoizedState||(c.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&We===o.memoizedState||(c.flags|=1024),b=!1)}return Wm(o,c,p,b,k,j)}function Wm(o,c,p,b,j,k){Um(o,c);var q=(c.flags&128)!==0;if(!b&&!q)return j&&Ks(c,p,!1),Vl(o,c,k);b=c.stateNode,Fm.current=c;var ae=q&&typeof p.getDerivedStateFromError!="function"?null:b.render();return c.flags|=1,o!==null&&q?(c.child=zu(c,o.child,null,k),c.child=zu(c,null,ae,k)):Zs(o,c,ae,k),c.memoizedState=b.state,j&&Ks(c,p,!0),c.child}function e0(o){var c=o.stateNode;c.pendingContext?zt(o,c.pendingContext,c.pendingContext!==c.context):c.context&&zt(o,c.context,!1),Oo(o,c.containerInfo)}function Zu(o,c,p,b,j){return $c(),Yd(j),c.flags|=256,Zs(o,c,p,b),c.child}var Hg={dehydrated:null,treeContext:null,retryLane:0};function sf(o){return{baseLanes:o,cachePool:null,transitions:null}}function dp(o,c,p){var b=c.pendingProps,j=xn.current,k=!1,q=(c.flags&128)!==0,ae;if((ae=q)||(ae=o!==null&&o.memoizedState===null?!1:(j&2)!==0),ae?(k=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(j|=1),wr(xn,j&1),o===null)return Cg(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(q=b.children,o=b.fallback,k?(b=c.mode,k=c.child,q={mode:"hidden",children:q},(b&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=q):k=nc(q,b,0,null),o=yl(o,b,p,null),k.return=c,o.return=c,k.sibling=o,c.child=k,c.child.memoizedState=sf(p),c.memoizedState=Hg,o):Vg(c,q));if(j=o.memoizedState,j!==null&&(ae=j.dehydrated,ae!==null))return t0(o,c,q,b,ae,j,p);if(k){k=b.fallback,q=c.mode,j=o.child,ae=j.sibling;var he={mode:"hidden",children:b.children};return(q&1)===0&&c.child!==j?(b=c.child,b.childLanes=0,b.pendingProps=he,c.deletions=null):(b=gl(j,he),b.subtreeFlags=j.subtreeFlags&14680064),ae!==null?k=gl(ae,k):(k=yl(k,q,p,null),k.flags|=2),k.return=c,b.return=c,b.sibling=k,c.child=b,b=k,k=c.child,q=o.child.memoizedState,q=q===null?sf(p):{baseLanes:q.baseLanes|p,cachePool:null,transitions:q.transitions},k.memoizedState=q,k.childLanes=o.childLanes&~p,c.memoizedState=Hg,b}return k=o.child,o=k.sibling,b=gl(k,{mode:"visible",children:b.children}),(c.mode&1)===0&&(b.lanes=p),b.return=c,b.sibling=null,o!==null&&(p=c.deletions,p===null?(c.deletions=[o],c.flags|=16):p.push(o)),c.child=b,c.memoizedState=null,b}function Vg(o,c){return c=nc({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function of(o,c,p,b){return b!==null&&Yd(b),zu(c,o.child,null,p),o=Vg(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function t0(o,c,p,b,j,k,q){if(p)return c.flags&256?(c.flags&=-257,b=Qu(Error(r(422))),of(o,c,q,b)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(k=b.fallback,j=c.mode,b=nc({mode:"visible",children:b.children},j,0,null),k=yl(k,j,q,null),k.flags|=2,b.return=c,k.return=c,b.sibling=k,c.child=b,(c.mode&1)!==0&&zu(c,o.child,null,q),c.child.memoizedState=sf(q),c.memoizedState=Hg,k);if((c.mode&1)===0)return of(o,c,q,null);if(j.data==="$!"){if(b=j.nextSibling&&j.nextSibling.dataset,b)var ae=b.dgst;return b=ae,k=Error(r(419)),b=Qu(k,b,void 0),of(o,c,q,b)}if(ae=(q&o.childLanes)!==0,fs||ae){if(b=Za,b!==null){switch(q&-q){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(b.suspendedLanes|q))!==0?0:j,j!==0&&j!==k.retryLane&&(k.retryLane=j,mi(o,j),es(b,o,j,-1))}return tc(),b=Qu(Error(r(421))),of(o,c,q,b)}return j.data==="$?"?(c.flags|=128,c.child=o.child,c=ey.bind(null,o),j._reactRetry=c,null):(o=k.treeContext,pi=In(j.nextSibling),Ai=c,ar=!0,Gi=null,o!==null&&(nr[en++]=va,nr[en++]=Ys,nr[en++]=Xa,va=o.id,Ys=o.overflow,Xa=c),c=Vg(c,b.children),c.flags|=4096,c)}function Hm(o,c,p){o.lanes|=c;var b=o.alternate;b!==null&&(b.lanes|=c),Vv(o.return,c,p)}function lf(o,c,p,b,j){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:j}:(k.isBackwards=c,k.rendering=null,k.renderingStartTime=0,k.last=b,k.tail=p,k.tailMode=j)}function Vm(o,c,p){var b=c.pendingProps,j=b.revealOrder,k=b.tail;if(Zs(o,c,b.children,p),b=xn.current,(b&2)!==0)b=b&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Hm(o,p,c);else if(o.tag===19)Hm(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}if(wr(xn,b),(c.mode&1)===0)c.memoizedState=null;else switch(j){case"forwards":for(p=c.child,j=null;p!==null;)o=p.alternate,o!==null&&rp(o)===null&&(j=p),p=p.sibling;p=j,p===null?(j=c.child,c.child=null):(j=p.sibling,p.sibling=null),lf(c,!1,j,p,k);break;case"backwards":for(p=null,j=c.child,c.child=null;j!==null;){if(o=j.alternate,o!==null&&rp(o)===null){c.child=j;break}o=j.sibling,j.sibling=p,p=j,j=o}lf(c,!0,p,null,k);break;case"together":lf(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function fp(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Vl(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),Yc|=c.lanes,(p&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,p=gl(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=gl(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function r0(o,c,p){switch(c.tag){case 3:e0(c),$c();break;case 5:Pm(c);break;case 1:Rr(c.type)&&cn(c);break;case 4:Oo(c,c.stateNode.containerInfo);break;case 10:var b=c.type._context,j=c.memoizedProps.value;wr(Ki,b._currentValue),b._currentValue=j;break;case 13:if(b=c.memoizedState,b!==null)return b.dehydrated!==null?(wr(xn,xn.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?dp(o,c,p):(wr(xn,xn.current&1),o=Vl(o,c,p),o!==null?o.sibling:null);wr(xn,xn.current&1);break;case 19:if(b=(p&c.childLanes)!==0,(o.flags&128)!==0){if(b)return Vm(o,c,p);c.flags|=128}if(j=c.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),wr(xn,xn.current),b)break;return null;case 22:case 23:return c.lanes=0,af(o,c,p)}return Vl(o,c,p)}var n0,Gl,a0,pp;n0=function(o,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Gl=function(){},a0=function(o,c,p,b){var j=o.memoizedProps;if(j!==b){o=c.stateNode,ua(Xi.current);var k=null;switch(p){case"input":j=At(o,j),b=At(o,b),k=[];break;case"select":j=Se({},j,{value:void 0}),b=Se({},b,{value:void 0}),k=[];break;case"textarea":j=ht(o,j),b=ht(o,b),k=[];break;default:typeof j.onClick!="function"&&typeof b.onClick=="function"&&(o.onclick=be)}Fs(p,b);var q;p=null;for(ke in j)if(!b.hasOwnProperty(ke)&&j.hasOwnProperty(ke)&&j[ke]!=null)if(ke==="style"){var ae=j[ke];for(q in ae)ae.hasOwnProperty(q)&&(p||(p={}),p[q]="")}else ke!=="dangerouslySetInnerHTML"&&ke!=="children"&&ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&ke!=="autoFocus"&&(a.hasOwnProperty(ke)?k||(k=[]):(k=k||[]).push(ke,null));for(ke in b){var he=b[ke];if(ae=j?.[ke],b.hasOwnProperty(ke)&&he!==ae&&(he!=null||ae!=null))if(ke==="style")if(ae){for(q in ae)!ae.hasOwnProperty(q)||he&&he.hasOwnProperty(q)||(p||(p={}),p[q]="");for(q in he)he.hasOwnProperty(q)&&ae[q]!==he[q]&&(p||(p={}),p[q]=he[q])}else p||(k||(k=[]),k.push(ke,p)),p=he;else ke==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,ae=ae?ae.__html:void 0,he!=null&&ae!==he&&(k=k||[]).push(ke,he)):ke==="children"?typeof he!="string"&&typeof he!="number"||(k=k||[]).push(ke,""+he):ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&(a.hasOwnProperty(ke)?(he!=null&&ke==="onScroll"&&Kr("scroll",o),k||ae===he||(k=[])):(k=k||[]).push(ke,he))}p&&(k=k||[]).push("style",p);var ke=k;(c.updateQueue=ke)&&(c.flags|=4)}},pp=function(o,c,p,b){p!==b&&(c.flags|=4)};function cf(o,c){if(!ar)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Es(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,b=0;if(c)for(var j=o.child;j!==null;)p|=j.lanes|j.childLanes,b|=j.subtreeFlags&14680064,b|=j.flags&14680064,j.return=o,j=j.sibling;else for(j=o.child;j!==null;)p|=j.lanes|j.childLanes,b|=j.subtreeFlags,b|=j.flags,j.return=o,j=j.sibling;return o.subtreeFlags|=b,o.childLanes=p,c}function Ju(o,c,p){var b=c.pendingProps;switch(jg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Es(c),null;case 1:return Rr(c.type)&&Lt(),Es(c),null;case 3:return b=c.stateNode,Wl(),dr(Jr),dr(yn),Zd(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(o===null||o.child===null)&&(Zf(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Gi!==null&&(xp(Gi),Gi=null))),Gl(o,c),Es(c),null;case 5:Qd(c);var j=ua(ki.current);if(p=c.type,o!==null&&c.stateNode!=null)a0(o,c,p,b,j),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!b){if(c.stateNode===null)throw Error(r(166));return Es(c),null}if(o=ua(Xi.current),Zf(c)){b=c.stateNode,p=c.type;var k=c.memoizedProps;switch(b[Xn]=c,b[Qn]=k,o=(c.mode&1)!==0,p){case"dialog":Kr("cancel",b),Kr("close",b);break;case"iframe":case"object":case"embed":Kr("load",b);break;case"video":case"audio":for(j=0;j<Ce.length;j++)Kr(Ce[j],b);break;case"source":Kr("error",b);break;case"img":case"image":case"link":Kr("error",b),Kr("load",b);break;case"details":Kr("toggle",b);break;case"input":Vt(b,k),Kr("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!k.multiple},Kr("invalid",b);break;case"textarea":gt(b,k),Kr("invalid",b)}Fs(p,k),j=null;for(var q in k)if(k.hasOwnProperty(q)){var ae=k[q];q==="children"?typeof ae=="string"?b.textContent!==ae&&(k.suppressHydrationWarning!==!0&&oe(b.textContent,ae,o),j=["children",ae]):typeof ae=="number"&&b.textContent!==""+ae&&(k.suppressHydrationWarning!==!0&&oe(b.textContent,ae,o),j=["children",""+ae]):a.hasOwnProperty(q)&&ae!=null&&q==="onScroll"&&Kr("scroll",b)}switch(p){case"input":lt(b),et(b,k,!0);break;case"textarea":lt(b),Jt(b);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(b.onclick=be)}b=j,c.updateQueue=b,b!==null&&(c.flags|=4)}else{q=j.nodeType===9?j:j.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ca(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=q.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof b.is=="string"?o=q.createElement(p,{is:b.is}):(o=q.createElement(p),p==="select"&&(q=o,b.multiple?q.multiple=!0:b.size&&(q.size=b.size))):o=q.createElementNS(o,p),o[Xn]=c,o[Qn]=b,n0(o,c,!1,!1),c.stateNode=o;e:{switch(q=ns(p,b),p){case"dialog":Kr("cancel",o),Kr("close",o),j=b;break;case"iframe":case"object":case"embed":Kr("load",o),j=b;break;case"video":case"audio":for(j=0;j<Ce.length;j++)Kr(Ce[j],o);j=b;break;case"source":Kr("error",o),j=b;break;case"img":case"image":case"link":Kr("error",o),Kr("load",o),j=b;break;case"details":Kr("toggle",o),j=b;break;case"input":Vt(o,b),j=At(o,b),Kr("invalid",o);break;case"option":j=b;break;case"select":o._wrapperState={wasMultiple:!!b.multiple},j=Se({},b,{value:void 0}),Kr("invalid",o);break;case"textarea":gt(o,b),j=ht(o,b),Kr("invalid",o);break;default:j=b}Fs(p,j),ae=j;for(k in ae)if(ae.hasOwnProperty(k)){var he=ae[k];k==="style"?Ls(o,he):k==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&Wn(o,he)):k==="children"?typeof he=="string"?(p!=="textarea"||he!=="")&&Pa(o,he):typeof he=="number"&&Pa(o,""+he):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(a.hasOwnProperty(k)?he!=null&&k==="onScroll"&&Kr("scroll",o):he!=null&&L(o,k,he,q))}switch(p){case"input":lt(o),et(o,b,!1);break;case"textarea":lt(o),Jt(o);break;case"option":b.value!=null&&o.setAttribute("value",""+Ve(b.value));break;case"select":o.multiple=!!b.multiple,k=b.value,k!=null?Tt(o,!!b.multiple,k,!1):b.defaultValue!=null&&Tt(o,!!b.multiple,b.defaultValue,!0);break;default:typeof j.onClick=="function"&&(o.onclick=be)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Es(c),null;case 6:if(o&&c.stateNode!=null)pp(o,c,o.memoizedProps,b);else{if(typeof b!="string"&&c.stateNode===null)throw Error(r(166));if(p=ua(ki.current),ua(Xi.current),Zf(c)){if(b=c.stateNode,p=c.memoizedProps,b[Xn]=c,(k=b.nodeValue!==p)&&(o=Ai,o!==null))switch(o.tag){case 3:oe(b.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&oe(b.nodeValue,p,(o.mode&1)!==0)}k&&(c.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[Xn]=c,c.stateNode=b}return Es(c),null;case 13:if(dr(xn),b=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ar&&pi!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Uu(),$c(),c.flags|=98560,k=!1;else if(k=Zf(c),b!==null&&b.dehydrated!==null){if(o===null){if(!k)throw Error(r(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[Xn]=c}else $c(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Es(c),k=!1}else Gi!==null&&(xp(Gi),Gi=null),k=!0;if(!k)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(b=b!==null,b!==(o!==null&&o.memoizedState!==null)&&b&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(xn.current&1)!==0?Ir===0&&(Ir=3):tc())),c.updateQueue!==null&&(c.flags|=4),Es(c),null);case 4:return Wl(),Gl(o,c),o===null&&Kd(c.stateNode.containerInfo),Es(c),null;case 10:return _m(c.type._context),Es(c),null;case 17:return Rr(c.type)&&Lt(),Es(c),null;case 19:if(dr(xn),k=c.memoizedState,k===null)return Es(c),null;if(b=(c.flags&128)!==0,q=k.rendering,q===null)if(b)cf(k,!1);else{if(Ir!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(q=rp(o),q!==null){for(c.flags|=128,cf(k,!1),b=q.updateQueue,b!==null&&(c.updateQueue=b,c.flags|=4),c.subtreeFlags=0,b=p,p=c.child;p!==null;)k=p,o=b,k.flags&=14680066,q=k.alternate,q===null?(k.childLanes=0,k.lanes=o,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=q.childLanes,k.lanes=q.lanes,k.child=q.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=q.memoizedProps,k.memoizedState=q.memoizedState,k.updateQueue=q.updateQueue,k.type=q.type,o=q.dependencies,k.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return wr(xn,xn.current&1|2),c.child}o=o.sibling}k.tail!==null&&sr()>td&&(c.flags|=128,b=!0,cf(k,!1),c.lanes=4194304)}else{if(!b)if(o=rp(q),o!==null){if(c.flags|=128,b=!0,p=o.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),cf(k,!0),k.tail===null&&k.tailMode==="hidden"&&!q.alternate&&!ar)return Es(c),null}else 2*sr()-k.renderingStartTime>td&&p!==1073741824&&(c.flags|=128,b=!0,cf(k,!1),c.lanes=4194304);k.isBackwards?(q.sibling=c.child,c.child=q):(p=k.last,p!==null?p.sibling=q:c.child=q,k.last=q)}return k.tail!==null?(c=k.tail,k.rendering=c,k.tail=c.sibling,k.renderingStartTime=sr(),c.sibling=null,p=xn.current,wr(xn,b?p&1|2:p&1),c):(Es(c),null);case 22:case 23:return ec(),b=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==b&&(c.flags|=8192),b&&(c.mode&1)!==0?(yi&1073741824)!==0&&(Es(c),c.subtreeFlags&6&&(c.flags|=8192)):Es(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function Gg(o,c){switch(jg(c),c.tag){case 1:return Rr(c.type)&&Lt(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Wl(),dr(Jr),dr(yn),Zd(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return Qd(c),null;case 13:if(dr(xn),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));$c()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return dr(xn),null;case 4:return Wl(),null;case 10:return _m(c.type._context),null;case 22:case 23:return ec(),null;case 24:return null;default:return null}}var uf=!1,Qa=!1,df=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Kl(o,c){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){kn(o,c,b)}else p.current=null}function mp(o,c,p){try{p()}catch(b){kn(o,c,b)}}var hp=!1;function Gm(o,c){if(Ee=li,o=Co(),ca(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var j=b.anchorOffset,k=b.focusNode;b=b.focusOffset;try{p.nodeType,k.nodeType}catch{p=null;break e}var q=0,ae=-1,he=-1,ke=0,He=0,Ze=o,We=null;t:for(;;){for(var at;Ze!==p||j!==0&&Ze.nodeType!==3||(ae=q+j),Ze!==k||b!==0&&Ze.nodeType!==3||(he=q+b),Ze.nodeType===3&&(q+=Ze.nodeValue.length),(at=Ze.firstChild)!==null;)We=Ze,Ze=at;for(;;){if(Ze===o)break t;if(We===p&&++ke===j&&(ae=q),We===k&&++He===b&&(he=q),(at=Ze.nextSibling)!==null)break;Ze=We,We=Ze.parentNode}Ze=at}p=ae===-1||he===-1?null:{start:ae,end:he}}else p=null}p=p||{start:0,end:0}}else p=null;for(we={focusedElem:o,selectionRange:p},li=!1,yt=c;yt!==null;)if(c=yt,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,yt=o;else for(;yt!==null;){c=yt;try{var wt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var jt=wt.memoizedProps,fa=wt.memoizedState,Ne=c.stateNode,ye=Ne.getSnapshotBeforeUpdate(c.elementType===c.type?jt:Qi(c.type,jt),fa);Ne.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var Pe=c.stateNode.containerInfo;Pe.nodeType===1?Pe.textContent="":Pe.nodeType===9&&Pe.documentElement&&Pe.removeChild(Pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(rt){kn(c,c.return,rt)}if(o=c.sibling,o!==null){o.return=c.return,yt=o;break}yt=c.return}return wt=hp,hp=!1,wt}function Gc(o,c,p){var b=c.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var j=b=b.next;do{if((j.tag&o)===o){var k=j.destroy;j.destroy=void 0,k!==void 0&&mp(c,p,k)}j=j.next}while(j!==b)}}function ed(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&o)===o){var b=p.create;p.destroy=b()}p=p.next}while(p!==c)}}function Km(o){var c=o.ref;if(c!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof c=="function"?c(o):c.current=o}}function gp(o){var c=o.alternate;c!==null&&(o.alternate=null,gp(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[Xn],delete c[Qn],delete c[ya],delete c[cs],delete c[ks])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Zi(o){return o.tag===5||o.tag===3||o.tag===4}function yp(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Zi(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ff(o,c,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(o,c):p.insertBefore(o,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(o,p)):(c=p,c.appendChild(o)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=be));else if(b!==4&&(o=o.child,o!==null))for(ff(o,c,p),o=o.sibling;o!==null;)ff(o,c,p),o=o.sibling}function Kc(o,c,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(b!==4&&(o=o.child,o!==null))for(Kc(o,c,p),o=o.sibling;o!==null;)Kc(o,c,p),o=o.sibling}var xa=null,Ji=!1;function Yl(o,c,p){for(p=p.child;p!==null;)vp(o,c,p),p=p.sibling}function vp(o,c,p){if(ia&&typeof ia.onCommitFiberUnmount=="function")try{ia.onCommitFiberUnmount(Ni,p)}catch{}switch(p.tag){case 5:Qa||Kl(p,c);case 6:var b=xa,j=Ji;xa=null,Yl(o,c,p),xa=b,Ji=j,xa!==null&&(Ji?(o=xa,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):xa.removeChild(p.stateNode));break;case 18:xa!==null&&(Ji?(o=xa,p=p.stateNode,o.nodeType===8?Xr(o.parentNode,p):o.nodeType===1&&Xr(o,p),la(o)):Xr(xa,p.stateNode));break;case 4:b=xa,j=Ji,xa=p.stateNode.containerInfo,Ji=!0,Yl(o,c,p),xa=b,Ji=j;break;case 0:case 11:case 14:case 15:if(!Qa&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){j=b=b.next;do{var k=j,q=k.destroy;k=k.tag,q!==void 0&&((k&2)!==0||(k&4)!==0)&&mp(p,c,q),j=j.next}while(j!==b)}Yl(o,c,p);break;case 1:if(!Qa&&(Kl(p,c),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(ae){kn(p,c,ae)}Yl(o,c,p);break;case 21:Yl(o,c,p);break;case 22:p.mode&1?(Qa=(b=Qa)||p.memoizedState!==null,Yl(o,c,p),Qa=b):Yl(o,c,p);break;default:Yl(o,c,p)}}function s0(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new df),c.forEach(function(b){var j=ty.bind(null,o,b);p.has(b)||(p.add(b),b.then(j,j))})}}function gi(o,c){var p=c.deletions;if(p!==null)for(var b=0;b<p.length;b++){var j=p[b];try{var k=o,q=c,ae=q;e:for(;ae!==null;){switch(ae.tag){case 5:xa=ae.stateNode,Ji=!1;break e;case 3:xa=ae.stateNode.containerInfo,Ji=!0;break e;case 4:xa=ae.stateNode.containerInfo,Ji=!0;break e}ae=ae.return}if(xa===null)throw Error(r(160));vp(k,q,j),xa=null,Ji=!1;var he=j.alternate;he!==null&&(he.return=null),j.return=null}catch(ke){kn(j,c,ke)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Ym(c,o),c=c.sibling}function Ym(o,c){var p=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(gi(c,o),Oi(o),b&4){try{Gc(3,o,o.return),ed(3,o)}catch(jt){kn(o,o.return,jt)}try{Gc(5,o,o.return)}catch(jt){kn(o,o.return,jt)}}break;case 1:gi(c,o),Oi(o),b&512&&p!==null&&Kl(p,p.return);break;case 5:if(gi(c,o),Oi(o),b&512&&p!==null&&Kl(p,p.return),o.flags&32){var j=o.stateNode;try{Pa(j,"")}catch(jt){kn(o,o.return,jt)}}if(b&4&&(j=o.stateNode,j!=null)){var k=o.memoizedProps,q=p!==null?p.memoizedProps:k,ae=o.type,he=o.updateQueue;if(o.updateQueue=null,he!==null)try{ae==="input"&&k.type==="radio"&&k.name!=null&&tr(j,k),ns(ae,q);var ke=ns(ae,k);for(q=0;q<he.length;q+=2){var He=he[q],Ze=he[q+1];He==="style"?Ls(j,Ze):He==="dangerouslySetInnerHTML"?Wn(j,Ze):He==="children"?Pa(j,Ze):L(j,He,Ze,ke)}switch(ae){case"input":Nt(j,k);break;case"textarea":Nr(j,k);break;case"select":var We=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!k.multiple;var at=k.value;at!=null?Tt(j,!!k.multiple,at,!1):We!==!!k.multiple&&(k.defaultValue!=null?Tt(j,!!k.multiple,k.defaultValue,!0):Tt(j,!!k.multiple,k.multiple?[]:"",!1))}j[Qn]=k}catch(jt){kn(o,o.return,jt)}}break;case 6:if(gi(c,o),Oi(o),b&4){if(o.stateNode===null)throw Error(r(162));j=o.stateNode,k=o.memoizedProps;try{j.nodeValue=k}catch(jt){kn(o,o.return,jt)}}break;case 3:if(gi(c,o),Oi(o),b&4&&p!==null&&p.memoizedState.isDehydrated)try{la(c.containerInfo)}catch(jt){kn(o,o.return,jt)}break;case 4:gi(c,o),Oi(o);break;case 13:gi(c,o),Oi(o),j=o.child,j.flags&8192&&(k=j.memoizedState!==null,j.stateNode.isHidden=k,!k||j.alternate!==null&&j.alternate.memoizedState!==null||(Zm=sr())),b&4&&s0(o);break;case 22:if(He=p!==null&&p.memoizedState!==null,o.mode&1?(Qa=(ke=Qa)||He,gi(c,o),Qa=ke):gi(c,o),Oi(o),b&8192){if(ke=o.memoizedState!==null,(o.stateNode.isHidden=ke)&&!He&&(o.mode&1)!==0)for(yt=o,He=o.child;He!==null;){for(Ze=yt=He;yt!==null;){switch(We=yt,at=We.child,We.tag){case 0:case 11:case 14:case 15:Gc(4,We,We.return);break;case 1:Kl(We,We.return);var wt=We.stateNode;if(typeof wt.componentWillUnmount=="function"){b=We,p=We.return;try{c=b,wt.props=c.memoizedProps,wt.state=c.memoizedState,wt.componentWillUnmount()}catch(jt){kn(b,p,jt)}}break;case 5:Kl(We,We.return);break;case 22:if(We.memoizedState!==null){Yg(Ze);continue}}at!==null?(at.return=We,yt=at):Yg(Ze)}He=He.sibling}e:for(He=null,Ze=o;;){if(Ze.tag===5){if(He===null){He=Ze;try{j=Ze.stateNode,ke?(k=j.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(ae=Ze.stateNode,he=Ze.memoizedProps.style,q=he!=null&&he.hasOwnProperty("display")?he.display:null,ae.style.display=Xo("display",q))}catch(jt){kn(o,o.return,jt)}}}else if(Ze.tag===6){if(He===null)try{Ze.stateNode.nodeValue=ke?"":Ze.memoizedProps}catch(jt){kn(o,o.return,jt)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===o)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===o)break e;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===o)break e;He===Ze&&(He=null),Ze=Ze.return}He===Ze&&(He=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}break;case 19:gi(c,o),Oi(o),b&4&&s0(o);break;case 21:break;default:gi(c,o),Oi(o)}}function Oi(o){var c=o.flags;if(c&2){try{e:{for(var p=o.return;p!==null;){if(Zi(p)){var b=p;break e}p=p.return}throw Error(r(160))}switch(b.tag){case 5:var j=b.stateNode;b.flags&32&&(Pa(j,""),b.flags&=-33);var k=yp(o);Kc(o,k,j);break;case 3:case 4:var q=b.stateNode.containerInfo,ae=yp(o);ff(o,ae,q);break;default:throw Error(r(161))}}catch(he){kn(o,o.return,he)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function uw(o,c,p){yt=o,Kg(o)}function Kg(o,c,p){for(var b=(o.mode&1)!==0;yt!==null;){var j=yt,k=j.child;if(j.tag===22&&b){var q=j.memoizedState!==null||uf;if(!q){var ae=j.alternate,he=ae!==null&&ae.memoizedState!==null||Qa;ae=uf;var ke=Qa;if(uf=q,(Qa=he)&&!ke)for(yt=j;yt!==null;)q=yt,he=q.child,q.tag===22&&q.memoizedState!==null?Qm(j):he!==null?(he.return=q,yt=he):Qm(j);for(;k!==null;)yt=k,Kg(k),k=k.sibling;yt=j,uf=ae,Qa=ke}Xm(o)}else(j.subtreeFlags&8772)!==0&&k!==null?(k.return=j,yt=k):Xm(o)}}function Xm(o){for(;yt!==null;){var c=yt;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Qa||ed(5,c);break;case 1:var b=c.stateNode;if(c.flags&4&&!Qa)if(p===null)b.componentDidMount();else{var j=c.elementType===c.type?p.memoizedProps:Qi(c.type,p.memoizedProps);b.componentDidUpdate(j,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var k=c.updateQueue;k!==null&&Gv(c,k,b);break;case 3:var q=c.updateQueue;if(q!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}Gv(c,q,p)}break;case 5:var ae=c.stateNode;if(p===null&&c.flags&4){p=ae;var he=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&p.focus();break;case"img":he.src&&(p.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ke=c.alternate;if(ke!==null){var He=ke.memoizedState;if(He!==null){var Ze=He.dehydrated;Ze!==null&&la(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Qa||c.flags&512&&Km(c)}catch(We){kn(c,c.return,We)}}if(c===o){yt=null;break}if(p=c.sibling,p!==null){p.return=c.return,yt=p;break}yt=c.return}}function Yg(o){for(;yt!==null;){var c=yt;if(c===o){yt=null;break}var p=c.sibling;if(p!==null){p.return=c.return,yt=p;break}yt=c.return}}function Qm(o){for(;yt!==null;){var c=yt;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{ed(4,c)}catch(he){kn(c,p,he)}break;case 1:var b=c.stateNode;if(typeof b.componentDidMount=="function"){var j=c.return;try{b.componentDidMount()}catch(he){kn(c,j,he)}}var k=c.return;try{Km(c)}catch(he){kn(c,k,he)}break;case 5:var q=c.return;try{Km(c)}catch(he){kn(c,q,he)}}}catch(he){kn(c,c.return,he)}if(c===o){yt=null;break}var ae=c.sibling;if(ae!==null){ae.return=c.return,yt=ae;break}yt=c.return}}var i0=Math.ceil,fl=$.ReactCurrentDispatcher,Xl=$.ReactCurrentOwner,Js=$.ReactCurrentBatchConfig,Sr=0,Za=null,wa=null,Ua=0,yi=0,pl=$a(0),Ir=0,pf=null,Yc=0,yr=0,mf=0,Xc=null,da=null,Zm=0,td=1/0,Ql=null,vi=!1,Jm=null,Do=null,hf=!1,eo=null,bp=0,rd=0,nd=null,eh=-1,Qc=0;function Ja(){return(Sr&6)!==0?sr():eh!==-1?eh:eh=sr()}function ml(o){return(o.mode&1)===0?1:(Sr&2)!==0&&Ua!==0?Ua&-Ua:wm.transition!==null?(Qc===0&&(Qc=Nc()),Qc):(o=ce,o!==0||(o=window.event,o=o===void 0?16:el(o.type)),o)}function es(o,c,p,b){if(50<rd)throw rd=0,nd=null,Error(r(185));Ps(o,p,b),((Sr&2)===0||o!==Za)&&(o===Za&&((Sr&2)===0&&(yr|=p),Ir===4&&Zl(o,Ua)),za(o,b),p===1&&Sr===0&&(c.mode&1)===0&&(td=sr()+500,Tr&&vn()))}function za(o,c){var p=o.callbackNode;Sc(o,c);var b=Us(o,o===Za?Ua:0);if(b===0)p!==null&&uo(p),o.callbackNode=null,o.callbackPriority=0;else if(c=b&-b,o.callbackPriority!==c){if(p!=null&&uo(p),c===1)o.tag===0?us(gf.bind(null,o)):An(gf.bind(null,o)),Pr(function(){(Sr&6)===0&&vn()}),p=null;else{switch(tt(b)){case 1:p=Tn;break;case 4:p=_s;break;case 16:p=Oa;break;case 536870912:p=Zo;break;default:p=Oa}p=ah(p,th.bind(null,o))}o.callbackPriority=c,o.callbackNode=p}}function th(o,c){if(eh=-1,Qc=0,(Sr&6)!==0)throw Error(r(327));var p=o.callbackNode;if(ps()&&o.callbackNode!==p)return null;var b=Us(o,o===Za?Ua:0);if(b===0)return null;if((b&30)!==0||(b&o.expiredLanes)!==0||c)c=Sp(o,b);else{c=b;var j=Sr;Sr|=2;var k=wp();(Za!==o||Ua!==c)&&(Ql=null,td=sr()+500,to(o,c));do try{rc();break}catch(ae){Xg(o,ae)}while(!0);jm(),fl.current=k,Sr=j,wa!==null?c=0:(Za=null,Ua=0,c=Ir)}if(c!==0){if(c===2&&(j=Jo(o),j!==0&&(b=j,c=Zc(o,j))),c===1)throw p=pf,to(o,0),Zl(o,b),za(o,sr()),p;if(c===6)Zl(o,b);else{if(j=o.current.alternate,(b&30)===0&&!o0(j)&&(c=Sp(o,b),c===2&&(k=Jo(o),k!==0&&(b=k,c=Zc(o,k))),c===1))throw p=pf,to(o,0),Zl(o,b),za(o,sr()),p;switch(o.finishedWork=j,o.finishedLanes=b,c){case 0:case 1:throw Error(r(345));case 2:hl(o,da,Ql);break;case 3:if(Zl(o,b),(b&130023424)===b&&(c=Zm+500-sr(),10<c)){if(Us(o,0)!==0)break;if(j=o.suspendedLanes,(j&b)!==b){Ja(),o.pingedLanes|=o.suspendedLanes&j;break}o.timeoutHandle=Ot(hl.bind(null,o,da,Ql),c);break}hl(o,da,Ql);break;case 4:if(Zl(o,b),(b&4194240)===b)break;for(c=o.eventTimes,j=-1;0<b;){var q=31-Fn(b);k=1<<q,q=c[q],q>j&&(j=q),b&=~k}if(b=j,b=sr()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*i0(b/1960))-b,10<b){o.timeoutHandle=Ot(hl.bind(null,o,da,Ql),b);break}hl(o,da,Ql);break;case 5:hl(o,da,Ql);break;default:throw Error(r(329))}}}return za(o,sr()),o.callbackNode===p?th.bind(null,o):null}function Zc(o,c){var p=Xc;return o.current.memoizedState.isDehydrated&&(to(o,c).flags|=256),o=Sp(o,c),o!==2&&(c=da,da=p,c!==null&&xp(c)),o}function xp(o){da===null?da=o:da.push.apply(da,o)}function o0(o){for(var c=o;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var j=p[b],k=j.getSnapshot;j=j.value;try{if(!Yn(k(),j))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Zl(o,c){for(c&=~mf,c&=~yr,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var p=31-Fn(c),b=1<<p;o[p]=-1,c&=~b}}function gf(o){if((Sr&6)!==0)throw Error(r(327));ps();var c=Us(o,0);if((c&1)===0)return za(o,sr()),null;var p=Sp(o,c);if(o.tag!==0&&p===2){var b=Jo(o);b!==0&&(c=b,p=Zc(o,b))}if(p===1)throw p=pf,to(o,0),Zl(o,c),za(o,sr()),p;if(p===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,hl(o,da,Ql),za(o,sr()),null}function rh(o,c){var p=Sr;Sr|=1;try{return o(c)}finally{Sr=p,Sr===0&&(td=sr()+500,Tr&&vn())}}function Jl(o){eo!==null&&eo.tag===0&&(Sr&6)===0&&ps();var c=Sr;Sr|=1;var p=Js.transition,b=ce;try{if(Js.transition=null,ce=1,o)return o()}finally{ce=b,Js.transition=p,Sr=c,(Sr&6)===0&&vn()}}function ec(){yi=pl.current,dr(pl)}function to(o,c){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,It(p)),wa!==null)for(p=wa.return;p!==null;){var b=p;switch(jg(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Lt();break;case 3:Wl(),dr(Jr),dr(yn),Zd();break;case 5:Qd(b);break;case 4:Wl();break;case 13:dr(xn);break;case 19:dr(xn);break;case 10:_m(b.type._context);break;case 22:case 23:ec()}p=p.return}if(Za=o,wa=o=gl(o.current,null),Ua=yi=c,Ir=0,pf=null,mf=yr=Yc=0,da=Xc=null,ql!==null){for(c=0;c<ql.length;c++)if(p=ql[c],b=p.interleaved,b!==null){p.interleaved=null;var j=b.next,k=p.pending;if(k!==null){var q=k.next;k.next=j,b.next=q}p.pending=b}ql=null}return o}function Xg(o,c){do{var p=wa;try{if(jm(),ap.current=hi,Jd){for(var b=tn.memoizedState;b!==null;){var j=b.queue;j!==null&&(j.pending=null),b=b.next}Jd=!1}if(Bc=0,ba=qa=tn=null,dl=!1,sp=0,Xl.current=null,p===null||p.return===null){Ir=1,pf=c,wa=null;break}e:{var k=o,q=p.return,ae=p,he=c;if(c=Ua,ae.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var ke=he,He=ae,Ze=He.tag;if((He.mode&1)===0&&(Ze===0||Ze===11||Ze===15)){var We=He.alternate;We?(He.updateQueue=We.updateQueue,He.memoizedState=We.memoizedState,He.lanes=We.lanes):(He.updateQueue=null,He.memoizedState=null)}var at=$m(q);if(at!==null){at.flags&=-257,zg(at,q,ae,k,c),at.mode&1&&Lm(k,ke,c),c=at,he=ke;var wt=c.updateQueue;if(wt===null){var jt=new Set;jt.add(he),c.updateQueue=jt}else wt.add(he);break e}else{if((c&1)===0){Lm(k,ke,c),tc();break e}he=Error(r(426))}}else if(ar&&ae.mode&1){var fa=$m(q);if(fa!==null){(fa.flags&65536)===0&&(fa.flags|=256),zg(fa,q,ae,k,c),Yd(Vc(he,ae));break e}}k=he=Vc(he,ae),Ir!==4&&(Ir=2),Xc===null?Xc=[k]:Xc.push(k),k=q;do{switch(k.tag){case 3:k.flags|=65536,c&=-c,k.lanes|=c;var Ne=up(k,he,c);Cm(k,Ne);break e;case 1:ae=he;var ye=k.type,Pe=k.stateNode;if((k.flags&128)===0&&(typeof ye.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(Do===null||!Do.has(Pe)))){k.flags|=65536,c&=-c,k.lanes|=c;var rt=Dm(k,ae,c);Cm(k,rt);break e}}k=k.return}while(k!==null)}Zg(p)}catch(kt){c=kt,wa===p&&p!==null&&(wa=p=p.return);continue}break}while(!0)}function wp(){var o=fl.current;return fl.current=hi,o===null?hi:o}function tc(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Za===null||(Yc&268435455)===0&&(yr&268435455)===0||Zl(Za,Ua)}function Sp(o,c){var p=Sr;Sr|=2;var b=wp();(Za!==o||Ua!==c)&&(Ql=null,to(o,c));do try{Np();break}catch(j){Xg(o,j)}while(!0);if(jm(),Sr=p,fl.current=b,wa!==null)throw Error(r(261));return Za=null,Ua=0,Ir}function Np(){for(;wa!==null;)Qg(wa)}function rc(){for(;wa!==null&&!Ea();)Qg(wa)}function Qg(o){var c=ry(o.alternate,o,yi);o.memoizedProps=o.pendingProps,c===null?Zg(o):wa=c,Xl.current=null}function Zg(o){var c=o;do{var p=c.alternate;if(o=c.return,(c.flags&32768)===0){if(p=Ju(p,c,yi),p!==null){wa=p;return}}else{if(p=Gg(p,c),p!==null){p.flags&=32767,wa=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ir=6,wa=null;return}}if(c=c.sibling,c!==null){wa=c;return}wa=c=o}while(c!==null);Ir===0&&(Ir=5)}function hl(o,c,p){var b=ce,j=Js.transition;try{Js.transition=null,ce=1,dw(o,c,p,b)}finally{Js.transition=j,ce=b}return null}function dw(o,c,p,b){do ps();while(eo!==null);if((Sr&6)!==0)throw Error(r(327));p=o.finishedWork;var j=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var k=p.lanes|p.childLanes;if(_i(o,k),o===Za&&(wa=Za=null,Ua=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||hf||(hf=!0,ah(Oa,function(){return ps(),null})),k=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||k){k=Js.transition,Js.transition=null;var q=ce;ce=1;var ae=Sr;Sr|=4,Xl.current=null,Gm(o,p),Ym(p,o),Hi(we),li=!!Ee,we=Ee=null,o.current=p,uw(p),ss(),Sr=ae,ce=q,Js.transition=k}else o.current=p;if(hf&&(hf=!1,eo=o,bp=j),k=o.pendingLanes,k===0&&(Do=null),Ui(p.stateNode),za(o,sr()),c!==null)for(b=o.onRecoverableError,p=0;p<c.length;p++)j=c[p],b(j.value,{componentStack:j.stack,digest:j.digest});if(vi)throw vi=!1,o=Jm,Jm=null,o;return(bp&1)!==0&&o.tag!==0&&ps(),k=o.pendingLanes,(k&1)!==0?o===nd?rd++:(rd=0,nd=o):rd=0,vn(),null}function ps(){if(eo!==null){var o=tt(bp),c=Js.transition,p=ce;try{if(Js.transition=null,ce=16>o?16:o,eo===null)var b=!1;else{if(o=eo,eo=null,bp=0,(Sr&6)!==0)throw Error(r(331));var j=Sr;for(Sr|=4,yt=o.current;yt!==null;){var k=yt,q=k.child;if((yt.flags&16)!==0){var ae=k.deletions;if(ae!==null){for(var he=0;he<ae.length;he++){var ke=ae[he];for(yt=ke;yt!==null;){var He=yt;switch(He.tag){case 0:case 11:case 15:Gc(8,He,k)}var Ze=He.child;if(Ze!==null)Ze.return=He,yt=Ze;else for(;yt!==null;){He=yt;var We=He.sibling,at=He.return;if(gp(He),He===ke){yt=null;break}if(We!==null){We.return=at,yt=We;break}yt=at}}}var wt=k.alternate;if(wt!==null){var jt=wt.child;if(jt!==null){wt.child=null;do{var fa=jt.sibling;jt.sibling=null,jt=fa}while(jt!==null)}}yt=k}}if((k.subtreeFlags&2064)!==0&&q!==null)q.return=k,yt=q;else e:for(;yt!==null;){if(k=yt,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Gc(9,k,k.return)}var Ne=k.sibling;if(Ne!==null){Ne.return=k.return,yt=Ne;break e}yt=k.return}}var ye=o.current;for(yt=ye;yt!==null;){q=yt;var Pe=q.child;if((q.subtreeFlags&2064)!==0&&Pe!==null)Pe.return=q,yt=Pe;else e:for(q=ye;yt!==null;){if(ae=yt,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:ed(9,ae)}}catch(kt){kn(ae,ae.return,kt)}if(ae===q){yt=null;break e}var rt=ae.sibling;if(rt!==null){rt.return=ae.return,yt=rt;break e}yt=ae.return}}if(Sr=j,vn(),ia&&typeof ia.onPostCommitFiberRoot=="function")try{ia.onPostCommitFiberRoot(Ni,o)}catch{}b=!0}return b}finally{ce=p,Js.transition=c}}return!1}function jp(o,c,p){c=Vc(p,c),c=up(o,c,1),o=zl(o,c,1),c=Ja(),o!==null&&(Ps(o,1,c),za(o,c))}function kn(o,c,p){if(o.tag===3)jp(o,o,p);else for(;c!==null;){if(c.tag===3){jp(c,o,p);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Do===null||!Do.has(b))){o=Vc(p,o),o=Dm(c,o,1),c=zl(c,o,1),o=Ja(),c!==null&&(Ps(c,1,o),za(c,o));break}}c=c.return}}function Jg(o,c,p){var b=o.pingCache;b!==null&&b.delete(c),c=Ja(),o.pingedLanes|=o.suspendedLanes&p,Za===o&&(Ua&p)===p&&(Ir===4||Ir===3&&(Ua&130023424)===Ua&&500>sr()-Zm?to(o,0):mf|=p),za(o,c)}function nh(o,c){c===0&&((o.mode&1)===0?c=1:(c=ji,ji<<=1,(ji&130023424)===0&&(ji=4194304)));var p=Ja();o=mi(o,c),o!==null&&(Ps(o,c,p),za(o,p))}function ey(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),nh(o,p)}function ty(o,c){var p=0;switch(o.tag){case 13:var b=o.stateNode,j=o.memoizedState;j!==null&&(p=j.retryLane);break;case 19:b=o.stateNode;break;default:throw Error(r(314))}b!==null&&b.delete(c),nh(o,p)}var ry;ry=function(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps||Jr.current)fs=!0;else{if((o.lanes&p)===0&&(c.flags&128)===0)return fs=!1,r0(o,c,p);fs=(o.flags&131072)!==0}else fs=!1,ar&&(c.flags&1048576)!==0&&ul(c,Ya,c.index);switch(c.lanes=0,c.tag){case 2:var b=c.type;fp(o,c),o=c.pendingProps;var j=Gs(c,yn.current);Xd(c,p),j=Ro(null,c,b,o,j,p);var k=Vu();return c.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Rr(b)?(k=!0,cn(c)):k=!1,c.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,Fa(c),j.updater=tf,c.stateNode=j,j._reactInternals=c,Ug(c,b,o,p),c=Wm(null,c,b,!0,k,p)):(c.tag=0,ar&&k&&Fl(c),Zs(null,c,j,p),c=c.child),c;case 16:b=c.elementType;e:{switch(fp(o,c),o=c.pendingProps,j=b._init,b=j(b._payload),c.type=b,j=c.tag=fw(b),o=Qi(b,o),j){case 0:c=zm(null,c,b,o,p);break e;case 1:c=Jv(null,c,b,o,p);break e;case 11:c=Bm(null,c,b,o,p);break e;case 14:c=Wg(null,c,b,Qi(b.type,o),p);break e}throw Error(r(306,b,""))}return c;case 0:return b=c.type,j=c.pendingProps,j=c.elementType===b?j:Qi(b,j),zm(o,c,b,j,p);case 1:return b=c.type,j=c.pendingProps,j=c.elementType===b?j:Qi(b,j),Jv(o,c,b,j,p);case 3:e:{if(e0(c),o===null)throw Error(r(387));b=c.pendingProps,k=c.memoizedState,j=k.element,Eg(o,c),Og(c,b,null,p);var q=c.memoizedState;if(b=q.element,k.isDehydrated)if(k={element:b,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){j=Vc(Error(r(423)),c),c=Zu(o,c,b,p,j);break e}else if(b!==j){j=Vc(Error(r(424)),c),c=Zu(o,c,b,p,j);break e}else for(pi=In(c.stateNode.containerInfo.firstChild),Ai=c,ar=!0,Gi=null,p=Sm(c,null,b,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if($c(),b===j){c=Vl(o,c,p);break e}Zs(o,c,b,p)}c=c.child}return c;case 5:return Pm(c),o===null&&Cg(c),b=c.type,j=c.pendingProps,k=o!==null?o.memoizedProps:null,q=j.children,Qe(b,j)?q=null:k!==null&&Qe(b,k)&&(c.flags|=32),Um(o,c),Zs(o,c,q,p),c.child;case 6:return o===null&&Cg(c),null;case 13:return dp(o,c,p);case 4:return Oo(c,c.stateNode.containerInfo),b=c.pendingProps,o===null?c.child=zu(c,null,b,p):Zs(o,c,b,p),c.child;case 11:return b=c.type,j=c.pendingProps,j=c.elementType===b?j:Qi(b,j),Bm(o,c,b,j,p);case 7:return Zs(o,c,c.pendingProps,p),c.child;case 8:return Zs(o,c,c.pendingProps.children,p),c.child;case 12:return Zs(o,c,c.pendingProps.children,p),c.child;case 10:e:{if(b=c.type._context,j=c.pendingProps,k=c.memoizedProps,q=j.value,wr(Ki,b._currentValue),b._currentValue=q,k!==null)if(Yn(k.value,q)){if(k.children===j.children&&!Jr.current){c=Vl(o,c,p);break e}}else for(k=c.child,k!==null&&(k.return=c);k!==null;){var ae=k.dependencies;if(ae!==null){q=k.child;for(var he=ae.firstContext;he!==null;){if(he.context===b){if(k.tag===1){he=Yi(-1,p&-p),he.tag=2;var ke=k.updateQueue;if(ke!==null){ke=ke.shared;var He=ke.pending;He===null?he.next=he:(he.next=He.next,He.next=he),ke.pending=he}}k.lanes|=p,he=k.alternate,he!==null&&(he.lanes|=p),Vv(k.return,p,c),ae.lanes|=p;break}he=he.next}}else if(k.tag===10)q=k.type===c.type?null:k.child;else if(k.tag===18){if(q=k.return,q===null)throw Error(r(341));q.lanes|=p,ae=q.alternate,ae!==null&&(ae.lanes|=p),Vv(q,p,c),q=k.sibling}else q=k.child;if(q!==null)q.return=k;else for(q=k;q!==null;){if(q===c){q=null;break}if(k=q.sibling,k!==null){k.return=q.return,q=k;break}q=q.return}k=q}Zs(o,c,j.children,p),c=c.child}return c;case 9:return j=c.type,b=c.pendingProps.children,Xd(c,p),j=Xs(j),b=b(j),c.flags|=1,Zs(o,c,b,p),c.child;case 14:return b=c.type,j=Qi(b,c.pendingProps),j=Qi(b.type,j),Wg(o,c,b,j,p);case 15:return qm(o,c,c.type,c.pendingProps,p);case 17:return b=c.type,j=c.pendingProps,j=c.elementType===b?j:Qi(b,j),fp(o,c),c.tag=1,Rr(b)?(o=!0,cn(c)):o=!1,Xd(c,p),Mm(c,b,j),Ug(c,b,j,p),Wm(null,c,b,!0,o,p);case 19:return Vm(o,c,p);case 22:return af(o,c,p)}throw Error(r(156,c.tag))};function ah(o,c){return js(o,c)}function ny(o,c,p,b){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(o,c,p,b){return new ny(o,c,p,b)}function yf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function fw(o){if(typeof o=="function")return yf(o)?1:0;if(o!=null){if(o=o.$$typeof,o===le)return 11;if(o===ie)return 14}return 2}function gl(o,c){var p=o.alternate;return p===null?(p=Ri(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function sh(o,c,p,b,j,k){var q=2;if(b=o,typeof o=="function")yf(o)&&(q=1);else if(typeof o=="string")q=5;else e:switch(o){case F:return yl(p.children,j,k,c);case V:q=8,j|=8;break;case Y:return o=Ri(12,p,c,j|2),o.elementType=Y,o.lanes=k,o;case fe:return o=Ri(13,p,c,j),o.elementType=fe,o.lanes=k,o;case me:return o=Ri(19,p,c,j),o.elementType=me,o.lanes=k,o;case ne:return nc(p,j,k,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case ue:q=10;break e;case te:q=9;break e;case le:q=11;break e;case ie:q=14;break e;case J:q=16,b=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return c=Ri(q,p,c,j),c.elementType=o,c.type=b,c.lanes=k,c}function yl(o,c,p,b){return o=Ri(7,o,b,c),o.lanes=p,o}function nc(o,c,p,b){return o=Ri(22,o,b,c),o.elementType=ne,o.lanes=p,o.stateNode={isHidden:!1},o}function ro(o,c,p){return o=Ri(6,o,null,c),o.lanes=p,o}function ih(o,c,p){return c=Ri(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function l0(o,c,p,b,j){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zs(0),this.expirationTimes=zs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zs(0),this.identifierPrefix=b,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function ay(o,c,p,b,j,k,q,ae,he){return o=new l0(o,c,p,ae,he),c===1?(c=1,k===!0&&(c|=8)):c=0,k=Ri(3,null,null,c),o.current=k,k.stateNode=o,k.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(k),o}function _p(o,c,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:b==null?null:""+b,children:o,containerInfo:c,implementation:p}}function oh(o){if(!o)return Or;o=o._reactInternals;e:{if($n(o)!==o||o.tag!==1)throw Error(r(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Rr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(o.tag===1){var p=o.type;if(Rr(p))return or(o,p,c)}return c}function lh(o,c,p,b,j,k,q,ae,he){return o=ay(p,b,!0,o,j,k,q,ae,he),o.context=oh(null),p=o.current,b=Ja(),j=ml(p),k=Yi(b,j),k.callback=c??null,zl(p,k,j),o.current.lanes=j,Ps(o,j,b),za(o,b),o}function ac(o,c,p,b){var j=c.current,k=Ja(),q=ml(j);return p=oh(p),c.context===null?c.context=p:c.pendingContext=p,c=Yi(k,q),c.payload={element:o},b=b===void 0?null:b,b!==null&&(c.callback=b),o=zl(j,c,q),o!==null&&(es(o,j,q,k),tp(o,j,q)),q}function sc(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function ic(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function ch(o,c){ic(o,c),(o=o.alternate)&&ic(o,c)}function pw(){return null}var ad=typeof reportError=="function"?reportError:function(o){console.error(o)};function vf(o){this._internalRoot=o}oc.prototype.render=vf.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));ac(o,c,null,null)},oc.prototype.unmount=vf.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Jl(function(){ac(null,o,null,null)}),c[Qr]=null}};function oc(o){this._internalRoot=o}oc.prototype.unstable_scheduleHydration=function(o){if(o){var c=Xt();o={blockedOn:null,target:o,priority:c};for(var p=0;p<Ra.length&&c!==0&&c<Ra[p].priority;p++);Ra.splice(p,0,o),p===0&&zf(o)}};function Jc(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Cp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function c0(){}function uh(o,c,p,b,j){if(j){if(typeof b=="function"){var k=b;b=function(){var ke=sc(q);k.call(ke)}}var q=lh(c,b,o,0,null,!1,!1,"",c0);return o._reactRootContainer=q,o[Qr]=q.current,Kd(o.nodeType===8?o.parentNode:o),Jl(),q}for(;j=o.lastChild;)o.removeChild(j);if(typeof b=="function"){var ae=b;b=function(){var ke=sc(he);ae.call(ke)}}var he=ay(o,0,!1,null,null,!1,!1,"",c0);return o._reactRootContainer=he,o[Qr]=he.current,Kd(o.nodeType===8?o.parentNode:o),Jl(function(){ac(c,he,p,b)}),he}function dh(o,c,p,b,j){var k=p._reactRootContainer;if(k){var q=k;if(typeof j=="function"){var ae=j;j=function(){var he=sc(q);ae.call(he)}}ac(c,q,o,j)}else q=uh(p,c,o,j,b);return sc(q)}Be=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var p=Va(c.pendingLanes);p!==0&&(Rl(c,p|1),za(c,sr()),(Sr&6)===0&&(td=sr()+500,vn()))}break;case 13:Jl(function(){var b=mi(o,1);if(b!==null){var j=Ja();es(b,o,1,j)}}),ch(o,1)}},xt=function(o){if(o.tag===13){var c=mi(o,134217728);if(c!==null){var p=Ja();es(c,o,134217728,p)}ch(o,134217728)}},Bt=function(o){if(o.tag===13){var c=ml(o),p=mi(o,c);if(p!==null){var b=Ja();es(p,o,c,b)}ch(o,c)}},Xt=function(){return ce},gr=function(o,c){var p=ce;try{return ce=o,c()}finally{ce=p}},Bi=function(o,c,p){switch(c){case"input":if(Nt(o,p),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var b=p[c];if(b!==o&&b.form===o.form){var j=Bn(b);if(!j)throw Error(r(90));Me(b),Nt(b,j)}}}break;case"textarea":Nr(o,p);break;case"select":c=p.value,c!=null&&Tt(o,!!p.multiple,c,!1)}},hr=rh,Lr=Jl;var mw={usingClientEntryPoint:!1,Events:[ln,Er,Bn,Et,_r,rh]},bf={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eu={bundleType:bf.bundleType,version:bf.version,rendererPackageName:bf.rendererPackageName,rendererConfig:bf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=as(o),o===null?null:o.stateNode},findFiberByHostInstance:bf.findFiberByHostInstance||pw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{Ni=xf.inject(eu),ia=xf}catch{}}return no.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mw,no.createPortal=function(o,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jc(c))throw Error(r(200));return _p(o,c,null,p)},no.createRoot=function(o,c){if(!Jc(o))throw Error(r(299));var p=!1,b="",j=ad;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(j=c.onRecoverableError)),c=ay(o,1,!1,null,null,p,!1,b,j),o[Qr]=c.current,Kd(o.nodeType===8?o.parentNode:o),new vf(c)},no.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=as(c),o=o===null?null:o.stateNode,o},no.flushSync=function(o){return Jl(o)},no.hydrate=function(o,c,p){if(!Cp(c))throw Error(r(200));return dh(null,o,c,!0,p)},no.hydrateRoot=function(o,c,p){if(!Jc(o))throw Error(r(405));var b=p!=null&&p.hydratedSources||null,j=!1,k="",q=ad;if(p!=null&&(p.unstable_strictMode===!0&&(j=!0),p.identifierPrefix!==void 0&&(k=p.identifierPrefix),p.onRecoverableError!==void 0&&(q=p.onRecoverableError)),c=lh(c,null,o,1,p??null,j,!1,k,q),o[Qr]=c.current,Kd(o),b)for(o=0;o<b.length;o++)p=b[o],j=p._getVersion,j=j(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,j]:c.mutableSourceEagerHydrationData.push(p,j);return new oc(c)},no.render=function(o,c,p){if(!Cp(c))throw Error(r(200));return dh(null,o,c,!1,p)},no.unmountComponentAtNode=function(o){if(!Cp(o))throw Error(r(40));return o._reactRootContainer?(Jl(function(){dh(null,null,o,!1,function(){o._reactRootContainer=null,o[Qr]=null})}),!0):!1},no.unstable_batchedUpdates=rh,no.unstable_renderSubtreeIntoContainer=function(o,c,p,b){if(!Cp(p))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return dh(o,c,p,!1,b)},no.version="18.3.1-next-f1338f8080-20240426",no}var u2;function RD(){if(u2)return Sw.exports;u2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sw.exports=pF(),Sw.exports}var d2;function mF(){if(d2)return p0;d2=1;var e=RD();return p0.createRoot=e.createRoot,p0.hydrateRoot=e.hydrateRoot,p0}var hF=mF(),y=YC();const se=jn(y),TD=oF({__proto__:null,default:se},[y]);var By=RD();const ID=jn(By);function gF(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const yF=e=>{switch(e){case"success":return xF;case"info":return SF;case"warning":return wF;case"error":return NF;default:return null}},vF=Array(12).fill(0),bF=({visible:e,className:t})=>se.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},se.createElement("div",{className:"sonner-spinner"},vF.map((r,n)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),xF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),NF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jF=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_F=()=>{const[e,t]=se.useState(document.hidden);return se.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let a_=1;class CF{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:a_++,l=this.toasts.find(d=>d.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:u,title:n}):d):this.addToast({title:n,...a,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,l;const u=a.then(async f=>{if(l=["resolve",f],se.isValidElement(f))i=!1,this.create({id:n,type:"default",message:f});else if(AF(f)&&!f.ok){i=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,v=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,P=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:v,...P})}else if(f instanceof Error){i=!1;const m=typeof r.error=="function"?await r.error(f):r.error,v=typeof r.description=="function"?await r.description(f):r.description,P=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:v,...P})}else if(r.success!==void 0){i=!1;const m=typeof r.success=="function"?await r.success(f):r.success,v=typeof r.description=="function"?await r.description(f):r.description,P=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:v,...P})}}).catch(async f=>{if(l=["reject",f],r.error!==void 0){i=!1;const g=typeof r.error=="function"?await r.error(f):r.error,m=typeof r.description=="function"?await r.description(f):r.description,w=typeof g=="object"&&!se.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:m,...w})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,g)=>u.then(()=>l[0]==="reject"?g(l[1]):f(l[1])).catch(g));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=r?.id||a_++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const so=new CF,PF=(e,t)=>{const r=t?.id||a_++;return so.addToast({title:e,...t,id:r}),r},AF=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",kF=PF,EF=()=>so.toasts,OF=()=>so.getActiveToasts(),Xe=Object.assign(kF,{success:so.success,info:so.info,warning:so.warning,error:so.error,custom:so.custom,message:so.message,promise:so.promise,dismiss:so.dismiss,loading:so.loading},{getHistory:EF,getToasts:OF});gF("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function m0(e){return e.label!==void 0}const RF=3,TF="24px",IF="16px",f2=4e3,MF=356,DF=14,LF=45,$F=200;function ru(...e){return e.filter(Boolean).join(" ")}function FF(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const BF=e=>{var t,r,n,a,i,l,u,d,f;const{invert:g,toast:m,unstyled:v,interacting:w,setHeights:P,visibleToasts:_,heights:N,index:E,toasts:D,expanded:L,removeToast:$,defaultRichColors:R,closeButton:M,style:F,cancelButtonStyle:V,actionButtonStyle:Y,className:ue="",descriptionClassName:te="",duration:le,position:fe,gap:me,expandByDefault:ie,classNames:J,icons:ne,closeButtonAriaLabel:G="Close toast"}=e,[ve,Se]=se.useState(null),[X,pe]=se.useState(null),[re,xe]=se.useState(!1),[Re,Le]=se.useState(!1),[Ke,Ve]=se.useState(!1),[Te,st]=se.useState(!1),[lt,Me]=se.useState(!1),[Rt,At]=se.useState(0),[Vt,tr]=se.useState(0),Nt=se.useRef(m.duration||le||f2),et=se.useRef(null),Ie=se.useRef(null),mt=E===0,Tt=E+1<=_,ht=m.type,gt=m.dismissible!==!1,Nr=m.className||"",Jt=m.descriptionClassName||"",Ca=se.useMemo(()=>N.findIndex(Et=>Et.toastId===m.id)||0,[N,m.id]),dn=se.useMemo(()=>{var Et;return(Et=m.closeButton)!=null?Et:M},[m.closeButton,M]),Wa=se.useMemo(()=>m.duration||le||f2,[m.duration,le]),Wn=se.useRef(0),Pa=se.useRef(0),kr=se.useRef(0),Aa=se.useRef(null),[Xo,Ls]=fe.split("-"),$s=se.useMemo(()=>N.reduce((Et,_r,hr)=>hr>=Ca?Et:Et+_r.height,0),[N,Ca]),Fs=_F(),ns=m.invert||g,sn=ht==="loading";Pa.current=se.useMemo(()=>Ca*me+$s,[Ca,$s]),se.useEffect(()=>{Nt.current=Wa},[Wa]),se.useEffect(()=>{xe(!0)},[]),se.useEffect(()=>{const Et=Ie.current;if(Et){const _r=Et.getBoundingClientRect().height;return tr(_r),P(hr=>[{toastId:m.id,height:_r,position:m.position},...hr]),()=>P(hr=>hr.filter(Lr=>Lr.toastId!==m.id))}},[P,m.id]),se.useLayoutEffect(()=>{if(!re)return;const Et=Ie.current,_r=Et.style.height;Et.style.height="auto";const hr=Et.getBoundingClientRect().height;Et.style.height=_r,tr(hr),P(Lr=>Lr.find(Cr=>Cr.toastId===m.id)?Lr.map(Cr=>Cr.toastId===m.id?{...Cr,height:hr}:Cr):[{toastId:m.id,height:hr,position:m.position},...Lr])},[re,m.title,m.description,P,m.id,m.jsx,m.action,m.cancel]);const ka=se.useCallback(()=>{Le(!0),At(Pa.current),P(Et=>Et.filter(_r=>_r.toastId!==m.id)),setTimeout(()=>{$(m)},$F)},[m,$,P,Pa]);se.useEffect(()=>{if(m.promise&&ht==="loading"||m.duration===1/0||m.type==="loading")return;let Et;return L||w||Fs?(()=>{if(kr.current<Wn.current){const Lr=new Date().getTime()-Wn.current;Nt.current=Nt.current-Lr}kr.current=new Date().getTime()})():(()=>{Nt.current!==1/0&&(Wn.current=new Date().getTime(),Et=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),ka()},Nt.current))})(),()=>clearTimeout(Et)},[L,w,m,ht,Fs,ka]),se.useEffect(()=>{m.delete&&(ka(),m.onDismiss==null||m.onDismiss.call(m,m))},[ka,m.delete]);function Bi(){var Et;if(ne?.loading){var _r;return se.createElement("div",{className:ru(J?.loader,m==null||(_r=m.classNames)==null?void 0:_r.loader,"sonner-loader"),"data-visible":ht==="loading"},ne.loading)}return se.createElement(bF,{className:ru(J?.loader,m==null||(Et=m.classNames)==null?void 0:Et.loader),visible:ht==="loading"})}const fn=m.icon||ne?.[ht]||yF(ht);var ma,br;return se.createElement("li",{tabIndex:0,ref:Ie,className:ru(ue,Nr,J?.toast,m==null||(t=m.classNames)==null?void 0:t.toast,J?.default,J?.[ht],m==null||(r=m.classNames)==null?void 0:r[ht]),"data-sonner-toast":"","data-rich-colors":(ma=m.richColors)!=null?ma:R,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":re,"data-promise":!!m.promise,"data-swiped":lt,"data-removed":Re,"data-visible":Tt,"data-y-position":Xo,"data-x-position":Ls,"data-index":E,"data-front":mt,"data-swiping":Ke,"data-dismissible":gt,"data-type":ht,"data-invert":ns,"data-swipe-out":Te,"data-swipe-direction":X,"data-expanded":!!(L||ie&&re),"data-testid":m.testId,style:{"--index":E,"--toasts-before":E,"--z-index":D.length-E,"--offset":`${Re?Rt:Pa.current}px`,"--initial-height":ie?"auto":`${Vt}px`,...F,...m.style},onDragEnd:()=>{Ve(!1),Se(null),Aa.current=null},onPointerDown:Et=>{Et.button!==2&&(sn||!gt||(et.current=new Date,At(Pa.current),Et.target.setPointerCapture(Et.pointerId),Et.target.tagName!=="BUTTON"&&(Ve(!0),Aa.current={x:Et.clientX,y:Et.clientY})))},onPointerUp:()=>{var Et,_r,hr;if(Te||!gt)return;Aa.current=null;const Lr=Number(((Et=Ie.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ha=Number(((_r=Ie.current)==null?void 0:_r.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Cr=new Date().getTime()-((hr=et.current)==null?void 0:hr.getTime()),ur=ve==="x"?Lr:Ha,pn=Math.abs(ur)/Cr;if(Math.abs(ur)>=LF||pn>.11){At(Pa.current),m.onDismiss==null||m.onDismiss.call(m,m),pe(ve==="x"?Lr>0?"right":"left":Ha>0?"down":"up"),ka(),st(!0);return}else{var Vr,mn;(Vr=Ie.current)==null||Vr.style.setProperty("--swipe-amount-x","0px"),(mn=Ie.current)==null||mn.style.setProperty("--swipe-amount-y","0px")}Me(!1),Ve(!1),Se(null)},onPointerMove:Et=>{var _r,hr,Lr;if(!Aa.current||!gt||((_r=window.getSelection())==null?void 0:_r.toString().length)>0)return;const Cr=Et.clientY-Aa.current.y,ur=Et.clientX-Aa.current.x;var pn;const Vr=(pn=e.swipeDirections)!=null?pn:FF(fe);!ve&&(Math.abs(ur)>1||Math.abs(Cr)>1)&&Se(Math.abs(ur)>Math.abs(Cr)?"x":"y");let mn={x:0,y:0};const Hn=$r=>1/(1.5+Math.abs($r)/20);if(ve==="y"){if(Vr.includes("top")||Vr.includes("bottom"))if(Vr.includes("top")&&Cr<0||Vr.includes("bottom")&&Cr>0)mn.y=Cr;else{const $r=Cr*Hn(Cr);mn.y=Math.abs($r)<Math.abs(Cr)?$r:Cr}}else if(ve==="x"&&(Vr.includes("left")||Vr.includes("right")))if(Vr.includes("left")&&ur<0||Vr.includes("right")&&ur>0)mn.x=ur;else{const $r=ur*Hn(ur);mn.x=Math.abs($r)<Math.abs(ur)?$r:ur}(Math.abs(mn.x)>0||Math.abs(mn.y)>0)&&Me(!0),(hr=Ie.current)==null||hr.style.setProperty("--swipe-amount-x",`${mn.x}px`),(Lr=Ie.current)==null||Lr.style.setProperty("--swipe-amount-y",`${mn.y}px`)}},dn&&!m.jsx&&ht!=="loading"?se.createElement("button",{"aria-label":G,"data-disabled":sn,"data-close-button":!0,onClick:sn||!gt?()=>{}:()=>{ka(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ru(J?.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(br=ne?.close)!=null?br:jF):null,(ht||m.icon||m.promise)&&m.icon!==null&&(ne?.[ht]!==null||m.icon)?se.createElement("div",{"data-icon":"",className:ru(J?.icon,m==null||(a=m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Bi():null,m.type!=="loading"?fn:null):null,se.createElement("div",{"data-content":"",className:ru(J?.content,m==null||(i=m.classNames)==null?void 0:i.content)},se.createElement("div",{"data-title":"",className:ru(J?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?se.createElement("div",{"data-description":"",className:ru(te,Jt,J?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),se.isValidElement(m.cancel)?m.cancel:m.cancel&&m0(m.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||V,onClick:Et=>{m0(m.cancel)&&gt&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Et),ka())},className:ru(J?.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,se.isValidElement(m.action)?m.action:m.action&&m0(m.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||Y,onClick:Et=>{m0(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Et),!Et.defaultPrevented&&ka())},className:ru(J?.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function p2(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function qF(e,t){const r={};return[e,t].forEach((n,a)=>{const i=a===1,l=i?"--mobile-offset":"--offset",u=i?IF:TF;function d(f){["top","right","bottom","left"].forEach(g=>{r[`${l}-${g}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${l}-${f}`]=u:r[`${l}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):d(u)}),r}const UF=se.forwardRef(function(t,r){const{id:n,invert:a,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:d,className:f,offset:g,mobileOffset:m,theme:v="light",richColors:w,duration:P,style:_,visibleToasts:N=RF,toastOptions:E,dir:D=p2(),gap:L=DF,icons:$,containerAriaLabel:R="Notifications"}=t,[M,F]=se.useState([]),V=se.useMemo(()=>n?M.filter(re=>re.toasterId===n):M.filter(re=>!re.toasterId),[M,n]),Y=se.useMemo(()=>Array.from(new Set([i].concat(V.filter(re=>re.position).map(re=>re.position)))),[V,i]),[ue,te]=se.useState([]),[le,fe]=se.useState(!1),[me,ie]=se.useState(!1),[J,ne]=se.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=se.useRef(null),ve=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Se=se.useRef(null),X=se.useRef(!1),pe=se.useCallback(re=>{F(xe=>{var Re;return(Re=xe.find(Le=>Le.id===re.id))!=null&&Re.delete||so.dismiss(re.id),xe.filter(({id:Le})=>Le!==re.id)})},[]);return se.useEffect(()=>so.subscribe(re=>{if(re.dismiss){requestAnimationFrame(()=>{F(xe=>xe.map(Re=>Re.id===re.id?{...Re,delete:!0}:Re))});return}setTimeout(()=>{ID.flushSync(()=>{F(xe=>{const Re=xe.findIndex(Le=>Le.id===re.id);return Re!==-1?[...xe.slice(0,Re),{...xe[Re],...re},...xe.slice(Re+1)]:[re,...xe]})})})}),[M]),se.useEffect(()=>{if(v!=="system"){ne(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:xe})=>{ne(xe?"dark":"light")})}catch{re.addListener(({matches:Re})=>{try{ne(Re?"dark":"light")}catch(Le){console.error(Le)}})}},[v]),se.useEffect(()=>{M.length<=1&&fe(!1)},[M]),se.useEffect(()=>{const re=xe=>{var Re;if(l.every(Ve=>xe[Ve]||xe.code===Ve)){var Ke;fe(!0),(Ke=G.current)==null||Ke.focus()}xe.code==="Escape"&&(document.activeElement===G.current||(Re=G.current)!=null&&Re.contains(document.activeElement))&&fe(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[l]),se.useEffect(()=>{if(G.current)return()=>{Se.current&&(Se.current.focus({preventScroll:!0}),Se.current=null,X.current=!1)}},[G.current]),se.createElement("section",{ref:r,"aria-label":`${R} ${ve}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Y.map((re,xe)=>{var Re;const[Le,Ke]=re.split("-");return V.length?se.createElement("ol",{key:re,dir:D==="auto"?p2():D,tabIndex:-1,ref:G,className:f,"data-sonner-toaster":!0,"data-sonner-theme":J,"data-y-position":Le,"data-x-position":Ke,style:{"--front-toast-height":`${((Re=ue[0])==null?void 0:Re.height)||0}px`,"--width":`${MF}px`,"--gap":`${L}px`,..._,...qF(g,m)},onBlur:Ve=>{X.current&&!Ve.currentTarget.contains(Ve.relatedTarget)&&(X.current=!1,Se.current&&(Se.current.focus({preventScroll:!0}),Se.current=null))},onFocus:Ve=>{Ve.target instanceof HTMLElement&&Ve.target.dataset.dismissible==="false"||X.current||(X.current=!0,Se.current=Ve.relatedTarget)},onMouseEnter:()=>fe(!0),onMouseMove:()=>fe(!0),onMouseLeave:()=>{me||fe(!1)},onDragEnd:()=>fe(!1),onPointerDown:Ve=>{Ve.target instanceof HTMLElement&&Ve.target.dataset.dismissible==="false"||ie(!0)},onPointerUp:()=>ie(!1)},V.filter(Ve=>!Ve.position&&xe===0||Ve.position===re).map((Ve,Te)=>{var st,lt;return se.createElement(BF,{key:Ve.id,icons:$,index:Te,toast:Ve,defaultRichColors:w,duration:(st=E?.duration)!=null?st:P,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:a,visibleToasts:N,closeButton:(lt=E?.closeButton)!=null?lt:d,interacting:me,position:re,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,closeButtonAriaLabel:E?.closeButtonAriaLabel,removeToast:pe,toasts:V.filter(Me=>Me.position==Ve.position),heights:ue.filter(Me=>Me.position==Ve.position),setHeights:te,expandByDefault:u,gap:L,expanded:le,swipeDirections:t.swipeDirections})})):null}))}),nb=e=>{const t=Number(e);return Number.isFinite(t)?Math.round((t+Number.EPSILON)*100)/100:0},zF=(e,t)=>{const r=t?.originalPrice??e.originalPrice;if(typeof r!="number")return null;const n=nb(r);return!Number.isFinite(n)||n<=0?null:n},_h=(e,t,r,n)=>{const a=n?.pricingMode??"wholesale",i=Number(n?.markupPercent??0),l=Number.isFinite(i)?Math.max(0,Math.min(500,i)):0,u=(()=>{if(a==="retail"){const f=zF(e,t);if(f!=null)return f}return nb(t?.price??e.price)})();let d=u;if(a!=="retail"){const f=e.bulkPricingTiers??[];if(Array.isArray(f)&&f.length>0){const g=[...f].sort((m,v)=>(Number(v.minQuantity)||0)-(Number(m.minQuantity)||0)).find(m=>r>=(Number(m.minQuantity)||0));if(g){const m=Number(g.discountPercentage)||0;d=u*(1-m/100)}}}return l>0&&(d*=1+l/100),nb(d)},_w="20260211155544".trim()||"",Vp=e=>{const t=String(e).trim();return!t||!_w?t:t.includes("?")?`${t}&v=${encodeURIComponent(_w)}`:`${t}?v=${encodeURIComponent(_w)}`},WF="modulepreload",HF=function(e){return"/"+e},m2={},Lo=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let l=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");a=l(r.map(f=>{if(f=HF(f),f in m2)return;m2[f]=!0;const g=f.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":WF,g||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((w,P)=>{v.addEventListener("load",w),v.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})};function h2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function MD(...e){return t=>{let r=!1;const n=e.map(a=>{const i=h2(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():h2(e[a],null)}}}}function Yo(...e){return y.useCallback(MD(...e),e)}function fx(e){const t=VF(e),r=y.forwardRef((n,a)=>{const{children:i,...l}=n,u=y.Children.toArray(i),d=u.find(KF);if(d){const f=d.props.children,g=u.map(m=>m===d?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:m);return s.jsx(t,{...l,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,g):null})}return s.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var DD=fx("Slot");function VF(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const l=XF(a),u=YF(i,a.props);return a.type!==y.Fragment&&(u.ref=n?MD(n,l):l),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GF=Symbol("radix.slottable");function KF(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GF}function YF(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...u)=>{const d=i(...u);return a(...u),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function XF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function LD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=LD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=LD(e))&&(n&&(n+=" "),n+=t);return n}const g2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,y2=qt,$D=(e,t)=>r=>{var n;if(t?.variants==null)return y2(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,l=Object.keys(a).map(f=>{const g=r?.[f],m=i?.[f];if(g===null)return null;const v=g2(g)||g2(m);return a[f][v]}),u=r&&Object.entries(r).reduce((f,g)=>{let[m,v]=g;return v===void 0||(f[m]=v),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,g)=>{let{class:m,className:v,...w}=g;return Object.entries(w).every(P=>{let[_,N]=P;return Array.isArray(N)?N.includes({...i,...u}[_]):{...i,...u}[_]===N})?[...f,m,v]:f},[]);return y2(e,l,d,r?.class,r?.className)},XC="-",QF=e=>{const t=JF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const u=l.split(XC);return u[0]===""&&u.length!==1&&u.shift(),FD(u,t)||ZF(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&n[l]?[...d,...n[l]]:d}}},FD=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?FD(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(XC);return t.validators.find(({validator:l})=>l(i))?.classGroupId},v2=/^\[(.+)\]$/,ZF=e=>{if(v2.test(e)){const t=v2.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},JF=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)s_(r[a],n,a,t);return n},s_=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:b2(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(e6(a)){s_(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,l])=>{s_(l,b2(t,i),r,n)})})},b2=(e,t)=>{let r=e;return t.split(XC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},e6=e=>e.isThemeGetter,t6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,l)=>{r.set(i,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=n.get(i))!==void 0)return a(i,l),l},set(i,l){r.has(i)?r.set(i,l):a(i,l)}}},i_="!",o_=":",r6=o_.length,n6=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let l=0,u=0,d=0,f;for(let P=0;P<a.length;P++){let _=a[P];if(l===0&&u===0){if(_===o_){i.push(a.slice(d,P)),d=P+r6;continue}if(_==="/"){f=P;continue}}_==="["?l++:_==="]"?l--:_==="("?u++:_===")"&&u--}const g=i.length===0?a:a.substring(d),m=a6(g),v=m!==g,w=f&&f>d?f-d:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:m,maybePostfixModifierPosition:w}};if(t){const a=t+o_,i=n;n=l=>l.startsWith(a)?i(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},a6=e=>e.endsWith(i_)?e.substring(0,e.length-1):e.startsWith(i_)?e.substring(1):e,s6=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(l=>{l[0]==="["||t[l]?(a.push(...i.sort(),l),i=[]):i.push(l)}),a.push(...i.sort()),a}},i6=e=>({cache:t6(e.cacheSize),parseClassName:n6(e),sortModifiers:s6(e),...QF(e)}),o6=/\s+/,l6=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,l=[],u=e.trim().split(o6);let d="";for(let f=u.length-1;f>=0;f-=1){const g=u[f],{isExternal:m,modifiers:v,hasImportantModifier:w,baseClassName:P,maybePostfixModifierPosition:_}=r(g);if(m){d=g+(d.length>0?" "+d:d);continue}let N=!!_,E=n(N?P.substring(0,_):P);if(!E){if(!N){d=g+(d.length>0?" "+d:d);continue}if(E=n(P),!E){d=g+(d.length>0?" "+d:d);continue}N=!1}const D=i(v).join(":"),L=w?D+i_:D,$=L+E;if(l.includes($))continue;l.push($);const R=a(E,N);for(let M=0;M<R.length;++M){const F=R[M];l.push(L+F)}d=g+(d.length>0?" "+d:d)}return d};function c6(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=BD(t))&&(n&&(n+=" "),n+=r);return n}const BD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=BD(e[n]))&&(r&&(r+=" "),r+=t);return r};function u6(e,...t){let r,n,a,i=l;function l(d){const f=t.reduce((g,m)=>m(g),e());return r=i6(f),n=r.cache.get,a=r.cache.set,i=u,u(d)}function u(d){const f=n(d);if(f)return f;const g=l6(d,r);return a(d,g),g}return function(){return i(c6.apply(null,arguments))}}const gs=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},qD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,UD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,d6=/^\d+\/\d+$/,f6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,p6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,m6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,h6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,g6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mh=e=>d6.test(e),lr=e=>!!e&&!Number.isNaN(Number(e)),Sf=e=>!!e&&Number.isInteger(Number(e)),Cw=e=>e.endsWith("%")&&lr(e.slice(0,-1)),cd=e=>f6.test(e),y6=()=>!0,v6=e=>p6.test(e)&&!m6.test(e),zD=()=>!1,b6=e=>h6.test(e),x6=e=>g6.test(e),w6=e=>!Ct(e)&&!Pt(e),S6=e=>fg(e,VD,zD),Ct=e=>qD.test(e),kp=e=>fg(e,GD,v6),Pw=e=>fg(e,P6,lr),x2=e=>fg(e,WD,zD),N6=e=>fg(e,HD,x6),h0=e=>fg(e,KD,b6),Pt=e=>UD.test(e),ly=e=>pg(e,GD),j6=e=>pg(e,A6),w2=e=>pg(e,WD),_6=e=>pg(e,VD),C6=e=>pg(e,HD),g0=e=>pg(e,KD,!0),fg=(e,t,r)=>{const n=qD.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},pg=(e,t,r=!1)=>{const n=UD.exec(e);return n?n[1]?t(n[1]):r:!1},WD=e=>e==="position"||e==="percentage",HD=e=>e==="image"||e==="url",VD=e=>e==="length"||e==="size"||e==="bg-size",GD=e=>e==="length",P6=e=>e==="number",A6=e=>e==="family-name",KD=e=>e==="shadow",k6=()=>{const e=gs("color"),t=gs("font"),r=gs("text"),n=gs("font-weight"),a=gs("tracking"),i=gs("leading"),l=gs("breakpoint"),u=gs("container"),d=gs("spacing"),f=gs("radius"),g=gs("shadow"),m=gs("inset-shadow"),v=gs("text-shadow"),w=gs("drop-shadow"),P=gs("blur"),_=gs("perspective"),N=gs("aspect"),E=gs("ease"),D=gs("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...$(),Pt,Ct],M=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],V=()=>[Pt,Ct,d],Y=()=>[mh,"full","auto",...V()],ue=()=>[Sf,"none","subgrid",Pt,Ct],te=()=>["auto",{span:["full",Sf,Pt,Ct]},Sf,Pt,Ct],le=()=>[Sf,"auto",Pt,Ct],fe=()=>["auto","min","max","fr",Pt,Ct],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...V()],ne=()=>[mh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],G=()=>[e,Pt,Ct],ve=()=>[...$(),w2,x2,{position:[Pt,Ct]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",_6,S6,{size:[Pt,Ct]}],pe=()=>[Cw,ly,kp],re=()=>["","none","full",f,Pt,Ct],xe=()=>["",lr,ly,kp],Re=()=>["solid","dashed","dotted","double"],Le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ke=()=>[lr,Cw,w2,x2],Ve=()=>["","none",P,Pt,Ct],Te=()=>["none",lr,Pt,Ct],st=()=>["none",lr,Pt,Ct],lt=()=>[lr,Pt,Ct],Me=()=>[mh,"full",...V()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[cd],breakpoint:[cd],color:[y6],container:[cd],"drop-shadow":[cd],ease:["in","out","in-out"],font:[w6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[cd],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[cd],shadow:[cd],spacing:["px",lr],text:[cd],"text-shadow":[cd],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mh,Ct,Pt,N]}],container:["container"],columns:[{columns:[lr,Ct,Pt,u]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[Sf,"auto",Pt,Ct]}],basis:[{basis:[mh,"full","auto",u,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[lr,mh,"auto","initial","none",Ct]}],grow:[{grow:["",lr,Pt,Ct]}],shrink:[{shrink:["",lr,Pt,Ct]}],order:[{order:[Sf,"first","last","none",Pt,Ct]}],"grid-cols":[{"grid-cols":ue()}],"col-start-end":[{col:te()}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":ue()}],"row-start-end":[{row:te()}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":fe()}],"auto-rows":[{"auto-rows":fe()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[u,"screen",...ne()]}],"min-w":[{"min-w":[u,"screen","none",...ne()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",r,ly,kp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Pt,Pw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Cw,Ct]}],"font-family":[{font:[j6,Ct,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Pt,Ct]}],"line-clamp":[{"line-clamp":[lr,"none",Pt,Pw]}],leading:[{leading:[i,...V()]}],"list-image":[{"list-image":["none",Pt,Ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pt,Ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[lr,"from-font","auto",Pt,kp]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[lr,"auto",Pt,Ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt,Ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt,Ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sf,Pt,Ct],radial:["",Pt,Ct],conic:[Sf,Pt,Ct]},C6,N6]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:pe()}],"gradient-via-pos":[{via:pe()}],"gradient-to-pos":[{to:pe()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[lr,Pt,Ct]}],"outline-w":[{outline:["",lr,ly,kp]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",g,g0,h0]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",m,g0,h0]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[lr,kp]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",v,g0,h0]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[lr,Pt,Ct]}],"mix-blend":[{"mix-blend":[...Le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[lr]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ke()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":Ke()}],"mask-image-t-to-pos":[{"mask-t-to":Ke()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":Ke()}],"mask-image-r-to-pos":[{"mask-r-to":Ke()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":Ke()}],"mask-image-b-to-pos":[{"mask-b-to":Ke()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":Ke()}],"mask-image-l-to-pos":[{"mask-l-to":Ke()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":Ke()}],"mask-image-x-to-pos":[{"mask-x-to":Ke()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":Ke()}],"mask-image-y-to-pos":[{"mask-y-to":Ke()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Pt,Ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ke()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[lr]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ke()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pt,Ct]}],filter:[{filter:["","none",Pt,Ct]}],blur:[{blur:Ve()}],brightness:[{brightness:[lr,Pt,Ct]}],contrast:[{contrast:[lr,Pt,Ct]}],"drop-shadow":[{"drop-shadow":["","none",w,g0,h0]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",lr,Pt,Ct]}],"hue-rotate":[{"hue-rotate":[lr,Pt,Ct]}],invert:[{invert:["",lr,Pt,Ct]}],saturate:[{saturate:[lr,Pt,Ct]}],sepia:[{sepia:["",lr,Pt,Ct]}],"backdrop-filter":[{"backdrop-filter":["","none",Pt,Ct]}],"backdrop-blur":[{"backdrop-blur":Ve()}],"backdrop-brightness":[{"backdrop-brightness":[lr,Pt,Ct]}],"backdrop-contrast":[{"backdrop-contrast":[lr,Pt,Ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",lr,Pt,Ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[lr,Pt,Ct]}],"backdrop-invert":[{"backdrop-invert":["",lr,Pt,Ct]}],"backdrop-opacity":[{"backdrop-opacity":[lr,Pt,Ct]}],"backdrop-saturate":[{"backdrop-saturate":[lr,Pt,Ct]}],"backdrop-sepia":[{"backdrop-sepia":["",lr,Pt,Ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pt,Ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[lr,"initial",Pt,Ct]}],ease:[{ease:["linear","initial",E,Pt,Ct]}],delay:[{delay:[lr,Pt,Ct]}],animate:[{animate:["none",D,Pt,Ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Pt,Ct]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:st()}],"scale-x":[{"scale-x":st()}],"scale-y":[{"scale-y":st()}],"scale-z":[{"scale-z":st()}],"scale-3d":["scale-3d"],skew:[{skew:lt()}],"skew-x":[{"skew-x":lt()}],"skew-y":[{"skew-y":lt()}],transform:[{transform:[Pt,Ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Me()}],"translate-x":[{"translate-x":Me()}],"translate-y":[{"translate-y":Me()}],"translate-z":[{"translate-z":Me()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt,Ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt,Ct]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[lr,ly,kp,Pw]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},E6=u6(k6);function xs(...e){return E6(qt(e))}const O6=$D("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive btn-hover-lighter",{variants:{variant:{default:"bg-primary text-primary-foreground",destructive:"bg-destructive text-white focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent/50 hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/40",secondary:"bg-secondary text-secondary-foreground",ghost:"hover:bg-accent/40 hover:text-accent-foreground dark:hover:bg-accent/40",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Je=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const l=n?DD:"button";return s.jsx(l,{ref:i,"data-slot":"button",className:xs(O6({variant:t,size:r}),e),...a})});Je.displayName="Button";const R6=$D("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),_l=y.forwardRef(({className:e,variant:t,asChild:r=!1,...n},a)=>{const i=r?DD:"span";return s.jsx(i,{ref:a,"data-slot":"badge",className:xs(R6({variant:t}),e),...n})});_l.displayName="Badge";function Fi(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function T6(e,t){const r=y.createContext(t),n=i=>{const{children:l,...u}=i,d=y.useMemo(()=>u,Object.values(u));return s.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function a(i){const l=y.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function px(e,t=[]){let r=[];function n(i,l){const u=y.createContext(l),d=r.length;r=[...r,l];const f=m=>{const{scope:v,children:w,...P}=m,_=v?.[e]?.[d]||u,N=y.useMemo(()=>P,Object.values(P));return s.jsx(_.Provider,{value:N,children:w})};f.displayName=i+"Provider";function g(m,v){const w=v?.[e]?.[d]||u,P=y.useContext(w);if(P)return P;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[f,g]}const a=()=>{const i=r.map(l=>y.createContext(l));return function(u){const d=u?.[e]||i;return y.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return a.scopeName=e,[n,I6(a,...t)]}function I6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((u,{useScope:d,scopeName:f})=>{const m=d(i)[`__scope${f}`];return{...u,...m}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var Rf=globalThis?.document?y.useLayoutEffect:()=>{},M6=TD[" useId ".trim().toString()]||(()=>{}),D6=0;function Q0(e){const[t,r]=y.useState(M6());return Rf(()=>{r(n=>n??String(D6++))},[e]),e||(t?`radix-${t}`:"")}var L6=TD[" useInsertionEffect ".trim().toString()]||Rf;function QC({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,l]=$6({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:a;{const g=y.useRef(e!==void 0);y.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,n])}const f=y.useCallback(g=>{if(u){const m=F6(g)?g(e):g;m!==e&&l.current?.(m)}else i(g)},[u,e,i,l]);return[d,f]}function $6({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),i=y.useRef(t);return L6(()=>{i.current=t},[t]),y.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function F6(e){return typeof e=="function"}var B6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ws=B6.reduce((e,t)=>{const r=fx(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:l,...u}=a,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function q6(e,t){e&&By.flushSync(()=>e.dispatchEvent(t))}function $h(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>t.current?.(...r),[])}function U6(e,t=globalThis?.document){const r=$h(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var z6="DismissableLayer",l_="dismissableLayer.update",W6="dismissableLayer.pointerDownOutside",H6="dismissableLayer.focusOutside",S2,YD=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ZC=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...d}=e,f=y.useContext(YD),[g,m]=y.useState(null),v=g?.ownerDocument??globalThis?.document,[,w]=y.useState({}),P=Yo(t,F=>m(F)),_=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(N),D=g?_.indexOf(g):-1,L=f.layersWithOutsidePointerEventsDisabled.size>0,$=D>=E,R=K6(F=>{const V=F.target,Y=[...f.branches].some(ue=>ue.contains(V));!$||Y||(a?.(F),l?.(F),F.defaultPrevented||u?.())},v),M=Y6(F=>{const V=F.target;[...f.branches].some(ue=>ue.contains(V))||(i?.(F),l?.(F),F.defaultPrevented||u?.())},v);return U6(F=>{D===f.layers.size-1&&(n?.(F),!F.defaultPrevented&&u&&(F.preventDefault(),u()))},v),y.useEffect(()=>{if(g)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(S2=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),N2(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=S2)}},[g,v,r,f]),y.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),N2())},[g,f]),y.useEffect(()=>{const F=()=>w({});return document.addEventListener(l_,F),()=>document.removeEventListener(l_,F)},[]),s.jsx(ws.div,{...d,ref:P,style:{pointerEvents:L?$?"auto":"none":void 0,...e.style},onFocusCapture:Fi(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Fi(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Fi(e.onPointerDownCapture,R.onPointerDownCapture)})});ZC.displayName=z6;var V6="DismissableLayerBranch",G6=y.forwardRef((e,t)=>{const r=y.useContext(YD),n=y.useRef(null),a=Yo(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(ws.div,{...e,ref:a})});G6.displayName=V6;function K6(e,t=globalThis?.document){const r=$h(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=u=>{if(u.target&&!n.current){let d=function(){XD(W6,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Y6(e,t=globalThis?.document){const r=$h(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&XD(H6,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function N2(){const e=new CustomEvent(l_);document.dispatchEvent(e)}function XD(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?q6(a,i):a.dispatchEvent(i)}var Aw="focusScope.autoFocusOnMount",kw="focusScope.autoFocusOnUnmount",j2={bubbles:!1,cancelable:!0},X6="FocusScope",JC=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=e,[u,d]=y.useState(null),f=$h(a),g=$h(i),m=y.useRef(null),v=Yo(t,_=>d(_)),w=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let _=function(L){if(w.paused||!u)return;const $=L.target;u.contains($)?m.current=$:_f(m.current,{select:!0})},N=function(L){if(w.paused||!u)return;const $=L.relatedTarget;$!==null&&(u.contains($)||_f(m.current,{select:!0}))},E=function(L){if(document.activeElement===document.body)for(const R of L)R.removedNodes.length>0&&_f(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",N);const D=new MutationObserver(E);return u&&D.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",N),D.disconnect()}}},[n,u,w.paused]),y.useEffect(()=>{if(u){C2.add(w);const _=document.activeElement;if(!u.contains(_)){const E=new CustomEvent(Aw,j2);u.addEventListener(Aw,f),u.dispatchEvent(E),E.defaultPrevented||(Q6(rB(QD(u)),{select:!0}),document.activeElement===_&&_f(u))}return()=>{u.removeEventListener(Aw,f),setTimeout(()=>{const E=new CustomEvent(kw,j2);u.addEventListener(kw,g),u.dispatchEvent(E),E.defaultPrevented||_f(_??document.body,{select:!0}),u.removeEventListener(kw,g),C2.remove(w)},0)}}},[u,f,g,w]);const P=y.useCallback(_=>{if(!r&&!n||w.paused)return;const N=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,E=document.activeElement;if(N&&E){const D=_.currentTarget,[L,$]=Z6(D);L&&$?!_.shiftKey&&E===$?(_.preventDefault(),r&&_f(L,{select:!0})):_.shiftKey&&E===L&&(_.preventDefault(),r&&_f($,{select:!0})):E===D&&_.preventDefault()}},[r,n,w.paused]);return s.jsx(ws.div,{tabIndex:-1,...l,ref:v,onKeyDown:P})});JC.displayName=X6;function Q6(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(_f(n,{select:t}),document.activeElement!==r)return}function Z6(e){const t=QD(e),r=_2(t,e),n=_2(t.reverse(),e);return[r,n]}function QD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _2(e,t){for(const r of e)if(!J6(r,{upTo:t}))return r}function J6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function eB(e){return e instanceof HTMLInputElement&&"select"in e}function _f(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&eB(e)&&t&&e.select()}}var C2=tB();function tB(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=P2(e,t),e.unshift(t)},remove(t){e=P2(e,t),e[0]?.resume()}}}function P2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function rB(e){return e.filter(t=>t.tagName!=="A")}var nB="Portal",eP=y.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=y.useState(!1);Rf(()=>i(!0),[]);const l=r||a&&globalThis?.document?.body;return l?ID.createPortal(s.jsx(ws.div,{...n,ref:t}),l):null});eP.displayName=nB;function aB(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var am=e=>{const{present:t,children:r}=e,n=sB(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=Yo(n.ref,iB(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};am.displayName="Presence";function sB(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),l=e?"mounted":"unmounted",[u,d]=aB(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const f=y0(n.current);i.current=u==="mounted"?f:"none"},[u]),Rf(()=>{const f=n.current,g=a.current;if(g!==e){const v=i.current,w=y0(f);e?d("MOUNT"):w==="none"||f?.display==="none"?d("UNMOUNT"):d(g&&v!==w?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Rf(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,m=w=>{const _=y0(n.current).includes(CSS.escape(w.animationName));if(w.target===t&&_&&(d("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},v=w=>{w.target===t&&(i.current=y0(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function y0(e){return e?.animationName||"none"}function iB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ew=0;function ZD(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??A2()),document.body.insertAdjacentElement("beforeend",e[1]??A2()),Ew++,()=>{Ew===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ew--}},[])}function A2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cu=function(){return cu=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},cu.apply(this,arguments)};function JD(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function oB(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Z0="right-scroll-bar-position",J0="width-before-scroll-bar",lB="with-scroll-bars-hidden",cB="--removed-body-scroll-bar-size";function Ow(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uB(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var dB=typeof window<"u"?y.useLayoutEffect:y.useEffect,k2=new WeakMap;function fB(e,t){var r=uB(null,function(n){return e.forEach(function(a){return Ow(a,n)})});return dB(function(){var n=k2.get(r);if(n){var a=new Set(n),i=new Set(e),l=r.current;a.forEach(function(u){i.has(u)||Ow(u,null)}),i.forEach(function(u){a.has(u)||Ow(u,l)})}k2.set(r,e)},[e]),r}function pB(e){return e}function mB(e,t){t===void 0&&(t=pB);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=t(i,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(n=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(u){return i(u)},filter:function(){return r}}},assignMedium:function(i){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(i),l=r}var d=function(){var g=l;l=[],g.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(g){l.push(g),f()},filter:function(g){return l=l.filter(g),r}}}};return a}function hB(e){e===void 0&&(e={});var t=mB(null);return t.options=cu({async:!0,ssr:!1},e),t}var eL=function(e){var t=e.sideCar,r=JD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,cu({},r))};eL.isSideCarExport=!0;function gB(e,t){return e.useMedium(t),eL}var tL=hB(),Rw=function(){},mx=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:Rw,onWheelCapture:Rw,onTouchMoveCapture:Rw}),a=n[0],i=n[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,g=e.enabled,m=e.shards,v=e.sideCar,w=e.noRelative,P=e.noIsolation,_=e.inert,N=e.allowPinchZoom,E=e.as,D=E===void 0?"div":E,L=e.gapMode,$=JD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=v,M=fB([r,t]),F=cu(cu({},$),a);return y.createElement(y.Fragment,null,g&&y.createElement(R,{sideCar:tL,removeScrollBar:f,shards:m,noRelative:w,noIsolation:P,inert:_,setCallbacks:i,allowPinchZoom:!!N,lockRef:r,gapMode:L}),l?y.cloneElement(y.Children.only(u),cu(cu({},F),{ref:M})):y.createElement(D,cu({},F,{className:d,ref:M}),u))});mx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mx.classNames={fullWidth:J0,zeroRight:Z0};var yB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yB();return t&&e.setAttribute("nonce",t),e}function bB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wB=function(){var e=0,t=null;return{add:function(r){e==0&&(t=vB())&&(bB(t,r),xB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},SB=function(){var e=wB();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},rL=function(){var e=SB(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},NB={left:0,top:0,right:0,gap:0},Tw=function(e){return parseInt(e||"",10)||0},jB=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Tw(r),Tw(n),Tw(a)]},_B=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return NB;var t=jB(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},CB=rL(),Rh="data-scroll-locked",PB=function(e,t,r,n){var a=e.left,i=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(lB,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Rh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Z0,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(J0,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Z0," .").concat(Z0,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(J0," .").concat(J0,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Rh,`] {
    `).concat(cB,": ").concat(u,`px;
  }
`)},E2=function(){var e=parseInt(document.body.getAttribute(Rh)||"0",10);return isFinite(e)?e:0},AB=function(){y.useEffect(function(){return document.body.setAttribute(Rh,(E2()+1).toString()),function(){var e=E2()-1;e<=0?document.body.removeAttribute(Rh):document.body.setAttribute(Rh,e.toString())}},[])},kB=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;AB();var i=y.useMemo(function(){return _B(a)},[a]);return y.createElement(CB,{styles:PB(i,!t,a,r?"":"!important")})},c_=!1;if(typeof window<"u")try{var v0=Object.defineProperty({},"passive",{get:function(){return c_=!0,!0}});window.addEventListener("test",v0,v0),window.removeEventListener("test",v0,v0)}catch{c_=!1}var hh=c_?{passive:!1}:!1,EB=function(e){return e.tagName==="TEXTAREA"},nL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!EB(e)&&r[t]==="visible")},OB=function(e){return nL(e,"overflowY")},RB=function(e){return nL(e,"overflowX")},O2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=aL(e,n);if(a){var i=sL(e,n),l=i[1],u=i[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},TB=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},IB=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},aL=function(e,t){return e==="v"?OB(t):RB(t)},sL=function(e,t){return e==="v"?TB(t):IB(t)},MB=function(e,t){return e==="h"&&t==="rtl"?-1:1},DB=function(e,t,r,n,a){var i=MB(e,window.getComputedStyle(t).direction),l=i*n,u=r.target,d=t.contains(u),f=!1,g=l>0,m=0,v=0;do{if(!u)break;var w=sL(e,u),P=w[0],_=w[1],N=w[2],E=_-N-i*P;(P||E)&&aL(e,u)&&(m+=E,v+=P);var D=u.parentNode;u=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(g&&Math.abs(m)<1||!g&&Math.abs(v)<1)&&(f=!0),f},b0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},R2=function(e){return[e.deltaX,e.deltaY]},T2=function(e){return e&&"current"in e?e.current:e},LB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$B=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FB=0,gh=[];function BB(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(FB++)[0],i=y.useState(rL)[0],l=y.useRef(e);y.useEffect(function(){l.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=oB([e.lockRef.current],(e.shards||[]).map(T2),!0).filter(Boolean);return _.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=y.useCallback(function(_,N){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var E=b0(_),D=r.current,L="deltaX"in _?_.deltaX:D[0]-E[0],$="deltaY"in _?_.deltaY:D[1]-E[1],R,M=_.target,F=Math.abs(L)>Math.abs($)?"h":"v";if("touches"in _&&F==="h"&&M.type==="range")return!1;var V=O2(F,M);if(!V)return!0;if(V?R=F:(R=F==="v"?"h":"v",V=O2(F,M)),!V)return!1;if(!n.current&&"changedTouches"in _&&(L||$)&&(n.current=R),!R)return!0;var Y=n.current||R;return DB(Y,N,_,Y==="h"?L:$)},[]),d=y.useCallback(function(_){var N=_;if(!(!gh.length||gh[gh.length-1]!==i)){var E="deltaY"in N?R2(N):b0(N),D=t.current.filter(function(R){return R.name===N.type&&(R.target===N.target||N.target===R.shadowParent)&&LB(R.delta,E)})[0];if(D&&D.should){N.cancelable&&N.preventDefault();return}if(!D){var L=(l.current.shards||[]).map(T2).filter(Boolean).filter(function(R){return R.contains(N.target)}),$=L.length>0?u(N,L[0]):!l.current.noIsolation;$&&N.cancelable&&N.preventDefault()}}},[]),f=y.useCallback(function(_,N,E,D){var L={name:_,delta:N,target:E,should:D,shadowParent:qB(E)};t.current.push(L),setTimeout(function(){t.current=t.current.filter(function($){return $!==L})},1)},[]),g=y.useCallback(function(_){r.current=b0(_),n.current=void 0},[]),m=y.useCallback(function(_){f(_.type,R2(_),_.target,u(_,e.lockRef.current))},[]),v=y.useCallback(function(_){f(_.type,b0(_),_.target,u(_,e.lockRef.current))},[]);y.useEffect(function(){return gh.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",d,hh),document.addEventListener("touchmove",d,hh),document.addEventListener("touchstart",g,hh),function(){gh=gh.filter(function(_){return _!==i}),document.removeEventListener("wheel",d,hh),document.removeEventListener("touchmove",d,hh),document.removeEventListener("touchstart",g,hh)}},[]);var w=e.removeScrollBar,P=e.inert;return y.createElement(y.Fragment,null,P?y.createElement(i,{styles:$B(a)}):null,w?y.createElement(kB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function qB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const UB=gB(tL,BB);var tP=y.forwardRef(function(e,t){return y.createElement(mx,cu({},e,{ref:t,sideCar:UB}))});tP.classNames=mx.classNames;var zB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yh=new WeakMap,x0=new WeakMap,w0={},Iw=0,iL=function(e){return e&&(e.host||iL(e.parentNode))},WB=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=iL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},HB=function(e,t,r,n){var a=WB(t,Array.isArray(e)?e:[e]);w0[r]||(w0[r]=new WeakMap);var i=w0[r],l=[],u=new Set,d=new Set(a),f=function(m){!m||u.has(m)||(u.add(m),f(m.parentNode))};a.forEach(f);var g=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(v){if(u.has(v))g(v);else try{var w=v.getAttribute(n),P=w!==null&&w!=="false",_=(yh.get(v)||0)+1,N=(i.get(v)||0)+1;yh.set(v,_),i.set(v,N),l.push(v),_===1&&P&&x0.set(v,!0),N===1&&v.setAttribute(r,"true"),P||v.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return g(t),u.clear(),Iw++,function(){l.forEach(function(m){var v=yh.get(m)-1,w=i.get(m)-1;yh.set(m,v),i.set(m,w),v||(x0.has(m)||m.removeAttribute(n),x0.delete(m)),w||m.removeAttribute(r)}),Iw--,Iw||(yh=new WeakMap,yh=new WeakMap,x0=new WeakMap,w0={})}},oL=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=zB(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),HB(n,a,r,"aria-hidden")):function(){return null}},hx="Dialog",[lL]=px(hx),[VB,xc]=lL(hx),cL=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,u=y.useRef(null),d=y.useRef(null),[f,g]=QC({prop:n,defaultProp:a??!1,onChange:i,caller:hx});return s.jsx(VB,{scope:t,triggerRef:u,contentRef:d,contentId:Q0(),titleId:Q0(),descriptionId:Q0(),open:f,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(m=>!m),[g]),modal:l,children:r})};cL.displayName=hx;var uL="DialogTrigger",dL=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xc(uL,r),i=Yo(t,a.triggerRef);return s.jsx(ws.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":aP(a.open),...n,ref:i,onClick:Fi(e.onClick,a.onOpenToggle)})});dL.displayName=uL;var rP="DialogPortal",[GB,fL]=lL(rP,{forceMount:void 0}),pL=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=xc(rP,t);return s.jsx(GB,{scope:t,forceMount:r,children:y.Children.map(n,l=>s.jsx(am,{present:r||i.open,children:s.jsx(eP,{asChild:!0,container:a,children:l})}))})};pL.displayName=rP;var ab="DialogOverlay",mL=y.forwardRef((e,t)=>{const r=fL(ab,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=xc(ab,e.__scopeDialog);return i.modal?s.jsx(am,{present:n||i.open,children:s.jsx(YB,{...a,ref:t})}):null});mL.displayName=ab;var KB=fx("DialogOverlay.RemoveScroll"),YB=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xc(ab,r);return s.jsx(tP,{as:KB,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(ws.div,{"data-state":aP(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Yp="DialogContent",hL=y.forwardRef((e,t)=>{const r=fL(Yp,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=xc(Yp,e.__scopeDialog);return s.jsx(am,{present:n||i.open,children:i.modal?s.jsx(XB,{...a,ref:t}):s.jsx(QB,{...a,ref:t})})});hL.displayName=Yp;var XB=y.forwardRef((e,t)=>{const r=xc(Yp,e.__scopeDialog),n=y.useRef(null),a=Yo(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return oL(i)},[]),s.jsx(gL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fi(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Fi(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Fi(e.onFocusOutside,i=>i.preventDefault())})}),QB=y.forwardRef((e,t)=>{const r=xc(Yp,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(gL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),gL=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=e,u=xc(Yp,r),d=y.useRef(null),f=Yo(t,d);return ZD(),s.jsxs(s.Fragment,{children:[s.jsx(JC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(ZC,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":aP(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ZB,{titleId:u.titleId}),s.jsx(eq,{contentRef:d,descriptionId:u.descriptionId})]})]})}),nP="DialogTitle",yL=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xc(nP,r);return s.jsx(ws.h2,{id:a.titleId,...n,ref:t})});yL.displayName=nP;var vL="DialogDescription",bL=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xc(vL,r);return s.jsx(ws.p,{id:a.descriptionId,...n,ref:t})});bL.displayName=vL;var xL="DialogClose",wL=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=xc(xL,r);return s.jsx(ws.button,{type:"button",...n,ref:t,onClick:Fi(e.onClick,()=>a.onOpenChange(!1))})});wL.displayName=xL;function aP(e){return e?"open":"closed"}var SL="DialogTitleWarning",[Sue,NL]=T6(SL,{contentName:Yp,titleName:nP,docsSlug:"dialog"}),ZB=({titleId:e})=>{const t=NL(SL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},JB="DialogDescriptionWarning",eq=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NL(JB).contentName}}.`;return y.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},tq=cL,jL=dL,rq=pL,_L=mL,CL=hL,nq=yL,aq=bL,PL=wL;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),I2=e=>{const t=iq(e);return t.charAt(0).toUpperCase()+t.slice(1)},AL=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...u},d)=>y.createElement("svg",{ref:d,...oq,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:AL("lucide",a),...u},[...l.map(([f,g])=>y.createElement(f,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=(e,t)=>{const r=y.forwardRef(({className:n,...a},i)=>y.createElement(lq,{ref:i,iconNode:t,className:AL(`lucide-${sq(I2(e))}`,`lucide-${e}`,n),...a}));return r.displayName=I2(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],uq=Qt("arrow-left-right",cq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fq=Qt("arrow-left",dq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mq=Qt("arrow-right",pq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],gq=Qt("arrow-up-down",hq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],vq=Qt("building-2",yq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],S0=Qt("calendar-days",bq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wq=Qt("check",xq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Nq=Qt("chevron-left",Sq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eb=Qt("chevron-right",jq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Cq=Qt("circle-alert",_q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kL=Qt("circle-check",Pq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kq=Qt("circle-x",Aq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],M2=Qt("clock",Eq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Rq=Qt("copy",Oq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Py=Qt("download",Tq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Mq=Qt("external-link",Iq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],pd=Qt("eye-off",Dq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uu=Qt("eye",Lq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],Fq=Qt("fingerprint",$q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],qq=Qt("funnel",Bq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],zq=Qt("house",Uq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hq=Qt("info",Wq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],Gq=Qt("landmark",Vq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],D2=Qt("link-2",Kq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Xq=Qt("list",Yq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fp=Qt("loader-circle",Qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Jq=Qt("log-in",Zq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],t7=Qt("log-out",e7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],n7=Qt("maximize-2",r7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],s7=Qt("minimize-2",a7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M5 12h14",key:"1ays0h"}]],sP=Qt("minus",i7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],Mw=Qt("notebook-pen",o7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ah=Qt("package",l7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],EL=Qt("pencil",c7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],L2=Qt("pill",u7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fh=Qt("plus",d7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],OL=Qt("refresh-cw",f7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Dw=Qt("search",p7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Bh=Qt("shopping-cart",m7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],g7=Qt("square-check-big",h7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],v7=Qt("tag",y7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],u_=Qt("trash-2",b7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],w7=Qt("upload",x7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lw=Qt("user",S7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],j7=Qt("users",N7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],C7=Qt("wifi-off",_7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],md=Qt("x",P7);function fu({...e}){return s.jsx(tq,{"data-slot":"dialog",...e})}const d_=y.forwardRef(({...e},t)=>s.jsx(jL,{ref:t,"data-slot":"dialog-trigger",...e}));d_.displayName=jL.displayName;function A7({...e}){return s.jsx(rq,{"data-slot":"dialog-portal",...e})}function iP({...e}){return s.jsx(PL,{"data-slot":"dialog-close",...e})}const RL=y.forwardRef(({className:e,style:t,...r},n)=>s.jsx(_L,{ref:n,"data-slot":"dialog-overlay",className:xs("fixed inset-0 z-[9999] bg-[rgba(4,14,21,0.55)] backdrop-blur-xl opacity-0 transition-opacity duration-[80ms] data-[state=open]:opacity-100 data-[state=closed]:opacity-0 data-[state=closed]:pointer-events-none",e),style:{backdropFilter:"blur(16px) saturate(1.4)",WebkitBackdropFilter:"blur(16px) saturate(1.4)",willChange:"opacity",...t},...r}));RL.displayName=_L.displayName;const pc=y.forwardRef(({className:e,children:t,style:r,hideCloseButton:n=!1,overlayClassName:a,overlayStyle:i,containerClassName:l,containerStyle:u,...d},f)=>s.jsx(A7,{"data-slot":"dialog-portal",children:s.jsxs("div",{className:l??"fixed inset-x-0 bottom-0 z-[10000] flex items-center justify-center px-3 py-6 sm:px-4 sm:py-8",style:l?u:{top:"var(--modal-header-offset, 6rem)",left:0,right:0,...u},children:[s.jsx(RL,{className:a,style:i}),s.jsxs(CL,{ref:f,"data-slot":"dialog-content",className:xs("relative z-[1001] flex w-full max-w-[min(740px,calc(100vw-2rem))] flex-col overflow-y-auto squircle-xl glass-card border-[3px] p-6 text-slate-900 shadow-[0_24px_60px_-25px_rgba(7,27,27,0.55)] focus:outline-none data-[state=closed]:pointer-events-none duration-[55ms] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95 sm:max-w-[min(800px,calc(100vw-2.5rem))] lg:max-w-[min(50vw,48rem)]",e),style:{backgroundColor:"rgba(245, 251, 255, 0.94)",borderColor:"rgba(95, 179, 249, 0.65)",backdropFilter:"blur(16px) saturate(1.45)",WebkitBackdropFilter:"blur(16px) saturate(1.45)",maxHeight:"calc(var(--viewport-height, 100dvh) - var(--modal-header-offset, 6rem) - clamp(1.5rem, 6vh, 3rem))",margin:"clamp(0.5rem, 3vh, 2rem) auto 1.5rem",willChange:"opacity, transform",...r},...d,children:[t,!n&&s.jsxs(PL,{className:"dialog-close-btn inline-flex items-center justify-center text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150 absolute top-4 right-4 z-[10050] disabled:pointer-events-none",style:{backgroundColor:"rgb(95, 179, 249)",width:"38px",height:"38px",borderRadius:"50%"},children:[s.jsx(md,{className:"h-4 w-4 sm:h-5 sm:w-5"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}));pc.displayName=CL.displayName;function hd({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:xs("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Nl({className:e,...t}){return s.jsx(nq,{"data-slot":"dialog-title",className:xs("text-lg leading-none font-semibold",e),...t})}function jl({className:e,...t}){return s.jsx(aq,{"data-slot":"dialog-description",className:xs("text-muted-foreground text-sm",e),...t})}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qh.apply(null,arguments)}function k7(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function E7(...e){return t=>e.forEach(r=>k7(r,t))}const TL=y.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.Children.toArray(r),i=a.find(R7);if(i){const l=i.props.children,u=a.map(d=>d===i?y.Children.count(l)>1?y.Children.only(null):y.isValidElement(l)?l.props.children:null:d);return y.createElement(f_,qh({},n,{ref:t}),y.isValidElement(l)?y.cloneElement(l,void 0,u):null)}return y.createElement(f_,qh({},n,{ref:t}),r)});TL.displayName="Slot";const f_=y.forwardRef((e,t)=>{const{children:r,...n}=e;return y.isValidElement(r)?y.cloneElement(r,{...T7(n,r.props),ref:t?E7(t,r.ref):r.ref}):y.Children.count(r)>1?y.Children.only(null):null});f_.displayName="SlotClone";const O7=({children:e})=>y.createElement(y.Fragment,null,e);function R7(e){return y.isValidElement(e)&&e.type===O7}function T7(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...u)=>{i(...u),a(...u)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const I7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],M7=I7.reduce((e,t)=>{const r=y.forwardRef((n,a)=>{const{asChild:i,...l}=n,u=i?TL:t;return y.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),y.createElement(u,qh({},l,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),p_=y.forwardRef((e,t)=>y.createElement(M7.span,qh({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),zr=y.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{ref:n,type:t,"data-slot":"input",className:xs("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r}));zr.displayName="Input";var D7="Label",IL=y.forwardRef((e,t)=>s.jsx(ws.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));IL.displayName=D7;var L7=IL;const Ar=y.forwardRef(({className:e,...t},r)=>s.jsx(L7,{ref:r,"data-slot":"label",className:xs("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t}));Ar.displayName="Label";const Bp=y.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{ref:r,"data-slot":"textarea",className:xs("textarea bg-input-background border-input flex min-h-[80px] w-full rounded-md border px-3 py-2 text-base transition-[color,box-shadow] outline-none resize-none placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t}));Bp.displayName="Textarea";const $7=()=>{if(typeof window>"u")return!1;if(window.isSecureContext)return!0;const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"||e==="::1"},ML=()=>{if(!$7())return null;const e=navigator.credentials;return!e||typeof e.get!="function"?null:e},DL=async()=>{const e=ML();if(!e||typeof window.PasswordCredential!="function")return null;try{const r=await e.get({password:!0,mediation:"optional"});if(r&&r.type==="password"){const n=r;return{id:n.id||"",password:n.password||""}}}catch(r){console.debug("[Credentials] Stored credential request failed",r)}return null},F7=async(e,t,r)=>{if(!e||!t||typeof window>"u")return;const n=ML();if(!n||typeof n.store!="function")return;const a=window.PasswordCredential;if(typeof a=="function")try{const i=new a({id:e,name:r||e,password:t});await n.store(i)}catch(i){console.debug("[Credentials] Unable to store credential",i)}},B7=[[/\bwoocommerce\b/gi,"store"],[/\bwoo\s*commerce\b/gi,"store"],[/\bwoo\b/gi,"store"],[/\bstripe\b/gi,"payment provider"],[/\bcloudflare\b/gi,"network provider"],[/\bgodaddy\b/gi,"hosting provider"],[/\bshipstation\b/gi,"shipping provider"],[/\bshipengine\b/gi,"shipping provider"]],gu=e=>{if(typeof e!="string"||e.length===0)return e;let t=e;for(const[r,n]of B7)t=t.replace(r,n);return t=t.replace(/\bstore\s+store\b/gi,"store"),t=t.replace(/\bpayment provider\s+payment provider\b/gi,"payment provider"),t},q7=new Set(["error","message","reason","hint","title","statusText","detail"]),qy=e=>{const t=new WeakSet,r=(n,a)=>{if(typeof n=="string")return a&&q7.has(a)?gu(n):n;if(!n||typeof n!="object"||t.has(n))return n;if(t.add(n),Array.isArray(n)){for(let i=0;i<n.length;i+=1)n[i]=r(n[i],a);return n}for(const[i,l]of Object.entries(n))n[i]=r(l,i);return n};return r(e,null)},Fe=(()=>{const e="https://api.peppro.net".trim();if(!e)return"http://localhost:3001/api";const t=e.replace(/\/+$/,"");return t.toLowerCase().endsWith("/api")?t:`${t}/api`})(),$2="peppro_tab_id_v1",oP="peppro_session_id_v1",sb="peppro_user_id_v1",ib="peppro_auth_email_v1",lP="peppro_session_started_at_v1",LL="peppro_auth_event_v1",U7="peppro:force-logout",z7="test@doctor.com",$L=e=>String(e||"").trim().toLowerCase()===z7,Uy=()=>{try{if(typeof crypto<"u"&&"randomUUID"in crypto&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return`${Date.now()}-${Math.random().toString(16).slice(2)}${Math.random().toString(16).slice(2)}`},FL=()=>{try{const e=sessionStorage.getItem($2);if(e&&e.trim())return e;const t=Uy();return sessionStorage.setItem($2,t),t}catch{return Uy()}},cP=()=>{try{const e=sessionStorage.getItem(oP);return e&&e.trim()?e:null}catch{return null}},m_=e=>{try{sessionStorage.setItem(oP,e)}catch{}},Pv=()=>{try{sessionStorage.removeItem(oP)}catch{}},h_=e=>{try{sessionStorage.setItem(lP,String(Math.floor(Number(e)||Date.now())))}catch{}},W7=()=>{try{sessionStorage.removeItem(lP)}catch{}},BL=()=>{try{const e=sessionStorage.getItem(sb);return e&&e.trim()?e:null}catch{return null}},cy=e=>{try{const t=typeof e=="string"?e.trim():"";if(!t){sessionStorage.removeItem(sb);return}sessionStorage.setItem(sb,t)}catch{}},qL=()=>{try{const e=sessionStorage.getItem(ib);return e&&e.trim()?e:null}catch{return null}},uy=e=>{try{const t=typeof e=="string"?e.trim():"";if(!t){sessionStorage.removeItem(ib);return}sessionStorage.setItem(ib,t)}catch{}},H7=e=>{if(!(typeof window>"u")){try{if("BroadcastChannel"in window){const t=new window.BroadcastChannel("peppro-auth");t.postMessage(e),t.close()}}catch{}try{localStorage.setItem(LL,JSON.stringify(e))}catch{}}};let F2=0;const gx=(e,t)=>{if(typeof window>"u")return;const r=Date.now();if(!(r-F2<1500)){F2=r;try{const n={reason:e,...t?.authCode?{authCode:t.authCode}:{}};window.dispatchEvent(new CustomEvent(U7,{detail:n}))}catch{}}},B2=e=>{if(!e||e.type!=="LOGIN"||$L(qL()))return;const t=FL();if(e.tabId===t)return;const r=BL(),n=typeof e.userId=="string"?e.userId:null;if(!r||!n||r!==n)return;const a=cP();!a||a===e.sessionId||(Av(),Pv(),gx("another_tab_login"))};if(typeof window<"u"){try{localStorage.removeItem("auth_token")}catch{}try{const e=sessionStorage.getItem("auth_token");e&&e.trim()&&!cP()&&m_(Uy());const t=sessionStorage.getItem(lP),r=t?Number(t):NaN;e&&e.trim()&&!Number.isFinite(r)&&h_(Date.now())}catch{}try{"BroadcastChannel"in window&&new window.BroadcastChannel("peppro-auth").addEventListener("message",t=>{try{B2(t?.data)}catch{}})}catch{}try{window.addEventListener("storage",e=>{if(!(e.key!==LL||!e.newValue))try{B2(JSON.parse(e.newValue))}catch{}})}catch{}}const Xp=()=>{try{const e=sessionStorage.getItem("auth_token");if(e&&e.trim().length>0)return e}catch{}return null},$w=e=>{if(!e)return;try{sessionStorage.setItem("auth_token",e)}catch{}if($L(qL())){cP()||m_(Uy()),h_(Date.now());return}const t=Uy();m_(t),h_(Date.now()),H7({type:"LOGIN",tabId:FL(),sessionId:t,userId:BL(),at:Date.now()})},Av=()=>{try{localStorage.removeItem("auth_token")}catch{}try{sessionStorage.removeItem("auth_token")}catch{}try{sessionStorage.removeItem(sb)}catch{}try{sessionStorage.removeItem(ib)}catch{}W7()},bd=e=>{try{if(typeof window>"u")return;const t={ok:!!e.ok,status:typeof e.status=="number"?e.status:null,message:typeof e.message=="string"?e.message:null,at:Date.now()};window.dispatchEvent(new CustomEvent("peppro:api-reachability",{detail:t}))}catch{}},q2=15e3,V7=12e3,G7=5e3,K7=3e4,Y7=45e3,uP=(e,t)=>{const r=String(e||"").toLowerCase();return r.includes("/api/health")?G7:r.includes("/api/auth/")?V7:r.includes("/longpoll")?K7:t==="POST"&&(r.endsWith("/api/orders")||r.includes("/api/orders/"))?Y7:q2},dP=async(e,t,r)=>{if(typeof window>"u"||r<=0||!Number.isFinite(r))return fetch(e,t);const n=new AbortController,a=t.signal;a&&(a.aborted?n.abort():a.addEventListener("abort",()=>n.abort(),{once:!0}));const i=window.setTimeout(()=>n.abort(),r);try{return await fetch(e,{...t,signal:n.signal})}finally{window.clearTimeout(i)}},N0=new Map,ot=async(e,t={})=>{const r=Xp(),n=(t.method||"GET").toUpperCase(),a={...t.headers||{}};r&&(a.Authorization=`Bearer ${r}`);const i=n!=="GET"&&n!=="HEAD"&&t.body!=null,l=typeof FormData<"u"&&t.body instanceof FormData;i&&!l&&a["Content-Type"]==null&&(a["Content-Type"]="application/json");const u=async()=>{let m=e;if(n==="GET"&&!(t.cache&&t.cache!=="default")){const P=m.toLowerCase();if(!P.includes("/longpoll")&&!/[?&]_ts=/.test(P)&&!/[?&]etag=/.test(P)&&!/[?&]timeoutms=/.test(P)){const N=m.includes("?")?"&":"?";m=`${m}${N}_ts=${Date.now()}`}}let v;try{const P=uP(m,n);v=await dP(m,{cache:t.cache??"no-store",...t,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",...a}},P)}catch(P){const _=P?.name==="AbortError",N=_?"Request timed out":typeof P?.message=="string"?P.message:null;if(bd({ok:!1,status:null,message:N}),_){const E=new Error("Request timed out");throw E.code="TIMEOUT",E.status=null,E}throw P}if(v.ok?bd({ok:!0,status:v.status}):(v.status>=500||v.status===429)&&bd({ok:!1,status:v.status}),!v.ok){const P=v.headers.get("content-type")||"";let _=`Request failed (${v.status})`,N=null,E=!1;try{if(P.includes("application/json")){if(N=await v.json(),N&&typeof N=="object"&&"error"in N){const R=N.error;typeof R=="string"&&R.trim().length>0&&(_=R)}}else if(N=await v.text(),typeof N=="string"&&N.trim().length>0){const R=N.trim();E=R.startsWith("<")||R.includes("<html"),_=`${_}: ${R}`}}catch(R){N={parseError:R instanceof Error?R.message:String(R)}}E&&(e.toLowerCase().includes("/shipping/")?_="Address cannot be identified.":_=`Request failed (${v.status}). Please try again in a moment.`),_=gu(_),typeof N=="string"?N=gu(N):N&&typeof N=="object"&&qy(N);const D=new Error(_);D.status=v.status,D.details=N;const L=typeof N=="object"&&N!==null?N.code:null;if(v.status===401||v.status===403&&typeof L=="string"&&L.startsWith("TOKEN_")){if(Av(),Pv(),r){const R=typeof L=="string"?L:void 0;gx(R==="TOKEN_REVOKED"?"credentials_used_elsewhere":"auth_revoked",{authCode:R})}D.code="AUTH_REQUIRED",typeof L=="string"&&(D.authCode=L)}else v.status===403&&(D.code="FORBIDDEN");throw D}if(v.status===204||v.status===205)return null;if((v.headers.get("content-type")||"").includes("application/json")){const P=await v.text();if(!P)return null;try{const _=JSON.parse(P);return qy(_)}catch(_){return console.warn("[fetchWithAuth] Failed to parse JSON response",{error:_}),gu(P)}}return v.text()},d=n==="GET"&&!t.signal?`${r||""}|${e}`:null;if(!d)return u();const f=N0.get(d);if(f)return f;const g=u();return N0.set(d,g),g.finally(()=>{N0.get(d)===g&&N0.delete(d)}),g},UL=async(e,t={})=>{const r=Xp(),n={...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);let a;const i=(t.method||"GET").toUpperCase();try{a=await dP(e,{cache:t.cache??"no-store",...t,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",...n}},uP(e,i))}catch(u){const d=u?.name==="AbortError",f=d?"Request timed out":typeof u?.message=="string"?u.message:null;if(bd({ok:!1,status:null,message:f}),d){const g=new Error("Request timed out");throw g.code="TIMEOUT",g.status=null,g}throw u}if(a.ok?bd({ok:!0,status:a.status}):(a.status>=500||a.status===429)&&bd({ok:!1,status:a.status}),!a.ok){const u=a.headers.get("content-type")||"";let d=`Request failed (${a.status})`,f=null,g=!1;try{if(u.includes("application/json")){if(f=await a.json(),f&&typeof f=="object"&&"error"in f){const P=f.error;typeof P=="string"&&P.trim().length>0&&(d=P)}}else if(f=await a.text(),typeof f=="string"&&f.trim().length>0){const P=f.trim();g=P.startsWith("<")||P.includes("<html"),d=`${d}: ${P}`}}catch(P){f={parseError:P instanceof Error?P.message:String(P)}}g&&(a.status===413?d="Upload too large. Your server rejected the request (413).":d=`Request failed (${a.status}). Please try again in a moment.`),d=gu(d),typeof f=="string"?f=gu(f):f&&typeof f=="object"&&qy(f);const m=new Error(d);m.status=a.status,m.details=f;const v=typeof f=="object"&&f!==null?f.code:null;if(a.status===401||a.status===403&&typeof v=="string"&&v.startsWith("TOKEN_")){if(Av(),Pv(),r){const P=typeof v=="string"?v:void 0;gx(P==="TOKEN_REVOKED"?"credentials_used_elsewhere":"auth_revoked",{authCode:P})}m.code="AUTH_REQUIRED",typeof v=="string"&&(m.authCode=v)}else a.status===403&&(m.code="FORBIDDEN");throw m}if((a.headers.get("content-type")||"").includes("application/json")){const u=await a.text();if(!u)return null;try{const d=JSON.parse(u);return qy(d)}catch{return gu(u)}}return a.text()},ob=async(e,t={})=>{const r=Xp(),n={...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);let a;const i=(t.method||"GET").toUpperCase();try{a=await dP(e,{cache:t.cache??"no-store",...t,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",...n}},uP(e,i))}catch(g){const m=g?.name==="AbortError",v=m?"Request timed out":typeof g?.message=="string"?g.message:null;if(bd({ok:!1,status:null,message:v}),m){const w=new Error("Request timed out");throw w.code="TIMEOUT",w.status=null,w}throw g}if(a.ok?bd({ok:!0,status:a.status}):(a.status>=500||a.status===429)&&bd({ok:!1,status:a.status}),!a.ok){const g=a.headers.get("content-type")||"";let m=`Request failed (${a.status})`,v=null;try{if(g.includes("application/json")){if(v=await a.json(),v&&typeof v=="object"&&"error"in v){const N=v.error;typeof N=="string"&&N.trim().length>0&&(m=N)}}else v=await a.text()}catch(N){v={parseError:N instanceof Error?N.message:String(N)}}m=gu(m),typeof v=="string"?v=gu(v):v&&typeof v=="object"&&qy(v);const w=new Error(m);w.status=a.status,w.details=v;const P=typeof v=="object"&&v!==null?v.code:null;if(a.status===401||a.status===403&&typeof P=="string"&&P.startsWith("TOKEN_")){if(Av(),Pv(),r){const N=typeof P=="string"?P:void 0;gx(N==="TOKEN_REVOKED"?"credentials_used_elsewhere":"auth_revoked",{authCode:N})}w.code="AUTH_REQUIRED",typeof P=="string"&&(w.authCode=P)}else a.status===403&&(w.code="FORBIDDEN");throw w}const u=(a.headers.get("content-disposition")||"").match(/filename=\"?([^\";]+)\"?/i),d=u&&u[1]?u[1]:null;return{blob:await a.blob(),filename:d,contentType:a.headers.get("content-type")||""}},Bo={register:async e=>{const t=await ot(`${Fe}/auth/register`,{method:"POST",body:JSON.stringify({name:e.name,email:e.email,password:e.password,code:e.code,npiNumber:e.npiNumber,phone:e.phone??void 0})});return cy(t?.user?.id),uy(t?.user?.email??e.email),$w(t.token),t.user},verifyNpi:async e=>ot(`${Fe}/auth/verify-npi`,{method:"POST",body:JSON.stringify({npiNumber:e})}),login:async(e,t)=>{const r=await ot(`${Fe}/auth/login`,{method:"POST",body:JSON.stringify({email:e,password:t})});return cy(r?.user?.id),uy(r?.user?.email??e),$w(r.token),r.user},checkEmail:async e=>{const t=await fetch(`${Fe}/auth/check-email?email=${encodeURIComponent(e)}`);if(!t.ok)throw new Error("EMAIL_CHECK_FAILED");return t.json()},logout:()=>{const e=Xp();try{e&&fetch(`${Fe}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:"{}"}).catch(()=>null)}catch{}Av(),Pv()},markOffline:()=>{const e=Xp();if(e)try{fetch(`${Fe}/auth/logout`,{method:"POST",keepalive:!0,headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:"{}"}).catch(()=>null)}catch{}},getCurrentUser:async()=>{try{const e=await ot(`${Fe}/auth/me`,{method:"GET",cache:"no-store"});return cy(e?.id),uy(e?.email),e}catch(e){const t=e,r=typeof t?.status=="number"?t.status:null,n=typeof t?.code=="string"?t.code:null,a=typeof t?.authCode=="string"?t.authCode:null;if(n==="AUTH_REQUIRED"||r===401||r===403&&typeof a=="string"&&a.startsWith("TOKEN_"))return cy(null),uy(null),null;throw e}},updateMe:async e=>ot(`${Fe}/auth/me`,{method:"PUT",body:JSON.stringify(e)}),passkeys:{getRegistrationOptions:async()=>ot(`${Fe}/auth/passkeys/register/options`,{method:"POST"}),completeRegistration:async e=>ot(`${Fe}/auth/passkeys/register/verify`,{method:"POST",body:JSON.stringify(e)}),getAuthenticationOptions:async e=>{const t=await fetch(`${Fe}/auth/passkeys/login/options`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok){const r=await t.text();throw new Error(r||"PASSKEY_OPTIONS_FAILED")}return t.json()},completeAuthentication:async e=>{const t=await fetch(`${Fe}/auth/passkeys/login/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.text();throw new Error(n||"PASSKEY_AUTH_FAILED")}const r=await t.json();return cy(r?.user?.id),uy(r?.user?.email),$w(r.token),r.user}}},Mr={getShopStatus:async()=>ot(`${Fe}/settings/shop`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),getPatientLinksStatus:async()=>ot(`${Fe}/settings/patient-links`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),getForumStatus:async()=>ot(`${Fe}/settings/forum`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),getResearchStatus:async()=>ot(`${Fe}/settings/research`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),getTestPaymentsOverrideStatus:async()=>ot(`${Fe}/settings/test-payments-override`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),updateShopStatus:async e=>ot(`${Fe}/settings/shop`,{method:"PUT",body:JSON.stringify({enabled:e})}),updatePatientLinksStatus:async e=>ot(`${Fe}/settings/patient-links`,{method:"PUT",body:JSON.stringify({enabled:e})}),updateForumStatus:async e=>ot(`${Fe}/settings/forum`,{method:"PUT",body:JSON.stringify({enabled:e})}),updateResearchStatus:async e=>ot(`${Fe}/settings/research`,{method:"PUT",body:JSON.stringify({enabled:e})}),updateTestPaymentsOverrideStatus:async e=>ot(`${Fe}/settings/test-payments-override`,{method:"PUT",body:JSON.stringify({enabled:e})}),getStripeSettings:async()=>ot(`${Fe}/settings/stripe`,{method:"GET"}),updateStripeTestMode:async e=>ot(`${Fe}/settings/stripe`,{method:"PUT",body:JSON.stringify({testMode:e})}),getUserActivity:async e=>{const t=e?`?window=${encodeURIComponent(e)}`:"";return ot(`${Fe}/settings/user-activity${t}`,{method:"GET"})},getUserActivityLongPoll:async(e,t,r=25e3,n)=>{const a=new URLSearchParams;e&&a.set("window",e),t&&a.set("etag",String(t)),r&&Number.isFinite(r)&&a.set("timeoutMs",String(Math.max(1e3,Math.min(r,3e4))));const i=a.toString()?`?${a.toString()}`:"";return ot(`${Fe}/settings/user-activity/longpoll${i}`,{method:"GET",signal:n})},pingPresence:async e=>ot(`${Fe}/settings/presence`,{method:"POST",body:JSON.stringify(e||{})}),getLiveClients:async e=>{const t=new URLSearchParams;e&&t.set("salesRepId",String(e));const r=t.toString()?`?${t.toString()}`:"";return ot(`${Fe}/settings/live-clients${r}`,{method:"GET"})},getLiveClientsLongPoll:async(e,t,r=25e3,n)=>{const a=new URLSearchParams;e&&a.set("salesRepId",String(e)),t&&a.set("etag",String(t)),r&&Number.isFinite(r)&&a.set("timeoutMs",String(Math.max(1e3,Math.min(r,3e4))));const i=a.toString()?`?${a.toString()}`:"";return ot(`${Fe}/settings/live-clients/longpoll${i}`,{method:"GET",signal:n})},getLiveUsers:async()=>ot(`${Fe}/settings/live-users`,{method:"GET"}),getLiveUsersLongPoll:async(e,t=25e3,r)=>{const n=new URLSearchParams;e&&n.set("etag",String(e)),t&&Number.isFinite(t)&&n.set("timeoutMs",String(Math.max(1e3,Math.min(t,3e4))));const a=n.toString()?`?${n.toString()}`:"";return ot(`${Fe}/settings/live-users/longpoll${a}`,{method:"GET",signal:r})},getAdminUserProfile:async e=>{if(!e)throw new Error("userId is required");return ot(`${Fe}/settings/users/${encodeURIComponent(String(e))}`,{method:"GET"})},getSalesRepProfile:async e=>{if(!e)throw new Error("salesRepId is required");return ot(`${Fe}/settings/sales-reps/${encodeURIComponent(String(e))}`,{method:"GET"})},updateUserProfile:async(e,t)=>{if(!e)throw new Error("userId is required");return ot(`${Fe}/settings/users/${encodeURIComponent(String(e))}`,{method:"PATCH",body:JSON.stringify(t)})},getReportSettings:async()=>ot(`${Fe}/settings/reports`,{method:"GET"}),setSalesBySalesRepCsvDownloadedAt:async e=>ot(`${Fe}/settings/reports`,{method:"PUT",body:JSON.stringify({salesBySalesRepCsvDownloadedAt:e})}),setSalesLeadSalesBySalesRepCsvDownloadedAt:async e=>ot(`${Fe}/settings/reports`,{method:"PUT",body:JSON.stringify({salesLeadSalesBySalesRepCsvDownloadedAt:e})}),setTaxesByStateCsvDownloadedAt:async e=>ot(`${Fe}/settings/reports`,{method:"PUT",body:JSON.stringify({taxesByStateCsvDownloadedAt:e})}),setProductsCommissionCsvDownloadedAt:async e=>ot(`${Fe}/settings/reports`,{method:"PUT",body:JSON.stringify({productsCommissionCsvDownloadedAt:e})})},X7={checkImage:async e=>ot(`${Fe}/moderation/image`,{method:"POST",body:JSON.stringify({dataUrl:e.dataUrl,purpose:e.purpose??null})})},fP="peppro_checkout_idempotency_v1",Q7=7200*1e3,Z7=()=>{try{if(typeof crypto<"u"&&"randomUUID"in crypto&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return`${Date.now()}-${Math.random().toString(16).slice(2)}${Math.random().toString(16).slice(2)}`},J7=()=>{try{const e=sessionStorage.getItem(fP);if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"||typeof t.key!="string"||!t.key.trim()||typeof t.fingerprint!="string"||!t.fingerprint.trim()||typeof t.createdAt!="number"||!Number.isFinite(t.createdAt)?null:{key:t.key,fingerprint:t.fingerprint,createdAt:t.createdAt}}catch{return null}},eU=e=>{try{sessionStorage.setItem(fP,JSON.stringify(e))}catch{}},tU=()=>{try{sessionStorage.removeItem(fP)}catch{}},rU=e=>{const t=Array.isArray(e.items)?e.items.map((l,u)=>({productId:l?.productId??l?.id??l?.sku??`item-${u}`,variationId:l?.variationId??l?.variantId??l?.variation?.id??null,quantity:Number(l?.quantity)||0,price:Number(l?.price)||0})).sort((l,u)=>`${l.productId}:${l.variationId??""}`.localeCompare(`${u.productId}:${u.variationId??""}`)):[],r=e.shipping?.address||null,n=r?.postalCode||r?.postcode||null,a=r?.country||null,i=r?.state||null;return JSON.stringify({items:t,total:Number(e.total)||0,referralCode:e.referralCode||null,discountCode:e.discountCode||null,paymentMethod:e.paymentMethod||null,taxTotal:typeof e.taxTotal=="number"?e.taxTotal:null,shipping:{postalCode:n,country:a,state:i,shippingTotal:e.shipping?.shippingTotal??null}})},zL={preview:async(e,t,r,n)=>ot(`${Fe}/discount-codes/preview`,{method:"POST",body:JSON.stringify({code:e,itemsSubtotal:typeof t=="number"?t:0,cartQuantity:typeof r=="number"?r:0,items:Array.isArray(n)?n:void 0})})},nU=e=>{const t=Date.now(),r=J7();if(r&&r.fingerprint===e&&t-r.createdAt<Q7)return r.key;const n=Z7();return eU({key:n,fingerprint:e,createdAt:t}),n},ti={create:async(e,t,r,n,a,i,l,u,d,f)=>{const g=rU({items:e,total:t,referralCode:r,discountCode:n,shipping:a,paymentMethod:d,taxTotal:u}),m=nU(g),v=await ot(`${Fe}/orders/`,{method:"POST",headers:{"Idempotency-Key":m},body:JSON.stringify({items:e,total:t,referralCode:r,discountCode:n??null,pricingMode:f??null,paymentMethod:d??null,shippingAddress:a?.address,shippingEstimate:a?.estimate,shippingTotal:a?.shippingTotal??null,expectedShipmentWindow:i??null,physicianCertification:l?.physicianCertification===!0,taxTotal:typeof u=="number"?u:null})});return v&&typeof v=="object"&&v.success===!0&&tU(),v},estimateTotals:async(e,t)=>ot(`${Fe}/orders/estimate`,{method:"POST",body:JSON.stringify(e),signal:t?.signal}),cancelOrder:async(e,t)=>{if(!e)throw new Error("Order ID is required to cancel an order");return ot(`${Fe}/orders/${encodeURIComponent(e)}/cancel`,{method:"POST",body:JSON.stringify({reason:t||"Payment confirmation failed"})})},getAll:async e=>{const t=new URLSearchParams;e?.includeCanceled&&t.set("includeCanceled","true"),e?.force&&t.set("force","true");const r=t.toString(),n=r?`${Fe}/orders/?${r}`:`${Fe}/orders/`;return ot(n)},getForSalesRep:async e=>{const t=new URLSearchParams;e?.salesRepId&&t.set("salesRepId",e.salesRepId),e?.scope&&t.set("scope",e.scope),t.set("includeDoctors","true");const r=t.toString(),n=r?`${Fe}/orders/sales-rep?${r}`:`${Fe}/orders/sales-rep`;return ot(n)},getSalesByRepForAdmin:async e=>{const t=new URLSearchParams;e?.periodStart&&t.set("periodStart",e.periodStart),e?.periodEnd&&t.set("periodEnd",e.periodEnd),e?.force&&t.set("force","true");const r=t.toString(),n=r?`${Fe}/orders/sales-rep-summary?${r}`:`${Fe}/orders/sales-rep-summary`;return ot(n)},getTaxesByStateForAdmin:async e=>{const t=new URLSearchParams;e?.periodStart&&t.set("periodStart",e.periodStart),e?.periodEnd&&t.set("periodEnd",e.periodEnd);const r=t.toString(),n=r?`${Fe}/orders/admin/taxes-by-state?${r}`:`${Fe}/orders/admin/taxes-by-state`;return ot(n)},getProductSalesCommissionForAdmin:async e=>{const t=new URLSearchParams;e?.periodStart&&t.set("periodStart",e.periodStart),e?.periodEnd&&t.set("periodEnd",e.periodEnd),e?.debug&&t.set("debug","true");const r=t.toString(),n=r?`${Fe}/orders/admin/product-sales-commission?${r}`:`${Fe}/orders/admin/product-sales-commission`;return ot(n)},getAdminOrdersForUser:async e=>{if(!e)throw new Error("userId is required");return ot(`${Fe}/orders/admin/users/${encodeURIComponent(String(e))}`,{method:"GET"})},getSalesRepOrderDetail:async(e,t)=>{if(!e)throw new Error("orderId is required");const r=new URLSearchParams;if(t){const i=typeof t=="string"&&t.includes("@");i?r.set("doctorEmail",t):r.set("doctorId",String(t)),i?r.set("doctorId",String(t)):r.set("doctorEmail",String(t))}const n=r.toString(),a=n?`${Fe}/orders/sales-rep/${encodeURIComponent(e)}?${n}`:`${Fe}/orders/sales-rep/${encodeURIComponent(e)}`;return ot(a)},updateOrderNotes:async(e,t)=>{if(!e)throw new Error("orderId is required");return ot(`${Fe}/orders/${encodeURIComponent(String(e))}/notes`,{method:"PATCH",body:JSON.stringify({notes:t})})},updateOrderFields:async(e,t)=>{if(!e)throw new Error("orderId is required");return ot(`${Fe}/orders/${encodeURIComponent(String(e))}`,{method:"PATCH",body:JSON.stringify(t||{})})},downloadInvoice:async e=>{if(!e)throw new Error("orderId is required");return ob(`${Fe}/orders/${encodeURIComponent(String(e))}/invoice`,{method:"GET",cache:"no-store"})}},Ch={resolve:async e=>{const t=typeof e=="string"?e.trim():"";if(!t)throw new Error("token is required");const r=new URLSearchParams({token:t});return ot(`${Fe}/delegation/resolve?${r.toString()}`,{method:"GET"})},listLinks:async()=>ot(`${Fe}/delegation/links`,{method:"GET"}),createLink:async e=>ot(`${Fe}/delegation/links`,{method:"POST",body:JSON.stringify(e||{})}),updateLink:async(e,t)=>{const r=typeof e=="string"?e.trim():"";if(!r)throw new Error("token is required");return ot(`${Fe}/delegation/links/${encodeURIComponent(r)}`,{method:"PATCH",body:JSON.stringify(t||{})})},updateConfig:async e=>ot(`${Fe}/delegation/config`,{method:"PATCH",body:JSON.stringify(e||{})}),getLinkProposal:async e=>{const t=typeof e=="string"?e.trim():"";if(!t)throw new Error("token is required");return ot(`${Fe}/delegation/links/${encodeURIComponent(t)}/proposal`,{method:"GET"})},reviewLinkProposal:async(e,t)=>{const r=typeof e=="string"?e.trim():"";if(!r)throw new Error("token is required");return ot(`${Fe}/delegation/links/${encodeURIComponent(r)}/proposal/review`,{method:"POST",body:JSON.stringify(t||{})})},estimateDelegateTotals:async(e,t)=>ot(`${Fe}/orders/delegate/estimate`,{method:"POST",body:JSON.stringify(e),signal:t?.signal}),shareDelegateOrder:async e=>ot(`${Fe}/orders/delegate/share`,{method:"POST",body:JSON.stringify(e)})},WL={getStatus:async(e,t)=>{const r=typeof e=="string"?e.trim():"";if(!r)throw new Error("trackingNumber is required");const n=new URLSearchParams;t?.carrier&&n.set("carrier",t.carrier);const a=n.toString(),i=a?`${Fe}/tracking/status/${encodeURIComponent(r)}?${a}`:`${Fe}/tracking/status/${encodeURIComponent(r)}`;return ot(i,{method:"GET",cache:"no-store"})}},$p={listCertificateProducts:async()=>ot(`${Fe}/woo/certificates/products`,{method:"GET",cache:"no-store"}),listMissingCertificates:async()=>ot(`${Fe}/woo/certificates/missing`,{method:"GET",cache:"no-store"}),getProduct:async e=>{if(!e)throw new Error("productId is required");return ot(`${Fe}/woo/products/${encodeURIComponent(String(e))}`,{method:"GET",cache:"force-cache",headers:{"Cache-Control":"public, max-age=300",Pragma:""}})},getProductVariation:async(e,t)=>{if(!e)throw new Error("productId is required");if(!t)throw new Error("variationId is required");return ot(`${Fe}/woo/products/${encodeURIComponent(String(e))}/variations/${encodeURIComponent(String(t))}`,{method:"GET",cache:"force-cache",headers:{"Cache-Control":"public, max-age=300",Pragma:""}})},getCertificateOfAnalysis:async e=>{if(!e)throw new Error("productId is required");if(!Xp()&&typeof window<"u"){const r=new URLSearchParams(window.location.search).get("delegate"),n=r&&r.trim()?r.trim():"";if(n){const a=new URLSearchParams({token:n});return ob(`${Fe}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis/delegate?${a.toString()}`,{method:"GET",cache:"no-store"})}}return ob(`${Fe}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis`,{method:"GET",cache:"no-store"})},getCertificateOfAnalysisInfo:async e=>{if(!e)throw new Error("productId is required");return ot(`${Fe}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis/info`,{method:"GET",cache:"no-store"})},uploadCertificateOfAnalysis:async(e,t)=>{if(!e)throw new Error("productId is required");const r=`${Fe}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis`;if("file"in t){const n=new FormData;return n.append("file",t.file,t.filename||t.file.name||"certificate-of-analysis"),UL(r,{method:"POST",body:n})}if(!t?.dataUrl)throw new Error("dataUrl is required");return ot(r,{method:"POST",body:JSON.stringify({data:t.dataUrl,filename:t.filename})})},deleteCertificateOfAnalysis:async e=>{if(!e)throw new Error("productId is required");return ot(`${Fe}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis`,{method:"DELETE"})}},HL={getRates:async e=>ot(`${Fe}/shipping/rates`,{method:"POST",body:JSON.stringify(e)})},aU={confirmStripeIntent:async e=>ot(`${Fe}/payments/stripe/confirm`,{method:"POST",body:JSON.stringify({paymentIntentId:e})})},ja={submitDoctorReferral:async e=>ot(`${Fe}/referrals/doctor/referrals`,{method:"POST",body:JSON.stringify(e)}),getDoctorSummary:async()=>ot(`${Fe}/referrals/doctor/summary`),getDoctorLedger:async()=>ot(`${Fe}/referrals/doctor/ledger`),getSalesRepDashboard:async e=>{const t=new URLSearchParams;e?.salesRepId&&t.set("salesRepId",e.salesRepId),e?.scope&&t.set("scope",e.scope),e?.context&&t.set("context",e.context);const r=t.toString(),n=r?`${Fe}/referrals/dashboard?${r}`:`${Fe}/referrals/dashboard`;return ot(n)},getSalesRepById:async e=>{if(!e)throw new Error("salesRepId is required");return ot(`${Fe}/referrals/sales-reps/${encodeURIComponent(String(e))}`,{method:"GET"})},createReferralCode:async e=>ot(`${Fe}/referrals/admin/referrals/code`,{method:"POST",body:JSON.stringify({referralId:e})}),updateCodeStatus:async(e,t)=>ot(`${Fe}/referrals/admin/codes/${e}`,{method:"PATCH",body:JSON.stringify({status:t})}),updateReferral:async(e,t)=>ot(`${Fe}/referrals/admin/referrals/${e}`,{method:"PATCH",body:JSON.stringify(t)}),getSalesProspect:async e=>ot(`${Fe}/referrals/sales-prospects/${encodeURIComponent(e)}`),upsertSalesProspect:async(e,t)=>ot(`${Fe}/referrals/sales-prospects/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),uploadResellerPermit:async(e,t)=>{const r=new FormData;return r.append("file",t),UL(`${Fe}/referrals/sales-prospects/${encodeURIComponent(e)}/reseller-permit`,{method:"POST",body:r})},downloadResellerPermit:async e=>ob(`${Fe}/referrals/sales-prospects/${encodeURIComponent(e)}/reseller-permit`,{method:"GET"}),deleteResellerPermit:async e=>ot(`${Fe}/referrals/sales-prospects/${encodeURIComponent(e)}/reseller-permit`,{method:"DELETE"}),createManualProspect:async e=>ot(`${Fe}/referrals/admin/manual`,{method:"POST",body:JSON.stringify(e)}),deleteManualProspect:async e=>ot(`${Fe}/referrals/admin/manual/${e}`,{method:"DELETE"}),deleteDoctorReferral:async e=>{try{return await ot(`${Fe}/referrals/doctor/referrals/${e}`,{method:"DELETE"})}catch(t){if(t?.status===404)return{deleted:!0};throw t}},getReferralCodes:async()=>ot(`${Fe}/referrals/admin/codes`),addManualCredit:async e=>ot(`${Fe}/referrals/admin/credits`,{method:"POST",body:JSON.stringify(e)})},Ip=async()=>{try{return(await fetch(`${Fe}/health`)).ok}catch{return!1}},g_={getPeptideHeadlines:async()=>{const e=Date.now(),t=await fetch(`${Fe}/news/peptides?_ts=${e}`,{headers:{Accept:"application/json"},credentials:"include"});if(!t.ok){if(t.status===404)return{items:[],count:0};throw new Error(`Failed to fetch peptide news (${t.status})`)}return t.json()}},VL={getQuoteOfTheDay:async()=>{const e=await fetch(`${Fe}/quotes/daily`,{headers:{Accept:"application/json"},credentials:"include"});if(!e.ok)throw new Error(`Failed to fetch quote (${e.status})`);return e.json()}},GL={listPeptideForum:async()=>{const e=await fetch(`${Fe}/forum/the-peptide-forum?_ts=${Date.now()}`,{headers:{Accept:"application/json"},credentials:"include"});if(!e.ok){const t=await e.text().catch(()=>"");throw new Error(t||`Forum request failed (${e.status})`)}return e.json()}},y_={request:async e=>ot(`${Fe}/password-reset/request`,{method:"POST",body:JSON.stringify({email:e})}),reset:async(e,t)=>ot(`${Fe}/password-reset/reset`,{method:"POST",body:JSON.stringify({token:e,password:t})})},sU={getAll:async()=>ot(`${Fe}/contact`)},KL={post:async(e,t)=>{const r=Xp(),n=e.startsWith("http://")||e.startsWith("https://")?e:`${Fe}${e.startsWith("/")?e:`/${e}`}`,a={"Content-Type":"application/json"};return r&&(a.Authorization=`Bearer ${r}`),fetch(n,{method:"POST",headers:a,body:JSON.stringify(t??{})})}},$o=Object.freeze(Object.defineProperty({__proto__:null,API_BASE_URL:Fe,api:KL,authAPI:Bo,checkServerHealth:Ip,contactFormsAPI:sU,delegationAPI:Ch,discountCodesAPI:zL,forumAPI:GL,moderationAPI:X7,newsAPI:g_,ordersAPI:ti,passwordResetAPI:y_,paymentsAPI:aU,quotesAPI:VL,referralAPI:ja,settingsAPI:Mr,shippingAPI:HL,trackingAPI:WL,wooAPI:$p},Symbol.toStringTag,{value:"Module"})),iU={},oU=String(iU?.VITE_PROXY_WOO_MEDIA||"").toLowerCase()!=="false",lU=Fe.replace(/\/+$/,""),lb=e=>e?oU?`${lU}/woo/media?src=${encodeURIComponent(e)}`:e:null,U2="__peppro_tab_id__",cU=e=>{try{return window.sessionStorage.getItem(e)}catch{return null}},uU=(e,t)=>{try{window.sessionStorage.setItem(e,t)}catch{}},YL=e=>{try{return window.localStorage.getItem(e)}catch{return null}},dU=(e,t)=>{try{window.localStorage.setItem(e,t)}catch{}},fU=e=>{try{window.localStorage.removeItem(e)}catch{}},pU=()=>`tab_${typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Math.random().toString(16).slice(2)}${Date.now().toString(16)}`}`,pP=()=>{if(typeof window>"u")return"server";const e=cU(U2);if(e)return e;const t=pU();return uU(U2,t),t},XL=e=>`peppro:lock:${e}`,au=(e,t)=>{if(typeof window>"u")return!0;const r=Math.max(5e3,Number.isFinite(t)?t:15e3),n=XL(e),a=pP(),i=Date.now();let l=null;const u=YL(n);if(u)try{l=JSON.parse(u)}catch{l=null}if(!l||typeof l.expiresAt!="number"||l.expiresAt<=i||!l.tabId||l?.tabId===a){const f={tabId:a,expiresAt:i+r,updatedAt:i};return dU(n,JSON.stringify(f)),!0}return!1},Sl=e=>{if(typeof window>"u")return;const t=XL(e),r=pP(),n=YL(t);if(n)try{JSON.parse(n)?.tabId===r&&fU(t)}catch{}},kv=e=>(e||"").toLowerCase(),z2=e=>kv(e)==="admin",W2=e=>{const t=kv(e);return t!=="admin"&&(t==="sales_lead"||t==="saleslead"||t==="sales-lead")},H2=e=>{const t=kv(e);return t!=="admin"&&(t==="sales_rep"||t==="rep"||t==="sales_lead"||t==="saleslead"||t==="sales-lead")},V2=e=>{const t=kv(e);return t==="doctor"||t==="test_doctor"},Fw=[{value:"none",label:"-"},{value:"zelle",label:"Zelle"}],lc=(e,t)=>{if(e!=="zelle")return"";const r=typeof t=="string"?t.trim():"";return r?`Please send payment to ${r}.`:"Reach out to your doctor for Zelle payment details."},vh=e=>{const t=typeof e=="string"?e.trim().toLowerCase():"";return t==="zelle"||t==="zelle_ach"||t==="zelle/ach"||t==="zelle-ach"||t==="zelleach"?"zelle":"none"},mU=({activeBars:e})=>{const t=Math.max(0,Math.min(e,3)),r="rgb(30, 41, 59)",n="rgb(203, 213, 225)",a=[{x:2,y:9,w:4,h:4},{x:8,y:6,w:4,h:7},{x:14,y:3,w:4,h:10}];return s.jsx("svg",{width:"22",height:"14",viewBox:"0 0 20 14",fill:"none","aria-hidden":"true",children:a.map((i,l)=>{const u=l<t;return s.jsx("rect",{x:i.x,y:i.y,width:i.w,height:i.h,rx:"1",fill:u?r:n},l)})})},hU=(e,t)=>{const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,n.rel="noopener noreferrer",document.body.appendChild(n),n.click(),n.remove(),window.setTimeout(()=>URL.revokeObjectURL(r),1500)},gU=(e,t)=>{const r=t?.maxSize,n=t?.quality;return new Promise((i,l)=>{const u=new Image;u.onload=()=>i(u),u.onerror=l,u.src=URL.createObjectURL(e)}).then(i=>{const{naturalWidth:l,naturalHeight:u,src:d}=i,f=Math.min(1,r/Math.max(l,u)),g=Math.max(1,Math.round(l*f)),m=Math.max(1,Math.round(u*f)),v=document.createElement("canvas");v.width=g,v.height=m;const w=v.getContext("2d");if(!w)throw URL.revokeObjectURL(d),new Error("Unable to get canvas context");w.drawImage(i,0,0,g,m);const P=v.toDataURL("image/jpeg",n);return URL.revokeObjectURL(d),P})},G2=e=>{if(!e)return"Pending";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"})},Bw=e=>{if(!e)return null;const t=new Date(e);if(Number.isNaN(t.getTime()))return e;const r=t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),n=t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});return`${r} @ ${n}`},Fo=(e,t="USD")=>{if(e==null||Number.isNaN(e))return"";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}catch{return`$${e.toFixed(2)}`}},jr=(e,t=0)=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const r=parseFloat(e);return Number.isNaN(r)?t:r}return t},QL=e=>{if(!e)return null;const t=e.replace(/[_-]+/g," ").trim();return t?t.replace(/\b\w/g,r=>r.toUpperCase()):null},yU=e=>{if(!e)return"PP";const t=new Set(["mr","mrs","ms","miss","mx","dr","doctor","prof","prof.","sir","madam"]),r=new Set(["jr","sr","ii","iii","iv","v"]),n=e.split(/\s+/).map(u=>u.replace(/[.,]/g,"").trim()).filter(Boolean),a=n.filter((u,d)=>{const f=u.toLowerCase();return!(t.has(f)||d===n.length-1&&r.has(f))});if(a.length===0)return"PP";const i=a[0]?.[0]||"",l=a.length>1&&a[a.length-1]?.[0]||"";return(i+l).toUpperCase()||"PP"},Ts=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},vU=(e,t)=>{if(!e)return null;const r=(t||"").toLowerCase(),n=encodeURIComponent(e);return r.includes("ups")?`https://www.ups.com/track?loc=en_US&tracknum=${n}`:r.includes("usps")?`https://tools.usps.com/go/TrackConfirmAction?tLabels=${n}`:r.includes("fedex")?`https://www.fedex.com/fedextrack/?trknbr=${n}`:r.includes("dhl")?`https://www.dhl.com/en/express/tracking.html?AWB=${n}`:`https://www.google.com/search?q=${n}`},dy=e=>{if(!e)return null;const t=e?.number||e?.id||e?.wooOrderNumber||e?.orderNumber||"unknown";let r=null;const n=e?.trackingNumber||e?.tracking_number||e?.tracking||null;if(n&&(r=String(n)),!r){const a=Ts(e.integrationDetails||e.integrations),i=Ts(a?.shipStation||a?.shipstation),l=i?.trackingNumber||i?.tracking_number||i?.tracking||null;if(l&&(r=String(l)),!r){const u=i?.shipments||i?.shipment||i?.data?.shipments||[];if(Array.isArray(u)){const d=v=>v?.trackingNumber||v?.tracking_number||v?.tracking||null,f=u.find(v=>v&&v.voided===!1&&d(v)),g=u.find(v=>v&&d(v)),m=f||g;m&&(r=String(d(m)))}}}return r?(console.info("[Tracking] Resolved tracking number",{order:t,tracking:r}),r):null},bU=["processing","completed","complete","shipped","in-transit","in_transit","out-for-delivery","out_for_delivery","delivered","fulfilled"],K2=e=>{if(!e)return!1;const t=e.toLowerCase();return bU.some(r=>t.includes(r))},Y2=e=>{const t=e.shippingEstimate;if(!t)return null;if(t.estimatedArrivalDate){const r=new Date(t.estimatedArrivalDate);if(!Number.isNaN(r.getTime()))return r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}if(t.deliveryDateGuaranteed){const r=new Date(t.deliveryDateGuaranteed);if(!Number.isNaN(r.getTime()))return r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}if(t.estimatedDeliveryDays&&Number.isFinite(t.estimatedDeliveryDays)){const r=e.createdAt?new Date(e.createdAt):new Date;if(!Number.isNaN(r.getTime())){const n=new Date(r.getTime());return n.setDate(n.getDate()+Number(t.estimatedDeliveryDays)),n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}return null},xU=e=>e&&QL(e.serviceType||e.serviceCode)||null,X2=new Set(["pending","on-hold","on_hold"]),fy=e=>{if(!e)return null;if(typeof e=="string")try{return JSON.parse(e)}catch{return null}return typeof e=="object"?e:null},Q2=e=>{if(!e)return null;const t=e.first_name||"",r=e.last_name||"";return{name:[t,r].filter(Boolean).join(" ").trim()||e.name||null,company:e.company||null,addressLine1:e.address_1||e.addressLine1||null,addressLine2:e.address_2||e.addressLine2||null,city:e.city||null,state:e.state||null,postalCode:e.postcode||e.postal_code||e.postalCode||null,country:e.country||null,phone:e.phone||null,email:e.email||null}},Z2=e=>{if(!e)return s.jsx("p",{className:"text-sm text-slate-500",children:"No address available."});const t=[],r=a=>{if(typeof a!="string")return;const i=a.trim();i&&t.push({key:i,node:i})};r(e.name||null),r(e.company||null),r([e.addressLine1,e.addressLine2].filter(Boolean).join(" ").trim()||null),r([e.city,e.state,e.postalCode].filter(Boolean).join(", ").replace(/, ,/g,", ").replace(/^,/,"").trim()||null),r(e.country||null),r(e.phone?`Phone: ${e.phone}`:null);const n=typeof e.email=="string"?e.email.trim():"";return n&&t.push({key:`email-${n}`,node:s.jsxs(s.Fragment,{children:["Email: ",s.jsx("a",{href:`mailto:${n}`,children:n})]})}),t.length?s.jsx("div",{className:"text-sm text-slate-700 space-y-1 text-left",children:t.map((a,i)=>s.jsx("p",{children:a.node},`${a.key}-${i}`))}):s.jsx("p",{className:"text-sm text-slate-500",children:"No address available."})},J2=e=>{const t=e.trim();if(!t)return t;const[r,n=""]=t.split("?"),a=r.match(/^(.*)-(\d{2,4})x(\d{2,4})(\.[a-zA-Z0-9]+)$/);if(!a)return t;const i=`${a[1]}${a[4]}`;return n?`${i}?${n}`:i},uc=e=>{if(typeof e=="string"&&e.trim().length>0)return lb(J2(e));if(e&&typeof e=="object"){const t=e.src||e.url||e.href||e.source;if(typeof t=="string"&&t.trim().length>0)return lb(J2(t))}return null},ou=e=>{if(e==null)return null;if(typeof e=="number"&&Number.isFinite(e))return String(e);if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},wU=(e,t=[])=>{if(!Array.isArray(t)||t.length===0)return null;const r=e.sku?.trim(),n=e.name?.trim().toLowerCase(),a=ou(e.productId)||ou(e?.product_id),i=ou(e.variantId)||ou(e?.variation_id);return t.find(l=>{if(!l)return!1;const u=typeof l.sku=="string"?l.sku.trim():null;if(r&&u&&r===u)return!0;const d=ou(l.product_id);if(a&&d&&a===d)return!0;const f=ou(l.variation_id);if(i&&f&&i===f)return!0;const g=typeof l.name=="string"?l.name.trim().toLowerCase():null;return!!(n&&g&&n===g)})},qw=(e,t=[])=>{const r=uc(e?.image)||uc(e?.imageUrl)||uc(e?.thumbnail);if(r)return r;const n=wU(e,t);if(!n)return null;const a=uc(n?.image)||uc(n?.product_image)||uc(n?.image_url);if(a)return a;const i=Array.isArray(n?.meta_data)?n.meta_data:[];for(const l of i){const u=uc(l?.value);if(u)return u;if(typeof l?.value=="string"&&l.value.trim().length>0)return l.value.trim()}return null},ZL=e=>e?e.trim().toLowerCase()==="trash"?"Canceled":e.split(/[_\s]+/).map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "):"Pending",nu=e=>{if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},JL=e=>{const t=String(e||"").trim().toLowerCase();return t==="refunded"||t==="cancelled"||t==="canceled"||t==="trash"},SU=e=>{if(!e)return null;const r=(e.status?String(e.status):"").trim(),n=r.toLowerCase(),a=e.integrationDetails?.carrierTracking||e.integrationDetails?.carrier_tracking||null,i=a?.trackingStatusRaw||a?.trackingStatus||a?.tracking_status||a?.status||a?.deliveryStatus||a?.delivery_status||null,l=i?String(i).trim():"",u=l.toLowerCase(),d=u.includes("in_transit")||u.includes("in-transit")||u.includes("out_for_delivery")||u.includes("out-for-delivery")||u.includes("delivered");if(l&&d)return l;if(JL(r)||n==="completed"||n==="complete"||n==="processing"||n==="pending"||n==="on-hold"||n==="on_hold"||n==="failed")return r.length>0?r:null;const f=e.shippingEstimate?.status||i||e.integrationDetails?.shipStation?.status,g=f?String(f).trim():"",m=g.toLowerCase(),v=m.includes("in_transit")||m.includes("in-transit")||m.includes("out_for_delivery")||m.includes("out-for-delivery")||m.includes("delivered")||m.includes("awaiting_shipment")||m.includes("awaiting shipment")||m.includes("shipped");return g&&v?g:r.length>0?r:null},ek=e=>{const t=SU(e),n=(t?String(t):"").trim().toLowerCase();if(n==="trash"||n==="canceled"||n==="cancelled")return"Canceled";if(n==="refunded")return"Refunded";const a=typeof e?.trackingNumber=="string"?e.trackingNumber.trim():"",i=e?.shippingEstimate?.estimatedArrivalDate||null,l=typeof i=="string"&&i.trim().length>0;return n==="shipped"?a&&!l?"Processing":"Shipped":n.includes("out_for_delivery")||n.includes("out-for-delivery")?"Out for Delivery":n.includes("in_transit")||n.includes("in-transit")?"In Transit":n.includes("delivered")?"Delivered":a&&!l?"Processing":a&&l?"Shipped":n==="processing"?"Processing":n==="completed"||n==="complete"?"Completed":n==="awaiting_shipment"||n==="awaiting shipment"?"Order Received":t?ZL(t):"Pending"},NU=e=>{if(!e)return"Updated a few moments ago";const t=new Date(e),r=Date.now(),n=t.getTime();if(Number.isNaN(n))return`Updated ${e}`;const a=Math.max(0,r-n);if(a<9e4)return"Updated a few moments ago";const i=Math.floor(a/1e3),l=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let u=i;const d=[];for(const f of l){const g=Math.floor(u/f.seconds);if(g>0&&(d.push(`${g}${f.label}`),u-=g*f.seconds),d.length>=2)break}return d.length?`Updated ${d.join(" ")} ago`:"Updated a few moments ago"};function tk({user:e,delegateMode:t=!1,delegateLogoUrl:r=null,delegateDoctorName:n=null,researchDashboardEnabled:a=!1,patientLinksEnabled:i=!1,onLogin:l,onLogout:u,cartItems:d,onSearch:f,onCreateAccount:g,onCartClick:m,loginPromptToken:v,loginContext:w=null,showCartIconFallback:P=!1,onShowInfo:_,onUserUpdated:N,accountOrders:E=[],accountOrdersLoading:D=!1,accountOrdersError:L=null,ordersLastSyncedAt:$,onRefreshOrders:R,accountModalRequest:M=null,onAccountModalRequestHandled:F,suppressAccountHomeButton:V=!1,showCanceledOrders:Y=!1,onToggleShowCanceled:ue,onBuyOrderAgain:te,onCancelOrder:le,referralCodes:fe=[],catalogLoading:me=!1,onLoadDelegateProposal:ie}){const J="rgb(95, 179, 249)",ne="rgba(95, 179, 249, 0.18)",[G,ve]=y.useState(!1),[Se,X]=y.useState(""),[pe,re]=y.useState(""),[xe,Re]=y.useState("login"),[Le,Ke]=y.useState(""),[Ve,Te]=y.useState(""),[st,lt]=y.useState(""),[Me,Rt]=y.useState(""),[At,Vt]=y.useState(""),[tr,Nt]=y.useState(""),et=y.useRef(null),[Ie,mt]=y.useState(""),[Tt,ht]=y.useState(""),[gt,Nr]=y.useState(!1),[Jt,Ca]=y.useState("details"),[dn,Wa]=y.useState(!1),[Wn,Pa]=y.useState(null),[kr,Aa]=y.useState([]),Xo=y.useRef(!1),Ls=y.useRef(!1),[$s,Fs]=y.useState("0"),[ns,sn]=y.useState(""),[ka,Bi]=y.useState(""),[fn,ma]=y.useState("zelle"),[br,Et]=y.useState(""),[_r,hr]=y.useState(!1),[Lr,Ha]=y.useState(null),[Cr,ur]=y.useState(null),[pn,Vr]=y.useState({}),[mn,Hn]=y.useState({}),[$r,si]=y.useState(!1),[Ns,Bs]=y.useState(!1),[qi,aa]=y.useState(null),[$n,qs]=y.useState(!1),[Rn,Qo]=y.useState(!1),as=y.useRef(null),[sa,js]=y.useState(!1),[uo,Ea]=y.useState(!1),[ss,sr]=y.useState(!1),[hn,Tn]=y.useState(!1),[_s,Oa]=y.useState(!1),[fo,Zo]=y.useState(!1),[Ni,ia]=y.useState(0),[Ui,Fn]=y.useState(250),Vn=y.useRef(0),Cs=y.useRef([]),ii=y.useRef(null),po=y.useRef(!1),ji=y.useRef(!1),Va=y.useRef(null),[Us,Ol]=y.useState({orderId:"",email:""}),[Sc,Jo]=y.useState(!1),[Nc,zs]=y.useState(null),Ps=y.useRef(null),[_i,Rl]=y.useState("fair"),[ce,tt]=y.useState({downloadMbps:null,uploadMbps:null,latencyMs:null,measuredAt:null}),[Be,xt]=y.useState(e),Bt=y.useRef(null),[Xt,gr]=y.useState(""),[Fr,oa]=y.useState(!1),Ur=y.useRef(null),[$e,xr]=y.useState(null),ha=y.useRef(new Map),[rr,Ra]=y.useState(Array.isArray(E)?E:[]),zi=y.useRef(Array.isArray(E)?E:[]),[Ta,mo]=y.useState(null),[Uf,zf]=y.useState({}),Cu=y.useRef({}),Tl=y.useRef(new Set),fm=y.useRef({active:0,queue:[]}),ho=y.useRef(null),la=y.useRef(null),oi=y.useRef(null),li=Jt==="research"&&$r,jc=y.useCallback(()=>{oi.current!==null&&(clearTimeout(oi.current),oi.current=null)},[]),Il=y.useCallback((B=!1)=>{if(jc(),Bs(!1),B){si(!1),aa(null);return}oi.current=window.setTimeout(()=>{si(!1),aa(null),oi.current=null},320)},[jc]),Od=y.useCallback(()=>{jc();const B=ho.current,Q=la.current;if(B&&Q){const oe=B.getBoundingClientRect(),be=Q.getBoundingClientRect();aa({top:oe.top-be.top,left:oe.left-be.left,width:oe.width,height:oe.height})}else aa(null);Bs(!1),si(!0),requestAnimationFrame(()=>Bs(!0))},[jc]),go=y.useCallback(()=>{if($r){Il();return}Od()},[Il,Od,$r]);y.useEffect(()=>{Jt!=="research"&&Il(!0)},[Jt,Il]),y.useEffect(()=>{gt||Il(!0)},[gt,Il]),y.useEffect(()=>()=>jc(),[jc]),y.useEffect(()=>{if(typeof document>"u")return;const B="account-modal-open";return document.body.classList.toggle(B,gt),()=>{document.body.classList.remove(B)}},[gt]);const _c=y.useRef(null),el=y.useRef(null),is=y.useRef(null),Pu=y.useRef(""),Ci=y.useRef({}),Ws=y.useRef(null),[yo,Au]=y.useState(!1),[Cc,ga]=y.useState(0),[tl,Pc]=y.useState(!1),Ml=y.useRef(!1),Wf=y.useRef(null);y.useEffect(()=>{const B={offline:0,poor:1,fair:2,good:3};let Q=!0;const oe={current:null},be={current:null},Ee={current:0},we={current:0},Qe={current:null},Ot={current:null},It={current:"fair"},Zt={current:0},Pr={current:0},on={current:0},Xr={current:0},In={current:null};let gn=null,Cn=null,Xn=null,Qn=null,Qr=null,ya=0,cs=0;const ks=Lt=>{if(!Lt)return"";const zt=Lt?.message;if(typeof zt=="string")return zt;try{return String(Lt)}catch{return""}},Zr=Lt=>{const zt=ks(Lt).toLowerCase();return zt?zt.includes("appears to be offline")||zt.includes("internet connection")||zt.includes("not connected to the internet")||zt.includes("network request failed")||zt.includes("failed to fetch")||zt.includes("load failed")||zt.includes("offline"):!1},ln=()=>{Xr.current=Date.now(),on.current=0,Pr.current=0},Er=()=>on.current<2?!1:Xr.current?Date.now()-Xr.current>9e3:!0,Bn=Lt=>{let zt=null;for(const or of Lt)or&&(!zt||B[or]<B[zt])&&(zt=or);return zt??"fair"},La=()=>{const Lt=(()=>{if(oe.current==="offline"||be.current==="offline")return"offline";const zt=!!Ot.current;return Bn(zt?[oe.current,be.current,Qe.current,Ot.current]:[oe.current,be.current,Qe.current])})();It.current=Lt,Q&&Rl(Lt)},Zn=Lt=>{const zt=typeof Lt.at=="number"?Lt.at:Date.now();if(Lt.ok){Ee.current=zt,we.current=0,be.current=null,La();return}we.current+=1;const or=typeof Lt.status=="number"?Lt.status:null,cn=typeof Lt.message=="string"?Lt.message.toLowerCase():"";if(!(or===429||or===500||or===502||or===503||or===504||cn.includes("failed to fetch")||cn.includes("load failed")))return;const Pn=Ee.current>0&&zt-Ee.current<9e3;be.current=we.current>=2&&!Pn?"offline":"poor",La()},$a=()=>{if(typeof navigator>"u")return null;if(navigator.onLine===!1)return"offline";const Lt=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!Lt)return null;const zt=String(Lt.effectiveType||"").toLowerCase(),or=typeof Lt.downlink=="number"?Lt.downlink:null,cn=typeof Lt.rtt=="number"?Lt.rtt:null;if(!!Lt.saveData||zt==="slow-2g"||zt==="2g")return"poor";if(zt==="3g")return"fair";if(zt==="4g")return"good";if(typeof or=="number"&&or>0){if(or<1)return"poor";if(or<2)return"fair";if(or>=8)return"good"}if(typeof cn=="number"){if(cn>900)return"poor";if(cn>450)return"fair";if(cn<=200)return"good"}return"fair"},dr=async()=>{if(typeof navigator>"u")return null;if(navigator.onLine===!1)return"offline";const Lt=ya+=1,zt=performance.now(),or=1800;Qn&&Qn.abort();const cn=new AbortController;Qn=cn;const Ks=window.setTimeout(()=>cn.abort(),or);try{const Pn=await fetch(`/index.html?ping=1&t=${Date.now()}`,{method:"GET",cache:"no-store",signal:cn.signal,headers:{"Cache-Control":"no-cache"}});await Pn.text();const Tr=performance.now()-zt;return!Q||Lt!==ya?null:(ln(),In.current=Math.round(Tr),tt(Ka=>({...Ka,latencyMs:Math.round(Tr),measuredAt:Date.now()})),Pn.ok?Tr>2200?"poor":Tr>900?"fair":"good":Tr>1400?"poor":"fair")}catch(Pn){return!Q||Lt!==ya?null:Pn?.name==="AbortError"?(on.current+=1,Er()?"offline":"poor"):Pn instanceof TypeError&&(Zr(Pn)||(Pr.current+=1,Pr.current>=2))||Zr(Pn)?"offline":"poor"}finally{window.clearTimeout(Ks)}},wr=async()=>{if(typeof navigator>"u")return{downloadMbps:null,quality:null};if(navigator.onLine===!1)return{downloadMbps:null,quality:"offline"};const Lt=cs+=1,zt=5200;Qr&&Qr.abort();const or=new AbortController;Qr=or;const cn=window.setTimeout(()=>or.abort(),zt),Ks=async Tr=>{const Ka=performance.now(),An=await fetch(Tr.url,{method:"GET",cache:"no-store",signal:or.signal,headers:{"Cache-Control":"no-cache"}});if(!Q||Lt!==cs||!An.ok)return null;const us=Pn();let vn=0,Mn=0;if(An.body&&typeof An.body.getReader=="function"){const fr=An.body.getReader();try{for(;vn<us;){const{done:Ya,value:nr}=await fr.read();if(Ya)break;vn+=nr?.byteLength??0}Mn=performance.now()-Ka}catch{Mn=performance.now()-Ka}finally{try{await fr.cancel()}catch{}}}else{const fr=await An.arrayBuffer();vn=Math.min(fr.byteLength,us),Mn=performance.now()-Ka}return!vn||Mn<=0?null:vn*8/(Mn/1e3)/1e6},Pn=()=>{const Tr=In.current;return typeof Tr=="number"&&Tr>1400?14e4:32e4};try{const Tr=await Ks({url:`/leafTexture.jpg?networkTest=1&t=${Date.now()}`});if(!Q||Lt!==cs)return{downloadMbps:null,quality:null};const Ka=typeof Tr=="number"&&Number.isFinite(Tr);if(!Ka)return Pr.current+=1,{downloadMbps:null,quality:Pr.current>=2?"offline":"poor"};ln();const An=Ka?Tr:null,us=In.current;tt({downloadMbps:An?Math.round(An*10)/10:null,uploadMbps:null,latencyMs:typeof us=="number"?us:null,measuredAt:Date.now()});const vn=typeof An=="number"&&An<.8,Mn=typeof us=="number"&&us>2500;if(vn||Mn)return{downloadMbps:An,quality:"poor"};const er=typeof An=="number"&&An<2,fr=typeof us=="number"&&us>900;return er||fr?{downloadMbps:An,quality:"fair"}:{downloadMbps:An,quality:"good"}}catch(Tr){if(!Q||Lt!==cs)return{downloadMbps:null,quality:null};if(Tr?.name==="AbortError")return on.current+=1,{downloadMbps:null,quality:Er()?"offline":"poor"};if(Tr instanceof TypeError){if(Zr(Tr))return{downloadMbps:null,quality:"offline"};if(Pr.current+=1,Pr.current>=2)return{downloadMbps:null,quality:"offline"}}return{downloadMbps:null,quality:Zr(Tr)?"offline":"poor"}}finally{window.clearTimeout(cn)}},Or=()=>{oe.current=$a(),La()},yn=async()=>{const Lt=await dr();Q&&(Qe.current=Lt,La())},Jr=async()=>{const Lt=Date.now(),zt=It.current==="poor"||It.current==="offline"?3e4:75e3;if(Lt-Zt.current<zt)return;Zt.current=Lt;const or=await wr();Q&&(Ot.current=or.quality,La())},qn=()=>{Xn&&window.clearTimeout(Xn),document.visibilityState==="visible"&&(Xn=window.setTimeout(()=>{yn(),Jr()},50))};Or(),yn(),Jr(),window.addEventListener("online",Or),window.addEventListener("offline",Or);const Gs=Lt=>{const zt=Lt?.detail;zt&&typeof zt.ok=="boolean"?Zn(zt):Zn({ok:!1})};window.addEventListener("peppro:api-reachability",Gs),document.addEventListener("visibilitychange",qn);const Rr=navigator?.connection;return Rr&&typeof Rr.addEventListener=="function"&&Rr.addEventListener("change",Or),gn=window.setInterval(()=>{document.visibilityState==="visible"&&yn()},5e3),Cn=window.setInterval(()=>{document.visibilityState==="visible"&&Jr()},3e4),()=>{Q=!1,gn&&window.clearInterval(gn),Cn&&window.clearInterval(Cn),Xn&&window.clearTimeout(Xn),Qn&&Qn.abort(),Qr&&Qr.abort(),window.removeEventListener("online",Or),window.removeEventListener("offline",Or),window.removeEventListener("peppro:api-reachability",Gs),document.removeEventListener("visibilitychange",qn),Rr&&typeof Rr.removeEventListener=="function"&&Rr.removeEventListener("change",Or)}},[]);const Dl=y.useCallback(B=>{if(!B)return;const Q=oe=>oe?String(oe).trim():null;Ra(oe=>oe.some(be=>Q(be.id)===Q(B.id)||Q(be.wooOrderId)===Q(B.wooOrderId)||Q(be.wooOrderNumber)===Q(B.wooOrderNumber)||Q(be.number)===Q(B.number))?oe:[B,...oe])},[]),rl=y.useCallback(()=>{const B=Ci.current;B.email!==void 0&&_c.current&&(_c.current.value=B.email,B.email=void 0),B.password!==void 0&&el.current&&(el.current.value=B.password,B.password=void 0)},[]),Gn=y.useCallback(B=>{B.email!==void 0&&(Ci.current.email=B.email),B.password!==void 0&&(Ci.current.password=B.password),rl()},[rl]),ku=y.useCallback(async()=>{if(!Ml.current){Ml.current=!0;try{const B=await DL();B&&Gn({email:B.id,password:B.password})}finally{Ml.current=!1}}},[Gn]),Hf=y.useCallback(()=>{!G||xe!=="login"||ku()},[ku,G,xe]);y.useEffect(()=>{if(!M||M.token&&M.token===Wf.current)return;const B=M.token??Date.now();Wf.current=B,console.debug("[Header] Processing account modal request",M),M.order&&(Dl(M.order),xr(M.order)),M.tab&&Ca(M.tab),(M.open||M.order)&&Nr(!0),F?.(B)},[M,Dl,F]),y.useEffect(()=>{xt(e)},[e]),y.useEffect(()=>{const B=typeof Be?.zelleContact=="string"?Be.zelleContact:"";gr(B?B.trim():"")},[Be?.zelleContact]),y.useEffect(()=>{const B=typeof Be?.zelleContact=="string"?Be.zelleContact.trim():"",Q=typeof Bt.current=="string"?Bt.current:"";if(fn==="zelle"){const oe=lc("zelle",Q),be=lc("zelle",B);(!br.trim()||br.trim()===oe.trim())&&be.trim()!==br.trim()&&Et(be)}Hn(oe=>{const be={...oe};for(const Ee of kr||[]){const we=typeof Ee?.token=="string"?String(Ee.token).trim():"";if(!we||vh(pn[we]??Ee?.paymentMethod??Ee?.payment_method??null)!=="zelle")continue;const Ot=typeof oe[we]=="string"?oe[we]:"",It=lc("zelle",Q);(!Ot.trim()||Ot.trim()===It.trim())&&(be[we]=lc("zelle",B))}return be}),Bt.current=B||null},[Be?.zelleContact,br,fn,pn,kr]);const pm=y.useRef(0);y.useEffect(()=>{if(!gt||Jt!=="details"||!e)return;const B=++pm.current;(async()=>{try{const oe=await(await Lo(()=>Promise.resolve().then(()=>$o),void 0)).authAPI.getCurrentUser();if(B!==pm.current||!oe)return;xt(be=>{const Ee={...be||{},...oe};return N?.(Ee),Ee})}catch(Q){console.warn("[Header] Failed to refresh account details",Q)}})()},[gt,Jt,e,N]),y.useEffect(()=>{if(!G||xe!=="login")return;const B=requestAnimationFrame(()=>{rl()});return()=>cancelAnimationFrame(B)},[G,xe,rl]),y.useEffect(()=>{gt||Ca("details")},[gt]);const Ac=Be?.role??e?.role??null,Eu=z2(Ac),Ou=H2(Ac)||W2(Ac),Rd=Be?Eu?`Admin: ${Be.name}`:W2(Ac)?`Lead: ${Be.name}`:Ou?`Rep: ${Be.name}`:Be.name:"",mm=Be?.profileImageUrl||e?.profileImageUrl||null,hm=yU(Be?.name||e?.name||Rd),kc=(Array.isArray(fe)?fe.map(B=>B==null?"":String(B).trim().toUpperCase()).filter((B,Q,oe)=>B.length>0&&oe.indexOf(B)===Q):[])[0]||null,gm=(Eu||Ou)&&!!kc,vo=y.useRef(null),[Ng,ym]=y.useState(0),[As,Td]=y.useState(0),[os,Ec]=y.useState(0),Ia=y.useRef({isDragging:!1,startX:0,scrollLeft:0}),Id=(B=32,Q="")=>{const oe=typeof B=="number"?`${B}px`:B,be=typeof B=="number"?B:null,Ee=be?`${Math.max(12,Math.round(be*.45))}px`:void 0;return mm?s.jsx("img",{src:mm,alt:`${Rd||Be?.name||e?.name||"User"} avatar`,className:qt("header-avatar-image",Q),style:{width:oe,height:oe},onError:()=>{N&&Be&&N({...Be,profileImageUrl:null})}}):s.jsx("div",{className:qt("header-avatar-image header-avatar-fallback",Q),style:{width:oe,height:oe,fontSize:Ee},"aria-hidden":"true",children:hm})},ci=y.useCallback(()=>{const B=vo.current;if(!B)return;const Q=B.querySelector(`button[data-tab="${Jt}"]`);if(!Q)return;const oe=8,be=B.scrollLeft||0,Ee=Math.max(0,Q.offsetLeft-be+oe),we=Math.max(0,Q.offsetWidth-oe*2);ym(Ee),Td(we),Ec(1)},[Jt]);y.useLayoutEffect(()=>{const B=requestAnimationFrame(()=>{ci()});return()=>cancelAnimationFrame(B)},[ci,gt,Jt]),y.useEffect(()=>{const B=()=>ci();return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[ci]),y.useEffect(()=>{const B=vo.current;if(!B)return;const Q=()=>{ci()};return B.addEventListener("scroll",Q,{passive:!0}),()=>{B.removeEventListener("scroll",Q)}},[ci]);const Ru=B=>{if(B.button!==0)return;const Q=vo.current;Q&&(Ia.current.isDragging=!0,Ia.current.startX=B.clientX,Ia.current.scrollLeft=Q.scrollLeft,Q.classList.add("is-dragging"))},Tu=B=>{const Q=vo.current;if(!Q||!Ia.current.isDragging)return;B.preventDefault();const oe=B.clientX-Ia.current.startX;Q.scrollLeft=Ia.current.scrollLeft-oe},Kn=()=>{const B=vo.current;Ia.current.isDragging=!1,B&&B.classList.remove("is-dragging")},Md=()=>{Kn()},Ll=()=>{Kn()},Vf=B=>{const Q=vo.current;if(!Q||B.touches.length!==1)return;const oe=B.touches[0];Ia.current.isDragging=!0,Ia.current.startX=oe.clientX,Ia.current.scrollLeft=Q.scrollLeft},Gf=B=>{const Q=vo.current;if(!Q||!Ia.current.isDragging)return;const be=B.touches[0].clientX-Ia.current.startX;Q.scrollLeft=Ia.current.scrollLeft-be},nl=()=>{Kn()},Dd=B=>{const Q=vo.current;Q&&Math.abs(B.deltaY)>Math.abs(B.deltaX)&&(Q.scrollLeft+=B.deltaY,B.preventDefault())};y.useEffect(()=>{if(!gt)return;const B=setTimeout(()=>{ci()},80);return()=>clearTimeout(B)},[gt,ci,Jt]);const _n=async B=>{if(B.preventDefault(),_s)return;mt(""),ht(""),Oa(!0);const Q=B.currentTarget,oe=_c.current?.value??"",be=el.current?.value??"",Ee=Ot=>{if(typeof navigator<"u"&&navigator.onLine===!1||_i==="offline")return"offline";if(_i==="poor")return"network";const It=String(Ot||"").toLowerCase();return It?It.includes("offline")||It.includes("no internet")||It.includes("internet connection")?"offline":It.includes("failed to fetch")||It.includes("networkerror")||It.includes("network request failed")||It.includes("load failed")||It.includes("timeout")||It.includes("econnrefused")||It.includes("enotfound")||It.includes("eai_again")?"network":null:null};if(Ee(null)==="offline"){mt("No internet connection detected. Please turn on Wi-Fi or cellular data and try again."),Oa(!1);return}let Qe;try{if(!l)throw new Error("LOGIN_UNAVAILABLE");Qe=await l(oe,be)}catch(Ot){const It=typeof Ot?.message=="string"?Ot.message:null,Zt=Ee(It);mt(Zt==="offline"?"No internet connection detected. Please turn on Wi-Fi or cellular data and try again.":Zt==="network"?"Can't reach PepPro right now. This usually means your internet is offline or very slow. Please check your connection and try again.":"Unable to log in. Please try again."),Oa(!1);return}if(Qe.status==="success"){Gn({email:"",password:""}),Q.reset(),ve(!1),Re("login"),Ke(""),Te(""),lt(""),Rt(""),Vt(""),Nt(""),Ea(!1),sr(!1),Tn(!1),mt(""),ht(""),w!=="checkout"&&Nr(!0),Oa(!1);return}if(Qe.status==="sales_rep_signup_required"){mt("Your sales rep profile needs to be activated before you can sign in. Please finish setting up your account or contact support for help."),Ea(!1),sr(!1),Tn(!1),Oa(!1);return}if(Qe.status==="invalid_password"){mt("Incorrect password. Please try again."),Gn({password:""}),Re("login"),Ea(!1),sr(!1),Tn(!1),Oa(!1);return}if(Qe.status==="email_not_found"){mt(""),ht("We couldn't find that email. Please create your account below."),Re("signup"),lt(oe),Te(""),Rt(be),Vt(be),Nt(""),Ea(!1),sr(!1),Tn(!1),Oa(!1);return}if(Qe.status==="error"){const Ot=Ee(Qe.message);mt(Ot==="offline"?"No internet connection detected. Please turn on Wi-Fi or cellular data and try again.":Ot==="network"?"Can't reach PepPro right now. This usually means your internet is offline or very slow. Please check your connection and try again.":"Unable to log in. Please try again.")}Oa(!1)};y.useEffect(()=>{v==null||v===0||et.current!==v&&(et.current=v,Re("login"),mt(""),ht(""),Te(""),Ke(""),lt(""),Rt(""),Vt(""),Nt(""),Gn({email:"",password:""}),Ea(!1),sr(!1),Tn(!1),e||ve(!0),Nr(!1))},[v,e]),y.useEffect(()=>{e&&G&&ve(!1)},[e,G]),y.useEffect(()=>{e||Nr(!1)},[e]),y.useEffect(()=>{const B=Array.isArray(E)?E:[];if(B.length>0){Ra(B);return}D||Ra(B)},[E,D]),y.useEffect(()=>{zi.current=rr},[rr]),y.useEffect(()=>{if(!$e||!rr.length)return;const B=we=>String(we??"").trim().toLowerCase(),Q=[$e.id,$e.wooOrderId,$e.wooOrderNumber,$e.number,$e.cancellationId].map(B).filter(Boolean);if(!Q.length)return;const oe=rr.find(we=>[we.id,we.wooOrderId,we.wooOrderNumber,we.number,we.cancellationId].map(B).filter(Boolean).some(Ot=>Q.includes(Ot)));if(!oe)return;const be=String(oe.status??"")!==String($e.status??""),Ee=String(oe.updatedAt??"")!==String($e.updatedAt??"");(be||Ee)&&xr(oe)},[rr,$e?.id,$e?.wooOrderId,$e?.wooOrderNumber,$e?.number,$e?.cancellationId,$e?.status,$e?.updatedAt]),y.useEffect(()=>{Cu.current=Uf},[Uf]),y.useEffect(()=>{if(!Ta)return;const B=oe=>{const be=oe?.cancellationId||oe?.wooOrderId||oe?.id;return be?String(be)===String(Ta):!1},Q=rr.find(B);if(Q&&JL(Q.status?String(Q.status):null)){const oe=$e?$e.cancellationId||$e.wooOrderId||$e.id:null;oe&&String(oe)===String(Ta)&&xr(null),mo(be=>be===Ta?null:be)}},[Ta,rr,$e]),y.useEffect(()=>{if(!gt||Jt!=="orders"||!R||!e)return;let B=!1,Q=!1;const oe="orders-auto-refresh",be=45e3,Ee=()=>!(typeof document<"u"&&document.hidden||typeof navigator<"u"&&navigator.onLine===!1),we=async()=>{if(!(B||Q)&&Ee()&&au(oe,be)){Q=!0;try{await Promise.resolve(R())}finally{Q=!1}}};we();const Qe=window.setInterval(()=>{we()},2e4);return()=>{B=!0,Sl(oe),window.clearInterval(Qe)}},[gt,Jt,R,e]),y.useEffect(()=>{const B=()=>{if(typeof window<"u"){const Q=window.innerWidth>=1024;js(Q),Q&&qs(!1)}};return B(),window.addEventListener("resize",B),()=>{window.removeEventListener("resize",B)}},[]),y.useEffect(()=>()=>{Cs.current.forEach(B=>window.clearTimeout(B)),Cs.current=[],ii.current!==null&&(window.cancelAnimationFrame(ii.current),ii.current=null)},[]);const bo=y.useCallback(()=>{Cs.current.forEach(B=>window.clearTimeout(B)),Cs.current=[],ii.current!==null&&(window.cancelAnimationFrame(ii.current),ii.current=null)},[]),$l=y.useCallback(()=>{if(Va.current)return Va.current;if(!u)return Promise.resolve();po.current=!0;const B=Promise.resolve(u()).finally(()=>{Va.current=null});return Va.current=B,B},[u]),xo=y.useCallback(()=>{Zo(!1),ji.current=!1},[]),Wi=y.useCallback((B,Q)=>{ji.current||(ji.current=!0,Fn(Q),$l().catch(()=>{}).finally(()=>{Vn.current===B&&(ia(0),Cs.current.push(window.setTimeout(()=>{Vn.current===B&&xo()},Q)))}))},[xo,$l]),wo=y.useCallback(()=>{bo(),po.current=!1,ji.current=!1,Vn.current+=1;const oe=Vn.current;Nr(!1),ve(!1),Fn(350),ia(0),Zo(!0),ii.current=window.requestAnimationFrame(()=>{Vn.current===oe&&ia(1)}),Cs.current.push(window.setTimeout(()=>{Vn.current===oe&&Wi(oe,350)},5e3))},[Wi,bo]),vm=y.useCallback(B=>{if(B){Zo(!0);return}if(po.current)return;bo(),Vn.current+=1;const Q=Vn.current;Zo(!0),Wi(Q,350)},[Wi,bo]);y.useEffect(()=>{const B=()=>{wo()};return window.addEventListener("peppro:logout-with-thanks",B),()=>{window.removeEventListener("peppro:logout-with-thanks",B)}},[wo]),y.useLayoutEffect(()=>{if(typeof window>"u")return;const B=Ps.current;if(!B)return;const Q=()=>{const{height:be}=B.getBoundingClientRect();document.documentElement.style.setProperty("--app-header-height",`${Math.round(be)}px`)};Q();let oe=null;return"ResizeObserver"in window?(oe=new ResizeObserver(()=>Q()),oe.observe(B)):window.addEventListener("resize",Q),()=>{oe?oe.disconnect():window.removeEventListener("resize",Q)}},[]),y.useEffect(()=>()=>{as.current&&clearTimeout(as.current)},[]),y.useEffect(()=>{if(typeof window>"u")return;const B=()=>{Nr(!1),ve(!1)};return window.addEventListener("peppro:close-dialogs",B),()=>{window.removeEventListener("peppro:close-dialogs",B)}},[]);const Kf=B=>{B.preventDefault(),f(Se),typeof window<"u"&&window.innerWidth<768&&qs(!1)},Iu=B=>{console.debug("[Header] Search change",{value:B}),X(B),f(B)};y.useEffect(()=>{Pu.current=Se},[Se]);const Ma=y.useCallback(()=>{const B=is.current;if(B)try{B.focus({preventScroll:!0})}catch{B.focus()}},[]),Oc=()=>{qs(B=>{const Q=!B;return typeof window<"u"&&(Q?window.setTimeout(()=>Ma(),0):is.current?.blur()),Q})};y.useEffect(()=>{$n&&(typeof window>"u"||window.setTimeout(()=>Ma(),0))},[Ma,$n]),y.useEffect(()=>{if(!$n||typeof window>"u")return;const B=oe=>{if(!oe||!oe.tagName)return!1;const be=oe;if(be===is.current)return!0;const Ee=String(be.tagName||"").toLowerCase();return Ee==="input"||Ee==="textarea"||Ee==="select"?!0:!!be.isContentEditable},Q=oe=>{if($n){if(oe.key==="Escape"){oe.preventDefault(),qs(!1),is.current?.blur();return}if(!(oe.metaKey||oe.ctrlKey||oe.altKey)&&!B(oe.target)){if(oe.key==="Backspace"){oe.preventDefault();const be=Pu.current||"";Iu(be.slice(0,Math.max(0,be.length-1))),Ma();return}if(oe.key.length===1){oe.preventDefault();const be=Pu.current||"";Iu(be+oe.key),Ma()}}}};return window.addEventListener("keydown",Q,!0),()=>window.removeEventListener("keydown",Q,!0)},[Ma,Iu,$n]);const Pi=async B=>{B.preventDefault();const oe={name:Ve?`${Ve} ${Le}`.trim():Le,email:st,password:Me,confirmPassword:At,code:tr};ht(""),mt("");const be=g?await g(oe):l?await l(st,Me):{status:"error",message:"LOGIN_UNAVAILABLE"};if(be.status==="success"){Ke(""),Te(""),lt(""),Rt(""),Vt(""),Nt(""),Ea(!1),sr(!1),Tn(!1),Re("login"),ve(!1),ht(""),mt(""),w!=="checkout"&&Nr(!0);return}if(be.status==="email_exists"){ht(""),mt("An account with this email already exists. Please log in."),Re("login"),Gn({email:oe.email,password:""}),Te(""),Rt(""),Vt(""),Nt(""),Ea(!1),sr(!1),Tn(!1);return}if(be.status==="invalid_password"){ht(""),mt("Incorrect password. Please try again."),Re("login"),Gn({email:oe.email,password:""}),Te(""),Rt(""),Vt(""),Nt(""),Ea(!1),sr(!1),Tn(!1);return}if(be.status==="email_not_found"){ht("We couldn't find that email. Please create your account below."),Re("signup"),lt(oe.email),Te(""),Rt(""),Vt(""),Nt(""),Ea(!1),sr(!1),Tn(!1);return}if(be.status==="password_mismatch"){ht("Passwords do not match. Please confirm and try again.");return}if(be.status==="invalid_referral_code"){ht("Referral codes must be 5 characters (e.g., AB123). Please double-check and try again.");return}if(be.status==="referral_code_not_found"){ht("We couldn't locate that referral code. Please confirm it with your sales representative.");return}if(be.status==="sales_rep_email_mismatch"){ht("Please use the email address associated with your sales representative profile.");return}if(be.status==="referral_code_unavailable"){ht("This onboarding code isn't available. Please confirm it with your representative.");return}if(be.status==="name_email_required"){ht("Name and email are required to create your account.");return}be.status==="error"&&(be.message==="PASSWORD_REQUIRED"?ht("Please create a secure password to access your account."):ht("Unable to create an account right now. Please try again."))},al=async B=>{if(B.preventDefault(),!Us.orderId.trim()){zs("Please enter a valid order ID.");return}Jo(!0),zs(null);try{await new Promise(Q=>setTimeout(Q,900)),zs("We will email your latest tracking update shortly.")}catch(Q){console.warn("[Account modal] Tracking lookup failed",Q),zs("Unable to look up that order right now. Please try again.")}finally{Jo(!1)}},Rc=B=>{console.debug("[Header] Auth dialog open change",{open:B}),ve(B),B||(Re("login"),Ke(""),Te(""),lt(""),Rt(""),Vt(""),Nt(""),mt(""),ht(""),Ea(!1),sr(!1),Tn(!1))},So=()=>{m&&m()},sl=y.useCallback(async B=>{if(!le)return;mo(B);try{await le(B)}catch(Ee){const we=typeof Ee?.message=="string"&&Ee.message.trim().length>0?Ee.message:"Unable to cancel this order right now.";Xe.error(we),mo(Qe=>Qe===B?null:Qe);return}const Q=Ee=>{const we=String(Ee||"").trim().toLowerCase();return we==="refunded"||we==="cancelled"||we==="canceled"||we==="trash"},oe=Ee=>{const we=Ee?.cancellationId||Ee?.wooOrderId||Ee?.id;return we?String(we)===String(B):!1},be=$e?$e.cancellationId||$e.wooOrderId||$e.id:null;(async()=>{const Ee=Date.now(),we=18e4,Qe=1500;for(;Date.now()-Ee<we;){try{await Promise.resolve(R?.())}catch{}const Ot=zi.current.find(oe);if(Ot&&Q(Ot.status)){be&&String(be)===String(B)&&xr(null),mo(It=>It===B?null:It);return}await new Promise(It=>setTimeout(It,Qe))}Xe.info("Cancellation submitted. It may take a moment for the order status to update.")})()},[le,R,$e]),No=y.useCallback((B,Q)=>{B&&zf(oe=>{if(Object.is(oe[B],Q))return oe;const be={...oe,[B]:Q};return Cu.current=be,be})},[]),jo=y.useCallback(B=>{if(!B)return[];const Q=Ts(B.integrationDetails),oe=Ts(Q?.wooCommerce||Q?.woocommerce),be=Ts(oe?.response)||{},Ee=Ts(oe?.payload)||{};return Array.isArray(be?.line_items)?be.line_items:Array.isArray(Ee?.line_items)?Ee.line_items:[]},[]),Hs=y.useCallback(B=>{if(!B)return null;const Q=ou(B.productId)||ou(B?.product_id);if(!Q)return null;const oe=ou(B.variantId)||ou(B?.variation_id),be=oe?`${Q}:${oe}`:`${Q}:0`;return{productId:Q,variationId:oe||null,key:be}},[]),Tc=y.useCallback(async B=>{const oe=fm.current;return new Promise(be=>{const Ee=()=>{oe.active+=1,Promise.resolve().then(B).catch(()=>{}).finally(()=>{oe.active=Math.max(0,oe.active-1);const we=oe.queue.shift();we&&we(),be()})};if(oe.active<4){Ee();return}oe.queue.push(Ee)})},[]),_o=y.useCallback(async(B,Q=[])=>{const oe=qw(B,Q),be=Hs(B);if(be){if(oe){No(be.key,oe);return}if(!Object.prototype.hasOwnProperty.call(Cu.current,be.key)&&!Tl.current.has(be.key)){Tl.current.add(be.key);try{await Tc(async()=>{const Ee=await Lo(()=>Promise.resolve().then(()=>$o),void 0);let we=null;if(be.variationId)try{const Qe=await Ee.wooAPI.getProductVariation(be.productId,be.variationId);we=uc(Qe?.image)||uc(Qe?.images?.[0])||null}catch{}if(!we)try{const Qe=await Ee.wooAPI.getProduct(be.productId);we=uc(Qe?.images?.[0])||uc(Qe?.image)||null}catch{}No(be.key,we)})}finally{Tl.current.delete(be.key)}}}},[Hs,Tc,No]),Mu=y.useCallback(B=>{const Q=B?String(B).trim().toLowerCase():"";return Q==="trash"||Q.includes("cancel")||Q.includes("refund")},[]),ui=y.useRef(new Set),Yf=y.useCallback(async B=>{const Q=B?.integrations||B?.integrationDetails||null,oe=Q?.wooCommerce||Q?.woocommerce||null,be=B?.wooOrderId||oe?.wooOrderId||B?.wooOrderNumber||oe?.wooOrderNumber||B?.id||null,Ee=be?String(be):"";if(!Ee){Xe.error("Invoice is not available for this order yet.");return}if(!ui.current.has(Ee)){ui.current.add(Ee);try{const we=await Lo(()=>Promise.resolve().then(()=>$o),void 0),{blob:Qe,filename:Ot}=await we.ordersAPI.downloadInvoice(Ee);hU(Qe,Ot||`PepPro_Invoice_${Ee}.pdf`)}catch(we){const Qe=we instanceof Error?we.message:"Unable to download invoice right now.";Xe.error(Qe)}finally{ui.current.delete(Ee)}}},[]);y.useEffect(()=>{if(!gt||Jt!=="orders")return;const B=rr.filter(oe=>{const be=(oe.source||"").toLowerCase(),Ee=!!(oe.integrationDetails?.wooCommerce||oe.integrationDetails?.woocommerce);return be==="woocommerce"||be==="peppro"||be==="local"||Ee}).filter(oe=>Y?!0:!Mu(oe.status)),Q=new Set;for(const oe of B){const be=jo(oe),Ee=Array.isArray(oe.lineItems)?oe.lineItems:[];for(const we of Ee){const Qe=Hs(we);if(Qe&&!Q.has(Qe.key)&&(Q.add(Qe.key),_o(we,be),Q.size>=40))return}}},[gt,Jt,rr,Y,_o,jo,Hs,Mu]),y.useEffect(()=>{if(!gt||Jt!=="orders"||!$e)return;const B=jo($e);(Array.isArray($e.lineItems)?$e.lineItems:[]).forEach(oe=>{_o(oe,B)})},[gt,Jt,$e,_o,jo]),y.useEffect(()=>{if(!gt||Jt!=="orders"||!$e)return;const B=dy($e);if(!B)return;const Q=ha.current.get(B);if(Q){xr(be=>{if(!be)return be;const Ee=be.integrationDetails&&typeof be.integrationDetails=="object"?be.integrationDetails:{};return(Ee?.carrierTracking||Ee?.carrier_tracking||null)?.trackingStatus?be:{...be,integrationDetails:{...Ee,carrierTracking:Q}}});return}let oe=!1;return(async()=>{try{const Ee=await(await Lo(()=>Promise.resolve().then(()=>$o),void 0)).trackingAPI.getStatus(B);if(oe||!Ee)return;ha.current.set(B,Ee),xr(we=>{if(!we)return we;const Qe=we.integrationDetails&&typeof we.integrationDetails=="object"?we.integrationDetails:{};return{...we,integrationDetails:{...Qe,carrierTracking:Ee}}})}catch{}})(),()=>{oe=!0}},[gt,Jt,$e?.id]);const Du=y.useCallback(async()=>{if(kc)try{if(!navigator?.clipboard)throw new Error("Clipboard API unavailable");await navigator.clipboard.writeText(kc),Qo(!0),as.current&&clearTimeout(as.current),as.current=setTimeout(()=>{Qo(!1)},2e3)}catch{Qo(!1)}},[kc]),Ga=()=>s.jsxs(Je,{variant:"outline",size:"sm",onClick:So,className:qt("relative hidden md:inline-flex glass squircle-sm transition-all duration-300 flex-shrink-0",P&&"inline-flex"),style:{color:J,borderColor:ne},children:[t?s.jsx(Xq,{className:"h-4 w-4",style:{color:J}}):s.jsx(Bh,{className:"h-4 w-4",style:{color:J}}),d>0&&s.jsx(_l,{variant:"outline",className:"absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center p-0 glass-strong squircle-sm border border-[var(--brand-glass-border-2)] text-[rgb(95,179,249)]",children:d})]}),Ld=(B="",Q)=>s.jsxs("div",{className:"relative",children:[s.jsx(Dw,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-slate-500"}),s.jsx(zr,{type:"text",inputMode:"search",enterKeyHint:"search",placeholder:"Search peptides...",value:Q&&typeof Q.value=="string"?Q.value:Se,onChange:oe=>{Q?.readOnly||Iu(oe.target.value)},ref:Q?.readOnly?void 0:is,className:`glass squircle-sm pl-10 pr-12 placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-0 focus-visible:border-[rgba(255,255,255,0.3)] ${B}`.trim(),style:{...Q?.borderColor===null?{}:{borderColor:typeof Q?.borderColor=="string"?Q.borderColor:ne},minWidth:"100%"},readOnly:!!Q?.readOnly}),(Q?.showClearButton??!0)&&Se.trim().length>0&&s.jsx("button",{type:"button","aria-label":"Clear search",onClick:()=>{Iu(""),requestAnimationFrame(()=>{is.current?.focus()})},className:"absolute right-3 left-auto top-1/2 z-10 -translate-y-1/2 rounded-full p-1 text-slate-900/70 transition-colors hover:bg-white/50 hover:text-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.4)]",style:{right:"0.75rem",left:"auto"},children:s.jsx(md,{className:"h-4 w-4"})})]}),Yn=String(Be?.role||"").toLowerCase(),Gr=!!(Be&&(Yn==="test_doctor"||Yn==="doctor"&&i)),Lu=y.useMemo(()=>{const B=[{id:"details",label:"Details",Icon:Hq},{id:"orders",label:"Orders",Icon:Ah}];return Gr&&B.push({id:"patient_links",label:"Patient Links",Icon:D2}),B.push({id:"research",label:"Research",Icon:j7}),B},[Gr]),Vs={details:"Update your profile, shipping info, and settings.",orders:"Track your orders, reorders, and invoices.",patient_links:"Manage your patient sessions and proposals.",research:"Where you will soon find research tools and resources. We are excited to bring these to you!"},ls=y.useCallback(B=>{const Q=Number(B);if(!Number.isFinite(Q))return 0;const oe=Math.max(0,Math.min(500,Q));return Math.round((oe+Number.EPSILON)*100)/100},[]),Co=y.useCallback(B=>{const oe=(typeof B=="string"?B:String(B??"")).replace(/%/g,"").replace(/[^\d.]/g,""),be=oe.indexOf(".");if(be===-1)return oe;const Ee=oe.slice(0,be+1),we=oe.slice(be+1).replace(/\./g,"");return`${Ee}${we}`},[]),ca=y.useCallback(async()=>{if(Gr&&!Ls.current){Ls.current=!0,Wa(!0),Pa(null);try{const Q=await(await Lo(()=>Promise.resolve().then(()=>$o),void 0)).delegationAPI.listLinks(),oe=Array.isArray(Q?.links)?Q.links:[],be=Q?.config||{},Ee=ls(be.markupPercent??be.markup_percent??0);Aa(oe),Fs(String(Ee))}catch(B){const Q=typeof B?.message=="string"&&B.message.trim()?B.message:"Unable to load patient links right now.";Pa(Q),Aa([])}finally{Wa(!1),Ls.current=!1}}},[ls,Gr]);y.useEffect(()=>{!Array.isArray(kr)||kr.length===0||(Vr(B=>{const Q={...B};for(const oe of kr){const be=typeof oe?.token=="string"?String(oe.token).trim():"";if(!be||Q[be])continue;const Ee=oe?.paymentMethod??oe?.payment_method??oe?.payment_method_id??null;Q[be]=vh(Ee)}return Q}),Hn(B=>{const Q={...B};for(const oe of kr){const be=typeof oe?.token=="string"?String(oe.token).trim():"";if(!be||typeof Q[be]=="string")continue;const Ee=vh(oe?.paymentMethod??oe?.payment_method??null),we=oe?.paymentInstructions??oe?.payment_instructions??oe?.instructions??oe?.delegateInstructions??oe?.delegate_instructions??null,Qe=typeof we=="string"?we:"";Q[be]=Qe.trim()?Qe:lc(Ee,Be?.zelleContact??null)}return Q}))},[Be?.zelleContact,kr]);const Hi=y.useCallback(async B=>{const Q=typeof B=="string"?B.trim():"";if(!Q||Cr)return;const oe=pn[Q]??"none",be=(mn[Q]??"").trim(),Ee=oe==="zelle"?"zelle":"",we=Ee==="zelle"?be||lc("zelle",Be?.zelleContact??null):"";ur(Q);try{await(await Lo(()=>Promise.resolve().then(()=>$o),void 0)).delegationAPI.updateLink(Q,{paymentMethod:Ee,paymentInstructions:we}),Xe.success("Payment settings saved."),await ca()}catch(Qe){Xe.error(typeof Qe?.message=="string"&&Qe.message.trim()?Qe.message:"Unable to save payment settings right now.")}finally{ur(null)}},[ca,Be?.zelleContact,mn,pn,Cr]),$d=y.useMemo(()=>(kr||[]).reduce((B,Q)=>{if(typeof Q?.revokedAt=="string"&&Q.revokedAt.trim()?Q.revokedAt.trim():typeof Q?.revoked_at=="string"&&Q.revoked_at.trim()?Q.revoked_at.trim():"")return B;const be=typeof Q?.delegateSharedAt=="string"&&Q.delegateSharedAt.trim()?Q.delegateSharedAt.trim():typeof Q?.delegate_shared_at=="string"&&Q.delegate_shared_at.trim()?Q.delegate_shared_at.trim():"",Ee=typeof Q?.delegateOrderId=="string"&&Q.delegateOrderId.trim()?Q.delegateOrderId.trim():typeof Q?.delegate_order_id=="string"&&Q.delegate_order_id.trim()?Q.delegate_order_id.trim():"",we=typeof Q?.delegateReviewStatus=="string"&&Q.delegateReviewStatus.trim()?Q.delegateReviewStatus.trim().toLowerCase():typeof Q?.delegate_review_status=="string"&&Q.delegate_review_status.trim()?Q.delegate_review_status.trim().toLowerCase():"",Qe=!!(we||be||Ee);return B+(Qe&&(we||(Qe?"pending":""))==="pending"?1:0)},0),[kr]),di=y.useMemo(()=>{const B={};return Gr&&!dn&&$d>0&&(B.patient_links=$d),B},[$d,dn,Gr]),nt=y.useMemo(()=>Object.values(di).reduce((B,Q)=>B+(Number(Q)||0),0),[di]);y.useEffect(()=>{if(!gt){Xo.current=!1;return}Gr&&(Xo.current||(Xo.current=!0,ca()))},[ca,Gr,gt]);const fi=y.useCallback(async()=>{if(!(!Gr||_r)){hr(!0);try{const B=await Lo(()=>Promise.resolve().then(()=>$o),void 0),Q=ns.trim(),oe=ka.trim(),be=ls($s),Ee=fn==="zelle"?"zelle":"",we=br.trim(),Qe=Ee==="zelle"?we||lc("zelle",Be?.zelleContact??null):"";await B.delegationAPI.createLink({referenceLabel:Q||null,patientId:oe||null,markupPercent:be,paymentMethod:Ee,paymentInstructions:Qe}),Bi(""),sn(""),Xe.success("Patient link created."),await ca()}catch(B){Xe.error(typeof B?.message=="string"&&B.message.trim()?B.message:"Unable to create a patient link right now.")}finally{hr(!1)}}},[ca,ls,ns,$s,ka,br,fn,_r,Be?.zelleContact,Gr]),Ic=y.useCallback(async B=>{if(typeof window>"u")return;const Q=typeof B=="string"?B.trim():"";if(!Q)return;const oe=`${window.location.origin}/?delegate=${encodeURIComponent(Q)}`;try{if(!navigator?.clipboard)throw new Error("Clipboard API unavailable");await navigator.clipboard.writeText(oe),Xe.success("Link copied.")}catch{Xe.error("Unable to copy link.")}},[]),Fd=y.useCallback(async B=>{const Q=typeof B=="string"?B.trim():"";if(!(!Q||Lr)){Ha(Q);try{await(await Lo(()=>Promise.resolve().then(()=>$o),void 0)).delegationAPI.updateLink(Q,{revoke:!0}),Xe.success("Link revoked."),await ca()}catch(oe){Xe.error(typeof oe?.message=="string"&&oe.message.trim()?oe.message:"Unable to revoke link right now.")}finally{Ha(null)}}},[ca,Lr]),[Po,Ao]=y.useState(null),Bd=y.useCallback(async B=>{const Q=typeof B=="string"?B.trim():"";if(!(!Q||Po)){Ao(Q);try{const Ee=(await(await Lo(()=>Promise.resolve().then(()=>$o),void 0)).delegationAPI.getLinkProposal(Q))?.proposal??null,we=Ee?.delegateCart??Ee?.delegate_cart??null,Qe=Ee?.delegateShipping??Ee?.delegate_shipping??null,Ot=Array.isArray(we?.items)?we.items:[];if(!Ot.length)throw new Error("No proposal items found for this link.");const It=Qe?.shippingAddress??Qe?.shipping_address??we?.shippingAddress??we?.shipping_address??null;if(typeof ie=="function"){const Zt=typeof Ee?.markupPercent=="number"?Ee.markupPercent:typeof Ee?.markupPercent=="string"?Number(Ee.markupPercent):typeof Ee?.markup_percent=="number"?Ee.markup_percent:typeof Ee?.markup_percent=="string"?Number(Ee.markup_percent):null,Pr=typeof Zt=="number"&&Number.isFinite(Zt)?Zt:null;ie({token:Q,items:Ot,markupPercent:Pr,delegateOrderId:typeof Ee?.delegateOrderId=="string"?Ee.delegateOrderId:typeof Ee?.delegate_order_id=="string"?Ee.delegate_order_id:null,sharedAt:typeof Ee?.delegateSharedAt=="string"?Ee.delegateSharedAt:typeof Ee?.delegate_shared_at=="string"?Ee.delegate_shared_at:null,shippingAddress:It})}Xe.success("Proposal loaded into your cart.")}catch(oe){Xe.error(typeof oe?.message=="string"&&oe.message.trim()?oe.message:"Unable to load proposal right now.")}finally{Ao(null)}}},[ie,Po]),$u=y.useCallback(async B=>{const Q=typeof B=="string"?B.trim():"";if(!(!Q||Po)){Ao(Q);try{await(await Lo(()=>Promise.resolve().then(()=>$o),void 0)).delegationAPI.reviewLinkProposal(Q,{status:"rejected"}),Xe.success("Proposal rejected."),await ca()}catch(oe){Xe.error(typeof oe?.message=="string"&&oe.message.trim()?oe.message:"Unable to reject proposal right now.")}finally{Ao(null)}}},[ca,Po]),Da=y.useCallback(async(B,Q)=>{try{const be=await(await Lo(()=>Promise.resolve().then(()=>$o),void 0)).authAPI.updateMe(Q),Ee=Object.fromEntries(Object.entries(Q).map(([Qe,Ot])=>{if(typeof Ot=="string"){const It=Ot.trim();return[Qe,It.length>0?It:null]}return[Qe,Ot]})),we={...Be||{},...be||{}};Object.entries(Ee).forEach(([Qe,Ot])=>{const It=be?be[Qe]:void 0;(It==null||typeof It=="string"&&It.trim().length===0)&&(we[Qe]=Ot)}),xt(we),N?.(we),Xe.success(`${B} updated`)}catch(oe){throw oe?.status===413?Xe.error("Upload too large. Please choose a smaller image."):oe?.message==="EMAIL_EXISTS"?Xe.error("That email is already in use."):Xe.error("Update failed"),oe}},[xt,N,Be]),Mc=y.useCallback(async()=>{if(!Fr){oa(!0);try{const B=Xt.trim();await Da("Zelle contact",{zelleContact:B||null})}finally{oa(!1)}}},[Da,Xt,Fr]),Dc=y.useRef(null),[il,Lc]=y.useState(!1),qd=y.useCallback(async(B,Q,oe)=>{const be=Number.isFinite(Q)?Math.max(16,Math.min(2048,Math.floor(Q))):480,Ee=Number.isFinite(oe)?Math.max(16,Math.min(2048,Math.floor(oe))):128,we=new Image;we.decoding="async",we.loading="eager",await new Promise((gn,Cn)=>{we.onload=()=>gn(),we.onerror=()=>Cn(new Error("IMAGE_DECODE_FAILED")),we.src=B});const Qe=we.naturalWidth||we.width,Ot=we.naturalHeight||we.height;if(!Qe||!Ot)throw new Error("IMAGE_DIMENSIONS_INVALID");const It=Math.min(1,be/Qe,Ee/Ot),Zt=Math.max(1,Math.round(Qe*It)),Pr=Math.max(1,Math.round(Ot*It));if(Zt===Qe&&Pr===Ot)return B;const on=document.createElement("canvas");on.width=Zt,on.height=Pr;const Xr=on.getContext("2d",{alpha:!0});if(!Xr)throw new Error("CANVAS_CONTEXT_UNAVAILABLE");Xr.imageSmoothingEnabled=!0,Xr.imageSmoothingQuality="high",Xr.clearRect(0,0,Zt,Pr),Xr.drawImage(we,0,0,Zt,Pr);const In=B.startsWith("data:image/png")?"image/png":"image/jpeg";return on.toDataURL(In,In==="image/jpeg"?.85:void 0)},[]),Ud=y.useCallback(async B=>{if(!B||il)return;if(B.size>5e6){Xe.error("Image is too large. Please choose a smaller file.");return}if(!B.type||!B.type.startsWith("image/")){Xe.error("Please choose an image file.");return}Lc(!0);try{const oe=await new Promise((Ee,we)=>{const Qe=new FileReader;Qe.onload=()=>Ee(String(Qe.result||"")),Qe.onerror=()=>we(new Error("FILE_READ_FAILED")),Qe.readAsDataURL(B)});if(!oe||!oe.startsWith("data:image/"))throw new Error("INVALID_IMAGE");try{const{moderationAPI:Ee}=await Lo(async()=>{const{moderationAPI:Qe}=await Promise.resolve().then(()=>$o);return{moderationAPI:Qe}},void 0);if((await Ee.checkImage({dataUrl:oe,purpose:"delegate_logo"}))?.flagged&&!window.confirm(`This image may contain inappropriate content. Please choose a different image.

Continue anyway?`)){Xe.error("Upload canceled.");return}}catch{}const be=await qd(oe,sa?960:840,sa?112:96);await Da("Delegate logo",{delegateLogoUrl:be})}catch{}finally{Lc(!1),Dc.current&&(Dc.current.value="")}},[il,qd,sa,Da]),ol=y.useCallback(async()=>{if(!il){Lc(!0);try{await Da("Delegate logo",{delegateLogoUrl:null})}catch{}finally{Lc(!1)}}},[il,Da]);y.useEffect(()=>{!Gr&&Jt==="patient_links"&&Ca("details")},[Jt,Gr]),y.useEffect(()=>{gt&&Jt==="patient_links"&&Gr&&ca()},[Jt,ca,Gr,gt]);const zd=[{key:"name",label:"Full Name",autoComplete:"name"},{key:"email",label:"Email",type:"email",autoComplete:"email"},{key:"phone",label:"Phone",autoComplete:"tel"}],Wd=[{key:"officeAddressLine1",label:"Street",autoComplete:"shipping address-line1"},{key:"officeAddressLine2",label:"Suite / Unit",autoComplete:"shipping address-line2"},{key:"officeCity",label:"City",autoComplete:"shipping address-level2"},{key:"officeState",label:"State",autoComplete:"shipping address-level1"},{key:"officePostalCode",label:"Postal Code",autoComplete:"shipping postal-code"}],Xf=Be?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"glass-card squircle-md p-4 border border-[var(--brand-glass-border-2)] space-y-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Contact Info"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Manage your account and shipping information below."})]}),s.jsxs("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-start pt-2",children:[s.jsxs("div",{className:"flex flex-col gap-3 sm:min-w-[220px] sm:max-w-[260px]",children:[s.jsxs("div",{className:"avatar-shell",onClick:()=>Ws.current?.click(),children:[Id(72),s.jsx("button",{type:"button",className:"avatar-edit-badge",onClick:B=>{B.preventDefault(),B.stopPropagation(),Pc(Q=>!Q)},"aria-label":"Edit profile photo",children:s.jsx(EL,{className:"h-3 w-3"})})]}),tl&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Profile photo"}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx(Je,{type:"button",size:"sm",variant:"outline",className:"squircle-sm",disabled:yo,onClick:()=>Ws.current?.click(),children:yo?`Uploading ${Cc}%`:"Upload photo"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Photos must be 50MB or smaller in size."})]})]}),s.jsx("input",{type:"file",accept:"image/*",ref:Ws,className:"hidden",onChange:async B=>{const Q=B.target.files?.[0];if(!Q)return;const oe=50*1024*1024;if(Q.size>oe){Xe.error("Upload too large. Please choose an image 50MB or smaller."),Ws.current&&(Ws.current.value="");return}Au(!0),ga(8);let be=null;try{console.info("[Profile] Compressing image before upload",{sizeBytes:Q.size,name:Q.name});const Ee=await gU(Q,{maxSize:1600,quality:.82});ga(55);try{const It=window?.FaceDetector;if(It){const Zt=new Image;Zt.decoding="async",await new Promise((Xr,In)=>{Zt.onload=()=>Xr(),Zt.onerror=()=>In(new Error("IMAGE_DECODE_FAILED")),Zt.src=Ee});const on=await new It({fastMode:!0,maxDetectedFaces:3}).detect(Zt);if((!on||on.length===0)&&!window.confirm(`No face was detected in this image. If this is intentional, you can continue.

Continue uploading?`)){Xe.error("Upload canceled.");return}}}catch{}try{const{moderationAPI:It}=await Lo(async()=>{const{moderationAPI:Pr}=await Promise.resolve().then(()=>$o);return{moderationAPI:Pr}},void 0);if((await It.checkImage({dataUrl:Ee,purpose:"profile_photo"}))?.flagged&&!window.confirm(`This image may contain inappropriate content. Please choose a different image.

Continue anyway?`)){Xe.error("Upload canceled.");return}}catch{}const we=60,Qe=95;let Ot=we;be=window.setInterval(()=>{Ot=Math.min(Qe,Ot+2),ga(Ot)},120),await Da("Profile photo",{profileImageUrl:Ee}),ga(100),Pc(!1),Xe.success("Profile photo updated")}catch(Ee){const we=typeof Ee?.message=="string"?Ee.message:"Upload failed";Xe.error(we),console.error("[Profile] Upload failed",{message:we,error:Ee})}finally{be&&window.clearInterval(be),Au(!1),ga(0),Ws.current&&(Ws.current.value="")}}})]}),gm&&kc&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Referral Code"}),s.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-dashed border-slate-300 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-800",children:[s.jsx("span",{className:"tracking-[0.16em] uppercase",children:kc}),s.jsx(Je,{type:"button",size:"sm",variant:"outline",className:"squircle-sm text-xs",onClick:Du,children:"Copy"})]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Share this code with doctors to link them to your account. Editing is disabled for security."})]}),s.jsx("div",{className:"flex flex-col gap-3 sm:flex-1",children:zd.map(({key:B,label:Q,type:oe,autoComplete:be})=>s.jsx(rk,{label:Q,value:Be?.[B]||"",type:oe||"text",autoComplete:be,onSave:async Ee=>{await Da(Q,{[B]:Ee})}},B))})]})]}),s.jsxs("div",{className:"glass-card squircle-md p-4 border border-[var(--brand-glass-border-2)] space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Direct Shipping"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Update the address where orders should ship."})]}),s.jsx("div",{className:"grid gap-3",children:Wd.map(({key:B,label:Q,autoComplete:oe})=>s.jsx(rk,{label:Q,value:Be?.[B]||"",autoComplete:oe,onSave:async be=>{await Da(Q,{[B]:be})}},B))})]})]}):null,Hd=s.jsxs("div",{ref:ho,className:"glass-card squircle-md p-6 border border-[var(--brand-glass-border-2)] text-center space-y-3 bg-white",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Research"}),s.jsx("p",{className:"text-sm text-slate-600",children:"This section is currently in development. Soon you'll be able to access research tools and resources here to share your findings securely and anonymously with the PepPro network of physicians."})]}),Ce=s.jsx("div",{ref:ho,className:qt("transition-all duration-300 ease-in-out bg-white",$r&&"h-full w-full min-h-full",$r?"h-full flex flex-col":"space-y-4"),children:s.jsx("div",{className:"flex",children:s.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 text-[rgb(95,179,249)] shadow-[0_10px_18px_-12px_rgba(15,23,42,0.35)] transition-colors hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.35)]","aria-label":$r?"Exit full screen Research dashboard":"Expand Research dashboard to full screen",onClick:go,children:$r?s.jsx(s7,{className:"h-4 w-4","aria-hidden":"true",style:{transform:"scaleX(-1)"}}):s.jsx(n7,{className:"h-4 w-4","aria-hidden":"true",style:{transform:"scaleX(-1)"}})})})}),ko=Be?.role||e?.role||null,Vd=z2(ko)||kv(ko)==="test_doctor"||a===!0&&(V2(ko)||H2(ko))?Ce:Hd,Kr=()=>{const Q=!!(Be&&V2(Be.role)),oe=(Be?.salesRep?.email||"").trim(),be=pe.trim().toLowerCase(),Ee=rr.filter(we=>{const Qe=(we.source||"").toLowerCase(),Ot=!!(we.integrationDetails?.wooCommerce||we.integrationDetails?.woocommerce);return Qe==="woocommerce"||Qe==="peppro"||Qe==="local"||Ot}).filter(we=>String(we.status||"").toLowerCase().trim()!=="delegation_draft").filter(we=>Y?!0:!Mu(we.status)).filter(we=>{if(!be)return!0;const Qe=Ts(we.integrationDetails),Ot=Ts(Qe?.wooCommerce||Qe?.woocommerce),It=Ts(Ot?.response)||{},Zt=nu(we.wooOrderNumber)||nu(It?.number)||nu(Ot?.wooOrderNumber)||nu(we.number)||nu(we.id)||"",Pr=dy(we),on=(we.lineItems||[]).map(In=>(In?.name||"").toString()).filter(Boolean).join(" ");return[Zt,we.status||"",Pr||"",on].join(" ").toLowerCase().includes(be)});return Ee.length?s.jsxs("div",{className:"space-y-4 pb-4",children:[Ee.map(we=>{const Qe=ek(we),Ot=dy(we),It=Ot?`${Qe} - ${Ot}`:Qe,Zt=String(we.status||"").trim().toLowerCase(),Pr=Zt.replace(/_/g,"-"),on=Zt.includes("cancel")||Zt.includes("refund")||Zt==="trash",Xr=Zt.includes("processing"),In=!!le&&(X2.has(Zt)||X2.has(Pr))&&!on,gn=we.cancellationId||we.wooOrderId||(we.id?String(we.id):null),Cn=!!(gn&&Ta===gn),Qr=`Order #${nu(we.wooOrderNumber)||nu(we.integrationDetails?.wooCommerce?.response?.number)||nu(we.integrationDetails?.wooCommerce?.wooOrderNumber)||nu(we.integrationDetails?.woocommerce?.response?.number)||nu(we.integrationDetails?.woocommerce?.wooOrderNumber)||null||we.number||we.id||"Order"}`,ya=we.lineItems?.length??0,cs=ya>0&&(Xr||!on),ks=Ts(we.integrationDetails),Zr=Ts(ks?.wooCommerce||ks?.woocommerce),ln=Ts(Zr?.response)||{},Er=Ts(Zr?.payload)||{},Bn=ln?.shipping_lines&&ln.shipping_lines[0]||Er?.shipping_lines&&Er.shipping_lines[0],La=Array.isArray(ln?.line_items)?ln.line_items:Array.isArray(Er?.line_items)?Er.line_items:[],Zn=Y2(we),$a=!!(Zn&&(K2(we.status)||(we.status||"").toLowerCase()==="completed")),dr=(we.lineItems||[]).reduce((nr,en)=>{const Xa=jr(en.total,jr(en.subtotal,0));return nr+Xa},0),wr=Array.isArray(ln?.meta_data)?ln.meta_data:Array.isArray(Er?.meta_data)?Er.meta_data:[],yn=(nr=>{const en=String(nr).trim().toLowerCase();return(Array.isArray(wr)?wr.find(va=>String(va?.key||"").trim().toLowerCase()===en):null)?.value??null})("peppro_discount_code_amount"),Jr=Math.abs(jr(we.discountCodeAmount,jr(yn,0))),qn=jr(we.appliedReferralCredit,0),Gs=Math.abs(qn),Rr=Jr>0||Gs>0,Lt=dr>0?dr:jr(ln?.subtotal??Er?.subtotal,0),zt=we.itemsSubtotal!=null||we.itemsTotal!=null,or=zt?jr(we.itemsSubtotal??we.itemsTotal,0):0,cn=jr(we.originalItemsSubtotal,Math.max(0,or||Lt)+Jr),Ks=zt?or:Rr?Math.max(0,cn-Jr):Lt,Pn=jr(we.shippingTotal,jr(ln?.shipping_total??Er?.shipping_total??Bn?.total,0)),Tr=jr(we.taxTotal,jr(ln?.total_tax??Er?.total_tax,0)),Ka=jr(ln?.discount_total??Er?.discount_total??Er?.discount_lines?.[0]?.total??0,0),An=Math.abs(Ka),us=Rr?Gs:An,vn=jr(we.grandTotal,jr(we.total,jr(ln?.total??Er?.total,0))),Mn=Ks+Pn+Tr-us,er=vn>0?vn:Mn,fr=Tr>0&&Mn>er+.01?Mn:er,Ya=`${ya} item${ya!==1?"s":""}`;return s.jsxs("div",{className:"account-order-card squircle-lg bg-white border border-[#d5d9d9] overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 bg-[#f5f6f6] border-b border-[#d5d9d9]",children:s.jsxs("div",{className:"order-header-main flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"order-header-meta flex flex-wrap items-center gap-8 text-sm text-slate-700",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Order placed"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:G2(we.createdAt)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Total"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Fo(fr,we.currency||"USD")})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Status"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:It})]}),$a&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Expected delivery"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Zn})]})]}),s.jsx("div",{className:"order-header-actions flex flex-row items-end gap-3 text-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3",children:[(()=>{const nr=we.integrations||ks,en=nr?.wooCommerce||nr?.woocommerce||null;return!(we.wooOrderId||en?.wooOrderId||we.wooOrderNumber||en?.wooOrderNumber||null||ks?.wooCommerce?.wooOrderId||ks?.woocommerce?.wooOrderId)?null:s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",className:"text-[rgb(26,85,173)] font-semibold hover:underline",onClick:()=>void Yf(we),children:"Download invoice"}),"|"]})})(),s.jsx("button",{type:"button",className:"text-[rgb(26,85,173)] font-semibold hover:underline",onClick:()=>xr(we),children:"View order details"})]})})]})}),s.jsx("div",{className:"px-6 pt-5 pb-6",children:s.jsxs("div",{className:"order-card-body flex flex-col gap-4 pt-4 md:flex-row md:items-start md:gap-6",children:[s.jsxs("div",{className:"space-y-4 flex-1 min-w-0",children:[s.jsx("div",{className:"order-number-row flex flex-wrap items-start justify-between gap-3",children:s.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[s.jsxs("p",{className:"text-base font-bold text-slate-900 break-words",children:[s.jsx("span",{className:"mr-2",children:Qr}),cs&&s.jsx("span",{className:"text-slate-700 font-semibold",children:Ya})]}),!1]})}),we.lineItems&&we.lineItems.length>0&&s.jsx("div",{className:"space-y-3",children:we.lineItems.map((nr,en)=>{const Xa=Hs(nr),va=Xa?Uf[Xa.key]:null,Ys=typeof va=="string"&&va.trim().length>0?va:qw(nr,La);return s.jsxs("div",{className:"order-line-item flex items-center gap-4 mb-4 min-h-[60px]",children:[s.jsx("div",{className:"h-full min-h-[60px] w-20 rounded-xl border border-[#d5d9d9] bg-white overflow-hidden flex items-center justify-center text-slate-500 flex-shrink-0",style:{maxHeight:"120px"},children:Ys?s.jsx("img",{src:Ys,alt:nr.name||"Item thumbnail",className:"object-contain",style:{width:"100%",height:"100%",maxHeight:"120px"},onError:bn=>{bn.currentTarget.style.display="none"}}):s.jsx(Ah,{className:"h-6 w-6 opacity-60"})}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("p",{className:"text-[rgb(26,85,173)] font-semibold leading-snug",children:nr.name||"Item"}),s.jsxs("p",{className:"text-sm text-slate-700",children:["Qty: ",nr.quantity??""]})]})]},nr.id||`${nr.sku}-${en}`)})})]}),s.jsxs("div",{className:"order-card-actions flex flex-col gap-2 items-stretch text-center justify-start w-full pb-2 md:items-end md:gap-6 md:w-auto md:min-w-[12rem] md:text-right md:self-stretch md:ml-auto",children:[typeof we.notes=="string"&&we.notes.trim().length>0&&s.jsxs("div",{className:"w-full text-left md:text-left rounded-lg border border-slate-200 bg-white/70 px-3 py-2",children:[s.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-slate-500",children:"Notes"}),s.jsx("div",{className:"mt-1 text-sm text-slate-700 whitespace-pre-wrap max-h-24 overflow-auto",children:we.notes.trim()})]}),s.jsxs(Je,{type:"button",size:"sm",variant:"outline",className:"header-home-button squircle-sm bg-white text-slate-900 px-6 justify-center font-semibold gap-2 w-full lg:w-full",onClick:()=>{te?te(we):xr(we)},children:[s.jsx(Bh,{className:"h-4 w-4","aria-hidden":"true"}),"Buy it again"]}),In&&s.jsx("button",{type:"button",disabled:Cn,onClick:()=>{if(!Cn){const nr=gn||we.id;nr&&sl(nr)}},className:"order-cancel-button squircle-sm inline-flex h-9 w-full items-center justify-center px-6 py-0 text-center font-semibold disabled:cursor-not-allowed disabled:opacity-60 lg:w-full",children:Cn?"Canceling":"Cancel order"})]})]})})]},`${we.source}-${we.id}`)}),Q&&s.jsx("div",{className:"glass-card squircle-lg border border-[var(--brand-glass-border-2)] bg-white/80 px-7 py-4 text-sm text-slate-700",children:s.jsxs("div",{className:"px-4 space-y-1",children:[oe&&s.jsxs("p",{children:["Sales rep:"," ",s.jsx("a",{href:`mailto:${oe}`,className:"underline hover:text-[rgb(95,179,249)]",children:oe})]}),s.jsxs("p",{children:["Support:"," ",s.jsx("a",{href:"mailto:support@peppro.net",className:"underline hover:text-[rgb(95,179,249)]",children:"support@peppro.net"})]})]})})]}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"glass-card squircle-lg p-8 border border-[var(--brand-glass-border-2)] inline-block",children:[s.jsx(Ah,{className:"h-12 w-12 mx-auto mb-3 text-slate-400"}),s.jsx("p",{className:"text-sm font-medium text-slate-700 mb-1",children:"No orders found"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Your recent orders will appear here"})]})})},Gd=()=>{if(!$e)return null;const B=Ts($e.integrationDetails),Q=Ts(B?.wooCommerce||B?.woocommerce),oe=Ts(Q?.response)||{},be=Ts(Q?.payload)||{},Ee=oe?.shipping_lines&&oe.shipping_lines[0]||be?.shipping_lines&&be.shipping_lines[0],we=Array.isArray(oe?.line_items)?oe.line_items:Array.isArray(be?.line_items)?be.line_items:[],Qe=Y2($e),Ot=!!(Qe&&(K2($e.status)||!$e.status)),It=String($e.status||"").trim().toLowerCase(),Zt=$e.expectedShipmentWindow||$e.expected_shipment_window||null,Pr=!!(Zt&&!(It==="shipped"&&dy($e))),on=xU($e.shippingEstimate)||QL(Ee?.method_title||Ee?.method_id);$e.shippingEstimate?.rate??(Ee&&typeof Ee.total=="string"&&Number(Ee.total));const Xr=Q2(oe?.shipping||be?.shipping),In=Q2(oe?.billing||be?.billing),gn=dy($e),Cn=Ee?.method_title||Ee?.method_id||"",Xn=$e.shippingEstimate?.carrierId||B?.shipStation?.carrierCode||(Cn?.toLowerCase().includes("ups")?"ups":null),Qn=gn?vU(gn,Xn):null,Qr=fy($e.shippingAddress)||fy($e.shipping)||Xr||fy($e.billingAddress),ya=fy($e.billingAddress)||In||fy($e.shippingAddress),cs=$e.lineItems||[],ks=cs.reduce((er,fr)=>{const Ya=jr(fr.total,jr(fr.subtotal,0));return er+Ya},0),Zr=Ts(B?.stripe||B?.Stripe)||{},ln=jr($e.itemsSubtotal??$e.itemsTotal,ks>0?ks:jr(oe.total??be.total??oe.subtotal??be.subtotal,0)),Er=Array.isArray(oe?.meta_data)?oe.meta_data:Array.isArray(be?.meta_data)?be.meta_data:[],Bn=er=>{if(!er)return null;const fr=String(er).trim().toLowerCase();return(Array.isArray(Er)?Er.find(nr=>String(nr?.key||"").trim().toLowerCase()===fr):null)?.value??null},La=Bn("peppro_discount_code"),Zn=Bn("peppro_discount_code_amount"),$a=String($e.discountCode??La??"").trim().toUpperCase()||null,dr=Math.abs(jr($e.discountCodeAmount,jr(Zn,0))),wr=jr($e.appliedReferralCredit,0),Or=Math.abs(wr),yn=jr($e.originalItemsSubtotal,ln+dr),Jr=jr($e.shippingTotal,jr(oe.shipping_total??be.shipping_total??Ee?.total,0)),qn=jr($e.taxTotal,jr(oe.total_tax??be.total_tax,0)),Gs=jr(oe.discount_total??be.discount_total??be.discount_lines?.[0]?.total??0,0),Rr=Math.abs(Gs),Lt=Math.max(0,Math.round((yn-ln+Number.EPSILON)*100)/100),zt=dr>0?dr:Lt>.01?Lt:0,or=zt>0||Or>0,cn=or?zt+Or:Rr,Ks=jr($e.grandTotal,jr($e.total,jr(oe.total??be.total,0))),Pn=or?yn:ln,Tr=Pn+Jr+qn-cn,Ka=Ks>0?Ks:Tr,An=qn>0&&Tr>Ka+.01?Tr:Ka,us=Math.max(An,0),vn=$e.paymentDetails||$e.paymentMethod||null,Mn=(()=>{if(Zr?.cardLast4)return`${Zr?.cardBrand||"Card"}  ${Zr.cardLast4}`;if(typeof vn=="string"&&vn.trim().length>0){const er=Ya=>Ya.trim().toLowerCase().replace(/[\s-]+/g,"_");if(/stripe onsite/i.test(vn))return"Card payment";const fr=er(vn);return fr.includes("zelle")?"Zelle":fr==="bacs"||fr==="bank_transfer"||fr==="direct_bank_transfer"||fr.includes("direct_bank")||fr.includes("bank_transfer")||fr.includes("banktransfer")?"Direct Bank Transfer":fr.includes("stripe")?"Card payment":vn}return null})();return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx(Je,{type:"button",variant:"outline",className:"header-home-button squircle-sm bg-white text-slate-900",onClick:()=>xr(null),children:" Back to orders"})}),s.jsxs("div",{className:"account-order-card squircle-lg bg-white border border-[#d5d9d9] overflow-hidden text-left",children:[s.jsxs("div",{className:"px-6 py-4 bg-[#f5f6f6] flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.08em] text-slate-500",children:"Order"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:$e.number?`Order #${$e.number}`:$e.id})]}),s.jsxs("div",{className:"space-y-1 text-right",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.08em] text-slate-500",children:"Status"}),s.jsx("p",{className:"text-base font-semibold text-slate-900",children:ek($e)})]})]}),s.jsxs("div",{className:"px-6 py-5 flex flex-wrap items-center justify-between gap-6 text-sm text-slate-700 mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Placed"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:G2($e.createdAt)})]}),Ot&&s.jsxs("div",{children:[s.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Expected delivery"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Qe})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Total"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Fo(us,$e.currency||"USD")})]})]}),s.jsxs("div",{className:"border-t border-[#d5d9d9] p-6 space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Shipping Information"}),Z2(Qr),s.jsxs("div",{className:"text-sm text-slate-700 space-y-1",children:[gn&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Tracking:"})," ",Qn?s.jsx("a",{href:Qn,target:"_blank",rel:"noreferrer",className:"text-[rgb(26,85,173)] hover:underline",children:gn}):gn]}),(()=>{const er=$e.integrationDetails?.carrierTracking||$e.integrationDetails?.carrier_tracking||null,fr=er?.trackingStatusRaw||er?.trackingStatus||er?.tracking_status||er?.status||er?.deliveryStatus||er?.delivery_status||null;return fr?s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Tracking status:"})," ",ZL(String(fr))]}):null})(),on&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Service:"})," ",on]}),Number.isFinite(Jr)&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Shipping:"})," ",Fo(Jr,$e.currency||"USD")]}),Number.isFinite(qn)&&qn>0&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Estimated tax:"})," ",Fo(qn,$e.currency||"USD")]}),Qe&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Expected:"})," ",Qe]}),Pr&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Estimated ship window:"})," ",Zt]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Billing Information"}),Z2(ya),s.jsxs("div",{className:"text-sm text-slate-700 space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Payment:"})," ",Mn?`${Mn}`:""]}),Zr?.cardLast4&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Card:"})," ",`${Zr?.cardBrand||"Card"}  ${Zr.cardLast4}`]}),$e.physicianCertified&&s.jsx("p",{className:"text-green-700 font-semibold",children:"Physician certification acknowledged"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Items"}),cs.length>0?s.jsx("div",{className:"space-y-4",children:cs.map((er,fr)=>{const Ya=Number(er.quantity)||0,nr=jr(er.total,jr(er.subtotal,0)),en=Ya>0?nr/Ya:jr(er.price,nr),Xa=Hs(er),va=Xa?Uf[Xa.key]:null,Ys=typeof va=="string"&&va.trim().length>0?va:qw(er,we);return s.jsxs("div",{className:"flex items-start gap-4 border-b border-slate-100 pb-3 last:border-b-0 last:pb-3",children:[s.jsx("div",{className:"h-full min-h-[60px] w-20 rounded-xl border border-[#d5d9d9] bg-white overflow-hidden flex items-center justify-center text-slate-500 flex-shrink-0",style:{maxHeight:"120px"},children:Ys?s.jsx("img",{src:Ys,alt:er.name||"Item thumbnail",className:"object-contain",style:{width:"100%",height:"100%",maxHeight:"120px"},onError:bn=>{bn.currentTarget.style.display="none"}}):s.jsx(Ah,{className:"h-6 w-6 opacity-60"})}),s.jsxs("div",{className:"flex-1 min-w-[12rem] space-y-1 pr-4",children:[s.jsx("p",{className:"text-slate-900 font-semibold",children:er.name||"Item"}),s.jsxs("p",{className:"text-slate-600",children:["Qty: ",Ya||""]})]}),s.jsxs("div",{className:"text-sm text-slate-700 text-right min-w-[8rem]",children:[Number.isFinite(en)&&s.jsxs("p",{children:["Each: ",Fo(en,$e.currency||"USD")]}),Number.isFinite(nr)&&s.jsxs("p",{className:"font-semibold",children:["Total: ",Fo(nr,$e.currency||"USD")]})]})]},er.id||`${er.sku}-${fr}`)})}):s.jsx("p",{className:"text-sm text-slate-600",children:"No line items available for this order."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Order Summary"}),s.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal"}),s.jsx("span",{children:Fo(Pn,$e.currency||"USD")})]}),or&&zt>0&&s.jsxs("div",{className:"flex justify-between text-[rgb(26,85,173)]",children:[s.jsx("span",{children:$a?`Discount (${$a})`:"Discount"}),s.jsxs("span",{children:["-",Fo(zt,$e.currency||"USD")]})]}),or&&Or>0&&s.jsxs("div",{className:"flex justify-between text-[rgb(26,85,173)]",children:[s.jsx("span",{children:"Referral Credit"}),s.jsxs("span",{children:["-",Fo(Or,$e.currency||"USD")]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{children:Fo(Jr,$e.currency||"USD")})]}),qn>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tax"}),s.jsx("span",{children:Fo(qn,$e.currency||"USD")})]}),!or&&cn>0&&s.jsxs("div",{className:"flex justify-between text-[rgb(26,85,173)]",children:[s.jsx("span",{children:"Credits & Discounts"}),s.jsxs("span",{children:["-",Fo(cn,$e.currency||"USD")]})]}),Mn&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Paid with"}),s.jsx("span",{className:"font-medium text-slate-900",children:Mn})]}),s.jsxs("div",{className:"flex justify-between text-base font-semibold text-slate-900 border-t border-slate-100 pt-3",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:Fo(Math.max(An,0),$e.currency||"USD")})]})]})]}),typeof $e.notes=="string"&&$e.notes.trim().length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"text-base font-semibold text-slate-900",children:["Notes ",s.jsx("span",{className:"label-paren",children:"(from PepPro)"})]}),s.jsx("div",{className:"rounded-lg border border-slate-200 bg-white/70 p-3",children:s.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:$e.notes})})]})]})]})]})},Fu=Be?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[$&&s.jsx("button",{type:"button",onClick:()=>Promise.resolve(R?.({force:!0})),disabled:!R,title:R?"Refresh orders":void 0,className:"text-xs text-slate-500 px-3 py-1.5 glass-card squircle-sm border border-[var(--brand-glass-border-1)] disabled:opacity-70 disabled:cursor-default hover:text-slate-700 hover:border-[var(--brand-glass-border-2)] transition-colors",children:NU($)}),s.jsx(zr,{value:pe,onChange:B=>re(B.target.value),placeholder:"Search orders",className:"h-7 w-full sm:w-[16rem] md:w-[18rem] text-xs squircle-sm bg-white/80 border border-[var(--brand-glass-border-1)] focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.35)]"}),s.jsx("div",{className:"flex items-center gap-2 ml-auto",children:s.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>ue?.(),className:"glass squircle-sm btn-hover-lighter border border-[rgb(95,179,249)] bg-white text-slate-900 shadow-[0_8px_18px_rgba(95,179,249,0.14)] my-0 h-7 py-0 leading-none gap-1",children:Y?s.jsxs(s.Fragment,{children:[s.jsx(pd,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Hide canceled"]}):s.jsxs(s.Fragment,{children:[s.jsx(uu,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Show canceled"]})})})]}),L&&s.jsx("div",{className:"glass-card squircle-md p-4 border border-red-200 bg-red-50/50",children:s.jsx("p",{className:"text-sm text-red-700 font-medium",children:L})}),me&&s.jsxs("div",{className:"glass-card squircle-md p-4 border border-[rgba(95,179,249,0.35)] bg-white/80 flex items-center gap-3",children:[s.jsx(OL,{className:"h-4 w-4 text-[rgb(95,179,249)] animate-spin","aria-hidden":"true"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Loading product and order catelogue"}),s.jsx("p",{className:"text-xs text-slate-600",children:"Please hold while we sync the catalog data."})]})]})]}),s.jsx("div",{className:"relative",children:$e?Gd():Kr()})]}):null,ll={maxWidth:sa?"240px":"min(170px, 40vw)",heightPx:sa?56:48},Yr="h-5 w-5 flex-shrink-0 !text-[rgb(95,179,249)]",Eo=Gr?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"glass-card squircle-lg border border-[var(--brand-glass-border-1)] bg-white/80 p-6 sm:p-7",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Give your sessions your logo"}),s.jsx("p",{className:"mb-3 text-sm leading-relaxed text-slate-700",children:"Make your logo appear in the header of your patient's session. Recommended: horizontal rectangle PNG (well resize to fit the header)."}),s.jsxs("div",{className:"mt-2 space-y-4",children:[s.jsxs("div",{className:"glass-card squircle-lg p-3 !border-0",children:[s.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Header preview"}),s.jsx("div",{className:"mt-3 w-full max-w-full overflow-hidden app-header-blur border border-slate-200 shadow-sm rounded-xl px-4 sm:px-6 py-4",children:s.jsx("div",{className:"flex flex-col gap-3 md:gap-4",children:s.jsxs("div",{className:"flex w-full min-w-0 items-center gap-3 sm:gap-4 justify-between flex-nowrap",children:[s.jsx("div",{className:"flex items-center gap-3 min-w-0",children:s.jsx("div",{className:"brand-logo relative flex items-center justify-start flex-shrink min-w-0",style:{height:ll.heightPx,maxWidth:ll.maxWidth},children:s.jsx("img",{src:typeof Be?.delegateLogoUrl=="string"&&Be.delegateLogoUrl.trim().length>0?Be.delegateLogoUrl:Vp("/PepPro_fulllogo.png"),alt:"Delegate header logo preview",className:"relative z-[1] flex-shrink-0",style:{display:"block",width:"100%",height:"100%",maxHeight:"100%",objectFit:"contain"},loading:"eager",decoding:"async"})})}),sa&&s.jsx("div",{className:"flex flex-1 justify-center min-w-0 pointer-events-none opacity-95",children:s.jsx("div",{className:"w-full min-w-0 max-w-md",children:Ld("",{value:"",readOnly:!0,showClearButton:!1})})}),s.jsxs("div",{className:"ml-auto flex w-auto items-center justify-end gap-2 min-w-0 max-w-full",children:[s.jsxs("div",{className:"squircle-sm inline-flex items-center gap-2 select-none cursor-default min-w-0 max-w-[58vw] sm:max-w-[20rem] flex-shrink overflow-hidden px-4 py-2 sm:px-5 sm:py-2.5 text-sm sm:text-base border-0 !border-0 !bg-transparent !text-[rgb(95,179,249)]","aria-label":"Delegate header preview",style:{border:"0",backgroundColor:"transparent",color:"rgb(95,179,249)"},children:[s.jsx(Lw,{className:Yr,"aria-hidden":"true"}),s.jsx("span",{className:"font-semibold truncate min-w-0 max-w-full",children:`Delegate of ${Be?.name?`Dr. ${Be.name}`:"Doctor"}`})]}),!sa&&s.jsx(Je,{type:"button",variant:"outline",size:"icon",disabled:!0,"aria-hidden":"true",className:"glass squircle-sm pointer-events-none",style:{color:J,borderColor:ne},children:s.jsx(Dw,{className:"h-4 w-4",style:{color:J}})})]})]})})})]}),s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:typeof Be?.delegateLogoUrl=="string"&&Be.delegateLogoUrl.trim().length>0?"Custom logo set":"Using PepPro logo"}),s.jsx("p",{className:"text-xs text-slate-600",children:"Max ~5MB. Stored on your account (we resize to fit the header)."})]}),s.jsxs("div",{className:"flex min-w-0 flex-col flex-wrap items-stretch gap-2 sm:flex-row sm:items-center",children:[s.jsx("input",{ref:Dc,type:"file",accept:"image/*",className:"hidden",onChange:B=>void Ud(B.target.files?.[0]??null)}),s.jsx(Je,{type:"button",onClick:()=>Dc.current?.click(),disabled:il,className:"h-11 w-full sm:w-auto sm:shrink sm:min-w-0 max-w-full squircle-sm glass-brand btn-hover-lighter px-7 text-white shadow-lg shadow-[rgba(95,179,249,0.22)]",children:il?"Uploading":"Upload logo"}),s.jsx(Je,{type:"button",variant:"outline",onClick:()=>void ol(),disabled:il,className:"h-11 w-full sm:w-auto sm:shrink sm:min-w-0 max-w-full squircle-sm border-[rgba(95,179,249,0.35)] text-[rgb(95,179,249)] hover:bg-[rgba(95,179,249,0.08)] hover:text-[rgb(95,179,249)]",children:"Remove"})]})]})]})]}),s.jsxs("div",{className:"glass-card squircle-lg border border-[var(--brand-glass-border-1)] bg-white/80 p-6 sm:p-7",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Store payment settings"}),s.jsx("p",{className:"mb-4 text-sm leading-relaxed text-slate-700",children:"Set the Zelle email or phone number you want patients to use when paying you."}),s.jsxs("div",{className:"patient-link-form",children:[s.jsx(Ar,{htmlFor:"doctor-zelle-contact",className:"patient-link-form__label patient-link-form__label--zelle-contact text-sm font-semibold text-slate-700",children:"Zelle email or phone"}),s.jsx(zr,{id:"doctor-zelle-contact",value:Xt,onChange:B=>gr(B.target.value),placeholder:"e.g., billing@clinic.com or +1 (555) 555-5555",className:"patient-link-form__zelle-contact-input h-11 w-full mb-0 squircle-sm glass focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.25)]"}),s.jsx(Je,{type:"button",onClick:()=>void Mc(),disabled:!Be||Fr,className:"patient-link-form__button h-11 w-full mb-3 sm:mb-0 sm:w-full squircle-sm glass-brand btn-hover-lighter px-7 text-white shadow-lg shadow-[rgba(95,179,249,0.22)]",children:Fr?"Saving":"Save"})]})]}),s.jsxs("div",{className:"glass-card squircle-lg border border-[var(--brand-glass-border-1)] bg-white/80 p-6 sm:p-7",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Generate a patient link"}),s.jsx("p",{className:"mb-3 text-sm leading-relaxed text-slate-700",children:"Links are temporary and expire automatically after 72 hours. You can also revoke any link at any time."}),s.jsxs("div",{className:"mt-5 patient-link-form patient-link-form--generate",children:[s.jsxs(Ar,{htmlFor:"patient-link-patient-id",className:"patient-link-form__label patient-link-form__label--patient-id text-sm font-semibold text-slate-700",children:["Patient ID ",s.jsx("span",{className:"label-paren",children:"(from your proprietary system)"})]}),s.jsx(zr,{id:"patient-link-patient-id",value:ka,onChange:B=>Bi(B.target.value),placeholder:"e.g., 12345",className:"patient-link-form__patient-id-input h-11 w-full mb-0 squircle-sm glass focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.25)]"}),s.jsxs(Ar,{htmlFor:"patient-link-label",className:"patient-link-form__label patient-link-form__label--link text-sm font-semibold text-slate-700",children:["Referrence label for your link ",s.jsx("span",{className:"label-paren",children:"(optional)"})]}),s.jsx(zr,{id:"patient-link-label",value:ns,onChange:B=>sn(B.target.value),placeholder:"e.g., John Doe",className:"patient-link-form__input h-11 w-full mb-0 squircle-sm glass focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.25)]"}),s.jsxs(Ar,{htmlFor:"patient-link-markup",className:"patient-link-form__label patient-link-form__label--markup text-sm font-semibold text-slate-700",children:[s.jsx("span",{className:"block",children:"Patient Catelogue Markup %"}),s.jsx("span",{className:"label-paren mt-0.5 block",children:"(The percent difference between what your patient pays you and what you pay us.)"})]}),s.jsx("div",{className:"patient-link-form__markup relative w-full mb-0",children:s.jsx(zr,{id:"patient-link-markup",type:"text",inputMode:"decimal",value:$s,onChange:B=>Fs(Co(B.target.value)),placeholder:"0",className:"!h-11 w-full text-left tabular-nums squircle-sm glass focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.25)]",style:{direction:"ltr"}})}),s.jsx(Ar,{htmlFor:"patient-link-payment-method",className:"patient-link-form__label patient-link-form__label--payment text-sm font-semibold text-slate-700",children:"Payment method"}),s.jsx("select",{id:"patient-link-payment-method",value:fn,onChange:B=>{const Q=vh(B.target.value),oe=lc(fn,Be?.zelleContact??null),be=!br.trim()||br.trim()===oe.trim();ma(Q),be&&Et(lc(Q,Be?.zelleContact??null))},className:"patient-link-form__select h-11 w-full mb-0 squircle-sm glass focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.25)]",children:Fw.map(B=>s.jsx("option",{value:B.value,children:B.label},B.value))}),s.jsxs(Ar,{htmlFor:"patient-link-instructions",className:"patient-link-form__label patient-link-form__label--instructions text-sm font-semibold text-slate-700",children:["Instructions ",s.jsx("span",{className:"label-paren",children:"(shown to the delegate)"})]}),s.jsx(Bp,{id:"patient-link-instructions",value:br,onChange:B=>Et(B.target.value),placeholder:"Enter instructions that the delegate will see in their proposal modal",rows:2,className:"patient-link-form__instructions min-h-[56px] squircle-sm glass focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.25)]"}),s.jsx(Je,{type:"button",onClick:()=>void fi(),disabled:!Gr||_r,className:"patient-link-form__button h-11 w-full mb-3 sm:mb-0 sm:w-full squircle-sm glass-brand btn-hover-lighter px-7 text-white shadow-lg shadow-[rgba(95,179,249,0.22)]",children:_r?"Creating":"Create link"})]})]}),s.jsxs("div",{className:"glass-card squircle-lg border border-[var(--brand-glass-border-1)] bg-white/70 p-6 sm:p-7 space-y-1",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 leading-tight",children:"Manage your links"}),s.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>void ca(),disabled:!Gr||dn,className:"header-home-button squircle-sm bg-white text-slate-900 self-start","aria-busy":dn,title:"Refresh",children:dn?"Refreshing":"Refresh"})]}),s.jsx("p",{className:"text-sm leading-relaxed text-slate-700",children:"Copy the link to share your configured session with your patient. Let your patient work as a delegate to build a proposal for your review. After 72 hours, the link will expire. Use Revoke link to disable a link prematurely."}),Wn&&s.jsx("div",{className:"glass-card squircle-md p-4 border border-red-200 bg-red-50/60",children:s.jsx("p",{className:"text-sm text-red-700 font-medium",children:Wn})}),dn?s.jsx("div",{className:"glass-card squircle-lg p-6 border border-[var(--brand-glass-border-1)] bg-white/80",children:s.jsx("p",{className:"text-sm text-slate-600",children:"Loading links"})}):kr.length===0?s.jsx("div",{className:"glass-card squircle-lg p-6 border border-[var(--brand-glass-border-1)] bg-white/80",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"No patient links yet."}),s.jsx("p",{className:"text-sm text-slate-600",children:"Create one above to get started."})]})}):s.jsx("div",{className:"space-y-4 pt-1",children:kr.map(B=>{const Q=typeof B?.token=="string"?B.token:"",be=(typeof B?.referenceLabel=="string"&&B.referenceLabel.trim()?B.referenceLabel.trim():typeof B?.reference_label=="string"&&B.reference_label.trim()?B.reference_label.trim():typeof B?.label=="string"&&B.label.trim()?B.label.trim():"")||"Patient link",Ee=typeof B?.patientId=="string"&&B.patientId.trim()?B.patientId.trim():typeof B?.patient_id=="string"&&B.patient_id.trim()?B.patient_id.trim():"",we=typeof B?.revokedAt=="string"&&B.revokedAt.trim()?B.revokedAt.trim():"",Qe=typeof B?.markupPercent=="number"?B.markupPercent:typeof B?.markupPercent=="string"?Number(B.markupPercent):typeof B?.markup_percent=="number"?B.markup_percent:typeof B?.markup_percent=="string"?Number(B.markup_percent):0,Ot=Number.isFinite(Qe)?Qe:0,It=typeof B?.createdAt=="string"&&B.createdAt.trim()?B.createdAt.trim():"",Zt=typeof B?.expiresAt=="string"&&B.expiresAt.trim()?B.expiresAt.trim():"",Pr=typeof B?.lastUsedAt=="string"&&B.lastUsedAt.trim()?B.lastUsedAt.trim():"",on=typeof B?.delegateSharedAt=="string"&&B.delegateSharedAt.trim()?B.delegateSharedAt.trim():"",Xr=typeof B?.delegateOrderId=="string"&&B.delegateOrderId.trim()?B.delegateOrderId.trim():"",gn=(typeof B?.delegateReviewStatus=="string"&&B.delegateReviewStatus.trim()?B.delegateReviewStatus.trim().toLowerCase():"")||(on||Xr?"pending":""),Cn=!!(on||Xr),Xn=!!we,Qn=Lr===Q,Qr=Cr===Q,ya=Po===Q,cs=Cn&&gn==="pending",ks=gn==="accepted"?"Accepted":gn==="modified"?"Modified":gn==="rejected"?"Rejected":gn==="pending"?"Pending review":"",Zr=pn[Q]??vh(B?.paymentMethod??B?.payment_method??null),ln=mn[Q]??(typeof B?.paymentInstructions=="string"?String(B.paymentInstructions):typeof B?.payment_instructions=="string"?String(B.payment_instructions):""),Er=Fw.find(Bn=>Bn.value===Zr)?.label??(Zr==="zelle"?"Zelle":"-");return s.jsxs("div",{className:"patient-link-item glass-liquid squircle-lg border border-[rgba(95,179,249,0.35)] transition-colors hover:border-[rgba(95,179,249,0.55)] p-4 sm:p-5 flex flex-col gap-3 sm:gap-4 sm:flex-row sm:items-start sm:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(D2,{className:"h-4 w-4 text-[rgb(95,179,249)] shrink-0","aria-hidden":"true"}),s.jsx("span",{className:"font-semibold text-slate-900 truncate",children:be})]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-600 space-y-0.5",children:[Ee&&s.jsxs("div",{children:["Patient ID: ",Ee]}),It&&s.jsxs("div",{children:["Created: ",Bw(It)||It]}),Zt&&s.jsxs("div",{children:["Expires: ",Bw(Zt)||Zt]}),Pr&&s.jsxs("div",{children:["Last used: ",Bw(Pr)||Pr]}),s.jsxs("div",{children:["Payment: ",Er]}),s.jsxs("div",{children:["Markup: ",Math.round((Ot+Number.EPSILON)*100)/100,"%"]}),Cn&&s.jsxs("div",{className:"font-semibold text-slate-700",children:["Proposal: ",ks||"Pending review"]})]}),s.jsxs("details",{className:"mt-3 rounded-xl border border-[rgba(95,179,249,0.18)] bg-white/55 px-3 py-3",children:[s.jsx("summary",{className:"cursor-pointer select-none text-sm font-semibold text-slate-800",children:"Payment settings (delegate)"}),s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ar,{htmlFor:`patient-link-payment-method-${Q||be}`,className:"text-xs font-semibold text-slate-700",children:"Payment method"}),s.jsx("select",{id:`patient-link-payment-method-${Q||be}`,value:Zr,onChange:Bn=>{const La=vh(Bn.target.value);Vr(Zn=>({...Zn,[Q]:La})),Hn(Zn=>{const $a=typeof Zn[Q]=="string"?Zn[Q]:"",dr=lc(Zr,Be?.zelleContact??null);return!$a.trim()||$a.trim()===dr.trim()?{...Zn,[Q]:lc(La,Be?.zelleContact??null)}:{...Zn,[Q]:$a}})},className:"h-10 w-full squircle-sm glass focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.25)]",children:Fw.map(Bn=>s.jsx("option",{value:Bn.value,children:Bn.label},Bn.value))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ar,{htmlFor:`patient-link-payment-instructions-${Q||be}`,className:"text-xs font-semibold text-slate-700",children:"Instructions"}),s.jsx(Bp,{id:`patient-link-payment-instructions-${Q||be}`,value:ln,onChange:Bn=>Hn(La=>({...La,[Q]:Bn.target.value})),rows:2,className:"min-h-[56px] resize-y squircle-sm glass focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.25)]"})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>void Hi(Q),disabled:!Q||Qr,className:"squircle-sm gap-2 border-[rgba(95,179,249,0.35)] text-[rgb(95,179,249)] hover:bg-[rgba(95,179,249,0.08)] hover:text-[rgb(95,179,249)]",children:Qr?"Saving":"Save"})})]})]})]}),s.jsxs("div",{className:"patient-link-actions",children:[Cn&&s.jsxs(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>void Bd(Q),disabled:!Q||ya,className:"squircle-sm gap-2 border-[rgba(95,179,249,0.35)] text-[rgb(95,179,249)] hover:bg-[rgba(95,179,249,0.08)] hover:text-[rgb(95,179,249)]",children:[s.jsx(uu,{className:"h-4 w-4","aria-hidden":"true"}),ya?"Loading":"View Proposal"]}),cs&&s.jsxs(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>void $u(Q),disabled:!Q||ya,className:"squircle-sm gap-2 border-red-200 text-red-700 hover:bg-red-50 hover:text-red-800",children:[s.jsx(md,{className:"h-4 w-4","aria-hidden":"true"}),ya?"Working":"Reject"]}),s.jsxs(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>void Ic(Q),disabled:!Q,className:"squircle-sm gap-2 border-[rgba(95,179,249,0.35)] text-[rgb(95,179,249)] hover:bg-[rgba(95,179,249,0.08)] hover:text-[rgb(95,179,249)]",children:[s.jsx(Rq,{className:"h-4 w-4","aria-hidden":"true"}),"Copy link"]}),s.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>void Fd(Q),disabled:!Q||Xn||Qn,className:"squircle-sm border-amber-200 text-amber-800 hover:bg-amber-50 hover:text-amber-900",children:Qn?"Working":Xn?"Revoked":"Revoke link"})]})]},Q||be)})})]})]}):null,Bu=Jt==="details"?Xf:Jt==="orders"?Fu:Jt==="patient_links"?Eo:Vd,Vi=qi&&!Ns?{top:qi.top,left:qi.left,width:qi.width,height:qi.height,backgroundColor:"#fff"}:{top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:"#fff"},cl=(()=>{const B=typeof n=="string"?n.trim():"";return!B||B.toLowerCase()==="doctor"?"Doctor":`Dr. ${B}`})(),Qf=t?s.jsxs("div",{className:"flex items-center gap-2 min-w-0 max-w-full",children:[s.jsxs("div",{className:"squircle-sm inline-flex items-center gap-2 select-none cursor-default min-w-0 max-w-[58vw] sm:max-w-[20rem] flex-shrink overflow-hidden px-4 py-2 sm:px-5 sm:py-2.5 text-sm sm:text-base border-0 !border-0 !bg-transparent !text-[rgb(95,179,249)]","aria-label":`Delegate of ${cl}`,title:`Delegate of ${cl}`,style:{border:"0",backgroundColor:"transparent",color:"rgb(95,179,249)"},children:[s.jsx(Lw,{className:Yr,"aria-hidden":"true"}),s.jsx("span",{className:"font-semibold truncate min-w-0 max-w-full",children:`Delegate of ${cl}`})]}),Ga()]}):e?s.jsxs(s.Fragment,{children:[s.jsxs(fu,{open:gt,onOpenChange:B=>{console.debug("[Header] Welcome dialog open change",{open:B}),Nr(B)},children:[s.jsx(d_,{asChild:!0,children:s.jsxs(Je,{type:"button",variant:"default",size:"sm",onClick:()=>Nr(!0),className:"relative overflow-visible squircle-sm glass-brand btn-hover-lighter transition-all duration-300 whitespace-nowrap pl-1 pr-0 header-account-button","aria-haspopup":"dialog","aria-expanded":gt,children:[s.jsx("span",{className:"hidden sm:inline text-white",children:Rd}),s.jsx("span",{className:"header-account-avatar-shell",children:Id(sa?48:53,"header-account-avatar")}),nt>0&&s.jsx("span",{className:"absolute -left-2 -top-2 inline-flex h-5 min-w-5 items-center justify-center rounded-full !bg-[rgb(95,179,249)] px-1.5 text-[10px] font-semibold leading-none !text-white shadow-sm pointer-events-none","aria-label":`Notifications: ${nt}`,title:`Notifications: ${nt}`,style:{backgroundColor:"rgb(95,179,249)",color:"#fff"},children:nt>99?"99+":nt})]})}),s.jsx(pc,{className:"checkout-modal account-modal glass-card squircle-lg w-full max-w-[min(960px,calc(100vw-3rem))] border border-[var(--brand-glass-border-2)] shadow-2xl p-0 flex flex-col max-h-[90vh] overflow-hidden",overlayClassName:"bg-slate-950/40",containerClassName:"fixed inset-0 z-[10000] flex items-start justify-center px-3 py-6 sm:px-4 sm:py-8",containerStyle:{paddingTop:"calc(var(--safe-area-top) + 0.75rem)","--modal-header-offset":"0px"},style:{backdropFilter:"blur(38px) saturate(1.6)",backgroundColor:"rgba(245, 251, 255, 1)","--modal-header-offset":"0px"},children:s.jsxs("div",{ref:la,className:"relative w-full flex flex-col overflow-hidden transition-all duration-300 ease-in-out",style:{position:"relative",height:"auto",maxHeight:"90vh"},children:[s.jsx(hd,{className:qt("sticky top-0 z-10 glass-card border-b border-[var(--brand-glass-border-1)] px-6 py-4 backdrop-blur-lg flex items-start justify-between gap-4 transition-opacity duration-300 ease-in-out",li&&"opacity-0 invisible pointer-events-none select-none"),style:{boxShadow:"0 18px 28px -20px rgba(7,18,36,0.3)"},children:s.jsxs("div",{className:"flex-1 min-w-0 max-w-full space-y-3 account-header-content",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap min-w-0",children:[s.jsx(Nl,{className:"text-xl font-semibold header-user-name min-w-0 truncate",children:Be?.name||e?.name||"Account"}),!V&&s.jsxs(s.Fragment,{children:[s.jsx("span",{"aria-hidden":"true",className:"text-slate-300",children:"|"}),s.jsxs(Je,{type:"button",variant:"outline",size:"sm",className:"header-home-button squircle-sm text-slate-900 gap-2",onClick:()=>{Nr(!1),setTimeout(()=>{_&&_()},100)},children:[s.jsx(zq,{className:"h-5 w-5 text-[rgb(95,179,249)]","aria-hidden":"true"}),"Home"]})]})]}),s.jsx(jl,{className:"account-header-description",children:(Be?.visits??e?.visits??1)>1?"We appreciate you joining us on the path to making healthcare simpler and more fulfilling!":"We are thrilled to have you with uslet's make healthcare fulfilling together!"}),s.jsx("p",{className:"text-sm text-slate-600",children:Vs[Jt]}),s.jsxs("div",{className:"relative w-full",children:[s.jsx("div",{className:"w-full account-tab-scroll-container",ref:vo,onMouseDown:Ru,onMouseMove:Tu,onMouseUp:Md,onMouseLeave:Ll,onTouchStart:Vf,onTouchMove:Gf,onTouchEnd:nl,onWheel:Dd,children:s.jsx("div",{className:"flex items-center gap-4 pb-0 sm:pb-4 account-tab-row",children:Lu.map(B=>{const Q=Jt===B.id,oe=Number(di[B.id]||0);return s.jsxs("button",{type:"button",className:qt("relative inline-flex items-center gap-2 px-3 pb-4 pt-1 text-sm font-semibold whitespace-nowrap transition-colors text-slate-600 hover:text-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-black/30 flex-shrink-0 overflow-visible",Q&&"text-slate-900"),"data-tab":B.id,"aria-pressed":Q,onClick:()=>Ca(B.id),children:[s.jsx("span",{className:"relative inline-flex h-6 w-6 items-center justify-center overflow-visible",children:s.jsx(B.Icon,{className:"h-3.5 w-3.5","aria-hidden":"true"})}),B.label,oe>0&&s.jsx("span",{className:"absolute -top-1 -right-1 inline-flex h-5 min-w-5 items-center justify-center rounded-full !bg-[rgb(95,179,249)] px-1 text-[10px] font-semibold leading-none !text-white shadow-sm pointer-events-none",title:`${B.label} notifications`,"aria-label":`${B.label} notifications: ${oe}`,style:{backgroundColor:"rgb(95,179,249)",color:"#fff"},children:oe>9?"9+":oe})]},B.id)})})}),s.jsx("span",{"aria-hidden":"true",className:"account-tab-underline-indicator",style:{left:Ng,width:As,opacity:os}})]})]})}),s.jsx("div",{className:qt("flex-1 overflow-y-auto px-6 pb-6",li&&"opacity-0 invisible pointer-events-none select-none"),children:s.jsx("div",{className:"space-y-6 pt-4",children:!li&&(Bu??s.jsx("div",{className:"text-sm text-slate-600",children:"Loading account details..."}))})}),li&&s.jsx("div",{className:"absolute z-30 overflow-hidden bg-white opacity-100 mix-blend-normal transition-[top,left,width,height,opacity] duration-300 ease-in-out p-4 sm:p-6",style:{...Vi,borderRadius:"inherit",willChange:"top, left, width, height"},children:s.jsx("div",{className:"relative z-10 h-full w-full overflow-y-auto bg-white",children:Vd})}),s.jsx("div",{className:qt("border-t border-[var(--brand-glass-border-1)] px-6 py-4 flex justify-end transition-opacity duration-300 ease-in-out",li&&"hidden"),children:s.jsxs(Je,{type:"button",variant:"outline",size:"sm",className:"btn-no-hover header-logout-button squircle-sm bg-transparent text-slate-900 border-0",onClick:wo,children:[s.jsx(t7,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})})]}),s.jsx(fu,{open:fo,onOpenChange:vm,children:s.jsxs(pc,{hideCloseButton:!0,className:"logout-thanks-modal duration-[250ms] data-[state=closed]:duration-[250ms] !max-w-[min(28rem,calc(100vw-2rem))]",overlayClassName:"logout-thanks-overlay",onTransitionEnd:B=>{B.propertyName==="opacity"&&ji.current&&Ni===0&&xo()},style:{margin:"auto",maxWidth:"min(32rem, calc(100vw - 2rem))",opacity:Ni,"--logout-thanks-ms":`${Ui}ms`,transform:"none"},containerClassName:"fixed inset-0 z-[10000] flex items-center justify-center p-6 sm:p-10",overlayStyle:{backgroundColor:"rgba(4, 14, 21, 0.45)",backdropFilter:"blur(22px) saturate(1.35)",WebkitBackdropFilter:"blur(22px) saturate(1.35)",opacity:Ni,"--logout-thanks-ms":`${Ui}ms`},children:[s.jsxs(p_,{children:[s.jsx(Nl,{children:"Logged out"}),s.jsx(jl,{children:"Thank you message after logging out."})]}),s.jsx("div",{className:"px-8 py-14 text-center sm:px-10 sm:py-16",children:s.jsx("p",{className:"text-base leading-relaxed",style:{color:J},children:"Thank you for being a partner of ours and a joy to those around you. We at PepPro wish you a great rest of your day and will be here when you need us!"})})]})}),Ga()]}):s.jsxs(s.Fragment,{children:[s.jsxs(fu,{open:G,onOpenChange:Rc,children:[s.jsx(d_,{asChild:!0,children:s.jsxs(Je,{variant:"default",className:"squircle-sm glass-brand-subtle btn-hover-lighter transition-all duration-300 whitespace-nowrap",children:[s.jsx(Lw,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"hidden sm:inline ml-2",children:"Login"})]})}),s.jsxs(pc,{className:"glass-card squircle-xl w-auto border border-[var(--brand-glass-border-2)] shadow-2xl !p-4 sm:!p-6",style:{backdropFilter:"blur(38px) saturate(1.6)",width:"min(560px, calc(100vw - 4.5rem))",maxWidth:"min(560px, calc(100vw - 4.5rem))"},children:[s.jsxs(hd,{className:"flex items-start justify-between gap-4 border-b border-[var(--brand-glass-border-1)] pb-3",style:{boxShadow:"0 20px 45px -18px rgba(15,23,42,0.1)",position:"relative",zIndex:20},children:[s.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[s.jsx(Nl,{className:"text-xl font-semibold text-[rgb(95,179,249)]",children:xe==="login"?"Welcome back":"Create Account"}),s.jsx(jl,{children:xe==="login"?"Login to enter your PepPro account.":"Create your PepPro physician account to access PepPro."}),xe==="signup"&&s.jsx("p",{className:"text-base leading-snug",style:{color:J},children:"Your representative will work with you, if intended, to collect your resellers permit."})]}),s.jsx(iP,{className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)",borderRadius:"50%"},"aria-label":"Close account modal",children:s.jsx(md,{className:"h-4 w-4"})})]}),xe==="login"?s.jsxs("div",{className:"space-y-5",children:[s.jsxs("form",{ref:Ur,autoComplete:"on",onSubmit:_n,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ar,{htmlFor:"login-username",children:"Email"}),s.jsx(zr,{ref:_c,id:"login-username",name:"username",type:"email",autoComplete:"username",inputMode:"email",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,onFocus:Hf,className:"glass squircle-sm mt-1 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:ne},required:!0})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ar,{htmlFor:"login-password",children:"Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(zr,{ref:el,id:"login-password",name:"password",autoComplete:"current-password",type:uo?"text":"password",autoCorrect:"off",spellCheck:!1,onFocus:Hf,className:"glass squircle-sm pr-20 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:ne},required:!0}),s.jsx("button",{type:"button",onClick:()=>Ea(B=>!B),className:"absolute right-4 top-1/2 -translate-y-1/2 inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-gray-600 hover:text-gray-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.12)] btn-hover-lighter","aria-label":uo?"Hide password":"Show password","aria-pressed":uo,children:uo?s.jsxs(s.Fragment,{children:[s.jsx(uu,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Hide"})]}):s.jsxs(s.Fragment,{children:[s.jsx(pd,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Show"})]})})]})]}),Ie&&s.jsx("p",{className:"text-sm text-red-600",children:Ie}),s.jsxs(Je,{type:"submit",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter inline-flex items-center justify-center gap-2",disabled:_s,children:[_s&&s.jsx(Fp,{className:"h-4 w-4 animate-spin-slow text-white shrink-0","aria-hidden":"true",style:{transformOrigin:"center center",transform:"translateZ(0)"}}),_s?"Signing in":"Sign In"]})]}),s.jsxs("p",{className:"text-center text-sm text-gray-600",children:["New to PepPro?"," ",s.jsx("button",{type:"button",onClick:()=>Re("signup"),className:"font-semibold btn-hover-lighter",style:{color:J},children:"Create an account"})]})]}):s.jsxs("div",{className:"space-y-5",children:[s.jsxs("form",{onSubmit:Pi,className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:gap-4",children:[s.jsxs("div",{className:"space-y-2 sm:w-36 sm:pb-0",children:[s.jsxs(Ar,{htmlFor:"suffix",children:[s.jsx("span",{children:"Suffix"}),s.jsx("span",{className:"ml-2 text-xs font-normal text-gray-500",children:"Optional"})]}),s.jsxs("select",{id:"suffix",value:Ve,onChange:B=>Te(B.target.value),className:"glass squircle-sm mt-1 w-full px-3 text-sm border transition-colors focus-visible:outline-none focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[3px] focus-visible:ring-[rgba(95,179,249,0.3)] leading-tight",style:{borderColor:ne,backgroundColor:"rgba(95,179,249,0.02)",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23071b1b' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"12px",paddingRight:"2.5rem",height:"2.5rem",lineHeight:"1.25rem"},children:[s.jsx("option",{value:"",children:"None"}),s.jsx("option",{value:"Mr.",children:"Mr."}),s.jsx("option",{value:"Mrs.",children:"Mrs."}),s.jsx("option",{value:"Ms.",children:"Ms."}),s.jsx("option",{value:"Mx.",children:"Mx."}),s.jsx("option",{value:"Dr.",children:"Dr."}),s.jsx("option",{value:"Prof.",children:"Prof."}),s.jsx("option",{value:"Sir",children:"Sir"}),s.jsx("option",{value:"Dame",children:"Dame"})]})]}),s.jsxs("div",{className:"flex-1 space-y-2 sm:pb-0",children:[s.jsx(Ar,{htmlFor:"name",children:"Full Name"}),s.jsx(zr,{id:"name",name:"name",autoComplete:"name",type:"text",value:Le,onChange:B=>Ke(B.target.value),className:"glass squircle-sm mt-1 h-10 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:ne},required:!0})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ar,{htmlFor:"signup-email",children:"Email"}),s.jsx(zr,{id:"signup-email",name:"email",autoComplete:"email",type:"email",value:st,onChange:B=>lt(B.target.value),className:"glass squircle-sm mt-1 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:ne},required:!0})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ar,{htmlFor:"signup-password",children:"Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(zr,{id:"signup-password",name:"password",autoComplete:"new-password",type:ss?"text":"password",value:Me,onChange:B=>Rt(B.target.value),className:"glass squircle-sm pr-20 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:ne},required:!0}),s.jsx("button",{type:"button",onClick:()=>sr(B=>!B),className:"absolute right-4 top-1/2 -translate-y-1/2 inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-gray-600 hover:text-gray-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.12)] btn-hover-lighter","aria-label":ss?"Hide password":"Show password","aria-pressed":ss,children:ss?s.jsxs(s.Fragment,{children:[s.jsx(uu,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Hide"})]}):s.jsxs(s.Fragment,{children:[s.jsx(pd,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Show"})]})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ar,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(zr,{id:"signup-confirm-password",name:"confirm-password",autoComplete:"new-password",type:hn?"text":"password",value:At,onChange:B=>Vt(B.target.value),className:"glass squircle-sm pr-20 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:ne},required:!0}),s.jsx("button",{type:"button",onClick:()=>Tn(B=>!B),className:"absolute right-4 top-1/2 -translate-y-1/2 inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-gray-600 hover:text-gray-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.12)] btn-hover-lighter","aria-label":hn?"Hide confirm password":"Show confirm password","aria-pressed":hn,children:hn?s.jsxs(s.Fragment,{children:[s.jsx(uu,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Hide"})]}):s.jsxs(s.Fragment,{children:[s.jsx(pd,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Show"})]})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ar,{htmlFor:"signup-code",children:"Referral Code"}),s.jsx(zr,{id:"signup-code",name:"referral-code",autoComplete:"off",value:tr,onChange:B=>Nt(B.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,5)),maxLength:5,inputMode:"text",pattern:"[A-Z0-9]*",className:"glass squircle-sm focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:ne,textTransform:"uppercase"},required:!0}),s.jsx("p",{className:"text-xs text-slate-500",children:"Codes are 5 characters and issued by your sales representative."})]}),Tt&&s.jsx("p",{className:"text-sm text-red-600",children:Tt}),s.jsx(Je,{type:"submit",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter",children:"Create Account"})]}),s.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",s.jsx("button",{type:"button",onClick:()=>Re("login"),className:"font-semibold btn-hover-lighter",style:{color:J},children:"Sign in"})]})]}),s.jsxs("div",{className:"mt-6 glass squircle-lg p-4 sm:p-5 space-y-4 border border-[var(--brand-glass-border-1)]",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Track an order"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Enter your PepPro order ID and email. We'll email you the latest fulfillment update."})]}),s.jsxs("form",{className:"grid gap-3 sm:grid-cols-2",onSubmit:al,children:[s.jsxs("div",{children:[s.jsx(Ar,{htmlFor:"account-track-id",children:"Order ID"}),s.jsx(zr,{id:"account-track-id",value:Us.orderId,onChange:B=>Ol(Q=>({...Q,orderId:B.target.value})),className:"mt-1",placeholder:"ORD-12345",required:!0})]}),s.jsxs("div",{children:[s.jsx(Ar,{htmlFor:"account-track-email",children:"Email"}),s.jsx(zr,{id:"account-track-email",type:"email",value:Us.email,onChange:B=>Ol(Q=>({...Q,email:B.target.value})),className:"mt-1",placeholder:"you@example.com"})]}),s.jsxs("div",{className:"sm:col-span-2 flex flex-wrap items-center gap-3",children:[s.jsxs(Je,{type:"submit",className:"glass-brand squircle-sm inline-flex items-center gap-2",disabled:Sc,children:[Sc&&s.jsx(Fp,{className:"h-4 w-4 animate-spin text-current shrink-0","aria-hidden":"true",style:{transformOrigin:"center center"}}),Sc?"Checking":"Email tracking link"]}),Nc&&s.jsx("p",{className:"text-sm text-slate-600",children:Nc})]})]})]})]})]}),Ga()]});return s.jsx("header",{ref:Ps,"data-app-header":!0,className:qt("w-full app-header-blur border-b border-slate-200 shadow-sm",gt&&"app-header-hidden"),style:{position:"fixed",top:0,left:0,right:0,zIndex:gt?1:9500,opacity:gt?0:1,pointerEvents:gt?"none":"auto"},children:s.jsx("div",{className:"w-full px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[s.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 sm:gap-4 justify-between",children:[s.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-shrink-0",children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("div",{className:"brand-logo relative flex items-center justify-center flex-shrink-0",style:{height:ll.heightPx},children:s.jsx("img",{src:t&&typeof r=="string"&&r.trim().length>0?r:Vp("/PepPro_fulllogo.png"),alt:t?"Doctor logo":"PepPro logo",className:"relative z-[1] flex-shrink-0",style:{display:"block",width:"auto",height:"100%",maxWidth:ll.maxWidth,maxHeight:"100%",objectFit:"contain"},loading:"eager",decoding:"async"})})})}),sa&&s.jsx("form",{onSubmit:Kf,className:"flex flex-1 justify-center",children:s.jsx("div",{className:"w-full max-w-md",children:Ld()})}),s.jsxs("div",{className:"ml-auto flex items-center gap-2 md:gap-4 flex-wrap sm:flex-nowrap justify-end min-w-0 max-w-full",children:[(_i==="offline"||_i==="poor")&&s.jsx("div",{className:"flex items-center justify-center squircle-sm border border-slate-200 bg-white/70 px-2 py-1",title:_i==="offline"?"Offline":(()=>{const B=[];return typeof ce.downloadMbps=="number"&&B.push(`Down ${ce.downloadMbps} Mbps`),typeof ce.latencyMs=="number"&&B.push(`Latency ${ce.latencyMs} ms`),`Poor internet connection${B.length?` (${B.join("  ")})`:""}`})(),"aria-label":_i==="offline"?"Offline":"Poor internet connection",children:_i==="offline"?s.jsx(C7,{className:"h-4 w-4 text-slate-800","aria-hidden":"true"}):s.jsx(mU,{activeBars:1})}),Qf,!sa&&s.jsxs(Je,{type:"button",variant:"outline",size:"icon",onClick:Oc,"aria-expanded":$n,className:"glass squircle-sm transition-all duration-300",style:{color:J,borderColor:ne},children:[$n?s.jsx(md,{className:"h-4 w-4",style:{color:J}}):s.jsx(Dw,{className:"h-4 w-4",style:{color:J}}),s.jsx("span",{className:"sr-only",children:$n?"Close search":"Open search"})]})]})]}),$n&&!sa&&s.jsx("div",{className:"px-1 pb-2",children:s.jsx("form",{onSubmit:Kf,children:Ld()})})]})})})}function rk({label:e,value:t,type:r="text",autoComplete:n,onSave:a}){const[i,l]=y.useState(!1),[u,d]=y.useState(t);y.useEffect(()=>d(t),[t]);const[f,g]=y.useState(!1),m=y.useCallback(async()=>{if(!f){g(!0);try{await a(u),l(!1)}finally{g(!1)}}},[u,a,f]);return s.jsxs("div",{className:"editable-row group flex items-start gap-3 sm:items-center",children:[s.jsx("div",{className:"min-w-[7rem] text-sm font-medium text-slate-700",children:e}),s.jsxs("div",{className:"flex-1 flex items-center gap-2 flex-wrap",children:[i?s.jsx("input",{className:"w-full h-9 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",value:u,type:r,autoComplete:n,onChange:v=>d(v.currentTarget.value),onKeyDown:async v=>{v.key==="Enter"&&(v.preventDefault(),await m())}}):s.jsxs("div",{className:"text-sm text-slate-700 flex items-center gap-2",children:[s.jsx("span",{children:t||""}),s.jsx("button",{type:"button",className:qt("inline-edit-button",i&&"is-active"),onClick:()=>l(!0),"aria-label":`Edit ${e}`,title:`Edit ${e}`,children:s.jsx(EL,{className:"w-3 h-3"})})]}),i&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Je,{variant:"outline",className:"squircle-sm",disabled:f,onClick:m,children:"Save"}),s.jsx(Je,{variant:"ghost",className:"squircle-sm",onClick:()=>{d(t),l(!1)},children:"Cancel"})]})]})]})}const yx=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-slot":"card",className:xs("glass-card text-card-foreground flex flex-col gap-6 rounded-xl border border-[var(--brand-glass-border-2)]",e),...t}));yx.displayName="Card";const e4=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-slot":"card-header",className:xs("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t}));e4.displayName="CardHeader";const t4=y.forwardRef(({className:e,...t},r)=>s.jsx("h4",{ref:r,"data-slot":"card-title",className:xs("leading-none",e),...t}));t4.displayName="CardTitle";const jU=y.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,"data-slot":"card-description",className:xs("text-muted-foreground",e),...t}));jU.displayName="CardDescription";const _U=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-slot":"card-action",className:xs("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...t}));_U.displayName="CardAction";const vx=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-slot":"card-content",className:xs("px-6 [&:last-child]:pb-6",e),...t}));vx.displayName="CardContent";const r4=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-slot":"card-footer",className:xs("flex items-center px-6 pb-6 [.border-t]:pt-6",e),...t}));r4.displayName="CardFooter";const CU="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==",n4=e=>null,nk=n4()??null,ak=n4()??null;function a4(e){const[t,r]=y.useState(!1),[n,a]=y.useState(!1),[i,l]=y.useState(0),[u,d]=y.useState(null),f=y.useRef(!0),g=y.useRef(null),m=y.useRef(Date.now()),{alt:v,style:w,className:P,loading:_="lazy",decoding:N="async",referrerPolicy:E="no-referrer",crossOrigin:D,src:L,...$}=e,R="/PepPro_icon.png",M=typeof L=="string"?L.trim():"",F=M||R,V=u??F,Y=V===R;y.useEffect(()=>(f.current=!0,()=>{f.current=!1,g.current&&(window.clearTimeout(g.current),g.current=null)}),[]),y.useEffect(()=>{g.current&&(window.clearTimeout(g.current),g.current=null),m.current=Date.now(),l(0),r(!1),a(F===R),d(F)},[F]);const ue=y.useMemo(()=>!F||F===R||nk!==null&&i>=nk?!1:ak!==null?Date.now()-m.current<ak:!0,[F,i]),te=y.useMemo(()=>{if(!F||F===R)return null;let me=F;if(/^https?:\/\//i.test(me)&&/\s/.test(me))try{me=encodeURI(me)}catch{}const ie=me.includes("?")?"&":"?";return`${me}${ie}_imgRetry=${Date.now()}_${i+1}`},[F,i]),le=()=>{if(Y){r(!0),a(!0);return}if(ue&&te){const me=i+1,ie=Math.min(6e4,800*Math.pow(1.7,me-1));l(me),r(!1),d(R),a(!0),g.current&&window.clearTimeout(g.current),g.current=window.setTimeout(()=>{g.current=null,f.current&&(d(te),a(!1))},ie);return}d(R),a(!0)},fe=()=>{a(!0)};return t?s.jsx("div",{className:`flex h-full w-full items-center justify-center bg-gray-100 text-center align-middle ${P??""}`,style:w,children:s.jsx("img",{src:CU,alt:v||"Image",className:"block max-h-full max-w-full object-contain",loading:_,decoding:N,referrerPolicy:E,crossOrigin:D,...$,onLoad:fe})}):s.jsxs("div",{className:"relative flex h-full w-full items-center justify-center overflow-hidden",style:w,children:[!n&&!t&&!Y&&s.jsx("div",{className:"image-skeleton","aria-hidden":"true"}),s.jsx("img",{src:V,alt:v,loading:_,decoding:N,referrerPolicy:E,crossOrigin:D,className:`block object-contain transition-opacity duration-300 ${Y||n?"opacity-100":"opacity-0"} ${Y?"peppro-placeholder-img":""} ${P??""}`,...$,onLoad:fe,onError:le})]})}const sm={},PU=(()=>{const e=String(sm?.VITE_AUTO_OPEN_STRENGTH??"").toLowerCase().trim();return e?e==="true":!0})(),sk=(()=>{const e=String(sm?.VITE_AUTO_OPEN_STRENGTH_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:750})(),AU=(()=>{const e=String(sm?.VITE_AUTO_OPEN_STRENGTH_PACE_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:500})(),kU=String(sm?.VITE_AUTO_CYCLE_STRENGTH||"").toLowerCase().trim()==="true",EU=(()=>{const e=String(sm?.VITE_AUTO_CYCLE_STRENGTH_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:175})(),j0="__peppro_needs_variant__",OU="/PepPro_icon.png",RU=(()=>{const e=String(sm?.VITE_AUTO_OPEN_IMAGE_TIMEOUT_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:45e3})(),TU=(()=>{const e=String(sm?.VITE_AUTO_OPEN_IMAGE_MAX_ATTEMPTS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=1?t:10})(),IU=(e,t)=>new Promise(r=>{const n=new Image;let a=!1;const i=window.setTimeout(()=>{a||(a=!0,r(!1))},t);n.onload=()=>{a||(a=!0,window.clearTimeout(i),r(!0))},n.onerror=()=>{a||(a=!0,window.clearTimeout(i),r(!1))},n.src=e}),MU=(e,t)=>{const r=e.includes("?")?"&":"?";return`${e}${r}_imgRetry=${Date.now()}_${t}`},DU=async(e,t)=>{const r=e.trim();if(!r||r===OU||r.startsWith("data:"))return!0;const n=Date.now();let a=0;for(;Date.now()-n<t&&a<TU;){if(a+=1,await IU(a===1?r:MU(r,a),25e3))return!0;const l=Math.min(6e4,900*Math.pow(1.7,a-1));await new Promise(u=>window.setTimeout(u,l))}return!1},cb=[];let Ay=!1;const s4=()=>{if(Ay||cb.length===0)return;Ay=!0;const e=cb.shift();if(!e){Ay=!1;return}e().catch(()=>{}).finally(()=>{Ay=!1,s4()})},LU=e=>{cb.push(e),s4()},_0=e=>!Array.isArray(e)||e.length===0?{id:"default",strength:"Standard",basePrice:0}:e.find(t=>!!t?.image)??e[0];function $U({product:e,onAddToCart:t,onEnsureVariants:r,proposalMode:n=!1}){const a=y.useMemo(()=>(Array.isArray(e.variations)?e.variations:[]).filter(Ie=>Ie?.id!==j0),[e.variations]),i=Array.isArray(e.variations)&&e.variations.length===1&&e.variations[0]?.id===j0,[l,u]=y.useState(_0(a.length>0?a:e.variations)),[d,f]=y.useState(""),[g,m]=y.useState(1),[v,w]=y.useState("1"),[P,_]=y.useState(!1),[N,E]=y.useState(!1),D=y.useRef(!1),L=y.useRef(!1),$=y.useRef(null),R=y.useRef(null),[M,F]=y.useState(!1),[V,Y]=y.useState(!1),[ue,te]=y.useState(null),[le,fe]=y.useState(null),me=y.useMemo(()=>{const et=String(e.id||"").trim(),Ie=et.match(/^woo-(\d+)$/i);if(Ie&&Ie[1]){const Tt=Number.parseInt(Ie[1],10);return Number.isFinite(Tt)?Tt:null}const mt=et.replace(/[^0-9]/g,"");if(mt){const Tt=Number.parseInt(mt,10);return Number.isFinite(Tt)?Tt:null}return null},[e.id]);y.useEffect(()=>()=>{le&&URL.revokeObjectURL(le)},[le]),y.useEffect(()=>{const et=Array.isArray(e.variations)?e.variations:[];if(et.length===0)return;const Ie=et.filter(Tt=>Tt?.id!==j0),mt=Ie.length>0?Ie:et;u(Tt=>{const ht=mt.find(gt=>gt.id===Tt.id)??_0(mt);return ht?.id===Tt.id?Tt:ht}),f(Tt=>Ie.length===0?"":(Tt?Ie.some(gt=>gt.id===Tt):!1)?Tt:_0(Ie).id)},[e.id,e.variations]),y.useEffect(()=>{if(!kU||N||L.current||!Array.isArray(e.variations)||e.variations.length<2||$.current===e.id)return;const et=e.variations.filter(ht=>!!ht?.image);if(et.length===0)return;$.current=e.id;let Ie=!1;const mt=ht=>new Promise(gt=>window.setTimeout(gt,ht));return(async()=>{for(const ht of et){if(Ie||L.current)return;u(ht),await mt(EU)}Ie||L.current||u(_0(e.variations))})(),()=>{Ie=!0}},[e.id,e.variations,N]);const ie=e.bulkPricingTiers??[],J="h-8 w-8 squircle-sm",G=(()=>{if(ie.length===0)return l.basePrice;const et=[...ie].sort((Ie,mt)=>mt.minQuantity-Ie.minQuantity).find(Ie=>g>=Ie.minQuantity);if(et){const Ie=et.discountPercentage/100;return l.basePrice*(1-Ie)}return l.basePrice})(),ve=G*g,Se=ie.find(et=>et.minQuantity>g)||null,X=y.useMemo(()=>{if(!ie.length)return[];const et=[...ie].sort((ht,gt)=>ht.minQuantity-gt.minQuantity),Ie=et.findIndex(ht=>g<ht.minQuantity);let mt=Ie===-1?Math.max(0,et.length-5):Math.max(0,Ie-2),Tt=et.slice(mt,mt+5);return Tt.length<5&&mt>0&&(mt=Math.max(0,mt-(5-Tt.length)),Tt=et.slice(mt,mt+5)),Tt},[ie,g]),pe=et=>{const Ie=Math.max(1,g+et);m(Ie),w(String(Ie)),_(!0)},re=typeof r=="function"&&(i||e.variations.some(et=>String(et.id).startsWith("woo-variation-"))),xe=async et=>{if(!re)return;const Ie=et?.force===!0;if(!N&&!(!Ie&&D.current)){Ie||(D.current=!0);try{return E(!0),await r(et)}finally{E(!1)}}},Re=et=>{if(L.current=!0,f(et),!et||et===j0){xe({force:!0});return}const Ie=a?.find(mt=>mt.id===et);Ie&&u(Ie)};y.useEffect(()=>{if(!PU||!i||typeof r!="function"||N||D.current||L.current||R.current===e.id)return;R.current=e.id;const et=!Ay&&cb.length===0;LU(async()=>{if(et&&sk>0&&await new Promise(Tt=>window.setTimeout(Tt,sk)),L.current)return;const Ie=await xe();if(L.current)return;const mt=(()=>{const Tt=Ie,ht=Array.isArray(Tt?.variants)?Tt.variants:[],gt=typeof Tt?.defaultVariantId=="string"&&Tt.defaultVariantId.trim().length>0?Tt.defaultVariantId.trim():null,Nr=gt?ht.find(dn=>dn?.id===gt):null,Jt=(Nr&&typeof Nr?.image=="string"&&Nr.image.trim().length>0?Nr:null)??ht.find(dn=>typeof dn?.image=="string"&&dn.image.trim().length>0),Ca=typeof Tt?.image=="string"?Tt.image:null;return Jt?.image??Ca??null})();typeof mt=="string"&&mt.trim().length>0&&await DU(mt.trim(),RU),await new Promise(Tt=>window.setTimeout(Tt,AU))})},[i,r,e.id,N]);const Le=async()=>{if(F(!0),te(null),!(le||V)){if(!me){te("Certificate unavailable for this product.");return}Y(!0);try{const{blob:et}=await $p.getCertificateOfAnalysis(me),Ie=URL.createObjectURL(et);fe(Ie)}catch(et){const Ie=typeof et?.status=="number"?et.status:null;te(Ie===404?"We are working to attach a certificate for this product.":typeof et?.message=="string"?et.message:"Failed to load certificate.")}finally{Y(!1)}}},Ke=()=>{if(!le)return;const Ie=`${e.name.trim().replace(/[^a-z0-9]+/gi,"_").replace(/^_+|_+$/g,"").slice(0,80)||"certificate_of_analysis"}.png`,mt=document.createElement("a");mt.href=le,mt.download=Ie,mt.rel="noopener",document.body.appendChild(mt),mt.click(),mt.remove();try{KL.post("/settings/downloads/track",{kind:"coa",wooProductId:me,productId:e?.id,filename:Ie,at:new Date().toISOString()})}catch{}},Ve=s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"line-clamp-2 text-slate-900",children:e.name}),s.jsx("button",{type:"button",onClick:()=>void Le(),className:"line-clamp-2 text-left hover:underline",style:{color:"rgb(95, 179, 249)"},children:"Certificate of Analysis"}),e.manufacturer&&s.jsx("p",{className:"text-xs text-gray-500",children:e.manufacturer})]}),st=y.useMemo(()=>{const et=Array.isArray(e.images)&&e.images.length>0?e.images:[e.image];return l?.image?[l.image,...et].filter((Ie,mt,Tt)=>!!Ie&&Tt.indexOf(Ie)===mt):et},[e.images,e.image,l?.image])[0]||e.image,lt=e.variations&&e.variations.length>0?s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-gray-600",htmlFor:`variation-${e.id}`,children:"Strength"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{id:`variation-${e.id}`,value:d,onChange:et=>Re(et.target.value),onFocus:()=>{L.current=!0,(i||a.length===0)&&xe({force:!0})},onClick:()=>{L.current=!0,(i||a.length===0)&&xe({force:!0})},onMouseDown:()=>{L.current=!0,(i||a.length===0)&&xe({force:!0})},disabled:N,className:"w-full squircle-sm border border-[rgba(255,255,255,0.5)] bg-white/80 px-3 py-2 text-sm font-[Lexend] transition-all focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.4)] focus:border-[rgba(95,179,249,0.6)] product-card-select",children:[(i||!d||a.length===0)&&s.jsx("option",{value:"",disabled:!0,children:N?"Loading variants":"Select strength"}),a.map(et=>s.jsx("option",{value:et.id,children:N?"Loading variants":et.strength},et.id))]}),s.jsx("span",{className:"product-card-select__chevron","aria-hidden":"true",children:s.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",children:s.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]})]}):null,Me=s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-gray-600",children:"Quantity"}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx(Je,{variant:"outline",size:"icon",className:J,onClick:()=>pe(-1),disabled:g<=1,children:s.jsx(sP,{className:"h-3 w-3"})}),s.jsx("div",{className:"flex-1 text-center px-3 py-1 glass-card squircle-sm",children:s.jsx(zr,{type:"text",inputMode:"numeric",pattern:"[0-9]*",min:1,value:v,onChange:et=>{const Ie=et.target.value.replace(/[^0-9]/g,"");if(w(Ie),Ie){const mt=Math.max(1,Number(Ie));m(mt)}_(!0)},onBlur:()=>{v||(m(1),w("1"))},className:"h-auto border-none bg-transparent text-center text-base font-semibold focus-visible:ring-0 focus-visible:outline-none"})}),s.jsx(Je,{variant:"outline",size:"icon",className:J,onClick:()=>pe(1),children:s.jsx(Fh,{className:"h-3 w-3"})})]})]}),Rt=s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex flex-wrap items-baseline justify-between gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Unit Price:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["$",G.toFixed(2)]})]}),s.jsxs("div",{className:"flex flex-wrap items-baseline justify-between gap-2",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Total:"}),s.jsxs("span",{className:"text-lg font-bold text-green-700",children:["$",ve.toFixed(2)]})]})]}),At=ie.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("button",{type:"button",onClick:()=>_(et=>!et),className:"flex w-full items-center justify-between text-xs font-semibold text-slate-700 focus-visible:outline-none",children:[s.jsx("span",{className:"tracking-wide uppercase text-[0.65rem]",children:"Bulk Pricing"}),s.jsx("span",{className:"text-[rgb(95,179,249)] text-[0.65rem] font-medium",children:P?"Hide":"Show"})]}),P&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-1.5 pt-1",children:X.map(et=>s.jsxs("div",{className:"flex items-center justify-between rounded-md px-2 py-1 text-[0.8rem]",children:[s.jsxs("span",{className:g>=et.minQuantity?"text-green-600 font-semibold":"text-slate-600",children:["Buy ",et.minQuantity,"+"]}),s.jsxs("span",{className:g>=et.minQuantity?"text-green-600 font-semibold tabular-nums":"text-slate-600 tabular-nums",children:["Save ",et.discountPercentage,"%"]})]},`${et.minQuantity}-${et.discountPercentage}`))}),Se&&s.jsxs("p",{className:"text-xs text-[rgb(95,179,249)] mt-1 font-medium",children:["Buy ",Se.minQuantity-g," more to save ",Se.discountPercentage,"%"]})]})]}):null,Vt=At?s.jsx("div",{className:"glass-card squircle-sm border border-[var(--brand-glass-border-2)] p-3 space-y-2",children:At}):null,tr=s.jsxs(Je,{onClick:()=>{t(e.id,l.id,g),m(1),w("1"),_(!1)},className:"squircle-sm glass-brand btn-hover-lighter w-full",children:[n?s.jsx(Fh,{className:"w-4 h-4 mr-2"}):s.jsx(Bh,{className:"w-4 h-4 mr-2"}),n?"Add to Proposal":"Add to Cart"]});return s.jsxs(s.Fragment,{children:[s.jsxs(yx,{className:"group h-full gap-3 overflow-hidden glass-card squircle-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-l-4 border-l-[rgba(95,179,249,0.5)] border-t border-r border-b border-[rgba(255,255,255,0.45)]",style:{background:"linear-gradient(to right, rgba(95,179,249,0.08) 0%, rgba(255,255,255,0.35) 8px, rgba(255,255,255,0.35) 100%)",backdropFilter:"blur(40px) saturate(1.7)",WebkitBackdropFilter:"blur(40px) saturate(1.7)"},children:[s.jsxs(vx,{className:"flex-1 p-0",children:[s.jsx("div",{className:"product-image-frame product-image-frame--flush",children:s.jsx(a4,{src:st,alt:e.name,className:"product-image-frame__img"})}),s.jsxs("div",{className:"p-4 pb-3 space-y-3",children:[s.jsx("div",{className:"space-y-1",children:Ve}),lt,Me,Rt,Vt]})]}),s.jsx(r4,{className:"mt-auto p-4 pt-0",children:tr})]}),s.jsx(fu,{open:M,onOpenChange:et=>{F(et),et||(te(null),le&&(URL.revokeObjectURL(le),fe(null)))},children:s.jsxs(pc,{className:"checkout-modal glass-card squircle-lg w-full max-w-[min(960px,calc(100vw-3rem))] border border-[var(--brand-glass-border-2)] shadow-2xl p-0 flex flex-col max-h-[90vh] overflow-hidden",style:{backdropFilter:"blur(38px) saturate(1.6)"},hideCloseButton:!0,children:[s.jsx(hd,{className:"sticky top-0 z-10 glass-card border-b border-[var(--brand-glass-border-1)] px-6 py-4 backdrop-blur-lg",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(Nl,{className:"text-xl font-semibold text-[rgb(95,179,249)]",children:"Certificate of Analysis"}),s.jsx(jl,{className:"truncate",children:e.name})]}),s.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[s.jsxs(Je,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:Ke,disabled:!le||V,title:le?"Download certificate":"Certificate not loaded yet",children:[s.jsx(Py,{className:"h-4 w-4","aria-hidden":"true"}),"Download"]}),s.jsx(iP,{className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 aspect-square items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)"},"aria-label":"Close certificate",children:s.jsx(md,{className:"h-4 w-4"})})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:s.jsx("div",{className:"space-y-6 pt-6",children:s.jsx("div",{className:"min-h-[320px] rounded-xl border border-[var(--brand-glass-border-2)] bg-white/80 p-3 sm:p-4 flex items-center justify-center",children:V?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[s.jsx(Fp,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}),"Loading certificate"]}):le?s.jsx("img",{src:le,alt:`Certificate of Analysis for ${e.name}`,className:"max-h-[70vh] w-auto max-w-full object-contain"}):s.jsx("div",{className:"text-sm text-slate-600 text-center",children:ue||"Unable to load certificate."})})})})]})})]})}function FU(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function i4(e){const[t,r]=y.useState(void 0);return Rf(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,u;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var bx="Checkbox",[BU]=px(bx),[qU,mP]=BU(bx);function UU(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:l,name:u,onCheckedChange:d,required:f,value:g="on",internal_do_not_use_render:m}=e,[v,w]=QC({prop:r,defaultProp:a??!1,onChange:d,caller:bx}),[P,_]=y.useState(null),[N,E]=y.useState(null),D=y.useRef(!1),L=P?!!l||!!P.closest("form"):!0,$={checked:v,disabled:i,setChecked:w,control:P,setControl:_,name:u,form:l,value:g,hasConsumerStoppedPropagationRef:D,required:f,defaultChecked:kf(a)?!1:a,isFormControl:L,bubbleInput:N,setBubbleInput:E};return s.jsx(qU,{scope:t,...$,children:zU(m)?m($):n})}var o4="CheckboxTrigger",l4=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:l,disabled:u,checked:d,required:f,setControl:g,setChecked:m,hasConsumerStoppedPropagationRef:v,isFormControl:w,bubbleInput:P}=mP(o4,e),_=Yo(a,g),N=y.useRef(d);return y.useEffect(()=>{const E=i?.form;if(E){const D=()=>m(N.current);return E.addEventListener("reset",D),()=>E.removeEventListener("reset",D)}},[i,m]),s.jsx(ws.button,{type:"button",role:"checkbox","aria-checked":kf(d)?"mixed":d,"aria-required":f,"data-state":m4(d),"data-disabled":u?"":void 0,disabled:u,value:l,...n,ref:_,onKeyDown:Fi(t,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Fi(r,E=>{m(D=>kf(D)?!0:!D),P&&w&&(v.current=E.isPropagationStopped(),v.current||E.stopPropagation())})})});l4.displayName=o4;var c4=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:l,disabled:u,value:d,onCheckedChange:f,form:g,...m}=e;return s.jsx(UU,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:u,required:l,onCheckedChange:f,name:n,form:g,value:d,internal_do_not_use_render:({isFormControl:v})=>s.jsxs(s.Fragment,{children:[s.jsx(l4,{...m,ref:t,__scopeCheckbox:r}),v&&s.jsx(p4,{__scopeCheckbox:r})]})})});c4.displayName=bx;var u4="CheckboxIndicator",d4=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=mP(u4,r);return s.jsx(am,{present:n||kf(i.checked)||i.checked===!0,children:s.jsx(ws.span,{"data-state":m4(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});d4.displayName=u4;var f4="CheckboxBubbleInput",p4=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:l,required:u,disabled:d,name:f,value:g,form:m,bubbleInput:v,setBubbleInput:w}=mP(f4,e),P=Yo(r,w),_=FU(i),N=i4(n);y.useEffect(()=>{const D=v;if(!D)return;const L=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(L,"checked").set,M=!a.current;if(_!==i&&R){const F=new Event("click",{bubbles:M});D.indeterminate=kf(i),R.call(D,kf(i)?!1:i),D.dispatchEvent(F)}},[v,_,i,a]);const E=y.useRef(kf(i)?!1:i);return s.jsx(ws.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??E.current,required:u,disabled:d,name:f,value:g,form:m,...t,tabIndex:-1,ref:P,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});p4.displayName=f4;function zU(e){return typeof e=="function"}function kf(e){return e==="indeterminate"}function m4(e){return kf(e)?"indeterminate":e?"checked":"unchecked"}const v_=y.forwardRef(({className:e,...t},r)=>s.jsx(c4,{ref:r,"data-slot":"checkbox",className:xs("glass-checkbox peer relative grid h-5 w-5 shrink-0 place-items-center overflow-hidden rounded-[4px] border-2 border-slate-500/90 bg-white/65 backdrop-blur-2xl shadow-[0_3px_10px_-2px_rgba(15,23,42,0.4),inset_0_2px_rgba(255,255,255,0.9),inset_0_-1px_rgba(0,0,0,0.08)] ring-1 ring-inset ring-white/50 transition-all duration-200 outline-none hover:border-slate-600 hover:bg-white/75 hover:shadow-[0_4px_12px_-2px_rgba(15,23,42,0.45),inset_0_2px_rgba(255,255,255,0.95)] hover:ring-white/60 focus-visible:ring-2 focus-visible:ring-[rgb(95,179,249)]/65 focus-visible:ring-offset-[1.5px] focus-visible:ring-offset-white/35 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-[rgb(95,179,249)] data-[state=checked]:border-[rgb(95,179,249)] data-[state=checked]:text-white data-[state=checked]:ring-[rgb(95,179,249)]/65 data-[state=checked]:shadow-[0_3px_10px_-2px_rgba(95,179,249,0.5),inset_0_1px_rgba(255,255,255,0.4)]",e),...t,children:s.jsx(d4,{"data-slot":"checkbox-indicator",className:"relative z-[1] flex items-center justify-center text-current transition-none",children:s.jsx(wq,{className:"size-4"})})}));v_.displayName="Checkbox";function WU({categories:e,tagSections:t,filters:r,onFiltersChange:n,productCounts:a}){const i=m=>{const v=new Set(r.categories);v.has(m)?v.delete(m):v.add(m),n({...r,categories:Array.from(v)})},l=m=>{const v=new Set(r.tags);v.has(m)?v.delete(m):v.add(m),n({...r,tags:Array.from(v)})},u=()=>{n({categories:[],types:[],tags:[]})},d=r.categories.length+r.types.length+r.tags.length,f=y.useRef(null),g=y.useRef(null);return y.useLayoutEffect(()=>{if(typeof window>"u")return;const m=f.current;if(!m)return;const v=m.closest(".filter-sidebar-container"),w=v?.closest(".products-layout");if(!v||!w)return;let P=window.scrollY||0;const _=Y=>{const ue=Y??f.current;ue&&(g.current!==null&&(window.clearTimeout(g.current),g.current=null),ue.style.transition="",ue.style.transform="")},N=()=>{["position","top","left","right","bottom","width","zIndex","transform","transition"].forEach(ue=>{try{m.style[ue]=""}catch{}}),_(m);try{v.style.minHeight="",v.style.position="",v.style.overflow=""}catch{}P=window.scrollY||0},E=()=>{const Y=document.querySelector("[data-app-header]"),ue=getComputedStyle(document.documentElement).getPropertyValue("--app-header-height"),te=Number.parseFloat(ue||"112");return Y?.getBoundingClientRect().height||te||112},D=(Y,ue)=>{const le=Math.max(-28,Math.min(28,ue*.6));if(Math.abs(le)<=1){Y.style.transition="",Y.style.transform="translate3d(0, 0, 0)",g.current!==null&&(window.clearTimeout(g.current),g.current=null);return}Y.style.transition="transform 180ms ease-out",Y.style.transform=`translate3d(0, ${(-le).toFixed(0)}px, 0)`,g.current!==null&&window.clearTimeout(g.current),g.current=window.setTimeout(()=>{Y.style.transition="transform 200ms ease-out",Y.style.transform="translate3d(0, 0, 0)",g.current=null},140)};let L=null;const $=()=>{const Y=f.current;if(!Y)return;const ue=Y.closest(".filter-sidebar-container"),te=ue?.closest(".products-layout");if(!ue||!te)return;if(!(window.innerWidth>=1024)){N();return}ue.style.position="relative",ue.style.overflow="visible";const fe=E()+24,me=24,ie=te.getBoundingClientRect(),J=ue.getBoundingClientRect(),ne=window.getComputedStyle(ue),G=Number.parseFloat(ne.paddingLeft||"0")||0,ve=Number.parseFloat(ne.paddingRight||"0")||0,Se=G+ve,X=Y.getBoundingClientRect().height,pe=window.scrollY+ie.top,re=pe+ie.height,xe=window.scrollY,Re=pe-fe,Le=re-fe-X-me;if(Le<=Re){N(),ue.style.position="relative",ue.style.minHeight=`${Math.ceil(X)}px`,Y.style.position="absolute",Y.style.top="0",Y.style.left=`${Math.round(G)}px`,Y.style.right="auto",Y.style.width=`calc(100% - ${Math.round(Se)}px)`,_(Y),P=xe;return}if(xe>=Le){const Ke=re-X-me-pe;ue.style.minHeight=`${Math.ceil(X)}px`,Y.style.position="absolute",Y.style.top=`${Math.max(0,Math.round(Ke))}px`,Y.style.left=`${Math.round(G)}px`,Y.style.right="auto",Y.style.width=`calc(100% - ${Math.round(Se)}px)`,Y.style.transform="none",_(Y),P=xe;return}if(xe>=Re){ue.style.minHeight=`${Math.ceil(X)}px`,Y.style.position="fixed",Y.style.top=`${Math.round(fe)}px`,Y.style.left=`${Math.round(J.left+G)}px`;const Ke=Math.max(0,Math.round(J.width-Se));Y.style.width=`${Ke}px`;const Ve=xe-P;Y.style.transform="translate3d(0, 0, 0)",D(Y,Ve),P=xe;return}N(),_(Y),P=xe},R=()=>{L===null&&(L=window.requestAnimationFrame(()=>{L=null,$()}))};R();const M=()=>R(),F=()=>R();window.addEventListener("scroll",M,{passive:!0}),window.addEventListener("resize",F),window.addEventListener("orientationchange",F);const V=[];if("ResizeObserver"in window){const Y=new ResizeObserver(R);Y.observe(v),V.push(Y);const ue=new ResizeObserver(R);ue.observe(w),V.push(ue)}return()=>{L!==null&&window.cancelAnimationFrame(L),window.removeEventListener("scroll",M),window.removeEventListener("resize",F),window.removeEventListener("orientationchange",F),V.forEach(Y=>Y.disconnect()),N(),_(m)}},[]),s.jsxs(yx,{ref:f,className:"glass-card squircle-lg w-full lg:max-w-none border-l-4 border-l-[rgba(95,179,249,0.5)] border-t border-r border-b border-[rgba(255,255,255,0.45)] catalog-filter-card",style:{background:"linear-gradient(to right, rgba(95,179,249,0.08) 0%, rgba(255,255,255,0.35) 8px, rgba(255,255,255,0.35) 100%)",backdropFilter:"blur(40px) saturate(1.7)"},children:[s.jsx(e4,{children:s.jsxs(t4,{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 truncate",children:[s.jsx(qq,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-semibold truncate",children:"Filters"})]}),s.jsx(_l,{variant:"outline",className:`squircle-sm inline-flex items-center justify-center w-7 h-5 flex-shrink-0 ${d>0?"":"invisible"}`,children:d||0})]}),s.jsx(Je,{variant:"ghost",size:"sm",onClick:u,className:`${d>0?"":"opacity-0 pointer-events-none"} whitespace-nowrap text-sm px-3 py-1`,children:"Clear All"})]})}),s.jsxs(vx,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ar,{children:"Dosage Form"}),s.jsx("div",{className:"space-y-2",children:e.map(m=>s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[s.jsx(v_,{id:`category-${m}`,checked:r.categories.includes(m),onCheckedChange:()=>i(m)}),s.jsx(Ar,{htmlFor:`category-${m}`,className:"text-sm cursor-pointer break-words",children:m})]}),s.jsx(_l,{variant:"outline",className:"text-xs squircle-sm",children:a[m]||0})]},m))})]}),Array.isArray(t)&&t.length>0&&s.jsx("div",{className:"space-y-6",children:t.map(m=>s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ar,{children:m.key==="tags"?"Research Domains":m.label}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-auto pr-1",children:m.tags.map(v=>s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[s.jsx(v_,{id:`tag-${m.key}-${v.slug}`,checked:r.tags.includes(v.slug),onCheckedChange:()=>l(v.slug)}),s.jsx(Ar,{htmlFor:`tag-${m.key}-${v.slug}`,className:"text-sm cursor-pointer break-words",children:v.name})]}),s.jsx(_l,{variant:"outline",className:"text-xs squircle-sm",children:v.count||0})]},v.slug))})]},m.key))}),s.jsx("p",{className:"pt-4 border-t border-[rgba(255,255,255,0.45)] text-xs leading-relaxed text-slate-700",children:"Grouping reflects areas of scientific inquiry reported in the literature and ongoing physician-led research initiatives. Categories are intended to serve as a starting point for your search process."})]})]})}var HU="Separator",ik="horizontal",VU=["horizontal","vertical"],h4=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=ik,...a}=e,i=GU(n)?n:ik,u=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(ws.div,{"data-orientation":i,...u,...a,ref:t})});h4.displayName=HU;function GU(e){return VU.includes(e)}var KU=h4;const b_=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(KU,{ref:a,"data-slot":"separator-root",decorative:r,orientation:t,className:xs("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n}));b_.displayName="Separator";const ok=50;function g4({images:e,alt:t,className:r,imageClassName:n,showDots:a=!0,showArrows:i=!1,children:l,onClick:u,...d}){const f=y.useMemo(()=>e&&e.length>0?e:[""],[e]),[g,m]=y.useState(0),[v,w]=y.useState(null),[P,_]=y.useState(null);y.useEffect(()=>{m(0)},[f]),y.useEffect(()=>{m(V=>{const Y=f.length>0?f.length-1:0;return Math.min(V,Y)})},[f.length]);const N=()=>{m(V=>V<f.length-1?V+1:V)},E=()=>{m(V=>V>0?V-1:V)},D=V=>{w(V.targetTouches[0].clientX),_(null)},L=V=>{_(V.targetTouches[0].clientX)},$=()=>{if(v!==null&&P!==null){const V=v-P;V>ok&&g<f.length-1&&N(),V<-ok&&g>0&&E()}w(null),_(null)},R=f.length>1,M=g>0,F=g<f.length-1;return s.jsxs("div",{className:qt("relative overflow-hidden",r),onClick:u,...d,children:[s.jsxs("div",{className:"relative h-full w-full",onTouchStart:D,onTouchMove:L,onTouchEnd:$,children:[s.jsx("div",{className:"flex h-full w-full transition-transform duration-300 ease-out",style:{transform:`translateX(-${g*100}%)`},children:f.map((V,Y)=>s.jsx("div",{className:"product-image-frame flex h-full w-full flex-shrink-0 items-center justify-center",children:s.jsx(a4,{src:V,alt:`${t} - ${Y+1}`,className:qt("product-image-frame__img",n)})},`${V}-${Y}`))}),l,R&&i&&M&&s.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),E()},"aria-label":"Previous image",className:"absolute left-2 top-1/2 -translate-y-1/2 rounded-full bg-white/90 p-2 text-[rgb(95,179,249)]",children:s.jsx(Nq,{className:"h-4 w-4"})}),R&&i&&F&&s.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),N()},"aria-label":"Next image",className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-full bg-white/90 p-2 text-[rgb(95,179,249)]",children:s.jsx(eb,{className:"h-4 w-4"})})]}),R&&a&&s.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-1.5",children:f.map((V,Y)=>s.jsx("button",{type:"button",onClick:ue=>{ue.stopPropagation(),m(Y)},className:qt("transition-all rounded-full",Y===g?"h-2 w-6 bg-white":"h-2 w-2 bg-white/50 hover:bg-white/75"),"aria-label":`View image ${Y+1}`,"aria-pressed":Y===g},`dot-${Y}`))})]})}const YU=e=>{const t=typeof e=="string"?e.trim().toLowerCase():"";return t?t==="zelle"?"zelle":t==="bank_transfer"||t==="banktransfer"||t==="bank transfer"?"bank_transfer":t==="zelle_ach"||t==="zelle/ach"||t==="zelle-ach"||t==="zelleach"?"zelle":t==="insurance"?"none":null:null},Ph=e=>typeof e=="string"?e.trim():e==null?"":String(e).trim(),XU=e=>!!(Ph(e.addressLine1)&&Ph(e.city)&&Ph(e.state)&&Ph(e.postalCode)&&Ph(e.country)),lk=e=>e.replace(/\b\w/g,t=>t.toUpperCase()),QU=e=>{const r=(e.serviceType||e.serviceCode||"Service").replace(/[_-]+/g," ").trim(),n=r?lk(r):"Service";return e.carrierId?`${lk(e.carrierId.replace(/[_-]+/g," ").trim())}  ${n}`:n},ck=(e,t)=>{const r=new Date(e);let n=Math.max(0,Math.floor(t));for(;n>0;){r.setDate(r.getDate()+1);const a=r.getDay();a!==0&&a!==6&&(n-=1)}return r},ZU=(e,t)=>{try{const n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour:"2-digit",hour12:!1}).formatToParts(e).find(i=>i.type==="hour")?.value,a=n?Number.parseInt(n,10):NaN;return Number.isFinite(a)?a:null}catch{return null}};function JU({isOpen:e,onClose:t,cartItems:r,forceProposalMode:n,onCheckout:a,onUpdateItemQuantity:i,onRemoveItem:l,isAuthenticated:u,onRequireLogin:d,physicianName:f,customerEmail:g,customerName:m,onClearCart:v,onPaymentSuccess:w,defaultShippingAddress:P,availableCredits:_=0,pricingMode:N,onPricingModeChange:E,showRetailPricingToggle:D=!1,estimateTotals:L,allowUnauthenticatedCheckout:$=!1,delegateDoctorName:R,delegatePaymentMethod:M,delegatePaymentInstructions:F,pricingMarkupPercent:V,proposalMarkupPercent:Y}){const[ue,te]=y.useState(""),[le,fe]=y.useState(null),[me,ie]=y.useState(null),[J,ne]=y.useState(!1),[G,ve]=y.useState({}),[Se,X]=y.useState(!1),[pe,re]=y.useState({}),[xe,Re]=y.useState(!1),[Le,Ke]=y.useState("zelle"),[Ve,Te]=y.useState(null),[st,lt]=y.useState("idle"),[Me,Rt]=y.useState(null),At=y.useRef(null),Vt=y.useRef(null),tr=y.useRef(null),[Nt,et]=y.useState({name:P?.name||f||m||"",addressLine1:P?.addressLine1||"",addressLine2:P?.addressLine2||"",city:P?.city||"",state:P?.state||"",postalCode:P?.postalCode||"",country:P?.country||"US"}),[Ie,mt]=y.useState(null),[Tt,ht]=y.useState(null),[gt,Nr]=y.useState(null),[Jt,Ca]=y.useState(!1),dn=y.useRef(null),Wa=y.useRef(0),[Wn,Pa]=y.useState(!1),[kr,Aa]=y.useState(null),[Xo,Ls]=y.useState(null),[$s,Fs]=y.useState(!1),ns=y.useRef(null),sn=y.useRef(null);y.useEffect(()=>{const ce=tt=>{Pa(!!tt.detail?.open)};return window.addEventListener("peppro:legal-state",ce),()=>window.removeEventListener("peppro:legal-state",ce)},[]);const ka=y.useCallback(()=>{dn.current&&(Wa.current=dn.current.scrollTop)},[]),Bi=y.useCallback(()=>{dn.current&&(dn.current.scrollTop=Wa.current)},[]);y.useLayoutEffect(()=>{Wn||Bi()},[Wn,Bi]);const fn=y.useCallback(ce=>{ka(),Pa(!0),window.dispatchEvent(new CustomEvent("peppro:open-legal",{detail:{key:ce,preserveDialogs:!0}}))},[ka]),ma=N??"wholesale",br=ma==="retail",Et=y.useMemo(()=>{const ce=Number(Y??NaN);return Number.isFinite(ce)?Math.max(0,Math.min(500,ce)):null},[Y]),_r=(ce,tt)=>{const Be=ce.bulkPricingTiers??[];if(!Be.length)return[];const xt=[...Be].sort((Fr,oa)=>Fr.minQuantity-oa.minQuantity),Bt=xt.findIndex(Fr=>tt<Fr.minQuantity);let Xt=Bt===-1?Math.max(0,xt.length-5):Math.max(0,Bt-2),gr=xt.slice(Xt,Xt+5);return gr.length<5&&Xt>0&&(Xt=Math.max(0,Xt-(5-gr.length)),gr=xt.slice(Xt,Xt+5)),gr},hr=y.useMemo(()=>r.map(({id:ce,product:tt,quantity:Be,note:xt,variant:Bt},Xt)=>{const gr=_h(tt,Bt,Be,{pricingMode:ma,markupPercent:V});return{cartItemId:ce,productId:tt.id,variantId:Bt?.id??null,name:Bt?`${tt.name}  ${Bt.label}`:tt.name,price:gr,quantity:Be,note:xt??null,position:Xt+1,sku:Bt?.sku||tt.sku||null,image:Bt?.image||tt.image||null}}),[r,V,ma]),Lr=y.useMemo(()=>hr.map(ce=>`${ce.productId}:${ce.variantId||"base"}:${ce.quantity}:${ce.price}`).join("|"),[hr]),Ha=y.useMemo(()=>hr.reduce((ce,tt)=>ce+tt.price*tt.quantity,0),[hr]),Cr=Math.max(0,Number(le?.discountAmount||0)),ur=gt!=null&&Ie?Ie[gt]:null,pn=ur?.rate&&Number(ur.rate)||0,Vr=Math.max(0,typeof kr?.amount=="number"?kr.amount:0),mn=Math.max(0,Number(_||0)),Hn=Math.max(0,Ha-Cr),$r=Math.min(Hn,mn),si=Math.max(0,Hn-$r+pn+Vr),Ns=kr?.testPaymentOverrideApplied===!0,Bs=typeof kr?.originalGrandTotal=="number"&&Number.isFinite(kr.originalGrandTotal)?Math.max(0,kr.originalGrandTotal):null,qi=Ns?0:$r,aa=Ns?0:pn,$n=Ns?0:Vr,qs=Ns?.01:si,Rn=[Nt.addressLine1,Nt.addressLine2,Nt.city,Nt.state,Nt.postalCode,Nt.country].map(ce=>Ph(ce).toUpperCase()).join("|"),Qo=XU(Nt),as=!0,sa=!!(Ie&&Ie.length>0&&gt!=null),js=!!(e&&(u||$)&&sa&&Qo&&hr.length>0),Ea=xe&&as&&sa&&(!js||!!kr&&!$s),ss=y.useMemo(()=>{if(!js)return null;const ce=ur?.addressFingerprint||`${ur?.carrierId||"carrier"}:${ur?.serviceCode||ur?.serviceType||"service"}`;return[Lr||"items",Rn||"address",ce,pn.toFixed(2),Le||"payment",le?.code||"no-discount",Cr.toFixed(2)].join("|")},[js,Lr,Rn,ur,pn,Le,le?.code,Cr]),sr=Ea&&(u||$),hn=!!($&&R),Tn=hn||!!n,_s=Tn&&!hn&&Et!=null,Oa="wholesale",fo=hn?String(R||"").trim().toLowerCase()==="doctor"?"Doctor":`Dr. ${R}`:null;y.useEffect(()=>{if(e){if(hn){const ce=YU(M)??"none";Ke(ce);return}Le==="none"&&Ke("zelle")}},[M,hn,e,Le]),y.useEffect(()=>{e&&(hn||!u||$)&&(te(""),fe(null),ie(null))},[$,u,hn,e]),y.useEffect(()=>{fe(null),ie(null)},[Lr]);const Zo=y.useCallback(async()=>{const ce=ue.trim().toUpperCase();if(!ce){fe(null),ie(null);return}if(!u||$){fe(null),ie("Sign in to apply discount codes.");return}ne(!0);try{const tt=r.reduce((xt,Bt)=>{const Xt=Number(Bt.quantity||0);return xt+(Number.isFinite(Xt)?Math.max(0,Xt):0)},0),Be=await zL.preview(ce,Ha,tt,r.map(xt=>({quantity:xt.quantity})));if(Be?.valid){const xt=Math.max(0,Number(Be.discountAmount||0)),Bt=Math.max(0,Number(Be.discountValue||0));fe({code:String(Be.code||ce),discountValue:Bt,discountAmount:xt}),ie(null)}else fe(null),ie(String(Be?.message||"Invalid discount code"))}catch(tt){fe(null),ie((tt?.message||"Failed to apply discount code").toString())}finally{ne(!1)}},[$,r,ue,u,Ha]),Ni=y.useMemo(()=>{if(!hn)return null;const ce=typeof F=="string"?F.trim():"";return ce||null},[F,hn]),ia=y.useMemo(()=>Le==="zelle"?"Zelle":Le==="bank_transfer"?"Direct Bank Transfer":"-",[Le]);let Ui=hn?`Share with ${fo}`:`Place Order (${qs.toFixed(2)})`;st==="success"&&Me||st==="error"&&Me?Ui=Me:$s&&js?Ui="Calculating taxes":Se&&(Ui="Processing order...");const Fn=y.useMemo(()=>{const ce=new Map;for(const tt of r){const Be=tt.product,xt=tt.variant??null,Bt=typeof xt?.wooId=="number"?`variant:${xt.wooId}`:typeof Be.wooId=="number"?`product:${Be.wooId}`:`product:${Be.id}`,Xt=ce.get(Bt)??{requested:0,inStock:!0,stockQuantity:null};Xt.requested+=Math.max(0,Number(tt.quantity)||0);const gr=xt?xt.inStock:Be.inStock;Xt.inStock=Xt.inStock&&gr!==!1;const Fr=xt?.stockQuantity??Be.stockQuantity??null;typeof Fr=="number"&&Number.isFinite(Fr)&&Fr>=0&&(Xt.stockQuantity=Xt.stockQuantity==null?Math.floor(Fr):Math.min(Xt.stockQuantity,Math.floor(Fr))),ce.set(Bt,Xt)}for(const tt of ce.values())if(!tt.inStock||tt.stockQuantity!=null&&tt.requested>tt.stockQuantity)return!0;return!1},[r]),Vn=y.useMemo(()=>{if(!ur)return null;const ce=new Date,xt=(ZU(ce,"America/Los_Angeles")??ce.getHours())>=13,Bt=Fn?3:0,Xt=xt?2:1,gr=xt?3:2,Fr=Bt+Xt,oa=Bt+gr,Ur=ck(ce,Fr),$e=ck(ce,oa),xr=Ur.toDateString()===$e.toDateString()?Ur.toLocaleDateString():`${Ur.toLocaleDateString()}${$e.toLocaleDateString()}`,ha=[];Bt&&ha.push("3 business day backorder"),ha.push(`${Xt}${gr} business day processing`);const rr=`${ha.join(" + ")}${xt?" (order placed after 1pm PT)":""}`;return{shipWindowLabel:xr,mathText:rr,disclaimer:"Carrier transit begins after shipment and is not guaranteed."}},[Fn,ur]),Cs=y.useMemo(()=>!_s||Et==null?null:r.reduce((ce,tt)=>{const Be=_h(tt.product,tt.variant??null,tt.quantity,{pricingMode:Oa,markupPercent:Et});return ce+Be*tt.quantity},0),[r,Oa,Et,_s]),ii=y.useMemo(()=>Cs==null?null:Math.max(0,Cs+aa+$n),[Cs,aa,$n]),po=async()=>{if(!Qo){const ce="Enter the full shipping address before requesting shipping rates.";ht(ce),Xe.error(ce);return}ht(null),Ca(!0);try{const tt={shippingAddress:Nt,items:r.map(Bt=>{const Xt=Bt.variant?.dimensions||Bt.product.dimensions||{},gr=Bt.variant?.weightOz??Bt.product.weightOz??null,Fr=typeof gr=="number"&&Number.isFinite(gr)&&gr>0?gr:16;return{name:Bt.product.name,quantity:Bt.quantity,weightOz:Fr,lengthIn:Xt?.lengthIn??null,widthIn:Xt?.widthIn??null,heightIn:Xt?.heightIn??null}})},Be=await HL.getRates(tt),xt=Array.isArray(Be?.rates)?Be.rates:[];mt(xt),Nr(xt.length>0?0:null),Vt.current=xt.length>0?Rn:null,tr.current=xt.length>0?Lr:null,xt.length||ht("No shipping rates available for this address.")}catch(ce){const tt=ce?.message||"Unable to fetch shipping rates. Please check the address.";ht(tt),Xe.error(tt)}finally{Ca(!1)}},ji=async()=>{console.debug("[CheckoutModal] Checkout start",{total:si,items:r.map(ce=>({id:ce.id,productId:ce.product.id,variantId:ce.variant?.id,qty:ce.quantity}))}),X(!0);try{const ce=await a({shippingAddress:Nt,shippingRate:ur,shippingTotal:pn,expectedShipmentWindow:Vn?.shipWindowLabel??null,physicianCertificationAccepted:xe,taxTotal:Vr,paymentMethod:Le==="none"?null:Le,discountCode:le?.code??null});if(hn){const xr=(ce&&typeof ce=="object"&&"message"in ce&&ce.message?String(ce.message):null)||`Shared with ${fo||"Doctor"}`;Te(null),lt("success"),Rt(xr),Xe.success(xr),console.debug("[CheckoutModal] Delegate share success"),v&&v(),w&&w(),At.current&&clearTimeout(At.current),At.current=setTimeout(()=>{lt("idle"),Rt(null),t()},8e3);return}const Be=($e=>{if(!$e)return null;const xr=$e.integrations?.wooCommerce?.response||null,ha=xr?.paymentUrl||xr?.payForOrderUrl||xr?.payment_url||null,rr=()=>{if(!ha)return null;const Ta=String(ha).match(/order-pay\/(\d+)/i);return Ta&&Ta[1]?Ta[1]:null},Ra=[xr?.number,$e.order?.wooOrderNumber,$e.order?.number,xr?.id,rr(),$e.order?.wooOrderId];for(const zi of Ra){if(zi==null)continue;const Ta=String(zi).trim().replace(/^#/,"");if(Ta)return Ta}return null})(ce);Te(Be);const xt=Le==="zelle",Bt=Le==="bank_transfer",Xt=xt||Bt,gr=xt?Be?`We received your order! Please Zelle support@peppro.net with the memo 'Order #${Be}'. Instructions to follow in an email.`:"We received your order! Please Zelle support@peppro.net. Instructions to follow in an email.":Bt?"We received your order! An email will follow with Direct Bank Trasnfer (ACH) instructions.":"We received your order!",Fr=ce&&typeof ce=="object"&&"message"in ce&&ce.message?String(ce.message):"We received your order!",oa=Xt?gr:Fr;lt("success"),Rt(Be?`Order #${Be} placed`:oa);const Ur=Xt?gr:Be?`Order #${Be} placed.`:oa;Xe.success(Ur),console.debug("[CheckoutModal] Checkout success"),v&&v(),w&&w(),At.current&&clearTimeout(At.current),At.current=setTimeout(()=>{lt("idle"),Rt(null),t()},8e3)}catch(ce){console.warn("[CheckoutModal] Checkout handler threw",ce);const tt=typeof ce?.message=="string"&&ce.message.trim().length>0?ce.message:"Unable to complete purchase. Please try again.";throw lt("error"),Rt(tt),Xe.error(tt),ce}finally{X(!1)}},Va=async()=>{if(!xe||!as){Xe.error("Accept the terms to continue.");return}if(!sa){Xe.error("Select a shipping option before completing your purchase.");return}if(js&&(!kr||$s)){Xe.error("We are calculating taxes for this order. Please try again in a moment.");return}if(!u&&!$){d();return}if(Se){console.debug("[CheckoutModal] Checkout ignored, already processing");return}try{console.debug("[CheckoutModal] Checkout button confirmed"),await ji()}catch{}},Us=(ce,tt)=>{const Be=Math.min(999,tt+1);ve(xt=>({...xt,[ce]:String(Be)})),i(ce,Be),re(xt=>({...xt,[ce]:!0}))},Ol=(ce,tt)=>{const Be=Math.max(1,tt-1);ve(xt=>({...xt,[ce]:String(Be)})),i(ce,Be),re(xt=>({...xt,[ce]:!0}))},Sc=(ce,tt)=>{const Be=tt.replace(/[^0-9]/g,"");if(ve(xt=>({...xt,[ce]:Be})),Be){const xt=Math.max(1,Math.min(999,parseInt(Be,10)));i(ce,xt),re(Bt=>({...Bt,[ce]:!0}))}},Jo=ce=>{G[ce]||(ve(tt=>({...tt,[ce]:"1"})),i(ce,1))},Nc=ce=>{console.debug("[CheckoutModal] Remove item request",{cartItemId:ce}),l(ce),ve(tt=>{const{[ce]:Be,...xt}=tt;return xt})};y.useEffect(()=>{e||(ve({}),X(!1),re({}),Re(!1),Ke("zelle"),Te(null),lt("idle"),Rt(null),mt(null),Nr(null),ht(null),tr.current=null,Aa(null),Ls(null),Fs(!1),ns.current=null,sn.current&&(sn.current.abort(),sn.current=null),et({name:P?.name||f||m||"",addressLine1:P?.addressLine1||"",addressLine2:P?.addressLine2||"",city:P?.city||"",state:P?.state||"",postalCode:P?.postalCode||"",country:P?.country||"US"}),At.current&&(clearTimeout(At.current),At.current=null))},[P,m,e,f]),y.useEffect(()=>{et(ce=>({...ce,name:P?.name||f||m||ce.name||"",addressLine1:P?.addressLine1??ce.addressLine1??"",addressLine2:P?.addressLine2??ce.addressLine2??"",city:P?.city??ce.city??"",state:P?.state??ce.state??"",postalCode:P?.postalCode??ce.postalCode??"",country:P?.country??ce.country??"US"}))},[P,f,m]),y.useEffect(()=>{if(r.length===0){ve({});return}const ce={};r.forEach(tt=>{ce[tt.id]=String(tt.quantity)}),ve(ce),re(tt=>{const Be={};return r.forEach(xt=>{Be[xt.id]=tt[xt.id]??!1}),Be})},[r]),y.useEffect(()=>{if(!Ie||Ie.length===0){Vt.current=null;return}Vt.current!==Rn&&(Vt.current=null,mt(null),Nr(null),ht("Shipping address changed. Please fetch shipping rates again."))},[Rn,Ie]),y.useEffect(()=>{if(!Ie||Ie.length===0){tr.current=null;return}tr.current!==Lr&&(tr.current=null,mt(null),Nr(null),ht(Tn?"Proposal updated. Please fetch shipping rates again.":"Cart updated. Please fetch shipping rates again."))},[Lr,Ie]);const zs=y.useCallback(async ce=>{if(!js||!ss||!ce?.force&&ns.current?.key===ss)return;sn.current&&sn.current.abort();const tt=new AbortController;sn.current=tt,ns.current?.key!==ss&&Aa(null),Fs(!0),Ls(null);try{const xt=await(L??ti.estimateTotals)({items:hr.map($e=>({productId:$e.productId,variantId:$e.variantId,price:$e.price,quantity:$e.quantity})),shippingAddress:Nt,shippingEstimate:ur,shippingTotal:pn,paymentMethod:Le,discountCode:le?.code??null},{signal:tt.signal});if(tt.signal.aborted)return;const Bt=xt?.totals||null,Xt=Math.max(0,Number(Bt?.taxTotal)||0),gr=Number(Bt?.grandTotal),Fr=Math.max(0,Hn-$r+pn+Xt),oa=Bt?.testPaymentOverrideApplied===!0,Ur=Number(Bt?.originalGrandTotal);Aa({amount:Xt,currency:typeof Bt?.currency=="string"&&Bt.currency?Bt.currency:"USD",grandTotal:Number.isFinite(gr)?Math.max(0,gr):Fr,source:Bt?.source||null,testPaymentOverrideApplied:oa,originalGrandTotal:Number.isFinite(Ur)?Math.max(0,Ur):null}),ns.current={key:ss,ts:Date.now()}}catch(Be){if(tt.signal.aborted)return;const xt=typeof Be?.message=="string"&&Be.message.trim()?gu(Be.message):"Unable to calculate taxes right now. Please try again.";Ls(xt),Aa(null),ns.current=null}finally{sn.current===tt&&(sn.current=null),tt.signal.aborted||Fs(!1)}},[$r,hr,Hn,L,Le,ur,Nt,pn,js,ss,le?.code]);y.useEffect(()=>{if(!js||!ss){sn.current&&(sn.current.abort(),sn.current=null),Aa(null),Ls(null),Fs(!1),ns.current=null;return}return zs().catch(ce=>{console.warn("[CheckoutModal] Tax estimate failed",ce)}),()=>{sn.current&&(sn.current.abort(),sn.current=null)}},[zs,js,ss]);const Ps=y.useCallback(()=>{ns.current=null,zs({force:!0}).catch(ce=>{console.warn("[CheckoutModal] Tax estimate retry failed",ce)})},[zs]);if(r.length===0)return null;const Rl="calc(var(--modal-header-offset, 6rem) + var(--safe-area-top, 0px) - 0.5rem)";return s.jsx(fu,{open:e,modal:!Wn,onOpenChange:ce=>{if(console.debug("[CheckoutModal] Dialog open change",{open:ce}),!ce){if(Wn){console.debug("[CheckoutModal] Close request blocked by legal modal");return}t()}},children:s.jsxs(pc,{hideCloseButton:!0,className:"checkout-modal glass-card squircle-lg w-full max-w-[min(960px,calc(100vw-3rem))] border border-[var(--brand-glass-border-2)] shadow-2xl p-0 flex flex-col max-h-[90vh] overflow-hidden",style:{backdropFilter:"blur(38px) saturate(1.6)",maxHeight:"calc(var(--viewport-height, 100dvh) - var(--modal-header-offset, 6rem) + 0.5rem - clamp(1.5rem, 6vh, 3rem))"},overlayClassName:"bg-slate-950/40 z-[9000]",overlayStyle:{top:Rl},containerStyle:Wn?{pointerEvents:"none",zIndex:11e3,top:Rl}:{zIndex:11e3,top:Rl},"data-legal-overlay":Wn?"true":"false",trapFocus:!Wn,disableOutsidePointerEvents:!1,children:[s.jsx(hd,{className:"sticky top-0 z-10 glass-card border-b border-[var(--brand-glass-border-1)] px-6 py-4 backdrop-blur-lg",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(Nl,{className:"text-xl font-semibold text-[rgb(95,179,249)]",children:Tn?"Proposal":"Checkout"}),s.jsx(jl,{children:Tn?hn?`Review your proposal and share it with ${fo||"the doctor"}.`:"Review this proposal and place your order.":"Review and place your order."})]}),s.jsx(iP,{className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)",borderRadius:"50%"},"aria-label":Tn?"Close proposal":"Close checkout",children:s.jsx(md,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-3",ref:dn,children:s.jsx("div",{className:"space-y-6",children:s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{children:"Order Summary"}),D&&s.jsxs("div",{className:`glass-card squircle-lg flex flex-wrap items-center justify-between gap-4 border px-6 py-4 transition-colors ${br?"border-[rgba(34,197,94,0.38)] shadow-[0_20px_48px_-38px_rgba(34,197,94,0.35)]":"border-[rgba(95,179,249,0.28)] shadow-[0_20px_48px_-40px_rgba(95,179,249,0.22)] hover:border-[rgba(95,179,249,0.42)]"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{id:"retail-pricing-toggle",type:"checkbox",className:"brand-checkbox",checked:br,onChange:ce=>{const tt=ce.target.checked?"retail":"wholesale";E?.(tt)}}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{htmlFor:"retail-pricing-toggle",className:"text-base font-semibold text-slate-900",children:"Retail pricing"}),s.jsx("span",{className:"text-xs text-slate-600",children:"For Sales Reps only"})]})]}),br&&s.jsx("span",{className:"inline-flex items-center rounded-full border border-green-200/80 bg-green-50/70 px-3 py-1 text-xs font-semibold text-green-800",children:"Enabled"})]}),s.jsx("div",{className:"flex w-full max-w-full flex-col gap-4 pb-2 lg:grid lg:grid-cols-2 auto-rows-fr",children:r.map((ce,tt)=>{const Be=ce.product.images.length>0?ce.product.images:[ce.product.image],xt=ce.variant?.image?[ce.variant.image,...Be].filter((rr,Ra,zi)=>rr&&zi.indexOf(rr)===Ra):Be,Bt=_h(ce.product,ce.variant,ce.quantity,{pricingMode:ma,markupPercent:0}),Xt=_s&&Et!=null?_h(ce.product,ce.variant,ce.quantity,{pricingMode:Oa,markupPercent:Et}):null,gr=_h(ce.product,ce.variant,ce.quantity,{pricingMode:ma,markupPercent:V}),Fr=gr*ce.quantity,oa=Xt!=null?Xt*ce.quantity:null,Ur=(ce.product.bulkPricingTiers??[]).sort((rr,Ra)=>rr.minQuantity-Ra.minQuantity),$e=_r(ce.product,ce.quantity),xr=Ur.find(rr=>ce.quantity<rr.minQuantity)||null,ha=pe[ce.id]??!1;return s.jsx(yx,{className:"glass squircle-sm h-full w-full",children:s.jsx(vx,{className:"p-3 [&:last-child]:pb-3 relative",children:s.jsx("div",{className:"checkout-item-scroll",children:s.jsx("div",{className:"checkout-item-scroll-inner",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4 min-w-0 flex-1",children:[s.jsx("div",{className:"checkout-item-image self-start",children:s.jsx(g4,{images:xt,alt:ce.product.name,className:"flex h-full w-full items-center justify-center rounded-lg bg-white/80 p-2",imageClassName:"h-full w-full object-contain",style:{"--product-image-frame-padding":"clamp(0.35rem, 0.75vw, 0.7rem)"},showDots:xt.length>1,showArrows:!1})}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("h4",{className:"line-clamp-1",children:["#",tt+1,"  ",ce.product.name]}),s.jsx("p",{className:"text-sm text-gray-600",children:ce.product.dosage}),ce.variant&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Variant: ",ce.variant.label]}),s.jsxs("div",{className:"mt-2 mb-2 flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[_s&&Xt!=null?s.jsxs("div",{className:"flex flex-col leading-tight",children:[s.jsxs("span",{className:br?"text-green-700 font-bold tabular-nums":"text-green-600 font-bold tabular-nums",children:[s.jsx("span",{className:"text-[11px] font-semibold text-slate-500 mr-1",children:"Doctor:"}),"$",Bt.toFixed(2),br?s.jsx("span",{className:"ml-1 text-[11px] font-semibold text-green-700",children:"(Retail)"}):null]}),s.jsxs("span",{className:"text-[rgb(95,179,249)] font-semibold tabular-nums text-[12px]",children:[s.jsx("span",{className:"text-[11px] font-semibold text-slate-500 mr-1",children:"Delegate:"}),"$",Xt.toFixed(2)]})]}):s.jsxs("span",{className:br?"text-green-700 font-bold":"text-green-600 font-bold",children:["$",gr.toFixed(2),br?s.jsx("span",{className:"ml-1 text-xs font-semibold text-green-700",children:"(Retail)"}):null]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Je,{type:"button",variant:"outline",size:"icon",onClick:()=>Ol(ce.id,ce.quantity),disabled:ce.quantity<=1,className:"squircle-sm bg-slate-50 border-2",children:s.jsx(sP,{className:"h-4 w-4"})}),s.jsx(zr,{value:G[ce.id]??String(ce.quantity),onChange:rr=>Sc(ce.id,rr.target.value),onBlur:()=>Jo(ce.id),inputMode:"numeric",pattern:"[0-9]*",className:"w-16 text-center squircle-sm bg-slate-50 border-2"}),s.jsx(Je,{type:"button",variant:"outline",size:"icon",onClick:()=>Us(ce.id,ce.quantity),className:"squircle-sm bg-slate-50 border-2",children:s.jsx(Fh,{className:"h-4 w-4"})})]})]}),!br&&$e.length>0&&s.jsxs("div",{className:"mt-3 glass-card squircle-sm border border-[var(--brand-glass-border-2)] p-3 space-y-2",children:[s.jsxs("button",{type:"button",className:"flex w-full items-center justify-between text-xs font-semibold text-slate-700",onClick:()=>re(rr=>({...rr,[ce.id]:!ha})),children:[s.jsx("span",{className:"tracking-wide uppercase text-[0.65rem]",children:"Bulk Pricing"}),s.jsx("span",{className:"text-[rgb(95,179,249)] text-[0.65rem]",children:ha?"Hide":"Show"})]}),ha&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-1.5 pt-4",children:$e.map(rr=>s.jsxs("div",{className:"flex items-center justify-between rounded-md px-2 py-1 text-[0.8rem]",children:[s.jsxs("span",{className:ce.quantity>=rr.minQuantity?"text-green-600 font-semibold":"text-slate-600",children:["Buy ",rr.minQuantity,"+"]}),s.jsxs("span",{className:`tabular-nums ${ce.quantity>=rr.minQuantity?"text-green-600 font-semibold":"text-slate-600"}`,children:["Save ",rr.discountPercentage,"%"]})]},`${rr.minQuantity}-${rr.discountPercentage}`))}),xr&&s.jsxs("p",{className:"text-xs text-[rgb(95,179,249)] font-medium",children:["Buy ",xr.minQuantity-ce.quantity," more to save ",xr.discountPercentage,"%"]})]})]}),ce.note&&s.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Notes: ",ce.note]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-3 shrink-0 text-right",children:[s.jsxs("div",{className:"flex flex-col items-end leading-tight",children:[s.jsxs("p",{className:`${br?"text-green-700":""} font-bold tabular-nums tracking-tight`,children:["$",Fr.toFixed(2)]}),_s&&oa!=null&&s.jsxs("p",{className:"text-[12px] font-semibold text-[rgb(95,179,249)] tabular-nums",children:["Delegate: $",oa.toFixed(2)]})]}),s.jsxs(Je,{type:"button",variant:"ghost",size:"icon",onClick:()=>Nc(ce.id),className:"text-red-500 hover:text-red-600",children:[s.jsx(u_,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Remove item"})]})]})]})})})})},ce.id)})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{children:"Shipping Address"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Ar,{htmlFor:"ship-name",children:"Recipient Name"}),s.jsx(zr,{id:"ship-name",placeholder:"Full name",value:Nt.name||"",onChange:ce=>et(tt=>({...tt,name:ce.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Ar,{htmlFor:"ship-line1",children:"Address Line 1"}),s.jsx(zr,{id:"ship-line1",placeholder:"Street address",value:Nt.addressLine1||"",onChange:ce=>et(tt=>({...tt,addressLine1:ce.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Ar,{htmlFor:"ship-line2",children:"Address Line 2"}),s.jsx(zr,{id:"ship-line2",placeholder:"Apt, suite, etc. (optional)",value:Nt.addressLine2||"",onChange:ce=>et(tt=>({...tt,addressLine2:ce.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Ar,{htmlFor:"ship-city",children:"City"}),s.jsx(zr,{id:"ship-city",placeholder:"City",value:Nt.city||"",onChange:ce=>et(tt=>({...tt,city:ce.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Ar,{htmlFor:"ship-state",children:"State"}),s.jsx(zr,{id:"ship-state",placeholder:"State",value:Nt.state||"",onChange:ce=>et(tt=>({...tt,state:ce.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Ar,{htmlFor:"ship-postal",children:"Postal Code"}),s.jsx(zr,{id:"ship-postal",placeholder:"ZIP / Postal code",value:Nt.postalCode||"",onChange:ce=>et(tt=>({...tt,postalCode:ce.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Ar,{htmlFor:"ship-country",children:"Country"}),s.jsx(zr,{id:"ship-country",placeholder:"Country",value:Nt.country||"US",onChange:ce=>et(tt=>({...tt,country:ce.target.value})),className:"squircle-sm bg-slate-50 border-2"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Je,{type:"button",variant:"secondary",onClick:po,disabled:Jt||r.length===0||!Qo,className:"squircle-sm",children:Jt?"Fetching rates...":"Get shipping rates"}),Tt&&s.jsx("p",{className:"text-sm text-red-600",children:Tt})]}),Ie&&Ie.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:"Select a service"}),s.jsxs("select",{className:"shipping-rate-select",value:gt!=null?String(gt):"",onChange:ce=>{const tt=ce.target.value?Number(ce.target.value):null;Nr(tt)},children:[s.jsx("option",{value:"",disabled:!0,children:"Choose a shipping option"}),Ie.map((ce,tt)=>s.jsxs("option",{value:tt,children:[QU(ce),"  $",Number(ce.rate||0).toFixed(2)]},`${ce.serviceCode}-${tt}`))]}),gt!=null&&Ie[gt]&&s.jsx("div",{className:"rounded-md bg-slate-50 px-3 py-2 text-xs text-slate-600",children:Vn&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:["Estimated Shipping window: ",Vn.shipWindowLabel]}),s.jsx("p",{className:"text-xs text-slate-600",children:Vn.mathText}),s.jsx("p",{className:"text-[11px] text-slate-500",children:Vn.disclaimer})]})})]})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsx("h3",{className:"mb-2",children:"Payment Information"}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/70 px-3 py-4 mb-3 text-sm text-slate-700 leading-relaxed",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[Le==="zelle"?s.jsx(uq,{size:20,className:"text-slate-600 shrink-0","aria-hidden":"true"}):s.jsx(Gq,{size:20,className:"text-slate-600 shrink-0","aria-hidden":"true"}),s.jsx("p",{className:"font-bold text-slate-800",children:ia})]}),hn?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"mt-2",children:["Payment method is configured by ",fo||"the doctor"," for this proposal."]}),Ni?s.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-white/70 px-3 py-2",children:[s.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Instructions"}),s.jsx("p",{className:"mt-1 whitespace-pre-wrap text-[13px] text-slate-700",children:Ni})]}):null]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"mt-2",children:["After you place your order, well email"," ",Le==="zelle"?"Zelle":"bank transfer"," instructions to"," ",s.jsx("span",{children:g||"your email address"}),"."]}),s.jsxs("p",{className:"mt-2 text-[13px] text-slate-600",children:[s.jsx("span",{className:"font-semibold",children:"Important:"})," Include your order number in the payment memo/notes (well show it here after you place the order).",Le==="zelle"?" Ensure your bank supports Zelle and that your Zelle account is set up and ready.":""]}),s.jsxs("p",{className:"mt-2 text-[13px] text-slate-600",children:[s.jsx("span",{className:"font-semibold",children:"Note:"})," PepPro emails may land in your junk/spam folder. If youre expecting an email and dont see it, please check there."]})]})]}),!hn&&s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[s.jsx(Je,{type:"button",variant:"secondary",onClick:()=>Ke("zelle"),"aria-pressed":Le==="zelle",className:`squircle-sm checkout-payment-method-button justify-center gap-2 font-semibold ${Le==="zelle"?"checkout-payment-method-button--active":"checkout-payment-method-button--inactive"}`,children:"Zelle"}),s.jsx(Je,{type:"button",variant:"secondary",onClick:()=>Ke("bank_transfer"),"aria-pressed":Le==="bank_transfer",className:`squircle-sm checkout-payment-method-button justify-center gap-2 font-semibold ${Le==="bank_transfer"?"checkout-payment-method-button--active":"checkout-payment-method-button--inactive"}`,children:"Direct Bank Transfer"})]}),st==="success"&&Ve&&s.jsxs("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-900",children:[s.jsxs("p",{className:"font-semibold",children:["Your order number: ",Ve]}),s.jsxs("p",{className:"mt-1",children:["Use this as your payment memo/notes:"," ",s.jsxs("span",{className:"font-mono",children:["Order #",Ve]})]})]})]}),!hn&&u&&!$&&s.jsx("div",{className:"pt-1",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(Ar,{htmlFor:"checkout-discount-code",className:"text-xs font-semibold text-slate-700",children:"Discount code"}),s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[s.jsx(zr,{id:"checkout-discount-code",value:ue,onChange:ce=>te(ce.target.value),placeholder:"Enter code",className:"h-10 w-full sm:flex-1 squircle-sm glass focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.25)]"}),s.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:Zo,disabled:J,className:"header-home-button h-10 squircle-sm bg-white text-slate-900 gap-2",children:J?"Applying":"Apply"})]}),me&&s.jsx("div",{className:"text-xs text-red-600",children:me}),le&&!me&&s.jsxs("div",{className:"text-xs text-emerald-700",children:["Applied ",le.code," ($",le.discountValue.toFixed(2)," off)"]})]})}),s.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[s.jsx("input",{type:"checkbox",id:"physician-terms",className:"brand-checkbox",checked:xe,onChange:ce=>Re(ce.target.checked)}),s.jsxs("label",{htmlFor:"physician-terms",className:"text-sm text-slate-700 leading-snug flex-1",children:[hn?s.jsxs(s.Fragment,{children:["I understand I am shopping as a delegate and will share this cart with ",fo||"Doctor",", and I agree to PepPro's"," "]}):s.jsxs(s.Fragment,{children:["I certify that I am ",f||"the licensed physician for this account",", and I agree to PepPro's"," "]}),s.jsx("button",{type:"button",className:"legal-inline-link",onClick:ce=>{ce.preventDefault(),ce.stopPropagation(),fn("terms")},children:"Terms of Service"}),", ",s.jsx("button",{type:"button",className:"legal-inline-link",onClick:ce=>{ce.preventDefault(),ce.stopPropagation(),fn("shipping")},children:"Shipping Policy"}),", and ",s.jsx("button",{type:"button",className:"legal-inline-link",onClick:ce=>{ce.preventDefault(),ce.stopPropagation(),fn("privacy")},children:"Privacy Policy"}),"."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(b_,{}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsxs("span",{className:br?"text-green-700 font-semibold tabular-nums":"tabular-nums",children:["$",Ha.toFixed(2)]})]}),_s&&Cs!=null&&s.jsxs("div",{className:"flex justify-between text-sm text-slate-700",children:[s.jsx("span",{children:"Delegate subtotal:"}),s.jsxs("span",{className:"tabular-nums text-[rgb(95,179,249)] font-semibold",children:["$",Cs.toFixed(2)]})]}),!Ns&&le&&Cr>0&&s.jsxs("div",{className:"flex justify-between text-sm font-semibold text-[rgb(95,179,249)]",children:[s.jsxs("span",{children:["Discount (",le.code,")"]}),s.jsxs("span",{children:["- $",Cr.toFixed(2)]})]}),qi>0&&s.jsxs("div",{className:"flex justify-between text-sm font-semibold text-[rgb(95,179,249)]",children:[s.jsx("span",{children:"Referral Credit"}),s.jsxs("span",{children:["- $",qi.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm text-slate-700",children:[s.jsx("span",{children:"Shipping:"}),s.jsxs("span",{children:["$",aa.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm text-slate-700",children:[s.jsx("span",{children:"Estimated tax:"}),s.jsx("span",{children:$s?"Calculating":`$${$n.toFixed(2)}`})]}),Xo&&s.jsxs("div",{className:"flex items-start justify-between text-xs text-red-600",children:[s.jsx("span",{className:"pr-2",children:Xo}),s.jsx("button",{type:"button",onClick:Ps,className:"underline decoration-dotted hover:text-red-700",children:"Retry"})]}),s.jsx(b_,{}),s.jsxs("div",{className:"flex justify-between font-bold items-baseline gap-2",children:[s.jsxs("span",{className:"flex items-baseline gap-2",children:[s.jsx("span",{children:"Total:"}),br?s.jsx("span",{className:"text-xs font-semibold text-green-700",children:"(Retail)"}):null,Ns&&s.jsx("span",{className:"text-xs font-semibold text-amber-700",children:"Test override: $0.01"})]}),s.jsxs("span",{className:`${br?"text-green-700":""} tabular-nums`,children:["$",qs.toFixed(2)]})]}),_s&&ii!=null&&s.jsxs("div",{className:"flex justify-between text-sm font-semibold text-[rgb(95,179,249)]",children:[s.jsx("span",{children:"Delegate pays:"}),s.jsxs("span",{className:"tabular-nums",children:["$",ii.toFixed(2)]})]}),Ns&&Bs!=null&&s.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[s.jsx("span",{children:"Original total:"}),s.jsxs("span",{className:"tabular-nums line-through",children:["$",Bs.toFixed(2)]})]})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(Je,{variant:"ghost",onClick:Va,disabled:!Ea||Se||st==="success",className:"w-full glass-brand squircle-sm transition-all duration-300 hover:scale-105 hover:-translate-y-0.5 active:translate-y-0",children:[sr?s.jsx(Bh,{className:"w-4 h-4 mr-2"}):s.jsx(Jq,{className:"w-4 h-4 mr-2"}),Ui]})})]})})})]})})}const ez=["top","right","bottom","left"],Tf=Math.min,Wo=Math.max,ub=Math.round,C0=Math.floor,yu=e=>({x:e,y:e}),tz={left:"right",right:"left",bottom:"top",top:"bottom"},rz={start:"end",end:"start"};function x_(e,t,r){return Wo(e,Tf(t,r))}function Nd(e,t){return typeof e=="function"?e(t):e}function jd(e){return e.split("-")[0]}function mg(e){return e.split("-")[1]}function hP(e){return e==="x"?"y":"x"}function gP(e){return e==="y"?"height":"width"}const nz=new Set(["top","bottom"]);function pu(e){return nz.has(jd(e))?"y":"x"}function yP(e){return hP(pu(e))}function az(e,t,r){r===void 0&&(r=!1);const n=mg(e),a=yP(e),i=gP(a);let l=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=db(l)),[l,db(l)]}function sz(e){const t=db(e);return[w_(e),t,w_(t)]}function w_(e){return e.replace(/start|end/g,t=>rz[t])}const uk=["left","right"],dk=["right","left"],iz=["top","bottom"],oz=["bottom","top"];function lz(e,t,r){switch(e){case"top":case"bottom":return r?t?dk:uk:t?uk:dk;case"left":case"right":return t?iz:oz;default:return[]}}function cz(e,t,r,n){const a=mg(e);let i=lz(jd(e),r==="start",n);return a&&(i=i.map(l=>l+"-"+a),t&&(i=i.concat(i.map(w_)))),i}function db(e){return e.replace(/left|right|bottom|top/g,t=>tz[t])}function uz(e){return{top:0,right:0,bottom:0,left:0,...e}}function y4(e){return typeof e!="number"?uz(e):{top:e,right:e,bottom:e,left:e}}function fb(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function fk(e,t,r){let{reference:n,floating:a}=e;const i=pu(t),l=yP(t),u=gP(l),d=jd(t),f=i==="y",g=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,v=n[u]/2-a[u]/2;let w;switch(d){case"top":w={x:g,y:n.y-a.height};break;case"bottom":w={x:g,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:m};break;case"left":w={x:n.x-a.width,y:m};break;default:w={x:n.x,y:n.y}}switch(mg(t)){case"start":w[l]-=v*(r&&f?-1:1);break;case"end":w[l]+=v*(r&&f?-1:1);break}return w}const dz=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:l}=r,u=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:g,y:m}=fk(f,n,d),v=n,w={},P=0;for(let _=0;_<u.length;_++){const{name:N,fn:E}=u[_],{x:D,y:L,data:$,reset:R}=await E({x:g,y:m,initialPlacement:n,placement:v,strategy:a,middlewareData:w,rects:f,platform:l,elements:{reference:e,floating:t}});g=D??g,m=L??m,w={...w,[N]:{...w[N],...$}},R&&P<=50&&(P++,typeof R=="object"&&(R.placement&&(v=R.placement),R.rects&&(f=R.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:a}):R.rects),{x:g,y:m}=fk(f,v,d)),_=-1)}return{x:g,y:m,placement:v,strategy:a,middlewareData:w}};async function zy(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:v=!1,padding:w=0}=Nd(t,e),P=y4(w),N=u[v?m==="floating"?"reference":"floating":m],E=fb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(N)))==null||r?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:d})),D=m==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,L=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),$=await(i.isElement==null?void 0:i.isElement(L))?await(i.getScale==null?void 0:i.getScale(L))||{x:1,y:1}:{x:1,y:1},R=fb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:L,strategy:d}):D);return{top:(E.top-R.top+P.top)/$.y,bottom:(R.bottom-E.bottom+P.bottom)/$.y,left:(E.left-R.left+P.left)/$.x,right:(R.right-E.right+P.right)/$.x}}const fz=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:g=0}=Nd(e,t)||{};if(f==null)return{};const m=y4(g),v={x:r,y:n},w=yP(a),P=gP(w),_=await l.getDimensions(f),N=w==="y",E=N?"top":"left",D=N?"bottom":"right",L=N?"clientHeight":"clientWidth",$=i.reference[P]+i.reference[w]-v[w]-i.floating[P],R=v[w]-i.reference[w],M=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let F=M?M[L]:0;(!F||!await(l.isElement==null?void 0:l.isElement(M)))&&(F=u.floating[L]||i.floating[P]);const V=$/2-R/2,Y=F/2-_[P]/2-1,ue=Tf(m[E],Y),te=Tf(m[D],Y),le=ue,fe=F-_[P]-te,me=F/2-_[P]/2+V,ie=x_(le,me,fe),J=!d.arrow&&mg(a)!=null&&me!==ie&&i.reference[P]/2-(me<le?ue:te)-_[P]/2<0,ne=J?me<le?me-le:me-fe:0;return{[w]:v[w]+ne,data:{[w]:ie,centerOffset:me-ie-ne,...J&&{alignmentOffset:ne}},reset:J}}}),pz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:_=!0,...N}=Nd(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const E=jd(a),D=pu(u),L=jd(u)===u,$=await(d.isRTL==null?void 0:d.isRTL(f.floating)),R=v||(L||!_?[db(u)]:sz(u)),M=P!=="none";!v&&M&&R.push(...cz(u,_,P,$));const F=[u,...R],V=await zy(t,N),Y=[];let ue=((n=i.flip)==null?void 0:n.overflows)||[];if(g&&Y.push(V[E]),m){const me=az(a,l,$);Y.push(V[me[0]],V[me[1]])}if(ue=[...ue,{placement:a,overflows:Y}],!Y.every(me=>me<=0)){var te,le;const me=(((te=i.flip)==null?void 0:te.index)||0)+1,ie=F[me];if(ie&&(!(m==="alignment"?D!==pu(ie):!1)||ue.every(G=>pu(G.placement)===D?G.overflows[0]>0:!0)))return{data:{index:me,overflows:ue},reset:{placement:ie}};let J=(le=ue.filter(ne=>ne.overflows[0]<=0).sort((ne,G)=>ne.overflows[1]-G.overflows[1])[0])==null?void 0:le.placement;if(!J)switch(w){case"bestFit":{var fe;const ne=(fe=ue.filter(G=>{if(M){const ve=pu(G.placement);return ve===D||ve==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ve=>ve>0).reduce((ve,Se)=>ve+Se,0)]).sort((G,ve)=>G[1]-ve[1])[0])==null?void 0:fe[0];ne&&(J=ne);break}case"initialPlacement":J=u;break}if(a!==J)return{reset:{placement:J}}}return{}}}};function pk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function mk(e){return ez.some(t=>e[t]>=0)}const mz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Nd(e,t);switch(n){case"referenceHidden":{const i=await zy(t,{...a,elementContext:"reference"}),l=pk(i,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:mk(l)}}}case"escaped":{const i=await zy(t,{...a,altBoundary:!0}),l=pk(i,r.floating);return{data:{escapedOffsets:l,escaped:mk(l)}}}default:return{}}}}},v4=new Set(["left","top"]);async function hz(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=jd(r),u=mg(r),d=pu(r)==="y",f=v4.has(l)?-1:1,g=i&&d?-1:1,m=Nd(t,e);let{mainAxis:v,crossAxis:w,alignmentAxis:P}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof P=="number"&&(w=u==="end"?P*-1:P),d?{x:w*g,y:v*f}:{x:v*f,y:w*g}}const gz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:l,middlewareData:u}=t,d=await hz(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:l}}}}},yz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:N=>{let{x:E,y:D}=N;return{x:E,y:D}}},...d}=Nd(e,t),f={x:r,y:n},g=await zy(t,d),m=pu(jd(a)),v=hP(m);let w=f[v],P=f[m];if(i){const N=v==="y"?"top":"left",E=v==="y"?"bottom":"right",D=w+g[N],L=w-g[E];w=x_(D,w,L)}if(l){const N=m==="y"?"top":"left",E=m==="y"?"bottom":"right",D=P+g[N],L=P-g[E];P=x_(D,P,L)}const _=u.fn({...t,[v]:w,[m]:P});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[v]:i,[m]:l}}}}}},vz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Nd(e,t),g={x:r,y:n},m=pu(a),v=hP(m);let w=g[v],P=g[m];const _=Nd(u,t),N=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(d){const L=v==="y"?"height":"width",$=i.reference[v]-i.floating[L]+N.mainAxis,R=i.reference[v]+i.reference[L]-N.mainAxis;w<$?w=$:w>R&&(w=R)}if(f){var E,D;const L=v==="y"?"width":"height",$=v4.has(jd(a)),R=i.reference[m]-i.floating[L]+($&&((E=l.offset)==null?void 0:E[m])||0)+($?0:N.crossAxis),M=i.reference[m]+i.reference[L]+($?0:((D=l.offset)==null?void 0:D[m])||0)-($?N.crossAxis:0);P<R?P=R:P>M&&(P=M)}return{[v]:w,[m]:P}}}},bz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:l,elements:u}=t,{apply:d=()=>{},...f}=Nd(e,t),g=await zy(t,f),m=jd(a),v=mg(a),w=pu(a)==="y",{width:P,height:_}=i.floating;let N,E;m==="top"||m==="bottom"?(N=m,E=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(E=m,N=v==="end"?"top":"bottom");const D=_-g.top-g.bottom,L=P-g.left-g.right,$=Tf(_-g[N],D),R=Tf(P-g[E],L),M=!t.middlewareData.shift;let F=$,V=R;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(V=L),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(F=D),M&&!v){const ue=Wo(g.left,0),te=Wo(g.right,0),le=Wo(g.top,0),fe=Wo(g.bottom,0);w?V=P-2*(ue!==0||te!==0?ue+te:Wo(g.left,g.right)):F=_-2*(le!==0||fe!==0?le+fe:Wo(g.top,g.bottom))}await d({...t,availableWidth:V,availableHeight:F});const Y=await l.getDimensions(u.floating);return P!==Y.width||_!==Y.height?{reset:{rects:!0}}:{}}}};function xx(){return typeof window<"u"}function hg(e){return b4(e)?(e.nodeName||"").toLowerCase():"#document"}function Go(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ju(e){var t;return(t=(b4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function b4(e){return xx()?e instanceof Node||e instanceof Go(e).Node:!1}function gc(e){return xx()?e instanceof Element||e instanceof Go(e).Element:!1}function xu(e){return xx()?e instanceof HTMLElement||e instanceof Go(e).HTMLElement:!1}function hk(e){return!xx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Go(e).ShadowRoot}const xz=new Set(["inline","contents"]);function Ev(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=yc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!xz.has(a)}const wz=new Set(["table","td","th"]);function Sz(e){return wz.has(hg(e))}const Nz=[":popover-open",":modal"];function wx(e){return Nz.some(t=>{try{return e.matches(t)}catch{return!1}})}const jz=["transform","translate","scale","rotate","perspective"],_z=["transform","translate","scale","rotate","perspective","filter"],Cz=["paint","layout","strict","content"];function vP(e){const t=bP(),r=gc(e)?yc(e):e;return jz.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||_z.some(n=>(r.willChange||"").includes(n))||Cz.some(n=>(r.contain||"").includes(n))}function Pz(e){let t=If(e);for(;xu(t)&&!Uh(t);){if(vP(t))return t;if(wx(t))return null;t=If(t)}return null}function bP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Az=new Set(["html","body","#document"]);function Uh(e){return Az.has(hg(e))}function yc(e){return Go(e).getComputedStyle(e)}function Sx(e){return gc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function If(e){if(hg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hk(e)&&e.host||ju(e);return hk(t)?t.host:t}function x4(e){const t=If(e);return Uh(t)?e.ownerDocument?e.ownerDocument.body:e.body:xu(t)&&Ev(t)?t:x4(t)}function Wy(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=x4(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),l=Go(a);if(i){const u=S_(l);return t.concat(l,l.visualViewport||[],Ev(a)?a:[],u&&r?Wy(u):[])}return t.concat(a,Wy(a,[],r))}function S_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function w4(e){const t=yc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=xu(e),i=a?e.offsetWidth:r,l=a?e.offsetHeight:n,u=ub(r)!==i||ub(n)!==l;return u&&(r=i,n=l),{width:r,height:n,$:u}}function xP(e){return gc(e)?e:e.contextElement}function Th(e){const t=xP(e);if(!xu(t))return yu(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=w4(t);let l=(i?ub(r.width):r.width)/n,u=(i?ub(r.height):r.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const kz=yu(0);function S4(e){const t=Go(e);return!bP()||!t.visualViewport?kz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ez(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Go(e)?!1:t}function Qp(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=xP(e);let l=yu(1);t&&(n?gc(n)&&(l=Th(n)):l=Th(e));const u=Ez(i,r,n)?S4(i):yu(0);let d=(a.left+u.x)/l.x,f=(a.top+u.y)/l.y,g=a.width/l.x,m=a.height/l.y;if(i){const v=Go(i),w=n&&gc(n)?Go(n):n;let P=v,_=S_(P);for(;_&&n&&w!==P;){const N=Th(_),E=_.getBoundingClientRect(),D=yc(_),L=E.left+(_.clientLeft+parseFloat(D.paddingLeft))*N.x,$=E.top+(_.clientTop+parseFloat(D.paddingTop))*N.y;d*=N.x,f*=N.y,g*=N.x,m*=N.y,d+=L,f+=$,P=Go(_),_=S_(P)}}return fb({width:g,height:m,x:d,y:f})}function Nx(e,t){const r=Sx(e).scrollLeft;return t?t.left+r:Qp(ju(e)).left+r}function N4(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Nx(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function Oz(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",l=ju(n),u=t?wx(t.floating):!1;if(n===l||u&&i)return r;let d={scrollLeft:0,scrollTop:0},f=yu(1);const g=yu(0),m=xu(n);if((m||!m&&!i)&&((hg(n)!=="body"||Ev(l))&&(d=Sx(n)),xu(n))){const w=Qp(n);f=Th(n),g.x=w.x+n.clientLeft,g.y=w.y+n.clientTop}const v=l&&!m&&!i?N4(l,d):yu(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+g.x+v.x,y:r.y*f.y-d.scrollTop*f.y+g.y+v.y}}function Rz(e){return Array.from(e.getClientRects())}function Tz(e){const t=ju(e),r=Sx(e),n=e.ownerDocument.body,a=Wo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Wo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Nx(e);const u=-r.scrollTop;return yc(n).direction==="rtl"&&(l+=Wo(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:l,y:u}}const gk=25;function Iz(e,t){const r=Go(e),n=ju(e),a=r.visualViewport;let i=n.clientWidth,l=n.clientHeight,u=0,d=0;if(a){i=a.width,l=a.height;const g=bP();(!g||g&&t==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}const f=Nx(n);if(f<=0){const g=n.ownerDocument,m=g.body,v=getComputedStyle(m),w=g.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,P=Math.abs(n.clientWidth-m.clientWidth-w);P<=gk&&(i-=P)}else f<=gk&&(i+=f);return{width:i,height:l,x:u,y:d}}const Mz=new Set(["absolute","fixed"]);function Dz(e,t){const r=Qp(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=xu(e)?Th(e):yu(1),l=e.clientWidth*i.x,u=e.clientHeight*i.y,d=a*i.x,f=n*i.y;return{width:l,height:u,x:d,y:f}}function yk(e,t,r){let n;if(t==="viewport")n=Iz(e,r);else if(t==="document")n=Tz(ju(e));else if(gc(t))n=Dz(t,r);else{const a=S4(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return fb(n)}function j4(e,t){const r=If(e);return r===t||!gc(r)||Uh(r)?!1:yc(r).position==="fixed"||j4(r,t)}function Lz(e,t){const r=t.get(e);if(r)return r;let n=Wy(e,[],!1).filter(u=>gc(u)&&hg(u)!=="body"),a=null;const i=yc(e).position==="fixed";let l=i?If(e):e;for(;gc(l)&&!Uh(l);){const u=yc(l),d=vP(l);!d&&u.position==="fixed"&&(a=null),(i?!d&&!a:!d&&u.position==="static"&&!!a&&Mz.has(a.position)||Ev(l)&&!d&&j4(e,l))?n=n.filter(g=>g!==l):a=u,l=If(l)}return t.set(e,n),n}function $z(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const l=[...r==="clippingAncestors"?wx(t)?[]:Lz(t,this._c):[].concat(r),n],u=l[0],d=l.reduce((f,g)=>{const m=yk(t,g,a);return f.top=Wo(m.top,f.top),f.right=Tf(m.right,f.right),f.bottom=Tf(m.bottom,f.bottom),f.left=Wo(m.left,f.left),f},yk(t,u,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Fz(e){const{width:t,height:r}=w4(e);return{width:t,height:r}}function Bz(e,t,r){const n=xu(t),a=ju(t),i=r==="fixed",l=Qp(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const d=yu(0);function f(){d.x=Nx(a)}if(n||!n&&!i)if((hg(t)!=="body"||Ev(a))&&(u=Sx(t)),n){const w=Qp(t,!0,i,t);d.x=w.x+t.clientLeft,d.y=w.y+t.clientTop}else a&&f();i&&!n&&a&&f();const g=a&&!n&&!i?N4(a,u):yu(0),m=l.left+u.scrollLeft-d.x-g.x,v=l.top+u.scrollTop-d.y-g.y;return{x:m,y:v,width:l.width,height:l.height}}function Uw(e){return yc(e).position==="static"}function vk(e,t){if(!xu(e)||yc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ju(e)===r&&(r=r.ownerDocument.body),r}function _4(e,t){const r=Go(e);if(wx(e))return r;if(!xu(e)){let a=If(e);for(;a&&!Uh(a);){if(gc(a)&&!Uw(a))return a;a=If(a)}return r}let n=vk(e,t);for(;n&&Sz(n)&&Uw(n);)n=vk(n,t);return n&&Uh(n)&&Uw(n)&&!vP(n)?r:n||Pz(e)||r}const qz=async function(e){const t=this.getOffsetParent||_4,r=this.getDimensions,n=await r(e.floating);return{reference:Bz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Uz(e){return yc(e).direction==="rtl"}const zz={convertOffsetParentRelativeRectToViewportRelativeRect:Oz,getDocumentElement:ju,getClippingRect:$z,getOffsetParent:_4,getElementRects:qz,getClientRects:Rz,getDimensions:Fz,getScale:Th,isElement:gc,isRTL:Uz};function C4(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wz(e,t){let r=null,n;const a=ju(e);function i(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:g,top:m,width:v,height:w}=f;if(u||t(),!v||!w)return;const P=C0(m),_=C0(a.clientWidth-(g+v)),N=C0(a.clientHeight-(m+w)),E=C0(g),L={rootMargin:-P+"px "+-_+"px "+-N+"px "+-E+"px",threshold:Wo(0,Tf(1,d))||1};let $=!0;function R(M){const F=M[0].intersectionRatio;if(F!==d){if(!$)return l();F?l(!1,F):n=setTimeout(()=>{l(!1,1e-7)},1e3)}F===1&&!C4(f,e.getBoundingClientRect())&&l(),$=!1}try{r=new IntersectionObserver(R,{...L,root:a.ownerDocument})}catch{r=new IntersectionObserver(R,L)}r.observe(e)}return l(!0),i}function Hz(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=xP(e),g=a||i?[...f?Wy(f):[],...Wy(t)]:[];g.forEach(E=>{a&&E.addEventListener("scroll",r,{passive:!0}),i&&E.addEventListener("resize",r)});const m=f&&u?Wz(f,r):null;let v=-1,w=null;l&&(w=new ResizeObserver(E=>{let[D]=E;D&&D.target===f&&w&&(w.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var L;(L=w)==null||L.observe(t)})),r()}),f&&!d&&w.observe(f),w.observe(t));let P,_=d?Qp(e):null;d&&N();function N(){const E=Qp(e);_&&!C4(_,E)&&r(),_=E,P=requestAnimationFrame(N)}return r(),()=>{var E;g.forEach(D=>{a&&D.removeEventListener("scroll",r),i&&D.removeEventListener("resize",r)}),m?.(),(E=w)==null||E.disconnect(),w=null,d&&cancelAnimationFrame(P)}}const Vz=gz,Gz=yz,Kz=pz,Yz=bz,Xz=mz,bk=fz,Qz=vz,Zz=(e,t,r)=>{const n=new Map,a={platform:zz,...r},i={...a.platform,_c:n};return dz(e,t,{...a,platform:i})};var Jz=typeof document<"u",e8=function(){},tb=Jz?y.useLayoutEffect:e8;function pb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!pb(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!pb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function P4(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xk(e,t){const r=P4(e);return Math.round(t*r)/r}function zw(e){const t=y.useRef(e);return tb(()=>{t.current=e}),t}function t8(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[g,m]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,w]=y.useState(n);pb(v,n)||w(n);const[P,_]=y.useState(null),[N,E]=y.useState(null),D=y.useCallback(G=>{G!==M.current&&(M.current=G,_(G))},[]),L=y.useCallback(G=>{G!==F.current&&(F.current=G,E(G))},[]),$=i||P,R=l||N,M=y.useRef(null),F=y.useRef(null),V=y.useRef(g),Y=d!=null,ue=zw(d),te=zw(a),le=zw(f),fe=y.useCallback(()=>{if(!M.current||!F.current)return;const G={placement:t,strategy:r,middleware:v};te.current&&(G.platform=te.current),Zz(M.current,F.current,G).then(ve=>{const Se={...ve,isPositioned:le.current!==!1};me.current&&!pb(V.current,Se)&&(V.current=Se,By.flushSync(()=>{m(Se)}))})},[v,t,r,te,le]);tb(()=>{f===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,m(G=>({...G,isPositioned:!1})))},[f]);const me=y.useRef(!1);tb(()=>(me.current=!0,()=>{me.current=!1}),[]),tb(()=>{if($&&(M.current=$),R&&(F.current=R),$&&R){if(ue.current)return ue.current($,R,fe);fe()}},[$,R,fe,ue,Y]);const ie=y.useMemo(()=>({reference:M,floating:F,setReference:D,setFloating:L}),[D,L]),J=y.useMemo(()=>({reference:$,floating:R}),[$,R]),ne=y.useMemo(()=>{const G={position:r,left:0,top:0};if(!J.floating)return G;const ve=xk(J.floating,g.x),Se=xk(J.floating,g.y);return u?{...G,transform:"translate("+ve+"px, "+Se+"px)",...P4(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ve,top:Se}},[r,u,J.floating,g.x,g.y]);return y.useMemo(()=>({...g,update:fe,refs:ie,elements:J,floatingStyles:ne}),[g,fe,ie,J,ne])}const r8=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?bk({element:n.current,padding:a}).fn(r):{}:n?bk({element:n,padding:a}).fn(r):{}}}},n8=(e,t)=>({...Vz(e),options:[e,t]}),a8=(e,t)=>({...Gz(e),options:[e,t]}),s8=(e,t)=>({...Qz(e),options:[e,t]}),i8=(e,t)=>({...Kz(e),options:[e,t]}),o8=(e,t)=>({...Yz(e),options:[e,t]}),l8=(e,t)=>({...Xz(e),options:[e,t]}),c8=(e,t)=>({...r8(e),options:[e,t]});var u8="Arrow",A4=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(ws.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});A4.displayName=u8;var d8=A4,wP="Popper",[k4,E4]=px(wP),[f8,O4]=k4(wP),R4=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return s.jsx(f8,{scope:t,anchor:n,onAnchorChange:a,children:r})};R4.displayName=wP;var T4="PopperAnchor",I4=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=O4(T4,r),l=y.useRef(null),u=Yo(t,l),d=y.useRef(null);return y.useEffect(()=>{const f=d.current;d.current=n?.current||l.current,f!==d.current&&i.onAnchorChange(d.current)}),n?null:s.jsx(ws.div,{...a,ref:u})});I4.displayName=T4;var SP="PopperContent",[p8,m8]=k4(SP),M4=y.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:P,..._}=e,N=O4(SP,r),[E,D]=y.useState(null),L=Yo(t,Ke=>D(Ke)),[$,R]=y.useState(null),M=i4($),F=M?.width??0,V=M?.height??0,Y=n+(i!=="center"?"-"+i:""),ue=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},te=Array.isArray(f)?f:[f],le=te.length>0,fe={padding:ue,boundary:te.filter(g8),altBoundary:le},{refs:me,floatingStyles:ie,placement:J,isPositioned:ne,middlewareData:G}=t8({strategy:"fixed",placement:Y,whileElementsMounted:(...Ke)=>Hz(...Ke,{animationFrame:w==="always"}),elements:{reference:N.anchor},middleware:[n8({mainAxis:a+V,alignmentAxis:l}),d&&a8({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?s8():void 0,...fe}),d&&i8({...fe}),o8({...fe,apply:({elements:Ke,rects:Ve,availableWidth:Te,availableHeight:st})=>{const{width:lt,height:Me}=Ve.reference,Rt=Ke.floating.style;Rt.setProperty("--radix-popper-available-width",`${Te}px`),Rt.setProperty("--radix-popper-available-height",`${st}px`),Rt.setProperty("--radix-popper-anchor-width",`${lt}px`),Rt.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),$&&c8({element:$,padding:u}),y8({arrowWidth:F,arrowHeight:V}),v&&l8({strategy:"referenceHidden",...fe})]}),[ve,Se]=$4(J),X=$h(P);Rf(()=>{ne&&X?.()},[ne,X]);const pe=G.arrow?.x,re=G.arrow?.y,xe=G.arrow?.centerOffset!==0,[Re,Le]=y.useState();return Rf(()=>{E&&Le(window.getComputedStyle(E).zIndex)},[E]),s.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:ne?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(p8,{scope:r,placedSide:ve,onArrowChange:R,arrowX:pe,arrowY:re,shouldHideArrow:xe,children:s.jsx(ws.div,{"data-side":ve,"data-align":Se,..._,ref:L,style:{..._.style,animation:ne?void 0:"none"}})})})});M4.displayName=SP;var D4="PopperArrow",h8={top:"bottom",right:"left",bottom:"top",left:"right"},L4=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=m8(D4,n),l=h8[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(d8,{...a,ref:r,style:{...a.style,display:"block"}})})});L4.displayName=D4;function g8(e){return e!==null}var y8=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,l=a.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,g]=$4(r),m={start:"0%",center:"50%",end:"100%"}[g],v=(a.arrow?.x??0)+u/2,w=(a.arrow?.y??0)+d/2;let P="",_="";return f==="bottom"?(P=l?m:`${v}px`,_=`${-d}px`):f==="top"?(P=l?m:`${v}px`,_=`${n.floating.height+d}px`):f==="right"?(P=`${-d}px`,_=l?m:`${w}px`):f==="left"&&(P=`${n.floating.width+d}px`,_=l?m:`${w}px`),{data:{x:P,y:_}}}});function $4(e){const[t,r="center"]=e.split("-");return[t,r]}var v8=R4,F4=I4,b8=M4,x8=L4,jx="Popover",[B4]=px(jx,[E4]),Ov=E4(),[w8,Df]=B4(jx),q4=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!1}=e,u=Ov(t),d=y.useRef(null),[f,g]=y.useState(!1),[m,v]=QC({prop:n,defaultProp:a??!1,onChange:i,caller:jx});return s.jsx(v8,{...u,children:s.jsx(w8,{scope:t,contentId:Q0(),triggerRef:d,open:m,onOpenChange:v,onOpenToggle:y.useCallback(()=>v(w=>!w),[v]),hasCustomAnchor:f,onCustomAnchorAdd:y.useCallback(()=>g(!0),[]),onCustomAnchorRemove:y.useCallback(()=>g(!1),[]),modal:l,children:r})})};q4.displayName=jx;var U4="PopoverAnchor",S8=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Df(U4,r),i=Ov(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=a;return y.useEffect(()=>(l(),()=>u()),[l,u]),s.jsx(F4,{...i,...n,ref:t})});S8.displayName=U4;var z4="PopoverTrigger",W4=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Df(z4,r),i=Ov(r),l=Yo(t,a.triggerRef),u=s.jsx(ws.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":X4(a.open),...n,ref:l,onClick:Fi(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?u:s.jsx(F4,{asChild:!0,...i,children:u})});W4.displayName=z4;var NP="PopoverPortal",[N8,j8]=B4(NP,{forceMount:void 0}),H4=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Df(NP,t);return s.jsx(N8,{scope:t,forceMount:r,children:s.jsx(am,{present:r||i.open,children:s.jsx(eP,{asChild:!0,container:a,children:n})})})};H4.displayName=NP;var zh="PopoverContent",V4=y.forwardRef((e,t)=>{const r=j8(zh,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Df(zh,e.__scopePopover);return s.jsx(am,{present:n||i.open,children:i.modal?s.jsx(C8,{...a,ref:t}):s.jsx(P8,{...a,ref:t})})});V4.displayName=zh;var _8=fx("PopoverContent.RemoveScroll"),C8=y.forwardRef((e,t)=>{const r=Df(zh,e.__scopePopover),n=y.useRef(null),a=Yo(t,n),i=y.useRef(!1);return y.useEffect(()=>{const l=n.current;if(l)return oL(l)},[]),s.jsx(tP,{as:_8,allowPinchZoom:!0,children:s.jsx(G4,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fi(e.onCloseAutoFocus,l=>{l.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Fi(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Fi(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),P8=y.forwardRef((e,t)=>{const r=Df(zh,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(G4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;r.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),G4=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:g,...m}=e,v=Df(zh,r),w=Ov(r);return ZD(),s.jsx(JC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(ZC,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:g,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:s.jsx(b8,{"data-state":X4(v.open),role:"dialog",id:v.contentId,...w,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),K4="PopoverClose",A8=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Df(K4,r);return s.jsx(ws.button,{type:"button",...n,ref:t,onClick:Fi(e.onClick,()=>a.onOpenChange(!1))})});A8.displayName=K4;var k8="PopoverArrow",Y4=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ov(r);return s.jsx(x8,{...a,...n,ref:t})});Y4.displayName=k8;function X4(e){return e?"open":"closed"}var P0=q4,A0=W4,k0=H4,E0=V4,O0=Y4;function Dr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ko(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Li(e,t){const r=Dr(e);return isNaN(t)?Ko(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function vc(e,t){const r=Dr(e);if(isNaN(t))return Ko(e,NaN);if(!t)return r;const n=r.getDate(),a=Ko(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const jP=6048e5,E8=864e5;let O8={};function Rv(){return O8}function wu(e,t){const r=Rv(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Dr(e),i=a.getDay(),l=(i<n?7:0)+i-n;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Zp(e){return wu(e,{weekStartsOn:1})}function Q4(e){const t=Dr(e),r=t.getFullYear(),n=Ko(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Zp(n),i=Ko(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const l=Zp(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function Wh(e){const t=Dr(e);return t.setHours(0,0,0,0),t}function mb(e){const t=Dr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function mu(e,t){const r=Wh(e),n=Wh(t),a=+r-mb(r),i=+n-mb(n);return Math.round((a-i)/E8)}function R8(e){const t=Q4(e),r=Ko(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Zp(r)}function N_(e,t){const r=t*7;return Li(e,r)}function T8(e,t){return vc(e,t*12)}function I8(e){let t;return e.forEach(function(r){const n=Dr(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function M8(e){let t;return e.forEach(r=>{const n=Dr(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function io(e,t){const r=Wh(e),n=Wh(t);return+r==+n}function _P(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function D8(e){if(!_P(e)&&typeof e!="number")return!1;const t=Dr(e);return!isNaN(Number(t))}function Hy(e,t){const r=Dr(e),n=Dr(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function L8(e,t,r){const n=wu(e,r),a=wu(t,r),i=+n-mb(n),l=+a-mb(a);return Math.round((i-l)/jP)}function CP(e){const t=Dr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function lo(e){const t=Dr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Z4(e){const t=Dr(e),r=Ko(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function PP(e,t){const r=Rv(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Dr(e),i=a.getDay(),l=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function J4(e){return PP(e,{weekStartsOn:1})}const $8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},F8=(e,t,r)=>{let n;const a=$8[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ww(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const B8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},q8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},U8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},z8={date:Ww({formats:B8,defaultWidth:"full"}),time:Ww({formats:q8,defaultWidth:"full"}),dateTime:Ww({formats:U8,defaultWidth:"full"})},W8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},H8=(e,t,r,n)=>W8[e];function py(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):l;a=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const V8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},K8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Y8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},X8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Q8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Z8=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},J8={ordinalNumber:Z8,era:py({values:V8,defaultWidth:"wide"}),quarter:py({values:G8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:py({values:K8,defaultWidth:"wide"}),day:py({values:Y8,defaultWidth:"wide"}),dayPeriod:py({values:X8,defaultWidth:"wide",formattingValues:Q8,defaultFormattingWidth:"wide"})};function my(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const l=i[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?tW(u,m=>m.test(l)):eW(u,m=>m.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const g=t.slice(l.length);return{value:f,rest:g}}}function eW(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function tW(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function rW(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const u=t.slice(a.length);return{value:l,rest:u}}}const nW=/^(\d+)(th|st|nd|rd)?/i,aW=/\d+/i,sW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iW={any:[/^b/i,/^(a|c)/i]},oW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lW={any:[/1/i,/2/i,/3/i,/4/i]},cW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hW={ordinalNumber:rW({matchPattern:nW,parsePattern:aW,valueCallback:e=>parseInt(e,10)}),era:my({matchPatterns:sW,defaultMatchWidth:"wide",parsePatterns:iW,defaultParseWidth:"any"}),quarter:my({matchPatterns:oW,defaultMatchWidth:"wide",parsePatterns:lW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:my({matchPatterns:cW,defaultMatchWidth:"wide",parsePatterns:uW,defaultParseWidth:"any"}),day:my({matchPatterns:dW,defaultMatchWidth:"wide",parsePatterns:fW,defaultParseWidth:"any"}),dayPeriod:my({matchPatterns:pW,defaultMatchWidth:"any",parsePatterns:mW,defaultParseWidth:"any"})},e5={code:"en-US",formatDistance:F8,formatLong:z8,formatRelative:H8,localize:J8,match:hW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gW(e){const t=Dr(e);return mu(t,Z4(t))+1}function t5(e){const t=Dr(e),r=+Zp(t)-+R8(t);return Math.round(r/jP)+1}function r5(e,t){const r=Dr(e),n=r.getFullYear(),a=Rv(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=Ko(e,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const u=wu(l,t),d=Ko(e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const f=wu(d,t);return r.getTime()>=u.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function yW(e,t){const r=Rv(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=r5(e,t),i=Ko(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),wu(i,t)}function n5(e,t){const r=Dr(e),n=+wu(r,t)-+yW(r,t);return Math.round(n/jP)+1}function un(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Nf={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return un(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):un(r+1,2)},d(e,t){return un(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return un(e.getHours()%12||12,t.length)},H(e,t){return un(e.getHours(),t.length)},m(e,t){return un(e.getMinutes(),t.length)},s(e,t){return un(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return un(a,t.length)}},bh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wk={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Nf.y(e,t)},Y:function(e,t,r,n){const a=r5(e,n),i=a>0?a:1-a;if(t==="YY"){const l=i%100;return un(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):un(i,t.length)},R:function(e,t){const r=Q4(e);return un(r,t.length)},u:function(e,t){const r=e.getFullYear();return un(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return un(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return un(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Nf.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return un(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=n5(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):un(a,t.length)},I:function(e,t,r){const n=t5(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):un(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Nf.d(e,t)},D:function(e,t,r){const n=gW(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):un(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return un(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return un(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return un(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=bh.noon:n===0?a=bh.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=bh.evening:n>=12?a=bh.afternoon:n>=4?a=bh.morning:a=bh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Nf.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Nf.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):un(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):un(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Nf.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Nf.s(e,t)},S:function(e,t){return Nf.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Nk(n);case"XXXX":case"XX":return Mp(n);case"XXXXX":case"XXX":default:return Mp(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Nk(n);case"xxxx":case"xx":return Mp(n);case"xxxxx":case"xxx":default:return Mp(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Sk(n,":");case"OOOO":default:return"GMT"+Mp(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Sk(n,":");case"zzzz":default:return"GMT"+Mp(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return un(n,t.length)},T:function(e,t,r){const n=e.getTime();return un(n,t.length)}};function Sk(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+un(i,2)}function Nk(e,t){return e%60===0?(e>0?"-":"+")+un(Math.abs(e)/60,2):Mp(e,t)}function Mp(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=un(Math.trunc(n/60),2),i=un(n%60,2);return r+a+t+i}const jk=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},a5=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},vW=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return jk(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",jk(n,t)).replace("{{time}}",a5(a,t))},bW={p:a5,P:vW},xW=/^D+$/,wW=/^Y+$/,SW=["D","DD","YY","YYYY"];function NW(e){return xW.test(e)}function jW(e){return wW.test(e)}function _W(e,t,r){const n=CW(e,t,r);if(console.warn(n),SW.includes(e))throw new RangeError(n)}function CW(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const PW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kW=/^'([^]*?)'?$/,EW=/''/g,OW=/[a-zA-Z]/;function im(e,t,r){const n=Rv(),a=r?.locale??n.locale??e5,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Dr(e);if(!D8(u))throw new RangeError("Invalid time value");let d=t.match(AW).map(g=>{const m=g[0];if(m==="p"||m==="P"){const v=bW[m];return v(g,a.formatLong)}return g}).join("").match(PW).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:RW(g)};if(wk[m])return{isToken:!0,value:g};if(m.match(OW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(d=a.localize.preprocessor(u,d));const f={firstWeekContainsDate:i,weekStartsOn:l,locale:a};return d.map(g=>{if(!g.isToken)return g.value;const m=g.value;(!r?.useAdditionalWeekYearTokens&&jW(m)||!r?.useAdditionalDayOfYearTokens&&NW(m))&&_W(m,t,String(e));const v=wk[m[0]];return v(u,m,a.localize,f)}).join("")}function RW(e){const t=e.match(kW);return t?t[1].replace(EW,"'"):e}function TW(e){const t=Dr(e),r=t.getFullYear(),n=t.getMonth(),a=Ko(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function IW(e){return Math.trunc(+Dr(e)/1e3)}function MW(e){const t=Dr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function DW(e,t){return L8(MW(e),lo(e),t)+1}function j_(e,t){const r=Dr(e),n=Dr(t);return r.getTime()>n.getTime()}function s5(e,t){const r=Dr(e),n=Dr(t);return+r<+n}function AP(e,t){const r=Dr(e),n=Dr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function LW(e,t){const r=Dr(e),n=Dr(t);return r.getFullYear()===n.getFullYear()}function Hw(e,t){return Li(e,-t)}function Vw(e,t){const r=Dr(e),n=r.getFullYear(),a=r.getDate(),i=Ko(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const l=TW(i);return r.setMonth(t,Math.min(a,l)),r}function _k(e,t){const r=Dr(e);return isNaN(+r)?Ko(e,NaN):(r.setFullYear(t),r)}var Yt=function(){return Yt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Yt.apply(this,arguments)};function $W(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function i5(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Tv(e){return e.mode==="multiple"}function Iv(e){return e.mode==="range"}function _x(e){return e.mode==="single"}var FW={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function BW(e,t){return im(e,"LLLL y",t)}function qW(e,t){return im(e,"d",t)}function UW(e,t){return im(e,"LLLL",t)}function zW(e){return"".concat(e)}function WW(e,t){return im(e,"cccccc",t)}function HW(e,t){return im(e,"yyyy",t)}var VW=Object.freeze({__proto__:null,formatCaption:BW,formatDay:qW,formatMonthCaption:UW,formatWeekNumber:zW,formatWeekdayName:WW,formatYearCaption:HW}),GW=function(e,t,r){return im(e,"do MMMM (EEEE)",r)},KW=function(){return"Month: "},YW=function(){return"Go to next month"},XW=function(){return"Go to previous month"},QW=function(e,t){return im(e,"cccc",t)},ZW=function(e){return"Week n. ".concat(e)},JW=function(){return"Year: "},eH=Object.freeze({__proto__:null,labelDay:GW,labelMonthDropdown:KW,labelNext:YW,labelPrevious:XW,labelWeekNumber:ZW,labelWeekday:QW,labelYearDropdown:JW});function tH(){var e="buttons",t=FW,r=e5,n={},a={},i=1,l={},u=new Date;return{captionLayout:e,classNames:t,formatters:VW,labels:eH,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:l,today:u,mode:"default"}}function rH(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,l=e.toDate;return n?i=lo(n):t&&(i=new Date(t,0,1)),a?l=CP(a):r&&(l=new Date(r,11,31)),{fromDate:i?Wh(i):void 0,toDate:l?Wh(l):void 0}}var o5=y.createContext(void 0);function nH(e){var t,r=e.initialProps,n=tH(),a=rH(r),i=a.fromDate,l=a.toDate,u=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;u!=="buttons"&&(!i||!l)&&(u="buttons");var d;(_x(r)||Tv(r)||Iv(r))&&(d=r.onSelect);var f=Yt(Yt(Yt({},n),r),{captionLayout:u,classNames:Yt(Yt({},n.classNames),r.classNames),components:Yt({},r.components),formatters:Yt(Yt({},n.formatters),r.formatters),fromDate:i,labels:Yt(Yt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Yt(Yt({},n.modifiers),r.modifiers),modifiersClassNames:Yt(Yt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:Yt(Yt({},n.styles),r.styles),toDate:l});return s.jsx(o5.Provider,{value:f,children:e.children})}function Ln(){var e=y.useContext(o5);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function l5(e){var t=Ln(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function aH(e){return s.jsx("svg",Yt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function c5(e){var t,r,n=e.onChange,a=e.value,i=e.children,l=e.caption,u=e.className,d=e.style,f=Ln(),g=(r=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:aH;return s.jsxs("div",{className:u,style:d,children:[s.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[l,s.jsx(g,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function sH(e){var t,r=Ln(),n=r.fromDate,a=r.toDate,i=r.styles,l=r.locale,u=r.formatters.formatMonthCaption,d=r.classNames,f=r.components,g=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var m=[];if(LW(n,a))for(var v=lo(n),w=n.getMonth();w<=a.getMonth();w++)m.push(Vw(v,w));else for(var v=lo(new Date),w=0;w<=11;w++)m.push(Vw(v,w));var P=function(N){var E=Number(N.target.value),D=Vw(lo(e.displayMonth),E);e.onChange(D)},_=(t=f?.Dropdown)!==null&&t!==void 0?t:c5;return s.jsx(_,{name:"months","aria-label":g(),className:d.dropdown_month,style:i.dropdown_month,onChange:P,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:l}),children:m.map(function(N){return s.jsx("option",{value:N.getMonth(),children:u(N,{locale:l})},N.getMonth())})})}function iH(e){var t,r=e.displayMonth,n=Ln(),a=n.fromDate,i=n.toDate,l=n.locale,u=n.styles,d=n.classNames,f=n.components,g=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,v=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var w=a.getFullYear(),P=i.getFullYear(),_=w;_<=P;_++)v.push(_k(Z4(new Date),_));var N=function(D){var L=_k(lo(r),Number(D.target.value));e.onChange(L)},E=(t=f?.Dropdown)!==null&&t!==void 0?t:c5;return s.jsx(E,{name:"years","aria-label":m(),className:d.dropdown_year,style:u.dropdown_year,onChange:N,value:r.getFullYear(),caption:g(r,{locale:l}),children:v.map(function(D){return s.jsx("option",{value:D.getFullYear(),children:g(D,{locale:l})},D.getFullYear())})})}function oH(e,t){var r=y.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function lH(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,l=e.fromDate,u=e.numberOfMonths,d=u===void 0?1:u;if(i&&Hy(i,a)<0){var f=-1*(d-1);a=vc(i,f)}return l&&Hy(a,l)<0&&(a=l),lo(a)}function cH(){var e=Ln(),t=lH(e),r=oH(t,e.month),n=r[0],a=r[1],i=function(l){var u;if(!e.disableNavigation){var d=lo(l);a(d),(u=e.onMonthChange)===null||u===void 0||u.call(e,d)}};return[n,i]}function uH(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=lo(e),i=lo(vc(a,n)),l=Hy(i,a),u=[],d=0;d<l;d++){var f=vc(a,d);u.push(f)}return r&&(u=u.reverse()),u}function dH(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,l=n?i:1,u=lo(e);if(!r)return vc(u,l);var d=Hy(r,e);if(!(d<i))return vc(u,l)}}function fH(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,l=n?i:1,u=lo(e);if(!r)return vc(u,-l);var d=Hy(u,r);if(!(d<=0))return vc(u,-l)}}var u5=y.createContext(void 0);function pH(e){var t=Ln(),r=cH(),n=r[0],a=r[1],i=uH(n,t),l=dH(n,t),u=fH(n,t),d=function(m){return i.some(function(v){return AP(m,v)})},f=function(m,v){d(m)||(v&&s5(m,v)?a(vc(m,1+t.numberOfMonths*-1)):a(m))},g={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:f,previousMonth:u,nextMonth:l,isDateDisplayed:d};return s.jsx(u5.Provider,{value:g,children:e.children})}function Mv(){var e=y.useContext(u5);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Ck(e){var t,r=Ln(),n=r.classNames,a=r.styles,i=r.components,l=Mv().goToMonth,u=function(g){l(vc(g,e.displayIndex?-e.displayIndex:0))},d=(t=i?.CaptionLabel)!==null&&t!==void 0?t:l5,f=s.jsx(d,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:f}),s.jsx(sH,{onChange:u,displayMonth:e.displayMonth}),s.jsx(iH,{onChange:u,displayMonth:e.displayMonth})]})}function mH(e){return s.jsx("svg",Yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function hH(e){return s.jsx("svg",Yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var hb=y.forwardRef(function(e,t){var r=Ln(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var l=i.join(" "),u=Yt(Yt({},a.button_reset),a.button);return e.style&&Object.assign(u,e.style),s.jsx("button",Yt({},e,{ref:t,type:"button",className:l,style:u}))});function gH(e){var t,r,n=Ln(),a=n.dir,i=n.locale,l=n.classNames,u=n.styles,d=n.labels,f=d.labelPrevious,g=d.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var v=f(e.previousMonth,{locale:i}),w=[l.nav_button,l.nav_button_previous].join(" "),P=g(e.nextMonth,{locale:i}),_=[l.nav_button,l.nav_button_next].join(" "),N=(t=m?.IconRight)!==null&&t!==void 0?t:hH,E=(r=m?.IconLeft)!==null&&r!==void 0?r:mH;return s.jsxs("div",{className:l.nav,style:u.nav,children:[!e.hidePrevious&&s.jsx(hb,{name:"previous-month","aria-label":v,className:w,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(N,{className:l.nav_icon,style:u.nav_icon}):s.jsx(E,{className:l.nav_icon,style:u.nav_icon})}),!e.hideNext&&s.jsx(hb,{name:"next-month","aria-label":P,className:_,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(E,{className:l.nav_icon,style:u.nav_icon}):s.jsx(N,{className:l.nav_icon,style:u.nav_icon})})]})}function Pk(e){var t=Ln().numberOfMonths,r=Mv(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,l=r.displayMonths,u=l.findIndex(function(P){return AP(e.displayMonth,P)}),d=u===0,f=u===l.length-1,g=t>1&&(d||!f),m=t>1&&(f||!d),v=function(){n&&i(n)},w=function(){a&&i(a)};return s.jsx(gH,{displayMonth:e.displayMonth,hideNext:g,hidePrevious:m,nextMonth:a,previousMonth:n,onPreviousClick:v,onNextClick:w})}function yH(e){var t,r=Ln(),n=r.classNames,a=r.disableNavigation,i=r.styles,l=r.captionLayout,u=r.components,d=(t=u?.CaptionLabel)!==null&&t!==void 0?t:l5,f;return a?f=s.jsx(d,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?f=s.jsx(Ck,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?f=s.jsxs(s.Fragment,{children:[s.jsx(Ck,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(Pk,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=s.jsxs(s.Fragment,{children:[s.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Pk,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:f})}function vH(e){var t=Ln(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function bH(e,t,r){for(var n=r?Zp(new Date):wu(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var l=Li(n,i);a.push(l)}return a}function xH(){var e=Ln(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,l=e.ISOWeek,u=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,f=bH(a,i,l);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),f.map(function(g,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(g,{locale:a}),children:u(g,{locale:a})},m)})]})}function wH(){var e,t=Ln(),r=t.classNames,n=t.styles,a=t.components,i=(e=a?.HeadRow)!==null&&e!==void 0?e:xH;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function SH(e){var t=Ln(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var kP=y.createContext(void 0);function NH(e){if(!Tv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(kP.Provider,{value:t,children:e.children})}return s.jsx(jH,{initialProps:e.initialProps,children:e.children})}function jH(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,l=function(f,g,m){var v,w;(v=t.onDayClick)===null||v===void 0||v.call(t,f,g,m);var P=!!(g.selected&&a&&n?.length===a);if(!P){var _=!!(!g.selected&&i&&n?.length===i);if(!_){var N=n?i5([],n):[];if(g.selected){var E=N.findIndex(function(D){return io(f,D)});N.splice(E,1)}else N.push(f);(w=t.onSelect)===null||w===void 0||w.call(t,N,f,g,m)}}},u={disabled:[]};n&&u.disabled.push(function(f){var g=i&&n.length>i-1,m=n.some(function(v){return io(v,f)});return!!(g&&!m)});var d={selected:n,onDayClick:l,modifiers:u};return s.jsx(kP.Provider,{value:d,children:r})}function EP(){var e=y.useContext(kP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function _H(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?io(a,e)&&io(n,e)?void 0:io(a,e)?{from:a,to:void 0}:io(n,e)?void 0:j_(n,e)?{from:e,to:a}:{from:n,to:e}:a?j_(e,a)?{from:a,to:e}:{from:e,to:a}:n?s5(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var OP=y.createContext(void 0);function CH(e){if(!Iv(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(OP.Provider,{value:t,children:e.children})}return s.jsx(PH,{initialProps:e.initialProps,children:e.children})}function PH(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,l=a.to,u=t.min,d=t.max,f=function(w,P,_){var N,E;(N=t.onDayClick)===null||N===void 0||N.call(t,w,P,_);var D=_H(w,n);(E=t.onSelect)===null||E===void 0||E.call(t,D,w,P,_)},g={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(g.range_start=[i],l?(g.range_end=[l],io(i,l)||(g.range_middle=[{after:i,before:l}])):g.range_end=[i]):l&&(g.range_start=[l],g.range_end=[l]),u&&(i&&!l&&g.disabled.push({after:Hw(i,u-1),before:Li(i,u-1)}),i&&l&&g.disabled.push({after:i,before:Li(i,u-1)}),!i&&l&&g.disabled.push({after:Hw(l,u-1),before:Li(l,u-1)})),d){if(i&&!l&&(g.disabled.push({before:Li(i,-d+1)}),g.disabled.push({after:Li(i,d-1)})),i&&l){var m=mu(l,i)+1,v=d-m;g.disabled.push({before:Hw(i,v)}),g.disabled.push({after:Li(l,v)})}!i&&l&&(g.disabled.push({before:Li(l,-d+1)}),g.disabled.push({after:Li(l,d-1)}))}return s.jsx(OP.Provider,{value:{selected:n,onDayClick:f,modifiers:g},children:r})}function RP(){var e=y.useContext(OP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function rb(e){return Array.isArray(e)?i5([],e):e!==void 0?[e]:[]}function AH(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=rb(a)}),t}var bc;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(bc||(bc={}));var kH=bc.Selected,ud=bc.Disabled,EH=bc.Hidden,OH=bc.Today,Gw=bc.RangeEnd,Kw=bc.RangeMiddle,Yw=bc.RangeStart,RH=bc.Outside;function TH(e,t,r){var n,a=(n={},n[kH]=rb(e.selected),n[ud]=rb(e.disabled),n[EH]=rb(e.hidden),n[OH]=[e.today],n[Gw]=[],n[Kw]=[],n[Yw]=[],n[RH]=[],n);return e.fromDate&&a[ud].push({before:e.fromDate}),e.toDate&&a[ud].push({after:e.toDate}),Tv(e)?a[ud]=a[ud].concat(t.modifiers[ud]):Iv(e)&&(a[ud]=a[ud].concat(r.modifiers[ud]),a[Yw]=r.modifiers[Yw],a[Kw]=r.modifiers[Kw],a[Gw]=r.modifiers[Gw]),a}var d5=y.createContext(void 0);function IH(e){var t=Ln(),r=EP(),n=RP(),a=TH(t,r,n),i=AH(t.modifiers),l=Yt(Yt({},a),i);return s.jsx(d5.Provider,{value:l,children:e.children})}function f5(){var e=y.useContext(d5);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function MH(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function DH(e){return!!(e&&typeof e=="object"&&"from"in e)}function LH(e){return!!(e&&typeof e=="object"&&"after"in e)}function $H(e){return!!(e&&typeof e=="object"&&"before"in e)}function FH(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function BH(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=mu(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var l=mu(e,n)>=0&&mu(a,e)>=0;return l}return a?io(a,e):n?io(n,e):!1}function qH(e){return _P(e)}function UH(e){return Array.isArray(e)&&e.every(_P)}function zH(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(qH(r))return io(e,r);if(UH(r))return r.includes(e);if(DH(r))return BH(e,r);if(FH(r))return r.dayOfWeek.includes(e.getDay());if(MH(r)){var n=mu(r.before,e),a=mu(r.after,e),i=n>0,l=a<0,u=j_(r.before,r.after);return u?l&&i:i||l}return LH(r)?mu(e,r.after)>0:$H(r)?mu(r.before,e)>0:typeof r=="function"?r(e):!1})}function TP(e,t,r){var n=Object.keys(t).reduce(function(i,l){var u=t[l];return zH(e,u)&&i.push(l),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!AP(e,r)&&(a.outside=!0),a}function WH(e,t){for(var r=lo(e[0]),n=CP(e[e.length-1]),a,i,l=r;l<=n;){var u=TP(l,t),d=!u.disabled&&!u.hidden;if(!d){l=Li(l,1);continue}if(u.selected)return l;u.today&&!i&&(i=l),a||(a=l),l=Li(l,1)}return i||a}var HH=365;function p5(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,l=t.retry,u=l===void 0?{count:0,lastFocused:e}:l,d=a.weekStartsOn,f=a.fromDate,g=a.toDate,m=a.locale,v={day:Li,week:N_,month:vc,year:T8,startOfWeek:function(N){return a.ISOWeek?Zp(N):wu(N,{locale:m,weekStartsOn:d})},endOfWeek:function(N){return a.ISOWeek?J4(N):PP(N,{locale:m,weekStartsOn:d})}},w=v[r](e,n==="after"?1:-1);n==="before"&&f?w=I8([f,w]):n==="after"&&g&&(w=M8([g,w]));var P=!0;if(i){var _=TP(w,i);P=!_.disabled&&!_.hidden}return P?w:u.count>HH?u.lastFocused:p5(w,{moveBy:r,direction:n,context:a,modifiers:i,retry:Yt(Yt({},u),{count:u.count+1})})}var m5=y.createContext(void 0);function VH(e){var t=Mv(),r=f5(),n=y.useState(),a=n[0],i=n[1],l=y.useState(),u=l[0],d=l[1],f=WH(t.displayMonths,r),g=a??(u&&t.isDateDisplayed(u))?u:f,m=function(){d(a),i(void 0)},v=function(N){i(N)},w=Ln(),P=function(N,E){if(a){var D=p5(a,{moveBy:N,direction:E,context:w,modifiers:r});io(a,D)||(t.goToDate(D,a),v(D))}},_={focusedDay:a,focusTarget:g,blur:m,focus:v,focusDayAfter:function(){return P("day","after")},focusDayBefore:function(){return P("day","before")},focusWeekAfter:function(){return P("week","after")},focusWeekBefore:function(){return P("week","before")},focusMonthBefore:function(){return P("month","before")},focusMonthAfter:function(){return P("month","after")},focusYearBefore:function(){return P("year","before")},focusYearAfter:function(){return P("year","after")},focusStartOfWeek:function(){return P("startOfWeek","before")},focusEndOfWeek:function(){return P("endOfWeek","after")}};return s.jsx(m5.Provider,{value:_,children:e.children})}function IP(){var e=y.useContext(m5);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function GH(e,t){var r=f5(),n=TP(e,r,t);return n}var MP=y.createContext(void 0);function KH(e){if(!_x(e.initialProps)){var t={selected:void 0};return s.jsx(MP.Provider,{value:t,children:e.children})}return s.jsx(YH,{initialProps:e.initialProps,children:e.children})}function YH(e){var t=e.initialProps,r=e.children,n=function(i,l,u){var d,f,g;if((d=t.onDayClick)===null||d===void 0||d.call(t,i,l,u),l.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,i,l,u);return}(g=t.onSelect)===null||g===void 0||g.call(t,i,i,l,u)},a={selected:t.selected,onDayClick:n};return s.jsx(MP.Provider,{value:a,children:r})}function h5(){var e=y.useContext(MP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function XH(e,t){var r=Ln(),n=h5(),a=EP(),i=RP(),l=IP(),u=l.focusDayAfter,d=l.focusDayBefore,f=l.focusWeekAfter,g=l.focusWeekBefore,m=l.blur,v=l.focus,w=l.focusMonthBefore,P=l.focusMonthAfter,_=l.focusYearBefore,N=l.focusYearAfter,E=l.focusStartOfWeek,D=l.focusEndOfWeek,L=function(ne){var G,ve,Se,X;_x(r)?(G=n.onDayClick)===null||G===void 0||G.call(n,e,t,ne):Tv(r)?(ve=a.onDayClick)===null||ve===void 0||ve.call(a,e,t,ne):Iv(r)?(Se=i.onDayClick)===null||Se===void 0||Se.call(i,e,t,ne):(X=r.onDayClick)===null||X===void 0||X.call(r,e,t,ne)},$=function(ne){var G;v(e),(G=r.onDayFocus)===null||G===void 0||G.call(r,e,t,ne)},R=function(ne){var G;m(),(G=r.onDayBlur)===null||G===void 0||G.call(r,e,t,ne)},M=function(ne){var G;(G=r.onDayMouseEnter)===null||G===void 0||G.call(r,e,t,ne)},F=function(ne){var G;(G=r.onDayMouseLeave)===null||G===void 0||G.call(r,e,t,ne)},V=function(ne){var G;(G=r.onDayPointerEnter)===null||G===void 0||G.call(r,e,t,ne)},Y=function(ne){var G;(G=r.onDayPointerLeave)===null||G===void 0||G.call(r,e,t,ne)},ue=function(ne){var G;(G=r.onDayTouchCancel)===null||G===void 0||G.call(r,e,t,ne)},te=function(ne){var G;(G=r.onDayTouchEnd)===null||G===void 0||G.call(r,e,t,ne)},le=function(ne){var G;(G=r.onDayTouchMove)===null||G===void 0||G.call(r,e,t,ne)},fe=function(ne){var G;(G=r.onDayTouchStart)===null||G===void 0||G.call(r,e,t,ne)},me=function(ne){var G;(G=r.onDayKeyUp)===null||G===void 0||G.call(r,e,t,ne)},ie=function(ne){var G;switch(ne.key){case"ArrowLeft":ne.preventDefault(),ne.stopPropagation(),r.dir==="rtl"?u():d();break;case"ArrowRight":ne.preventDefault(),ne.stopPropagation(),r.dir==="rtl"?d():u();break;case"ArrowDown":ne.preventDefault(),ne.stopPropagation(),f();break;case"ArrowUp":ne.preventDefault(),ne.stopPropagation(),g();break;case"PageUp":ne.preventDefault(),ne.stopPropagation(),ne.shiftKey?_():w();break;case"PageDown":ne.preventDefault(),ne.stopPropagation(),ne.shiftKey?N():P();break;case"Home":ne.preventDefault(),ne.stopPropagation(),E();break;case"End":ne.preventDefault(),ne.stopPropagation(),D();break}(G=r.onDayKeyDown)===null||G===void 0||G.call(r,e,t,ne)},J={onClick:L,onFocus:$,onBlur:R,onKeyDown:ie,onKeyUp:me,onMouseEnter:M,onMouseLeave:F,onPointerEnter:V,onPointerLeave:Y,onTouchCancel:ue,onTouchEnd:te,onTouchMove:le,onTouchStart:fe};return J}function QH(){var e=Ln(),t=h5(),r=EP(),n=RP(),a=_x(e)?t.selected:Tv(e)?r.selected:Iv(e)?n.selected:void 0;return a}function ZH(e){return Object.values(bc).includes(e)}function JH(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(ZH(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function eV(e,t){var r=Yt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Yt(Yt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function tV(e,t,r){var n,a,i,l=Ln(),u=IP(),d=GH(e,t),f=XH(e,d),g=QH(),m=!!(l.onDayClick||l.mode!=="default");y.useEffect(function(){var M;d.outside||u.focusedDay&&m&&io(u.focusedDay,e)&&((M=r.current)===null||M===void 0||M.focus())},[u.focusedDay,e,r,m,d.outside]);var v=JH(l,d).join(" "),w=eV(l,d),P=!!(d.outside&&!l.showOutsideDays||d.hidden),_=(i=(a=l.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:SH,N=s.jsx(_,{date:e,displayMonth:t,activeModifiers:d}),E={style:w,className:v,children:N,role:"gridcell"},D=u.focusTarget&&io(u.focusTarget,e)&&!d.outside,L=u.focusedDay&&io(u.focusedDay,e),$=Yt(Yt(Yt({},E),(n={disabled:d.disabled,role:"gridcell"},n["aria-selected"]=d.selected,n.tabIndex=L||D?0:-1,n)),f),R={isButton:m,isHidden:P,activeModifiers:d,selectedDays:g,buttonProps:$,divProps:E};return R}function rV(e){var t=y.useRef(null),r=tV(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(hb,Yt({name:"day",ref:t},r.buttonProps)):s.jsx("div",Yt({},r.divProps))}function nV(e){var t=e.number,r=e.dates,n=Ln(),a=n.onWeekNumberClick,i=n.styles,l=n.classNames,u=n.locale,d=n.labels.labelWeekNumber,f=n.formatters.formatWeekNumber,g=f(Number(t),{locale:u});if(!a)return s.jsx("span",{className:l.weeknumber,style:i.weeknumber,children:g});var m=d(Number(t),{locale:u}),v=function(w){a(t,r,w)};return s.jsx(hb,{name:"week-number","aria-label":m,className:l.weeknumber,style:i.weeknumber,onClick:v,children:g})}function aV(e){var t,r,n=Ln(),a=n.styles,i=n.classNames,l=n.showWeekNumber,u=n.components,d=(t=u?.Day)!==null&&t!==void 0?t:rV,f=(r=u?.WeekNumber)!==null&&r!==void 0?r:nV,g;return l&&(g=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(f,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[g,e.dates.map(function(m){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(d,{displayMonth:e.displayMonth,date:m})},IW(m))})]})}function Ak(e,t,r){for(var n=r?.ISOWeek?J4(t):PP(t,r),a=r?.ISOWeek?Zp(e):wu(e,r),i=mu(n,a),l=[],u=0;u<=i;u++)l.push(Li(a,u));var d=l.reduce(function(f,g){var m=r?.ISOWeek?t5(g):n5(g,r),v=f.find(function(w){return w.weekNumber===m});return v?(v.dates.push(g),f):(f.push({weekNumber:m,dates:[g]}),f)},[]);return d}function sV(e,t){var r=Ak(lo(e),CP(e),t);if(t?.useFixedWeeks){var n=DW(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],l=N_(i,6-n),u=Ak(N_(i,1),l,t);r.push.apply(r,u)}}return r}function iV(e){var t,r,n,a=Ln(),i=a.locale,l=a.classNames,u=a.styles,d=a.hideHead,f=a.fixedWeeks,g=a.components,m=a.weekStartsOn,v=a.firstWeekContainsDate,w=a.ISOWeek,P=sV(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:w,locale:i,weekStartsOn:m,firstWeekContainsDate:v}),_=(t=g?.Head)!==null&&t!==void 0?t:wH,N=(r=g?.Row)!==null&&r!==void 0?r:aV,E=(n=g?.Footer)!==null&&n!==void 0?n:vH;return s.jsxs("table",{id:e.id,className:l.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&s.jsx(_,{}),s.jsx("tbody",{className:l.tbody,style:u.tbody,children:P.map(function(D){return s.jsx(N,{displayMonth:e.displayMonth,dates:D.dates,weekNumber:D.weekNumber},D.weekNumber)})}),s.jsx(E,{displayMonth:e.displayMonth})]})}function oV(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var lV=oV()?y.useLayoutEffect:y.useEffect,Xw=!1,cV=0;function kk(){return"react-day-picker-".concat(++cV)}function uV(e){var t,r=e??(Xw?kk():null),n=y.useState(r),a=n[0],i=n[1];return lV(function(){a===null&&i(kk())},[]),y.useEffect(function(){Xw===!1&&(Xw=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function dV(e){var t,r,n=Ln(),a=n.dir,i=n.classNames,l=n.styles,u=n.components,d=Mv().displayMonths,f=uV(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),g=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[i.month],v=l.month,w=e.displayIndex===0,P=e.displayIndex===d.length-1,_=!w&&!P;a==="rtl"&&(t=[w,P],P=t[0],w=t[1]),w&&(m.push(i.caption_start),v=Yt(Yt({},v),l.caption_start)),P&&(m.push(i.caption_end),v=Yt(Yt({},v),l.caption_end)),_&&(m.push(i.caption_between),v=Yt(Yt({},v),l.caption_between));var N=(r=u?.Caption)!==null&&r!==void 0?r:yH;return s.jsxs("div",{className:m.join(" "),style:v,children:[s.jsx(N,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(iV,{id:g,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function fV(e){var t=Ln(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function pV(e){var t,r,n=e.initialProps,a=Ln(),i=IP(),l=Mv(),u=y.useState(!1),d=u[0],f=u[1];y.useEffect(function(){a.initialFocus&&i.focusTarget&&(d||(i.focus(i.focusTarget),f(!0)))},[a.initialFocus,d,i.focus,i.focusTarget,i]);var g=[a.classNames.root,a.className];a.numberOfMonths>1&&g.push(a.classNames.multiple_months),a.showWeekNumber&&g.push(a.classNames.with_weeknumber);var m=Yt(Yt({},a.styles.root),a.style),v=Object.keys(n).filter(function(P){return P.startsWith("data-")}).reduce(function(P,_){var N;return Yt(Yt({},P),(N={},N[_]=n[_],N))},{}),w=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:fV;return s.jsx("div",Yt({className:g.join(" "),style:m,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},v,{children:s.jsx(w,{children:l.displayMonths.map(function(P,_){return s.jsx(dV,{displayIndex:_,displayMonth:P},_)})})}))}function mV(e){var t=e.children,r=$W(e,["children"]);return s.jsx(nH,{initialProps:r,children:s.jsx(pH,{children:s.jsx(KH,{initialProps:r,children:s.jsx(NH,{initialProps:r,children:s.jsx(CH,{initialProps:r,children:s.jsx(IH,{children:s.jsx(VH,{children:t})})})})})})})}function R0(e){return s.jsx(mV,Yt({},e,{children:s.jsx(pV,{initialProps:e})}))}var Qw,Ek;function co(){if(Ek)return Qw;Ek=1;var e=Array.isArray;return Qw=e,Qw}var Zw,Ok;function g5(){if(Ok)return Zw;Ok=1;var e=typeof f0=="object"&&f0&&f0.Object===Object&&f0;return Zw=e,Zw}var Jw,Rk;function _u(){if(Rk)return Jw;Rk=1;var e=g5(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Jw=r,Jw}var e1,Tk;function Dv(){if(Tk)return e1;Tk=1;var e=_u(),t=e.Symbol;return e1=t,e1}var t1,Ik;function hV(){if(Ik)return t1;Ik=1;var e=Dv(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(l){var u=r.call(l,a),d=l[a];try{l[a]=void 0;var f=!0}catch{}var g=n.call(l);return f&&(u?l[a]=d:delete l[a]),g}return t1=i,t1}var r1,Mk;function gV(){if(Mk)return r1;Mk=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return r1=r,r1}var n1,Dk;function Ad(){if(Dk)return n1;Dk=1;var e=Dv(),t=hV(),r=gV(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?a:n:i&&i in Object(u)?t(u):r(u)}return n1=l,n1}var a1,Lk;function kd(){if(Lk)return a1;Lk=1;function e(t){return t!=null&&typeof t=="object"}return a1=e,a1}var s1,$k;function gg(){if($k)return s1;$k=1;var e=Ad(),t=kd(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return s1=n,s1}var i1,Fk;function DP(){if(Fk)return i1;Fk=1;var e=co(),t=gg(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||l!=null&&i in Object(l)}return i1=a,i1}var o1,Bk;function Lf(){if(Bk)return o1;Bk=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return o1=e,o1}var l1,qk;function LP(){if(qk)return l1;qk=1;var e=Ad(),t=Lf(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==n||d==a||d==r||d==i}return l1=l,l1}var c1,Uk;function yV(){if(Uk)return c1;Uk=1;var e=_u(),t=e["__core-js_shared__"];return c1=t,c1}var u1,zk;function vV(){if(zk)return u1;zk=1;var e=yV(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return u1=r,u1}var d1,Wk;function y5(){if(Wk)return d1;Wk=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return d1=r,d1}var f1,Hk;function bV(){if(Hk)return f1;Hk=1;var e=LP(),t=vV(),r=Lf(),n=y5(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,g=RegExp("^"+d.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!r(v)||t(v))return!1;var w=e(v)?g:i;return w.test(n(v))}return f1=m,f1}var p1,Vk;function xV(){if(Vk)return p1;Vk=1;function e(t,r){return t?.[r]}return p1=e,p1}var m1,Gk;function om(){if(Gk)return m1;Gk=1;var e=bV(),t=xV();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return m1=r,m1}var h1,Kk;function Cx(){if(Kk)return h1;Kk=1;var e=om(),t=e(Object,"create");return h1=t,h1}var g1,Yk;function wV(){if(Yk)return g1;Yk=1;var e=Cx();function t(){this.__data__=e?e(null):{},this.size=0}return g1=t,g1}var y1,Xk;function SV(){if(Xk)return y1;Xk=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return y1=e,y1}var v1,Qk;function NV(){if(Qk)return v1;Qk=1;var e=Cx(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var l=this.__data__;if(e){var u=l[i];return u===t?void 0:u}return n.call(l,i)?l[i]:void 0}return v1=a,v1}var b1,Zk;function jV(){if(Zk)return b1;Zk=1;var e=Cx(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return b1=n,b1}var x1,Jk;function _V(){if(Jk)return x1;Jk=1;var e=Cx(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return x1=r,x1}var w1,eE;function CV(){if(eE)return w1;eE=1;var e=wV(),t=SV(),r=NV(),n=jV(),a=_V();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,w1=i,w1}var S1,tE;function PV(){if(tE)return S1;tE=1;function e(){this.__data__=[],this.size=0}return S1=e,S1}var N1,rE;function $P(){if(rE)return N1;rE=1;function e(t,r){return t===r||t!==t&&r!==r}return N1=e,N1}var j1,nE;function Px(){if(nE)return j1;nE=1;var e=$P();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return j1=t,j1}var _1,aE;function AV(){if(aE)return _1;aE=1;var e=Px(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,l=e(i,a);if(l<0)return!1;var u=i.length-1;return l==u?i.pop():r.call(i,l,1),--this.size,!0}return _1=n,_1}var C1,sE;function kV(){if(sE)return C1;sE=1;var e=Px();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return C1=t,C1}var P1,iE;function EV(){if(iE)return P1;iE=1;var e=Px();function t(r){return e(this.__data__,r)>-1}return P1=t,P1}var A1,oE;function OV(){if(oE)return A1;oE=1;var e=Px();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return A1=t,A1}var k1,lE;function Ax(){if(lE)return k1;lE=1;var e=PV(),t=AV(),r=kV(),n=EV(),a=OV();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,k1=i,k1}var E1,cE;function FP(){if(cE)return E1;cE=1;var e=om(),t=_u(),r=e(t,"Map");return E1=r,E1}var O1,uE;function RV(){if(uE)return O1;uE=1;var e=CV(),t=Ax(),r=FP();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return O1=n,O1}var R1,dE;function TV(){if(dE)return R1;dE=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return R1=e,R1}var T1,fE;function kx(){if(fE)return T1;fE=1;var e=TV();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return T1=t,T1}var I1,pE;function IV(){if(pE)return I1;pE=1;var e=kx();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return I1=t,I1}var M1,mE;function MV(){if(mE)return M1;mE=1;var e=kx();function t(r){return e(this,r).get(r)}return M1=t,M1}var D1,hE;function DV(){if(hE)return D1;hE=1;var e=kx();function t(r){return e(this,r).has(r)}return D1=t,D1}var L1,gE;function LV(){if(gE)return L1;gE=1;var e=kx();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return L1=t,L1}var $1,yE;function BP(){if(yE)return $1;yE=1;var e=RV(),t=IV(),r=MV(),n=DV(),a=LV();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,$1=i,$1}var F1,vE;function v5(){if(vE)return F1;vE=1;var e=BP(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var l=arguments,u=a?a.apply(this,l):l[0],d=i.cache;if(d.has(u))return d.get(u);var f=n.apply(this,l);return i.cache=d.set(u,f)||d,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,F1=r,F1}var B1,bE;function $V(){if(bE)return B1;bE=1;var e=v5(),t=500;function r(n){var a=e(n,function(l){return i.size===t&&i.clear(),l}),i=a.cache;return a}return B1=r,B1}var q1,xE;function FV(){if(xE)return q1;xE=1;var e=$V(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(l,u,d,f){i.push(d?f.replace(r,"$1"):u||l)}),i});return q1=n,q1}var U1,wE;function qP(){if(wE)return U1;wE=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return U1=e,U1}var z1,SE;function BV(){if(SE)return z1;SE=1;var e=Dv(),t=qP(),r=co(),n=gg(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return z1=l,z1}var W1,NE;function b5(){if(NE)return W1;NE=1;var e=BV();function t(r){return r==null?"":e(r)}return W1=t,W1}var H1,jE;function x5(){if(jE)return H1;jE=1;var e=co(),t=DP(),r=FV(),n=b5();function a(i,l){return e(i)?i:t(i,l)?[i]:r(n(i))}return H1=a,H1}var V1,_E;function Ex(){if(_E)return V1;_E=1;var e=gg();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return V1=t,V1}var G1,CE;function UP(){if(CE)return G1;CE=1;var e=x5(),t=Ex();function r(n,a){a=e(a,n);for(var i=0,l=a.length;n!=null&&i<l;)n=n[t(a[i++])];return i&&i==l?n:void 0}return G1=r,G1}var K1,PE;function w5(){if(PE)return K1;PE=1;var e=UP();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return K1=t,K1}var qV=w5();const Pl=jn(qV);var Y1,AE;function UV(){if(AE)return Y1;AE=1;function e(t){return t==null}return Y1=e,Y1}var zV=UV();const Hr=jn(zV);var X1,kE;function WV(){if(kE)return X1;kE=1;var e=Ad(),t=co(),r=kd(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return X1=a,X1}var HV=WV();const Jp=jn(HV);var VV=LP();const mr=jn(VV);var GV=Lf();const yg=jn(GV);var Q1={exports:{}},nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function KV(){if(EE)return nn;EE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),P;P=Symbol.for("react.module.reference");function _(N){if(typeof N=="object"&&N!==null){var E=N.$$typeof;switch(E){case e:switch(N=N.type,N){case r:case a:case n:case f:case g:return N;default:switch(N=N&&N.$$typeof,N){case u:case l:case d:case v:case m:case i:return N;default:return E}}case t:return E}}}return nn.ContextConsumer=l,nn.ContextProvider=i,nn.Element=e,nn.ForwardRef=d,nn.Fragment=r,nn.Lazy=v,nn.Memo=m,nn.Portal=t,nn.Profiler=a,nn.StrictMode=n,nn.Suspense=f,nn.SuspenseList=g,nn.isAsyncMode=function(){return!1},nn.isConcurrentMode=function(){return!1},nn.isContextConsumer=function(N){return _(N)===l},nn.isContextProvider=function(N){return _(N)===i},nn.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},nn.isForwardRef=function(N){return _(N)===d},nn.isFragment=function(N){return _(N)===r},nn.isLazy=function(N){return _(N)===v},nn.isMemo=function(N){return _(N)===m},nn.isPortal=function(N){return _(N)===t},nn.isProfiler=function(N){return _(N)===a},nn.isStrictMode=function(N){return _(N)===n},nn.isSuspense=function(N){return _(N)===f},nn.isSuspenseList=function(N){return _(N)===g},nn.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===a||N===n||N===f||N===g||N===w||typeof N=="object"&&N!==null&&(N.$$typeof===v||N.$$typeof===m||N.$$typeof===i||N.$$typeof===l||N.$$typeof===d||N.$$typeof===P||N.getModuleId!==void 0)},nn.typeOf=_,nn}var OE;function YV(){return OE||(OE=1,Q1.exports=KV()),Q1.exports}var XV=YV(),Z1,RE;function S5(){if(RE)return Z1;RE=1;var e=Ad(),t=kd(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return Z1=n,Z1}var J1,TE;function QV(){if(TE)return J1;TE=1;var e=S5();function t(r){return e(r)&&r!=+r}return J1=t,J1}var ZV=QV();const Lv=jn(ZV);var JV=S5();const eG=jn(JV);var mc=function(t){return t===0?0:t>0?1:-1},qp=function(t){return Jp(t)&&t.indexOf("%")===t.length-1},ut=function(t){return eG(t)&&!Lv(t)},tG=function(t){return Hr(t)},bs=function(t){return ut(t)||Jp(t)},rG=0,Ox=function(t){var r=++rG;return"".concat(t||"").concat(r)},em=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ut(t)&&!Jp(t))return n;var i;if(qp(t)){var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Lv(i)&&(i=n),a&&i>r&&(i=r),i},Pf=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},nG=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},xh=function(t,r){return ut(t)&&ut(r)?function(n){return t+n*(r-t)}:function(){return r}};function __(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Pl(n,t))===r})}var aG=function(t,r){return ut(t)&&ut(r)?t-r:Jp(t)&&Jp(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ih(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function C_(e){"@babel/helpers - typeof";return C_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C_(e)}var sG=["viewBox","children"],iG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IE=["points","pathLength"],eS={svg:sG,polygon:IE,polyline:IE},zP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],gb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!yg(n))return null;var a={};return Object.keys(n).forEach(function(i){zP.includes(i)&&(a[i]=r||function(l){return n[i](n,l)})}),a},oG=function(t,r,n){return function(a){return t(r,n,a),null}},yb=function(t,r,n){if(!yg(t)||C_(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var l=t[i];zP.includes(i)&&typeof l=="function"&&(a||(a={}),a[i]=oG(l,r,n))}),a},lG=["children"],cG=["children"];function ME(e,t){if(e==null)return{};var r=uG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var DE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xd=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},LE=null,tS=null,WP=function e(t){if(t===LE&&Array.isArray(tS))return tS;var r=[];return y.Children.forEach(t,function(n){Hr(n)||(XV.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),tS=r,LE=t,r};function hc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return xd(a)}):n=[xd(t)],WP(e).forEach(function(a){var i=Pl(a,"type.displayName")||Pl(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Uo(e,t){var r=hc(e,t);return r&&r[0]}var $E=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ut(n)||n<=0||!ut(a)||a<=0)},dG=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fG=function(t){return t&&t.type&&Jp(t.type)&&dG.indexOf(t.type)>=0},pG=function(t,r,n,a){var i,l=(i=eS?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!mr(t)&&(a&&l.includes(r)||iG.includes(r))||n&&zP.includes(r)},Wr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!yg(a))return null;var i={};return Object.keys(a).forEach(function(l){var u;pG((u=a)===null||u===void 0?void 0:u[l],l,r,n)&&(i[l]=a[l])}),i},P_=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return FE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],l=r[a];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!FE(i,l))return!1}return!0},FE=function(t,r){if(Hr(t)&&Hr(r))return!0;if(!Hr(t)&&!Hr(r)){var n=t.props||{},a=n.children,i=ME(n,lG),l=r.props||{},u=l.children,d=ME(l,cG);return a&&u?Ih(i,d)&&P_(a,u):!a&&!u?Ih(i,d):!1}return!1},BE=function(t,r){var n=[],a={};return WP(t).forEach(function(i,l){if(fG(i))n.push(i);else if(i){var u=xd(i.type),d=r[u]||{},f=d.handler,g=d.once;if(f&&(!g||!a[u])){var m=f(i,u,l);n.push(m),a[u]=!0}}}),n},mG=function(t){var r=t&&t.type;return r&&DE[r]?DE[r]:null},hG=function(t,r){return WP(r).indexOf(t)},gG=["children","width","height","viewBox","className","style","title","desc"];function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A_.apply(this,arguments)}function yG(e,t){if(e==null)return{};var r=vG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k_(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,l=e.style,u=e.title,d=e.desc,f=yG(e,gG),g=a||{width:r,height:n,x:0,y:0},m=qt("recharts-surface",i);return se.createElement("svg",A_({},Wr(f,!0,"svg"),{className:m,width:r,height:n,style:l,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),se.createElement("title",null,u),se.createElement("desc",null,d),t)}var bG=["children","className"];function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E_.apply(this,arguments)}function xG(e,t){if(e==null)return{};var r=wG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ms=se.forwardRef(function(e,t){var r=e.children,n=e.className,a=xG(e,bG),i=qt("recharts-layer",n);return se.createElement("g",E_({className:i},Wr(a,!0),{ref:t}),r)}),wd=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},rS,qE;function SG(){if(qE)return rS;qE=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(i);++a<i;)l[a]=t[a+r];return l}return rS=e,rS}var nS,UE;function NG(){if(UE)return nS;UE=1;var e=SG();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return nS=t,nS}var aS,zE;function N5(){if(zE)return aS;zE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+a+i+"]");function d(f){return u.test(f)}return aS=d,aS}var sS,WE;function jG(){if(WE)return sS;WE=1;function e(t){return t.split("")}return sS=e,sS}var iS,HE;function _G(){if(HE)return iS;HE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",l="["+e+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",g="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",P=f+"?",_="["+i+"]?",N="(?:"+w+"(?:"+[g,m,v].join("|")+")"+_+P+")*",E=_+P+N,D="(?:"+[g+u+"?",u,m,v,l].join("|")+")",L=RegExp(d+"(?="+d+")|"+D+E,"g");function $(R){return R.match(L)||[]}return iS=$,iS}var oS,VE;function CG(){if(VE)return oS;VE=1;var e=jG(),t=N5(),r=_G();function n(a){return t(a)?r(a):e(a)}return oS=n,oS}var lS,GE;function PG(){if(GE)return lS;GE=1;var e=NG(),t=N5(),r=CG(),n=b5();function a(i){return function(l){l=n(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[i]()+f}}return lS=a,lS}var cS,KE;function AG(){if(KE)return cS;KE=1;var e=PG(),t=e("toUpperCase");return cS=t,cS}var kG=AG();const Rx=jn(kG);function Dn(e){return function(){return e}}const j5=Math.cos,vb=Math.sin,wc=Math.sqrt,bb=Math.PI,Tx=2*bb,O_=Math.PI,R_=2*O_,Dp=1e-6,EG=R_-Dp;function _5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function OG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _5;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class RG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_5:OG(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=n-t,f=a-r,g=l-t,m=u-r,v=g*g+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Dp)if(!(Math.abs(m*d-f*g)>Dp)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let w=n-l,P=a-u,_=d*d+f*f,N=w*w+P*P,E=Math.sqrt(_),D=Math.sqrt(v),L=i*Math.tan((O_-Math.acos((_+v-N)/(2*E*D)))/2),$=L/D,R=L/E;Math.abs($-1)>Dp&&this._append`L${t+$*g},${r+$*m}`,this._append`A${i},${i},0,0,${+(m*w>g*P)},${this._x1=t+R*d},${this._y1=r+R*f}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),f=t+u,g=r+d,m=1^l,v=l?a-i:i-a;this._x1===null?this._append`M${f},${g}`:(Math.abs(this._x1-f)>Dp||Math.abs(this._y1-g)>Dp)&&this._append`L${f},${g}`,n&&(v<0&&(v=v%R_+R_),v>EG?this._append`A${n},${n},0,1,${m},${t-u},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=g}`:v>Dp&&this._append`A${n},${n},0,${+(v>=O_)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function HP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new RG(t)}function VP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function C5(e){this._context=e}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ix(e){return new C5(e)}function P5(e){return e[0]}function A5(e){return e[1]}function k5(e,t){var r=Dn(!0),n=null,a=Ix,i=null,l=HP(u);e=typeof e=="function"?e:e===void 0?P5:Dn(e),t=typeof t=="function"?t:t===void 0?A5:Dn(t);function u(d){var f,g=(d=VP(d)).length,m,v=!1,w;for(n==null&&(i=a(w=l())),f=0;f<=g;++f)!(f<g&&r(m=d[f],f,d))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+e(m,f,d),+t(m,f,d));if(w)return i=null,w+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Dn(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Dn(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Dn(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),u):n},u}function T0(e,t,r){var n=null,a=Dn(!0),i=null,l=Ix,u=null,d=HP(f);e=typeof e=="function"?e:e===void 0?P5:Dn(+e),t=typeof t=="function"?t:Dn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?A5:Dn(+r);function f(m){var v,w,P,_=(m=VP(m)).length,N,E=!1,D,L=new Array(_),$=new Array(_);for(i==null&&(u=l(D=d())),v=0;v<=_;++v){if(!(v<_&&a(N=m[v],v,m))===E)if(E=!E)w=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),P=v-1;P>=w;--P)u.point(L[P],$[P]);u.lineEnd(),u.areaEnd()}E&&(L[v]=+e(N,v,m),$[v]=+t(N,v,m),u.point(n?+n(N,v,m):L[v],r?+r(N,v,m):$[v]))}if(D)return u=null,D+""||null}function g(){return k5().defined(a).curve(l).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Dn(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Dn(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Dn(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Dn(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Dn(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Dn(+m),f):r},f.lineX0=f.lineY0=function(){return g().x(e).y(t)},f.lineY1=function(){return g().x(e).y(r)},f.lineX1=function(){return g().x(n).y(t)},f.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Dn(!!m),f):a},f.curve=function(m){return arguments.length?(l=m,i!=null&&(u=l(i)),f):l},f.context=function(m){return arguments.length?(m==null?i=u=null:u=l(i=m),f):i},f}class E5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function TG(e){return new E5(e,!0)}function IG(e){return new E5(e,!1)}const GP={draw(e,t){const r=wc(t/bb);e.moveTo(r,0),e.arc(0,0,r,0,Tx)}},MG={draw(e,t){const r=wc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},O5=wc(1/3),DG=O5*2,LG={draw(e,t){const r=wc(t/DG),n=r*O5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$G={draw(e,t){const r=wc(t),n=-r/2;e.rect(n,n,r,r)}},FG=.8908130915292852,R5=vb(bb/10)/vb(7*bb/10),BG=vb(Tx/10)*R5,qG=-j5(Tx/10)*R5,UG={draw(e,t){const r=wc(t*FG),n=BG*r,a=qG*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=Tx*i/5,u=j5(l),d=vb(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*a,d*n+u*a)}e.closePath()}},uS=wc(3),zG={draw(e,t){const r=-wc(t/(uS*3));e.moveTo(0,r*2),e.lineTo(-uS*r,-r),e.lineTo(uS*r,-r),e.closePath()}},bl=-.5,xl=wc(3)/2,T_=1/wc(12),WG=(T_/2+1)*3,HG={draw(e,t){const r=wc(t/WG),n=r/2,a=r*T_,i=n,l=r*T_+r,u=-i,d=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(u,d),e.lineTo(bl*n-xl*a,xl*n+bl*a),e.lineTo(bl*i-xl*l,xl*i+bl*l),e.lineTo(bl*u-xl*d,xl*u+bl*d),e.lineTo(bl*n+xl*a,bl*a-xl*n),e.lineTo(bl*i+xl*l,bl*l-xl*i),e.lineTo(bl*u+xl*d,bl*d-xl*u),e.closePath()}};function VG(e,t){let r=null,n=HP(a);e=typeof e=="function"?e:Dn(e||GP),t=typeof t=="function"?t:Dn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Dn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Dn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function xb(){}function wb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function T5(e){this._context=e}T5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GG(e){return new T5(e)}function I5(e){this._context=e}I5.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KG(e){return new I5(e)}function M5(e){this._context=e}M5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:wb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YG(e){return new M5(e)}function D5(e){this._context=e}D5.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function XG(e){return new D5(e)}function YE(e){return e<0?-1:1}function XE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),u=(i*a+l*n)/(n+a);return(YE(i)+YE(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function QE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,u=(i-n)/3;e._context.bezierCurveTo(n+u,a+u*t,i-u,l-u*r,i,l)}function Sb(e){this._context=e}Sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dS(this,this._t0,QE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dS(this,QE(this,r=XE(this,e,t)),r);break;default:dS(this,this._t0,r=XE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function L5(e){this._context=new $5(e)}(L5.prototype=Object.create(Sb.prototype)).point=function(e,t){Sb.prototype.point.call(this,t,e)};function $5(e){this._context=e}$5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function QG(e){return new Sb(e)}function ZG(e){return new L5(e)}function F5(e){this._context=e}F5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ZE(e),a=ZE(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ZE(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function JG(e){return new F5(e)}function Mx(e,t){this._context=e,this._t=t}Mx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function eK(e){return new Mx(e,.5)}function tK(e){return new Mx(e,0)}function rK(e){return new Mx(e,1)}function Hh(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,u=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<u;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function I_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function nK(e,t){return e[t]}function aK(e){const t=[];return t.key=e,t}function sK(){var e=Dn([]),t=I_,r=Hh,n=nK;function a(i){var l=Array.from(e.apply(this,arguments),aK),u,d=l.length,f=-1,g;for(const m of i)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(m,l[u].key,f,i)]).data=m;for(u=0,g=VP(t(l));u<d;++u)l[g[u]].index=u;return r(l,g),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Dn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Dn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?I_:typeof i=="function"?i:Dn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Hh,a):r},a}function iK(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Hh(e,t)}}function oK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,u=0;l<a;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Hh(e,t)}}function lK(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var u=0,d=0,f=0;u<l;++u){for(var g=e[t[u]],m=g[n][1]||0,v=g[n-1][1]||0,w=(m-v)/2,P=0;P<u;++P){var _=e[t[P]],N=_[n][1]||0,E=_[n-1][1]||0;w+=N-E}d+=m,f+=w*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,Hh(e,t)}}function Vy(e){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vy(e)}var cK=["type","size","sizeType"];function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M_.apply(this,arguments)}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){uK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uK(e,t,r){return t=dK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=fK(e,"string");return Vy(t)=="symbol"?t:t+""}function fK(e,t){if(Vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pK(e,t){if(e==null)return{};var r=mK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var B5={symbolCircle:GP,symbolCross:MG,symbolDiamond:LG,symbolSquare:$G,symbolStar:UG,symbolTriangle:zG,symbolWye:HG},hK=Math.PI/180,gK=function(t){var r="symbol".concat(Rx(t));return B5[r]||GP},yK=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*hK;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},vK=function(t,r){B5["symbol".concat(Rx(t))]=r},KP=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,l=t.sizeType,u=l===void 0?"area":l,d=pK(t,cK),f=eO(eO({},d),{},{type:n,size:i,sizeType:u}),g=function(){var N=gK(n),E=VG().type(N).size(yK(i,u,n));return E()},m=f.className,v=f.cx,w=f.cy,P=Wr(f,!0);return v===+v&&w===+w&&i===+i?se.createElement("path",M_({},P,{className:qt("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(w,")"),d:g()})):null};KP.registerSymbol=vK;function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D_.apply(this,arguments)}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){Gy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U5(n.key),n)}}function SK(e,t,r){return t&&wK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NK(e,t,r){return t=Nb(t),jK(e,q5()?Reflect.construct(t,r||[],Nb(e).constructor):t.apply(e,r))}function jK(e,t){if(t&&(Vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _K(e)}function _K(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q5=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(e)}function CK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L_(e,t)}function Gy(e,t,r){return t=U5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U5(e){var t=PK(e,"string");return Vh(t)=="symbol"?t:t+""}function PK(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wl=32,YP=(function(e){function t(){return xK(this,t),NK(this,t,arguments)}return CK(t,e),SK(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=wl/2,l=wl/6,u=wl/3,d=n.inactive?a:n.color;if(n.type==="plainline")return se.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:wl,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return se.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(wl,"M").concat(2*u,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return se.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(wl/8,"h").concat(wl,"v").concat(wl*3/4,"h").concat(-wl,"z"),className:"recharts-legend-icon"});if(se.isValidElement(n.legendIcon)){var f=bK({},n);return delete f.legendIcon,se.cloneElement(n.legendIcon,f)}return se.createElement(KP,{fill:d,cx:i,cy:i,size:wl,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,l=a.iconSize,u=a.layout,d=a.formatter,f=a.inactiveColor,g={x:0,y:0,width:wl,height:wl},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(w,P){var _=w.formatter||d,N=qt(Gy(Gy({"recharts-legend-item":!0},"legend-item-".concat(P),!0),"inactive",w.inactive));if(w.type==="none")return null;var E=mr(w.value)?null:w.value;wd(!mr(w.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var D=w.inactive?f:w.color;return se.createElement("li",D_({className:N,style:m,key:"legend-item-".concat(P)},yb(n.props,w,P)),se.createElement(k_,{width:l,height:l,viewBox:g,style:v},n.renderIcon(w)),se.createElement("span",{className:"recharts-legend-item-text",style:{color:D}},_?_(E,w,P):E))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,l=n.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return se.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(y.PureComponent);Gy(YP,"displayName","Legend");Gy(YP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fS,rO;function AK(){if(rO)return fS;rO=1;var e=Ax();function t(){this.__data__=new e,this.size=0}return fS=t,fS}var pS,nO;function kK(){if(nO)return pS;nO=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return pS=e,pS}var mS,aO;function EK(){if(aO)return mS;aO=1;function e(t){return this.__data__.get(t)}return mS=e,mS}var hS,sO;function OK(){if(sO)return hS;sO=1;function e(t){return this.__data__.has(t)}return hS=e,hS}var gS,iO;function RK(){if(iO)return gS;iO=1;var e=Ax(),t=FP(),r=BP(),n=200;function a(i,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([i,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(i,l),this.size=u.size,this}return gS=a,gS}var yS,oO;function z5(){if(oO)return yS;oO=1;var e=Ax(),t=AK(),r=kK(),n=EK(),a=OK(),i=RK();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=a,l.prototype.set=i,yS=l,yS}var vS,lO;function TK(){if(lO)return vS;lO=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return vS=t,vS}var bS,cO;function IK(){if(cO)return bS;cO=1;function e(t){return this.__data__.has(t)}return bS=e,bS}var xS,uO;function W5(){if(uO)return xS;uO=1;var e=BP(),t=TK(),r=IK();function n(a){var i=-1,l=a==null?0:a.length;for(this.__data__=new e;++i<l;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,xS=n,xS}var wS,dO;function H5(){if(dO)return wS;dO=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return wS=e,wS}var SS,fO;function V5(){if(fO)return SS;fO=1;function e(t,r){return t.has(r)}return SS=e,SS}var NS,pO;function G5(){if(pO)return NS;pO=1;var e=W5(),t=H5(),r=V5(),n=1,a=2;function i(l,u,d,f,g,m){var v=d&n,w=l.length,P=u.length;if(w!=P&&!(v&&P>w))return!1;var _=m.get(l),N=m.get(u);if(_&&N)return _==u&&N==l;var E=-1,D=!0,L=d&a?new e:void 0;for(m.set(l,u),m.set(u,l);++E<w;){var $=l[E],R=u[E];if(f)var M=v?f(R,$,E,u,l,m):f($,R,E,l,u,m);if(M!==void 0){if(M)continue;D=!1;break}if(L){if(!t(u,function(F,V){if(!r(L,V)&&($===F||g($,F,d,f,m)))return L.push(V)})){D=!1;break}}else if(!($===R||g($,R,d,f,m))){D=!1;break}}return m.delete(l),m.delete(u),D}return NS=i,NS}var jS,mO;function MK(){if(mO)return jS;mO=1;var e=_u(),t=e.Uint8Array;return jS=t,jS}var _S,hO;function DK(){if(hO)return _S;hO=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return _S=e,_S}var CS,gO;function XP(){if(gO)return CS;gO=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return CS=e,CS}var PS,yO;function LK(){if(yO)return PS;yO=1;var e=Dv(),t=MK(),r=$P(),n=G5(),a=DK(),i=XP(),l=1,u=2,d="[object Boolean]",f="[object Date]",g="[object Error]",m="[object Map]",v="[object Number]",w="[object RegExp]",P="[object Set]",_="[object String]",N="[object Symbol]",E="[object ArrayBuffer]",D="[object DataView]",L=e?e.prototype:void 0,$=L?L.valueOf:void 0;function R(M,F,V,Y,ue,te,le){switch(V){case D:if(M.byteLength!=F.byteLength||M.byteOffset!=F.byteOffset)return!1;M=M.buffer,F=F.buffer;case E:return!(M.byteLength!=F.byteLength||!te(new t(M),new t(F)));case d:case f:case v:return r(+M,+F);case g:return M.name==F.name&&M.message==F.message;case w:case _:return M==F+"";case m:var fe=a;case P:var me=Y&l;if(fe||(fe=i),M.size!=F.size&&!me)return!1;var ie=le.get(M);if(ie)return ie==F;Y|=u,le.set(M,F);var J=n(fe(M),fe(F),Y,ue,te,le);return le.delete(M),J;case N:if($)return $.call(M)==$.call(F)}return!1}return PS=R,PS}var AS,vO;function K5(){if(vO)return AS;vO=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return AS=e,AS}var kS,bO;function $K(){if(bO)return kS;bO=1;var e=K5(),t=co();function r(n,a,i){var l=a(n);return t(n)?l:e(l,i(n))}return kS=r,kS}var ES,xO;function FK(){if(xO)return ES;xO=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,l=[];++n<a;){var u=t[n];r(u,n,t)&&(l[i++]=u)}return l}return ES=e,ES}var OS,wO;function BK(){if(wO)return OS;wO=1;function e(){return[]}return OS=e,OS}var RS,SO;function qK(){if(SO)return RS;SO=1;var e=FK(),t=BK(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(l){return l==null?[]:(l=Object(l),e(a(l),function(u){return n.call(l,u)}))}:t;return RS=i,RS}var TS,NO;function UK(){if(NO)return TS;NO=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return TS=e,TS}var IS,jO;function zK(){if(jO)return IS;jO=1;var e=Ad(),t=kd(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return IS=n,IS}var MS,_O;function QP(){if(_O)return MS;_O=1;var e=zK(),t=kd(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&n.call(l,"callee")&&!a.call(l,"callee")};return MS=i,MS}var ky={exports:{}},DS,CO;function WK(){if(CO)return DS;CO=1;function e(){return!1}return DS=e,DS}ky.exports;var PO;function Y5(){return PO||(PO=1,(function(e,t){var r=_u(),n=WK(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===a,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;e.exports=f})(ky,ky.exports)),ky.exports}var LS,AO;function ZP(){if(AO)return LS;AO=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return LS=r,LS}var $S,kO;function JP(){if(kO)return $S;kO=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return $S=t,$S}var FS,EO;function HK(){if(EO)return FS;EO=1;var e=Ad(),t=JP(),r=kd(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",g="[object Number]",m="[object Object]",v="[object RegExp]",w="[object Set]",P="[object String]",_="[object WeakMap]",N="[object ArrayBuffer]",E="[object DataView]",D="[object Float32Array]",L="[object Float64Array]",$="[object Int8Array]",R="[object Int16Array]",M="[object Int32Array]",F="[object Uint8Array]",V="[object Uint8ClampedArray]",Y="[object Uint16Array]",ue="[object Uint32Array]",te={};te[D]=te[L]=te[$]=te[R]=te[M]=te[F]=te[V]=te[Y]=te[ue]=!0,te[n]=te[a]=te[N]=te[i]=te[E]=te[l]=te[u]=te[d]=te[f]=te[g]=te[m]=te[v]=te[w]=te[P]=te[_]=!1;function le(fe){return r(fe)&&t(fe.length)&&!!te[e(fe)]}return FS=le,FS}var BS,OO;function X5(){if(OO)return BS;OO=1;function e(t){return function(r){return t(r)}}return BS=e,BS}var Ey={exports:{}};Ey.exports;var RO;function VK(){return RO||(RO=1,(function(e,t){var r=g5(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,l=i&&r.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(Ey,Ey.exports)),Ey.exports}var qS,TO;function Q5(){if(TO)return qS;TO=1;var e=HK(),t=X5(),r=VK(),n=r&&r.isTypedArray,a=n?t(n):e;return qS=a,qS}var US,IO;function GK(){if(IO)return US;IO=1;var e=UK(),t=QP(),r=co(),n=Y5(),a=ZP(),i=Q5(),l=Object.prototype,u=l.hasOwnProperty;function d(f,g){var m=r(f),v=!m&&t(f),w=!m&&!v&&n(f),P=!m&&!v&&!w&&i(f),_=m||v||w||P,N=_?e(f.length,String):[],E=N.length;for(var D in f)(g||u.call(f,D))&&!(_&&(D=="length"||w&&(D=="offset"||D=="parent")||P&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||a(D,E)))&&N.push(D);return N}return US=d,US}var zS,MO;function KK(){if(MO)return zS;MO=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return zS=t,zS}var WS,DO;function Z5(){if(DO)return WS;DO=1;function e(t,r){return function(n){return t(r(n))}}return WS=e,WS}var HS,LO;function YK(){if(LO)return HS;LO=1;var e=Z5(),t=e(Object.keys,Object);return HS=t,HS}var VS,$O;function XK(){if($O)return VS;$O=1;var e=KK(),t=YK(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var l=[];for(var u in Object(i))n.call(i,u)&&u!="constructor"&&l.push(u);return l}return VS=a,VS}var GS,FO;function $v(){if(FO)return GS;FO=1;var e=LP(),t=JP();function r(n){return n!=null&&t(n.length)&&!e(n)}return GS=r,GS}var KS,BO;function Dx(){if(BO)return KS;BO=1;var e=GK(),t=XK(),r=$v();function n(a){return r(a)?e(a):t(a)}return KS=n,KS}var YS,qO;function QK(){if(qO)return YS;qO=1;var e=$K(),t=qK(),r=Dx();function n(a){return e(a,r,t)}return YS=n,YS}var XS,UO;function ZK(){if(UO)return XS;UO=1;var e=QK(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,l,u,d,f,g){var m=u&t,v=e(i),w=v.length,P=e(l),_=P.length;if(w!=_&&!m)return!1;for(var N=w;N--;){var E=v[N];if(!(m?E in l:n.call(l,E)))return!1}var D=g.get(i),L=g.get(l);if(D&&L)return D==l&&L==i;var $=!0;g.set(i,l),g.set(l,i);for(var R=m;++N<w;){E=v[N];var M=i[E],F=l[E];if(d)var V=m?d(F,M,E,l,i,g):d(M,F,E,i,l,g);if(!(V===void 0?M===F||f(M,F,u,d,g):V)){$=!1;break}R||(R=E=="constructor")}if($&&!R){var Y=i.constructor,ue=l.constructor;Y!=ue&&"constructor"in i&&"constructor"in l&&!(typeof Y=="function"&&Y instanceof Y&&typeof ue=="function"&&ue instanceof ue)&&($=!1)}return g.delete(i),g.delete(l),$}return XS=a,XS}var QS,zO;function JK(){if(zO)return QS;zO=1;var e=om(),t=_u(),r=e(t,"DataView");return QS=r,QS}var ZS,WO;function eY(){if(WO)return ZS;WO=1;var e=om(),t=_u(),r=e(t,"Promise");return ZS=r,ZS}var JS,HO;function J5(){if(HO)return JS;HO=1;var e=om(),t=_u(),r=e(t,"Set");return JS=r,JS}var eN,VO;function tY(){if(VO)return eN;VO=1;var e=om(),t=_u(),r=e(t,"WeakMap");return eN=r,eN}var tN,GO;function rY(){if(GO)return tN;GO=1;var e=JK(),t=FP(),r=eY(),n=J5(),a=tY(),i=Ad(),l=y5(),u="[object Map]",d="[object Object]",f="[object Promise]",g="[object Set]",m="[object WeakMap]",v="[object DataView]",w=l(e),P=l(t),_=l(r),N=l(n),E=l(a),D=i;return(e&&D(new e(new ArrayBuffer(1)))!=v||t&&D(new t)!=u||r&&D(r.resolve())!=f||n&&D(new n)!=g||a&&D(new a)!=m)&&(D=function(L){var $=i(L),R=$==d?L.constructor:void 0,M=R?l(R):"";if(M)switch(M){case w:return v;case P:return u;case _:return f;case N:return g;case E:return m}return $}),tN=D,tN}var rN,KO;function nY(){if(KO)return rN;KO=1;var e=z5(),t=G5(),r=LK(),n=ZK(),a=rY(),i=co(),l=Y5(),u=Q5(),d=1,f="[object Arguments]",g="[object Array]",m="[object Object]",v=Object.prototype,w=v.hasOwnProperty;function P(_,N,E,D,L,$){var R=i(_),M=i(N),F=R?g:a(_),V=M?g:a(N);F=F==f?m:F,V=V==f?m:V;var Y=F==m,ue=V==m,te=F==V;if(te&&l(_)){if(!l(N))return!1;R=!0,Y=!1}if(te&&!Y)return $||($=new e),R||u(_)?t(_,N,E,D,L,$):r(_,N,F,E,D,L,$);if(!(E&d)){var le=Y&&w.call(_,"__wrapped__"),fe=ue&&w.call(N,"__wrapped__");if(le||fe){var me=le?_.value():_,ie=fe?N.value():N;return $||($=new e),L(me,ie,E,D,$)}}return te?($||($=new e),n(_,N,E,D,L,$)):!1}return rN=P,rN}var nN,YO;function eA(){if(YO)return nN;YO=1;var e=nY(),t=kd();function r(n,a,i,l,u){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,l,r,u)}return nN=r,nN}var aN,XO;function aY(){if(XO)return aN;XO=1;var e=z5(),t=eA(),r=1,n=2;function a(i,l,u,d){var f=u.length,g=f,m=!d;if(i==null)return!g;for(i=Object(i);f--;){var v=u[f];if(m&&v[2]?v[1]!==i[v[0]]:!(v[0]in i))return!1}for(;++f<g;){v=u[f];var w=v[0],P=i[w],_=v[1];if(m&&v[2]){if(P===void 0&&!(w in i))return!1}else{var N=new e;if(d)var E=d(P,_,w,i,l,N);if(!(E===void 0?t(_,P,r|n,d,N):E))return!1}}return!0}return aN=a,aN}var sN,QO;function e$(){if(QO)return sN;QO=1;var e=Lf();function t(r){return r===r&&!e(r)}return sN=t,sN}var iN,ZO;function sY(){if(ZO)return iN;ZO=1;var e=e$(),t=Dx();function r(n){for(var a=t(n),i=a.length;i--;){var l=a[i],u=n[l];a[i]=[l,u,e(u)]}return a}return iN=r,iN}var oN,JO;function t$(){if(JO)return oN;JO=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return oN=e,oN}var lN,eR;function iY(){if(eR)return lN;eR=1;var e=aY(),t=sY(),r=t$();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(l){return l===a||e(l,a,i)}}return lN=n,lN}var cN,tR;function oY(){if(tR)return cN;tR=1;function e(t,r){return t!=null&&r in Object(t)}return cN=e,cN}var uN,rR;function lY(){if(rR)return uN;rR=1;var e=x5(),t=QP(),r=co(),n=ZP(),a=JP(),i=Ex();function l(u,d,f){d=e(d,u);for(var g=-1,m=d.length,v=!1;++g<m;){var w=i(d[g]);if(!(v=u!=null&&f(u,w)))break;u=u[w]}return v||++g!=m?v:(m=u==null?0:u.length,!!m&&a(m)&&n(w,m)&&(r(u)||t(u)))}return uN=l,uN}var dN,nR;function cY(){if(nR)return dN;nR=1;var e=oY(),t=lY();function r(n,a){return n!=null&&t(n,a,e)}return dN=r,dN}var fN,aR;function uY(){if(aR)return fN;aR=1;var e=eA(),t=w5(),r=cY(),n=DP(),a=e$(),i=t$(),l=Ex(),u=1,d=2;function f(g,m){return n(g)&&a(m)?i(l(g),m):function(v){var w=t(v,g);return w===void 0&&w===m?r(v,g):e(m,w,u|d)}}return fN=f,fN}var pN,sR;function vg(){if(sR)return pN;sR=1;function e(t){return t}return pN=e,pN}var mN,iR;function dY(){if(iR)return mN;iR=1;function e(t){return function(r){return r?.[t]}}return mN=e,mN}var hN,oR;function fY(){if(oR)return hN;oR=1;var e=UP();function t(r){return function(n){return e(n,r)}}return hN=t,hN}var gN,lR;function pY(){if(lR)return gN;lR=1;var e=dY(),t=fY(),r=DP(),n=Ex();function a(i){return r(i)?e(n(i)):t(i)}return gN=a,gN}var yN,cR;function $f(){if(cR)return yN;cR=1;var e=iY(),t=uY(),r=vg(),n=co(),a=pY();function i(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?t(l[0],l[1]):e(l):a(l)}return yN=i,yN}var vN,uR;function r$(){if(uR)return vN;uR=1;function e(t,r,n,a){for(var i=t.length,l=n+(a?1:-1);a?l--:++l<i;)if(r(t[l],l,t))return l;return-1}return vN=e,vN}var bN,dR;function mY(){if(dR)return bN;dR=1;function e(t){return t!==t}return bN=e,bN}var xN,fR;function hY(){if(fR)return xN;fR=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return xN=e,xN}var wN,pR;function gY(){if(pR)return wN;pR=1;var e=r$(),t=mY(),r=hY();function n(a,i,l){return i===i?r(a,i,l):e(a,t,l)}return wN=n,wN}var SN,mR;function yY(){if(mR)return SN;mR=1;var e=gY();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return SN=t,SN}var NN,hR;function vY(){if(hR)return NN;hR=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return NN=e,NN}var jN,gR;function bY(){if(gR)return jN;gR=1;function e(){}return jN=e,jN}var _N,yR;function xY(){if(yR)return _N;yR=1;var e=J5(),t=bY(),r=XP(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return _N=a,_N}var CN,vR;function wY(){if(vR)return CN;vR=1;var e=W5(),t=yY(),r=vY(),n=V5(),a=xY(),i=XP(),l=200;function u(d,f,g){var m=-1,v=t,w=d.length,P=!0,_=[],N=_;if(g)P=!1,v=r;else if(w>=l){var E=f?null:a(d);if(E)return i(E);P=!1,v=n,N=new e}else N=f?[]:_;e:for(;++m<w;){var D=d[m],L=f?f(D):D;if(D=g||D!==0?D:0,P&&L===L){for(var $=N.length;$--;)if(N[$]===L)continue e;f&&N.push(L),_.push(D)}else v(N,L,g)||(N!==_&&N.push(L),_.push(D))}return _}return CN=u,CN}var PN,bR;function SY(){if(bR)return PN;bR=1;var e=$f(),t=wY();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return PN=r,PN}var NY=SY();const xR=jn(NY);function n$(e,t,r){return t===!0?xR(e,r):mr(t)?xR(e,t):e}function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}var jY=["ref"];function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){Lx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s$(n.key),n)}}function CY(e,t,r){return t&&SR(e.prototype,t),r&&SR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PY(e,t,r){return t=jb(t),AY(e,a$()?Reflect.construct(t,r||[],jb(e).constructor):t.apply(e,r))}function AY(e,t){if(t&&(Gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kY(e)}function kY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!e})()}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jb(e)}function EY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$_(e,t)}function $_(e,t){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$_(e,t)}function Lx(e,t,r){return t=s$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s$(e){var t=OY(e,"string");return Gh(t)=="symbol"?t:t+""}function OY(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function RY(e,t){if(e==null)return{};var r=TY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IY(e){return e.value}function MY(e,t){if(se.isValidElement(e))return se.cloneElement(e,t);if(typeof e=="function")return se.createElement(e,t);t.ref;var r=RY(t,jY);return se.createElement(YP,r)}var NR=1,Mh=(function(e){function t(){var r;_Y(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=PY(this,t,[].concat(a)),Lx(r,"lastBoundingBox",{width:-1,height:-1}),r}return EY(t,e),CY(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>NR||Math.abs(a.height-this.lastBoundingBox.height)>NR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?dd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,l=a.align,u=a.verticalAlign,d=a.margin,f=a.chartWidth,g=a.chartHeight,m,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&i==="vertical"){var w=this.getBBoxSnapshot();m={left:((f||0)-w.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var P=this.getBBoxSnapshot();v={top:((g||0)-P.height)/2}}else v=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return dd(dd({},m),v)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,l=a.width,u=a.height,d=a.wrapperStyle,f=a.payloadUniqBy,g=a.payload,m=dd(dd({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return se.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(w){n.wrapperNode=w}},MY(i,dd(dd({},this.props),{},{payload:n$(g,f,IY)})))}}],[{key:"getWithHeight",value:function(n,a){var i=dd(dd({},this.defaultProps),n.props),l=i.layout;return l==="vertical"&&ut(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||a}:null}}])})(y.PureComponent);Lx(Mh,"displayName","Legend");Lx(Mh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var AN,jR;function DY(){if(jR)return AN;jR=1;var e=Dv(),t=QP(),r=co(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return AN=a,AN}var kN,_R;function i$(){if(_R)return kN;_R=1;var e=K5(),t=DY();function r(n,a,i,l,u){var d=-1,f=n.length;for(i||(i=t),u||(u=[]);++d<f;){var g=n[d];a>0&&i(g)?a>1?r(g,a-1,i,l,u):e(u,g):l||(u[u.length]=g)}return u}return kN=r,kN}var EN,CR;function LY(){if(CR)return EN;CR=1;function e(t){return function(r,n,a){for(var i=-1,l=Object(r),u=a(r),d=u.length;d--;){var f=u[t?d:++i];if(n(l[f],f,l)===!1)break}return r}}return EN=e,EN}var ON,PR;function $Y(){if(PR)return ON;PR=1;var e=LY(),t=e();return ON=t,ON}var RN,AR;function o$(){if(AR)return RN;AR=1;var e=$Y(),t=Dx();function r(n,a){return n&&e(n,a,t)}return RN=r,RN}var TN,kR;function FY(){if(kR)return TN;kR=1;var e=$v();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var l=a.length,u=n?l:-1,d=Object(a);(n?u--:++u<l)&&i(d[u],u,d)!==!1;);return a}}return TN=t,TN}var IN,ER;function tA(){if(ER)return IN;ER=1;var e=o$(),t=FY(),r=t(e);return IN=r,IN}var MN,OR;function l$(){if(OR)return MN;OR=1;var e=tA(),t=$v();function r(n,a){var i=-1,l=t(n)?Array(n.length):[];return e(n,function(u,d,f){l[++i]=a(u,d,f)}),l}return MN=r,MN}var DN,RR;function BY(){if(RR)return DN;RR=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return DN=e,DN}var LN,TR;function qY(){if(TR)return LN;TR=1;var e=gg();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,l=r===r,u=e(r),d=n!==void 0,f=n===null,g=n===n,m=e(n);if(!f&&!m&&!u&&r>n||u&&d&&g&&!f&&!m||i&&d&&g||!a&&g||!l)return 1;if(!i&&!u&&!m&&r<n||m&&a&&l&&!i&&!u||f&&a&&l||!d&&l||!g)return-1}return 0}return LN=t,LN}var $N,IR;function UY(){if(IR)return $N;IR=1;var e=qY();function t(r,n,a){for(var i=-1,l=r.criteria,u=n.criteria,d=l.length,f=a.length;++i<d;){var g=e(l[i],u[i]);if(g){if(i>=f)return g;var m=a[i];return g*(m=="desc"?-1:1)}}return r.index-n.index}return $N=t,$N}var FN,MR;function zY(){if(MR)return FN;MR=1;var e=qP(),t=UP(),r=$f(),n=l$(),a=BY(),i=X5(),l=UY(),u=vg(),d=co();function f(g,m,v){m.length?m=e(m,function(_){return d(_)?function(N){return t(N,_.length===1?_[0]:_)}:_}):m=[u];var w=-1;m=e(m,i(r));var P=n(g,function(_,N,E){var D=e(m,function(L){return L(_)});return{criteria:D,index:++w,value:_}});return a(P,function(_,N){return l(_,N,v)})}return FN=f,FN}var BN,DR;function WY(){if(DR)return BN;DR=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return BN=e,BN}var qN,LR;function HY(){if(LR)return qN;LR=1;var e=WY(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var l=arguments,u=-1,d=t(l.length-a,0),f=Array(d);++u<d;)f[u]=l[a+u];u=-1;for(var g=Array(a+1);++u<a;)g[u]=l[u];return g[a]=i(f),e(n,this,g)}}return qN=r,qN}var UN,$R;function VY(){if($R)return UN;$R=1;function e(t){return function(){return t}}return UN=e,UN}var zN,FR;function c$(){if(FR)return zN;FR=1;var e=om(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return zN=t,zN}var WN,BR;function GY(){if(BR)return WN;BR=1;var e=VY(),t=c$(),r=vg(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return WN=n,WN}var HN,qR;function KY(){if(qR)return HN;qR=1;var e=800,t=16,r=Date.now;function n(a){var i=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return HN=n,HN}var VN,UR;function YY(){if(UR)return VN;UR=1;var e=GY(),t=KY(),r=t(e);return VN=r,VN}var GN,zR;function XY(){if(zR)return GN;zR=1;var e=vg(),t=HY(),r=YY();function n(a,i){return r(t(a,i,e),a+"")}return GN=n,GN}var KN,WR;function $x(){if(WR)return KN;WR=1;var e=$P(),t=$v(),r=ZP(),n=Lf();function a(i,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],i):!1}return KN=a,KN}var YN,HR;function QY(){if(HR)return YN;HR=1;var e=i$(),t=zY(),r=XY(),n=$x(),a=r(function(i,l){if(i==null)return[];var u=l.length;return u>1&&n(i,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return YN=a,YN}var ZY=QY();const rA=jn(ZY);function Ky(e){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ky(e)}function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F_.apply(this,arguments)}function JY(e,t){return nX(e)||rX(e,t)||tX(e,t)||eX()}function eX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tX(e,t){if(e){if(typeof e=="string")return VR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VR(e,t)}}function VR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(g){f=!0,a=g}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function nX(e){if(Array.isArray(e))return e}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){aX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aX(e,t,r){return t=sX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sX(e){var t=iX(e,"string");return Ky(t)=="symbol"?t:t+""}function iX(e,t){if(Ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oX(e){return Array.isArray(e)&&bs(e[0])&&bs(e[1])?e.join(" ~ "):e}var lX=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,g=t.payload,m=t.formatter,v=t.itemSorter,w=t.wrapperClassName,P=t.labelClassName,_=t.label,N=t.labelFormatter,E=t.accessibilityLayer,D=E===void 0?!1:E,L=function(){if(g&&g.length){var le={padding:0,margin:0},fe=(v?rA(g,v):g).map(function(me,ie){if(me.type==="none")return null;var J=XN({display:"block",paddingTop:4,paddingBottom:4,color:me.color||"#000"},u),ne=me.formatter||m||oX,G=me.value,ve=me.name,Se=G,X=ve;if(ne&&Se!=null&&X!=null){var pe=ne(G,ve,me,ie,g);if(Array.isArray(pe)){var re=JY(pe,2);Se=re[0],X=re[1]}else Se=pe}return se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ie),style:J},bs(X)?se.createElement("span",{className:"recharts-tooltip-item-name"},X):null,bs(X)?se.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,se.createElement("span",{className:"recharts-tooltip-item-value"},Se),se.createElement("span",{className:"recharts-tooltip-item-unit"},me.unit||""))});return se.createElement("ul",{className:"recharts-tooltip-item-list",style:le},fe)}return null},$=XN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),R=XN({margin:0},f),M=!Hr(_),F=M?_:"",V=qt("recharts-default-tooltip",w),Y=qt("recharts-tooltip-label",P);M&&N&&g!==void 0&&g!==null&&(F=N(_,g));var ue=D?{role:"status","aria-live":"assertive"}:{};return se.createElement("div",F_({className:V,style:$},ue),se.createElement("p",{className:Y,style:R},se.isValidElement(F)?F:"".concat(F)),L())};function Yy(e){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yy(e)}function I0(e,t,r){return t=cX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cX(e){var t=uX(e,"string");return Yy(t)=="symbol"?t:t+""}function uX(e,t){if(Yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hy="recharts-tooltip-wrapper",dX={visibility:"hidden"};function fX(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return qt(hy,I0(I0(I0(I0({},"".concat(hy,"-right"),ut(r)&&t&&ut(t.x)&&r>=t.x),"".concat(hy,"-left"),ut(r)&&t&&ut(t.x)&&r<t.x),"".concat(hy,"-bottom"),ut(n)&&t&&ut(t.y)&&n>=t.y),"".concat(hy,"-top"),ut(n)&&t&&ut(t.y)&&n<t.y))}function KR(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(i&&ut(i[n]))return i[n];var g=r[n]-u-a,m=r[n]+a;if(t[n])return l[n]?g:m;if(l[n]){var v=g,w=d[n];return v<w?Math.max(m,d[n]):Math.max(g,d[n])}var P=m+u,_=d[n]+f;return P>_?Math.max(g,d[n]):Math.max(m,d[n])}function pX(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mX(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,g,m;return l.height>0&&l.width>0&&r?(g=KR({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=KR({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=pX({translateX:g,translateY:m,useTranslate3d:u})):f=dX,{cssProperties:f,cssClasses:fX({translateX:g,translateY:m,coordinate:r})}}function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){q_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d$(n.key),n)}}function yX(e,t,r){return t&&gX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vX(e,t,r){return t=_b(t),bX(e,u$()?Reflect.construct(t,r||[],_b(e).constructor):t.apply(e,r))}function bX(e,t){if(t&&(Kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xX(e)}function xX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u$=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(e)}function wX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B_(e,t)}function B_(e,t){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B_(e,t)}function q_(e,t,r){return t=d$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d$(e){var t=SX(e,"string");return Kh(t)=="symbol"?t:t+""}function SX(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QR=1,NX=(function(e){function t(){var r;hX(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=vX(this,t,[].concat(a)),q_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),q_(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,g;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(g=r.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&f!==void 0?f:0}})}}),r}return wX(t,e),yX(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>QR||Math.abs(n.height-this.state.lastBoundingBox.height)>QR)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,l=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,f=a.children,g=a.coordinate,m=a.hasPayload,v=a.isAnimationActive,w=a.offset,P=a.position,_=a.reverseDirection,N=a.useTranslate3d,E=a.viewBox,D=a.wrapperStyle,L=mX({allowEscapeViewBox:l,coordinate:g,offsetTopLeft:w,position:P,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:N,viewBox:E}),$=L.cssClasses,R=L.cssProperties,M=XR(XR({transition:v&&i?"transform ".concat(u,"ms ").concat(d):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},D);return se.createElement("div",{tabIndex:-1,className:$,style:M,ref:function(V){n.wrapperNode=V}},f)}}])})(y.PureComponent),jX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fv={isSsr:jX()};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){nA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p$(n.key),n)}}function PX(e,t,r){return t&&CX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AX(e,t,r){return t=Cb(t),kX(e,f$()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}function kX(e,t){if(t&&(Yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EX(e)}function EX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f$=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(e)}function OX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U_(e,t)}function U_(e,t){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U_(e,t)}function nA(e,t,r){return t=p$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p$(e){var t=RX(e,"string");return Yh(t)=="symbol"?t:t+""}function RX(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function TX(e){return e.dataKey}function IX(e,t){return se.isValidElement(e)?se.cloneElement(e,t):typeof e=="function"?se.createElement(e,t):se.createElement(lX,t)}var iu=(function(e){function t(){return _X(this,t),AX(this,t,arguments)}return OX(t,e),PX(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,l=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,f=a.content,g=a.coordinate,m=a.filterNull,v=a.isAnimationActive,w=a.offset,P=a.payload,_=a.payloadUniqBy,N=a.position,E=a.reverseDirection,D=a.useTranslate3d,L=a.viewBox,$=a.wrapperStyle,R=P??[];m&&R.length&&(R=n$(P.filter(function(F){return F.value!=null&&(F.hide!==!0||n.props.includeHidden)}),_,TX));var M=R.length>0;return se.createElement(NX,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:v,active:i,coordinate:g,hasPayload:M,offset:w,position:N,reverseDirection:E,useTranslate3d:D,viewBox:L,wrapperStyle:$},IX(f,JR(JR({},this.props),{},{payload:R})))}}])})(y.PureComponent);nA(iu,"displayName","Tooltip");nA(iu,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fv.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var QN,eT;function MX(){if(eT)return QN;eT=1;var e=_u(),t=function(){return e.Date.now()};return QN=t,QN}var ZN,tT;function DX(){if(tT)return ZN;tT=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return ZN=t,ZN}var JN,rT;function LX(){if(rT)return JN;rT=1;var e=DX(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return JN=r,JN}var ej,nT;function m$(){if(nT)return ej;nT=1;var e=LX(),t=Lf(),r=gg(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var g=typeof f.valueOf=="function"?f.valueOf():f;f=t(g)?g+"":g}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=i.test(f);return m||l.test(f)?u(f.slice(2),m?2:8):a.test(f)?n:+f}return ej=d,ej}var tj,aT;function $X(){if(aT)return tj;aT=1;var e=Lf(),t=MX(),r=m$(),n="Expected a function",a=Math.max,i=Math.min;function l(u,d,f){var g,m,v,w,P,_,N=0,E=!1,D=!1,L=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(E=!!f.leading,D="maxWait"in f,v=D?a(r(f.maxWait)||0,d):v,L="trailing"in f?!!f.trailing:L);function $(fe){var me=g,ie=m;return g=m=void 0,N=fe,w=u.apply(ie,me),w}function R(fe){return N=fe,P=setTimeout(V,d),E?$(fe):w}function M(fe){var me=fe-_,ie=fe-N,J=d-me;return D?i(J,v-ie):J}function F(fe){var me=fe-_,ie=fe-N;return _===void 0||me>=d||me<0||D&&ie>=v}function V(){var fe=t();if(F(fe))return Y(fe);P=setTimeout(V,M(fe))}function Y(fe){return P=void 0,L&&g?$(fe):(g=m=void 0,w)}function ue(){P!==void 0&&clearTimeout(P),N=0,g=_=m=P=void 0}function te(){return P===void 0?w:Y(t())}function le(){var fe=t(),me=F(fe);if(g=arguments,m=this,_=fe,me){if(P===void 0)return R(_);if(D)return clearTimeout(P),P=setTimeout(V,d),$(_)}return P===void 0&&(P=setTimeout(V,d)),w}return le.cancel=ue,le.flush=te,le}return tj=l,tj}var rj,sT;function FX(){if(sT)return rj;sT=1;var e=$X(),t=Lf(),r="Expected a function";function n(a,i,l){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(a,i,{leading:u,maxWait:i,trailing:d})}return rj=n,rj}var BX=FX();const h$=jn(BX);function Xy(e){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(e)}function iT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(r),!0).forEach(function(n){qX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qX(e,t,r){return t=UX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=zX(e,"string");return Xy(t)=="symbol"?t:t+""}function zX(e,t){if(Xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WX(e,t){return KX(e)||GX(e,t)||VX(e,t)||HX()}function HX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VX(e,t){if(e){if(typeof e=="string")return oT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oT(e,t)}}function oT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(g){f=!0,a=g}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function KX(e){if(Array.isArray(e))return e}var YX=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,l=i===void 0?"100%":i,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,g=f===void 0?0:f,m=e.minHeight,v=e.maxHeight,w=e.children,P=e.debounce,_=P===void 0?0:P,N=e.id,E=e.className,D=e.onResize,L=e.style,$=L===void 0?{}:L,R=y.useRef(null),M=y.useRef();M.current=D,y.useImperativeHandle(t,function(){return Object.defineProperty(R.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),R.current},configurable:!0})});var F=y.useState({containerWidth:a.width,containerHeight:a.height}),V=WX(F,2),Y=V[0],ue=V[1],te=y.useCallback(function(fe,me){ue(function(ie){var J=Math.round(fe),ne=Math.round(me);return ie.containerWidth===J&&ie.containerHeight===ne?ie:{containerWidth:J,containerHeight:ne}})},[]);y.useEffect(function(){var fe=function(ve){var Se,X=ve[0].contentRect,pe=X.width,re=X.height;te(pe,re),(Se=M.current)===null||Se===void 0||Se.call(M,pe,re)};_>0&&(fe=h$(fe,_,{trailing:!0,leading:!1}));var me=new ResizeObserver(fe),ie=R.current.getBoundingClientRect(),J=ie.width,ne=ie.height;return te(J,ne),me.observe(R.current),function(){me.disconnect()}},[te,_]);var le=y.useMemo(function(){var fe=Y.containerWidth,me=Y.containerHeight;if(fe<0||me<0)return null;wd(qp(l)||qp(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),wd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ie=qp(l)?fe:l,J=qp(d)?me:d;r&&r>0&&(ie?J=ie/r:J&&(ie=J*r),v&&J>v&&(J=v)),wd(ie>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ie,J,l,d,g,m,r);var ne=!Array.isArray(w)&&xd(w.type).endsWith("Chart");return se.Children.map(w,function(G){return se.isValidElement(G)?y.cloneElement(G,M0({width:ie,height:J},ne?{style:M0({height:"100%",width:"100%",maxHeight:J,maxWidth:ie},G.props.style)}:{})):G})},[r,w,d,v,m,g,Y,l]);return se.createElement("div",{id:N?"".concat(N):void 0,className:qt("recharts-responsive-container",E),style:M0(M0({},$),{},{width:l,height:d,minWidth:g,minHeight:m,maxHeight:v}),ref:R},le)}),g$=function(t){return null};g$.displayName="Cell";function Qy(e){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(e)}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){XX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XX(e,t,r){return t=QX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=ZX(e,"string");return Qy(t)=="symbol"?t:t+""}function ZX(e,t){if(Qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wh={widthCache:{},cacheCount:0},JX=2e3,eQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cT="recharts_measurement_span";function tQ(e){var t=z_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ty=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fv.isSsr)return{width:0,height:0};var n=tQ(r),a=JSON.stringify({text:t,copyStyle:n});if(wh.widthCache[a])return wh.widthCache[a];try{var i=document.getElementById(cT);i||(i=document.createElement("span"),i.setAttribute("id",cT),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=z_(z_({},eQ),n);Object.assign(i.style,l),i.textContent="".concat(t);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return wh.widthCache[a]=d,++wh.cacheCount>JX&&(wh.cacheCount=0,wh.widthCache={}),d}catch{return{width:0,height:0}}},rQ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Zy(e){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zy(e)}function Pb(e,t){return iQ(e)||sQ(e,t)||aQ(e,t)||nQ()}function nQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aQ(e,t){if(e){if(typeof e=="string")return uT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uT(e,t)}}function uT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(g){f=!0,a=g}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function iQ(e){if(Array.isArray(e))return e}function oQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cQ(n.key),n)}}function lQ(e,t,r){return t&&dT(e.prototype,t),r&&dT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cQ(e){var t=uQ(e,"string");return Zy(t)=="symbol"?t:t+""}function uQ(e,t){if(Zy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,y$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pQ=Object.keys(y$),kh="NaN";function mQ(e,t){return e*y$[t]}var D0=(function(){function e(t,r){oQ(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!dQ.test(r)&&(this.num=NaN,this.unit=""),pQ.includes(r)&&(this.num=mQ(t,r),this.unit="px")}return lQ(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=fQ.exec(r))!==null&&n!==void 0?n:[],i=Pb(a,3),l=i[1],u=i[2];return new e(parseFloat(l),u??"")}}])})();function v$(e){if(e.includes(kh))return kh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=fT.exec(t))!==null&&r!==void 0?r:[],a=Pb(n,4),i=a[1],l=a[2],u=a[3],d=D0.parse(i??""),f=D0.parse(u??""),g=l==="*"?d.multiply(f):d.divide(f);if(g.isNaN())return kh;t=t.replace(fT,g.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,v=(m=pT.exec(t))!==null&&m!==void 0?m:[],w=Pb(v,4),P=w[1],_=w[2],N=w[3],E=D0.parse(P??""),D=D0.parse(N??""),L=_==="+"?E.add(D):E.subtract(D);if(L.isNaN())return kh;t=t.replace(pT,L.toString())}return t}var mT=/\(([^()]*)\)/;function hQ(e){for(var t=e;t.includes("(");){var r=mT.exec(t),n=Pb(r,2),a=n[1];t=t.replace(mT,v$(a))}return t}function gQ(e){var t=e.replace(/\s+/g,"");return t=hQ(t),t=v$(t),t}function yQ(e){try{return gQ(e)}catch{return kh}}function nj(e){var t=yQ(e.slice(5,-1));return t===kh?"":t}var vQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bQ=["dx","dy","angle","className","breakAll"];function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W_.apply(this,arguments)}function hT(e,t){if(e==null)return{};var r=xQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gT(e,t){return jQ(e)||NQ(e,t)||SQ(e,t)||wQ()}function wQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQ(e,t){if(e){if(typeof e=="string")return yT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yT(e,t)}}function yT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(g){f=!0,a=g}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function jQ(e){if(Array.isArray(e))return e}var b$=/[ \f\n\r\t\v\u2028\u2029]+/,x$=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Hr(r)||(n?i=r.toString().split(""):i=r.toString().split(b$));var l=i.map(function(d){return{word:d,width:Ty(d,a).width}}),u=n?0:Ty("",a).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},_Q=function(t,r,n,a,i){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,g=ut(l),m=u,v=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ie.reduce(function(J,ne){var G=ne.word,ve=ne.width,Se=J[J.length-1];if(Se&&(a==null||i||Se.width+ve+n<Number(a)))Se.words.push(G),Se.width+=ve+n;else{var X={words:[G],width:ve};J.push(X)}return J},[])},w=v(r),P=function(ie){return ie.reduce(function(J,ne){return J.width>ne.width?J:ne})};if(!g)return w;for(var _="",N=function(ie){var J=m.slice(0,ie),ne=x$({breakAll:f,style:d,children:J+_}).wordsWithComputedWidth,G=v(ne),ve=G.length>l||P(G).width>Number(a);return[ve,G]},E=0,D=m.length-1,L=0,$;E<=D&&L<=m.length-1;){var R=Math.floor((E+D)/2),M=R-1,F=N(M),V=gT(F,2),Y=V[0],ue=V[1],te=N(R),le=gT(te,1),fe=le[0];if(!Y&&!fe&&(E=R+1),Y&&fe&&(D=R-1),!Y&&fe){$=ue;break}L++}return $||w},vT=function(t){var r=Hr(t)?[]:t.toString().split(b$);return[{words:r}]},CQ=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,l=t.breakAll,u=t.maxLines;if((r||n)&&!Fv.isSsr){var d,f,g=x$({breakAll:l,children:a,style:i});if(g){var m=g.wordsWithComputedWidth,v=g.spaceWidth;d=m,f=v}else return vT(a);return _Q({breakAll:l,children:a,maxLines:u,style:i},d,f,r,n)}return vT(a)},bT="#808080",Ab=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,g=t.scaleToFit,m=g===void 0?!1:g,v=t.textAnchor,w=v===void 0?"start":v,P=t.verticalAnchor,_=P===void 0?"end":P,N=t.fill,E=N===void 0?bT:N,D=hT(t,vQ),L=y.useMemo(function(){return CQ({breakAll:D.breakAll,children:D.children,maxLines:D.maxLines,scaleToFit:m,style:D.style,width:D.width})},[D.breakAll,D.children,D.maxLines,m,D.style,D.width]),$=D.dx,R=D.dy,M=D.angle,F=D.className,V=D.breakAll,Y=hT(D,bQ);if(!bs(n)||!bs(i))return null;var ue=n+(ut($)?$:0),te=i+(ut(R)?R:0),le;switch(_){case"start":le=nj("calc(".concat(f,")"));break;case"middle":le=nj("calc(".concat((L.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:le=nj("calc(".concat(L.length-1," * -").concat(u,")"));break}var fe=[];if(m){var me=L[0].width,ie=D.width;fe.push("scale(".concat((ut(ie)?ie/me:1)/me,")"))}return M&&fe.push("rotate(".concat(M,", ").concat(ue,", ").concat(te,")")),fe.length&&(Y.transform=fe.join(" ")),se.createElement("text",W_({},Wr(Y,!0),{x:ue,y:te,className:qt("recharts-text",F),textAnchor:w,fill:E.includes("url")?bT:E}),L.map(function(J,ne){var G=J.words.join(V?"":" ");return se.createElement("tspan",{x:ue,dy:ne===0?le:u,key:"".concat(G,"-").concat(ne)},G)}))};function Ef(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aA(e){let t,r,n;e.length!==2?(t=Ef,r=(u,d)=>Ef(e(u),d),n=(u,d)=>e(u)-d):(t=e===Ef||e===PQ?e:AQ,r=e,n=e);function a(u,d,f=0,g=u.length){if(f<g){if(t(d,d)!==0)return g;do{const m=f+g>>>1;r(u[m],d)<0?f=m+1:g=m}while(f<g)}return f}function i(u,d,f=0,g=u.length){if(f<g){if(t(d,d)!==0)return g;do{const m=f+g>>>1;r(u[m],d)<=0?f=m+1:g=m}while(f<g)}return f}function l(u,d,f=0,g=u.length){const m=a(u,d,f,g-1);return m>f&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:a,center:l,right:i}}function AQ(){return 0}function w$(e){return e===null?NaN:+e}function*kQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const EQ=aA(Ef),Bv=EQ.right;aA(w$).center;class xT extends Map{constructor(t,r=TQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(wT(this,t))}has(t){return super.has(wT(this,t))}set(t,r){return super.set(OQ(this,t),r)}delete(t){return super.delete(RQ(this,t))}}function wT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function OQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function RQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function TQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function IQ(e=Ef){if(e===Ef)return S$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function S$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const MQ=Math.sqrt(50),DQ=Math.sqrt(10),LQ=Math.sqrt(2);function kb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=MQ?10:i>=DQ?5:i>=LQ?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?kb(e,t,r*2):[u,d,f]}function H_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?kb(t,e,r):kb(e,t,r);if(!(i>=a))return[];const u=i-a+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(i-f)/-l;else for(let f=0;f<u;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(a+f)/-l;else for(let f=0;f<u;++f)d[f]=(a+f)*l;return d}function V_(e,t,r){return t=+t,e=+e,r=+r,kb(e,t,r)[2]}function G_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?V_(t,e,r):V_(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function ST(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function NT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function N$(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?S$:IQ(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,g=Math.log(d),m=.5*Math.exp(2*g/3),v=.5*Math.sqrt(g*m*(d-m)/d)*(f-d/2<0?-1:1),w=Math.max(r,Math.floor(t-f*m/d+v)),P=Math.min(n,Math.floor(t+(d-f)*m/d+v));N$(e,t,w,P,a)}const i=e[t];let l=r,u=n;for(gy(e,r,t),a(e[n],i)>0&&gy(e,r,n);l<u;){for(gy(e,l,u),++l,--u;a(e[l],i)<0;)++l;for(;a(e[u],i)>0;)--u}a(e[r],i)===0?gy(e,r,u):(++u,gy(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function gy(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $Q(e,t,r){if(e=Float64Array.from(kQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return NT(e);if(t>=1)return ST(e);var n,a=(n-1)*t,i=Math.floor(a),l=ST(N$(e,i).subarray(0,i+1)),u=NT(e.subarray(i+1));return l+(u-l)*(a-i)}}function FQ(e,t,r=w$){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return l+(u-l)*(a-i)}}function BQ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function kl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ed(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const K_=Symbol("implicit");function sA(){var e=new xT,t=[],r=[],n=K_;function a(i){let l=e.get(i);if(l===void 0){if(n!==K_)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new xT;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return sA(t,r).unknown(n)},kl.apply(a,arguments),a}function Jy(){var e=sA().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,u=!1,d=0,f=0,g=.5;delete e.unknown;function m(){var v=t().length,w=a<n,P=w?a:n,_=w?n:a;i=(_-P)/Math.max(1,v-d+f*2),u&&(i=Math.floor(i)),P+=(_-P-i*(v-d))*g,l=i*(1-d),u&&(P=Math.round(P),l=Math.round(l));var N=BQ(v).map(function(E){return P+i*E});return r(w?N.reverse():N)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(v){return arguments.length?(u=!!v,m()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),m()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},e.align=function(v){return arguments.length?(g=Math.max(0,Math.min(1,v)),m()):g},e.copy=function(){return Jy(t(),[n,a]).round(u).paddingInner(d).paddingOuter(f).align(g)},kl.apply(m(),arguments)}function j$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return j$(t())},e}function Iy(){return j$(Jy.apply(null,arguments).paddingInner(1))}function iA(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function _$(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function qv(){}var ev=.7,Eb=1/ev,Dh="\\s*([+-]?\\d+)\\s*",tv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qQ=/^#([0-9a-f]{3,8})$/,UQ=new RegExp(`^rgb\\(${Dh},${Dh},${Dh}\\)$`),zQ=new RegExp(`^rgb\\(${vu},${vu},${vu}\\)$`),WQ=new RegExp(`^rgba\\(${Dh},${Dh},${Dh},${tv}\\)$`),HQ=new RegExp(`^rgba\\(${vu},${vu},${vu},${tv}\\)$`),VQ=new RegExp(`^hsl\\(${tv},${vu},${vu}\\)$`),GQ=new RegExp(`^hsla\\(${tv},${vu},${vu},${tv}\\)$`),jT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iA(qv,rv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_T,formatHex:_T,formatHex8:KQ,formatHsl:YQ,formatRgb:CT,toString:CT});function _T(){return this.rgb().formatHex()}function KQ(){return this.rgb().formatHex8()}function YQ(){return C$(this).formatHsl()}function CT(){return this.rgb().formatRgb()}function rv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?PT(t):r===3?new oo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?L0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?L0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UQ.exec(e))?new oo(t[1],t[2],t[3],1):(t=zQ.exec(e))?new oo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WQ.exec(e))?L0(t[1],t[2],t[3],t[4]):(t=HQ.exec(e))?L0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=VQ.exec(e))?ET(t[1],t[2]/100,t[3]/100,1):(t=GQ.exec(e))?ET(t[1],t[2]/100,t[3]/100,t[4]):jT.hasOwnProperty(e)?PT(jT[e]):e==="transparent"?new oo(NaN,NaN,NaN,0):null}function PT(e){return new oo(e>>16&255,e>>8&255,e&255,1)}function L0(e,t,r,n){return n<=0&&(e=t=r=NaN),new oo(e,t,r,n)}function XQ(e){return e instanceof qv||(e=rv(e)),e?(e=e.rgb(),new oo(e.r,e.g,e.b,e.opacity)):new oo}function Y_(e,t,r,n){return arguments.length===1?XQ(e):new oo(e,t,r,n??1)}function oo(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}iA(oo,Y_,_$(qv,{brighter(e){return e=e==null?Eb:Math.pow(Eb,e),new oo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ev:Math.pow(ev,e),new oo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oo(Gp(this.r),Gp(this.g),Gp(this.b),Ob(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AT,formatHex:AT,formatHex8:QQ,formatRgb:kT,toString:kT}));function AT(){return`#${Up(this.r)}${Up(this.g)}${Up(this.b)}`}function QQ(){return`#${Up(this.r)}${Up(this.g)}${Up(this.b)}${Up((isNaN(this.opacity)?1:this.opacity)*255)}`}function kT(){const e=Ob(this.opacity);return`${e===1?"rgb(":"rgba("}${Gp(this.r)}, ${Gp(this.g)}, ${Gp(this.b)}${e===1?")":`, ${e})`}`}function Ob(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Up(e){return e=Gp(e),(e<16?"0":"")+e.toString(16)}function ET(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fc(e,t,r,n)}function C$(e){if(e instanceof fc)return new fc(e.h,e.s,e.l,e.opacity);if(e instanceof qv||(e=rv(e)),!e)return new fc;if(e instanceof fc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,u=i-a,d=(i+a)/2;return u?(t===i?l=(r-n)/u+(r<n)*6:r===i?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?i+a:2-i-a,l*=60):u=d>0&&d<1?0:l,new fc(l,u,d,e.opacity)}function ZQ(e,t,r,n){return arguments.length===1?C$(e):new fc(e,t,r,n??1)}function fc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}iA(fc,ZQ,_$(qv,{brighter(e){return e=e==null?Eb:Math.pow(Eb,e),new fc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ev:Math.pow(ev,e),new fc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new oo(aj(e>=240?e-240:e+120,a,n),aj(e,a,n),aj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new fc(OT(this.h),$0(this.s),$0(this.l),Ob(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ob(this.opacity);return`${e===1?"hsl(":"hsla("}${OT(this.h)}, ${$0(this.s)*100}%, ${$0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OT(e){return e=(e||0)%360,e<0?e+360:e}function $0(e){return Math.max(0,Math.min(1,e||0))}function aj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const oA=e=>()=>e;function JQ(e,t){return function(r){return e+r*t}}function eZ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function tZ(e){return(e=+e)==1?P$:function(t,r){return r-t?eZ(t,r,e):oA(isNaN(t)?r:t)}}function P$(e,t){var r=t-e;return r?JQ(e,r):oA(isNaN(e)?t:e)}const RT=(function e(t){var r=tZ(t);function n(a,i){var l=r((a=Y_(a)).r,(i=Y_(i)).r),u=r(a.g,i.g),d=r(a.b,i.b),f=P$(a.opacity,i.opacity);return function(g){return a.r=l(g),a.g=u(g),a.b=d(g),a.opacity=f(g),a+""}}return n.gamma=e,n})(1);function rZ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function nZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aZ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=bg(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(u){for(l=0;l<n;++l)i[l]=a[l](u);return i}}function sZ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Rb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function iZ(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=bg(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var X_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sj=new RegExp(X_.source,"g");function oZ(e){return function(){return e}}function lZ(e){return function(t){return e(t)+""}}function cZ(e,t){var r=X_.lastIndex=sj.lastIndex=0,n,a,i,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=X_.exec(e))&&(a=sj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),u[l]?u[l]+=i:u[++l]=i),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:Rb(n,a)})),r=sj.lastIndex;return r<t.length&&(i=t.slice(r),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?lZ(d[0].x):oZ(t):(t=d.length,function(f){for(var g=0,m;g<t;++g)u[(m=d[g]).i]=m.x(f);return u.join("")})}function bg(e,t){var r=typeof t,n;return t==null||r==="boolean"?oA(t):(r==="number"?Rb:r==="string"?(n=rv(t))?(t=n,RT):cZ:t instanceof rv?RT:t instanceof Date?sZ:nZ(t)?rZ:Array.isArray(t)?aZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iZ:Rb)(e,t)}function lA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function uZ(e,t){t===void 0&&(t=e,e=bg);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[u](l-u)}}function dZ(e){return function(){return e}}function Tb(e){return+e}var TT=[0,1];function $i(e){return e}function Q_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dZ(isNaN(t)?NaN:.5)}function fZ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function pZ(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=Q_(a,n),i=r(l,i)):(n=Q_(n,a),i=r(i,l)),function(u){return i(n(u))}}function mZ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Q_(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(u){var d=Bv(e,u,1,n)-1;return i[d](a[d](u))}}function Uv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fx(){var e=TT,t=TT,r=bg,n,a,i,l=$i,u,d,f;function g(){var v=Math.min(e.length,t.length);return l!==$i&&(l=fZ(e[0],e[v-1])),u=v>2?mZ:pZ,d=f=null,m}function m(v){return v==null||isNaN(v=+v)?i:(d||(d=u(e.map(n),t,r)))(n(l(v)))}return m.invert=function(v){return l(a((f||(f=u(t,e.map(n),Rb)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,Tb),g()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),g()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),r=lA,g()},m.clamp=function(v){return arguments.length?(l=v?!0:$i,g()):l!==$i},m.interpolate=function(v){return arguments.length?(r=v,g()):r},m.unknown=function(v){return arguments.length?(i=v,m):i},function(v,w){return n=v,a=w,g()}}function cA(){return Fx()($i,$i)}function hZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ib(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Xh(e){return e=Ib(Math.abs(e)),e?e[1]:NaN}function gZ(e,t){return function(r,n){for(var a=r.length,i=[],l=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),i.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return i.reverse().join(t)}}function yZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var vZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nv(e){if(!(t=vZ.exec(e)))throw new Error("invalid format: "+e);var t;return new uA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nv.prototype=uA.prototype;function uA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bZ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var A$;function xZ(e,t){var r=Ib(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(A$=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ib(e,Math.max(0,t+i-1))[0]}function IT(e,t){var r=Ib(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const MT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IT(e*100,t),r:IT,s:xZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function DT(e){return e}var LT=Array.prototype.map,$T=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wZ(e){var t=e.grouping===void 0||e.thousands===void 0?DT:gZ(LT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?DT:yZ(LT.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m){m=nv(m);var v=m.fill,w=m.align,P=m.sign,_=m.symbol,N=m.zero,E=m.width,D=m.comma,L=m.precision,$=m.trim,R=m.type;R==="n"?(D=!0,R="g"):MT[R]||(L===void 0&&(L=12),$=!0,R="g"),(N||v==="0"&&w==="=")&&(N=!0,v="0",w="=");var M=_==="$"?r:_==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",F=_==="$"?n:/[%p]/.test(R)?l:"",V=MT[R],Y=/[defgprs%]/.test(R);L=L===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function ue(te){var le=M,fe=F,me,ie,J;if(R==="c")fe=V(te)+fe,te="";else{te=+te;var ne=te<0||1/te<0;if(te=isNaN(te)?d:V(Math.abs(te),L),$&&(te=bZ(te)),ne&&+te==0&&P!=="+"&&(ne=!1),le=(ne?P==="("?P:u:P==="-"||P==="("?"":P)+le,fe=(R==="s"?$T[8+A$/3]:"")+fe+(ne&&P==="("?")":""),Y){for(me=-1,ie=te.length;++me<ie;)if(J=te.charCodeAt(me),48>J||J>57){fe=(J===46?a+te.slice(me+1):te.slice(me))+fe,te=te.slice(0,me);break}}}D&&!N&&(te=t(te,1/0));var G=le.length+te.length+fe.length,ve=G<E?new Array(E-G+1).join(v):"";switch(D&&N&&(te=t(ve+te,ve.length?E-fe.length:1/0),ve=""),w){case"<":te=le+te+fe+ve;break;case"=":te=le+ve+te+fe;break;case"^":te=ve.slice(0,G=ve.length>>1)+le+te+fe+ve.slice(G);break;default:te=ve+le+te+fe;break}return i(te)}return ue.toString=function(){return m+""},ue}function g(m,v){var w=f((m=nv(m),m.type="f",m)),P=Math.max(-8,Math.min(8,Math.floor(Xh(v)/3)))*3,_=Math.pow(10,-P),N=$T[8+P/3];return function(E){return w(_*E)+N}}return{format:f,formatPrefix:g}}var F0,dA,k$;SZ({thousands:",",grouping:[3],currency:["$",""]});function SZ(e){return F0=wZ(e),dA=F0.format,k$=F0.formatPrefix,F0}function NZ(e){return Math.max(0,-Xh(Math.abs(e)))}function jZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xh(t)/3)))*3-Xh(Math.abs(e)))}function _Z(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xh(t)-Xh(e))+1}function E$(e,t,r,n){var a=G_(e,t,r),i;switch(n=nv(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=jZ(a,l))&&(n.precision=i),k$(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=_Z(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=NZ(a))&&(n.precision=i-(n.type==="%")*2);break}}return dA(n)}function Ff(e){var t=e.domain;return e.ticks=function(r){var n=t();return H_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return E$(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],u=n[i],d,f,g=10;for(u<l&&(f=l,l=u,u=f,f=a,a=i,i=f);g-- >0;){if(f=V_(l,u,r),f===d)return n[a]=l,n[i]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Mb(){var e=cA();return e.copy=function(){return Uv(e,Mb())},kl.apply(e,arguments),Ff(e)}function O$(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Tb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return O$(e).unknown(t)},e=arguments.length?Array.from(e,Tb):[0,1],Ff(r)}function R$(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function FT(e){return Math.log(e)}function BT(e){return Math.exp(e)}function CZ(e){return-Math.log(-e)}function PZ(e){return-Math.exp(-e)}function AZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kZ(e){return e===10?AZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function EZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function qT(e){return(t,r)=>-e(-t,r)}function fA(e){const t=e(FT,BT),r=t.domain;let n=10,a,i;function l(){return a=EZ(n),i=kZ(n),r()[0]<0?(a=qT(a),i=qT(i),e(CZ,PZ)):e(FT,BT),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],g=d[d.length-1];const m=g<f;m&&([f,g]=[g,f]);let v=a(f),w=a(g),P,_;const N=u==null?10:+u;let E=[];if(!(n%1)&&w-v<N){if(v=Math.floor(v),w=Math.ceil(w),f>0){for(;v<=w;++v)for(P=1;P<n;++P)if(_=v<0?P/i(-v):P*i(v),!(_<f)){if(_>g)break;E.push(_)}}else for(;v<=w;++v)for(P=n-1;P>=1;--P)if(_=v>0?P/i(-v):P*i(v),!(_<f)){if(_>g)break;E.push(_)}E.length*2<N&&(E=H_(f,g,N))}else E=H_(v,w,Math.min(w-v,N)).map(i);return m?E.reverse():E},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=nv(d)).precision==null&&(d.trim=!0),d=dA(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return g=>{let m=g/i(Math.round(a(g)));return m*n<n-.5&&(m*=n),m<=f?d(g):""}},t.nice=()=>r(R$(r(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),t}function T$(){const e=fA(Fx()).domain([1,10]);return e.copy=()=>Uv(e,T$()).base(e.base()),kl.apply(e,arguments),e}function UT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function zT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pA(e){var t=1,r=e(UT(t),zT(t));return r.constant=function(n){return arguments.length?e(UT(t=+n),zT(t)):t},Ff(r)}function I$(){var e=pA(Fx());return e.copy=function(){return Uv(e,I$()).constant(e.constant())},kl.apply(e,arguments)}function WT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function OZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function RZ(e){return e<0?-e*e:e*e}function mA(e){var t=e($i,$i),r=1;function n(){return r===1?e($i,$i):r===.5?e(OZ,RZ):e(WT(r),WT(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ff(t)}function hA(){var e=mA(Fx());return e.copy=function(){return Uv(e,hA()).exponent(e.exponent())},kl.apply(e,arguments),e}function TZ(){return hA.apply(null,arguments).exponent(.5)}function HT(e){return Math.sign(e)*e*e}function IZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function M$(){var e=cA(),t=[0,1],r=!1,n;function a(i){var l=IZ(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(HT(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Tb)).map(HT)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return M$(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},kl.apply(a,arguments),Ff(a)}function D$(){var e=[],t=[],r=[],n;function a(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=FQ(e,l/u);return i}function i(l){return l==null||isNaN(l=+l)?n:t[Bv(r,l)]}return i.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ef),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return D$().domain(e).range(t).unknown(n)},kl.apply(i,arguments)}function L$(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(d){return d!=null&&d<=d?a[Bv(n,d,0,r)]:i}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return L$().domain([e,t]).range(a).unknown(i)},kl.apply(Ff(l),arguments)}function $$(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Bv(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return $$().domain(e).range(t).unknown(r)},kl.apply(a,arguments)}const ij=new Date,oj=new Date;function Ss(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),u=a.ceil(i);return i-l<u-i?l:u},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,u)=>{const d=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let f;do d.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<l);return d},a.filter=i=>Ss(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!i(l););else for(;--u>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(ij.setTime(+i),oj.setTime(+l),e(ij),e(oj),Math.floor(r(ij,oj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const Db=Ss(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Db.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ss(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Db);Db.range;const gd=1e3,Cl=gd*60,yd=Cl*60,_d=yd*24,gA=_d*7,VT=_d*30,lj=_d*365,zp=Ss(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gd)},(e,t)=>(t-e)/gd,e=>e.getUTCSeconds());zp.range;const yA=Ss(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gd)},(e,t)=>{e.setTime(+e+t*Cl)},(e,t)=>(t-e)/Cl,e=>e.getMinutes());yA.range;const vA=Ss(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cl)},(e,t)=>(t-e)/Cl,e=>e.getUTCMinutes());vA.range;const bA=Ss(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gd-e.getMinutes()*Cl)},(e,t)=>{e.setTime(+e+t*yd)},(e,t)=>(t-e)/yd,e=>e.getHours());bA.range;const xA=Ss(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yd)},(e,t)=>(t-e)/yd,e=>e.getUTCHours());xA.range;const zv=Ss(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cl)/_d,e=>e.getDate()-1);zv.range;const Bx=Ss(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_d,e=>e.getUTCDate()-1);Bx.range;const F$=Ss(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_d,e=>Math.floor(e/_d));F$.range;function lm(e){return Ss(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Cl)/gA)}const qx=lm(0),Lb=lm(1),MZ=lm(2),DZ=lm(3),Qh=lm(4),LZ=lm(5),$Z=lm(6);qx.range;Lb.range;MZ.range;DZ.range;Qh.range;LZ.range;$Z.range;function cm(e){return Ss(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/gA)}const Ux=cm(0),$b=cm(1),FZ=cm(2),BZ=cm(3),Zh=cm(4),qZ=cm(5),UZ=cm(6);Ux.range;$b.range;FZ.range;BZ.range;Zh.range;qZ.range;UZ.range;const wA=Ss(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wA.range;const SA=Ss(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());SA.range;const Cd=Ss(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Cd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ss(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Cd.range;const Pd=Ss(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ss(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Pd.range;function B$(e,t,r,n,a,i){const l=[[zp,1,gd],[zp,5,5*gd],[zp,15,15*gd],[zp,30,30*gd],[i,1,Cl],[i,5,5*Cl],[i,15,15*Cl],[i,30,30*Cl],[a,1,yd],[a,3,3*yd],[a,6,6*yd],[a,12,12*yd],[n,1,_d],[n,2,2*_d],[r,1,gA],[t,1,VT],[t,3,3*VT],[e,1,lj]];function u(f,g,m){const v=g<f;v&&([f,g]=[g,f]);const w=m&&typeof m.range=="function"?m:d(f,g,m),P=w?w.range(f,+g+1):[];return v?P.reverse():P}function d(f,g,m){const v=Math.abs(g-f)/m,w=aA(([,,N])=>N).right(l,v);if(w===l.length)return e.every(G_(f/lj,g/lj,m));if(w===0)return Db.every(Math.max(G_(f,g,m),1));const[P,_]=l[v/l[w-1][2]<l[w][2]/v?w-1:w];return P.every(_)}return[u,d]}const[zZ,WZ]=B$(Pd,SA,Ux,F$,xA,vA),[HZ,VZ]=B$(Cd,wA,qx,zv,bA,yA);function cj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function uj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yy(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function GZ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=vy(a),g=by(a),m=vy(i),v=by(i),w=vy(l),P=by(l),_=vy(u),N=by(u),E=vy(d),D=by(d),L={a:ne,A:G,b:ve,B:Se,c:null,d:ZT,e:ZT,f:gJ,g:CJ,G:AJ,H:pJ,I:mJ,j:hJ,L:q$,m:yJ,M:vJ,p:X,q:pe,Q:tI,s:rI,S:bJ,u:xJ,U:wJ,V:SJ,w:NJ,W:jJ,x:null,X:null,y:_J,Y:PJ,Z:kJ,"%":eI},$={a:re,A:xe,b:Re,B:Le,c:null,d:JT,e:JT,f:TJ,g:zJ,G:HJ,H:EJ,I:OJ,j:RJ,L:z$,m:IJ,M:MJ,p:Ke,q:Ve,Q:tI,s:rI,S:DJ,u:LJ,U:$J,V:FJ,w:BJ,W:qJ,x:null,X:null,y:UJ,Y:WJ,Z:VJ,"%":eI},R={a:ue,A:te,b:le,B:fe,c:me,d:XT,e:XT,f:cJ,g:YT,G:KT,H:QT,I:QT,j:sJ,L:lJ,m:aJ,M:iJ,p:Y,q:nJ,Q:dJ,s:fJ,S:oJ,u:ZZ,U:JZ,V:eJ,w:QZ,W:tJ,x:ie,X:J,y:YT,Y:KT,Z:rJ,"%":uJ};L.x=M(r,L),L.X=M(n,L),L.c=M(t,L),$.x=M(r,$),$.X=M(n,$),$.c=M(t,$);function M(Te,st){return function(lt){var Me=[],Rt=-1,At=0,Vt=Te.length,tr,Nt,et;for(lt instanceof Date||(lt=new Date(+lt));++Rt<Vt;)Te.charCodeAt(Rt)===37&&(Me.push(Te.slice(At,Rt)),(Nt=GT[tr=Te.charAt(++Rt)])!=null?tr=Te.charAt(++Rt):Nt=tr==="e"?" ":"0",(et=st[tr])&&(tr=et(lt,Nt)),Me.push(tr),At=Rt+1);return Me.push(Te.slice(At,Rt)),Me.join("")}}function F(Te,st){return function(lt){var Me=yy(1900,void 0,1),Rt=V(Me,Te,lt+="",0),At,Vt;if(Rt!=lt.length)return null;if("Q"in Me)return new Date(Me.Q);if("s"in Me)return new Date(Me.s*1e3+("L"in Me?Me.L:0));if(st&&!("Z"in Me)&&(Me.Z=0),"p"in Me&&(Me.H=Me.H%12+Me.p*12),Me.m===void 0&&(Me.m="q"in Me?Me.q:0),"V"in Me){if(Me.V<1||Me.V>53)return null;"w"in Me||(Me.w=1),"Z"in Me?(At=uj(yy(Me.y,0,1)),Vt=At.getUTCDay(),At=Vt>4||Vt===0?$b.ceil(At):$b(At),At=Bx.offset(At,(Me.V-1)*7),Me.y=At.getUTCFullYear(),Me.m=At.getUTCMonth(),Me.d=At.getUTCDate()+(Me.w+6)%7):(At=cj(yy(Me.y,0,1)),Vt=At.getDay(),At=Vt>4||Vt===0?Lb.ceil(At):Lb(At),At=zv.offset(At,(Me.V-1)*7),Me.y=At.getFullYear(),Me.m=At.getMonth(),Me.d=At.getDate()+(Me.w+6)%7)}else("W"in Me||"U"in Me)&&("w"in Me||(Me.w="u"in Me?Me.u%7:"W"in Me?1:0),Vt="Z"in Me?uj(yy(Me.y,0,1)).getUTCDay():cj(yy(Me.y,0,1)).getDay(),Me.m=0,Me.d="W"in Me?(Me.w+6)%7+Me.W*7-(Vt+5)%7:Me.w+Me.U*7-(Vt+6)%7);return"Z"in Me?(Me.H+=Me.Z/100|0,Me.M+=Me.Z%100,uj(Me)):cj(Me)}}function V(Te,st,lt,Me){for(var Rt=0,At=st.length,Vt=lt.length,tr,Nt;Rt<At;){if(Me>=Vt)return-1;if(tr=st.charCodeAt(Rt++),tr===37){if(tr=st.charAt(Rt++),Nt=R[tr in GT?st.charAt(Rt++):tr],!Nt||(Me=Nt(Te,lt,Me))<0)return-1}else if(tr!=lt.charCodeAt(Me++))return-1}return Me}function Y(Te,st,lt){var Me=f.exec(st.slice(lt));return Me?(Te.p=g.get(Me[0].toLowerCase()),lt+Me[0].length):-1}function ue(Te,st,lt){var Me=w.exec(st.slice(lt));return Me?(Te.w=P.get(Me[0].toLowerCase()),lt+Me[0].length):-1}function te(Te,st,lt){var Me=m.exec(st.slice(lt));return Me?(Te.w=v.get(Me[0].toLowerCase()),lt+Me[0].length):-1}function le(Te,st,lt){var Me=E.exec(st.slice(lt));return Me?(Te.m=D.get(Me[0].toLowerCase()),lt+Me[0].length):-1}function fe(Te,st,lt){var Me=_.exec(st.slice(lt));return Me?(Te.m=N.get(Me[0].toLowerCase()),lt+Me[0].length):-1}function me(Te,st,lt){return V(Te,t,st,lt)}function ie(Te,st,lt){return V(Te,r,st,lt)}function J(Te,st,lt){return V(Te,n,st,lt)}function ne(Te){return l[Te.getDay()]}function G(Te){return i[Te.getDay()]}function ve(Te){return d[Te.getMonth()]}function Se(Te){return u[Te.getMonth()]}function X(Te){return a[+(Te.getHours()>=12)]}function pe(Te){return 1+~~(Te.getMonth()/3)}function re(Te){return l[Te.getUTCDay()]}function xe(Te){return i[Te.getUTCDay()]}function Re(Te){return d[Te.getUTCMonth()]}function Le(Te){return u[Te.getUTCMonth()]}function Ke(Te){return a[+(Te.getUTCHours()>=12)]}function Ve(Te){return 1+~~(Te.getUTCMonth()/3)}return{format:function(Te){var st=M(Te+="",L);return st.toString=function(){return Te},st},parse:function(Te){var st=F(Te+="",!1);return st.toString=function(){return Te},st},utcFormat:function(Te){var st=M(Te+="",$);return st.toString=function(){return Te},st},utcParse:function(Te){var st=F(Te+="",!0);return st.toString=function(){return Te},st}}}var GT={"-":"",_:" ",0:"0"},Ds=/^\s*\d+/,KZ=/^%/,YZ=/[\\^$*+?|[\]().{}]/g;function qr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function XZ(e){return e.replace(YZ,"\\$&")}function vy(e){return new RegExp("^(?:"+e.map(XZ).join("|")+")","i")}function by(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function QZ(e,t,r){var n=Ds.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ZZ(e,t,r){var n=Ds.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function JZ(e,t,r){var n=Ds.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function eJ(e,t,r){var n=Ds.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function tJ(e,t,r){var n=Ds.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function KT(e,t,r){var n=Ds.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function YT(e,t,r){var n=Ds.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function rJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function nJ(e,t,r){var n=Ds.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function aJ(e,t,r){var n=Ds.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function XT(e,t,r){var n=Ds.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function sJ(e,t,r){var n=Ds.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function QT(e,t,r){var n=Ds.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function iJ(e,t,r){var n=Ds.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function oJ(e,t,r){var n=Ds.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function lJ(e,t,r){var n=Ds.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function cJ(e,t,r){var n=Ds.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function uJ(e,t,r){var n=KZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function dJ(e,t,r){var n=Ds.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function fJ(e,t,r){var n=Ds.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ZT(e,t){return qr(e.getDate(),t,2)}function pJ(e,t){return qr(e.getHours(),t,2)}function mJ(e,t){return qr(e.getHours()%12||12,t,2)}function hJ(e,t){return qr(1+zv.count(Cd(e),e),t,3)}function q$(e,t){return qr(e.getMilliseconds(),t,3)}function gJ(e,t){return q$(e,t)+"000"}function yJ(e,t){return qr(e.getMonth()+1,t,2)}function vJ(e,t){return qr(e.getMinutes(),t,2)}function bJ(e,t){return qr(e.getSeconds(),t,2)}function xJ(e){var t=e.getDay();return t===0?7:t}function wJ(e,t){return qr(qx.count(Cd(e)-1,e),t,2)}function U$(e){var t=e.getDay();return t>=4||t===0?Qh(e):Qh.ceil(e)}function SJ(e,t){return e=U$(e),qr(Qh.count(Cd(e),e)+(Cd(e).getDay()===4),t,2)}function NJ(e){return e.getDay()}function jJ(e,t){return qr(Lb.count(Cd(e)-1,e),t,2)}function _J(e,t){return qr(e.getFullYear()%100,t,2)}function CJ(e,t){return e=U$(e),qr(e.getFullYear()%100,t,2)}function PJ(e,t){return qr(e.getFullYear()%1e4,t,4)}function AJ(e,t){var r=e.getDay();return e=r>=4||r===0?Qh(e):Qh.ceil(e),qr(e.getFullYear()%1e4,t,4)}function kJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qr(t/60|0,"0",2)+qr(t%60,"0",2)}function JT(e,t){return qr(e.getUTCDate(),t,2)}function EJ(e,t){return qr(e.getUTCHours(),t,2)}function OJ(e,t){return qr(e.getUTCHours()%12||12,t,2)}function RJ(e,t){return qr(1+Bx.count(Pd(e),e),t,3)}function z$(e,t){return qr(e.getUTCMilliseconds(),t,3)}function TJ(e,t){return z$(e,t)+"000"}function IJ(e,t){return qr(e.getUTCMonth()+1,t,2)}function MJ(e,t){return qr(e.getUTCMinutes(),t,2)}function DJ(e,t){return qr(e.getUTCSeconds(),t,2)}function LJ(e){var t=e.getUTCDay();return t===0?7:t}function $J(e,t){return qr(Ux.count(Pd(e)-1,e),t,2)}function W$(e){var t=e.getUTCDay();return t>=4||t===0?Zh(e):Zh.ceil(e)}function FJ(e,t){return e=W$(e),qr(Zh.count(Pd(e),e)+(Pd(e).getUTCDay()===4),t,2)}function BJ(e){return e.getUTCDay()}function qJ(e,t){return qr($b.count(Pd(e)-1,e),t,2)}function UJ(e,t){return qr(e.getUTCFullYear()%100,t,2)}function zJ(e,t){return e=W$(e),qr(e.getUTCFullYear()%100,t,2)}function WJ(e,t){return qr(e.getUTCFullYear()%1e4,t,4)}function HJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Zh(e):Zh.ceil(e),qr(e.getUTCFullYear()%1e4,t,4)}function VJ(){return"+0000"}function eI(){return"%"}function tI(e){return+e}function rI(e){return Math.floor(+e/1e3)}var Sh,H$,V$;GJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GJ(e){return Sh=GZ(e),H$=Sh.format,Sh.parse,V$=Sh.utcFormat,Sh.utcParse,Sh}function KJ(e){return new Date(e)}function YJ(e){return e instanceof Date?+e:+new Date(+e)}function NA(e,t,r,n,a,i,l,u,d,f){var g=cA(),m=g.invert,v=g.domain,w=f(".%L"),P=f(":%S"),_=f("%I:%M"),N=f("%I %p"),E=f("%a %d"),D=f("%b %d"),L=f("%B"),$=f("%Y");function R(M){return(d(M)<M?w:u(M)<M?P:l(M)<M?_:i(M)<M?N:n(M)<M?a(M)<M?E:D:r(M)<M?L:$)(M)}return g.invert=function(M){return new Date(m(M))},g.domain=function(M){return arguments.length?v(Array.from(M,YJ)):v().map(KJ)},g.ticks=function(M){var F=v();return e(F[0],F[F.length-1],M??10)},g.tickFormat=function(M,F){return F==null?R:f(F)},g.nice=function(M){var F=v();return(!M||typeof M.range!="function")&&(M=t(F[0],F[F.length-1],M??10)),M?v(R$(F,M)):g},g.copy=function(){return Uv(g,NA(e,t,r,n,a,i,l,u,d,f))},g}function XJ(){return kl.apply(NA(HZ,VZ,Cd,wA,qx,zv,bA,yA,zp,H$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QJ(){return kl.apply(NA(zZ,WZ,Pd,SA,Ux,Bx,xA,vA,zp,V$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zx(){var e=0,t=1,r,n,a,i,l=$i,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(a===0?.5:(m=(i(m)-r)*a,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function g(m){return function(v){var w,P;return arguments.length?([w,P]=v,l=m(w,P),f):[l(0),l(1)]}}return f.range=g(bg),f.rangeRound=g(lA),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),f}}function Bf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function G$(){var e=Ff(zx()($i));return e.copy=function(){return Bf(e,G$())},Ed.apply(e,arguments)}function K$(){var e=fA(zx()).domain([1,10]);return e.copy=function(){return Bf(e,K$()).base(e.base())},Ed.apply(e,arguments)}function Y$(){var e=pA(zx());return e.copy=function(){return Bf(e,Y$()).constant(e.constant())},Ed.apply(e,arguments)}function jA(){var e=mA(zx());return e.copy=function(){return Bf(e,jA()).exponent(e.exponent())},Ed.apply(e,arguments)}function ZJ(){return jA.apply(null,arguments).exponent(.5)}function X$(){var e=[],t=$i;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ef),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>$Q(e,i/n))},r.copy=function(){return X$(t).domain(e)},Ed.apply(r,arguments)}function Wx(){var e=0,t=.5,r=1,n=1,a,i,l,u,d,f=$i,g,m=!1,v;function w(_){return isNaN(_=+_)?v:(_=.5+((_=+g(_))-i)*(n*_<n*i?u:d),f(m?Math.max(0,Math.min(1,_)):_))}w.domain=function(_){return arguments.length?([e,t,r]=_,a=g(e=+e),i=g(t=+t),l=g(r=+r),u=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,w):[e,t,r]},w.clamp=function(_){return arguments.length?(m=!!_,w):m},w.interpolator=function(_){return arguments.length?(f=_,w):f};function P(_){return function(N){var E,D,L;return arguments.length?([E,D,L]=N,f=uZ(_,[E,D,L]),w):[f(0),f(.5),f(1)]}}return w.range=P(bg),w.rangeRound=P(lA),w.unknown=function(_){return arguments.length?(v=_,w):v},function(_){return g=_,a=_(e),i=_(t),l=_(r),u=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,w}}function Q$(){var e=Ff(Wx()($i));return e.copy=function(){return Bf(e,Q$())},Ed.apply(e,arguments)}function Z$(){var e=fA(Wx()).domain([.1,1,10]);return e.copy=function(){return Bf(e,Z$()).base(e.base())},Ed.apply(e,arguments)}function J$(){var e=pA(Wx());return e.copy=function(){return Bf(e,J$()).constant(e.constant())},Ed.apply(e,arguments)}function _A(){var e=mA(Wx());return e.copy=function(){return Bf(e,_A()).exponent(e.exponent())},Ed.apply(e,arguments)}function JJ(){return _A.apply(null,arguments).exponent(.5)}const nI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jy,scaleDiverging:Q$,scaleDivergingLog:Z$,scaleDivergingPow:_A,scaleDivergingSqrt:JJ,scaleDivergingSymlog:J$,scaleIdentity:O$,scaleImplicit:K_,scaleLinear:Mb,scaleLog:T$,scaleOrdinal:sA,scalePoint:Iy,scalePow:hA,scaleQuantile:D$,scaleQuantize:L$,scaleRadial:M$,scaleSequential:G$,scaleSequentialLog:K$,scaleSequentialPow:jA,scaleSequentialQuantile:X$,scaleSequentialSqrt:ZJ,scaleSequentialSymlog:Y$,scaleSqrt:TZ,scaleSymlog:I$,scaleThreshold:$$,scaleTime:XJ,scaleUtc:QJ,tickFormat:E$},Symbol.toStringTag,{value:"Module"}));var dj,aI;function e3(){if(aI)return dj;aI=1;var e=gg();function t(r,n,a){for(var i=-1,l=r.length;++i<l;){var u=r[i],d=n(u);if(d!=null&&(f===void 0?d===d&&!e(d):a(d,f)))var f=d,g=u}return g}return dj=t,dj}var fj,sI;function eee(){if(sI)return fj;sI=1;function e(t,r){return t>r}return fj=e,fj}var pj,iI;function tee(){if(iI)return pj;iI=1;var e=e3(),t=eee(),r=vg();function n(a){return a&&a.length?e(a,r,t):void 0}return pj=n,pj}var ree=tee();const Hx=jn(ree);var mj,oI;function nee(){if(oI)return mj;oI=1;function e(t,r){return t<r}return mj=e,mj}var hj,lI;function aee(){if(lI)return hj;lI=1;var e=e3(),t=nee(),r=vg();function n(a){return a&&a.length?e(a,r,t):void 0}return hj=n,hj}var see=aee();const Vx=jn(see);var gj,cI;function iee(){if(cI)return gj;cI=1;var e=qP(),t=$f(),r=l$(),n=co();function a(i,l){var u=n(i)?e:r;return u(i,t(l,3))}return gj=a,gj}var yj,uI;function oee(){if(uI)return yj;uI=1;var e=i$(),t=iee();function r(n,a){return e(t(n,a),1)}return yj=r,yj}var lee=oee();const cee=jn(lee);var vj,dI;function uee(){if(dI)return vj;dI=1;var e=eA();function t(r,n){return e(r,n)}return vj=t,vj}var dee=uee();const CA=jn(dee);var xg=1e9,fee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AA,na=!0,Al="[DecimalError] ",Kp=Al+"Invalid argument: ",PA=Al+"Exponent out of range: ",wg=Math.floor,Lp=Math.pow,pee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ho,Is=1e7,zn=7,t3=9007199254740991,Fb=wg(t3/zn),St={};St.absoluteValue=St.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};St.comparedTo=St.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};St.decimalPlaces=St.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*zn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};St.dividedBy=St.div=function(e){return Sd(this,new this.constructor(e))};St.dividedToIntegerBy=St.idiv=function(e){var t=this,r=t.constructor;return On(Sd(t,new r(e),0,1),r.precision)};St.equals=St.eq=function(e){return!this.cmp(e)};St.exponent=function(){return rs(this)};St.greaterThan=St.gt=function(e){return this.cmp(e)>0};St.greaterThanOrEqualTo=St.gte=function(e){return this.cmp(e)>=0};St.isInteger=St.isint=function(){return this.e>this.d.length-2};St.isNegative=St.isneg=function(){return this.s<0};St.isPositive=St.ispos=function(){return this.s>0};St.isZero=function(){return this.s===0};St.lessThan=St.lt=function(e){return this.cmp(e)<0};St.lessThanOrEqualTo=St.lte=function(e){return this.cmp(e)<1};St.logarithm=St.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ho))throw Error(Al+"NaN");if(r.s<1)throw Error(Al+(r.s?"NaN":"-Infinity"));return r.eq(Ho)?new n(0):(na=!1,t=Sd(av(r,i),av(e,i),i),na=!0,On(t,a))};St.minus=St.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?a3(t,e):r3(t,(e.s=-e.s,e))};St.modulo=St.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Al+"NaN");return r.s?(na=!1,t=Sd(r,e,0,1).times(e),na=!0,r.minus(t)):On(new n(r),a)};St.naturalExponential=St.exp=function(){return n3(this)};St.naturalLogarithm=St.ln=function(){return av(this)};St.negated=St.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};St.plus=St.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?r3(t,e):a3(t,(e.s=-e.s,e))};St.precision=St.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kp+e);if(t=rs(a)+1,n=a.d.length-1,r=n*zn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};St.squareRoot=St.sqrt=function(){var e,t,r,n,a,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Al+"NaN")}for(e=rs(u),na=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=hu(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=wg((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(i=n,n=i.plus(Sd(u,i,l+2)).times(.5),hu(i.d).slice(0,l)===(t=hu(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(On(i,r+1,0),i.times(i).eq(u)){n=i;break}}else if(t!="9999")break;l+=4}return na=!0,On(n,r)};St.times=St.mul=function(e){var t,r,n,a,i,l,u,d,f,g=this,m=g.constructor,v=g.d,w=(e=new m(e)).d;if(!g.s||!e.s)return new m(0);for(e.s*=g.s,r=g.e+e.e,d=v.length,f=w.length,d<f&&(i=v,v=w,w=i,l=d,d=f,f=l),i=[],l=d+f,n=l;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)u=i[a]+w[n]*v[a-n-1]+t,i[a--]=u%Is|0,t=u/Is|0;i[a]=(i[a]+t)%Is|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,na?On(e,m.precision):e};St.toDecimalPlaces=St.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Su(e,0,xg),t===void 0?t=n.rounding:Su(t,0,8),On(r,e+rs(r)+1,t))};St.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=tm(n,!0):(Su(e,0,xg),t===void 0?t=a.rounding:Su(t,0,8),n=On(new a(n),e+1,t),r=tm(n,!0,e+1)),r};St.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?tm(a):(Su(e,0,xg),t===void 0?t=i.rounding:Su(t,0,8),n=On(new i(a),e+rs(a)+1,t),r=tm(n.abs(),!1,e+rs(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};St.toInteger=St.toint=function(){var e=this,t=e.constructor;return On(new t(e),rs(e)+1,t.rounding)};St.toNumber=function(){return+this};St.toPower=St.pow=function(e){var t,r,n,a,i,l,u=this,d=u.constructor,f=12,g=+(e=new d(e));if(!e.s)return new d(Ho);if(u=new d(u),!u.s){if(e.s<1)throw Error(Al+"Infinity");return u}if(u.eq(Ho))return u;if(n=d.precision,e.eq(Ho))return On(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=u.s,l){if((r=g<0?-g:g)<=t3){for(a=new d(Ho),t=Math.ceil(n/zn+4),na=!1;r%2&&(a=a.times(u),pI(a.d,t)),r=wg(r/2),r!==0;)u=u.times(u),pI(u.d,t);return na=!0,e.s<0?new d(Ho).div(a):On(a,n)}}else if(i<0)throw Error(Al+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,na=!1,a=e.times(av(u,n+f)),na=!0,a=n3(a),a.s=i,a};St.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=rs(a),n=tm(a,r<=i.toExpNeg||r>=i.toExpPos)):(Su(e,1,xg),t===void 0?t=i.rounding:Su(t,0,8),a=On(new i(a),e,t),r=rs(a),n=tm(a,e<=r||r<=i.toExpNeg,e)),n};St.toSignificantDigits=St.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Su(e,1,xg),t===void 0?t=n.rounding:Su(t,0,8)),On(new n(r),e,t)};St.toString=St.valueOf=St.val=St.toJSON=St[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rs(e),r=e.constructor;return tm(e,t<=r.toExpNeg||t>=r.toExpPos)};function r3(e,t){var r,n,a,i,l,u,d,f,g=e.constructor,m=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),na?On(t,m):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),i=l-a,i){for(i<0?(n=d,i=-i,u=f.length):(n=f,a=l,u=d.length),l=Math.ceil(m/zn),u=l>u?l+1:u+1,i>u&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/Is|0,d[i]%=Is;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,na?On(t,m):t}function Su(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Kp+e)}function hu(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=zn-n.length,r&&(i+=Cf(r)),i+=n;l=e[t],n=l+"",r=zn-n.length,r&&(i+=Cf(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Sd=(function(){function e(n,a){var i,l=0,u=n.length;for(n=n.slice();u--;)i=n[u]*a+l,n[u]=i%Is|0,l=i/Is|0;return l&&n.unshift(l),n}function t(n,a,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Is+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var u,d,f,g,m,v,w,P,_,N,E,D,L,$,R,M,F,V,Y=n.constructor,ue=n.s==a.s?1:-1,te=n.d,le=a.d;if(!n.s)return new Y(n);if(!a.s)throw Error(Al+"Division by zero");for(d=n.e-a.e,F=le.length,R=te.length,w=new Y(ue),P=w.d=[],f=0;le[f]==(te[f]||0);)++f;if(le[f]>(te[f]||0)&&--d,i==null?D=i=Y.precision:l?D=i+(rs(n)-rs(a))+1:D=i,D<0)return new Y(0);if(D=D/zn+2|0,f=0,F==1)for(g=0,le=le[0],D++;(f<R||g)&&D--;f++)L=g*Is+(te[f]||0),P[f]=L/le|0,g=L%le|0;else{for(g=Is/(le[0]+1)|0,g>1&&(le=e(le,g),te=e(te,g),F=le.length,R=te.length),$=F,_=te.slice(0,F),N=_.length;N<F;)_[N++]=0;V=le.slice(),V.unshift(0),M=le[0],le[1]>=Is/2&&++M;do g=0,u=t(le,_,F,N),u<0?(E=_[0],F!=N&&(E=E*Is+(_[1]||0)),g=E/M|0,g>1?(g>=Is&&(g=Is-1),m=e(le,g),v=m.length,N=_.length,u=t(m,_,v,N),u==1&&(g--,r(m,F<v?V:le,v))):(g==0&&(u=g=1),m=le.slice()),v=m.length,v<N&&m.unshift(0),r(_,m,N),u==-1&&(N=_.length,u=t(le,_,F,N),u<1&&(g++,r(_,F<N?V:le,N))),N=_.length):u===0&&(g++,_=[0]),P[f++]=g,u&&_[0]?_[N++]=te[$]||0:(_=[te[$]],N=1);while(($++<R||_[0]!==void 0)&&D--)}return P[0]||P.shift(),w.e=d,On(w,l?i+rs(w)+1:i)}})();function n3(e,t){var r,n,a,i,l,u,d=0,f=0,g=e.constructor,m=g.precision;if(rs(e)>16)throw Error(PA+rs(e));if(!e.s)return new g(Ho);for(na=!1,u=m,l=new g(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(Lp(2,f))/Math.LN10*2+5|0,u+=n,r=a=i=new g(Ho),g.precision=u;;){if(a=On(a.times(e),u),r=r.times(++d),l=i.plus(Sd(a,r,u)),hu(l.d).slice(0,u)===hu(i.d).slice(0,u)){for(;f--;)i=On(i.times(i),u);return g.precision=m,t==null?(na=!0,On(i,m)):i}i=l}}function rs(e){for(var t=e.e*zn,r=e.d[0];r>=10;r/=10)t++;return t}function bj(e,t,r){if(t>e.LN10.sd())throw na=!0,r&&(e.precision=r),Error(Al+"LN10 precision limit exceeded");return On(new e(e.LN10),t)}function Cf(e){for(var t="";e--;)t+="0";return t}function av(e,t){var r,n,a,i,l,u,d,f,g,m=1,v=10,w=e,P=w.d,_=w.constructor,N=_.precision;if(w.s<1)throw Error(Al+(w.s?"NaN":"-Infinity"));if(w.eq(Ho))return new _(0);if(t==null?(na=!1,f=N):f=t,w.eq(10))return t==null&&(na=!0),bj(_,f);if(f+=v,_.precision=f,r=hu(P),n=r.charAt(0),i=rs(w),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(e),r=hu(w.d),n=r.charAt(0),m++;i=rs(w),n>1?(w=new _("0."+r),i++):w=new _(n+"."+r.slice(1))}else return d=bj(_,f+2,N).times(i+""),w=av(new _(n+"."+r.slice(1)),f-v).plus(d),_.precision=N,t==null?(na=!0,On(w,N)):w;for(u=l=w=Sd(w.minus(Ho),w.plus(Ho),f),g=On(w.times(w),f),a=3;;){if(l=On(l.times(g),f),d=u.plus(Sd(l,new _(a),f)),hu(d.d).slice(0,f)===hu(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(bj(_,f+2,N).times(i+""))),u=Sd(u,new _(m),f),_.precision=N,t==null?(na=!0,On(u,N)):u;u=d,a+=2}}function fI(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=wg(r/zn),e.d=[],n=(r+1)%zn,r<0&&(n+=zn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=zn;n<a;)e.d.push(+t.slice(n,n+=zn));t=t.slice(n),n=zn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),na&&(e.e>Fb||e.e<-Fb))throw Error(PA+r)}else e.s=0,e.e=0,e.d=[0];return e}function On(e,t,r){var n,a,i,l,u,d,f,g,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=zn,a=t,f=m[g=0];else{if(g=Math.ceil((n+1)/zn),i=m.length,g>=i)return e;for(f=i=m[g],l=1;i>=10;i/=10)l++;n%=zn,a=n-zn+l}if(r!==void 0&&(i=Lp(10,l-a-1),u=f/i%10|0,d=t<0||m[g+1]!==void 0||f%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?f/Lp(10,l-a):0:m[g-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(i=rs(e),m.length=1,t=t-i-1,m[0]=Lp(10,(zn-t%zn)%zn),e.e=wg(-t/zn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=g,i=1,g--):(m.length=g+1,i=Lp(10,zn-n),m[g]=a>0?(f/Lp(10,l-a)%Lp(10,a)|0)*i:0),d)for(;;)if(g==0){(m[0]+=i)==Is&&(m[0]=1,++e.e);break}else{if(m[g]+=i,m[g]!=Is)break;m[g--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(na&&(e.e>Fb||e.e<-Fb))throw Error(PA+rs(e));return e}function a3(e,t){var r,n,a,i,l,u,d,f,g,m,v=e.constructor,w=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),na?On(t,w):t;if(d=e.d,m=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(g=l<0,g?(r=d,l=-l,u=m.length):(r=m,n=f,u=d.length),a=Math.max(Math.ceil(w/zn),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=m.length,g=a<u,g&&(u=a),a=0;a<u;a++)if(d[a]!=m[a]){g=d[a]<m[a];break}l=0}for(g&&(r=d,d=m,m=r,t.s=-t.s),u=d.length,a=m.length-u;a>0;--a)d[u++]=0;for(a=m.length;a>l;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=Is-1;--d[i],d[a]+=Is}d[a]-=m[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,na?On(t,w):t):new v(0)}function tm(e,t,r){var n,a=rs(e),i=hu(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Cf(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Cf(-a-1)+i,r&&(n=r-l)>0&&(i+=Cf(n))):a>=l?(i+=Cf(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+Cf(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=Cf(n))),e.s<0?"-"+i:i}function pI(e,t){if(e.length>t)return e.length=t,!0}function s3(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Kp+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return fI(l,i.toString())}else if(typeof i!="string")throw Error(Kp+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,pee.test(i))fI(l,i);else throw Error(Kp+i)}if(a.prototype=St,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=s3,a.config=a.set=mee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function mee(e){if(!e||typeof e!="object")throw Error(Al+"Object expected");var t,r,n,a=["precision",1,xg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(wg(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Kp+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Kp+r+": "+n);return this}var AA=s3(fee);Ho=new AA(1);const Nn=AA;function hee(e){return bee(e)||vee(e)||yee(e)||gee()}function gee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yee(e,t){if(e){if(typeof e=="string")return Z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z_(e,t)}}function vee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function bee(e){if(Array.isArray(e))return Z_(e)}function Z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xee=function(t){return t},i3={},o3=function(t){return t===i3},mI=function(t){return function r(){return arguments.length===0||arguments.length===1&&o3(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},wee=function e(t,r){return t===1?r:mI(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var l=a.filter(function(u){return u!==i3}).length;return l>=t?r.apply(void 0,a):e(t-l,mI(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var g=a.map(function(m){return o3(m)?d.shift():m});return r.apply(void 0,hee(g).concat(d))}))})},Gx=function(t){return wee(t.length,t)},J_=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},See=Gx(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Nee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return xee;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},eC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},l3=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r&&i.every(function(u,d){return u===r[d]})||(r=i,n=t.apply(void 0,i)),n}};function jee(e){var t;return e===0?t=1:t=Math.floor(new Nn(e).abs().log(10).toNumber())+1,t}function _ee(e,t,r){for(var n=new Nn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Cee=Gx(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Pee=Gx(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Aee=Gx(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Kx={rangeStep:_ee,getDigitCount:jee,interpolateNumber:Cee,uninterpolateNumber:Pee,uninterpolateTruncation:Aee};function tC(e){return Oee(e)||Eee(e)||c3(e)||kee()}function kee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Oee(e){if(Array.isArray(e))return rC(e)}function sv(e,t){return Iee(e)||Tee(e,t)||c3(e,t)||Ree()}function Ree(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c3(e,t){if(e){if(typeof e=="string")return rC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rC(e,t)}}function rC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tee(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){a=!0,i=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(a)throw i}}return r}}function Iee(e){if(Array.isArray(e))return e}function u3(e){var t=sv(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function d3(e,t,r){if(e.lte(0))return new Nn(0);var n=Kx.getDigitCount(e.toNumber()),a=new Nn(10).pow(n),i=e.div(a),l=n!==1?.05:.1,u=new Nn(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return t?d:new Nn(Math.ceil(d))}function Mee(e,t,r){var n=1,a=new Nn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Nn(10).pow(Kx.getDigitCount(e)-1),a=new Nn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Nn(Math.floor(e)))}else e===0?a=new Nn(Math.floor((t-1)/2)):r||(a=new Nn(Math.floor(e)));var l=Math.floor((t-1)/2),u=Nee(See(function(d){return a.add(new Nn(d-l).mul(n)).toNumber()}),J_);return u(0,t)}function f3(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Nn(0),tickMin:new Nn(0),tickMax:new Nn(0)};var i=d3(new Nn(t).sub(e).div(r-1),n,a),l;e<=0&&t>=0?l=new Nn(0):(l=new Nn(e).add(t).div(2),l=l.sub(new Nn(l).mod(i)));var u=Math.ceil(l.sub(e).div(i).toNumber()),d=Math.ceil(new Nn(t).sub(l).div(i).toNumber()),f=u+d+1;return f>r?f3(e,t,r,n,a+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:i,tickMin:l.sub(new Nn(u).mul(i)),tickMax:l.add(new Nn(d).mul(i))})}function Dee(e){var t=sv(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),u=u3([r,n]),d=sv(u,2),f=d[0],g=d[1];if(f===-1/0||g===1/0){var m=g===1/0?[f].concat(tC(J_(0,a-1).map(function(){return 1/0}))):[].concat(tC(J_(0,a-1).map(function(){return-1/0})),[g]);return r>n?eC(m):m}if(f===g)return Mee(f,a,i);var v=f3(f,g,l,i),w=v.step,P=v.tickMin,_=v.tickMax,N=Kx.rangeStep(P,_.add(new Nn(.1).mul(w)),w);return r>n?eC(N):N}function Lee(e,t){var r=sv(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=u3([n,a]),u=sv(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,a];if(d===f)return[d];var g=Math.max(t,2),m=d3(new Nn(f).sub(d).div(g-1),i,0),v=[].concat(tC(Kx.rangeStep(new Nn(d),new Nn(f).sub(new Nn(.99).mul(m)),m)),[f]);return n>a?eC(v):v}var $ee=l3(Dee),Fee=l3(Lee),Bee="Invariant failed";function rm(e,t){throw new Error(Bee)}var qee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(this,arguments)}function Uee(e,t){return Vee(e)||Hee(e,t)||Wee(e,t)||zee()}function zee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wee(e,t){if(e){if(typeof e=="string")return hI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hI(e,t)}}function hI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(g){f=!0,a=g}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function Vee(e){if(Array.isArray(e))return e}function Gee(e,t){if(e==null)return{};var r=Kee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h3(n.key),n)}}function Qee(e,t,r){return t&&Xee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zee(e,t,r){return t=qb(t),Jee(e,p3()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function Jee(e,t){if(t&&(Jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ete(e)}function ete(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p3=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function tte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nC(e,t)}function nC(e,t){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nC(e,t)}function m3(e,t,r){return t=h3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h3(e){var t=rte(e,"string");return Jh(t)=="symbol"?t:t+""}function rte(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yx=(function(e){function t(){return Yee(this,t),Zee(this,t,arguments)}return tte(t,e),Qee(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,l=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,g=n.xAxis,m=n.yAxis,v=Gee(n,qee),w=Wr(v,!1);this.props.direction==="x"&&g.type!=="number"&&rm();var P=d.map(function(_){var N=f(_,u),E=N.x,D=N.y,L=N.value,$=N.errorVal;if(!$)return null;var R=[],M,F;if(Array.isArray($)){var V=Uee($,2);M=V[0],F=V[1]}else M=F=$;if(i==="vertical"){var Y=g.scale,ue=D+a,te=ue+l,le=ue-l,fe=Y(L-M),me=Y(L+F);R.push({x1:me,y1:te,x2:me,y2:le}),R.push({x1:fe,y1:ue,x2:me,y2:ue}),R.push({x1:fe,y1:te,x2:fe,y2:le})}else if(i==="horizontal"){var ie=m.scale,J=E+a,ne=J-l,G=J+l,ve=ie(L-M),Se=ie(L+F);R.push({x1:ne,y1:Se,x2:G,y2:Se}),R.push({x1:J,y1:ve,x2:J,y2:Se}),R.push({x1:ne,y1:ve,x2:G,y2:ve})}return se.createElement(Ms,Bb({className:"recharts-errorBar",key:"bar-".concat(R.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},w),R.map(function(X){return se.createElement("line",Bb({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return se.createElement(Ms,{className:"recharts-errorBars"},P)}}])})(se.Component);m3(Yx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});m3(Yx,"displayName","ErrorBar");function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nte(e,t,r){return t=ate(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ate(e){var t=ste(e,"string");return iv(t)=="symbol"?t:t+""}function ste(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g3=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,l=Uo(r,Mh);if(!l)return null;var u=Mh.defaultProps,d=u!==void 0?Ep(Ep({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:i==="children"?f=(n||[]).reduce(function(g,m){var v=m.item,w=m.props,P=w.sectors||w.data||[];return g.concat(P.map(function(_){return{type:l.props.iconType||v.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):f=(n||[]).map(function(g){var m=g.item,v=m.type.defaultProps,w=v!==void 0?Ep(Ep({},v),m.props):{},P=w.dataKey,_=w.name,N=w.legendType,E=w.hide;return{inactive:E,dataKey:P,type:d.iconType||N||"square",color:kA(m),value:_||P,payload:w}}),Ep(Ep(Ep({},d),Mh.getWithHeight(l,a)),{},{payload:f,item:l})};function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function yI(e){return cte(e)||lte(e)||ote(e)||ite()}function ite(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ote(e,t){if(e){if(typeof e=="string")return aC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aC(e,t)}}function lte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cte(e){if(Array.isArray(e))return aC(e)}function aC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){Lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lh(e,t,r){return t=ute(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ute(e){var t=dte(e,"string");return ov(t)=="symbol"?t:t+""}function dte(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nu(e,t,r){return Hr(e)||Hr(t)?r:bs(t)?Pl(e,t,r):mr(t)?t(e):r}function My(e,t,r,n){var a=cee(e,function(u){return Nu(u,t)});if(r==="number"){var i=a.filter(function(u){return ut(u)||parseFloat(u)});return i.length?[Vx(i),Hx(i)]:[1/0,-1/0]}var l=n?a.filter(function(u){return!Hr(u)}):a;return l.map(function(u){return bs(u)||u instanceof Date?u:""})}var fte=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<u;f++){var g=f>0?a[f-1].coordinate:a[u-1].coordinate,m=a[f].coordinate,v=f>=u-1?a[0].coordinate:a[f+1].coordinate,w=void 0;if(mc(m-g)!==mc(v-m)){var P=[];if(mc(v-m)===mc(d[1]-d[0])){w=v;var _=m+d[1]-d[0];P[0]=Math.min(_,(_+g)/2),P[1]=Math.max(_,(_+g)/2)}else{w=g;var N=v+d[1]-d[0];P[0]=Math.min(m,(N+m)/2),P[1]=Math.max(m,(N+m)/2)}var E=[Math.min(m,(w+m)/2),Math.max(m,(w+m)/2)];if(t>E[0]&&t<=E[1]||t>=P[0]&&t<=P[1]){l=a[f].index;break}}else{var D=Math.min(g,v),L=Math.max(g,v);if(t>(D+m)/2&&t<=(L+m)/2){l=a[f].index;break}}}else for(var $=0;$<u;$++)if($===0&&t<=(n[$].coordinate+n[$+1].coordinate)/2||$>0&&$<u-1&&t>(n[$].coordinate+n[$-1].coordinate)/2&&t<=(n[$].coordinate+n[$+1].coordinate)/2||$===u-1&&t>(n[$].coordinate+n[$-1].coordinate)/2){l=n[$].index;break}return l},kA=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?_a(_a({},t.type.defaultProps),t.props):t.props,l=i.stroke,u=i.fill,d;switch(a){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},pte=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var l={},u=Object.keys(i),d=0,f=u.length;d<f;d++)for(var g=i[u[d]].stackGroups,m=Object.keys(g),v=0,w=m.length;v<w;v++){var P=g[m[v]],_=P.items,N=P.cateAxisId,E=_.filter(function(F){return xd(F.type).indexOf("Bar")>=0});if(E&&E.length){var D=E[0].type.defaultProps,L=D!==void 0?_a(_a({},D),E[0].props):E[0].props,$=L.barSize,R=L[N];l[R]||(l[R]=[]);var M=Hr($)?r:$;l[R].push({item:E[0],stackList:E.slice(1),barSize:Hr(M)?void 0:em(M,n,0)})}}return l},mte=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=em(r,a,0,!0),g,m=[];if(l[0].barSize===+l[0].barSize){var v=!1,w=a/d,P=l.reduce(function($,R){return $+R.barSize||0},0);P+=(d-1)*f,P>=a&&(P-=(d-1)*f,f=0),P>=a&&w>0&&(v=!0,w*=.9,P=d*w);var _=(a-P)/2>>0,N={offset:_-f,size:0};g=l.reduce(function($,R){var M={item:R.item,position:{offset:N.offset+N.size+f,size:v?w:R.barSize}},F=[].concat(yI($),[M]);return N=F[F.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(V){F.push({item:V,position:N})}),F},m)}else{var E=em(n,a,0,!0);a-2*E-(d-1)*f<=0&&(f=0);var D=(a-2*E-(d-1)*f)/d;D>1&&(D>>=0);var L=u===+u?Math.min(D,u):D;g=l.reduce(function($,R,M){var F=[].concat(yI($),[{item:R.item,position:{offset:E+(D+f)*M+(D-L)/2,size:L}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(V){F.push({item:V,position:F[F.length-1].position})}),F},m)}return g},hte=function(t,r,n,a){var i=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),f=g3({children:i,legendWidth:d});if(f){var g=a||{},m=g.width,v=g.height,w=f.align,P=f.verticalAlign,_=f.layout;if((_==="vertical"||_==="horizontal"&&P==="middle")&&w!=="center"&&ut(t[w]))return _a(_a({},t),{},Lh({},w,t[w]+(m||0)));if((_==="horizontal"||_==="vertical"&&w==="center")&&P!=="middle"&&ut(t[P]))return _a(_a({},t),{},Lh({},P,t[P]+(v||0)))}return t},gte=function(t,r,n){return Hr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},y3=function(t,r,n,a,i){var l=r.props.children,u=hc(l,Yx).filter(function(f){return gte(a,i,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,g){var m=Nu(g,n);if(Hr(m))return f;var v=Array.isArray(m)?[Vx(m),Hx(m)]:[m,m],w=d.reduce(function(P,_){var N=Nu(g,_,0),E=v[0]-Math.abs(Array.isArray(N)?N[0]:N),D=v[1]+Math.abs(Array.isArray(N)?N[1]:N);return[Math.min(E,P[0]),Math.max(D,P[1])]},[1/0,-1/0]);return[Math.min(w[0],f[0]),Math.max(w[1],f[1])]},[1/0,-1/0])}return null},yte=function(t,r,n,a,i){var l=r.map(function(u){return y3(t,u,n,i,a)}).filter(function(u){return!Hr(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},v3=function(t,r,n,a,i){var l=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&y3(t,d,f,a)||My(t,f,n,i)});if(n==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var g=0,m=f.length;g<m;g++)u[f[g]]||(u[f[g]]=!0,d.push(f[g]));return d},[])},b3=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},x3=function(t,r,n,a){if(a)return t.map(function(d){return d.coordinate});var i,l,u=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===n&&(l=!0),d.coordinate});return i||u.push(r),l||u.push(n),u},vd=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,f=(r||n)&&l==="category"&&a.bandwidth?a.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&u?.length>=2?mc(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(m){var v=i?i.indexOf(m):m;return{coordinate:a(v)+f,value:m,offset:f}});return g.filter(function(m){return!Lv(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,v){return{coordinate:a(m)+f,value:m,index:v,offset:f}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+f,value:m,offset:f}}):a.domain().map(function(m,v){return{coordinate:a(m)+f,value:i?i[m]:m,index:v,offset:f}})},xj=new WeakMap,B0=function(t,r){if(typeof r!="function")return t;xj.has(t)||xj.set(t,new WeakMap);var n=xj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},vte=function(t,r,n){var a=t.scale,i=t.type,l=t.layout,u=t.axisType;if(a==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Jy(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:Mb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Iy(),realScaleType:"point"}:i==="category"?{scale:Jy(),realScaleType:"band"}:{scale:Mb(),realScaleType:"linear"};if(Jp(a)){var d="scale".concat(Rx(a));return{scale:(nI[d]||Iy)(),realScaleType:nI[d]?d:"point"}}return mr(a)?{scale:a}:{scale:Iy(),realScaleType:"point"}},bI=1e-4,bte=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-bI,l=Math.max(a[0],a[1])+bI,u=t(r[0]),d=t(r[n-1]);(u<i||u>l||d<i||d>l)&&t.domain([r[0],r[n-1]])}},xte=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},wte=function(t,r){if(!r||r.length!==2||!ut(r[0])||!ut(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ut(t[0])||t[0]<n)&&(i[0]=n),(!ut(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Ste=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,l=0,u=0;u<r;++u){var d=Lv(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=i,t[u][n][1]=i+d,i=t[u][n][1]):(t[u][n][0]=l,t[u][n][1]=l+d,l=t[u][n][1])}},Nte=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,l=0;l<r;++l){var u=Lv(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},jte={sign:Ste,expand:iK,none:Hh,silhouette:oK,wiggle:lK,positive:Nte},_te=function(t,r,n){var a=r.map(function(u){return u.props.dataKey}),i=jte[n],l=sK().keys(a).value(function(u,d){return+Nu(u,d,0)}).order(I_).offset(i);return l(t)},Cte=function(t,r,n,a,i,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(m,v){var w,P=(w=v.type)!==null&&w!==void 0&&w.defaultProps?_a(_a({},v.type.defaultProps),v.props):v.props,_=P.stackId,N=P.hide;if(N)return m;var E=P[n],D=m[E]||{hasStack:!1,stackGroups:{}};if(bs(_)){var L=D.stackGroups[_]||{numericAxisId:n,cateAxisId:a,items:[]};L.items.push(v),D.hasStack=!0,D.stackGroups[_]=L}else D.stackGroups[Ox("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[v]};return _a(_a({},m),{},Lh({},E,D))},d),g={};return Object.keys(f).reduce(function(m,v){var w=f[v];if(w.hasStack){var P={};w.stackGroups=Object.keys(w.stackGroups).reduce(function(_,N){var E=w.stackGroups[N];return _a(_a({},_),{},Lh({},N,{numericAxisId:n,cateAxisId:a,items:E.items,stackedData:_te(t,E.items,i)}))},P)}return _a(_a({},m),{},Lh({},v,w))},g)},Pte=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var g=$ee(f,i,u);return t.domain([Vx(g),Hx(g)]),{niceTicks:g}}if(i&&a==="number"){var m=t.domain(),v=Fee(m,i,u);return{niceTicks:v}}return null},xI=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+a:null;var d=Nu(l,r.dataKey,r.domain[u]);return Hr(d)?null:r.scale(d)-i/2+a},Ate=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},kte=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?_a(_a({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(bs(i)){var l=r[i];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},Ete=function(t){return t.reduce(function(r,n){return[Vx(n.concat([r[0]]).filter(ut)),Hx(n.concat([r[1]]).filter(ut))]},[1/0,-1/0])},w3=function(t,r,n){return Object.keys(t).reduce(function(a,i){var l=t[i],u=l.stackedData,d=u.reduce(function(f,g){var m=Ete(g.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},wI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sC=function(t,r,n){if(mr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ut(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(wI.test(t[0])){var i=+wI.exec(t[0])[1];a[0]=r[0]-i}else mr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ut(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(SI.test(t[1])){var l=+SI.exec(t[1])[1];a[1]=r[1]+l}else mr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Ub=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=rA(r,function(m){return m.coordinate}),l=1/0,u=1,d=i.length;u<d;u++){var f=i[u],g=i[u-1];l=Math.min((f.coordinate||0)-(g.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},NI=function(t,r,n){return!t||!t.length||CA(t,Pl(n,"type.defaultProps.domain"))?r:t},S3=function(t,r){var n=t.type.defaultProps?_a(_a({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,g=n.hide;return _a(_a({},Wr(t,!1)),{},{dataKey:a,unit:l,formatter:u,name:i||a,color:kA(t),value:Nu(r,a),type:d,payload:r,chartType:f,hide:g})};function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(n){Ote(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ote(e,t,r){return t=Rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rte(e){var t=Tte(e,"string");return lv(t)=="symbol"?t:t+""}function Tte(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zb=Math.PI/180,Ite=function(t){return t*180/Math.PI},ai=function(t,r,n,a){return{x:t+Math.cos(-zb*a)*n,y:r+Math.sin(-zb*a)*n}},Mte=function(t,r){var n=t.x,a=t.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-l,2))},Dte=function(t,r){var n=t.x,a=t.y,i=r.cx,l=r.cy,u=Mte({x:n,y:a},{x:i,y:l});if(u<=0)return{radius:u};var d=(n-i)/u,f=Math.acos(d);return a>l&&(f=2*Math.PI-f),{radius:u,angle:Ite(f),angleInRadian:f}},Lte=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return{startAngle:r-l*360,endAngle:n-l*360}},$te=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),l=Math.floor(a/360),u=Math.min(i,l);return t+u*360},CI=function(t,r){var n=t.x,a=t.y,i=Dte({x:n,y:a},r),l=i.radius,u=i.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var g=Lte(r),m=g.startAngle,v=g.endAngle,w=u,P;if(m<=v){for(;w>v;)w-=360;for(;w<m;)w+=360;P=w>=m&&w<=v}else{for(;w>m;)w-=360;for(;w<v;)w+=360;P=w>=v&&w<=m}return P?_I(_I({},r),{},{radius:l,angle:$te(w,r)}):null};function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}var Fte=["offset"];function Bte(e){return Wte(e)||zte(e)||Ute(e)||qte()}function qte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ute(e,t){if(e){if(typeof e=="string")return iC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iC(e,t)}}function zte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wte(e){if(Array.isArray(e))return iC(e)}function iC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hte(e,t){if(e==null)return{};var r=Vte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(r),!0).forEach(function(n){Gte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gte(e,t,r){return t=Kte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kte(e){var t=Yte(e,"string");return cv(t)=="symbol"?t:t+""}function Yte(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(this,arguments)}var Xte=function(t){var r=t.value,n=t.formatter,a=Hr(t.children)?r:t.children;return mr(n)?n(a):a},Qte=function(t,r){var n=mc(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Zte=function(t,r,n){var a=t.position,i=t.viewBox,l=t.offset,u=t.className,d=i,f=d.cx,g=d.cy,m=d.innerRadius,v=d.outerRadius,w=d.startAngle,P=d.endAngle,_=d.clockWise,N=(m+v)/2,E=Qte(w,P),D=E>=0?1:-1,L,$;a==="insideStart"?(L=w+D*l,$=_):a==="insideEnd"?(L=P-D*l,$=!_):a==="end"&&(L=P+D*l,$=_),$=E<=0?$:!$;var R=ai(f,g,N,L),M=ai(f,g,N,L+($?1:-1)*359),F="M".concat(R.x,",").concat(R.y,`
    A`).concat(N,",").concat(N,",0,1,").concat($?0:1,`,
    `).concat(M.x,",").concat(M.y),V=Hr(t.id)?Ox("recharts-radial-line-"):t.id;return se.createElement("text",uv({},n,{dominantBaseline:"central",className:qt("recharts-radial-bar-label",u)}),se.createElement("defs",null,se.createElement("path",{id:V,d:F})),se.createElement("textPath",{xlinkHref:"#".concat(V)},r))},Jte=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,l=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,g=i.startAngle,m=i.endAngle,v=(g+m)/2;if(a==="outside"){var w=ai(l,u,f+n,v),P=w.x,_=w.y;return{x:P,y:_,textAnchor:P>=l?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var N=(d+f)/2,E=ai(l,u,N,v),D=E.x,L=E.y;return{x:D,y:L,textAnchor:"middle",verticalAnchor:"middle"}},ere=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,l=r,u=l.x,d=l.y,f=l.width,g=l.height,m=g>=0?1:-1,v=m*a,w=m>0?"end":"start",P=m>0?"start":"end",_=f>=0?1:-1,N=_*a,E=_>0?"end":"start",D=_>0?"start":"end";if(i==="top"){var L={x:u+f/2,y:d-m*a,textAnchor:"middle",verticalAnchor:w};return vs(vs({},L),n?{height:Math.max(d-n.y,0),width:f}:{})}if(i==="bottom"){var $={x:u+f/2,y:d+g+v,textAnchor:"middle",verticalAnchor:P};return vs(vs({},$),n?{height:Math.max(n.y+n.height-(d+g),0),width:f}:{})}if(i==="left"){var R={x:u-N,y:d+g/2,textAnchor:E,verticalAnchor:"middle"};return vs(vs({},R),n?{width:Math.max(R.x-n.x,0),height:g}:{})}if(i==="right"){var M={x:u+f+N,y:d+g/2,textAnchor:D,verticalAnchor:"middle"};return vs(vs({},M),n?{width:Math.max(n.x+n.width-M.x,0),height:g}:{})}var F=n?{width:f,height:g}:{};return i==="insideLeft"?vs({x:u+N,y:d+g/2,textAnchor:D,verticalAnchor:"middle"},F):i==="insideRight"?vs({x:u+f-N,y:d+g/2,textAnchor:E,verticalAnchor:"middle"},F):i==="insideTop"?vs({x:u+f/2,y:d+v,textAnchor:"middle",verticalAnchor:P},F):i==="insideBottom"?vs({x:u+f/2,y:d+g-v,textAnchor:"middle",verticalAnchor:w},F):i==="insideTopLeft"?vs({x:u+N,y:d+v,textAnchor:D,verticalAnchor:P},F):i==="insideTopRight"?vs({x:u+f-N,y:d+v,textAnchor:E,verticalAnchor:P},F):i==="insideBottomLeft"?vs({x:u+N,y:d+g-v,textAnchor:D,verticalAnchor:w},F):i==="insideBottomRight"?vs({x:u+f-N,y:d+g-v,textAnchor:E,verticalAnchor:w},F):yg(i)&&(ut(i.x)||qp(i.x))&&(ut(i.y)||qp(i.y))?vs({x:u+em(i.x,f),y:d+em(i.y,g),textAnchor:"end",verticalAnchor:"end"},F):vs({x:u+f/2,y:d+g/2,textAnchor:"middle",verticalAnchor:"middle"},F)},tre=function(t){return"cx"in t&&ut(t.cx)};function wi(e){var t=e.offset,r=t===void 0?5:t,n=Hte(e,Fte),a=vs({offset:r},n),i=a.viewBox,l=a.position,u=a.value,d=a.children,f=a.content,g=a.className,m=g===void 0?"":g,v=a.textBreakAll;if(!i||Hr(u)&&Hr(d)&&!y.isValidElement(f)&&!mr(f))return null;if(y.isValidElement(f))return y.cloneElement(f,a);var w;if(mr(f)){if(w=y.createElement(f,a),y.isValidElement(w))return w}else w=Xte(a);var P=tre(i),_=Wr(a,!0);if(P&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Zte(a,w,_);var N=P?Jte(a):ere(a);return se.createElement(Ab,uv({className:qt("recharts-label",m)},_,N,{breakAll:v}),w)}wi.displayName="Label";var N3=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,g=t.outerRadius,m=t.x,v=t.y,w=t.top,P=t.left,_=t.width,N=t.height,E=t.clockWise,D=t.labelViewBox;if(D)return D;if(ut(_)&&ut(N)){if(ut(m)&&ut(v))return{x:m,y:v,width:_,height:N};if(ut(w)&&ut(P))return{x:w,y:P,width:_,height:N}}return ut(m)&&ut(v)?{x:m,y:v,width:0,height:0}:ut(r)&&ut(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:l||a||0,innerRadius:f||0,outerRadius:g||d||u||0,clockWise:E}:t.viewBox?t.viewBox:{}},rre=function(t,r){return t?t===!0?se.createElement(wi,{key:"label-implicit",viewBox:r}):bs(t)?se.createElement(wi,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===wi?y.cloneElement(t,{key:"label-implicit",viewBox:r}):se.createElement(wi,{key:"label-implicit",content:t,viewBox:r}):mr(t)?se.createElement(wi,{key:"label-implicit",content:t,viewBox:r}):yg(t)?se.createElement(wi,uv({viewBox:r},t,{key:"label-implicit"})):null:null},nre=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=N3(t),l=hc(a,wi).map(function(d,f){return y.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!n)return l;var u=rre(t.label,r||i);return[u].concat(Bte(l))};wi.parseViewBox=N3;wi.renderCallByParent=nre;var wj,AI;function are(){if(AI)return wj;AI=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return wj=e,wj}var sre=are();const ire=jn(sre);function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}var ore=["valueAccessor"],lre=["data","dataKey","clockWise","id","textBreakAll"];function cre(e){return pre(e)||fre(e)||dre(e)||ure()}function ure(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dre(e,t){if(e){if(typeof e=="string")return oC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oC(e,t)}}function fre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pre(e){if(Array.isArray(e))return oC(e)}function oC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(this,arguments)}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mre(e,t,r){return t=hre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hre(e){var t=gre(e,"string");return dv(t)=="symbol"?t:t+""}function gre(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OI(e,t){if(e==null)return{};var r=yre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vre=function(t){return Array.isArray(t.value)?ire(t.value):t.value};function Of(e){var t=e.valueAccessor,r=t===void 0?vre:t,n=OI(e,ore),a=n.data,i=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,f=OI(n,lre);return!a||!a.length?null:se.createElement(Ms,{className:"recharts-label-list"},a.map(function(g,m){var v=Hr(i)?r(g,m):Nu(g&&g.payload,i),w=Hr(u)?{}:{id:"".concat(u,"-").concat(m)};return se.createElement(wi,Wb({},Wr(g,!0),f,w,{parentViewBox:g.parentViewBox,value:v,textBreakAll:d,viewBox:wi.parseViewBox(Hr(l)?g:EI(EI({},g),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}Of.displayName="LabelList";function bre(e,t){return e?e===!0?se.createElement(Of,{key:"labelList-implicit",data:t}):se.isValidElement(e)||mr(e)?se.createElement(Of,{key:"labelList-implicit",data:t,content:e}):yg(e)?se.createElement(Of,Wb({data:t},e,{key:"labelList-implicit"})):null:null}function xre(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=hc(n,Of).map(function(l,u){return y.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return a;var i=bre(e.label,t);return[i].concat(cre(a))}Of.renderCallByParent=xre;function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function lC(){return lC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lC.apply(this,arguments)}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wre(e,t,r){return t=Sre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sre(e){var t=Nre(e,"string");return fv(t)=="symbol"?t:t+""}function Nre(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jre=function(t,r){var n=mc(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},q0=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,g=d*(u?1:-1)+a,m=Math.asin(d/g)/zb,v=f?i:i+l*m,w=ai(r,n,g,v),P=ai(r,n,a,v),_=f?i-l*m:i,N=ai(r,n,g*Math.cos(m*zb),_);return{center:w,circleTangency:P,lineTangency:N,theta:m}},j3=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,l=t.startAngle,u=t.endAngle,d=jre(l,u),f=l+d,g=ai(r,n,i,l),m=ai(r,n,i,f),v="M ".concat(g.x,",").concat(g.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var w=ai(r,n,a,l),P=ai(r,n,a,f);v+="L ".concat(P.x,",").concat(P.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(w.x,",").concat(w.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},_re=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,g=t.endAngle,m=mc(g-f),v=q0({cx:r,cy:n,radius:i,angle:f,sign:m,cornerRadius:l,cornerIsExternal:d}),w=v.circleTangency,P=v.lineTangency,_=v.theta,N=q0({cx:r,cy:n,radius:i,angle:g,sign:-m,cornerRadius:l,cornerIsExternal:d}),E=N.circleTangency,D=N.lineTangency,L=N.theta,$=d?Math.abs(f-g):Math.abs(f-g)-_-L;if($<0)return u?"M ".concat(P.x,",").concat(P.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):j3({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:g});var R="M ".concat(P.x,",").concat(P.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
  `);if(a>0){var M=q0({cx:r,cy:n,radius:a,angle:f,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),F=M.circleTangency,V=M.lineTangency,Y=M.theta,ue=q0({cx:r,cy:n,radius:a,angle:g,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),te=ue.circleTangency,le=ue.lineTangency,fe=ue.theta,me=d?Math.abs(f-g):Math.abs(f-g)-Y-fe;if(me<0&&l===0)return"".concat(R,"L").concat(r,",").concat(n,"Z");R+="L".concat(le.x,",").concat(le.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(te.x,",").concat(te.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(me>180),",").concat(+(m>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(V.x,",").concat(V.y,"Z")}else R+="L".concat(r,",").concat(n,"Z");return R},Cre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_3=function(t){var r=TI(TI({},Cre),t),n=r.cx,a=r.cy,i=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,g=r.startAngle,m=r.endAngle,v=r.className;if(l<i||g===m)return null;var w=qt("recharts-sector",v),P=l-i,_=em(u,P,0,!0),N;return _>0&&Math.abs(g-m)<360?N=_re({cx:n,cy:a,innerRadius:i,outerRadius:l,cornerRadius:Math.min(_,P/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:g,endAngle:m}):N=j3({cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:g,endAngle:m}),se.createElement("path",lC({},Wr(r,!0),{className:w,d:N,role:"img"}))};function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function cC(){return cC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cC.apply(this,arguments)}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(n){Pre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pre(e,t,r){return t=Are(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Are(e){var t=kre(e,"string");return pv(t)=="symbol"?t:t+""}function kre(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DI={curveBasisClosed:KG,curveBasisOpen:YG,curveBasis:GG,curveBumpX:TG,curveBumpY:IG,curveLinearClosed:XG,curveLinear:Ix,curveMonotoneX:QG,curveMonotoneY:ZG,curveNatural:JG,curveStep:eK,curveStepAfter:rK,curveStepBefore:tK},U0=function(t){return t.x===+t.x&&t.y===+t.y},xy=function(t){return t.x},wy=function(t){return t.y},Ere=function(t,r){if(mr(t))return t;var n="curve".concat(Rx(t));return(n==="curveMonotone"||n==="curveBump")&&r?DI["".concat(n).concat(r==="vertical"?"Y":"X")]:DI[n]||Ix},Ore=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,g=Ere(n,u),m=f?i.filter(function(_){return U0(_)}):i,v;if(Array.isArray(l)){var w=f?l.filter(function(_){return U0(_)}):l,P=m.map(function(_,N){return MI(MI({},_),{},{base:w[N]})});return u==="vertical"?v=T0().y(wy).x1(xy).x0(function(_){return _.base.x}):v=T0().x(xy).y1(wy).y0(function(_){return _.base.y}),v.defined(U0).curve(g),v(P)}return u==="vertical"&&ut(l)?v=T0().y(wy).x1(xy).x0(l):ut(l)?v=T0().x(xy).y1(wy).y0(l):v=k5().x(xy).y(wy),v.defined(U0).curve(g),v(m)},LI=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var l=n&&n.length?Ore(t):a;return y.createElement("path",cC({},Wr(t,!1),gb(t),{className:qt("recharts-curve",r),d:l,ref:i}))},Sj={exports:{}},Nj,$I;function Rre(){if($I)return Nj;$I=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nj=e,Nj}var jj,FI;function Tre(){if(FI)return jj;FI=1;var e=Rre();function t(){}function r(){}return r.resetWarningCache=t,jj=function(){function n(l,u,d,f,g,m){if(m!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},jj}var BI;function Ire(){return BI||(BI=1,Sj.exports=Tre()()),Sj.exports}var Mre=Ire();const an=jn(Mre);var Dre=Object.getOwnPropertyNames,Lre=Object.getOwnPropertySymbols,$re=Object.prototype.hasOwnProperty;function qI(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function z0(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,l=i.get(r),u=i.get(n);if(l&&u)return l===n&&u===r;i.set(r,n),i.set(n,r);var d=e(r,n,a);return i.delete(r),i.delete(n),d}}function Fre(e){return e?.[Symbol.toStringTag]}function UI(e){return Dre(e).concat(Lre(e))}var Bre=Object.hasOwn||(function(e,t){return $re.call(e,t)});function um(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var qre="__v",Ure="__o",zre="_owner",zI=Object.getOwnPropertyDescriptor,WI=Object.keys;function Wre(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Hre(e,t){return um(e.getTime(),t.getTime())}function Vre(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Gre(e,t){return e===t}function HI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),l,u,d=0;(l=i.next())&&!l.done;){for(var f=t.entries(),g=!1,m=0;(u=f.next())&&!u.done;){if(a[m]){m++;continue}var v=l.value,w=u.value;if(r.equals(v[0],w[0],d,m,e,t,r)&&r.equals(v[1],w[1],v[0],w[0],e,t,r)){g=a[m]=!0;break}m++}if(!g)return!1;d++}return!0}var Kre=um;function Yre(e,t,r){var n=WI(e),a=n.length;if(WI(t).length!==a)return!1;for(;a-- >0;)if(!C3(e,t,r,n[a]))return!1;return!0}function Sy(e,t,r){var n=UI(e),a=n.length;if(UI(t).length!==a)return!1;for(var i,l,u;a-- >0;)if(i=n[a],!C3(e,t,r,i)||(l=zI(e,i),u=zI(t,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function Xre(e,t){return um(e.valueOf(),t.valueOf())}function Qre(e,t){return e.source===t.source&&e.flags===t.flags}function VI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),l,u;(l=i.next())&&!l.done;){for(var d=t.values(),f=!1,g=0;(u=d.next())&&!u.done;){if(!a[g]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=a[g]=!0;break}g++}if(!f)return!1}return!0}function Zre(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Jre(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function C3(e,t,r,n){return(n===zre||n===Ure||n===qre)&&(e.$$typeof||t.$$typeof)?!0:Bre(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var ene="[object Arguments]",tne="[object Boolean]",rne="[object Date]",nne="[object Error]",ane="[object Map]",sne="[object Number]",ine="[object Object]",one="[object RegExp]",lne="[object Set]",cne="[object String]",une="[object URL]",dne=Array.isArray,GI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,KI=Object.assign,fne=Object.prototype.toString.call.bind(Object.prototype.toString);function pne(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,l=e.areNumbersEqual,u=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,g=e.areSetsEqual,m=e.areTypedArraysEqual,v=e.areUrlsEqual,w=e.unknownTagComparators;return function(_,N,E){if(_===N)return!0;if(_==null||N==null)return!1;var D=typeof _;if(D!==typeof N)return!1;if(D!=="object")return D==="number"?l(_,N,E):D==="function"?a(_,N,E):!1;var L=_.constructor;if(L!==N.constructor)return!1;if(L===Object)return u(_,N,E);if(dne(_))return t(_,N,E);if(GI!=null&&GI(_))return m(_,N,E);if(L===Date)return r(_,N,E);if(L===RegExp)return f(_,N,E);if(L===Map)return i(_,N,E);if(L===Set)return g(_,N,E);var $=fne(_);if($===rne)return r(_,N,E);if($===one)return f(_,N,E);if($===ane)return i(_,N,E);if($===lne)return g(_,N,E);if($===ine)return typeof _.then!="function"&&typeof N.then!="function"&&u(_,N,E);if($===une)return v(_,N,E);if($===nne)return n(_,N,E);if($===ene)return u(_,N,E);if($===tne||$===sne||$===cne)return d(_,N,E);if(w){var R=w[$];if(!R){var M=Fre(_);M&&(R=w[M])}if(R)return R(_,N,E)}return!1}}function mne(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Sy:Wre,areDatesEqual:Hre,areErrorsEqual:Vre,areFunctionsEqual:Gre,areMapsEqual:n?qI(HI,Sy):HI,areNumbersEqual:Kre,areObjectsEqual:n?Sy:Yre,arePrimitiveWrappersEqual:Xre,areRegExpsEqual:Qre,areSetsEqual:n?qI(VI,Sy):VI,areTypedArraysEqual:n?Sy:Zre,areUrlsEqual:Jre,unknownTagComparators:void 0};if(r&&(a=KI({},a,r(a))),t){var i=z0(a.areArraysEqual),l=z0(a.areMapsEqual),u=z0(a.areObjectsEqual),d=z0(a.areSetsEqual);a=KI({},a,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return a}function hne(e){return function(t,r,n,a,i,l,u){return e(t,r,u)}}function gne(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(d,f){var g=n(),m=g.cache,v=m===void 0?t?new WeakMap:void 0:m,w=g.meta;return r(d,f,{cache:v,equals:a,meta:w,strict:i})};if(t)return function(d,f){return r(d,f,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var l={cache:void 0,equals:a,meta:void 0,strict:i};return function(d,f){return r(d,f,l)}}var yne=qf();qf({strict:!0});qf({circular:!0});qf({circular:!0,strict:!0});qf({createInternalComparator:function(){return um}});qf({strict:!0,createInternalComparator:function(){return um}});qf({circular:!0,createInternalComparator:function(){return um}});qf({circular:!0,createInternalComparator:function(){return um},strict:!0});function qf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,l=i===void 0?!1:i,u=mne(e),d=pne(u),f=n?n(d):hne(d);return gne({circular:r,comparator:d,createState:a,equals:f,strict:l})}function vne(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function YI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):vne(a)};requestAnimationFrame(n)}function uC(e){"@babel/helpers - typeof";return uC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uC(e)}function bne(e){return Nne(e)||Sne(e)||wne(e)||xne()}function xne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wne(e,t){if(e){if(typeof e=="string")return XI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XI(e,t)}}function XI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nne(e){if(Array.isArray(e))return e}function jne(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,u=bne(l),d=u[0],f=u.slice(1);if(typeof d=="number"){YI(a.bind(null,f),d);return}a(d),YI(a.bind(null,f));return}uC(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function QI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(r),!0).forEach(function(n){P3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P3(e,t,r){return t=_ne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ne(e){var t=Cne(e,"string");return mv(t)==="symbol"?t:String(t)}function Cne(e,t){if(mv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pne=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Ane=function(t){return t},kne=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Dy=function(t,r){return Object.keys(r).reduce(function(n,a){return ZI(ZI({},n),{},P3({},a,t(a,r[a])))},{})},JI=function(t,r,n){return t.map(function(a){return"".concat(kne(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Ene(e,t){return Tne(e)||Rne(e,t)||A3(e,t)||One()}function One(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(g){f=!0,a=g}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function Tne(e){if(Array.isArray(e))return e}function Ine(e){return Lne(e)||Dne(e)||A3(e)||Mne()}function Mne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A3(e,t){if(e){if(typeof e=="string")return dC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dC(e,t)}}function Dne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lne(e){if(Array.isArray(e))return dC(e)}function dC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hb=1e-4,k3=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},E3=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},eM=function(t,r){return function(n){var a=k3(t,r);return E3(a,n)}},$ne=function(t,r){return function(n){var a=k3(t,r),i=[].concat(Ine(a.map(function(l,u){return l*u}).slice(1)),[0]);return E3(i,n)}},tM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,l=1,u=1;break;case"ease":a=.25,i=.1,l=.25,u=1;break;case"ease-in":a=.42,i=0,l=1,u=1;break;case"ease-out":a=.42,i=0,l=.58,u=1;break;case"ease-in-out":a=0,i=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(N){return parseFloat(N)}),g=Ene(f,4);a=g[0],i=g[1],l=g[2],u=g[3]}}}var m=eM(a,l),v=eM(i,u),w=$ne(a,l),P=function(E){return E>1?1:E<0?0:E},_=function(E){for(var D=E>1?1:E,L=D,$=0;$<8;++$){var R=m(L)-D,M=w(L);if(Math.abs(R-D)<Hb||M<Hb)return v(L);L=P(L-R/M)}return v(L)};return _.isStepper=!1,_},Fne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,l=t.dt,u=l===void 0?17:l,d=function(g,m,v){var w=-(g-m)*n,P=v*i,_=v+(w-P)*u/1e3,N=v*u/1e3+g;return Math.abs(N-m)<Hb&&Math.abs(_)<Hb?[m,0]:[N,_]};return d.isStepper=!0,d.dt=u,d},Bne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tM(a);case"spring":return Fne();default:if(a.split("(")[0]==="cubic-bezier")return tM(a)}return typeof a=="function"?a:null};function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function rM(e){return zne(e)||Une(e)||O3(e)||qne()}function qne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Une(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zne(e){if(Array.isArray(e))return pC(e)}function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(n){fC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fC(e,t,r){return t=Wne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wne(e){var t=Hne(e,"string");return hv(t)==="symbol"?t:String(t)}function Hne(e,t){if(hv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vne(e,t){return Yne(e)||Kne(e,t)||O3(e,t)||Gne()}function Gne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O3(e,t){if(e){if(typeof e=="string")return pC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(e,t)}}function pC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(g){f=!0,a=g}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function Yne(e){if(Array.isArray(e))return e}var Vb=function(t,r,n){return t+(r-t)*n},mC=function(t){var r=t.from,n=t.to;return r!==n},Xne=function e(t,r,n){var a=Dy(function(i,l){if(mC(l)){var u=t(l.from,l.to,l.velocity),d=Vne(u,2),f=d[0],g=d[1];return ri(ri({},l),{},{from:f,velocity:g})}return l},r);return n<1?Dy(function(i,l){return mC(l)?ri(ri({},l),{},{velocity:Vb(l.velocity,a[i].velocity,n),from:Vb(l.from,a[i].from,n)}):l},r):e(t,a,n-1)};const Qne=(function(e,t,r,n,a){var i=Pne(e,t),l=i.reduce(function(N,E){return ri(ri({},N),{},fC({},E,[e[E],t[E]]))},{}),u=i.reduce(function(N,E){return ri(ri({},N),{},fC({},E,{from:e[E],velocity:0,to:t[E]}))},{}),d=-1,f,g,m=function(){return null},v=function(){return Dy(function(E,D){return D.from},u)},w=function(){return!Object.values(u).filter(mC).length},P=function(E){f||(f=E);var D=E-f,L=D/r.dt;u=Xne(r,u,L),a(ri(ri(ri({},e),t),v())),f=E,w()||(d=requestAnimationFrame(m))},_=function(E){g||(g=E);var D=(E-g)/n,L=Dy(function(R,M){return Vb.apply(void 0,rM(M).concat([r(D)]))},l);if(a(ri(ri(ri({},e),t),L)),D<1)d=requestAnimationFrame(m);else{var $=Dy(function(R,M){return Vb.apply(void 0,rM(M).concat([r(1)]))},l);a(ri(ri(ri({},e),t),$))}};return m=r.isStepper?P:_,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}var Zne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Jne(e,t){if(e==null)return{};var r=eae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eae(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function _j(e){return aae(e)||nae(e)||rae(e)||tae()}function tae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rae(e,t){if(e){if(typeof e=="string")return hC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hC(e,t)}}function nae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aae(e){if(Array.isArray(e))return hC(e)}function hC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(r),!0).forEach(function(n){Oy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oy(e,t,r){return t=R3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R3(n.key),n)}}function oae(e,t,r){return t&&iae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R3(e){var t=lae(e,"string");return eg(t)==="symbol"?t:String(t)}function lae(e,t){if(eg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gC(e,t)}function gC(e,t){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gC(e,t)}function uae(e){var t=dae();return function(){var n=Gb(e),a;if(t){var i=Gb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return yC(this,a)}}function yC(e,t){if(t&&(eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vC(e)}function vC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(e)}var Mf=(function(e){cae(r,e);var t=uae(r);function r(n,a){var i;sae(this,r),i=t.call(this,n,a);var l=i.props,u=l.isActive,d=l.attributeName,f=l.from,g=l.to,m=l.steps,v=l.children,w=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(vC(i)),i.changeStyle=i.changeStyle.bind(vC(i)),!u||w<=0)return i.state={style:{}},typeof v=="function"&&(i.state={style:g}),yC(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof v=="function")return i.state={style:f},yC(i);i.state={style:d?Oy({},d,f):f}}else i.state={style:{}};return i}return oae(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,l=a.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,l=i.isActive,u=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,g=i.to,m=i.from,v=this.state.style;if(u){if(!l){var w={style:d?Oy({},d,g):g};this.state&&v&&(d&&v[d]!==g||!d&&v!==g)&&this.setState(w);return}if(!(yne(a.to,g)&&a.canBegin&&a.isActive)){var P=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=P||f?m:a.to;if(this.state&&v){var N={style:d?Oy({},d,_):_};(d&&v[d]!==_||!d&&v!==_)&&this.setState(N)}this.runAnimation(cc(cc({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,l=a.from,u=a.to,d=a.duration,f=a.easing,g=a.begin,m=a.onAnimationEnd,v=a.onAnimationStart,w=Qne(l,u,Bne(f),d,this.changeStyle),P=function(){i.stopJSAnimation=w()};this.manager.start([v,g,P,d,m])}},{key:"runStepAnimation",value:function(a){var i=this,l=a.steps,u=a.begin,d=a.onAnimationStart,f=l[0],g=f.style,m=f.duration,v=m===void 0?0:m,w=function(_,N,E){if(E===0)return _;var D=N.duration,L=N.easing,$=L===void 0?"ease":L,R=N.style,M=N.properties,F=N.onAnimationEnd,V=E>0?l[E-1]:N,Y=M||Object.keys(R);if(typeof $=="function"||$==="spring")return[].concat(_j(_),[i.runJSAnimation.bind(i,{from:V.style,to:R,duration:D,easing:$}),D]);var ue=JI(Y,D,$),te=cc(cc(cc({},V.style),R),{},{transition:ue});return[].concat(_j(_),[te,D,F]).filter(Ane)};return this.manager.start([d].concat(_j(l.reduce(w,[g,Math.max(v,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=jne());var i=a.begin,l=a.duration,u=a.attributeName,d=a.to,f=a.easing,g=a.onAnimationStart,m=a.onAnimationEnd,v=a.steps,w=a.children,P=this.manager;if(this.unSubscribe=P.subscribe(this.handleStyleChange),typeof f=="function"||typeof w=="function"||f==="spring"){this.runJSAnimation(a);return}if(v.length>1){this.runStepAnimation(a);return}var _=u?Oy({},u,d):d,N=JI(Object.keys(_),l,f);P.start([g,i,cc(cc({},_),{},{transition:N}),l,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var l=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=Jne(a,Zne),f=y.Children.count(i),g=this.state.style;if(typeof i=="function")return i(g);if(!u||f===0||l<=0)return i;var m=function(w){var P=w.props,_=P.style,N=_===void 0?{}:_,E=P.className,D=y.cloneElement(w,cc(cc({},d),{},{style:cc(cc({},N),g),className:E}));return D};return f===1?m(y.Children.only(i)):se.createElement("div",null,y.Children.map(i,function(v){return m(v)}))}}]),r})(y.PureComponent);Mf.displayName="Animate";Mf.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Mf.propTypes={from:an.oneOfType([an.object,an.string]),to:an.oneOfType([an.object,an.string]),attributeName:an.string,duration:an.number,begin:an.number,easing:an.oneOfType([an.string,an.func]),steps:an.arrayOf(an.shape({duration:an.number.isRequired,style:an.object.isRequired,easing:an.oneOfType([an.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),an.func]),properties:an.arrayOf("string"),onAnimationEnd:an.func})),children:an.oneOfType([an.node,an.func]),isActive:an.bool,canBegin:an.bool,onAnimationEnd:an.func,shouldReAnimate:an.bool,onAnimationStart:an.func,onAnimationReStart:an.func};function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kb.apply(this,arguments)}function fae(e,t){return gae(e)||hae(e,t)||mae(e,t)||pae()}function pae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mae(e,t){if(e){if(typeof e=="string")return sM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sM(e,t)}}function sM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(g){f=!0,a=g}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function gae(e){if(Array.isArray(e))return e}function iM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(r),!0).forEach(function(n){yae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yae(e,t,r){return t=vae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vae(e){var t=bae(e,"string");return gv(t)=="symbol"?t:t+""}function bae(e,t){if(gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lM=function(t,r,n,a,i){var l=Math.min(Math.abs(n)/2,Math.abs(a)/2),u=a>=0?1:-1,d=n>=0?1:-1,f=a>=0&&n>=0||a<0&&n<0?1:0,g;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],v=0,w=4;v<w;v++)m[v]=i[v]>l?l:i[v];g="M".concat(t,",").concat(r+u*m[0]),m[0]>0&&(g+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+d*m[0],",").concat(r)),g+="L ".concat(t+n-d*m[1],",").concat(r),m[1]>0&&(g+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+u*m[1])),g+="L ".concat(t+n,",").concat(r+a-u*m[2]),m[2]>0&&(g+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-d*m[2],",").concat(r+a)),g+="L ".concat(t+d*m[3],",").concat(r+a),m[3]>0&&(g+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+a-u*m[3])),g+="Z"}else if(l>0&&i===+i&&i>0){var P=Math.min(l,i);g="M ".concat(t,",").concat(r+u*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(f,",").concat(t+d*P,",").concat(r,`
            L `).concat(t+n-d*P,",").concat(r,`
            A `).concat(P,",").concat(P,",0,0,").concat(f,",").concat(t+n,",").concat(r+u*P,`
            L `).concat(t+n,",").concat(r+a-u*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(f,",").concat(t+n-d*P,",").concat(r+a,`
            L `).concat(t+d*P,",").concat(r+a,`
            A `).concat(P,",").concat(P,",0,0,").concat(f,",").concat(t,",").concat(r+a-u*P," Z")}else g="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return g},xae=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(i,i+u),g=Math.max(i,i+u),m=Math.min(l,l+d),v=Math.max(l,l+d);return n>=f&&n<=g&&a>=m&&a<=v}return!1},wae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EA=function(t){var r=oM(oM({},wae),t),n=y.useRef(),a=y.useState(-1),i=fae(a,2),l=i[0],u=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&u($)}catch{}},[]);var d=r.x,f=r.y,g=r.width,m=r.height,v=r.radius,w=r.className,P=r.animationEasing,_=r.animationDuration,N=r.animationBegin,E=r.isAnimationActive,D=r.isUpdateAnimationActive;if(d!==+d||f!==+f||g!==+g||m!==+m||g===0||m===0)return null;var L=qt("recharts-rectangle",w);return D?se.createElement(Mf,{canBegin:l>0,from:{width:g,height:m,x:d,y:f},to:{width:g,height:m,x:d,y:f},duration:_,animationEasing:P,isActive:D},function($){var R=$.width,M=$.height,F=$.x,V=$.y;return se.createElement(Mf,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:_,isActive:E,easing:P},se.createElement("path",Kb({},Wr(r,!0),{className:L,d:lM(F,V,R,M,v),ref:n})))}):se.createElement("path",Kb({},Wr(r,!0),{className:L,d:lM(d,f,g,m,v)}))};function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(this,arguments)}var T3=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,l=qt("recharts-dot",i);return r===+r&&n===+n&&a===+a?y.createElement("circle",bC({},Wr(t,!1),gb(t),{className:l,cx:r,cy:n,r:a})):null};function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}var Sae=["x","y","top","left","width","height","className"];function xC(){return xC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xC.apply(this,arguments)}function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){jae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jae(e,t,r){return t=_ae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ae(e){var t=Cae(e,"string");return yv(t)=="symbol"?t:t+""}function Cae(e,t){if(yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pae(e,t){if(e==null)return{};var r=Aae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kae=function(t,r,n,a,i,l){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(l,",").concat(r,"h").concat(n)},Eae=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,g=t.width,m=g===void 0?0:g,v=t.height,w=v===void 0?0:v,P=t.className,_=Pae(t,Sae),N=Nae({x:n,y:i,top:u,left:f,width:m,height:w},_);return!ut(n)||!ut(i)||!ut(m)||!ut(w)||!ut(u)||!ut(f)?null:se.createElement("path",xC({},Wr(N,!0),{className:qt("recharts-cross",P),d:kae(n,i,m,w,u,f)}))},Cj,uM;function Oae(){if(uM)return Cj;uM=1;var e=Z5(),t=e(Object.getPrototypeOf,Object);return Cj=t,Cj}var Pj,dM;function Rae(){if(dM)return Pj;dM=1;var e=Ad(),t=Oae(),r=kd(),n="[object Object]",a=Function.prototype,i=Object.prototype,l=a.toString,u=i.hasOwnProperty,d=l.call(Object);function f(g){if(!r(g)||e(g)!=n)return!1;var m=t(g);if(m===null)return!0;var v=u.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==d}return Pj=f,Pj}var Tae=Rae();const Iae=jn(Tae);var Aj,fM;function Mae(){if(fM)return Aj;fM=1;var e=Ad(),t=kd(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return Aj=n,Aj}var Dae=Mae();const Lae=jn(Dae);function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(this,arguments)}function $ae(e,t){return Uae(e)||qae(e,t)||Bae(e,t)||Fae()}function Fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bae(e,t){if(e){if(typeof e=="string")return pM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pM(e,t)}}function pM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(g){f=!0,a=g}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function Uae(e){if(Array.isArray(e))return e}function mM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(r),!0).forEach(function(n){zae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zae(e,t,r){return t=Wae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wae(e){var t=Hae(e,"string");return vv(t)=="symbol"?t:t+""}function Hae(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gM=function(t,r,n,a,i){var l=n-a,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-l/2,",").concat(r+i),u+="L ".concat(t+n-l/2-a,",").concat(r+i),u+="L ".concat(t,",").concat(r," Z"),u},Vae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gae=function(t){var r=hM(hM({},Vae),t),n=y.useRef(),a=y.useState(-1),i=$ae(a,2),l=i[0],u=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var L=n.current.getTotalLength();L&&u(L)}catch{}},[]);var d=r.x,f=r.y,g=r.upperWidth,m=r.lowerWidth,v=r.height,w=r.className,P=r.animationEasing,_=r.animationDuration,N=r.animationBegin,E=r.isUpdateAnimationActive;if(d!==+d||f!==+f||g!==+g||m!==+m||v!==+v||g===0&&m===0||v===0)return null;var D=qt("recharts-trapezoid",w);return E?se.createElement(Mf,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:f},to:{upperWidth:g,lowerWidth:m,height:v,x:d,y:f},duration:_,animationEasing:P,isActive:E},function(L){var $=L.upperWidth,R=L.lowerWidth,M=L.height,F=L.x,V=L.y;return se.createElement(Mf,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:_,easing:P},se.createElement("path",Yb({},Wr(r,!0),{className:D,d:gM(F,V,$,R,M),ref:n})))}):se.createElement("g",null,se.createElement("path",Yb({},Wr(r,!0),{className:D,d:gM(d,f,g,m,v)})))},Kae=["option","shapeType","propTransformer","activeClassName","isActive"];function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}function Yae(e,t){if(e==null)return{};var r=Xae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(r),!0).forEach(function(n){Qae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qae(e,t,r){return t=Zae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zae(e){var t=Jae(e,"string");return bv(t)=="symbol"?t:t+""}function Jae(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ese(e,t){return Xb(Xb({},t),e)}function tse(e,t){return e==="symbols"}function vM(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return se.createElement(EA,r);case"trapezoid":return se.createElement(Gae,r);case"sector":return se.createElement(_3,r);case"symbols":if(tse(t))return se.createElement(KP,r);break;default:return null}}function rse(e){return y.isValidElement(e)?e.props:e}function nse(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?ese:n,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,u=e.isActive,d=Yae(e,Kae),f;if(y.isValidElement(t))f=y.cloneElement(t,Xb(Xb({},d),rse(t)));else if(mr(t))f=t(d);else if(Iae(t)&&!Lae(t)){var g=a(t,d);f=se.createElement(vM,{shapeType:r,elementProps:g})}else{var m=d;f=se.createElement(vM,{shapeType:r,elementProps:m})}return u?se.createElement(Ms,{className:l},f):f}function Xx(e,t){return t!=null&&"trapezoids"in e.props}function Qx(e,t){return t!=null&&"sectors"in e.props}function xv(e,t){return t!=null&&"points"in e.props}function ase(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function sse(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ise(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function ose(e,t){var r;return Xx(e,t)?r=ase:Qx(e,t)?r=sse:xv(e,t)&&(r=ise),r}function lse(e,t){var r;return Xx(e,t)?r="trapezoids":Qx(e,t)?r="sectors":xv(e,t)&&(r="points"),r}function cse(e,t){if(Xx(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Qx(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return xv(e,t)?t.payload:{}}function use(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=lse(r,t),i=cse(r,t),l=n.filter(function(d,f){var g=CA(i,d),m=r.props[a].filter(function(P){var _=ose(r,t);return _(P,t)}),v=r.props[a].indexOf(m[m.length-1]),w=f===v;return g&&w}),u=n.indexOf(l[l.length-1]);return u}var kj,bM;function dse(){if(bM)return kj;bM=1;var e=Math.ceil,t=Math.max;function r(n,a,i,l){for(var u=-1,d=t(e((a-n)/(i||1)),0),f=Array(d);d--;)f[l?d:++u]=n,n+=i;return f}return kj=r,kj}var Ej,xM;function I3(){if(xM)return Ej;xM=1;var e=m$(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return Ej=n,Ej}var Oj,wM;function fse(){if(wM)return Oj;wM=1;var e=dse(),t=$x(),r=I3();function n(a){return function(i,l,u){return u&&typeof u!="number"&&t(i,l,u)&&(l=u=void 0),i=r(i),l===void 0?(l=i,i=0):l=r(l),u=u===void 0?i<l?1:-1:r(u),e(i,l,u,a)}}return Oj=n,Oj}var Rj,SM;function pse(){if(SM)return Rj;SM=1;var e=fse(),t=e();return Rj=t,Rj}var mse=pse();const Qb=jn(mse);function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}function NM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(r),!0).forEach(function(n){M3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M3(e,t,r){return t=hse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hse(e){var t=gse(e,"string");return wv(t)=="symbol"?t:t+""}function gse(e,t){if(wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yse=["Webkit","Moz","O","ms"],vse=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=yse.reduce(function(i,l){return jM(jM({},i),{},M3({},l+n,r))},{});return a[t]=r,a};function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zb.apply(this,arguments)}function _M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(r),!0).forEach(function(n){qo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L3(n.key),n)}}function xse(e,t,r){return t&&CM(e.prototype,t),r&&CM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wse(e,t,r){return t=Jb(t),Sse(e,D3()?Reflect.construct(t,r||[],Jb(e).constructor):t.apply(e,r))}function Sse(e,t){if(t&&(tg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nse(e)}function Nse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D3=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}function jse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wC(e,t)}function wC(e,t){return wC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wC(e,t)}function qo(e,t,r){return t=L3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L3(e){var t=_se(e,"string");return tg(t)=="symbol"?t:t+""}function _se(e,t){if(tg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cse=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Iy().domain(Qb(0,d)).range([i,i+l-u]),g=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(a),scale:f,scaleValues:g}},PM=function(t){return t.changedTouches&&!!t.changedTouches.length},rg=(function(e){function t(r){var n;return bse(this,t),n=wse(this,t,[r]),qo(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),qo(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),qo(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,l=a.onDragEnd,u=a.startIndex;l?.({endIndex:i,startIndex:u})}),n.detachDragEndListener()}),qo(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),qo(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),qo(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),qo(n,"handleSlideDragStart",function(a){var i=PM(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return jse(t,e),xse(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,g=f.length-1,m=Math.min(a,i),v=Math.max(a,i),w=t.getIndexInRange(l,m),P=t.getIndexInRange(l,v);return{startIndex:w-w%d,endIndex:P===g?g:P-P%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,l=a.tickFormatter,u=a.dataKey,d=Nu(i[n],u,n);return mr(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,l=a.startX,u=a.endX,d=this.props,f=d.x,g=d.width,m=d.travellerWidth,v=d.startIndex,w=d.endIndex,P=d.onChange,_=n.pageX-i;_>0?_=Math.min(_,f+g-m-u,f+g-m-l):_<0&&(_=Math.max(_,f-l,f-u));var N=this.getIndex({startX:l+_,endX:u+_});(N.startIndex!==v||N.endIndex!==w)&&P&&P(N),this.setState({startX:l+_,endX:u+_,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=PM(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,l=a.movingTravellerId,u=a.endX,d=a.startX,f=this.state[l],g=this.props,m=g.x,v=g.width,w=g.travellerWidth,P=g.onChange,_=g.gap,N=g.data,E={startX:this.state.startX,endX:this.state.endX},D=n.pageX-i;D>0?D=Math.min(D,m+v-w-f):D<0&&(D=Math.max(D,m-f)),E[l]=f+D;var L=this.getIndex(E),$=L.startIndex,R=L.endIndex,M=function(){var V=N.length-1;return l==="startX"&&(u>d?$%_===0:R%_===0)||u<d&&R===V||l==="endX"&&(u>d?R%_===0:$%_===0)||u>d&&R===V};this.setState(qo(qo({},l,f+D),"brushMoveStartX",n.pageX),function(){P&&M()&&P(L)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,g=this.state[a],m=u.indexOf(g);if(m!==-1){var v=m+n;if(!(v===-1||v>=u.length)){var w=u[v];a==="startX"&&w>=f||a==="endX"&&w<=d||this.setState(qo({},a,w),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,u=n.height,d=n.fill,f=n.stroke;return se.createElement("rect",{stroke:f,fill:d,x:a,y:i,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,u=n.height,d=n.data,f=n.children,g=n.padding,m=y.Children.only(f);return m?se.cloneElement(m,{x:a,y:i,width:l,height:u,margin:g,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,l,u=this,d=this.props,f=d.y,g=d.travellerWidth,m=d.height,v=d.traveller,w=d.ariaLabel,P=d.data,_=d.startIndex,N=d.endIndex,E=Math.max(n,this.props.x),D=Tj(Tj({},Wr(this.props,!1)),{},{x:E,y:f,width:g,height:m}),L=w||"Min value: ".concat((i=P[_])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=P[N])===null||l===void 0?void 0:l.name);return se.createElement(Ms,{tabIndex:0,role:"slider","aria-label":L,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(R){["ArrowLeft","ArrowRight"].includes(R.key)&&(R.preventDefault(),R.stopPropagation(),u.handleTravellerMoveKeyboard(R.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(v,D))}},{key:"renderSlide",value:function(n,a){var i=this.props,l=i.y,u=i.height,d=i.stroke,f=i.travellerWidth,g=Math.min(n,a)+f,m=Math.max(Math.abs(a-n)-f,0);return se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:g,y:l,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,g=this.state,m=g.startX,v=g.endX,w=5,P={pointerEvents:"none",fill:f};return se.createElement(Ms,{className:"recharts-brush-texts"},se.createElement(Ab,Zb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-w,y:l+u/2},P),this.getTextOfTick(a)),se.createElement(Ab,Zb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+d+w,y:l+u/2},P),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,l=n.children,u=n.x,d=n.y,f=n.width,g=n.height,m=n.alwaysShowText,v=this.state,w=v.startX,P=v.endX,_=v.isTextActive,N=v.isSlideMoving,E=v.isTravellerMoving,D=v.isTravellerFocused;if(!a||!a.length||!ut(u)||!ut(d)||!ut(f)||!ut(g)||f<=0||g<=0)return null;var L=qt("recharts-brush",i),$=se.Children.count(l)===1,R=vse("userSelect","none");return se.createElement(Ms,{className:L,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:R},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(w,P),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(P,"endX"),(_||N||E||D||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,l=n.width,u=n.height,d=n.stroke,f=Math.floor(i+u/2)-1;return se.createElement(se.Fragment,null,se.createElement("rect",{x:a,y:i,width:l,height:u,fill:d,stroke:"none"}),se.createElement("line",{x1:a+1,y1:f,x2:a+l-1,y2:f,fill:"none",stroke:"#fff"}),se.createElement("line",{x1:a+1,y1:f+2,x2:a+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return se.isValidElement(n)?i=se.cloneElement(n,a):mr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,l=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,g=n.startIndex,m=n.endIndex;if(i!==a.prevData||f!==a.prevUpdateId)return Tj({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},i&&i.length?Cse({data:i,width:l,x:u,travellerWidth:d,startIndex:g,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(l!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+l-d]);var v=a.scale.domain().map(function(w){return a.scale(w)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,l=0,u=i-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>a?u=d:l=d}return a>=n[u]?u:l}}])})(y.PureComponent);qo(rg,"displayName","Brush");qo(rg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ij,AM;function Pse(){if(AM)return Ij;AM=1;var e=tA();function t(r,n){var a;return e(r,function(i,l,u){return a=n(i,l,u),!a}),!!a}return Ij=t,Ij}var Mj,kM;function Ase(){if(kM)return Mj;kM=1;var e=H5(),t=$f(),r=Pse(),n=co(),a=$x();function i(l,u,d){var f=n(l)?e:r;return d&&a(l,u,d)&&(u=void 0),f(l,t(u,3))}return Mj=i,Mj}var kse=Ase();const Ese=jn(kse);var bu=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Dj,EM;function Ose(){if(EM)return Dj;EM=1;var e=c$();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Dj=t,Dj}var Lj,OM;function Rse(){if(OM)return Lj;OM=1;var e=Ose(),t=o$(),r=$f();function n(a,i){var l={};return i=r(i,3),t(a,function(u,d,f){e(l,d,i(u,d,f))}),l}return Lj=n,Lj}var Tse=Rse();const Ise=jn(Tse);var $j,RM;function Mse(){if(RM)return $j;RM=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return $j=e,$j}var Fj,TM;function Dse(){if(TM)return Fj;TM=1;var e=tA();function t(r,n){var a=!0;return e(r,function(i,l,u){return a=!!n(i,l,u),a}),a}return Fj=t,Fj}var Bj,IM;function Lse(){if(IM)return Bj;IM=1;var e=Mse(),t=Dse(),r=$f(),n=co(),a=$x();function i(l,u,d){var f=n(l)?e:t;return d&&a(l,u,d)&&(u=void 0),f(l,r(u,3))}return Bj=i,Bj}var $se=Lse();const $3=jn($se);var Fse=["x","y"];function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SC.apply(this,arguments)}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){Bse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bse(e,t,r){return t=qse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qse(e){var t=Use(e,"string");return Sv(t)=="symbol"?t:t+""}function Use(e,t){if(Sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zse(e,t){if(e==null)return{};var r=Wse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hse(e,t){var r=e.x,n=e.y,a=zse(e,Fse),i="".concat(r),l=parseInt(i,10),u="".concat(n),d=parseInt(u,10),f="".concat(t.height||a.height),g=parseInt(f,10),m="".concat(t.width||a.width),v=parseInt(m,10);return Ny(Ny(Ny(Ny(Ny({},t),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:g,width:v,name:t.name,radius:t.radius})}function DM(e){return se.createElement(nse,SC({shapeType:"rectangle",propTransformer:Hse,activeClassName:"recharts-active-bar"},e))}var Vse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=ut(n)||tG(n);return i?t(n,a):(i||rm(),r)}},Gse=["value","background"],F3;function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function Kse(e,t){if(e==null)return{};var r=Yse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(this,arguments)}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(n){Af(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q3(n.key),n)}}function Qse(e,t,r){return t&&$M(e.prototype,t),r&&$M(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zse(e,t,r){return t=tx(t),Jse(e,B3()?Reflect.construct(t,r||[],tx(e).constructor):t.apply(e,r))}function Jse(e,t){if(t&&(ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eie(e)}function eie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B3=function(){return!!e})()}function tx(e){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(e)}function tie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NC(e,t)}function NC(e,t){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NC(e,t)}function Af(e,t,r){return t=q3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q3(e){var t=rie(e,"string");return ng(t)=="symbol"?t:t+""}function rie(e,t){if(ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dm=(function(e){function t(){var r;Xse(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Zse(this,t,[].concat(a)),Af(r,"state",{isAnimationFinished:!1}),Af(r,"id",Ox("recharts-bar-")),Af(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Af(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return tie(t,e),Qse(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,l=i.shape,u=i.dataKey,d=i.activeIndex,f=i.activeBar,g=Wr(this.props,!1);return n&&n.map(function(m,v){var w=v===d,P=w?f:l,_=ts(ts(ts({},g),m),{},{isActive:w,option:P,index:v,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return se.createElement(Ms,ex({className:"recharts-bar-rectangle"},yb(a.props,m,v),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(v)}),se.createElement(DM,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,l=a.layout,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,g=a.animationEasing,m=a.animationId,v=this.state.prevData;return se.createElement(Mf,{begin:d,duration:f,isActive:u,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var P=w.t,_=i.map(function(N,E){var D=v&&v[E];if(D){var L=xh(D.x,N.x),$=xh(D.y,N.y),R=xh(D.width,N.width),M=xh(D.height,N.height);return ts(ts({},N),{},{x:L(P),y:$(P),width:R(P),height:M(P)})}if(l==="horizontal"){var F=xh(0,N.height),V=F(P);return ts(ts({},N),{},{y:N.y+N.height-V,height:V})}var Y=xh(0,N.width),ue=Y(P);return ts(ts({},N),{},{width:ue})});return se.createElement(Ms,null,n.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,l=this.state.prevData;return i&&a&&a.length&&(!l||!CA(l,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,l=a.dataKey,u=a.activeIndex,d=Wr(this.props.background,!1);return i.map(function(f,g){f.value;var m=f.background,v=Kse(f,Gse);if(!m)return null;var w=ts(ts(ts(ts(ts({},v),{},{fill:"#eee"},m),d),yb(n.props,f,g)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:g,className:"recharts-bar-background-rectangle"});return se.createElement(DM,ex({key:"background-bar-".concat(g),option:n.props.background,isActive:g===u},w))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,u=i.xAxis,d=i.yAxis,f=i.layout,g=i.children,m=hc(g,Yx);if(!m)return null;var v=f==="vertical"?l[0].height/2:l[0].width/2,w=function(N,E){var D=Array.isArray(N.value)?N.value[1]:N.value;return{x:N.x,y:N.y,value:D,errorVal:Nu(N,E)}},P={clipPath:n?"url(#clipPath-".concat(a,")"):null};return se.createElement(Ms,P,m.map(function(_){return se.cloneElement(_,{key:"error-bar-".concat(a,"-").concat(_.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:v,dataPointFormatter:w})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,l=n.className,u=n.xAxis,d=n.yAxis,f=n.left,g=n.top,m=n.width,v=n.height,w=n.isAnimationActive,P=n.background,_=n.id;if(a||!i||!i.length)return null;var N=this.state.isAnimationFinished,E=qt("recharts-bar",l),D=u&&u.allowDataOverflow,L=d&&d.allowDataOverflow,$=D||L,R=Hr(_)?this.id:_;return se.createElement(Ms,{className:E},D||L?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(R)},se.createElement("rect",{x:D?f:f-m/2,y:L?g:g-v/2,width:D?m:m*2,height:L?v:v*2}))):null,se.createElement(Ms,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(R,")"):null},P?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,R),(!w||N)&&Of.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(y.PureComponent);F3=dm;Af(dm,"displayName","Bar");Af(dm,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fv.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Af(dm,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,g=e.dataStartIndex,m=e.displayedData,v=e.offset,w=xte(n,r);if(!w)return null;var P=t.layout,_=r.type.defaultProps,N=_!==void 0?ts(ts({},_),r.props):r.props,E=N.dataKey,D=N.children,L=N.minPointSize,$=P==="horizontal"?l:i,R=f?$.scale.domain():null,M=Ate({numericAxis:$}),F=hc(D,g$),V=m.map(function(Y,ue){var te,le,fe,me,ie,J;f?te=wte(f[g+ue],R):(te=Nu(Y,E),Array.isArray(te)||(te=[M,te]));var ne=Vse(L,F3.defaultProps.minPointSize)(te[1],ue);if(P==="horizontal"){var G,ve=[l.scale(te[0]),l.scale(te[1])],Se=ve[0],X=ve[1];le=xI({axis:i,ticks:u,bandSize:a,offset:w.offset,entry:Y,index:ue}),fe=(G=X??Se)!==null&&G!==void 0?G:void 0,me=w.size;var pe=Se-X;if(ie=Number.isNaN(pe)?0:pe,J={x:le,y:l.y,width:me,height:l.height},Math.abs(ne)>0&&Math.abs(ie)<Math.abs(ne)){var re=mc(ie||ne)*(Math.abs(ne)-Math.abs(ie));fe-=re,ie+=re}}else{var xe=[i.scale(te[0]),i.scale(te[1])],Re=xe[0],Le=xe[1];if(le=Re,fe=xI({axis:l,ticks:d,bandSize:a,offset:w.offset,entry:Y,index:ue}),me=Le-Re,ie=w.size,J={x:i.x,y:fe,width:i.width,height:ie},Math.abs(ne)>0&&Math.abs(me)<Math.abs(ne)){var Ke=mc(me||ne)*(Math.abs(ne)-Math.abs(me));me+=Ke}}return ts(ts(ts({},Y),{},{x:le,y:fe,width:me,height:ie,value:f?te:te[1],payload:Y,background:J},F&&F[ue]&&F[ue].props),{},{tooltipPayload:[S3(r,Y)],tooltipPosition:{x:le+me/2,y:fe+ie/2}})});return ts({data:V,layout:P},v)});function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function nie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U3(n.key),n)}}function aie(e,t,r){return t&&FM(e.prototype,t),r&&FM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(r),!0).forEach(function(n){Zx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zx(e,t,r){return t=U3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U3(e){var t=sie(e,"string");return Nv(t)=="symbol"?t:t+""}function sie(e,t){if(Nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iie=function(t,r,n,a,i){var l=t.width,u=t.height,d=t.layout,f=t.children,g=Object.keys(r),m={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},v=!!Uo(f,dm);return g.reduce(function(w,P){var _=r[P],N=_.orientation,E=_.domain,D=_.padding,L=D===void 0?{}:D,$=_.mirror,R=_.reversed,M="".concat(N).concat($?"Mirror":""),F,V,Y,ue,te;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var le=E[1]-E[0],fe=1/0,me=_.categoricalDomain.sort(aG);if(me.forEach(function(xe,Re){Re>0&&(fe=Math.min((xe||0)-(me[Re-1]||0),fe))}),Number.isFinite(fe)){var ie=fe/le,J=_.layout==="vertical"?n.height:n.width;if(_.padding==="gap"&&(F=ie*J/2),_.padding==="no-gap"){var ne=em(t.barCategoryGap,ie*J),G=ie*J/2;F=G-ne-(G-ne)/J*ne}}}a==="xAxis"?V=[n.left+(L.left||0)+(F||0),n.left+n.width-(L.right||0)-(F||0)]:a==="yAxis"?V=d==="horizontal"?[n.top+n.height-(L.bottom||0),n.top+(L.top||0)]:[n.top+(L.top||0)+(F||0),n.top+n.height-(L.bottom||0)-(F||0)]:V=_.range,R&&(V=[V[1],V[0]]);var ve=vte(_,i,v),Se=ve.scale,X=ve.realScaleType;Se.domain(E).range(V),bte(Se);var pe=Pte(Se,dc(dc({},_),{},{realScaleType:X}));a==="xAxis"?(te=N==="top"&&!$||N==="bottom"&&$,Y=n.left,ue=m[M]-te*_.height):a==="yAxis"&&(te=N==="left"&&!$||N==="right"&&$,Y=m[M]-te*_.width,ue=n.top);var re=dc(dc(dc({},_),pe),{},{realScaleType:X,x:Y,y:ue,scale:Se,width:a==="xAxis"?n.width:_.width,height:a==="yAxis"?n.height:_.height});return re.bandSize=Ub(re,pe),!_.hide&&a==="xAxis"?m[M]+=(te?-1:1)*re.height:_.hide||(m[M]+=(te?-1:1)*re.width),dc(dc({},w),{},Zx({},P,re))},{})},z3=function(t,r){var n=t.x,a=t.y,i=r.x,l=r.y;return{x:Math.min(n,i),y:Math.min(a,l),width:Math.abs(i-n),height:Math.abs(l-a)}},oie=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return z3({x:r,y:n},{x:a,y:i})},W3=(function(){function e(t){nie(this,e),this.scale=t}return aie(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();Zx(W3,"EPS",1e-4);var OA=function(t){var r=Object.keys(t).reduce(function(n,a){return dc(dc({},n),{},Zx({},a,W3.create(t[a])))},{});return dc(dc({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,u=i.position;return Ise(a,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(a){return $3(a,function(i,l){return r[l].isInRange(i)})}})};function lie(e){return(e%180+180)%180}var cie=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=lie(a),l=i*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},qj,qM;function uie(){if(qM)return qj;qM=1;var e=$f(),t=$v(),r=Dx();function n(a){return function(i,l,u){var d=Object(i);if(!t(i)){var f=e(l,3);i=r(i),l=function(m){return f(d[m],m,d)}}var g=a(i,l,u);return g>-1?d[f?i[g]:g]:void 0}}return qj=n,qj}var Uj,UM;function die(){if(UM)return Uj;UM=1;var e=I3();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return Uj=t,Uj}var zj,zM;function fie(){if(zM)return zj;zM=1;var e=r$(),t=$f(),r=die(),n=Math.max;function a(i,l,u){var d=i==null?0:i.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),e(i,t(l,3),f)}return zj=a,zj}var Wj,WM;function pie(){if(WM)return Wj;WM=1;var e=uie(),t=fie(),r=e(t);return Wj=r,Wj}var mie=pie();const hie=jn(mie);var gie=v5();const yie=jn(gie);var vie=yie(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),RA=y.createContext(void 0),TA=y.createContext(void 0),H3=y.createContext(void 0),V3=y.createContext({}),G3=y.createContext(void 0),K3=y.createContext(0),Y3=y.createContext(0),HM=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,g=vie(i);return se.createElement(RA.Provider,{value:n},se.createElement(TA.Provider,{value:a},se.createElement(V3.Provider,{value:i},se.createElement(H3.Provider,{value:g},se.createElement(G3.Provider,{value:l},se.createElement(K3.Provider,{value:f},se.createElement(Y3.Provider,{value:d},u)))))))},bie=function(){return y.useContext(G3)},X3=function(t){var r=y.useContext(RA);r==null&&rm();var n=r[t];return n==null&&rm(),n},xie=function(){var t=y.useContext(RA);return Pf(t)},wie=function(){var t=y.useContext(TA),r=hie(t,function(n){return $3(n.domain,Number.isFinite)});return r||Pf(t)},Q3=function(t){var r=y.useContext(TA);r==null&&rm();var n=r[t];return n==null&&rm(),n},Sie=function(){var t=y.useContext(H3);return t},Nie=function(){return y.useContext(V3)},IA=function(){return y.useContext(Y3)},MA=function(){return y.useContext(K3)};function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function jie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J3(n.key),n)}}function Cie(e,t,r){return t&&_ie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pie(e,t,r){return t=rx(t),Aie(e,Z3()?Reflect.construct(t,r||[],rx(e).constructor):t.apply(e,r))}function Aie(e,t){if(t&&(ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kie(e)}function kie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z3=function(){return!!e})()}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(e)}function Eie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jC(e,t)}function jC(e,t){return jC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jC(e,t)}function VM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(r),!0).forEach(function(n){DA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DA(e,t,r){return t=J3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J3(e){var t=Oie(e,"string");return ag(t)=="symbol"?t:t+""}function Oie(e,t){if(ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rie(e,t){return Die(e)||Mie(e,t)||Iie(e,t)||Tie()}function Tie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iie(e,t){if(e){if(typeof e=="string")return KM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KM(e,t)}}function KM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(g){f=!0,a=g}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function Die(e){if(Array.isArray(e))return e}function _C(){return _C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_C.apply(this,arguments)}var Lie=function(t,r){var n;return se.isValidElement(t)?n=se.cloneElement(t,r):mr(t)?n=t(r):n=se.createElement("line",_C({},r,{className:"recharts-reference-line-line"})),n},$ie=function(t,r,n,a,i,l,u,d,f){var g=i.x,m=i.y,v=i.width,w=i.height;if(n){var P=f.y,_=t.y.apply(P,{position:l});if(bu(f,"discard")&&!t.y.isInRange(_))return null;var N=[{x:g+v,y:_},{x:g,y:_}];return d==="left"?N.reverse():N}if(r){var E=f.x,D=t.x.apply(E,{position:l});if(bu(f,"discard")&&!t.x.isInRange(D))return null;var L=[{x:D,y:m+w},{x:D,y:m}];return u==="top"?L.reverse():L}if(a){var $=f.segment,R=$.map(function(M){return t.apply(M,{position:l})});return bu(f,"discard")&&Ese(R,function(M){return!t.isInRange(M)})?null:R}return null};function Fie(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=bie(),g=X3(a),m=Q3(i),v=Sie();if(!f||!v)return null;wd(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var w=OA({x:g.scale,y:m.scale}),P=bs(t),_=bs(r),N=n&&n.length===2,E=$ie(w,P,_,N,v,e.position,g.orientation,m.orientation,e);if(!E)return null;var D=Rie(E,2),L=D[0],$=L.x,R=L.y,M=D[1],F=M.x,V=M.y,Y=bu(e,"hidden")?"url(#".concat(f,")"):void 0,ue=GM(GM({clipPath:Y},Wr(e,!0)),{},{x1:$,y1:R,x2:F,y2:V});return se.createElement(Ms,{className:qt("recharts-reference-line",u)},Lie(l,ue),wi.renderCallByParent(e,oie({x1:$,y1:R,x2:F,y2:V})))}var LA=(function(e){function t(){return jie(this,t),Pie(this,t,arguments)}return Eie(t,e),Cie(t,[{key:"render",value:function(){return se.createElement(Fie,this.props)}}])})(se.Component);DA(LA,"displayName","ReferenceLine");DA(LA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function CC(){return CC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CC.apply(this,arguments)}function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){Jx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t9(n.key),n)}}function Uie(e,t,r){return t&&qie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zie(e,t,r){return t=nx(t),Wie(e,e9()?Reflect.construct(t,r||[],nx(e).constructor):t.apply(e,r))}function Wie(e,t){if(t&&(sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hie(e)}function Hie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e9=function(){return!!e})()}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nx(e)}function Vie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PC(e,t)}function PC(e,t){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PC(e,t)}function Jx(e,t,r){return t=t9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t9(e){var t=Gie(e,"string");return sg(t)=="symbol"?t:t+""}function Gie(e,t){if(sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kie=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,l=OA({x:a.scale,y:i.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return bu(t,"discard")&&!l.isInRange(u)?null:u},ew=(function(e){function t(){return Bie(this,t),zie(this,t,arguments)}return Vie(t,e),Uie(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,f=bs(a),g=bs(i);if(wd(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!g)return null;var m=Kie(this.props);if(!m)return null;var v=m.x,w=m.y,P=this.props,_=P.shape,N=P.className,E=bu(this.props,"hidden")?"url(#".concat(d,")"):void 0,D=XM(XM({clipPath:E},Wr(this.props,!0)),{},{cx:v,cy:w});return se.createElement(Ms,{className:qt("recharts-reference-dot",N)},t.renderDot(_,D),wi.renderCallByParent(this.props,{x:v-l,y:w-l,width:2*l,height:2*l}))}}])})(se.Component);Jx(ew,"displayName","ReferenceDot");Jx(ew,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Jx(ew,"renderDot",function(e,t){var r;return se.isValidElement(e)?r=se.cloneElement(e,t):mr(e)?r=e(t):r=se.createElement(T3,CC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function AC(){return AC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AC.apply(this,arguments)}function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){tw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n9(n.key),n)}}function Qie(e,t,r){return t&&Xie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zie(e,t,r){return t=ax(t),Jie(e,r9()?Reflect.construct(t,r||[],ax(e).constructor):t.apply(e,r))}function Jie(e,t){if(t&&(ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eoe(e)}function eoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r9=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ax(e)}function toe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kC(e,t)}function kC(e,t){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kC(e,t)}function tw(e,t,r){return t=n9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n9(e){var t=roe(e,"string");return ig(t)=="symbol"?t:t+""}function roe(e,t){if(ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var noe=function(t,r,n,a,i){var l=i.x1,u=i.x2,d=i.y1,f=i.y2,g=i.xAxis,m=i.yAxis;if(!g||!m)return null;var v=OA({x:g.scale,y:m.scale}),w={x:t?v.x.apply(l,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(d,{position:"start"}):v.y.rangeMin},P={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:a?v.y.apply(f,{position:"end"}):v.y.rangeMax};return bu(i,"discard")&&(!v.isInRange(w)||!v.isInRange(P))?null:z3(w,P)},rw=(function(e){function t(){return Yie(this,t),Zie(this,t,arguments)}return toe(t,e),Qie(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,l=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,g=n.clipPathId;wd(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=bs(a),v=bs(i),w=bs(l),P=bs(u),_=this.props.shape;if(!m&&!v&&!w&&!P&&!_)return null;var N=noe(m,v,w,P,this.props);if(!N&&!_)return null;var E=bu(this.props,"hidden")?"url(#".concat(g,")"):void 0;return se.createElement(Ms,{className:qt("recharts-reference-area",d)},t.renderRect(_,ZM(ZM({clipPath:E},Wr(this.props,!0)),N)),wi.renderCallByParent(this.props,N))}}])})(se.Component);tw(rw,"displayName","ReferenceArea");tw(rw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tw(rw,"renderRect",function(e,t){var r;return se.isValidElement(e)?r=se.cloneElement(e,t):mr(e)?r=e(t):r=se.createElement(EA,AC({},t,{className:"recharts-reference-area-rect"})),r});function a9(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function aoe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return cie(n,r)}function soe(e,t,r){var n=r==="width",a=e.x,i=e.y,l=e.width,u=e.height;return t===1?{start:n?a:i,end:n?a+l:i+u}:{start:n?a+l:i+u,end:n?a:i}}function sx(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function ioe(e,t){return a9(e,t+1)}function ooe(e,t,r,n,a){for(var i=(n||[]).slice(),l=t.start,u=t.end,d=0,f=1,g=l,m=function(){var P=n?.[d];if(P===void 0)return{v:a9(n,f)};var _=d,N,E=function(){return N===void 0&&(N=r(P,_)),N},D=P.coordinate,L=d===0||sx(e,D,E,g,u);L||(d=0,g=l,f+=1),L&&(g=D+e*(E()/2+a),d+=f)},v;f<=i.length;)if(v=m(),v)return v.v;return[]}function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function JM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(r),!0).forEach(function(n){loe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function loe(e,t,r){return t=coe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function coe(e){var t=uoe(e,"string");return jv(t)=="symbol"?t:t+""}function uoe(e,t){if(jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function doe(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,u=t.start,d=t.end,f=function(v){var w=i[v],P,_=function(){return P===void 0&&(P=r(w,v)),P};if(v===l-1){var N=e*(w.coordinate+e*_()/2-d);i[v]=w=xi(xi({},w),{},{tickCoord:N>0?w.coordinate-N*e:w.coordinate})}else i[v]=w=xi(xi({},w),{},{tickCoord:w.coordinate});var E=sx(e,w.tickCoord,_,u,d);E&&(d=w.tickCoord-e*(_()/2+a),i[v]=xi(xi({},w),{},{isShow:!0}))},g=l-1;g>=0;g--)f(g);return i}function foe(e,t,r,n,a,i){var l=(n||[]).slice(),u=l.length,d=t.start,f=t.end;if(i){var g=n[u-1],m=r(g,u-1),v=e*(g.coordinate+e*m/2-f);l[u-1]=g=xi(xi({},g),{},{tickCoord:v>0?g.coordinate-v*e:g.coordinate});var w=sx(e,g.tickCoord,function(){return m},d,f);w&&(f=g.tickCoord-e*(m/2+a),l[u-1]=xi(xi({},g),{},{isShow:!0}))}for(var P=i?u-1:u,_=function(D){var L=l[D],$,R=function(){return $===void 0&&($=r(L,D)),$};if(D===0){var M=e*(L.coordinate-e*R()/2-d);l[D]=L=xi(xi({},L),{},{tickCoord:M<0?L.coordinate-M*e:L.coordinate})}else l[D]=L=xi(xi({},L),{},{tickCoord:L.coordinate});var F=sx(e,L.tickCoord,R,d,f);F&&(d=L.tickCoord+e*(R()/2+a),l[D]=xi(xi({},L),{},{isShow:!0}))},N=0;N<P;N++)_(N);return l}function $A(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,g=e.unit,m=e.angle;if(!a||!a.length||!n)return[];if(ut(d)||Fv.isSsr)return ioe(a,typeof d=="number"&&ut(d)?d:0);var v=[],w=u==="top"||u==="bottom"?"width":"height",P=g&&w==="width"?Ty(g,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=function(L,$){var R=mr(f)?f(L.value,$):L.value;return w==="width"?aoe(Ty(R,{fontSize:t,letterSpacing:r}),P,m):Ty(R,{fontSize:t,letterSpacing:r})[w]},N=a.length>=2?mc(a[1].coordinate-a[0].coordinate):1,E=soe(i,N,w);return d==="equidistantPreserveStart"?ooe(N,E,_,a,l):(d==="preserveStart"||d==="preserveStartEnd"?v=foe(N,E,_,a,l,d==="preserveStartEnd"):v=doe(N,E,_,a,l),v.filter(function(D){return D.isShow}))}var poe=["viewBox"],moe=["viewBox"],hoe=["ticks"];function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eh.apply(this,arguments)}function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(n){FA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hj(e,t){if(e==null)return{};var r=goe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function goe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i9(n.key),n)}}function voe(e,t,r){return t&&tD(e.prototype,t),r&&tD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function boe(e,t,r){return t=ix(t),xoe(e,s9()?Reflect.construct(t,r||[],ix(e).constructor):t.apply(e,r))}function xoe(e,t){if(t&&(og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return woe(e)}function woe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s9=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ix(e)}function Soe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EC(e,t)}function EC(e,t){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EC(e,t)}function FA(e,t,r){return t=i9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i9(e){var t=Noe(e,"string");return og(t)=="symbol"?t:t+""}function Noe(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sg=(function(e){function t(r){var n;return yoe(this,t),n=boe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Soe(t,e),voe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,l=Hj(n,poe),u=this.props,d=u.viewBox,f=Hj(u,moe);return!Ih(i,d)||!Ih(l,f)||!Ih(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,l=a.y,u=a.width,d=a.height,f=a.orientation,g=a.tickSize,m=a.mirror,v=a.tickMargin,w,P,_,N,E,D,L=m?-1:1,$=n.tickSize||g,R=ut(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":w=P=n.coordinate,N=l+ +!m*d,_=N-L*$,D=_-L*v,E=R;break;case"left":_=N=n.coordinate,P=i+ +!m*u,w=P-L*$,E=w-L*v,D=R;break;case"right":_=N=n.coordinate,P=i+ +m*u,w=P+L*$,E=w+L*v,D=R;break;default:w=P=n.coordinate,N=l+ +m*d,_=N+L*$,D=_+L*v,E=R;break}return{line:{x1:w,y1:_,x2:P,y2:N},tick:{x:E,y:D}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,l;switch(a){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,l="end";switch(a){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,u=n.height,d=n.orientation,f=n.mirror,g=n.axisLine,m=ys(ys(ys({},Wr(this.props,!1)),Wr(g,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!f||d==="bottom"&&f);m=ys(ys({},m),{},{x1:a,y1:i+v*u,x2:a+l,y2:i+v*u})}else{var w=+(d==="left"&&!f||d==="right"&&f);m=ys(ys({},m),{},{x1:a+w*l,y1:i,x2:a+w*l,y2:i+u})}return se.createElement("line",Eh({},m,{className:qt("recharts-cartesian-axis-line",Pl(g,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var l=this,u=this.props,d=u.tickLine,f=u.stroke,g=u.tick,m=u.tickFormatter,v=u.unit,w=$A(ys(ys({},this.props),{},{ticks:n}),a,i),P=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),N=Wr(this.props,!1),E=Wr(g,!1),D=ys(ys({},N),{},{fill:"none"},Wr(d,!1)),L=w.map(function($,R){var M=l.getTickLineCoord($),F=M.line,V=M.tick,Y=ys(ys(ys(ys({textAnchor:P,verticalAnchor:_},N),{},{stroke:"none",fill:f},E),V),{},{index:R,payload:$,visibleTicksCount:w.length,tickFormatter:m});return se.createElement(Ms,Eh({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},yb(l.props,$,R)),d&&se.createElement("line",Eh({},D,F,{className:qt("recharts-cartesian-axis-tick-line",Pl(d,"className"))})),g&&t.renderTickItem(g,Y,"".concat(mr(m)?m($.value,R):$.value).concat(v||"")))});return se.createElement("g",{className:"recharts-cartesian-axis-ticks"},L)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,l=a.width,u=a.height,d=a.ticksGenerator,f=a.className,g=a.hide;if(g)return null;var m=this.props,v=m.ticks,w=Hj(m,hoe),P=v;return mr(d)&&(P=v&&v.length>0?d(this.props):d(w)),l<=0||u<=0||!P||!P.length?null:se.createElement(Ms,{className:qt("recharts-cartesian-axis",f),ref:function(N){n.layerReference=N}},i&&this.renderAxisLine(),this.renderTicks(P,this.state.fontSize,this.state.letterSpacing),wi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var l,u=qt(a.className,"recharts-cartesian-axis-tick-value");return se.isValidElement(n)?l=se.cloneElement(n,ys(ys({},a),{},{className:u})):mr(n)?l=n(ys(ys({},a),{},{className:u})):l=se.createElement(Ab,Eh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})(y.Component);FA(Sg,"displayName","CartesianAxis");FA(Sg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var joe=["x1","y1","x2","y2","key"],_oe=["offset"];function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){Coe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Coe(e,t,r){return t=Poe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Poe(e){var t=Aoe(e,"string");return nm(t)=="symbol"?t:t+""}function Aoe(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wp.apply(this,arguments)}function nD(e,t){if(e==null)return{};var r=koe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function koe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Eoe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,l=t.width,u=t.height,d=t.ry;return se.createElement("rect",{x:a,y:i,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function o9(e,t){var r;if(se.isValidElement(e))r=se.cloneElement(e,t);else if(mr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,l=t.y2,u=t.key,d=nD(t,joe),f=Wr(d,!1);f.offset;var g=nD(f,_oe);r=se.createElement("line",Wp({},g,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:u}))}return r}function Ooe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var l=i.map(function(u,d){var f=Si(Si({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return o9(a,f)});return se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Roe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var l=i.map(function(u,d){var f=Si(Si({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return o9(a,f)});return se.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Toe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var g=u.map(function(v){return Math.round(v+a-a)}).sort(function(v,w){return v-w});a!==g[0]&&g.unshift(0);var m=g.map(function(v,w){var P=!g[w+1],_=P?a+l-v:g[w+1]-v;if(_<=0)return null;var N=w%t.length;return se.createElement("rect",{key:"react-".concat(w),y:v,x:n,height:_,width:i,stroke:"none",fill:t[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Ioe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var g=f.map(function(v){return Math.round(v+i-i)}).sort(function(v,w){return v-w});i!==g[0]&&g.unshift(0);var m=g.map(function(v,w){var P=!g[w+1],_=P?i+u-v:g[w+1]-v;if(_<=0)return null;var N=w%n.length;return se.createElement("rect",{key:"react-".concat(w),x:v,y:l,width:_,height:d,stroke:"none",fill:n[N],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Moe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,l=t.offset;return x3($A(Si(Si(Si({},Sg.defaultProps),n),{},{ticks:vd(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),l.left,l.left+l.width,r)},Doe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,l=t.offset;return x3($A(Si(Si(Si({},Sg.defaultProps),n),{},{ticks:vd(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),l.top,l.top+l.height,r)},Nh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function l9(e){var t,r,n,a,i,l,u=IA(),d=MA(),f=Nie(),g=Si(Si({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Nh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Nh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Nh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Nh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Nh.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Nh.verticalFill,x:ut(e.x)?e.x:f.left,y:ut(e.y)?e.y:f.top,width:ut(e.width)?e.width:f.width,height:ut(e.height)?e.height:f.height}),m=g.x,v=g.y,w=g.width,P=g.height,_=g.syncWithTicks,N=g.horizontalValues,E=g.verticalValues,D=xie(),L=wie();if(!ut(w)||w<=0||!ut(P)||P<=0||!ut(m)||m!==+m||!ut(v)||v!==+v)return null;var $=g.verticalCoordinatesGenerator||Moe,R=g.horizontalCoordinatesGenerator||Doe,M=g.horizontalPoints,F=g.verticalPoints;if((!M||!M.length)&&mr(R)){var V=N&&N.length,Y=R({yAxis:L?Si(Si({},L),{},{ticks:V?N:L.ticks}):void 0,width:u,height:d,offset:f},V?!0:_);wd(Array.isArray(Y),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nm(Y),"]")),Array.isArray(Y)&&(M=Y)}if((!F||!F.length)&&mr($)){var ue=E&&E.length,te=$({xAxis:D?Si(Si({},D),{},{ticks:ue?E:D.ticks}):void 0,width:u,height:d,offset:f},ue?!0:_);wd(Array.isArray(te),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nm(te),"]")),Array.isArray(te)&&(F=te)}return se.createElement("g",{className:"recharts-cartesian-grid"},se.createElement(Eoe,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),se.createElement(Ooe,Wp({},g,{offset:f,horizontalPoints:M,xAxis:D,yAxis:L})),se.createElement(Roe,Wp({},g,{offset:f,verticalPoints:F,xAxis:D,yAxis:L})),se.createElement(Toe,Wp({},g,{horizontalPoints:M})),se.createElement(Ioe,Wp({},g,{verticalPoints:F})))}l9.displayName="CartesianGrid";function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function Loe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d9(n.key),n)}}function Foe(e,t,r){return t&&$oe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Boe(e,t,r){return t=ox(t),qoe(e,c9()?Reflect.construct(t,r||[],ox(e).constructor):t.apply(e,r))}function qoe(e,t){if(t&&(lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uoe(e)}function Uoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c9=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ox(e)}function zoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OC(e,t)}function OC(e,t){return OC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OC(e,t)}function u9(e,t,r){return t=d9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9(e){var t=Woe(e,"string");return lg(t)=="symbol"?t:t+""}function Woe(e,t){if(lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RC.apply(this,arguments)}function Hoe(e){var t=e.xAxisId,r=IA(),n=MA(),a=X3(t);return a==null?null:y.createElement(Sg,RC({},a,{className:qt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return vd(l,!0)}}))}var nw=(function(e){function t(){return Loe(this,t),Boe(this,t,arguments)}return zoe(t,e),Foe(t,[{key:"render",value:function(){return y.createElement(Hoe,this.props)}}])})(y.Component);u9(nw,"displayName","XAxis");u9(nw,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function Voe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Goe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m9(n.key),n)}}function Koe(e,t,r){return t&&Goe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yoe(e,t,r){return t=lx(t),Xoe(e,f9()?Reflect.construct(t,r||[],lx(e).constructor):t.apply(e,r))}function Xoe(e,t){if(t&&(cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qoe(e)}function Qoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!e})()}function lx(e){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lx(e)}function Zoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TC(e,t)}function TC(e,t){return TC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TC(e,t)}function p9(e,t,r){return t=m9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m9(e){var t=Joe(e,"string");return cg(t)=="symbol"?t:t+""}function Joe(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IC(){return IC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IC.apply(this,arguments)}var ele=function(t){var r=t.yAxisId,n=IA(),a=MA(),i=Q3(r);return i==null?null:y.createElement(Sg,IC({},i,{className:qt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(u){return vd(u,!0)}}))},aw=(function(e){function t(){return Voe(this,t),Yoe(this,t,arguments)}return Zoe(t,e),Koe(t,[{key:"render",value:function(){return y.createElement(ele,this.props)}}])})(y.Component);p9(aw,"displayName","YAxis");p9(aw,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function aD(e){return ale(e)||nle(e)||rle(e)||tle()}function tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rle(e,t){if(e){if(typeof e=="string")return MC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MC(e,t)}}function nle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ale(e){if(Array.isArray(e))return MC(e)}function MC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var DC=function(t,r,n,a,i){var l=hc(t,LA),u=hc(t,ew),d=[].concat(aD(l),aD(u)),f=hc(t,rw),g="".concat(a,"Id"),m=a[0],v=r;if(d.length&&(v=d.reduce(function(_,N){if(N.props[g]===n&&bu(N.props,"extendDomain")&&ut(N.props[m])){var E=N.props[m];return[Math.min(_[0],E),Math.max(_[1],E)]}return _},v)),f.length){var w="".concat(m,"1"),P="".concat(m,"2");v=f.reduce(function(_,N){if(N.props[g]===n&&bu(N.props,"extendDomain")&&ut(N.props[w])&&ut(N.props[P])){var E=N.props[w],D=N.props[P];return[Math.min(_[0],E,D),Math.max(_[1],E,D)]}return _},v)}return i&&i.length&&(v=i.reduce(function(_,N){return ut(N)?[Math.min(_[0],N),Math.max(_[1],N)]:_},v)),v},Vj={exports:{}},sD;function sle(){return sD||(sD=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,g){this.fn=d,this.context=f,this.once=g||!1}function i(d,f,g,m,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var w=new a(g,m||d,v),P=r?r+f:f;return d._events[P]?d._events[P].fn?d._events[P]=[d._events[P],w]:d._events[P].push(w):(d._events[P]=w,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],g,m;if(this._eventsCount===0)return f;for(m in g=this._events)t.call(g,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},u.prototype.listeners=function(f){var g=r?r+f:f,m=this._events[g];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,w=m.length,P=new Array(w);v<w;v++)P[v]=m[v].fn;return P},u.prototype.listenerCount=function(f){var g=r?r+f:f,m=this._events[g];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,g,m,v,w,P){var _=r?r+f:f;if(!this._events[_])return!1;var N=this._events[_],E=arguments.length,D,L;if(N.fn){switch(N.once&&this.removeListener(f,N.fn,void 0,!0),E){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,g),!0;case 3:return N.fn.call(N.context,g,m),!0;case 4:return N.fn.call(N.context,g,m,v),!0;case 5:return N.fn.call(N.context,g,m,v,w),!0;case 6:return N.fn.call(N.context,g,m,v,w,P),!0}for(L=1,D=new Array(E-1);L<E;L++)D[L-1]=arguments[L];N.fn.apply(N.context,D)}else{var $=N.length,R;for(L=0;L<$;L++)switch(N[L].once&&this.removeListener(f,N[L].fn,void 0,!0),E){case 1:N[L].fn.call(N[L].context);break;case 2:N[L].fn.call(N[L].context,g);break;case 3:N[L].fn.call(N[L].context,g,m);break;case 4:N[L].fn.call(N[L].context,g,m,v);break;default:if(!D)for(R=1,D=new Array(E-1);R<E;R++)D[R-1]=arguments[R];N[L].fn.apply(N[L].context,D)}}return!0},u.prototype.on=function(f,g,m){return i(this,f,g,m,!1)},u.prototype.once=function(f,g,m){return i(this,f,g,m,!0)},u.prototype.removeListener=function(f,g,m,v){var w=r?r+f:f;if(!this._events[w])return this;if(!g)return l(this,w),this;var P=this._events[w];if(P.fn)P.fn===g&&(!v||P.once)&&(!m||P.context===m)&&l(this,w);else{for(var _=0,N=[],E=P.length;_<E;_++)(P[_].fn!==g||v&&!P[_].once||m&&P[_].context!==m)&&N.push(P[_]);N.length?this._events[w]=N.length===1?N[0]:N:l(this,w)}return this},u.prototype.removeAllListeners=function(f){var g;return f?(g=r?r+f:f,this._events[g]&&l(this,g)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Vj)),Vj.exports}var ile=sle();const ole=jn(ile);var Gj=new ole,Kj="recharts.syncMouseEvents";function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function lle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h9(n.key),n)}}function ule(e,t,r){return t&&cle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yj(e,t,r){return t=h9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h9(e){var t=dle(e,"string");return _v(t)=="symbol"?t:t+""}function dle(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fle=(function(){function e(){lle(this,e),Yj(this,"activeIndex",0),Yj(this,"coordinateList",[]),Yj(this,"layout","horizontal")}return ule(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,g=r.offset,m=g===void 0?null:g,v=r.mouseHandlerCallback,w=v===void 0?null:v;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=w??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,l=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,g=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+d+f,v=l+this.offset.top+u/2+g;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function ple(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&ut(n)&&ut(a))return!0}return!1}function mle(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function g9(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,l=ai(t,r,n,a),u=ai(t,r,n,i);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function hle(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,g=t.outerRadius,m=t.angle,v=ai(u,d,f,m),w=ai(u,d,g,m);n=v.x,a=v.y,i=w.x,l=w.y}else return g9(t);return[{x:n,y:a},{x:i,y:l}]}function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(n){gle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gle(e,t,r){return t=yle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yle(e){var t=vle(e,"string");return Cv(t)=="symbol"?t:t+""}function vle(e,t){if(Cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ble(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,g=e.tooltipAxisBandSize,m=e.layout,v=e.chartName,w=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!w||!i||!l||v!=="ScatterChart"&&a!=="axis")return null;var P,_=LI;if(v==="ScatterChart")P=l,_=Eae;else if(v==="BarChart")P=mle(m,l,d,g),_=EA;else if(m==="radial"){var N=g9(l),E=N.cx,D=N.cy,L=N.radius,$=N.startAngle,R=N.endAngle;P={cx:E,cy:D,startAngle:$,endAngle:R,innerRadius:L,outerRadius:L},_=_3}else P={points:hle(m,l,d)},_=LI;var M=W0(W0(W0(W0({stroke:"#ccc",pointerEvents:"none"},d),P),Wr(w,!1)),{},{payload:u,payloadIndex:f,className:qt("recharts-tooltip-cursor",w.className)});return y.isValidElement(w)?y.cloneElement(w,M):y.createElement(_,M)}var xle=["item"],wle=["children","className","width","height","style","compact","title","desc"];function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(this,arguments)}function oD(e,t){return jle(e)||Nle(e,t)||v9(e,t)||Sle()}function Sle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(g){f=!0,a=g}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return u}}function jle(e){if(Array.isArray(e))return e}function lD(e,t){if(e==null)return{};var r=_le(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _le(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ple(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b9(n.key),n)}}function Ale(e,t,r){return t&&Ple(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kle(e,t,r){return t=cx(t),Ele(e,y9()?Reflect.construct(t,r||[],cx(e).constructor):t.apply(e,r))}function Ele(e,t){if(t&&(ug(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ole(e)}function Ole(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y9=function(){return!!e})()}function cx(e){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cx(e)}function Rle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LC(e,t)}function LC(e,t){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LC(e,t)}function dg(e){return Mle(e)||Ile(e)||v9(e)||Tle()}function Tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v9(e,t){if(e){if(typeof e=="string")return $C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $C(e,t)}}function Ile(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mle(e){if(Array.isArray(e))return $C(e)}function $C(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(n){Ht(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ht(e,t,r){return t=b9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b9(e){var t=Dle(e,"string");return ug(t)=="symbol"?t:t+""}function Dle(e,t){if(ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lle={xAxis:["bottom","top"],yAxis:["left","right"]},$le={width:"100%",height:"100%"},x9={x:0,y:0};function H0(e){return e}var Fle=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Ble=function(t,r,n,a){var i=r.find(function(g){return g&&g.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,u=a.radius;return De(De(De({},a),ai(a.cx,a.cy,u,l)),{},{angle:l,radius:u})}var d=i.coordinate,f=a.angle;return De(De(De({},a),ai(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return x9},sw=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(dg(u),dg(f)):u},[]);return l.length>0?l:t&&t.length&&ut(a)&&ut(i)?t.slice(a,i+1):[]};function w9(e){return e==="number"?[0,"auto"]:void 0}var FC=function(t,r,n,a){var i=t.graphicalItems,l=t.tooltipAxis,u=sw(r,t);return n<0||!i||!i.length||n>=u.length?null:i.reduce(function(d,f){var g,m=(g=f.props.data)!==null&&g!==void 0?g:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var v;if(l.dataKey&&!l.allowDuplicatedCategory){var w=m===void 0?u:m;v=__(w,l.dataKey,a)}else v=m&&m[n]||u[n];return v?[].concat(dg(d),[S3(f,v)]):d},[])},uD=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},l=Fle(i,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,g=fte(l,u,f,d);if(g>=0&&f){var m=f[g]&&f[g].value,v=FC(t,r,g,m),w=Ble(n,u,g,i);return{activeTooltipIndex:g,activeLabel:m,activePayload:v,activeCoordinate:w}}return null},qle=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,g=t.layout,m=t.children,v=t.stackOffset,w=b3(g,i);return n.reduce(function(P,_){var N,E=_.type.defaultProps!==void 0?De(De({},_.type.defaultProps),_.props):_.props,D=E.type,L=E.dataKey,$=E.allowDataOverflow,R=E.allowDuplicatedCategory,M=E.scale,F=E.ticks,V=E.includeHidden,Y=E[l];if(P[Y])return P;var ue=sw(t.data,{graphicalItems:a.filter(function(pe){var re,xe=l in pe.props?pe.props[l]:(re=pe.type.defaultProps)===null||re===void 0?void 0:re[l];return xe===Y}),dataStartIndex:d,dataEndIndex:f}),te=ue.length,le,fe,me;ple(E.domain,$,D)&&(le=sC(E.domain,null,$),w&&(D==="number"||M!=="auto")&&(me=My(ue,L,"category")));var ie=w9(D);if(!le||le.length===0){var J,ne=(J=E.domain)!==null&&J!==void 0?J:ie;if(L){if(le=My(ue,L,D),D==="category"&&w){var G=nG(le);R&&G?(fe=le,le=Qb(0,te)):R||(le=NI(ne,le,_).reduce(function(pe,re){return pe.indexOf(re)>=0?pe:[].concat(dg(pe),[re])},[]))}else if(D==="category")R?le=le.filter(function(pe){return pe!==""&&!Hr(pe)}):le=NI(ne,le,_).reduce(function(pe,re){return pe.indexOf(re)>=0||re===""||Hr(re)?pe:[].concat(dg(pe),[re])},[]);else if(D==="number"){var ve=yte(ue,a.filter(function(pe){var re,xe,Re=l in pe.props?pe.props[l]:(re=pe.type.defaultProps)===null||re===void 0?void 0:re[l],Le="hide"in pe.props?pe.props.hide:(xe=pe.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Re===Y&&(V||!Le)}),L,i,g);ve&&(le=ve)}w&&(D==="number"||M!=="auto")&&(me=My(ue,L,"category"))}else w?le=Qb(0,te):u&&u[Y]&&u[Y].hasStack&&D==="number"?le=v==="expand"?[0,1]:w3(u[Y].stackGroups,d,f):le=v3(ue,a.filter(function(pe){var re=l in pe.props?pe.props[l]:pe.type.defaultProps[l],xe="hide"in pe.props?pe.props.hide:pe.type.defaultProps.hide;return re===Y&&(V||!xe)}),D,g,!0);if(D==="number")le=DC(m,le,Y,i,F),ne&&(le=sC(ne,le,$));else if(D==="category"&&ne){var Se=ne,X=le.every(function(pe){return Se.indexOf(pe)>=0});X&&(le=Se)}}return De(De({},P),{},Ht({},Y,De(De({},E),{},{axisType:i,domain:le,categoricalDomain:me,duplicateDomain:fe,originalDomain:(N=E.domain)!==null&&N!==void 0?N:ie,isCategorical:w,layout:g})))},{})},Ule=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,g=t.layout,m=t.children,v=sw(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),w=v.length,P=b3(g,i),_=-1;return n.reduce(function(N,E){var D=E.type.defaultProps!==void 0?De(De({},E.type.defaultProps),E.props):E.props,L=D[l],$=w9("number");if(!N[L]){_++;var R;return P?R=Qb(0,w):u&&u[L]&&u[L].hasStack?(R=w3(u[L].stackGroups,d,f),R=DC(m,R,L,i)):(R=sC($,v3(v,n.filter(function(M){var F,V,Y=l in M.props?M.props[l]:(F=M.type.defaultProps)===null||F===void 0?void 0:F[l],ue="hide"in M.props?M.props.hide:(V=M.type.defaultProps)===null||V===void 0?void 0:V.hide;return Y===L&&!ue}),"number",g),a.defaultProps.allowDataOverflow),R=DC(m,R,L,i)),De(De({},N),{},Ht({},L,De(De({axisType:i},a.defaultProps),{},{hide:!0,orientation:Pl(Lle,"".concat(i,".").concat(_%2),null),domain:R,originalDomain:$,isCategorical:P,layout:g})))}return N},{})},zle=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,g=t.children,m="".concat(a,"Id"),v=hc(g,i),w={};return v&&v.length?w=qle(t,{axes:v,graphicalItems:l,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(w=Ule(t,{Axis:i,graphicalItems:l,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),w},Wle=function(t){var r=Pf(t),n=vd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:rA(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ub(r,n)}},dD=function(t){var r=t.children,n=t.defaultShowTooltip,a=Uo(r,rg),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(l=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},Hle=function(t){return!t||!t.length?!1:t.some(function(r){var n=xd(r&&r.type);return n&&n.indexOf("Bar")>=0})},fD=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Vle=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,u=t.yAxisMap,d=u===void 0?{}:u,f=n.width,g=n.height,m=n.children,v=n.margin||{},w=Uo(m,rg),P=Uo(m,Mh),_=Object.keys(d).reduce(function(R,M){var F=d[M],V=F.orientation;return!F.mirror&&!F.hide?De(De({},R),{},Ht({},V,R[V]+F.width)):R},{left:v.left||0,right:v.right||0}),N=Object.keys(l).reduce(function(R,M){var F=l[M],V=F.orientation;return!F.mirror&&!F.hide?De(De({},R),{},Ht({},V,Pl(R,"".concat(V))+F.height)):R},{top:v.top||0,bottom:v.bottom||0}),E=De(De({},N),_),D=E.bottom;w&&(E.bottom+=w.props.height||rg.defaultProps.height),P&&r&&(E=hte(E,a,n,r));var L=f-E.left-E.right,$=g-E.top-E.bottom;return De(De({brushBottom:D},E),{},{width:Math.max(L,0),height:Math.max($,0)})},Gle=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Kle=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,g=t.formatAxisMap,m=t.defaultProps,v=function(E,D){var L=D.graphicalItems,$=D.stackGroups,R=D.offset,M=D.updateId,F=D.dataStartIndex,V=D.dataEndIndex,Y=E.barSize,ue=E.layout,te=E.barGap,le=E.barCategoryGap,fe=E.maxBarSize,me=fD(ue),ie=me.numericAxisName,J=me.cateAxisName,ne=Hle(L),G=[];return L.forEach(function(ve,Se){var X=sw(E.data,{graphicalItems:[ve],dataStartIndex:F,dataEndIndex:V}),pe=ve.type.defaultProps!==void 0?De(De({},ve.type.defaultProps),ve.props):ve.props,re=pe.dataKey,xe=pe.maxBarSize,Re=pe["".concat(ie,"Id")],Le=pe["".concat(J,"Id")],Ke={},Ve=d.reduce(function(Tt,ht){var gt=D["".concat(ht.axisType,"Map")],Nr=pe["".concat(ht.axisType,"Id")];gt&&gt[Nr]||ht.axisType==="zAxis"||rm();var Jt=gt[Nr];return De(De({},Tt),{},Ht(Ht({},ht.axisType,Jt),"".concat(ht.axisType,"Ticks"),vd(Jt)))},Ke),Te=Ve[J],st=Ve["".concat(J,"Ticks")],lt=$&&$[Re]&&$[Re].hasStack&&kte(ve,$[Re].stackGroups),Me=xd(ve.type).indexOf("Bar")>=0,Rt=Ub(Te,st),At=[],Vt=ne&&pte({barSize:Y,stackGroups:$,totalSize:Gle(Ve,J)});if(Me){var tr,Nt,et=Hr(xe)?fe:xe,Ie=(tr=(Nt=Ub(Te,st,!0))!==null&&Nt!==void 0?Nt:et)!==null&&tr!==void 0?tr:0;At=mte({barGap:te,barCategoryGap:le,bandSize:Ie!==Rt?Ie:Rt,sizeList:Vt[Le],maxBarSize:et}),Ie!==Rt&&(At=At.map(function(Tt){return De(De({},Tt),{},{position:De(De({},Tt.position),{},{offset:Tt.position.offset-Ie/2})})}))}var mt=ve&&ve.type&&ve.type.getComposedData;mt&&G.push({props:De(De({},mt(De(De({},Ve),{},{displayedData:X,props:E,dataKey:re,item:ve,bandSize:Rt,barPosition:At,offset:R,stackedData:lt,layout:ue,dataStartIndex:F,dataEndIndex:V}))),{},Ht(Ht(Ht({key:ve.key||"item-".concat(Se)},ie,Ve[ie]),J,Ve[J]),"animationId",M)),childIndex:hG(ve,E.children),item:ve})}),G},w=function(E,D){var L=E.props,$=E.dataStartIndex,R=E.dataEndIndex,M=E.updateId;if(!$E({props:L}))return null;var F=L.children,V=L.layout,Y=L.stackOffset,ue=L.data,te=L.reverseStackOrder,le=fD(V),fe=le.numericAxisName,me=le.cateAxisName,ie=hc(F,n),J=Cte(ue,ie,"".concat(fe,"Id"),"".concat(me,"Id"),Y,te),ne=d.reduce(function(pe,re){var xe="".concat(re.axisType,"Map");return De(De({},pe),{},Ht({},xe,zle(L,De(De({},re),{},{graphicalItems:ie,stackGroups:re.axisType===fe&&J,dataStartIndex:$,dataEndIndex:R}))))},{}),G=Vle(De(De({},ne),{},{props:L,graphicalItems:ie}),D?.legendBBox);Object.keys(ne).forEach(function(pe){ne[pe]=g(L,ne[pe],G,pe.replace("Map",""),r)});var ve=ne["".concat(me,"Map")],Se=Wle(ve),X=v(L,De(De({},ne),{},{dataStartIndex:$,dataEndIndex:R,updateId:M,graphicalItems:ie,stackGroups:J,offset:G}));return De(De({formattedGraphicalItems:X,graphicalItems:ie,offset:G,stackGroups:J},Se),ne)},P=(function(N){function E(D){var L,$,R;return Cle(this,E),R=kle(this,E,[D]),Ht(R,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ht(R,"accessibilityManager",new fle),Ht(R,"handleLegendBBoxUpdate",function(M){if(M){var F=R.state,V=F.dataStartIndex,Y=F.dataEndIndex,ue=F.updateId;R.setState(De({legendBBox:M},w({props:R.props,dataStartIndex:V,dataEndIndex:Y,updateId:ue},De(De({},R.state),{},{legendBBox:M}))))}}),Ht(R,"handleReceiveSyncEvent",function(M,F,V){if(R.props.syncId===M){if(V===R.eventEmitterSymbol&&typeof R.props.syncMethod!="function")return;R.applySyncEvent(F)}}),Ht(R,"handleBrushChange",function(M){var F=M.startIndex,V=M.endIndex;if(F!==R.state.dataStartIndex||V!==R.state.dataEndIndex){var Y=R.state.updateId;R.setState(function(){return De({dataStartIndex:F,dataEndIndex:V},w({props:R.props,dataStartIndex:F,dataEndIndex:V,updateId:Y},R.state))}),R.triggerSyncEvent({dataStartIndex:F,dataEndIndex:V})}}),Ht(R,"handleMouseEnter",function(M){var F=R.getMouseInfo(M);if(F){var V=De(De({},F),{},{isTooltipActive:!0});R.setState(V),R.triggerSyncEvent(V);var Y=R.props.onMouseEnter;mr(Y)&&Y(V,M)}}),Ht(R,"triggeredAfterMouseMove",function(M){var F=R.getMouseInfo(M),V=F?De(De({},F),{},{isTooltipActive:!0}):{isTooltipActive:!1};R.setState(V),R.triggerSyncEvent(V);var Y=R.props.onMouseMove;mr(Y)&&Y(V,M)}),Ht(R,"handleItemMouseEnter",function(M){R.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),Ht(R,"handleItemMouseLeave",function(){R.setState(function(){return{isTooltipActive:!1}})}),Ht(R,"handleMouseMove",function(M){M.persist(),R.throttleTriggeredAfterMouseMove(M)}),Ht(R,"handleMouseLeave",function(M){R.throttleTriggeredAfterMouseMove.cancel();var F={isTooltipActive:!1};R.setState(F),R.triggerSyncEvent(F);var V=R.props.onMouseLeave;mr(V)&&V(F,M)}),Ht(R,"handleOuterEvent",function(M){var F=mG(M),V=Pl(R.props,"".concat(F));if(F&&mr(V)){var Y,ue;/.*touch.*/i.test(F)?ue=R.getMouseInfo(M.changedTouches[0]):ue=R.getMouseInfo(M),V((Y=ue)!==null&&Y!==void 0?Y:{},M)}}),Ht(R,"handleClick",function(M){var F=R.getMouseInfo(M);if(F){var V=De(De({},F),{},{isTooltipActive:!0});R.setState(V),R.triggerSyncEvent(V);var Y=R.props.onClick;mr(Y)&&Y(V,M)}}),Ht(R,"handleMouseDown",function(M){var F=R.props.onMouseDown;if(mr(F)){var V=R.getMouseInfo(M);F(V,M)}}),Ht(R,"handleMouseUp",function(M){var F=R.props.onMouseUp;if(mr(F)){var V=R.getMouseInfo(M);F(V,M)}}),Ht(R,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&R.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),Ht(R,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&R.handleMouseDown(M.changedTouches[0])}),Ht(R,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&R.handleMouseUp(M.changedTouches[0])}),Ht(R,"handleDoubleClick",function(M){var F=R.props.onDoubleClick;if(mr(F)){var V=R.getMouseInfo(M);F(V,M)}}),Ht(R,"handleContextMenu",function(M){var F=R.props.onContextMenu;if(mr(F)){var V=R.getMouseInfo(M);F(V,M)}}),Ht(R,"triggerSyncEvent",function(M){R.props.syncId!==void 0&&Gj.emit(Kj,R.props.syncId,M,R.eventEmitterSymbol)}),Ht(R,"applySyncEvent",function(M){var F=R.props,V=F.layout,Y=F.syncMethod,ue=R.state.updateId,te=M.dataStartIndex,le=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)R.setState(De({dataStartIndex:te,dataEndIndex:le},w({props:R.props,dataStartIndex:te,dataEndIndex:le,updateId:ue},R.state)));else if(M.activeTooltipIndex!==void 0){var fe=M.chartX,me=M.chartY,ie=M.activeTooltipIndex,J=R.state,ne=J.offset,G=J.tooltipTicks;if(!ne)return;if(typeof Y=="function")ie=Y(G,M);else if(Y==="value"){ie=-1;for(var ve=0;ve<G.length;ve++)if(G[ve].value===M.activeLabel){ie=ve;break}}var Se=De(De({},ne),{},{x:ne.left,y:ne.top}),X=Math.min(fe,Se.x+Se.width),pe=Math.min(me,Se.y+Se.height),re=G[ie]&&G[ie].value,xe=FC(R.state,R.props.data,ie),Re=G[ie]?{x:V==="horizontal"?G[ie].coordinate:X,y:V==="horizontal"?pe:G[ie].coordinate}:x9;R.setState(De(De({},M),{},{activeLabel:re,activeCoordinate:Re,activePayload:xe,activeTooltipIndex:ie}))}else R.setState(M)}),Ht(R,"renderCursor",function(M){var F,V=R.state,Y=V.isTooltipActive,ue=V.activeCoordinate,te=V.activePayload,le=V.offset,fe=V.activeTooltipIndex,me=V.tooltipAxisBandSize,ie=R.getTooltipEventType(),J=(F=M.props.active)!==null&&F!==void 0?F:Y,ne=R.props.layout,G=M.key||"_recharts-cursor";return se.createElement(ble,{key:G,activeCoordinate:ue,activePayload:te,activeTooltipIndex:fe,chartName:r,element:M,isActive:J,layout:ne,offset:le,tooltipAxisBandSize:me,tooltipEventType:ie})}),Ht(R,"renderPolarAxis",function(M,F,V){var Y=Pl(M,"type.axisType"),ue=Pl(R.state,"".concat(Y,"Map")),te=M.type.defaultProps,le=te!==void 0?De(De({},te),M.props):M.props,fe=ue&&ue[le["".concat(Y,"Id")]];return y.cloneElement(M,De(De({},fe),{},{className:qt(Y,fe.className),key:M.key||"".concat(F,"-").concat(V),ticks:vd(fe,!0)}))}),Ht(R,"renderPolarGrid",function(M){var F=M.props,V=F.radialLines,Y=F.polarAngles,ue=F.polarRadius,te=R.state,le=te.radiusAxisMap,fe=te.angleAxisMap,me=Pf(le),ie=Pf(fe),J=ie.cx,ne=ie.cy,G=ie.innerRadius,ve=ie.outerRadius;return y.cloneElement(M,{polarAngles:Array.isArray(Y)?Y:vd(ie,!0).map(function(Se){return Se.coordinate}),polarRadius:Array.isArray(ue)?ue:vd(me,!0).map(function(Se){return Se.coordinate}),cx:J,cy:ne,innerRadius:G,outerRadius:ve,key:M.key||"polar-grid",radialLines:V})}),Ht(R,"renderLegend",function(){var M=R.state.formattedGraphicalItems,F=R.props,V=F.children,Y=F.width,ue=F.height,te=R.props.margin||{},le=Y-(te.left||0)-(te.right||0),fe=g3({children:V,formattedGraphicalItems:M,legendWidth:le,legendContent:f});if(!fe)return null;var me=fe.item,ie=lD(fe,xle);return y.cloneElement(me,De(De({},ie),{},{chartWidth:Y,chartHeight:ue,margin:te,onBBoxUpdate:R.handleLegendBBoxUpdate}))}),Ht(R,"renderTooltip",function(){var M,F=R.props,V=F.children,Y=F.accessibilityLayer,ue=Uo(V,iu);if(!ue)return null;var te=R.state,le=te.isTooltipActive,fe=te.activeCoordinate,me=te.activePayload,ie=te.activeLabel,J=te.offset,ne=(M=ue.props.active)!==null&&M!==void 0?M:le;return y.cloneElement(ue,{viewBox:De(De({},J),{},{x:J.left,y:J.top}),active:ne,label:ie,payload:ne?me:[],coordinate:fe,accessibilityLayer:Y})}),Ht(R,"renderBrush",function(M){var F=R.props,V=F.margin,Y=F.data,ue=R.state,te=ue.offset,le=ue.dataStartIndex,fe=ue.dataEndIndex,me=ue.updateId;return y.cloneElement(M,{key:M.key||"_recharts-brush",onChange:B0(R.handleBrushChange,M.props.onChange),data:Y,x:ut(M.props.x)?M.props.x:te.left,y:ut(M.props.y)?M.props.y:te.top+te.height+te.brushBottom-(V.bottom||0),width:ut(M.props.width)?M.props.width:te.width,startIndex:le,endIndex:fe,updateId:"brush-".concat(me)})}),Ht(R,"renderReferenceElement",function(M,F,V){if(!M)return null;var Y=R,ue=Y.clipPathId,te=R.state,le=te.xAxisMap,fe=te.yAxisMap,me=te.offset,ie=M.type.defaultProps||{},J=M.props,ne=J.xAxisId,G=ne===void 0?ie.xAxisId:ne,ve=J.yAxisId,Se=ve===void 0?ie.yAxisId:ve;return y.cloneElement(M,{key:M.key||"".concat(F,"-").concat(V),xAxis:le[G],yAxis:fe[Se],viewBox:{x:me.left,y:me.top,width:me.width,height:me.height},clipPathId:ue})}),Ht(R,"renderActivePoints",function(M){var F=M.item,V=M.activePoint,Y=M.basePoint,ue=M.childIndex,te=M.isRange,le=[],fe=F.props.key,me=F.item.type.defaultProps!==void 0?De(De({},F.item.type.defaultProps),F.item.props):F.item.props,ie=me.activeDot,J=me.dataKey,ne=De(De({index:ue,dataKey:J,cx:V.x,cy:V.y,r:4,fill:kA(F.item),strokeWidth:2,stroke:"#fff",payload:V.payload,value:V.value},Wr(ie,!1)),gb(ie));return le.push(E.renderActiveDot(ie,ne,"".concat(fe,"-activePoint-").concat(ue))),Y?le.push(E.renderActiveDot(ie,De(De({},ne),{},{cx:Y.x,cy:Y.y}),"".concat(fe,"-basePoint-").concat(ue))):te&&le.push(null),le}),Ht(R,"renderGraphicChild",function(M,F,V){var Y=R.filterFormatItem(M,F,V);if(!Y)return null;var ue=R.getTooltipEventType(),te=R.state,le=te.isTooltipActive,fe=te.tooltipAxis,me=te.activeTooltipIndex,ie=te.activeLabel,J=R.props.children,ne=Uo(J,iu),G=Y.props,ve=G.points,Se=G.isRange,X=G.baseLine,pe=Y.item.type.defaultProps!==void 0?De(De({},Y.item.type.defaultProps),Y.item.props):Y.item.props,re=pe.activeDot,xe=pe.hide,Re=pe.activeBar,Le=pe.activeShape,Ke=!!(!xe&&le&&ne&&(re||Re||Le)),Ve={};ue!=="axis"&&ne&&ne.props.trigger==="click"?Ve={onClick:B0(R.handleItemMouseEnter,M.props.onClick)}:ue!=="axis"&&(Ve={onMouseLeave:B0(R.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:B0(R.handleItemMouseEnter,M.props.onMouseEnter)});var Te=y.cloneElement(M,De(De({},Y.props),Ve));function st(ht){return typeof fe.dataKey=="function"?fe.dataKey(ht.payload):null}if(Ke)if(me>=0){var lt,Me;if(fe.dataKey&&!fe.allowDuplicatedCategory){var Rt=typeof fe.dataKey=="function"?st:"payload.".concat(fe.dataKey.toString());lt=__(ve,Rt,ie),Me=Se&&X&&__(X,Rt,ie)}else lt=ve?.[me],Me=Se&&X&&X[me];if(Le||Re){var At=M.props.activeIndex!==void 0?M.props.activeIndex:me;return[y.cloneElement(M,De(De(De({},Y.props),Ve),{},{activeIndex:At})),null,null]}if(!Hr(lt))return[Te].concat(dg(R.renderActivePoints({item:Y,activePoint:lt,basePoint:Me,childIndex:me,isRange:Se})))}else{var Vt,tr=(Vt=R.getItemByXY(R.state.activeCoordinate))!==null&&Vt!==void 0?Vt:{graphicalItem:Te},Nt=tr.graphicalItem,et=Nt.item,Ie=et===void 0?M:et,mt=Nt.childIndex,Tt=De(De(De({},Y.props),Ve),{},{activeIndex:mt});return[y.cloneElement(Ie,Tt),null,null]}return Se?[Te,null,null]:[Te,null]}),Ht(R,"renderCustomized",function(M,F,V){return y.cloneElement(M,De(De({key:"recharts-customized-".concat(V)},R.props),R.state))}),Ht(R,"renderMap",{CartesianGrid:{handler:H0,once:!0},ReferenceArea:{handler:R.renderReferenceElement},ReferenceLine:{handler:H0},ReferenceDot:{handler:R.renderReferenceElement},XAxis:{handler:H0},YAxis:{handler:H0},Brush:{handler:R.renderBrush,once:!0},Bar:{handler:R.renderGraphicChild},Line:{handler:R.renderGraphicChild},Area:{handler:R.renderGraphicChild},Radar:{handler:R.renderGraphicChild},RadialBar:{handler:R.renderGraphicChild},Scatter:{handler:R.renderGraphicChild},Pie:{handler:R.renderGraphicChild},Funnel:{handler:R.renderGraphicChild},Tooltip:{handler:R.renderCursor,once:!0},PolarGrid:{handler:R.renderPolarGrid,once:!0},PolarAngleAxis:{handler:R.renderPolarAxis},PolarRadiusAxis:{handler:R.renderPolarAxis},Customized:{handler:R.renderCustomized}}),R.clipPathId="".concat((L=D.id)!==null&&L!==void 0?L:Ox("recharts"),"-clip"),R.throttleTriggeredAfterMouseMove=h$(R.triggeredAfterMouseMove,($=D.throttleDelay)!==null&&$!==void 0?$:1e3/60),R.state={},R}return Rle(E,N),Ale(E,[{key:"componentDidMount",value:function(){var L,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(L=this.props.margin.left)!==null&&L!==void 0?L:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var L=this.props,$=L.children,R=L.data,M=L.height,F=L.layout,V=Uo($,iu);if(V){var Y=V.props.defaultIndex;if(!(typeof Y!="number"||Y<0||Y>this.state.tooltipTicks.length-1)){var ue=this.state.tooltipTicks[Y]&&this.state.tooltipTicks[Y].value,te=FC(this.state,R,Y,ue),le=this.state.tooltipTicks[Y].coordinate,fe=(this.state.offset.top+M)/2,me=F==="horizontal",ie=me?{x:le,y:fe}:{y:le,x:fe},J=this.state.formattedGraphicalItems.find(function(G){var ve=G.item;return ve.type.name==="Scatter"});J&&(ie=De(De({},ie),J.props.points[Y].tooltipPosition),te=J.props.points[Y].tooltipPayload);var ne={activeTooltipIndex:Y,isTooltipActive:!0,activeLabel:ue,activePayload:te,activeCoordinate:ie};this.setState(ne),this.renderCursor(V),this.accessibilityManager.setIndex(Y)}}}},{key:"getSnapshotBeforeUpdate",value:function(L,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==L.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==L.margin){var R,M;this.accessibilityManager.setDetails({offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(L){P_([Uo(L.children,iu)],[Uo(this.props.children,iu)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var L=Uo(this.props.children,iu);if(L&&typeof L.props.shared=="boolean"){var $=L.props.shared?"axis":"item";return u.indexOf($)>=0?$:i}return i}},{key:"getMouseInfo",value:function(L){if(!this.container)return null;var $=this.container,R=$.getBoundingClientRect(),M=rQ(R),F={chartX:Math.round(L.pageX-M.left),chartY:Math.round(L.pageY-M.top)},V=R.width/$.offsetWidth||1,Y=this.inRange(F.chartX,F.chartY,V);if(!Y)return null;var ue=this.state,te=ue.xAxisMap,le=ue.yAxisMap,fe=this.getTooltipEventType(),me=uD(this.state,this.props.data,this.props.layout,Y);if(fe!=="axis"&&te&&le){var ie=Pf(te).scale,J=Pf(le).scale,ne=ie&&ie.invert?ie.invert(F.chartX):null,G=J&&J.invert?J.invert(F.chartY):null;return De(De({},F),{},{xValue:ne,yValue:G},me)}return me?De(De({},F),me):null}},{key:"inRange",value:function(L,$){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,F=L/R,V=$/R;if(M==="horizontal"||M==="vertical"){var Y=this.state.offset,ue=F>=Y.left&&F<=Y.left+Y.width&&V>=Y.top&&V<=Y.top+Y.height;return ue?{x:F,y:V}:null}var te=this.state,le=te.angleAxisMap,fe=te.radiusAxisMap;if(le&&fe){var me=Pf(le);return CI({x:F,y:V},me)}return null}},{key:"parseEventsOfWrapper",value:function(){var L=this.props.children,$=this.getTooltipEventType(),R=Uo(L,iu),M={};R&&$==="axis"&&(R.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var F=gb(this.props,this.handleOuterEvent);return De(De({},F),M)}},{key:"addListener",value:function(){Gj.on(Kj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gj.removeListener(Kj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(L,$,R){for(var M=this.state.formattedGraphicalItems,F=0,V=M.length;F<V;F++){var Y=M[F];if(Y.item===L||Y.props.key===L.key||$===xd(Y.item.type)&&R===Y.childIndex)return Y}return null}},{key:"renderClipPath",value:function(){var L=this.clipPathId,$=this.state.offset,R=$.left,M=$.top,F=$.height,V=$.width;return se.createElement("defs",null,se.createElement("clipPath",{id:L},se.createElement("rect",{x:R,y:M,height:F,width:V})))}},{key:"getXScales",value:function(){var L=this.state.xAxisMap;return L?Object.entries(L).reduce(function($,R){var M=oD(R,2),F=M[0],V=M[1];return De(De({},$),{},Ht({},F,V.scale))},{}):null}},{key:"getYScales",value:function(){var L=this.state.yAxisMap;return L?Object.entries(L).reduce(function($,R){var M=oD(R,2),F=M[0],V=M[1];return De(De({},$),{},Ht({},F,V.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(L){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[L])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(L){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[L])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(L){var $=this.state,R=$.formattedGraphicalItems,M=$.activeItem;if(R&&R.length)for(var F=0,V=R.length;F<V;F++){var Y=R[F],ue=Y.props,te=Y.item,le=te.type.defaultProps!==void 0?De(De({},te.type.defaultProps),te.props):te.props,fe=xd(te.type);if(fe==="Bar"){var me=(ue.data||[]).find(function(G){return xae(L,G)});if(me)return{graphicalItem:Y,payload:me}}else if(fe==="RadialBar"){var ie=(ue.data||[]).find(function(G){return CI(L,G)});if(ie)return{graphicalItem:Y,payload:ie}}else if(Xx(Y,M)||Qx(Y,M)||xv(Y,M)){var J=use({graphicalItem:Y,activeTooltipItem:M,itemData:le.data}),ne=le.activeIndex===void 0?J:le.activeIndex;return{graphicalItem:De(De({},Y),{},{childIndex:ne}),payload:xv(Y,M)?le.data[J]:Y.props.data[J]}}}return null}},{key:"render",value:function(){var L=this;if(!$E(this))return null;var $=this.props,R=$.children,M=$.className,F=$.width,V=$.height,Y=$.style,ue=$.compact,te=$.title,le=$.desc,fe=lD($,wle),me=Wr(fe,!1);if(ue)return se.createElement(HM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement(k_,Oh({},me,{width:F,height:V,title:te,desc:le}),this.renderClipPath(),BE(R,this.renderMap)));if(this.props.accessibilityLayer){var ie,J;me.tabIndex=(ie=this.props.tabIndex)!==null&&ie!==void 0?ie:0,me.role=(J=this.props.role)!==null&&J!==void 0?J:"application",me.onKeyDown=function(G){L.accessibilityManager.keyboardEvent(G)},me.onFocus=function(){L.accessibilityManager.focus()}}var ne=this.parseEventsOfWrapper();return se.createElement(HM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement("div",Oh({className:qt("recharts-wrapper",M),style:De({position:"relative",cursor:"default",width:F,height:V},Y)},ne,{ref:function(ve){L.container=ve}}),se.createElement(k_,Oh({},me,{width:F,height:V,title:te,desc:le,style:$le}),this.renderClipPath(),BE(R,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(y.Component);Ht(P,"displayName",r),Ht(P,"defaultProps",De({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ht(P,"getDerivedStateFromProps",function(N,E){var D=N.dataKey,L=N.data,$=N.children,R=N.width,M=N.height,F=N.layout,V=N.stackOffset,Y=N.margin,ue=E.dataStartIndex,te=E.dataEndIndex;if(E.updateId===void 0){var le=dD(N);return De(De(De({},le),{},{updateId:0},w(De(De({props:N},le),{},{updateId:0}),E)),{},{prevDataKey:D,prevData:L,prevWidth:R,prevHeight:M,prevLayout:F,prevStackOffset:V,prevMargin:Y,prevChildren:$})}if(D!==E.prevDataKey||L!==E.prevData||R!==E.prevWidth||M!==E.prevHeight||F!==E.prevLayout||V!==E.prevStackOffset||!Ih(Y,E.prevMargin)){var fe=dD(N),me={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},ie=De(De({},uD(E,L,F)),{},{updateId:E.updateId+1}),J=De(De(De({},fe),me),ie);return De(De(De({},J),w(De({props:N},J),E)),{},{prevDataKey:D,prevData:L,prevWidth:R,prevHeight:M,prevLayout:F,prevStackOffset:V,prevMargin:Y,prevChildren:$})}if(!P_($,E.prevChildren)){var ne,G,ve,Se,X=Uo($,rg),pe=X&&(ne=(G=X.props)===null||G===void 0?void 0:G.startIndex)!==null&&ne!==void 0?ne:ue,re=X&&(ve=(Se=X.props)===null||Se===void 0?void 0:Se.endIndex)!==null&&ve!==void 0?ve:te,xe=pe!==ue||re!==te,Re=!Hr(L),Le=Re&&!xe?E.updateId:E.updateId+1;return De(De({updateId:Le},w(De(De({props:N},E),{},{updateId:Le,dataStartIndex:pe,dataEndIndex:re}),E)),{},{prevChildren:$,dataStartIndex:pe,dataEndIndex:re})}return null}),Ht(P,"renderActiveDot",function(N,E,D){var L;return y.isValidElement(N)?L=y.cloneElement(N,E):mr(N)?L=N(E):L=se.createElement(T3,E),se.createElement(Ms,{className:"recharts-active-dot",key:D},L)});var _=y.forwardRef(function(E,D){return se.createElement(P,Oh({},E,{ref:D}))});return _.displayName=P.displayName,_},Yle=Kle({chartName:"BarChart",GraphicalChild:dm,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:nw},{axisType:"yAxis",AxisComp:aw}],formatAxisMap:iie});const Xle={};function Qle({product:e,isOpen:t,onClose:r,onAddToCart:n,pricingMarkupPercent:a,proposalMode:i=!1}){const[l,u]=y.useState(1),[d,f]=y.useState("1"),[g,m]=y.useState(""),[v,w]=y.useState("overview"),[P,_]=y.useState(0),[N,E]=y.useState(null);String(Xle?.VITE_UI_DEBUG||"").toLowerCase()==="true"&&console.debug("[ProductDetailDialog] Render",{isOpen:t,hasProduct:!!e});const D=y.useMemo(()=>[{id:"overview",label:"Overview",show:!!e?.description},{id:"specs",label:"Specifications",show:!0}].filter(X=>X.show),[e?.description,e?.id]),L=e?.variants??[],$=L.length>0,R=!!e&&(e?.type??"").toLowerCase()==="variable"&&!$,M=$?L.find(X=>X.id===N)??L[0]??null:null;y.useEffect(()=>{if(t){u(1),f("1"),m("");const X=D[0]?.id??"specs";w(X),_(0);const pe=e?.defaultVariantId??e?.variants?.find(re=>re.inStock)?.id??e?.variants?.[0]?.id??null;E(pe)}},[t,e,D]);const F=X=>{const pe=Math.max(1,Math.min(999,Math.floor(Number.isFinite(X)?X:1)));u(pe),f(String(pe))},V=X=>{Number.isFinite(X)&&F(X)},Y=X=>{const pe=X.target.value.replace(/[^0-9]/g,"");f(pe),pe&&F(Number(pe))},ue=()=>{d||F(1)},te=()=>{if(!e)return;if($&&!M){console.warn("[ProductDetailDialog] Variant selection required before adding to cart");return}const X=g.trim();console.debug("[ProductDetailDialog] Add to cart",{productId:e.id,quantity:l,note:X,variantId:M?.id}),n(e.id,l,X||void 0,M?.id??null),r()},le=y.useMemo(()=>{if(!e)return[];const X=e.images.length>0?e.images:[e.image];if(M?.image){const pe=new Set;return[M.image,...X].filter(xe=>!xe||pe.has(xe)?!1:(pe.add(xe),!0))}return X},[e,M]),fe=Number(a??0),me=Number.isFinite(fe)?Math.max(0,Math.min(500,fe)):0,ie=X=>typeof X!="number"||!Number.isFinite(X)?0:me?Math.round((X*(1+me/100)+Number.EPSILON)*100)/100:X,J=ie(M?.price??e?.price??0),ne=M?.originalPrice??(e?.hasVariants?void 0:e?.originalPrice),G=typeof ne=="number"?ie(ne):void 0,ve=G?Math.round((G-J)/G*100):0;$?M?.inStock:e?.inStock;const Se=$?M?.label||M?.dosage||e?.dosage:e?.dosage||M?.label||M?.dosage;return y.useEffect(()=>{if(!D.some(X=>X.id===v)){const X=D[0]?.id??"specs";w(X)}},[D,v]),s.jsx(fu,{open:t,onOpenChange:X=>{console.debug("[ProductDetailDialog] Open change",{open:X,productId:e?.id}),X||r()},children:s.jsxs(pc,{className:"squircle-xl max-w-5xl max-h-[90vh] overflow-hidden flex flex-col p-0",children:[s.jsx(hd,{className:"sticky top-0 z-10 glass-card border-b border-[var(--brand-glass-border-1)] px-6 py-4 backdrop-blur-lg",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(Nl,{className:"text-2xl font-bold text-slate-900 line-clamp-2",children:e?e.name:"Product details"}),s.jsx(jl,{className:"mt-1",children:i?"Review the product details and add it to your proposal.":"Review the product details and add it to your cart."})]})})}),e?s.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:s.jsxs("div",{className:"flex flex-col gap-6 pt-6 lg:flex-row lg:items-start",children:[s.jsxs("div",{className:"space-y-4 flex-shrink-0 w-full max-w-[240px] lg:max-w-[220px] lg:basis-[220px] lg:sticky lg:top-6",children:[s.jsxs("div",{className:"relative w-full overflow-hidden rounded-3xl glass-card border border-[var(--brand-glass-border-2)] bg-white/70 shadow-lg aspect-square",children:[s.jsx(g4,{images:le,alt:e.name,className:"flex h-full w-full items-center justify-center p-4 sm:p-6",imageClassName:"h-full w-full object-contain",style:{"--product-image-frame-padding":"clamp(0.55rem, 1vw, 1.15rem)"},showArrows:le.length>1,showDots:!1}),s.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[e.prescription&&s.jsxs(_l,{className:"squircle-sm bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg border-0",children:[s.jsx(L2,{className:"w-3 h-3 mr-1"}),"Rx Required"]}),ve>0&&s.jsxs(_l,{className:"squircle-sm bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg border-0",children:[s.jsx(v7,{className:"w-3 h-3 mr-1"}),"-",ve,"% OFF"]})]}),s.jsx("div",{className:"absolute top-4 right-4",children:e.inStock?s.jsxs(_l,{className:"squircle-sm bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg border-0",children:[s.jsx(kL,{className:"w-3 h-3 mr-1"}),"In Stock"]}):s.jsxs(_l,{className:"squircle-sm bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg border-0",children:[s.jsx(Cq,{className:"w-3 h-3 mr-1"}),"Out of Stock"]})})]}),le.length>1&&s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 max-w-[220px] mx-auto lg:mx-0",children:le.map((X,pe)=>s.jsx("button",{onClick:()=>_(pe),className:`flex-shrink-0 w-14 h-14 rounded-lg glass-card border-2 transition-all overflow-hidden ${P===pe?"border-[rgb(95,179,249)] scale-105":"border-[var(--brand-glass-border-2)] hover:border-slate-400"}`,children:s.jsx("img",{src:X,alt:`${e.name} thumbnail ${pe+1}`,className:"w-full h-full object-contain p-0.5"})},pe))})]}),s.jsxs("div",{className:"space-y-6 flex-1 min-w-0",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex gap-2 border-b border-[var(--brand-glass-border-1)] overflow-x-auto pb-1",children:D.map(X=>s.jsx("button",{onClick:()=>w(X.id),className:`px-4 py-3 text-sm font-medium whitespace-nowrap transition-all border-b-2 ${v===X.id?"border-[rgb(95,179,249)] text-[rgb(95,179,249)]":"border-transparent text-slate-600 hover:text-slate-900"}`,children:X.label},X.id))}),s.jsxs("div",{className:"rounded-2xl border-2 border-[var(--brand-glass-border-2)] p-6 min-h-[200px] bg-white shadow-sm",children:[v==="overview"&&e.description&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Product Overview"}),s.jsx("p",{className:"text-sm leading-relaxed text-slate-700",children:e.description})]}),v==="specs"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Specifications"}),s.jsxs("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("dt",{className:"text-xs font-medium text-slate-600 uppercase tracking-wide",children:"Category"}),s.jsx("dd",{className:"mt-1 text-sm font-semibold text-slate-900",children:e.category})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-xs font-medium text-slate-600 uppercase tracking-wide",children:"Manufacturer"}),s.jsx("dd",{className:"mt-1 text-sm font-semibold text-slate-900",children:e.manufacturer||"N/A"})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-xs font-medium text-slate-600 uppercase tracking-wide",children:"Dosage"}),s.jsx("dd",{className:"mt-1 text-sm font-semibold text-slate-900",children:Se})]}),e.type&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-xs font-medium text-slate-600 uppercase tracking-wide",children:"Type"}),s.jsx("dd",{className:"mt-1 text-sm font-semibold text-slate-900",children:e.type})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"rounded-2xl border-2 border-[var(--brand-glass-border-2)] p-4 space-y-2 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(vq,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Manufacturer"})]}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.manufacturer||"N/A"})]}),s.jsxs("div",{className:"rounded-2xl border-2 border-[var(--brand-glass-border-2)] p-4 space-y-2 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(L2,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Dosage"})]}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Se})]}),e.type&&s.jsxs("div",{className:"rounded-2xl border-2 border-[var(--brand-glass-border-2)] p-4 space-y-2 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Ah,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Type"})]}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.type})]})]})]}),s.jsx("div",{className:"lg:sticky lg:top-6 h-fit flex-shrink-0 lg:basis-[340px] lg:max-w-[340px] lg:w-auto w-full",children:s.jsxs("div",{className:"space-y-5 rounded-3xl border-2 border-[var(--brand-glass-border-2)] p-6 shadow-xl bg-white",children:[s.jsxs("div",{className:"space-y-3 pb-5 border-b border-[var(--brand-glass-border-1)]",children:[s.jsx("div",{className:"flex items-baseline gap-3",children:J>0?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-4xl font-bold text-green-600",children:["$",J.toFixed(2)]}),G&&s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["$",G.toFixed(2)]}),s.jsxs("span",{className:"text-xs font-semibold text-red-600",children:["Save $",(G-J).toFixed(2)]})]})]}):s.jsx("span",{className:"text-lg font-semibold text-green-600",children:"Contact for pricing"})}),J>0&&l>1&&s.jsxs("div",{className:"text-sm text-slate-600",children:["Total:"," ",s.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",(J*l).toFixed(2)]})]})]}),$&&s.jsxs("div",{className:"space-y-3 pb-5 border-b border-[var(--brand-glass-border-1)]",children:[s.jsx(Ar,{className:"text-sm font-semibold",children:"Select an option"}),s.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:L.map(X=>{const pe=X.id===M?.id,re=ie(X.price),xe=X.attributes.map(Re=>Re.value||Re.name).filter(Boolean).join("  ");return s.jsxs(Je,{type:"button",variant:pe?"default":"outline",onClick:()=>E(X.id),className:"justify-between text-left",children:[s.jsxs("span",{className:"flex flex-col text-left",children:[s.jsx("span",{className:"font-semibold",children:X.label}),xe&&s.jsx("span",{className:"text-xs text-slate-500",children:xe})]}),s.jsx("span",{className:"font-semibold",children:re>0?`$${re.toFixed(2)}`:""})]},X.id)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ar,{htmlFor:"quantity",className:"text-sm font-semibold",children:"Quantity"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Je,{type:"button",variant:"outline",size:"icon",onClick:()=>V(l-1),disabled:l<=1,className:"h-12 w-12 rounded-xl border-2 bg-slate-50",children:s.jsx(sP,{className:"h-5 w-5"})}),s.jsx(zr,{id:"quantity",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:d,onChange:Y,onBlur:ue,className:"h-12 text-center text-xl font-bold squircle-sm bg-slate-50 border-2"}),s.jsx(Je,{type:"button",variant:"outline",size:"icon",onClick:()=>V(l+1),className:"h-12 w-12 rounded-xl border-2 bg-slate-50",children:s.jsx(Fh,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Ar,{htmlFor:"quantityDescription",className:"text-sm font-semibold",children:["Order Notes ",s.jsx("span",{className:"label-paren",children:"(Optional)"})]}),s.jsx("textarea",{id:"quantityDescription",value:g,onChange:X=>m(X.target.value),placeholder:"Add fulfillment notes or special instructions...",className:"min-h-[100px] w-full resize-y squircle-lg p-4 text-sm border-2 border-[var(--brand-glass-border-2)] focus-visible:outline-none focus-visible:border-[rgb(95,179,249)] focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.2)] bg-slate-50"})]}),s.jsxs(Je,{onClick:te,disabled:R,className:"w-full h-14 text-base font-semibold glass-brand squircle-lg transition-all duration-300 hover:scale-105 hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[i?s.jsx(Fh,{className:"mr-2 h-5 w-5"}):s.jsx(Bh,{className:"mr-2 h-5 w-5"}),R?"Loading options":i?"Add to Proposal":"Add to Cart"]})]})})]})}):null]})})}const Zle=`<style type="text/css">
    p.p1 {margin: 0.0px 0.0px 11.0px 0.0px; font: 16.0px Times}
    p.p2 {margin: 0.0px 0.0px 11.0px 0.0px; font: 14.0px Times}
    p.p3 {margin: 0.0px 0.0px 9.0px 0.0px; font: 8.0px Times}
    p.p4 {margin: 12.0px 0.0px 12.0px 0.0px; font: 10.0px Times}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; min-height: 14.0px}
    p.p6 {margin: 0.0px 0.0px 4.0px 0.0px; font: 14.0px Times}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Times}
    li.li7 {margin: 12.0px 0.0px 0.0px 0.0px; font: 10.0px Times}
    li.li8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Times}
    li.li9 {margin: 0.0px 0.0px 12.0px 0.0px; font: 10.0px Times}
    span.s1 {text-decoration: underline}
    ul.ul1 {list-style-type: disc}
  </style>
<p class="p1">Terms of Service</p>
<p class="p2">1. Acceptance of Terms</p>
<p class="p3">Effective Date: November 1, 2025 (Last Updated: Feb 10, 2026).</p>
<p class="p4">By accessing or using the PepPro website (<span class="s1">https://peppro.net/</span>) or purchasing any products or services from PepPro (we, us, our), you agree to be bound by these Terms of Service, the Privacy Policy, and the Liability Disclaimer. If you do not agree, do not access the website or purchase any products or services.</p>
<p class="p4">PepPro may modify these Terms at any time. Continued use of the website constitutes acceptance of the revised Terms.</p>
<p class="p5"><br></p>
<p class="p6">2. Eligibility</p>
<p class="p4">You represent and warrant that you are at least 18 years old, legally capable of entering binding agreements, and that any access to or purchases from PepPro are made for lawful purposes and in compliance with all applicable federal, state, and local laws and regulations.</p>
<p class="p5"><br></p>
<p class="p6">3. Research Use Only (RUO)</p>
<p class="p4">All PepPro products, including peptides, genetic testing kits, reagents, and related compounds, are sold strictly for <b>in vitro laboratory research use only</b>.</p>
<p class="p4">Products are <b>not intended, produced, labeled, or authorized</b> for human or animal consumption, diagnostic use, therapeutic use, clinical use, cosmetic use, nutritional use, or any other non-research purpose.</p>
<p class="p4">By purchasing or accessing PepPro products, you acknowledge and agree to these restrictions and assume full responsibility for regulatory compliance, handling, storage, use, and disposal.</p>
<p class="p5"><br></p>
<p class="p6">4. Product Information, Categorization, and FDA Disclaimer</p>
<p class="p4">Information provided on the PepPro website is for <b>informational and research-navigation purposes only</b>.</p>
<p class="p4">Any product groupings, categories, tags, or classifications (including those referencing areas of scientific interest or investigation) are intended solely to assist with research organization and discovery. Such classifications <b>do not represent claims of efficacy, intended use, approved indication, or expected outcome</b>.</p>
<p class="p4">PepPro products are <b>not drugs or medical devices</b>, have not been evaluated or approved by the U.S. Food and Drug Administration (FDA), and are not intended to diagnose, treat, cure, mitigate, or prevent any disease.</p>
<p class="p4">Nothing on the website constitutes medical advice or a recommendation for use. Always rely on qualified professionals and independent scientific judgment when interpreting research information.</p>
<p class="p5"><br></p>
<p class="p6">5. As-Is Condition and No Warranties</p>
<p class="p4">All PepPro products, services, and website content are provided <b>as is and with all faults.</b></p>
<p class="p4">PepPro disclaims all express or implied warranties, including but not limited to merchantability, fitness for a particular purpose, non-infringement, accuracy, completeness, safety, sterility, or uninterrupted operation.</p>
<p class="p5"><br></p>
<p class="p6">5A. Platform Features, Tools, and Service Limitations</p>
<p class="p4">PepPro provides its website, platform features, tools, software, classifications, and services as part of an evolving research-oriented infrastructure.</p>
<p class="p4">You acknowledge and agree that:</p>
<ul class="ul1">
  <li class="li7">Platform features, tools, data displays, categorizations, automations, and workflows <b>may be imperfect, incomplete, delayed, unavailable, contain errors, or change over time</b>.</li>
  <li class="li8">PepPro does <b>not</b> guarantee accuracy, reliability, continuity, completeness, or suitability of any feature, output, or functionality.</li>
  <li class="li9">You are solely responsible for verifying results, interpretations, decisions, and actions taken based on use of the platform, products, or services.</li>
</ul>
<p class="p4">PepPro shall not be responsible or liable for any damages, losses, errors, omissions, interruptions, or adverse outcomes arising from:</p>
<ul class="ul1">
  <li class="li7">Reliance on platform features or outputs</li>
  <li class="li8">System limitations, bugs, downtime, or third-party dependencies</li>
  <li class="li9">User configuration, interpretation, or misuse</li>
</ul>
<p class="p4">Use of the PepPro platform and products is <b>entirely at your own risk</b>.</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p10">6. Assumption of Risk and Limitation of Liability</p>
<p class="p4">You assume full responsibility for the handling, storage, use, testing, and disposal of PepPro products.</p>
<p class="p4">To the maximum extent permitted by law, PepPro and its affiliates shall not be liable for any direct, indirect, incidental, consequential, special, or punitive damages, including but not limited to personal injury, illness, death, contamination, adverse reactions, improper use, property damage, business interruption, or data loss.</p>
<p class="p4">PepPros total cumulative liability, if any, shall not exceed the total amount paid for the specific product giving rise to the claim.</p>
<p class="p5"><br></p>
<p class="p6">7. Indemnification</p>
<p class="p4">You agree to indemnify, defend, and hold harmless PepPro, its affiliates, officers, directors, employees, and agents from and against all claims, losses, damages, liabilities, costs, and expenses (including reasonable attorneys fees) arising from:</p>
<ul class="ul1">
  <li class="li7">Misuse or improper handling of products</li>
  <li class="li8">Violation of these Terms</li>
  <li class="li8">Breach of your representations or warranties</li>
  <li class="li9">Violation of applicable laws or regulations</li>
</ul>
<p class="p5"><br></p>
<p class="p6">8. Intellectual Property</p>
<p class="p4">All website content, including text, graphics, logos, trademarks, software, and design elements, is the property of PepPro or its licensors and is protected by intellectual property laws.</p>
<p class="p4">You may not copy, reproduce, modify, distribute, publish, transmit, or create derivative works without prior written consent from PepPro.</p>
<p class="p5"><br></p>
<p class="p6">9. User Accounts, Profile Content, and Content Moderation</p>
<p class="p4">Users may upload profile images, account information, annotations, and other content (User Content) as part of their account.</p>
<p class="p4">By submitting User Content, you represent and warrant that such content is lawful, accurate, professional, non-misleading, and appropriate for a research- and healthcare-adjacent platform.</p>
<p class="p4">PepPro reserves the right, but not the obligation, to review, screen, moderate, restrict, remove, or disable any User Content at any time and in its sole discretion, using automated tools, manual review, or both.</p>
<p class="p4">User Content that is, in PepPros judgment, inappropriate, misleading, unprofessional, promotional, outcome-assertive, abusive, or inconsistent with applicable laws, regulations, platform standards, or ethical expectations may be removed or restricted.</p>
<p class="p4">Enforcement actions may include content removal, account suspension, or permanent termination without prior notice. PepPro is not required to provide warnings or explanations.</p>
<p class="p5"><br></p>
<p class="p6">10. HIPAA and Health Information</p>
<p class="p4">Where applicable to telehealth-adjacent or prescription-related workflows, PepPro complies with the Health Insurance Portability and Accountability Act of 1996 (HIPAA).</p>
<p class="p4">By executing a HIPAA authorization or consent during checkout or registration, you authorize PepPro to use or disclose Protected Health Information (PHI) for treatment, payment, and healthcare operations as described in the applicable Notice of Privacy Practices.</p>
<p class="p4">You may revoke authorization in writing at any time by contacting <a href="mailto:support@peppro.net">support@peppro.net</a>.</p>
<p class="p5"><br></p>
<p class="p6">11. Compliance and Prohibited Use</p>
<p class="p4">You represent and warrant that you are trained, qualified, and equipped to handle research-grade materials safely and lawfully.</p>
<p class="p4">You agree not to use PepPro products for any prohibited, clinical, diagnostic, therapeutic, or unlawful purpose.</p>
<p class="p4">PepPro reserves the right to suspend or terminate purchasing privileges and pursue legal remedies if misuse, misrepresentation, or regulatory non-compliance is suspected.</p>
<p class="p5"><br></p>
<p class="p6">12. No Professional Advice</p>
<p class="p4">PepPro does not provide medical, legal, or professional advice. All information provided through the website is for research and informational purposes only and should not be relied upon as a substitute for professional judgment.</p>
<p class="p5"><br></p>
<p class="p6">13. Governing Law and Dispute Resolution</p>
<p class="p4">These Terms are governed by the laws of the State of <b>[Insert State]</b>, without regard to conflict-of-law principles.</p>
<p class="p4">Any dispute arising out of or relating to these Terms shall be resolved through binding arbitration in <b>[Insert State / County]</b> in accordance with the rules of the American Arbitration Association (AAA).</p>
<p class="p5"><br></p>
<p class="p6">14. Termination</p>
<p class="p4">PepPro may suspend or terminate access to the website, services, or user accounts at any time, with or without notice, for violations of these Terms, submission of prohibited User Content, suspected misuse, or regulatory or legal non-compliance.</p>
<p class="p4">All provisions relating to disclaimers, limitation of liability, indemnification, and governing law shall survive termination.</p>
<p class="p5"><br></p>
<p class="p6">15. Changes to Terms</p>
<p class="p4">PepPro may update these Terms at any time. Changes become effective upon posting, and continued use of the website constitutes acceptance of the revised Terms.</p>
<p class="p5"><br></p>
<p class="p6">16. Contact Information</p>
<p class="p4">Email: <b><a href="mailto:support@peppro.net">support@peppro.net</a></b></p>
<p class="p5"><br></p>
`,Jle=`<style type="text/css">
    p.p1 {margin: 0.0px 0.0px 11.0px 0.0px; font: 13.5px Times}
    p.p2 {margin: 0.0px 0.0px 11.0px 0.0px; font: 10.5px Times}
    p.p3 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Times}
    p.p5 {margin: 0.0px 0.0px 0.0px 27.0px; font: 12.0px Times; min-height: 14.0px}
    p.p8 {margin: 0.0px 0.0px 11.0px 0.0px; font: 9.0px Times}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; min-height: 14.0px}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times}
    p.p11 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times; color: #0000e9}
    li.li3 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times}
    li.li4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Times}
    li.li6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.5px Times}
    li.li7 {margin: 0.0px 0.0px 12.0px 0.0px; font: 9.0px Times}
    li.li8 {margin: 0.0px 0.0px 11.0px 0.0px; font: 9.0px Times}
    span.s1 {text-decoration: underline ; color: #1155cc}
    span.s2 {text-decoration: underline ; color: #0000e9}
    span.s3 {color: #000000}
    span.s4 {text-decoration: underline}
    ul.ul1 {list-style-type: disc}
  </style>
<p class="p1">Privacy Policy</p>
<p class="p2">1. Introduction</p>
<p class="p3">Effective Date: November 1, 2025 (Last Updated: Jan 28, 2025).</p>
<p class="p3">PepPro ("we," "us," "our") respects your privacy and is committed to protecting your personal and health information. This Privacy Policy explains how we collect, use, and safeguard information through our website [insert domain], applications, and services. By using our website or purchasing from PepPro, you consent to this Policy as well as the related Disclaimer of Liability and HIPAA Consent and Notice of Privacy Practices.</p>
<p class="p2">2. Research-Only Product Disclaimer</p>
<p class="p3">All PepPro products, including peptides and genetic testing kits, are for laboratory research use only. Products are not intended, produced, or authorized for human or animal consumption, diagnostic or therapeutic use, or cosmetic, nutritional, or clinical applications. PepPro products are not medicines or drugs and have not been evaluated or approved by the U.S. Food and Drug Administration (FDA) to diagnose, treat, cure, or prevent any disease. By purchasing from PepPro, you agree to use these materials exclusively for in vitro laboratory research under appropriate safety conditions.</p>
<p class="p2">3. Information We Collect</p>
<p class="p3">We collect information in the following categories:</p>
<ul class="ul1">
  <li class="li4">Personal information: name, email address, billing and shipping address, phone number, payment details, and account credentials, NPI number, Resellers Permits, etc.</li>
  <li class="li4">Usage data: browser type, device identifiers, IP address, referral URLs, pages visited, and timestamps gathered through cookies or analytics tools, buying behaviors, etc.</li>
  <li class="li3">Protected health information (PHI): when you use PepPro telehealth or prescription-related services, we may collect PHI as defined under HIPAA.</li>
</ul>
<p class="p5"><br></p>
<p class="p2">4. How We Use Information</p>
<ul class="ul1">
  <li class="li6">PepPro may process user-uploaded images, including profile images, for moderation and platform safety purposes. This review may be conducted using automated systems and, where necessary, manual review by authorized personnel or service providers.</li>
  <li class="li6">Images are reviewed solely to enforce platform standards, prevent abuse, and maintain a professional environment. PepPro does not use profile images for advertising, marketing, or unrelated purposes.</li>
  <li class="li4">Order fulfillment and payment processing.</li>
  <li class="li4">Account management, communication, and customer support.</li>
  <li class="li4">Legal compliance, including HIPAA, FDA, FTC, or state requirements.</li>
  <li class="li4">Improving products and services as well as coordinating healthcare for telehealth users.</li>
  <li class="li7">PepPro does not sell or rent personal information or PHI.</li>
</ul>
<p class="p5"><br></p>
<p class="p2">5. HIPAA Compliance and Health Information</p>
<ul class="ul1">
  <li class="li4">When applicable, PepPro follows HIPAA standards to protect your health information.</li>
  <li class="li4">Treatment: coordination and management of care by licensed healthcare providers.</li>
  <li class="li4">Payment: billing, claims, and pharmacy fulfillment.</li>
  <li class="li4">Healthcare operations: quality review, compliance, training, and administrative purposes.</li>
  <li class="li8">You may request restrictions on PHI use, obtain copies of records, or revoke consent in writing at any time (revocation does not affect prior disclosures). To exercise these rights, contact <span class="s1"><a href="mailto:support@peppro.net">support@peppro.net</a></span>.</li>
</ul>
<p class="p5"><br></p>
<p class="p2">6. Liability and Assumption of Risk</p>
<p class="p3">All PepPro products are provided "as is" and "with all faults." PepPro disclaims all express or implied warranties, including merchantability or fitness for a particular purpose.</p>
<p class="p3">By purchasing, you accept full responsibility for handling, storage, and disposal; acknowledge PepPro is not liable for injury, contamination, or adverse events; and agree to indemnify PepPro and its affiliates against claims arising from misuse or unauthorized application. PepPro's total liability will not exceed the purchase price paid for the product.</p>
<p class="p2">7. Cookies and Tracking</p>
<p class="p3">PepPro uses cookies, pixels, and analytics tools to improve site performance, measure engagement, and personalize content. Disabling cookies may limit certain site features.</p>
<p class="p2">8. Your Data Rights</p>
<p class="p8">Depending on your jurisdiction, you may have the right to access, correct, delete, restrict processing, or object to the processing of your personal information. You may opt out of targeted advertising or data "sales" where state law (such as the CCPA) provides that right and withdraw consent where applicable. Submit privacy requests to <span class="s2"><a href="mailto:support@peppro.net">support@peppro.net</a></span>.</p>
<p class="p2">9. Data Retention and Security</p>
<p class="p4">PepPro retains data only as long as necessary for the purposes described in this Policy. Administrative, technical, and physical safeguards are used to help prevent unauthorized access, alteration, or loss of information; however, no online method is completely secure. User-uploaded images that violate platform standards may be retained temporarily for compliance, audit, or dispute-resolution purposes and then securely deleted in accordance with internal retention policies.</p>
<p class="p9"><br></p>
<p class="p10">10. International Users</p>
<p class="p9"><br></p>
<p class="p3">If you access PepPro services from outside the United States, you consent to the transfer and processing of your data in the U.S., which may have different data protection laws than your home jurisdiction.</p>
<p class="p2">11. Children's Privacy</p>
<p class="p3">PepPro services are not intended for children under 13. We do not knowingly collect personal information from minors and will delete such data promptly if discovered.</p>
<p class="p2">12. Updates to this Policy</p>
<p class="p3">PepPro may revise this Privacy Policy periodically. Changes take effect when posted, and continued use of the website constitutes acceptance of the updated terms.</p>
<p class="p2">13. Contact Information</p>
<p class="p11"><span class="s3">Email: </span><span class="s4"><a href="mailto:support@peppro.net">support@peppro.net</a></span></p>
`,ece=`<style type="text/css">
    p.p1 {margin: 0.0px 0.0px 11.0px 0.0px; font: 13.5px Times}
    p.p2 {margin: 0.0px 0.0px 11.0px 0.0px; font: 10.5px Times}
    p.p3 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times}
    span.s1 {text-decoration: underline ; color: #0000e9}
    span.s2 {text-decoration: underline ; color: #1155cc}
  </style>
<p class="p1">Shipping Policy</p>
<p class="p2">Effective: Dec 17, 2025</p>
<p class="p2">1. Order Processing</p>
<p class="p3">Orders are reviewed Monday through Thursday, excluding federal holidays, to ensure products are not held in a third-party warehouse over an extended period, such as weekends. Most in-stock items ship within one to two business days. Orders placed after 1:00 p.m. local fulfillment time may be processed the next business day.</p>
<p class="p2">2. Verification</p>
<p class="p3">PepPro may request additional documentation, such as for the person signing for orders to meet regulatory requirements. Orders pending verification will not ship until review is complete.</p>
<p class="p2">3. Shipping Methods</p>
<p class="p3">Second Day and overnight services are available to most U.S. addresses. Delivery timelines begin once an order leaves our facility. Estimated transit windows provided at checkout are not guaranteed.<span class="Apple-converted-space"></span></p>
<p class="p2">4. Shipping Restrictions</p>
<p class="p3">PepPro cannot ship to P.O. boxes, APO/FPO/DPO addresses. International shipping is evaluated individually and may require customs declarations. Customers are responsible for understanding and complying with local import laws.</p>
<p class="p2">5. Rates and Fees</p>
<p class="p3">Shipping charges are calculated based on weight, destination, and the selected service level. Taxes, duties, and brokerage fees for international orders are the customer's responsibility unless explicitly stated otherwise.</p>
<p class="p2">6. Tracking</p>
<p class="p3">A shipment confirmation email will be sent when orders depart our facility and tracking numbers are provided under the Orders tab of the users account dashboard on peppro.net. Tracking updates originate from the carrier and may take up to 24 hours to activate.</p>
<p class="p2">7. Delivery Issues</p>
<p class="p3">Delays: PepPro is not liable for carrier delays caused by weather, customs inspections, or other factors beyond our control.</p>
<p class="p3">Lost packages: Report packages marked "delivered" but were not received within three business days. We will coordinate with the carrier to investigate. Resolutions are handled case-by-case.</p>
<p class="p3">Damaged shipments: Inspect packages upon arrival and notify <span class="s1"><a href="mailto:support@peppro.net">support@peppro.net</a></span> with photos within five days to initiate a carrier claim.</p>
<p class="p2">8. Address Accuracy</p>
<p class="p3">Ensure the shipping address is complete and accurate. Orders returned due to incorrect or undeliverable addresses may incur reshipment fees.</p>
<p class="p2">9. Temperature-Sensitive Items</p>
<p class="p3">Certain products may require insulated packaging or cold packs. PepPro selects materials based on season and destination and recommends expedited shipping for temperature-sensitive orders, especially during extreme weather.</p>
<p class="p2">10. Order Changes and Cancellations</p>
<p class="p3">Cancel an order in the Orders tab of your account settings on <span class="s2">peppro.net</span> or contact <span class="s1"><a href="mailto:support@peppro.net">support@peppro.net</a></span> promptly to request modifications. Orders are partially refunded, and a full refund may be able to be accommodated upon request. Once fulfillment begins (order status of Processing), changes may not be possible.</p>
<p class="p2">11. Returns</p>
<p class="p3">Refer to the returns section in the Terms of Service for eligibility. Authorization must be obtained before shipping products back to PepPro. Unauthorized returns will be handled case by case, and a possible restocking fee up to $100 may be deducted from customer credit.</p>
<p class="p2">12. Policy Updates</p>
<p class="p3">PepPro may revise this Shipping Policy at any time. The effective date updates whenever changes are posted.</p>
<p class="p2">13. Contact</p>
<p class="p3">For shipping questions, email <span class="s1"><a href="mailto:support@peppro.net">support@peppro.net</a></span>.</p>
`,tce=`<p><strong>Returns &amp; Refunds Policy</strong></p>
<p><strong>Last updated:</strong> February 3, 2026</p>
<p><strong>1. Eligibility</strong></p>
<p>
  All sales are final unless the product arrives damaged, incorrect, or incomplete (e.g., missing items).
  If you believe there is an issue with your order, contact us promptly so we can review and help.
</p>
<p><strong>2. Reporting window</strong></p>
<p>
  Requests must be submitted within <strong>7 days</strong> of delivery. Claims submitted after this window may be
  denied.
</p>
<p><strong>3. Return authorization</strong></p>
<p>
  Do not ship products back without written authorization. Unauthorized returns may be refused or handled
  case-by-case, and a restocking fee of up to $100 may be deducted from any customer credit.
</p>
<p><strong>4. Evidence and packaging</strong></p>
<p>
  When submitting a request, please include your order number and a clear description of the issue. For damaged
  shipments, include photos of the outer box, inner packaging, and the product label(s). Please keep all original
  packaging until the issue is resolved.
</p>
<p><strong>5. Refunds and resolutions</strong></p>
<p>
  If approved, refunds are issued to the original form of payment. Depending on the circumstance, we may also offer
  a replacement shipment or store credit. Refund processing times vary by payment provider and financial institution.
</p>
<p>
  <strong>How to request:</strong> Email <a href="mailto:support@peppro.net">support@peppro.net</a> and include your order
  number, the reason for the request, and (if applicable) photos of damage.
</p>
`,rce=`<p>
  For order support (including shipping and returns), billing questions, or general inquiries, contact us using the
  information below. For the fastest help, include your order number and a brief description of the issue.
</p>
<p>
  <strong>Business hours:</strong> MonFri, 9am5pm CT<br />
  <strong>Phone:</strong> (714) 932-0232<br />
  <strong>Email:</strong> <a href="mailto:support@peppro.net">support@peppro.net</a><br />
  <strong>Address:</strong> 640 S Grand Ave, Santa Ana, CA 92705, Unit #107
</p>
<p>
  <strong>Merchant identity</strong><br />
  DBA: PepPro<br />
</p>
<p>
  Please do not mail returns to the address above unless you have received written return authorization.
</p>
`,pa={dba:"PepPro",legalEntity:"[LEGAL ENTITY NAME]",address:"640 S Grand Ave, Santa Ana, Ca 92705, Unit #107",phone:"(714) 932-0232",email:"support@peppro.net",businessHours:"MonFri, 9am5pm CT"},nce={terms:{title:"Terms of Service",html:Zle},privacy:{title:"Privacy Policy",html:Jle},shipping:{title:"Shipping Policy",html:ece},returns:{title:"Returns & Refunds",html:tce},contact:{title:"Contact",html:rce}};function BC({variant:e="full",showContactCTA:t=!0}){const[r,n]=y.useState(null),[a,i]=y.useState(!1),[l,u]=y.useState(!1),[d,f]=y.useState(!1),[g,m]=y.useState(!1),[v,w]=y.useState(!1),[P,_]=y.useState(""),[N,E]=y.useState(""),[D,L]=y.useState({name:"",email:"",phone:"",source:""}),$=y.useRef(null),R=y.useRef(null),M=r?nce[r]:null,F=80;y.useEffect(()=>{const ie=document.body,J=document.documentElement,ne=ie.style.overflow,G=ie.style.paddingRight;if((r||d)&&!a){const ve=window.innerWidth-J.clientWidth;return!G&&ve>0&&(ie.style.paddingRight=`${ve}px`),ie.style.overflow="hidden",()=>{ie.style.overflow=ne,ie.style.paddingRight=G}}ie.style.overflow=ne,ie.style.paddingRight=G},[r,d,a]);const V=y.useMemo(()=>[{key:"terms",label:"Terms of Service"},{key:"privacy",label:"Privacy Policy"},{key:"shipping",label:"Shipping Policy"}],[]),Y=y.useCallback((ie,J={})=>{console.debug("[LegalFooter] Link clicked",{key:ie}),J.preserveDialogs||window.dispatchEvent(new Event("peppro:close-dialogs")),$.current&&(clearTimeout($.current),$.current=null),i(!1),u(!1),n(ie)},[]),ue=()=>{console.debug("[LegalFooter] Close requested",{activeDocument:r}),!(!r||a)&&(i(!0),u(!1),$.current=setTimeout(()=>{n(null),i(!1),$.current=null},F))};y.useEffect(()=>{const ie=J=>{J.key==="Escape"&&ue()};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[]),y.useEffect(()=>{const ie=J=>{const ne=J,G=ne.detail?.key;G&&Y(G,{preserveDialogs:!!ne.detail?.preserveDialogs})};return window.addEventListener("peppro:open-legal",ie),()=>window.removeEventListener("peppro:open-legal",ie)},[Y]),y.useEffect(()=>{if(M&&!a){const ie=requestAnimationFrame(()=>u(!0));return()=>cancelAnimationFrame(ie)}!M&&!a&&l&&u(!1)},[M,a,l]),y.useEffect(()=>{const ie=!!M;return window.dispatchEvent(new CustomEvent("peppro:legal-state",{detail:{open:ie}})),()=>{ie&&window.dispatchEvent(new CustomEvent("peppro:legal-state",{detail:{open:!1}}))}},[M]),y.useEffect(()=>()=>{$.current&&clearTimeout($.current),R.current&&clearTimeout(R.current)},[]);const te=y.useCallback(()=>{R.current&&(clearTimeout(R.current),R.current=null),f(!0),requestAnimationFrame(()=>m(!0))},[]),le=y.useCallback(()=>{d&&(m(!1),R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{f(!1),R.current=null},F))},[d,F]),fe=async ie=>{if(ie.preventDefault(),E(""),_(""),!D.name.trim()||!D.email.trim()){E("Name and email are required.");return}w(!0);try{const J=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:D.name.trim(),email:D.email.trim(),phone:D.phone.trim(),source:D.source.trim()})}),ne=await J.json();if(!J.ok)throw new Error(ne?.error||"Unable to send your message.");_("Thanks! A representative will reach out shortly."),L({name:"",email:"",phone:"",source:""})}catch(J){E(J?.message||"Unable to send your message. Please try again.")}finally{w(!1)}},me=l||a||d;return s.jsxs(s.Fragment,{children:[s.jsx("footer",{className:"relative z-10 mt-10 sm:mt-24 glass-strong",children:s.jsx("div",{className:"w-full px-4 sm:px-8 pt-6 pb-6 sm:pt-12 sm:pb-10",children:e==="ctaOnly"?s.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 pt-10 pb-10",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[s.jsx("p",{className:"mt-7 pt-4 text-m font-medium text-slate-900",children:"Interested in joining the network?"}),t?s.jsx("button",{type:"button",onClick:()=>{window.dispatchEvent(new Event("peppro:close-dialogs")),te()},className:"inline-flex items-center justify-center squircle-sm px-6 py-2 text-sm font-semibold text-white shadow-lg shadow-[rgba(95,179,249,0.4)] transition duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] mb-6",style:{backgroundColor:"rgb(95, 179, 249)"},children:"Contact a Representative"}):null]}),s.jsxs("div",{className:"w-full max-w-5xl mx-auto flex flex-col items-center gap-3 text-center",children:[s.jsxs("div",{className:"text-xs text-slate-600 space-y-1",children:[s.jsx("p",{className:"font-semibold text-slate-900",children:"PepPro"}),s.jsxs("p",{children:["DBA: ",pa.dba]}),s.jsxs("p",{children:["Legal Entity: ",pa.legalEntity]}),s.jsxs("p",{children:["Address: ",pa.address]}),s.jsxs("p",{children:["Phone: ",pa.phone]}),s.jsxs("p",{children:[" ",s.jsx("a",{className:"text-[rgb(95,179,249)] underline",href:`mailto:${pa.email}`,children:pa.email})]}),s.jsx("p",{children:pa.businessHours})]}),s.jsxs("nav",{className:"mt-2 flex flex-wrap items-center justify-center gap-2 sm:gap-3 text-xs sm:text-sm font-medium text-[rgb(95,179,249)]",children:[s.jsx("button",{type:"button",className:"cursor-pointer rounded-full px-2.5 py-1 sm:px-3 sm:py-1.5 transform transition duration-200 hover:-translate-y-0.5 hover:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.4)] btn-hover-lighter",onClick:()=>Y("contact"),children:"Contact"}),s.jsx("button",{type:"button",className:"cursor-pointer rounded-full px-2.5 py-1 sm:px-3 sm:py-1.5 transform transition duration-200 hover:-translate-y-0.5 hover:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.4)] btn-hover-lighter",onClick:()=>Y("returns"),children:"Returns & Refunds"}),V.map(ie=>s.jsx("button",{type:"button",className:"cursor-pointer rounded-full px-2.5 py-1 sm:px-3 sm:py-1.5 transform transition duration-200 hover:-translate-y-0.5 hover:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.4)] btn-hover-lighter",onClick:()=>Y(ie.key),children:ie.label},ie.key))]}),s.jsxs("p",{className:"text-xs text-slate-600",children:[pa.businessHours," | (714) 932-0232 | support@peppro.net"]}),s.jsx("p",{className:"text-xs text-slate-600",children:"640 S Grand Ave, Santa Ana, Ca 92705, Unit #107"})]})]}):s.jsxs("div",{className:"legal-footer-layout gap-4 items-start text-center lg:text-left lg:items-start lg:justify-items-start",children:[t&&s.jsxs("div",{className:"legal-contact flex flex-col items-center justify-center lg:items-end lg:justify-center gap-2 text-center lg:text-right w-full pt-4 lg:pt-0",children:[s.jsx("p",{className:"text-sm lg:pt-6 pb-2 font-medium text-slate-900",children:"Want to join the Network?"}),s.jsx("button",{type:"button",onClick:()=>{window.dispatchEvent(new Event("peppro:close-dialogs")),te()},className:"inline-flex items-center justify-center squircle-sm px-6 py-2 text-sm font-semibold text-white shadow-lg shadow-[rgba(95,179,249,0.4)] transition duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)]",style:{backgroundColor:"rgb(95, 179, 249)"},children:"Contact a Representative"})]}),s.jsx("div",{className:"legal-disclaimer flex items-start justify-start w-full lg:w-auto lg:pr-10 lg:mr-auto lg:ml-0 lg:place-self-start lg:justify-self-start",children:s.jsx("p",{className:"text-xs text-slate-500 leading-relaxed pt-4 text-center lg:text-left w-full",children:"PepPro peptide products are research chemicals intended for licensed physicians only. They are not intended to prevent, treat, or cure any medical condition, ailment or disease. These products have not been reviewed or approved by the US Food and Drug Administration."})}),s.jsxs("div",{className:"legal-links flex flex-col items-center text-center gap-1 w-full lg:items-start lg:text-left",children:[s.jsxs("div",{className:"space-y-1 text-sm text-slate-600 w-full",children:[s.jsx("p",{children:"Advancing healthcare through research and availability."}),s.jsxs("p",{className:"text-xs text-slate-500",children:[" ",new Date().getFullYear()," PepPro. All rights reserved."]}),s.jsx("p",{className:"text-xs text-slate-500",children:" This website design is guided by consciousness calibration."})]}),s.jsxs("nav",{className:"mt-2 mb-2 flex flex-wrap items-center justify-center lg:justify-start gap-2 sm:gap-3 text-xs sm:text-sm font-medium text-[rgb(95,179,249)]",children:[s.jsx("button",{type:"button",className:"cursor-pointer rounded-full px-2.5 py-1 sm:px-3 sm:py-1.5 transform transition duration-200 hover:-translate-y-0.5 hover:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.4)] btn-hover-lighter",onClick:()=>Y("contact"),children:"Contact"}),s.jsx("button",{type:"button",className:"cursor-pointer rounded-full px-2.5 py-1 sm:px-3 sm:py-1.5 transform transition duration-200 hover:-translate-y-0.5 hover:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.4)] btn-hover-lighter",onClick:()=>Y("returns"),children:"Returns & Refunds"}),V.map(ie=>s.jsx("button",{type:"button",className:"cursor-pointer rounded-full px-2.5 py-1 sm:px-3 sm:py-1.5 transform transition duration-200 hover:-translate-y-0.5 hover:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.4)] btn-hover-lighter",onClick:()=>Y(ie.key),children:ie.label},ie.key))]}),s.jsxs("p",{className:"text-xs leading-snug break-words text-slate-600",children:[pa.businessHours," | (714) 932-0232 | support@peppro.net"]}),s.jsx("p",{className:"text-xs leading-snug break-words text-slate-600",children:"640 S Grand Ave, Santa Ana, Ca 92705, Unit #107"})]})]})})}),M&&By.createPortal(s.jsxs("div",{className:qt("fixed inset-0 flex items-center justify-center p-6 sm:p-12 transition-opacity duration-[55ms] ease-out backdrop-blur-[16px] pointer-events-auto",l?"opacity-100":"opacity-0"),style:{zIndex:2147483647,position:"fixed",willChange:"opacity",backdropFilter:me?"blur(16px)":"none",WebkitBackdropFilter:me?"blur(16px)":"none"},children:[s.jsx("div",{className:qt("absolute inset-0 bg-[rgba(4,14,21,0.55)] transition-opacity duration-[55ms] ease-out",l?"opacity-100":"opacity-0"),onClick:ue,"aria-hidden":"true",style:{willChange:"opacity",backdropFilter:me?"blur(20px) saturate(1.55)":"none",WebkitBackdropFilter:me?"blur(20px) saturate(1.55)":"none"}}),s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"legal-dialog-title",className:qt("relative w-full max-w-3xl flex flex-col transition-[opacity,transform] duration-[55ms] ease-out h-full",l?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-4 scale-[0.97]"),style:{willChange:"opacity, transform",maxHeight:"calc(var(--viewport-height, 100dvh) - 4rem)"},children:s.jsxs("div",{className:"squircle-xl glass-card landing-glass shadow-[0_24px_60px_-25px_rgba(7,27,27,0.55)] h-full flex flex-col overflow-hidden border-[3px]",style:{backgroundColor:"rgba(245, 251, 255, 0.94)",borderColor:"rgba(95, 179, 249, 0.65)",backdropFilter:me?"blur(16px) saturate(1.45)":"none",WebkitBackdropFilter:me?"blur(16px) saturate(1.45)":"none"},children:[s.jsxs("div",{className:"legal-modal-header flex items-center justify-between gap-4 px-4 sm:px-5 flex-shrink-0 border-b",style:{borderColor:"rgba(95, 179, 249, 0.2)",backgroundColor:"rgb(255, 255, 255)"},children:[s.jsx("h2",{id:"legal-dialog-title",className:"flex-1 text-xl sm:text-2xl font-semibold text-[rgb(95,179,249)] pr-2",children:M.title}),s.jsxs("button",{type:"button",onClick:ie=>{ie.stopPropagation(),ue()},className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)",borderRadius:"50%"},children:[s.jsx(md,{className:"h-4 w-4","aria-hidden":"true"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-6 sm:px-8 py-8",children:s.jsx("div",{className:"legal-richtext text-sm leading-relaxed text-slate-700",dangerouslySetInnerHTML:{__html:M.html}})})]})})]}),document.body),t&&d&&By.createPortal(s.jsxs("div",{className:qt("fixed inset-0 flex items-center justify-center p-6 sm:p-12 transition-opacity duration-[55ms] ease-out backdrop-blur-[16px] pointer-events-auto",g?"opacity-100":"opacity-0"),style:{zIndex:2147483647,willChange:"opacity",backdropFilter:me?"blur(16px)":"none",WebkitBackdropFilter:me?"blur(16px)":"none"},onClick:le,"aria-modal":"true",role:"dialog",children:[s.jsx("div",{className:qt("absolute inset-0 bg-[rgba(4,14,21,0.55)] transition-opacity duration-[55ms] ease-out",g?"opacity-100":"opacity-0"),"aria-hidden":"true",style:{willChange:"opacity",backdropFilter:me?"blur(20px) saturate(1.55)":"none",WebkitBackdropFilter:me?"blur(20px) saturate(1.55)":"none"}}),s.jsxs("div",{className:qt("relative w-full max-w-lg flex flex-col squircle-xl glass-card landing-glass shadow-[0_24px_60px_-25px_rgba(7,27,27,0.55)] overflow-hidden border-[3px] transition-[opacity,transform] duration-[55ms] ease-out",g?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-4 scale-[0.97]"),style:{backgroundColor:"rgba(245, 251, 255, 0.94)",borderColor:"rgba(95, 179, 249, 0.65)"},onClick:ie=>ie.stopPropagation(),children:[s.jsxs("div",{className:"legal-modal-header flex items-center justify-between gap-4 px-6 sm:px-7 flex-shrink-0 border-b",style:{borderColor:"rgba(95, 179, 249, 0.2)",backgroundColor:"rgb(255, 255, 255)"},children:[s.jsx("h2",{className:"flex-1 text-lg font-semibold text-[rgb(95,179,249)]",children:"Contact Form"}),s.jsxs("button",{type:"button",onClick:le,className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)",borderRadius:"50%"},children:[s.jsx(md,{className:"h-4 w-4","aria-hidden":"true"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]}),s.jsxs("form",{className:"px-6 sm:px-7 py-6 pt-4 space-y-4",onSubmit:fe,children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-mediumtext-slate-700",htmlFor:"contact-name",children:"Name"}),s.jsx("input",{id:"contact-name",type:"text",value:D.name,onChange:ie=>L(J=>({...J,name:ie.target.value})),required:!0,className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.25)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"contact-email",children:"Email"}),s.jsx("input",{id:"contact-email",type:"email",value:D.email,onChange:ie=>L(J=>({...J,email:ie.target.value})),required:!0,className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.25)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"contact-phone",children:"Phone"}),s.jsx("input",{id:"contact-phone",type:"tel",value:D.phone,onChange:ie=>L(J=>({...J,phone:ie.target.value})),className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.25)]"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"contact-source",children:"How did you get introduced to PepPro?"}),s.jsx("input",{id:"contact-source",type:"text",value:D.source,onChange:ie=>L(J=>({...J,source:ie.target.value})),className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.25)]"})]}),s.jsxs("div",{className:"flex w-full items-center justify-between pt-3 mb-4",children:[s.jsxs("div",{className:"text-sm",children:[N&&s.jsx("p",{className:"text-red-600",role:"alert",children:N}),P&&s.jsx("p",{className:"text-emerald-600",role:"status",children:P})]}),s.jsx("button",{type:"submit",disabled:v,className:"inline-flex items-center justify-center squircle-sm px-6 py-2 text-sm font-semibold text-white shadow-lg shadow-[rgba(95,179,249,0.4)] transition duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-60 disabled:cursor-not-allowed mb-[3px]",style:{backgroundColor:"rgb(95, 179, 249)"},children:v?"Sending":"Send"})]})]})]})]}),document.body)]})}const BA={},ace="/api/woo.php",Wv="false".toLowerCase()==="true",sce=String(BA?.VITE_CATALOG_SNAPSHOT_DISABLED||"").toLowerCase()==="true",Ly=String(BA?.VITE_WOO_DEBUG||"").toLowerCase()==="true",S9=(()=>{const e=String(BA?.VITE_WOO_REQUEST_TIMEOUT_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?t:3e4})(),ice=()=>{const e="".trim();return e||(Fe?`${Fe.replace(/\/+$/,"")}/woo`:ace)},qC=ice(),pD="a-long-random-string-to-serve-as-proxy-token".trim(),oce=/\.php($|\?)/i.test(qC),lce=()=>Fe?`${Fe.replace(/\/+$/,"")}/catalog`:"",mD=lce(),cce=()=>typeof window<"u"&&window.location?.origin?window.location.origin:"http://localhost",uce=e=>/^https?:\/\//i.test(e),UC=e=>uce(e)?new URL(e):new URL(e,cce()),N9=(e={})=>Object.entries(e).reduce((t,[r,n])=>n==null?t:typeof n=="boolean"?(t[r]=n?"true":"false",t):typeof n=="number"?(Number.isFinite(n)&&(t[r]=String(n)),t):(typeof n=="string"&&n.trim().length>0&&(t[r]=n),t),{});function dce(e,t={}){const r=e.replace(/^\/+/,""),n=N9(t);if(oce){const l=UC(qC);return pD&&l.searchParams.set("token",pD),l.searchParams.set("endpoint",r),Object.keys(n).length>0&&l.searchParams.set("q",new URLSearchParams(n).toString()),l.toString()}const a=qC.replace(/\/+$/,""),i=UC(`${a}/${r}`);return Object.entries(n).forEach(([l,u])=>{i.searchParams.set(l,u)}),i.toString()}async function j9(e,t={}){if(Wv)return typeof console<"u"&&console.warn&&console.warn("[Catalog] Frontend catalog access is disabled via VITE_WOO_DISABLED"),Array.isArray([])?[]:{};const r=dce(e,t),n=(()=>{try{const u=new URL(r);return u.searchParams.has("token")&&u.searchParams.set("token","REDACTED"),u.toString()}catch{return r}})(),a=Date.now(),i=typeof AbortController<"u"?new AbortController:null,l=i?globalThis.setTimeout(()=>i.abort(),S9):null;try{Ly&&console.info("[Catalog] GET",{endpoint:e,url:n,params:t});const u=await fetch(r,{method:"GET",cache:"default",signal:i?.signal});if(Ly&&console.info("[Catalog] GET complete",{endpoint:e,status:u.status,durationMs:Date.now()-a}),!u.ok){const d=await u.text().catch(()=>"");throw new Error(`Catalog request failed (${u.status}): ${d}`)}return u.json()}catch(u){if(Ly){const d=typeof u?.message=="string"&&u.message.trim().length>0?u.message:"Unknown error";console.warn("[Catalog] GET failed",{endpoint:e,url:n,message:d,durationMs:Date.now()-a})}throw u}finally{l&&globalThis.clearTimeout(l)}}async function qA(e,t={}){if(!mD||sce)return j9(e,t);const r=e.replace(/^\/+/,""),n=UC(`${mD.replace(/\/+$/,"")}/${r}`);Object.entries(N9(t)).forEach(([u,d])=>n.searchParams.set(u,d));const a=Date.now(),i=typeof AbortController<"u"?new AbortController:null,l=i?globalThis.setTimeout(()=>i.abort(),Math.min(S9,15e3)):null;try{Ly&&console.info("[Catalog] GET(snapshot)",{endpoint:e,url:n.toString(),params:t});const u=await fetch(n.toString(),{method:"GET",cache:"no-store",signal:i?.signal});if(Ly&&console.info("[Catalog] GET(snapshot) complete",{endpoint:e,status:u.status,durationMs:Date.now()-a}),!u.ok)throw new Error(`Catalog snapshot request failed (${u.status})`);return u.json()}finally{l&&globalThis.clearTimeout(l)}}const _9=(e={})=>Wv?Promise.resolve([]):qA("products",{per_page:100,...e}),fce=(e={})=>Wv?Promise.resolve([]):qA("categories",{per_page:100,...e}),hD=(e,t={})=>Wv?Promise.resolve([]):qA(`products/${e}/variations`,{...t}),gD=(e,t={})=>Wv?Promise.resolve(null):j9(`products/${e}`,{...t}),C9={"/contact":"contact","/pricing":"pricing","/returns-refunds":"returns-refunds"},pce=e=>!!C9[e],iw=({title:e,children:t})=>s.jsx("div",{className:"w-full max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"glass-card squircle-xl border border-[var(--brand-glass-border-1)] bg-white/80 p-7 sm:p-10",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-slate-900",children:e}),s.jsx("div",{className:"mt-6 text-slate-800",children:t})]})}),mce=()=>s.jsx("header",{className:"w-full glass-strong",children:s.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("a",{href:"/",className:"flex items-center gap-3 min-w-0",children:[s.jsx("img",{src:Vp("/PepPro_fulllogo.png"),alt:"PepPro",className:"h-10 w-auto object-contain",loading:"eager",decoding:"async"}),s.jsx("span",{className:"sr-only",children:"PepPro home"})]}),s.jsxs("nav",{className:"flex flex-wrap items-center gap-2 text-sm font-medium text-[rgb(95,179,249)]",children:[s.jsx("a",{className:"rounded-full px-3 py-1.5 btn-hover-lighter",href:"/pricing",children:"Pricing"}),s.jsx("a",{className:"rounded-full px-3 py-1.5 btn-hover-lighter",href:"/contact",children:"Contact"}),s.jsx("a",{className:"rounded-full px-3 py-1.5 btn-hover-lighter",href:"/returns-refunds",children:"Returns"})]})]})})}),hce=()=>s.jsx(iw,{title:"Contact",children:s.jsxs("div",{className:"space-y-6 text-sm leading-relaxed text-slate-800",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-semibold text-slate-900",children:"Merchant identity"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-1",children:[s.jsx("p",{children:s.jsx("span",{className:"font-semibold",children:"PepPro"})}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"DBA:"})," ",pa.dba]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Legal Entity:"})," ",pa.legalEntity]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Address:"})," ",pa.address]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Phone:"})," ",pa.phone]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Email:"})," ",s.jsx("a",{className:"text-[rgb(95,179,249)] underline",href:`mailto:${pa.email}`,children:pa.email})]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Business Hours:"})," ",pa.businessHours]})]})]}),s.jsxs("div",{className:"rounded-xl border border-[rgba(15,23,42,0.12)] bg-white/70 p-4",children:[s.jsx("p",{className:"font-semibold text-slate-900",children:"Customer service"}),s.jsxs("p",{className:"mt-1",children:["For assistance, email ",s.jsx("a",{className:"text-[rgb(95,179,249)] underline",href:`mailto:${pa.email}`,children:pa.email})," or call ",pa.phone,"."]})]}),s.jsx("p",{className:"text-xs text-slate-600",children:"PepPro peptide products are research chemicals intended for licensed physicians only. They are not intended to prevent, treat, or cure any medical condition, ailment or disease. These products have not been reviewed or approved by the US Food and Drug Administration."})]})}),gce=()=>s.jsx(iw,{title:"Returns & Refunds Policy",children:s.jsxs("div",{className:"space-y-4 text-sm leading-relaxed text-slate-800",children:[s.jsx("p",{className:"text-xs text-slate-600",children:"Last updated: February 3, 2026"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-semibold text-slate-900",children:"Returns"}),s.jsx("p",{children:"All sales are final unless the product arrives damaged or incorrect."}),s.jsxs("p",{children:["Requests must be submitted within ",s.jsx("span",{className:"font-semibold",children:"7 days"})," of delivery."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-semibold text-slate-900",children:"Refunds"}),s.jsx("p",{children:"Refunds, if approved, will be issued to the original form of payment."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-semibold text-slate-900",children:"How to request a return or refund"}),s.jsxs("p",{children:["Email ",s.jsx("a",{className:"text-[rgb(95,179,249)] underline",href:`mailto:${pa.email}`,children:pa.email})," and include your order number, the reason for the request, and (if applicable) photos of damage."]})]})]})}),yce=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),vce=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,i]=y.useState(null);y.useEffect(()=>{let u=!1;return n(!0),i(null),_9({per_page:12}).then(d=>{if(u)return;const g=(Array.isArray(d)?d:[]).map(m=>{const v=m?.id!=null?String(m.id):"",w=typeof m?.name=="string"?m.name:"",P=m?.price??m?.regular_price??m?.sale_price,_=Number(P),N=Number.isFinite(_)?yce(_):"";return{id:v,name:w,price:N,currency:"USD"}}).filter(m=>m.name&&m.price);t(g),n(!1)}).catch(d=>{u||(i(typeof d?.message=="string"?d.message:"Unable to load pricing."),n(!1))}),()=>{u=!0}},[]);const l=y.useMemo(()=>r?s.jsx("p",{className:"text-sm text-slate-700",children:"Loading pricing"}):e.length===0?s.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[a?s.jsx("p",{className:"text-red-700",children:a}):null,s.jsx("p",{children:"Pricing is currently unavailable."}),s.jsxs("p",{className:"text-xs text-slate-600",children:["If you are an underwriter and cannot view pricing here, please contact ",s.jsx("a",{className:"text-[rgb(95,179,249)] underline",href:`mailto:${pa.email}`,children:pa.email}),"."]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-slate-700",children:[s.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Product"}),s.jsx("th",{className:"py-2 pr-4 font-semibold",children:"Price"}),s.jsx("th",{className:"py-2 font-semibold",children:"Currency"})]})}),s.jsx("tbody",{children:e.map(u=>s.jsxs("tr",{className:"border-t border-[rgba(15,23,42,0.10)]",children:[s.jsx("td",{className:"py-2 pr-4 text-slate-900",children:u.name}),s.jsx("td",{className:"py-2 pr-4 text-slate-900",children:u.price}),s.jsx("td",{className:"py-2 text-slate-700",children:u.currency})]},u.id||u.name))})]})}),[a,r,e]);return s.jsx(iw,{title:"Pricing (USD)",children:s.jsxs("div",{className:"space-y-5",children:[s.jsx("p",{className:"text-sm text-slate-700",children:"Sample product pricing is shown below. Purchase may require login, but pricing is visible here."}),l,s.jsx("p",{className:"text-xs text-slate-600",children:"Research Use Only. No medical claims are made or implied."})]})})};function bce({pathname:e}){const t=C9[e],r=(()=>{switch(t){case"contact":return s.jsx(hce,{});case"pricing":return s.jsx(vce,{});case"returns-refunds":return s.jsx(gce,{});default:return s.jsxs(iw,{title:"Not found",children:[s.jsx("p",{className:"text-sm text-slate-700",children:"That page does not exist."}),s.jsx("a",{className:"mt-4 inline-flex text-[rgb(95,179,249)] underline",href:"/",children:"Return home"})]})}})();return s.jsxs("div",{className:qt("min-h-screen flex flex-col","bg-[var(--brand-bg)]"),children:[s.jsx(mce,{}),s.jsx("main",{className:"flex-1",children:r}),s.jsx(BC,{showContactCTA:!1,variant:"full"})]})}function du(e){const t=new Uint8Array(e);let r="";for(const a of t)r+=String.fromCharCode(a);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ux(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4,n=t.padEnd(t.length+r,"="),a=atob(n),i=new ArrayBuffer(a.length),l=new Uint8Array(i);for(let u=0;u<a.length;u++)l[u]=a.charCodeAt(u);return i}function ow(){return xce.stubThis(globalThis?.PublicKeyCredential!==void 0&&typeof globalThis.PublicKeyCredential=="function")}const xce={stubThis:e=>e};function P9(e){const{id:t}=e;return{...e,id:ux(t),transports:e.transports}}function A9(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}class ni extends Error{constructor({message:t,code:r,cause:n,name:a}){super(t,{cause:n}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a??n.name,this.code=r}}function wce({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ni({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(r.authenticatorSelection?.requireResidentKey===!0)return new ni({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&r.authenticatorSelection?.userVerification==="required")return new ni({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(r.authenticatorSelection?.userVerification==="required")return new ni({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ni({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ni({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return r.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ni({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ni({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const n=globalThis.location.hostname;if(A9(n)){if(r.rp.id!==n)return new ni({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ni({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new ni({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ni({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}class Sce{constructor(){Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const k9=new Sce,Nce=["cross-platform","platform"];function E9(e){if(e&&!(Nce.indexOf(e)<0))return e}async function jce(e){!e.optionsJSON&&e.challenge&&(console.warn("startRegistration() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useAutoRegister:r=!1}=e;if(!ow())throw new Error("WebAuthn is not supported in this browser");const n={...t,challenge:ux(t.challenge),user:{...t.user,id:ux(t.user.id)},excludeCredentials:t.excludeCredentials?.map(P9)},a={};r&&(a.mediation="conditional"),a.publicKey=n,a.signal=k9.createNewAbortSignal();let i;try{i=await navigator.credentials.create(a)}catch(P){throw wce({error:P,options:a})}if(!i)throw new Error("Registration was not completed");const{id:l,rawId:u,response:d,type:f}=i;let g;typeof d.getTransports=="function"&&(g=d.getTransports());let m;if(typeof d.getPublicKeyAlgorithm=="function")try{m=d.getPublicKeyAlgorithm()}catch(P){Xj("getPublicKeyAlgorithm()",P)}let v;if(typeof d.getPublicKey=="function")try{const P=d.getPublicKey();P!==null&&(v=du(P))}catch(P){Xj("getPublicKey()",P)}let w;if(typeof d.getAuthenticatorData=="function")try{w=du(d.getAuthenticatorData())}catch(P){Xj("getAuthenticatorData()",P)}return{id:l,rawId:du(u),response:{attestationObject:du(d.attestationObject),clientDataJSON:du(d.clientDataJSON),transports:g,publicKeyAlgorithm:m,publicKey:v,authenticatorData:w},type:f,clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:E9(i.authenticatorAttachment)}}function Xj(e,t){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${e}. You should report this error to them.
`,t)}function O9(){if(!ow())return Qj.stubThis(new Promise(t=>t(!1)));const e=globalThis.PublicKeyCredential;return e?.isConditionalMediationAvailable===void 0?Qj.stubThis(new Promise(t=>t(!1))):Qj.stubThis(e.isConditionalMediationAvailable())}const Qj={stubThis:e=>e};function _ce({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ni({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ni({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=globalThis.location.hostname;if(A9(n)){if(r.rpId!==n)return new ni({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ni({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ni({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}async function Cce(e){!e.optionsJSON&&e.challenge&&(console.warn("startAuthentication() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useBrowserAutofill:r=!1,verifyBrowserAutofillInput:n=!0}=e;if(!ow())throw new Error("WebAuthn is not supported in this browser");let a;t.allowCredentials?.length!==0&&(a=t.allowCredentials?.map(P9));const i={...t,challenge:ux(t.challenge),allowCredentials:a},l={};if(r){if(!await O9())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1&&n)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');l.mediation="conditional",i.allowCredentials=[]}l.publicKey=i,l.signal=k9.createNewAbortSignal();let u;try{u=await navigator.credentials.get(l)}catch(w){throw _ce({error:w,options:l})}if(!u)throw new Error("Authentication was not completed");const{id:d,rawId:f,response:g,type:m}=u;let v;return g.userHandle&&(v=du(g.userHandle)),{id:d,rawId:du(f),response:{authenticatorData:du(g.authenticatorData),clientDataJSON:du(g.clientDataJSON),signature:du(g.signature),userHandle:v},type:m,clientExtensionResults:u.getClientExtensionResults(),authenticatorAttachment:E9(u.authenticatorAttachment)}}const Pce=async()=>{if(typeof window>"u"||!ow()||!window.PublicKeyCredential||typeof window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable!="function")return!1;try{return await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}catch{return!1}},Ace=()=>typeof window>"u"?!1:O9(),kce=async e=>jce(e),Ece=async(e,t=!1)=>Cce(e),El={},Oce="false".toLowerCase()==="true",Rce="false".toLowerCase()==="true",Di=e=>(e||"").trim().toLowerCase().replace(/[\s-]+/g,"_"),dt=e=>Di(e)==="admin",Sn=e=>{const t=Di(e);return t!=="admin"&&(t==="sales_lead"||t==="saleslead"||t==="sales-lead")},vr=e=>{const t=Di(e);return t!=="admin"&&(t==="sales_rep"||t==="rep"||t==="sales_lead"||t==="saleslead"||t==="sales-lead")},Tce=e=>Di(e)==="test_doctor",Ti=e=>{const t=Di(e);return t==="doctor"||t==="test_doctor"},V0=()=>{},Ii=()=>typeof document>"u"?!0:!document.hidden,jh=()=>typeof navigator>"u"?!0:navigator.onLine!==!1,R9=e=>e?e.trim().toLowerCase()==="trash"?"Canceled":e.split(/[_\s]+/).map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "):"Pending",Ice=e=>{if(!e)return null;const t=String(e).trim();if(!t)return null;const r=t.toLowerCase().replace(/[\s-]+/g,"_");return r.includes("zelle")?"Zelle":r==="bacs"||r==="bank_transfer"||r==="direct_bank_transfer"||r.includes("direct_bank_transfer")||r.includes("direct_bank")||r.includes("bank_transfer")||r.includes("banktransfer")?"Direct Bank Transfer":r.includes("stripe")?"Card payment":t},Vo=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Mce=(e,t)=>{if(!e)return null;const r=(t||"").toLowerCase(),n=encodeURIComponent(e);return r.includes("ups")?`https://www.ups.com/track?loc=en_US&tracknum=${n}`:r.includes("usps")?`https://tools.usps.com/go/TrackConfirmAction?tLabels=${n}`:r.includes("fedex")?`https://www.fedex.com/fedextrack/?trknbr=${n}`:r.includes("dhl")?`https://www.dhl.com/en/express/tracking.html?AWB=${n}`:`https://www.google.com/search?q=${n}`},$y=e=>{if(!e)return null;const t=e?.number||e?.id||e?.wooOrderNumber||e?.orderNumber||"unknown";let r=null;const n=e?.trackingNumber||e?.tracking_number||e?.tracking||null;if(n&&(r=String(n)),!r){const a=Vo(e.integrationDetails||e.integrations),i=Vo(a?.shipStation||a?.shipstation),l=i?.trackingNumber||i?.tracking_number||i?.tracking||null;if(l&&(r=String(l)),!r){const u=i?.shipments||i?.shipment||i?.data?.shipments||[];if(Array.isArray(u)){const d=v=>v?.trackingNumber||v?.tracking_number||v?.tracking||null,f=u.find(v=>v&&v.voided===!1&&d(v)),g=u.find(v=>v&&d(v)),m=f||g;m&&(r=String(d(m)))}}}return r?(console.info("[Tracking] Resolved tracking number",{order:t,tracking:r}),r):null},Dce=e=>{if(!e)return null;const t=String(e.status||"").trim().toLowerCase();if(t==="refunded"||t==="cancelled"||t==="canceled"||t==="trash"){const m=String(e.status||"").trim();return m.length>0?m:null}const r=Vo(e.integrationDetails||e.integrations),n=Vo(r?.shipStation||r?.shipstation),a=Vo(r?.carrierTracking||r?.carrier_tracking||r?.trackingDetails||r?.tracking_details),i=n?.shipments||n?.shipment||n?.data?.shipments||[],l=n?.status||(Array.isArray(i)?(()=>{const m=i.find(v=>v&&(v?.status||v?.shipmentStatus||v?.shipment_status||v?.trackingStatus||v?.tracking_status||v?.deliveryStatus||v?.delivery_status));return m?.status||m?.shipmentStatus||m?.shipment_status||m?.trackingStatus||m?.tracking_status||m?.deliveryStatus||m?.delivery_status||null})():null),u=a?.trackingStatus||a?.tracking_status||a?.status||a?.deliveryStatus||a?.delivery_status||null,f=e.shippingEstimate?.status||u||l||e.status||null;if(!f)return null;const g=String(f).trim();return g.length>0?g:null},Lce=e=>{if(!e)return null;const t=Vo(e.integrationDetails||e.integrations),r=Vo(t?.shipStation||t?.shipstation),n=Vo(t?.carrierTracking||t?.carrier_tracking||t?.trackingDetails||t?.tracking_details),a=r?.shipments||r?.shipment||r?.data?.shipments||[],i=n?.trackingStatus||n?.tracking_status||n?.status||n?.deliveryStatus||n?.delivery_status||null,l=e.shippingEstimate?.status||i||r?.status||null;if(l)return String(l).trim()||null;if(!Array.isArray(a))return null;const u=a.find(f=>f&&(f?.status||f?.shipmentStatus||f?.shipment_status||f?.trackingStatus||f?.tracking_status||f?.deliveryStatus||f?.delivery_status)),d=u?.status||u?.shipmentStatus||u?.shipment_status||u?.trackingStatus||u?.tracking_status||u?.deliveryStatus||u?.delivery_status||null;return d&&String(d).trim()||null},Zj=e=>{const t=Dce(e),n=(t?String(t):"").trim().toLowerCase(),a=Lce(e),i=a?String(a).trim().toLowerCase():"";if(n==="trash"||n==="canceled"||n==="cancelled")return"Canceled";if(n==="refunded")return"Refunded";if(i.includes("out_for_delivery")||i.includes("out-for-delivery"))return"Out for Delivery";if(i.includes("in_transit")||i.includes("in-transit"))return"In Transit";if(i.includes("delivered"))return"Delivered";const l=typeof e?.trackingNumber=="string"?String(e.trackingNumber).trim():"",u=e?.shippingEstimate?.estimatedArrivalDate||null;return typeof u=="string"&&u.trim().length>0,n==="shipped"?"Shipped":n.includes("out_for_delivery")||n.includes("out-for-delivery")?"Out for Delivery":n.includes("in_transit")||n.includes("in-transit")?"In Transit":n.includes("delivered")?"Delivered":l?"Shipped":n==="processing"?"Order Received":n==="completed"||n==="complete"?"Shipped":n==="awaiting_shipment"||n==="awaiting shipment"?"Order Received":t?R9(t):"Pending"},G0="peppro_variation_cache_v2",Mi=e=>{if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},Hp=e=>e?!!(Mi(e.addressLine1)||Mi(e.city)||Mi(e.state)||Mi(e.postalCode)):!1,zC=(e,t)=>{if(!(!e&&!t))return{name:Mi(e?.name)||Mi(t),company:Mi(e?.company),addressLine1:Mi(e?.addressLine1),addressLine2:Mi(e?.addressLine2),city:Mi(e?.city),state:Mi(e?.state),postalCode:Mi(e?.postalCode),country:Mi(e?.country)||"US",phone:Mi(e?.phone),email:Mi(e?.email)}},Op=e=>{if(!e)return"PP";const t=new Set(["mr","mrs","ms","miss","mx","dr","doctor","prof","sir","madam"]),r=new Set(["jr","sr","ii","iii","iv","v"]),n=e.split(/\s+/).map(d=>d.replace(/[.,]/g,"").trim()).filter(Boolean),a=n.filter((d,f)=>{const g=d.toLowerCase();return!(t.has(g)||f===n.length-1&&r.has(g))}),i=a.length?a:n;if(i.length===0)return"PP";if(i.length===1)return i[0].slice(0,2).toUpperCase()||"PP";const l=i[0]?.[0]||"",u=i[i.length-1]?.[0]||"";return(l+u).toUpperCase()||"PP"},$ce=e=>{if(!e)return;const t={name:e.name||e.npiVerification?.name||null,addressLine1:e.officeAddressLine1||null,addressLine2:e.officeAddressLine2||null,city:e.officeCity||null,state:e.officeState||null,postalCode:e.officePostalCode||null,country:"US"};return Hp(t)?zC(t):void 0},Fce=(e,t)=>{if(!(!e||e.length===0))for(const r of e){if(Hp(r.shippingAddress))return zC(r.shippingAddress,t);if(Hp(r.billingAddress))return zC(r.billingAddress,t)}},zo="/PepPro_icon.png",yD=e=>{if(typeof e!="string")return null;let t=e.trim();if(!t)return null;t.startsWith("//")&&(t=`https:${t}`),/^http:\/\//i.test(t)&&(t=t.replace(/^http:\/\//i,"https://"));try{const r=new URL(t);return r.protocol="https:",r.pathname=r.pathname.split("/").map(n=>encodeURIComponent(decodeURIComponent(n))).join("/"),lb(r.toString())}catch{return lb(t)}},Bce="/reset-password",T9=e=>e&&e.replace(/\/+$/,"")||"/",dx=()=>typeof window<"u"&&T9(window.location.pathname)===Bce,WC=()=>typeof window>"u"?null:new URLSearchParams(window.location.search).get("token"),qce=()=>dx()?"reset":"login",Uce=()=>dx()?WC():null,cr=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;const t=Number(e);return Number.isFinite(t)?t:void 0},vD=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},zce=e=>{const t=[e?.image,e?.imageUrl,e?.image_url,e?.thumbnail,e?.thumb];for(const n of t){if(typeof n=="string"&&n.trim().length>0)return n.trim();if(n&&typeof n=="object"){const a=n.src||n.url||n.href||n.source;if(typeof a=="string"&&a.trim().length>0)return a.trim()}}const r=Array.isArray(e?.meta_data)?e.meta_data:Array.isArray(e?.meta)?e.meta:[];for(const n of r){const a=n?.value;if(typeof a=="string"&&a.trim().length>0)return a.trim();if(a&&typeof a=="object"){const i=a.src||a.url||a.href||a.source;if(typeof i=="string"&&i.trim().length>0)return i.trim()}}return null},HC=e=>Array.isArray(e)?e.map(t=>{const r=cr(t?.quantity),n=cr(t?.price),a=cr(t?.total)??(n&&r?n*r:void 0);return{id:t?.id?String(t.id):void 0,name:typeof t?.name=="string"?t.name:null,quantity:r??null,total:a??null,price:n??null,sku:typeof t?.sku=="string"&&t.sku.trim().length>0?t.sku.trim():null,productId:vD(t?.productId??t?.product_id??t?.wooProductId),variantId:vD(t?.variantId??t?.variation_id??t?.wooVariationId),image:zce(t)}}).filter(t=>t.name):[],bD=e=>{if(!e)return 0;const t=Array.isArray(e?.lineItems)?e.lineItems:Array.isArray(e?.items)?HC(e.items):[],r=Array.isArray(t)?t.reduce((a,i)=>{const l=cr(i?.quantity)??0;if(l<=0)return a;const u=cr(i?.total);if(typeof u=="number"&&Number.isFinite(u)&&u>0)return a+u;const d=cr(i?.price);return typeof d=="number"&&Number.isFinite(d)&&d>0?a+d*l:a},0):0;if(r>0)return Math.max(0,r);const n=cr(e?.itemsSubtotal??e?.items_subtotal??e?.itemsTotal??e?.items_total??e?.subtotal);return typeof n=="number"&&Number.isFinite(n)&&n>0?Math.max(0,n):0},ra=e=>{if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},K0=e=>{if(!e||typeof e!="object")return null;const t=ra(e.first_name)||ra(e.firstName),r=ra(e.last_name)||ra(e.lastName),n=[t,r].filter(Boolean).join(" ").trim()||null;return{name:ra(e.name)||n,company:ra(e.company),addressLine1:ra(e.addressLine1)||ra(e.address_1),addressLine2:ra(e.addressLine2)||ra(e.address_2),city:ra(e.city),state:ra(e.state),postalCode:ra(e.postalCode)||ra(e.postcode),country:ra(e.country),phone:ra(e.phone),email:ra(e.email)}},xD=(e,t)=>{if(!e||typeof e!="object")return null;const r=f=>{if(typeof f!="string"||!f.trim())return null;const g=new Date(f);return Number.isNaN(g.getTime())?null:g.toISOString()},n=f=>{const g=Number(f);return!Number.isFinite(g)||g<=0?null:Math.round(g*100)/100},a=f=>{if(!f||typeof f!="object")return null;const g=n(f.length)??n(f.lengthIn)??n(f.l),m=n(f.width)??n(f.widthIn)??n(f.w),v=n(f.height)??n(f.heightIn)??n(f.h);return!g||!m||!v?null:{length:g,width:m,height:v}},i=t?.fallbackDate||null,l=a(e.packageDimensions)||a(e.dimensions),u={carrierId:e.carrierId||e.carrier_id||null,serviceCode:e.serviceCode||e.service_code||null,serviceType:e.serviceType||e.service_type||null,estimatedDeliveryDays:Number.isFinite(Number(e.estimatedDeliveryDays))?Number(e.estimatedDeliveryDays):null,deliveryDateGuaranteed:e.deliveryDateGuaranteed||e.delivery_date||null,rate:cr(e.rate)??null,currency:typeof e.currency=="string"?e.currency:null,estimatedArrivalDate:typeof e.estimatedArrivalDate=="string"?r(e.estimatedArrivalDate):typeof e.estimated_arrival_date=="string"?r(e.estimated_arrival_date):null,packageCode:e.packageCode||e.package_code||e.packageType||null,packageDimensions:l,weightOz:cr(e.weightOz)??null,meta:typeof e.meta=="object"&&e.meta!==null?e.meta:null};if(!u.estimatedArrivalDate&&u.deliveryDateGuaranteed&&(u.estimatedArrivalDate=r(u.deliveryDateGuaranteed)),!u.estimatedArrivalDate&&u.estimatedDeliveryDays&&Number.isFinite(u.estimatedDeliveryDays)&&u.estimatedDeliveryDays>0&&typeof i=="string"){const f=new Date(i);if(!Number.isNaN(f.getTime())){const g=new Date(f.getTime());g.setDate(g.getDate()+Number(u.estimatedDeliveryDays)),u.estimatedArrivalDate=g.toISOString()}}return Object.values(u).some(f=>f!=null)?u:null},Fy=e=>{if(typeof e!="string")return null;const t=e.replace(/^#/,"").trim().toLowerCase();return t.length>0?t:null},lu=e=>{if(typeof e=="number"&&Number.isFinite(e))return String(e);if(typeof e=="string"){const t=e.trim();if(!t)return null;if(/^\d+$/.test(t))return t;const r=t.match(/(\d+)/);if(r)return r[1]}return null},Wce=e=>{if(!e)return null;const t=e.integrationDetails?.wooCommerce||e.integrationDetails?.woocommerce||{},r=t.response||{},n=t.payload||{},a=[e.wooOrderId,e.woo_order_id,t.wooOrderId,t.woo_order_id,r.id,r.orderId,n.id,n.orderId];for(const i of a){const l=lu(i);if(l)return l}return null},Hce=(e,t)=>!e&&!t?null:e?t?{...t,...e,wooCommerce:{...e.wooCommerce||{},...t.wooCommerce||{}}}:e:t?{...t}:null,Vce=(e,t)=>{const r=i=>typeof i=="number"&&Number.isFinite(i)&&i>0,n=r(e.grandTotal)?e.grandTotal:r(e.total)?e.total:null,a=r(t.grandTotal)?t.grandTotal:r(t.total)?t.total:null;e.status=t.status||e.status,!n&&a?(e.total=a,e.grandTotal=a):r(e.grandTotal)&&(e.total=e.grandTotal),e.currency=t.currency||e.currency,e.number=t.number||e.number,e.wooOrderNumber=t.wooOrderNumber||t.number||e.wooOrderNumber,e.updatedAt=t.updatedAt||e.updatedAt,typeof e.notes!="string"&&typeof t.notes=="string"&&(e.notes=t.notes),!Hp(e.shippingAddress)&&Hp(t.shippingAddress)&&(e.shippingAddress=t.shippingAddress),!Hp(e.billingAddress)&&Hp(t.billingAddress)&&(e.billingAddress=t.billingAddress),!e.shippingEstimate&&t.shippingEstimate&&(e.shippingEstimate=t.shippingEstimate),typeof t.shippingTotal=="number"&&(e.shippingTotal=t.shippingTotal),typeof t.taxTotal=="number"&&(e.taxTotal=t.taxTotal),!r(e.itemsSubtotal)&&r(t.itemsSubtotal)&&(e.itemsSubtotal=t.itemsSubtotal),!r(e.originalItemsSubtotal)&&r(t.originalItemsSubtotal)&&(e.originalItemsSubtotal=t.originalItemsSubtotal),!e.discountCode&&t.discountCode&&(e.discountCode=t.discountCode),!r(e.discountCodeAmount)&&r(t.discountCodeAmount)&&(e.discountCodeAmount=t.discountCodeAmount),!r(e.appliedReferralCredit)&&r(t.appliedReferralCredit)&&(e.appliedReferralCredit=t.appliedReferralCredit),!e.lineItems?.length&&t.lineItems?.length&&(e.lineItems=t.lineItems),e.paymentMethod=e.paymentMethod||t.paymentMethod,e.paymentDetails=e.paymentDetails||t.paymentDetails,e.integrationDetails=Hce(e.integrationDetails,t.integrationDetails),!e.wooOrderId&&t.wooOrderId&&(e.wooOrderId=t.wooOrderId),e.cancellationId||(e.cancellationId=t.cancellationId||t.wooOrderId||e.wooOrderId||e.id)},Rp=(e,t)=>{const r=t?.includeCanceled??!1,n=[],a=new Map,i=new Map,l=d=>{if(!d)return!0;const f=String(d).trim().toLowerCase(),g=f==="trash"||f.includes("cancel")||f.includes("refund");return r||!g},u=d=>{n.push(d),d.id&&a.set(String(d.id),d);const f=Fy(d.wooOrderNumber||d.integrationDetails?.wooCommerce?.response?.number||d.integrationDetails?.wooCommerce?.wooOrderNumber||d.number);f&&i.set(f,d)};return e&&Array.isArray(e.local)&&e.local.filter(d=>l(d?.status)).forEach(d=>{const f=d?.id?String(d.id):`local-${Math.random().toString(36).slice(2,10)}`,g=lu(d?.wooOrderId)||lu(d?.woo_order_id)||Wce(d),m=g||f;u({id:f,number:d?.number||f,trackingNumber:$y(d),status:d?.status==="trash"?"canceled":d?.status||"pending",currency:d?.currency||"USD",total:cr(d?.grandTotal??d?.total)??null,grandTotal:cr(d?.grandTotal??d?.total)??null,itemsSubtotal:cr(d?.itemsSubtotal??d?.items_subtotal)??null,originalItemsSubtotal:cr(d?.originalItemsSubtotal??d?.original_items_subtotal)??null,discountCode:ra(d?.discountCode??d?.discount_code)||null,discountCodeAmount:cr(d?.discountCodeAmount??d?.discount_code_amount)??null,appliedReferralCredit:cr(d?.appliedReferralCredit??d?.applied_referral_credit)??null,notes:typeof d?.notes=="string"?d.notes:null,createdAt:d?.createdAt||null,updatedAt:d?.updatedAt||null,source:"peppro",lineItems:HC(d?.items||d?.lineItems||d?.line_items),integrations:d?.integrations||null,paymentMethod:d?.paymentMethod||null,paymentDetails:d?.paymentDetails||(d?.integrationDetails?.stripe?.cardLast4?`${d.integrationDetails?.stripe?.cardBrand||"Card"}  ${d.integrationDetails.stripe.cardLast4}`:d?.paymentMethod||null),integrationDetails:d?.integrationDetails||null,shippingAddress:K0(d?.shippingAddress||d?.shipping_address||d?.shipping),billingAddress:K0(d?.billingAddress||d?.billing_address||d?.billing),shippingEstimate:xD(d?.shippingEstimate||d?.shipping_estimate,{fallbackDate:d?.createdAt||null}),shippingTotal:cr(d?.shippingTotal)??null,taxTotal:cr(d?.taxTotal)??null,physicianCertified:d?.physicianCertified===!0,wooOrderNumber:ra(d?.wooOrderNumber||d?.integrationDetails?.wooCommerce?.response?.number||d?.integrationDetails?.wooCommerce?.wooOrderNumber)||null,wooOrderId:g||null,cancellationId:m})}),e&&Array.isArray(e.woo)&&e.woo.filter(d=>l(d?.status)).forEach(d=>{const f=d?.id?String(d.id):d?.number?`woo-${d.number}`:`woo-${Math.random().toString(36).slice(2,10)}`,g={id:f,number:d?.number||f,trackingNumber:$y(d),wooOrderNumber:ra(d?.number),wooOrderId:lu(d?.id)||lu(d?.wooOrderId)||null,status:d?.status==="trash"?"canceled":d?.status||"pending",currency:d?.currency||"USD",total:cr(d?.grandTotal??d?.total)??null,grandTotal:cr(d?.grandTotal??d?.total)??null,itemsSubtotal:cr(d?.itemsSubtotal??d?.items_subtotal??d?.itemsTotal??d?.items_total)??null,originalItemsSubtotal:cr(d?.originalItemsSubtotal??d?.original_items_subtotal)??null,discountCode:ra(d?.discountCode??d?.discount_code)||null,discountCodeAmount:cr(d?.discountCodeAmount??d?.discount_code_amount)??null,appliedReferralCredit:cr(d?.appliedReferralCredit??d?.applied_referral_credit)??null,notes:typeof d?.notes=="string"?d.notes:null,createdAt:d?.createdAt||d?.dateCreated||d?.date_created||null,updatedAt:d?.updatedAt||d?.dateModified||d?.date_modified||null,source:"woocommerce",lineItems:HC(d?.lineItems||d?.line_items||d?.items),integrations:d?.integrations||null,paymentMethod:d?.paymentMethod||null,paymentDetails:ra(d?.paymentDetails)||ra(d?.paymentMethod)||null,integrationDetails:d?.integrationDetails||null,shippingAddress:K0(d?.shippingAddress||d?.shipping||d?.shipping_address),billingAddress:K0(d?.billingAddress||d?.billing||d?.billing_address),shippingEstimate:xD(d?.shippingEstimate||d?.shipping_estimate,{fallbackDate:d?.createdAt||d?.dateCompleted||d?.date_created||null}),shippingTotal:cr(d?.shippingTotal??d?.shipping_total)??null,taxTotal:cr(d?.taxTotal??d?.total_tax??d?.totalTax)??null,physicianCertified:d?.physicianCertified===!0,cancellationId:lu(d?.id)||lu(d?.number)||f},m=ra(d?.integrationDetails?.wooCommerce?.pepproOrderId),v=Fy(g.wooOrderNumber),w=m&&a.get(m)||v&&i.get(v);w?Vce(w,g):n.push(g)}),n.sort((d,f)=>{const g=d.createdAt?new Date(d.createdAt).getTime():0;return(f.createdAt?new Date(f.createdAt).getTime():0)-g})},Gce=e=>(e||"").replace(/\s+/g," ").trim().toLowerCase(),Kce=new Set(["mr","mrs","ms","mx","dr","prof","sir","madam"]),Yce=new Set(["jr","sr","ii","iii","iv","v"]),wD=e=>Gce(e).split(" ").map(t=>t.replace(/[.,]/g,"")).filter(t=>t&&!Kce.has(t)&&!Yce.has(t)),Xce=(e,t)=>{const r=wD(e),n=wD(t);if(!r.length||!n.length)return!1;if(r.join(" ")===n.join(" "))return!0;const a=r[0],i=r[r.length-1],l=n[0],u=n[n.length-1];if(!a||!i||!l||!u||a!==l||i!==u)return!1;const d=r.slice(1,-1).join(" "),f=n.slice(1,-1).join(" ");return!d||!f?!0:d===f},Qce="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0%25' stop-color='%23B7D8F9'/%3E%3Cstop offset='100%25' stop-color='%2395C5F9'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='120' height='120' rx='16' fill='url(%23grad)'/%3E%3Cpath d='M35 80l15-18 12 14 11-12 12 16' stroke='%23ffffff' stroke-width='5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3Ccircle cx='44' cy='43' r='9' fill='none' stroke='%23ffffff' stroke-width='5'/%3E%3C/svg%3E",Zce=600,SD=6e4,ND=4e3,jD=900,Jce=3,eue=1200,Jj=300*1e3,tue=4500,ao=String(El?.VITE_CATALOG_DEBUG||"").toLowerCase()==="true",Ry="20260211155544".trim()||"v2.1.10",_D=(()=>{const e=String(El?.VITE_CATALOG_PAGE_CONCURRENCY||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?Math.min(Math.max(t,1),4):3})();typeof window<"u"&&(window.__PEPPRO_BUILD__=Ry);const rue=(()=>{const e=String(El?.VITE_VARIANT_PREFETCH_CONCURRENCY||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?Math.min(Math.max(t,1),12):1})(),CD=String(El?.VITE_BACKGROUND_VARIANT_PREFETCH||"").toLowerCase().trim()==="true",nue=(()=>{const e=String(El?.VITE_BACKGROUND_VARIANT_PREFETCH_START_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:1500})(),aue=(()=>{const e=String(El?.VITE_BACKGROUND_VARIANT_PREFETCH_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?t:650})(),e_=(()=>{const e=String(El?.VITE_VARIANT_POLL_INTERVAL_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?t:3e4})(),t_=(()=>{const e=String(El?.VITE_REFERRAL_BACKGROUND_MIN_INTERVAL_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:3e4})(),jy=String(El?.VITE_IMAGE_PREFETCH_ENABLED||"").toLowerCase().trim()!=="false",sue=(()=>{const e=String(El?.VITE_IMAGE_PREFETCH_CONCURRENCY||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?Math.min(Math.max(t,1),12):4})(),iue=(()=>{const e=String(El?.VITE_IMAGE_PREFETCH_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:150})(),PD=[{key:"pending_combined",label:"Pending",statuses:["pending","contact_form"]},{key:"contacted",label:"Contacting",statuses:["contacted"]},{key:"verified",label:"Verified",statuses:["verified","verifying"]},{key:"account_created",label:"Account Created",statuses:["account_created"]},{key:"converted",label:"Converted",statuses:["converted"]},{key:"nuture",label:"Nuturing",statuses:["nuture"]}],lw=[{key:"pending",label:"Pending"},{key:"contacted",label:"Contacting"},{key:"verified",label:"Verified"},{key:"account_created",label:"Account Created"},{key:"converted",label:"Converted"},{key:"nuture",label:"Nuturing"}],AD=lw.filter(e=>e.key!=="nuture"),oue=new Set(lw.filter(e=>e.key!=="pending").map(e=>e.key)),lue=new Set([...lw.map(e=>e.key),"contact_form"]),Rs=e=>{const t=(e||"").toLowerCase().trim();return t==="verifying"?"verified":lue.has(t)?t:"pending"},r_=e=>e?e.split(/\s+/).filter(Boolean).map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" ")||null:e??null,VC=[{key:"contact_form",label:"Pending"},{key:"contacted",label:"Contacting"},{key:"verified",label:"Verified"},{key:"account_created",label:"Account Created"},{key:"converted",label:"Converted"},{key:"nuture",label:"Nuturing"}];VC.filter(e=>e.key!=="nuture");const Y0="__manual_delete__",cue=(e,t=12)=>{if(!e)return[];const r=e.replace(/\//g," / ").split(" ").filter(Boolean),n=[];let a="";return r.forEach(i=>{const l=a?`${a} ${i}`:i;l.length<=t?a=l:(a&&n.push(a),a=i)}),a&&n.push(a),n},uue=({active:e,payload:t,label:r,onLeadClick:n})=>{if(!e||!t||t.length===0)return null;const a=t[0]?.payload||{},i=Array.isArray(a.leads)?a.leads:[],l=Array.isArray(a.names)?a.names:[],u=Number(a.count)||0,d=10,f=i.length>0?i:l.map(v=>({name:v})),g=f.slice(0,d),m=f.length-g.length;return s.jsxs("div",{className:"pipeline-tooltip max-w-[260px] rounded-xl border border-slate-200/90 bg-white/95 px-3 py-2 text-xs text-slate-700 shadow-lg backdrop-blur-lg",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:r}),s.jsxs("div",{className:"text-[11px] text-slate-500",children:[u," lead",u===1?"":"s"]}),g.length>0&&s.jsxs("ul",{className:"mt-2 max-h-40 space-y-1 overflow-y-auto pr-1 text-[11px] text-slate-700",children:[g.map((v,w)=>{const P=String(v?.name||"").trim()||"Prospect",_=String(v?.id||"").trim(),N=!!(n&&_);return s.jsx("li",{className:"truncate",children:N?s.jsx("button",{type:"button",className:"max-w-full truncate text-left text-[rgb(26,85,173)] hover:underline",onClick:E=>{E.preventDefault(),E.stopPropagation(),n?.({id:_,name:P,email:v?.email??null,role:v?.role??null})},children:P}):P},_||`${P}:${w}`)}),m>0&&s.jsxs("li",{className:"text-slate-500",children:["+",m," more"]})]})]})},due=({x:e=0,y:t=0,payload:r})=>{const n=cue(r?.value||""),a=14,i=t+12-(n.length-1)*a/2;return s.jsx("g",{transform:`translate(${e},${i})`,children:s.jsx("text",{textAnchor:"middle",fill:"#334155",fontSize:12,children:n.map((l,u)=>s.jsx("tspan",{x:0,dy:u===0?0:a,children:l},`${l}-${u}`))})})},Tp=e=>{if(!e)return"Unknown";const t=e.toLowerCase().trim(),r=lw.find(n=>n.key===t);return r?r.label:t==="contact_form"?"Pending":e.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")},jf=e=>e?e.replace(/<[^>]+>/g," ").replace(/&(#x?[0-9a-fA-F]+|[a-zA-Z]+);/g,(t,r)=>{const n=String(r||"").trim();if(!n)return t;const a=n.toLowerCase();if(a==="amp")return"&";if(a==="lt")return"<";if(a==="gt")return">";if(a==="quot")return'"';if(a==="apos")return"'";if(a==="nbsp")return" ";if(a.startsWith("#x")){const i=Number.parseInt(a.slice(2),16);if(!Number.isFinite(i))return t;try{return String.fromCodePoint(i)}catch{return t}}if(a.startsWith("#")){const i=Number.parseInt(a.slice(1),10);if(!Number.isFinite(i))return t;try{return String.fromCodePoint(i)}catch{return t}}return t}).replace(/\s+/g," ").trim():"",su=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},kD=e=>{const t=String(e||"").trim();if(!t)return null;const r=t.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(r){const a=Number(r[1]),i=Number(r[2])-1,l=Number(r[3]),u=new Date(a,i,l);return Number.isNaN(u.getTime())?null:u}const n=new Date(t);return Number.isNaN(n.getTime())?null:n},fd=(e=new Date)=>{const t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(t,r+1,0).getDate(),i=Math.ceil(a/2),l=n<=i?1:i,u=su(new Date(t,r,l)),d=su(e);return{start:u,end:d}},ED=e=>{if(!e)return"";const t=e.trim();try{const r=new Date(t);if(!Number.isNaN(r.getTime()))return r.setDate(r.getDate()+1),r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});const n=t.split("-");if(n.length===3){const l=parseInt(n[0],10),u=parseInt(n[1],10)-1,d=parseInt(n[2],10),f=new Date(l,u,d);if(!Number.isNaN(f.getTime()))return f.setDate(f.getDate()+1),f.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}const a=t.match(/^([A-Za-z]{3},?\s+\d{1,2}\s+[A-Za-z]{3}\s+\d{4})/);if(a)return a[1];const i=t.indexOf("T");if(i>0){const u=t.slice(0,i).split("-");if(u.length===3){const d=parseInt(u[0],10),f=parseInt(u[1],10)-1,g=parseInt(u[2],10),m=new Date(d,f,g);if(!Number.isNaN(m.getTime()))return m.setDate(m.getDate()+1),m.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}return t}catch{return t}},fue=e=>{switch((e||"").toUpperCase().trim()){case"NPI_INVALID":return"Please enter a valid 10-digit NPI number.";case"NPI_NOT_FOUND":return"We could not verify that NPI in the CMS registry. Double-check the digits and try again.";case"NPI_ALREADY_REGISTERED":return"An account already exists for this NPI number.";case"NPI_LOOKUP_FAILED":return"We could not reach the CMS registry. Please try again in a moment.";default:return"Unable to verify this NPI number. Please confirm it is correct."}},pue=["bulk_pricing_tiers","bulk_pricing","_bulk_pricing_tiers","quantity_discounts","quantity_discount"],X0=(e,t)=>{const r=Number(e),n=Number(t);return!Number.isFinite(r)||!Number.isFinite(n)||r<=0?null:{minQuantity:Math.max(1,Math.floor(r)),discountPercentage:Math.max(0,Math.min(100,Number(n)))}},I9=e=>{if(e==null)return[];if(Array.isArray(e))return e.map(t=>{if(typeof t=="object"&&t!==null){const r=t;return X0(r.minQuantity??r.min??r.quantity??r.qty,r.discountPercentage??r.discount??r.percent??r.percentage)}if(typeof t=="string"){const r=t.match(/(\d+(?:\.\d+)?)\s*[:=,-]\s*(\d+(?:\.\d+)?)/);if(r)return X0(r[1],r[2])}return null}).filter(t=>!!t);if(typeof e=="object")return Object.entries(e).map(([r,n])=>X0(r,n)).filter(r=>!!r);if(typeof e=="string")try{const t=JSON.parse(e);return I9(t)}catch{return e.split(/[\n,;]/).map(t=>t.trim()).filter(Boolean).map(t=>{const r=t.split(/[:=|-]/).map(n=>n.trim());return r.length>=2?X0(r[0].replace(/[^\d.]/g,""),r[1].replace(/[^\d.]/g,"")):null}).filter(t=>!!t)}return[]},M9=e=>{if(typeof e=="number")return Number.isFinite(e)?e:null;if(typeof e=="string"){const t=Number(e.replace(/[^\d.\-]/g,""));return Number.isFinite(t)?t:null}return null},D9=(e,t,r)=>{const n=Number(e),a=M9(t);if(!Number.isFinite(n)||!a||!Number.isFinite(r)||r<=0||n<=0)return null;const i=Math.max(0,Math.min(100,(1-a/r)*100));return{minQuantity:Math.floor(n),discountPercentage:Math.round(i)}},GC=(e,t)=>{if(!e||!Number.isFinite(t)||t<=0)return[];const r=[],n=(a,i)=>{r.push({min:a,price:i})};if(Array.isArray(e))e.forEach(a=>{typeof a=="object"&&a!==null&&n(a.quantity??a.min??a.minQuantity,a.price??a.value)});else if(typeof e=="object")Object.entries(e).forEach(([a,i])=>n(a,i));else if(typeof e=="string")try{const a=JSON.parse(e);return GC(a,t)}catch{e.split(/[\n,;]/).forEach(a=>{if(!a)return;const i=a.split(/[:=|-]/).map(l=>l.trim());i.length>=2&&n(i[0],i[1])})}return r.map(({min:a,price:i})=>D9(a,i,t)).filter(a=>!!a).sort((a,i)=>a.minQuantity-i.minQuantity)},mue=(e,t)=>{if(!Array.isArray(e)||t<=0)return[];const r=[];return e.forEach(n=>{const a=String(n?.key||"");if(!a.includes("peppro_tier")||a.includes("note"))return;const i=a.match(/(\d+)/),l=i?Number(i[1]):null,u=M9(n?.value);if(!l||!u)return;const d=D9(l,u,t);d&&r.push(d)}),r.sort((n,a)=>n.minQuantity-a.minQuantity)},hue=(e,t)=>{if(!Number.isFinite(t)||t<=0)return[];const r=GC(e.tiered_pricing_fixed_rules??null,t);if(r.length>0)return r;const n=e.meta_data??[],a=n.find(l=>l?.key==="_fixed_price_rules")?.value,i=GC(a,t);return i.length>0?i:mue(n,t)},OD=e=>{if(e==null||e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},gue=e=>{if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const r=Array.from(t.matchAll(/(\d+(?:\.\d+)?)\s*mg/gi)).map(a=>`${a[1]}mg`);if(r.length===0)return null;const n=[];for(const a of r)(n.length===0||n[n.length-1]!==a)&&n.push(a);return n.length===0?null:n.length===1?n[0]:`${n[0]} / ${n[1]}`},KC=e=>{const t=e.trim();return t?t.split("-").map(r=>{const n=r.trim();return n?n[0].toUpperCase()+n.slice(1):""}).filter(Boolean).join(" "):""},_y=(e,t)=>{const r=e?.categories;if(!Array.isArray(r)||r.length===0)return e;const n=l=>{if(typeof l=="number"&&Number.isFinite(l))return l;const u=Number.parseInt(String(l??"").replace(/[^\d]/g,""),10);return Number.isFinite(u)?u:null};let a=!1;const i=r.map(l=>{if(l&&typeof l=="object"){const f=n(l.id),g=typeof l.name=="string"?l.name.trim():"";let m=g;if(!m&&f!==null){const w=t.get(f);typeof w=="string"&&w.trim()&&(m=w.trim())}return!m&&typeof l.slug=="string"&&l.slug.trim()&&(m=KC(l.slug)),m!==g||f!==null&&l.id!==f?(a=!0,{...l,id:f??l.id,name:m||l.name}):l}const u=n(l);if(u===null)return l;const d=t.get(u)||"";return a=!0,{id:u,name:d}});return a?{...e,categories:i}:e},n_=(e,t=[])=>{const r=re=>re.toLowerCase().replace(/&/g,"and").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),n=re=>{if(re==null||re==="")return null;const xe=Number(re);return!Number.isFinite(xe)||xe<0?null:Math.floor(xe)},a=(e.images??[]).map(re=>yD(re?.src)).filter(re=>!!re),i=(()=>{const re=Array.isArray(e.categories)?e.categories:[],xe=[];for(const Le of re){const Ke=(Le?.name??"").toString().trim(),Ve=Ke,Te=Ke.toLowerCase();Ve&&(Te.includes("subscription")||xe.push(Ve))}if(xe.length===0)return"";const Re=xe.filter(Le=>Le.toLowerCase()!=="uncategorized");return Re.length>0?Re[0]:xe[0]})(),l=(()=>{const re=Array.isArray(e.tags)?e.tags:[],xe=new Set;return re.map(Re=>{const Le=jf(Re?.name??"").trim(),Ve=((typeof Re?.slug=="string"?Re.slug.trim():"")||r(Le)).trim();return!Le||!Ve||xe.has(Ve)?null:(xe.add(Ve),{id:typeof Re?.id=="number"?Re.id:void 0,name:Le,slug:Ve})}).filter(Re=>!!Re)})(),u=(e.meta_data??[]).some(re=>{const xe=(re?.key??"").toString().toLowerCase(),Re=typeof re?.value=="string"?re.value.toLowerCase():"";return xe.includes("subscription")||Re.includes("subscription")}),d=(e.price_html??"").toLowerCase(),f=(e.categories??[]).some(re=>(re?.name??"").toLowerCase().includes("subscription")),g=`${e.description??""} ${e.short_description??""}`.toLowerCase(),m=u||d.includes("subscription")||d.includes("/ month")||(e.type??"").toLowerCase().includes("subscription")||(e.name??"").toLowerCase().includes("subscription")||f||g.includes("subscription"),v=re=>{if(re==null||re==="")return;const xe=Number.parseFloat(re);return Number.isFinite(xe)?xe:void 0},w=re=>{if(!re)return;const xe=jf(re);if(!xe)return;const Re=xe.match(/(\d[\d,]*)(\.\d+)?/g);if(!Re||Re.length===0)return;const Le=Re.map(Ke=>Number.parseFloat(Ke.replace(/,/g,""))).filter(Ke=>Number.isFinite(Ke)&&Ke>0);if(Le.length!==0)return Math.min(...Le)},P=re=>(re??[]).map(xe=>{const Re=jf(xe?.name??"").trim(),Le=jf(xe?.option??"").trim();return!Re&&!Le?null:{name:Re||Le||"Option",value:Le||Re||""}}).filter(xe=>!!(xe&&(xe.name||xe.value))),_=e.meta_data?.find(re=>{const xe=(re?.key??"").toString().toLowerCase();return pue.includes(xe)}),N=_?I9(_.value):[];let E=[];const D=OD(e.weight),L=re=>{if(re==null||re==="")return;const xe=Number.parseFloat(String(re));return Number.isFinite(xe)&&xe>0?xe:void 0},$=e.dimensions?{lengthIn:L(e.dimensions.length),widthIn:L(e.dimensions.width),heightIn:L(e.dimensions.height)}:void 0,R=typeof e.id=="number"?e.id:Number.parseInt(String(e.id).replace(/[^\d]/g,""),10),M=(t??[]).map(re=>{const xe=Number.isFinite(re.id)?Number(re.id):Number.parseInt(String(re.id).replace(/[^\d]/g,""),10),Re=v(re.price)??v(re.regular_price),Le=v(e.price)??v(e.regular_price)??0,Ke=Re??Le,Ve=v(re.regular_price),Te=P(re.attributes),st=Te.length>0?Te.map(Nt=>Nt.value||Nt.name).filter(Boolean).join("  ").trim():"",lt=gue(re.sku),Rt=!!lt&&(!st||st.toLowerCase()==="option"||st.includes("/")&&lt&&lt!==st)?lt:st||(re.sku?re.sku:`Variant ${re.id}`),At=Number.isFinite(xe)?`woo-variation-${xe}`:`woo-variation-${re.id}`,Vt=hue(re,Ke);!E.length&&Vt.length&&(E=Vt);const tr=OD(re.weight)??D??null;return{id:At,wooId:Number.isFinite(xe)?xe:void 0,label:Rt,price:Ke,originalPrice:Ve&&Ve>Ke?Ve:void 0,sku:re.sku?.trim()||void 0,inStock:(re.stock_status??"").toLowerCase()!=="outofstock",stockQuantity:n(re?.stock_quantity),attributes:Te,image:yD(re.image?.src)??void 0,description:jf(re.description??"")||void 0,weightOz:tr,dimensions:re.dimensions?{lengthIn:L(re.dimensions.length),widthIn:L(re.dimensions.width),heightIn:L(re.dimensions.height)}:void 0}}).filter(re=>Number.isFinite(re.price)),F=M.length>0,V=M.map(re=>re.price).filter(re=>Number.isFinite(re)),Y=V.length>0?Math.min(...V):void 0,ue=v(e.price)??v(e.regular_price)??w(e.price_html)??0,te=F?Y??ue:ue,le=v(e.regular_price),fe=!F&&le&&le>te?le:void 0,me=jf(e.short_description||e.description),ie=e.meta_data?.find(re=>re?.key==="manufacturer")?.value,J=N.length>0?N:E,ne=M.map(re=>re.image).filter(re=>!!re);let G=[...ne,...a].filter((re,xe,Re)=>!!re&&Re.indexOf(re)===xe);const ve=F?(()=>{const re=M.map(Re=>Re.label).filter(Boolean);if(re.length<=3)return re.join("  ");const xe=re.length-3;return`${re.slice(0,3).join("  ")} +${xe} more`})():void 0,Se=F?M.find(re=>re.inStock)?.id??M[0]?.id:void 0,X=String(e.type||"").toLowerCase()==="variable",pe=Array.isArray(e.variations)?e.variations.length:0;return X&&(!F||ne.length===0)?G=[zo]:G.length===0&&(G=[zo]),{id:`woo-${e.id}`,wooId:Number.isFinite(R)?R:void 0,name:jf(e.name)||`Product ${e.id}`,category:i,price:te,originalPrice:fe,rating:Number.parseFloat(e.average_rating||"")||5,reviews:Number.isFinite(e.rating_count)?Number(e.rating_count):0,image:G[0]??zo,images:G,image_loaded:!1,inStock:F?M.some(re=>re.inStock):(e.stock_status??"").toLowerCase()!=="outofstock",stockQuantity:n(e?.stock_quantity),prescription:!1,dosage:F?`${M.length} option${M.length===1?"":"s"} available`:X&&pe>0?`${pe} option${pe===1?"":"s"} available`:"See details",manufacturer:jf(typeof ie=="string"?ie:"")||"",type:e.type??"General",isSubscription:m,description:me||void 0,weightOz:D??null,dimensions:$,sku:e.sku?.trim()||void 0,variants:F?M:void 0,hasVariants:F,defaultVariantId:Se,variantSummary:ve,bulkPricingTiers:J.length>0?J:void 0,tags:l.length>0?l:void 0}},yue=(e,t)=>{const r=Number(t?.markupPercent??0),n=Number.isFinite(r)?Math.max(0,Math.min(500,r)):0,a=f=>n?nb(f*(1+n/100)):f,i=(e.type??"").toLowerCase()==="variable"&&(!e.variants||e.variants.length===0),l=i?zo:e.image,u=i||!e.images||e.images.length===0?[zo]:e.images,d=e.variants&&e.variants.length>0?e.variants.map(f=>({id:f.id,strength:f.label||f.attributes.map(g=>g.value).join("  ")||"Option",basePrice:a(f.price),image:f.image,weightOz:f.weightOz??null,stockQuantity:f.stockQuantity??null})):i?[{id:"__peppro_needs_variant__",strength:"Select strength",basePrice:a(e.price),image:e.image,weightOz:e.weightOz??null,stockQuantity:null}]:[{id:e.id,strength:e.dosage||"Standard",basePrice:a(e.price),image:e.image,weightOz:e.weightOz??null,stockQuantity:e.stockQuantity??null}];return{id:e.id,name:e.name,category:e.category,image:l,images:u,inStock:e.inStock,stockQuantity:e.stockQuantity??null,manufacturer:e.manufacturer,weightOz:e.weightOz??null,variations:d,bulkPricingTiers:e.bulkPricingTiers??[]}},L9=y.forwardRef((e,t)=>s.jsxs("div",{ref:t,className:"catalog-skeleton-card squircle-xl","aria-hidden":"true",children:[s.jsx("div",{className:"catalog-skeleton-thumb"}),s.jsxs("div",{className:"catalog-skeleton-lines",children:[s.jsx("div",{className:"catalog-skeleton-line catalog-skeleton-line--short"}),s.jsx("div",{className:"catalog-skeleton-line"}),s.jsx("div",{className:"catalog-skeleton-line catalog-skeleton-line--medium"}),s.jsx("div",{className:"catalog-skeleton-line catalog-skeleton-line--xs"})]}),s.jsxs("div",{className:"catalog-skeleton-footer",children:[s.jsx("div",{className:"catalog-skeleton-pill"}),s.jsx("div",{className:"catalog-skeleton-pill catalog-skeleton-pill--short"})]})]}));L9.displayName="CatalogSkeletonCard";const vue=({product:e,pricingMarkupPercent:t,proposalMode:r=!1,onAddToCart:n,onEnsureVariants:a})=>{const i=y.useMemo(()=>yue(e,{markupPercent:t}),[t,e]);return s.jsx($U,{product:i,proposalMode:r,onEnsureVariants:typeof a=="function"?l=>a(e,l):void 0,onAddToCart:(l,u,d)=>n(l,u,d)})};function bue(){const e=String(El?.VITE_BROWSER_VARIATION_CACHE||"").toLowerCase().trim()==="true",t="https://ship14.shipstation.com",[r,n]=y.useState(null),a=y.useRef(null),[i,l]=y.useState([]),[u,d]=y.useState(!1),[f,g]=y.useState(null),m=!!f,[v,w]=y.useState(null),[P,_]=y.useState("wholesale"),N=(()=>{if(typeof window>"u")return null;const h=new URLSearchParams(window.location.search).get("delegate");return h&&h.trim()?h.trim():null})(),[E,D]=y.useState(N),[L,$]=y.useState(null),R="peppro_delegate_expiry_v1:",[M,F]=y.useState(null),[V,Y]=y.useState(()=>Date.now()),[ue,te]=y.useState(null),[le,fe]=y.useState(!1),[me,ie]=y.useState(null),J=!!E,ne=!E||L===E,G=J&&Number(ue?.markupPercent)||0,ve=y.useMemo(()=>{const h=typeof ue?.doctorName=="string"?ue.doctorName.trim():"";return h&&h.replace(/^(dr\.?|mr\.?|mrs\.?|ms\.?|miss)\s+/i,"").trim()||"Doctor"},[ue?.doctorName]),Se=y.useCallback((h,x)=>{if(!h||!Number.isFinite(h))return null;const S=h-x;if(S<=0)return"Expired";const C=Math.floor(S/1e3),I=Math.floor(C/3600),z=Math.floor(C%3600/60);return I<=0?`${z}m`:`${I}h ${z}m`},[]),X=y.useMemo(()=>J?Se(M,V):null,[Se,J,M,V]),pe=!!(J&&(ue?.delegateSharedAt||ue?.delegateOrderId)),[re,xe]=y.useState(""),[Re,Le]=y.useState(null),[Ke,Ve]=y.useState(!1),[Te,st]=y.useState(0),lt=y.useRef(!1),[Me,Rt]=y.useState(!1),[At,Vt]=y.useState(null),tr=!!(r&&(vr(r.role)||dt(r.role))),[Nt,et]=y.useState(qce),[Ie,mt]=y.useState(!1),[Tt,ht]=y.useState(!1);y.useEffect(()=>{f||w(null)},[f]),y.useEffect(()=>{!tr&&P==="retail"&&_("wholesale")},[tr,P]),y.useEffect(()=>{if(typeof window>"u")return;const h=()=>{const x=new URLSearchParams(window.location.search).get("delegate");D(x&&x.trim()?x.trim():null)};return window.addEventListener("popstate",h),()=>{window.removeEventListener("popstate",h)}},[]),y.useEffect(()=>{if(!(typeof window>"u")){if(!E){F(null);return}try{const h=window.sessionStorage.getItem(`${R}${E}`),x=h?Number(h):Number.NaN;Number.isFinite(x)&&x>0&&F(x)}catch{}}},[E]),y.useEffect(()=>{if(typeof window>"u"||!J||!M)return;const h=()=>Y(Date.now());h();let x=null;const S=Math.max(250,6e4-Date.now()%6e4+25),C=window.setTimeout(()=>{h(),x=window.setInterval(h,6e4)},S);return()=>{window.clearTimeout(C),x&&window.clearInterval(x)}},[M,J]),y.useEffect(()=>{if(!E){te(null),ie(null),fe(!1),$(null);return}let h=!1;if(fe(!0),ie(null),$(null),typeof window<"u")try{const x=window.sessionStorage.getItem(`${R}${E}`),S=x?Number(x):Number.NaN;if(Number.isFinite(S)&&S>0&&(F(S),Date.now()>=S))return te(null),ie("This delegate session has expired."),fe(!1),$(E),()=>{h=!0}}catch{}return(async()=>{try{const x=await Ch.resolve(E);if(h)return;const S=typeof x?.paymentMethod=="string"?x.paymentMethod:typeof x?.payment_method=="string"?x.payment_method:null,C=typeof x?.paymentInstructions=="string"?x.paymentInstructions:typeof x?.payment_instructions=="string"?x.payment_instructions:typeof x?.instructions=="string"?x.instructions:typeof x?.delegateInstructions=="string"?x.delegateInstructions:typeof x?.delegate_instructions=="string"?x.delegate_instructions:null,I=typeof x?.expiresAt=="string"?x.expiresAt:typeof x?.expires_at=="string"?x.expires_at:null;if(I){const z=new Date(I).getTime();if(Number.isFinite(z)&&z>0){F(z);try{window.sessionStorage.setItem(`${R}${E}`,String(z))}catch{}}}te({token:E,doctorId:String(x?.doctorId||x?.doctor_id||""),doctorName:String(x?.doctorName||x?.doctor_name||""),markupPercent:Number(x?.markupPercent||x?.markup_percent)||0,doctorLogoUrl:typeof x?.doctorLogoUrl=="string"?x.doctorLogoUrl:null,createdAt:typeof x?.createdAt=="string"?x.createdAt:typeof x?.created_at=="string"?x.created_at:null,expiresAt:I,delegateSharedAt:typeof x?.delegateSharedAt=="string"?x.delegateSharedAt:typeof x?.delegate_shared_at=="string"?x.delegate_shared_at:null,delegateOrderId:typeof x?.delegateOrderId=="string"?x.delegateOrderId:typeof x?.delegate_order_id=="string"?x.delegate_order_id:null,paymentMethod:S,paymentInstructions:C,proposalStatus:typeof x?.proposalStatus=="string"?x.proposalStatus:typeof x?.proposal_status=="string"?x.proposal_status:null,proposalReviewedAt:typeof x?.proposalReviewedAt=="string"?x.proposalReviewedAt:typeof x?.proposal_reviewed_at=="string"?x.proposal_reviewed_at:null,proposalReviewOrderId:typeof x?.proposalReviewOrderId=="string"?x.proposalReviewOrderId:typeof x?.proposal_review_order_id=="string"?x.proposal_review_order_id:null})}catch(x){if(h)return;const S=typeof x?.message=="string"&&x.message.trim()?x.message:"Invalid or expired delegation link.";te(null),ie(S)}finally{h||(fe(!1),$(E))}})(),()=>{h=!0}},[E]),y.useEffect(()=>{if(!E||me||!pe)return;let h=!1;const x=async()=>{try{const C=await Ch.resolve(E);if(h)return;te(I=>{if(!I)return I;const z=typeof C?.expiresAt=="string"?C.expiresAt:typeof C?.expires_at=="string"?C.expires_at:I.expiresAt??null;if(z){const A=new Date(z).getTime();if(Number.isFinite(A)&&A>0){F(A);try{window.sessionStorage.setItem(`${R}${E}`,String(A))}catch{}}}return{...I,expiresAt:z,delegateSharedAt:typeof C?.delegateSharedAt=="string"?C.delegateSharedAt:typeof C?.delegate_shared_at=="string"?C.delegate_shared_at:I.delegateSharedAt??null,delegateOrderId:typeof C?.delegateOrderId=="string"?C.delegateOrderId:typeof C?.delegate_order_id=="string"?C.delegate_order_id:I.delegateOrderId??null,proposalStatus:typeof C?.proposalStatus=="string"?C.proposalStatus:typeof C?.proposal_status=="string"?C.proposal_status:I.proposalStatus??null,proposalReviewedAt:typeof C?.proposalReviewedAt=="string"?C.proposalReviewedAt:typeof C?.proposal_reviewed_at=="string"?C.proposal_reviewed_at:I.proposalReviewedAt??null,proposalReviewOrderId:typeof C?.proposalReviewOrderId=="string"?C.proposalReviewOrderId:typeof C?.proposal_review_order_id=="string"?C.proposal_review_order_id:I.proposalReviewOrderId??null}})}catch{}};x();const S=window.setInterval(()=>void x(),15e3);return()=>{h=!0,window.clearInterval(S)}},[me,pe,E]);const[gt,Nr]=y.useState(!1),[Jt,Ca]=y.useState(!1),[dn,Wa]=y.useState(!0),[Wn,Pa]=y.useState(!1),[kr,Aa]=y.useState(null),[Xo,Ls]=y.useState(null),$s=y.useRef(!1),Fs=y.useRef(0),[ns,sn]=y.useState([]),[ka,Bi]=y.useState({}),[fn,ma]=y.useState(!1),br=y.useRef(new Map),Et=y.useRef(!1),_r=y.useRef(new Map),hr=y.useRef(new Map),Lr=y.useCallback(()=>{if(!Et.current){if(typeof window>"u"){Et.current=!0;return}if(!e){Et.current=!0,br.current.clear();return}Et.current=!0;try{const h=window.localStorage.getItem(G0)||window.sessionStorage.getItem(G0);if(!h)return;const x=JSON.parse(h);x&&typeof x=="object"&&x.data&&typeof x.data=="object"&&Object.entries(x.data).forEach(([S,C])=>{const I=Number(S);Number.isFinite(I)&&Array.isArray(C)&&br.current.set(I,C)})}catch(h){console.debug("[Catalog] Failed to load variation cache",h),br.current.clear()}}},[]),Ha=y.useCallback(()=>{if(!(typeof window>"u")&&e)try{const h={};br.current.forEach((S,C)=>{h[String(C)]=S});const x=JSON.stringify({data:h,ts:Date.now()});window.localStorage.setItem(G0,x),window.sessionStorage.setItem(G0,x)}catch(h){console.debug("[Catalog] Failed to persist variation cache",h)}},[]),Cr=y.useCallback(async h=>{if(!r?.id)return;const x=Date.now(),S=5*6e4;if(!h?.force&&x-Fs.current<S||$s.current)return;$s.current=!0,Fs.current=x;const C=Date.now();Pa(!0),Aa(null);try{const I=await GL.listPeptideForum(),z=Array.isArray(I?.items)?I.items:[],O=/localhost|127\\.0\\.0\\.1/i.test(Fe)&&z.length===0?[{id:"local-dev-dummy",title:"Dummy Forum Class (Local Dev)",date:new Date(Date.now()+10080*60*1e3).toISOString(),description:"Placeholder item for the local Node backend. Replace with real forum data when available.",link:"https://example.com",recording:null}]:z;sn(O),Ls(typeof I?.updatedAt=="string"?I.updatedAt:null)}catch(I){sn([]),Ls(null),Aa(typeof I?.message=="string"&&I.message?I.message:"Unable to load The Peptide Forum right now.")}finally{const z=Date.now()-C;z<500&&await new Promise(A=>window.setTimeout(A,500-z)),Pa(!1),$s.current=!1}},[r?.id]),ur=dn||dt(r?.role);y.useEffect(()=>{if(!(!Ie||!r)){if(!ur){sn([]),Ls(null),Aa(null);return}Cr()}},[Ie,r?.id,Cr,ur]);const pn=y.useRef(new Map),Vr=y.useRef(new Map),mn=y.useRef(0),Hn=y.useRef(0),$r=y.useRef(0),si=y.useRef([]),Ns=y.useRef(new Set),Bs=y.useRef(0),qi=y.useRef([]),aa=y.useRef(new Map),$n=y.useRef(new Set),qs=y.useRef(new Map),Rn=y.useCallback(async(h,x)=>{const S=(h.type??"").toLowerCase()==="variable",C=x?.force===!0;if(!S||!C&&h.variants&&h.variants.length>0||!C&&Date.now()<mn.current)return h;Lr();const I=typeof h.wooId=="number"?h.wooId:Number.parseInt(String(h.id).replace(/[^\d]/g,""),10);if(!Number.isFinite(I))return h;let z=e?br.current.get(I):void 0;z&&z.length===0&&(br.current.delete(I),z=void 0);let A=_r.current.get(I);if(A){const U=_y(A,hr.current);U!==A&&(A=U,_r.current.set(I,U))}const O=Vr.current.get(I);if(O&&Date.now()<O.nextAt&&!C)return h;C&&Vr.current.delete(I);const T=()=>{const ee=(Vr.current.get(I)?.attempt??0)+1,K=Math.min(6e4,1500*Math.pow(1.8,ee-1));Vr.current.set(I,{attempt:ee,nextAt:Date.now()+K})},W=U=>Array.isArray(U)&&U.some(ee=>!!ee?.image?.src),H=async()=>{if(z&&!C&&W(z))return z;const U=await hD(I,{per_page:100,status:"publish",...C?{force:!0}:null}),ee=Array.isArray(U)?U:[];if(!C&&ee.length>0&&!W(ee))try{const K=await hD(I,{per_page:100,status:"publish",force:!0}),ge=Array.isArray(K)?K:[];return ge.length>0?ge:ee}catch{return ee}return ee};try{const U=pn.current.get(I),ee=U??(async()=>{const Z=await H();return Z.length>0&&e&&(br.current.set(I,Z),Ha()),Z})();U||pn.current.set(I,ee);const K=await ee;if(pn.current.delete(I),!A)try{const Z=await gD(I,C?{force:!0}:{});if(Z&&typeof Z=="object"&&"id"in Z){const de=_y(Z,hr.current);A=de,_r.current.set(I,de)}}catch(Z){console.debug("[Catalog] Failed to fetch Woo product payload",{wooId:I,error:Z})}if(!A)return h;const ge=n_(A,K);return ge.image_loaded=ge.image!==zo&&!!aa.current.get(ge.image)?.loaded,S&&(!ge.variants||ge.variants.length===0)&&Array.isArray(A.variations)&&A.variations.length>0?(T(),h):(Vr.current.delete(I),Hn.current=0,mn.current=0,mf(Z=>Z.map(de=>de.id===h.id?ge:de)),Le(Z=>Z?.id===h.id?ge:Z),ge)}catch(U){pn.current.delete(I),T();const ee=typeof U?.status=="number"?U.status:null,K=typeof U?.message=="string"?U.message:"",ge=typeof U?.name=="string"?U.name:"";if(!C&&(ee===429||ee===500||ee===502||ee===503||ee===504||K==="Failed to fetch"||K==="Load failed"||ge==="TypeError")){Hn.current+=1;const de=Math.min(8,Hn.current),Ae=Math.min(300*1e3,2e3*Math.pow(2,de-1));mn.current=Date.now()+Ae,console.warn("[Catalog] Woo backoff engaged",{status:ee,attempt:de,delayMs:Ae})}return console.warn("[Catalog] Failed to load variants for product",{productId:h.id,wooId:I,error:U}),h}},[Lr,Ha]),Qo=y.useCallback(h=>{if(!((h.type??"").toLowerCase()==="variable")||h.variants&&h.variants.length>0||Date.now()<mn.current)return;const S=typeof h.wooId=="number"?h.wooId:Number.parseInt(String(h.id).replace(/[^\d]/g,""),10);if(!Number.isFinite(S)||Ns.current.has(S))return;Ns.current.add(S);const C=()=>{for(;$r.current<rue&&si.current.length>0;){const I=si.current.shift();I&&($r.current+=1,I())}};si.current.push(()=>{if(Date.now()<mn.current){$r.current=Math.max(0,$r.current-1),Ns.current.delete(S),C();return}Rn(h).catch(()=>{}).finally(()=>{$r.current=Math.max(0,$r.current-1),Ns.current.delete(S),C()})}),C()},[Rn]),as=y.useCallback(h=>{if(!jy||typeof window>"u"||!h)return;const x=h.trim();if(!x||x===zo||x.startsWith("data:"))return;const S=aa.current.get(x)??{firstSeenAt:Date.now(),attempt:0,nextAt:0,queued:!1,inFlight:!1,loaded:!1};aa.current.has(x)||aa.current.set(x,{...S});const C=aa.current.get(x);!C||C.loaded||C.inFlight||C.queued||Date.now()<C.nextAt||(C.queued=!0,qi.current.push(x))},[]),sa=y.useCallback(()=>{if(!jy||typeof window>"u"||!Ii())return;const h=()=>{for(;Bs.current<sue&&qi.current.length>0;){const x=qi.current.shift();if(!x)continue;const S=aa.current.get(x);if(!S||S.loaded||S.inFlight)continue;if(Date.now()<S.nextAt){S.queued=!1;continue}S.queued=!1,S.inFlight=!0,S.attempt+=1,Bs.current+=1;const C=new Image,z=window.setTimeout(()=>{C.onload=null,C.onerror=null;const A=aa.current.get(x);if(A){A.inFlight=!1;const O=Math.min(12e4,1200*Math.pow(1.8,A.attempt-1));A.nextAt=Date.now()+O,window.setTimeout(()=>{as(x),h()},O+5)}Bs.current=Math.max(0,Bs.current-1),h()},2e4);C.onload=()=>{window.clearTimeout(z),C.onload=null,C.onerror=null;const A=aa.current.get(x);A&&(A.loaded=!0,A.inFlight=!1),Bs.current=Math.max(0,Bs.current-1),window.setTimeout(h,iue)},C.onerror=()=>{window.clearTimeout(z),C.onload=null,C.onerror=null;const A=aa.current.get(x);if(A){A.inFlight=!1;const O=Math.min(12e4,1200*Math.pow(1.8,A.attempt-1));A.nextAt=Date.now()+O,window.setTimeout(()=>{as(x),h()},O+5)}Bs.current=Math.max(0,Bs.current-1),h()},C.src=x}};h()},[as]),js=y.useRef(null);y.useRef(null);const[uo,Ea]=y.useState(!1),[ss,sr]=y.useState(!1),[hn,Tn]=y.useState(!1),[_s,Oa]=y.useState(""),[fo,Zo]=y.useState(!1),[Ni,ia]=y.useState(!1),[Ui,Fn]=y.useState(""),[Vn,Cs]=y.useState(Uce),[ii,po]=y.useState(!1),[ji,Va]=y.useState(""),[Us,Ol]=y.useState(""),[Sc,Jo]=y.useState(""),[Nc,zs]=y.useState(""),Ps=y.useRef(null),[_i,Rl]=y.useState(!1),[ce,tt]=y.useState(!1),Be=y.useRef(null),[xt,Bt]=y.useState(!1),Xt=y.useRef(null),gr=y.useRef(null),Fr=y.useRef(null),oa=y.useRef(!1),[Ur,$e]=y.useState({platform:!1,conditional:!1,checked:!1}),[xr,ha]=y.useState(Oce),rr=y.useRef(!1),[Ra,zi]=y.useState(!1),[Ta,mo]=y.useState(!1),[Uf,zf]=y.useState(!1),[Cu,Tl]=y.useState(""),fm=y.useRef(!1),ho=y.useRef(!1),la=y.useRef(null),[oi,li]=y.useState([]),[jc,Il]=y.useState(!1),[Od,go]=y.useState(null),[_c,el]=y.useState(null),[is,Pu]=y.useState(!0),Ci=y.useRef(null),Ws=y.useRef(null),yo=y.useRef([]),[Au,Cc]=y.useState(null),ga=y.useCallback(()=>{const h=Date.now();Cc({tab:"details",open:!0,token:h})},[]),tl=y.useMemo(()=>$ce(r),[r]),Pc=y.useMemo(()=>Fce(oi,r?.name||r?.npiVerification?.name||null),[oi,r?.name,r?.npiVerification?.name]),Ml=y.useMemo(()=>{if(tl)return tl;if(Pc)return Pc;if(r)return{name:r.name||r.npiVerification?.name||null,addressLine1:r.officeAddressLine1||null,addressLine2:r.officeAddressLine2||null,city:r.officeCity||null,state:r.officeState||null,postalCode:r.officePostalCode||null,country:"US"}},[tl,Pc,r]),Wf=y.useCallback(async()=>{if(!oa.current){oa.current=!0;try{const h=await DL();h&&(gr.current&&(gr.current.value=h.id),Fr.current&&(Fr.current.value=h.password))}finally{oa.current=!1}}},[]);y.useEffect(()=>{const h=!!(r&&(Ti(r.role)||vr(r.role)));return h&&!la.current&&(la.current={log:console.log,info:console.info,debug:console.debug,warn:console.warn},console.log=V0,console.info=V0,console.debug=V0,console.warn=V0),!h&&la.current&&(console.log=la.current.log,console.info=la.current.info,console.debug=la.current.debug,console.warn=la.current.warn,la.current=null),()=>{la.current&&(console.log=la.current.log,console.info=la.current.info,console.debug=la.current.debug,console.warn=la.current.warn,la.current=null)}},[r?.role]),y.useEffect(()=>{if(typeof window>"u")return;const h=()=>{dx()&&(et("reset"),Cs(WC()))};return window.addEventListener("popstate",h),()=>window.removeEventListener("popstate",h)},[]);const Dl=y.useCallback(()=>{if(typeof window>"u")return;const h=window.location.origin;if(window.opener&&!window.opener.closed){try{window.opener.postMessage({type:"PASSWORD_RESET_COMPLETE"},h)}catch(x){console.warn("[Auth] Unable to notify opener about password reset completion",x)}window.close()}else window.location.replace("/")},[]);y.useEffect(()=>{if(!(typeof window>"u")){if(!Us){Ps.current&&(window.clearTimeout(Ps.current),Ps.current=null);return}return Ps.current=window.setTimeout(Dl,1500),()=>{Ps.current&&(window.clearTimeout(Ps.current),Ps.current=null)}}},[Dl,Us]);const rl=y.useCallback(()=>{typeof window>"u"||dx()&&window.history.replaceState({},"","/")},[]),Gn=y.useCallback(async h=>{const x=h?.includeCanceled??is,S=h?.force===!0;if(!r?.id)return li([]),el(null),go(null),[];Il(!0),go(null);try{const C=await ti.getAll({includeCanceled:x,force:S});let I=Rp(C,{includeCanceled:x});const z=Ws.current,A=Ci.current;if(z&&A)if(Date.now()-A.createdAtMs>600*1e3)Ws.current=null;else{const H=z.number?String(z.number).trim():"",U=z.id?String(z.id).trim():"",ee=A.pepproOrderId?String(A.pepproOrderId).trim():"";I.some(ge=>{const Z=ge.number?String(ge.number).trim():"",de=ge.id?String(ge.id).trim():"",Ae=typeof ge?.integrationDetails?.wooCommerce?.pepproOrderId=="string"?String(ge.integrationDetails.wooCommerce.pepproOrderId).trim():"";return H&&Z&&Z===H||U&&de&&de===U||ee&&Ae&&Ae===ee})?Ws.current=null:I=[z,...I]}li(I);const O=C&&typeof C=="object"&&C.fetchedAt?C.fetchedAt:new Date().toISOString();el(typeof O=="string"?O:new Date().toISOString());const T=C&&typeof C=="object"&&C.wooError&&C.wooError.message||null;return go(T),I}catch(C){if(C?.code==="AUTH_REQUIRED")return li([]),el(null),go("Please sign in again to view your latest orders."),n(null),Xe.error("Your session expired. Please log in again."),[];const I=typeof C?.message=="string"?C.message:"Unable to load orders.";throw go(I),C}finally{Il(!1)}},[r?.id,is]),ku=y.useCallback(async()=>{yo.current.forEach(A=>window.clearTimeout(A)),yo.current=[];const h=Ci.current,x=h?.wooOrderNumber||null,S=h?.wooOrderId||null,C=h?.pepproOrderId||null,I=[0,900,1800,3500],z=async()=>{try{if((await Gn({force:!0})).some(T=>{const W=String(T.number||"").trim(),H=String(T.id||"").trim(),U=typeof T?.integrationDetails?.wooCommerce?.pepproOrderId=="string"?String(T.integrationDetails.wooCommerce.pepproOrderId).trim():"";return x&&W&&W===x||S&&H&&H===S||C&&U&&U===C}))return!0}catch{}return!1};z();for(const A of I.slice(1)){const O=window.setTimeout(async()=>{await z()&&(yo.current.forEach(W=>window.clearTimeout(W)),yo.current=[])},A);yo.current.push(O)}},[Gn]),Hf=y.useCallback(async h=>{if(h)try{const x=await ti.cancelOrder(h,"Cancelled via account portal"),S=!!x?.manualRefundReviewRequired||(()=>{const I=String(x?.order?.paymentMethod||x?.order?.paymentDetails||"").toLowerCase();return I.includes("zelle")||I.includes("bank")||I.includes("transfer")})();Xe.success(S?"Order canceled. If payment was already received, well refund you manually.":"Order canceled. A refund is pending."),await Gn()}catch(x){throw x?.code==="AUTH_REQUIRED"?(n(null),Xe.error("Your session expired. Please log in again to cancel orders."),new Error("Please log in again to cancel orders.")):x}},[Gn]),pm=y.useCallback(()=>{Pu(h=>{const x=!h;return Gn({includeCanceled:x}).catch(()=>{}),x})},[Gn]);y.useEffect(()=>{let h=!1;return(async()=>{const x=await Pce(),S=Ace();h||$e({platform:x,conditional:S,checked:!0})})(),()=>{h=!0}},[]),y.useEffect(()=>()=>{rc.current&&clearTimeout(rc.current)},[]),y.useEffect(()=>{if(!r?.id){li([]),el(null),go(null);return}Gn()},[r?.id,Gn]),y.useEffect(()=>{let h=!1,x=null;const S=async()=>{if(!(lt.current||h)){lt.current=!0;try{await Ip(),console.debug("[Health] API warmup complete")}catch(C){console.warn("[Health] API warmup failed",C),h||(lt.current=!1,x=window.setTimeout(S,1200));return}lt.current=!1}};return S(),()=>{h=!0,x!==null&&window.clearTimeout(x)}},[]),y.useEffect(()=>{!r&&Te>0&&Ip().catch(h=>{console.warn("[Health] Login prompt warmup failed",h)})},[Te,r]),y.useEffect(()=>{if(typeof window>"u"||r)return;let h=!1;const x="login-keepalive",S=Math.max(2e4,SD*2),C=async()=>{if(!h&&!(!Ii()||!jh())&&au(x,S))try{await Ip()}catch(z){h||console.warn("[Health] Keep-alive ping failed",z)}};C();const I=window.setInterval(()=>{C()},SD);return()=>{h=!0,Sl(x),window.clearInterval(I)}},[r]),y.useEffect(()=>{if(typeof window>"u"||!r)return;const h=()=>{Bo.markOffline()};return window.addEventListener("pagehide",h),window.addEventListener("beforeunload",h),()=>{window.removeEventListener("pagehide",h),window.removeEventListener("beforeunload",h)}},[r?.id]),y.useEffect(()=>{if(Ie&&r&&Jt){Nr(!0);const h=window.setTimeout(()=>{Nr(!1),Ca(!1)},1500);return()=>{window.clearTimeout(h),Nr(!1)}}Jt||Nr(!1)},[Ie,r?.id,Jt]);const Ac=y.useCallback(h=>{n(h),mt(!0),Ca(!0),Nr(!0);const x=(h.visits??1)>1;ht(x),Vt(null),Ea(!1),sr(!1),Tn(!1),ho.current=!1},[]),Eu=y.useCallback(async h=>{const{requestId:x,publicKey:S}=await Bo.passkeys.getAuthenticationOptions(h?.emailHint||void 0),C=await Ece(S,!!h?.useConditionalUI),I=await Bo.passkeys.completeAuthentication({requestId:x,assertionResponse:C});return Ac(I),I},[Ac]),Ou=y.useCallback(async()=>{if(!(r||rr.current)){rr.current=!0;try{await Eu({useConditionalUI:!0})}catch(h){!(h instanceof DOMException)||h.name!=="NotAllowedError"?console.debug("[Passkey] Conditional login dismissed or failed",h):ha(!1)}finally{rr.current=!1}}},[Eu,r,ha]);y.useEffect(()=>{!r&&xr&&Ur.conditional&&!fm.current&&(fm.current=!0,Ou())},[r,xr,Ur.conditional,Ou]);const Rd=y.useCallback(()=>{Wf()},[Wf]),mm=y.useCallback(async()=>{if(!Ur.platform){As("Passkey login is not available on this device.");return}const h=gr.current?.value?.trim();if(!h){As("Enter your email to sign in with a passkey.");return}zi(!0),As("");try{await Eu({emailHint:h})}catch(x){if(x instanceof DOMException&&x.name==="NotAllowedError")return;const S=(x?.message||"").toUpperCase();S.includes("PASSKEY_NOT_REGISTERED")?As("No passkey found for that email yet. Sign in with your password once to enable passkeys."):S.includes("EMAIL_NOT_FOUND")?As("We could not find that email."):As("Unable to sign in with passkey. Please try again or use your password."),console.warn("[Passkey] Authentication failed",x)}finally{zi(!1)}},[Ur.platform,Eu]),hm=y.useCallback(async()=>{if(r){if(!Ur.platform){Tl("Passkey setup is not available on this device.");return}zf(!0),Tl("");try{const{requestId:h,publicKey:x}=await Bo.passkeys.getRegistrationOptions(),S=await kce(x),C=await Bo.passkeys.completeRegistration({requestId:h,attestationResponse:S,label:"This device"});C?.user&&n(C.user)}catch(h){(h?.message||"").toUpperCase().includes("PASSKEY_ALREADY_REGISTERED")?Tl("A passkey is already registered for this device."):h instanceof DOMException&&h.name==="NotAllowedError"||Tl("Unable to enable biometric sign-in. Please try again."),console.warn("[Passkey] Registration failed",h)}finally{zf(!1)}}},[r,Ur.platform]);y.useEffect(()=>{Rce&&(!r||!Ur.platform||ho.current||(ho.current=!0,hm()))},[r,Ur.platform,hm]),y.useEffect(()=>{try{const C=localStorage.getItem("peppro:shop-enabled");C!==null&&Wc(C!=="false")}catch{Wc(!0)}try{const C=localStorage.getItem("peppro:patient-links-enabled");C!==null&&Yu(C==="true")}catch{Yu(!1)}try{const C=localStorage.getItem("peppro:peptide-forum-enabled");C!==null&&Wa(C!=="false")}catch{Wa(!0)}try{const C=localStorage.getItem("peppro:research-dashboard-enabled");C!==null&&Xu(C!=="false")}catch{Xu(!1)}try{const C=localStorage.getItem("peppro:test-payments-override-enabled");C!==null&&ef(C==="true")}catch{ef(!1)}let h=!0;try{const C=localStorage.getItem("peppro:settings-support:research");C!==null&&(h=C!=="false")}catch{h=!0}Hc(C=>({...C,research:h}));let x=!1;return(async()=>{try{const[C,I,z,A]=await Promise.allSettled([Mr.getShopStatus(),Mr.getPatientLinksStatus(),Mr.getForumStatus(),Mr.getResearchStatus()]);if(x)return;if(C.status==="fulfilled"){const O=C.value;O&&typeof O.shopEnabled=="boolean"&&(Wc(O.shopEnabled),localStorage.setItem("peppro:shop-enabled",O.shopEnabled?"true":"false"))}if(I.status==="fulfilled"){const O=I.value;if(O&&typeof O.patientLinksEnabled=="boolean"){Yu(O.patientLinksEnabled);try{localStorage.setItem("peppro:patient-links-enabled",O.patientLinksEnabled?"true":"false")}catch{}}}if(z.status==="fulfilled"){const O=z.value;O&&typeof O.peptideForumEnabled=="boolean"&&(Wa(O.peptideForumEnabled),localStorage.setItem("peppro:peptide-forum-enabled",O.peptideForumEnabled?"true":"false"))}if(A.status==="fulfilled"){const O=A.value;if(O&&typeof O.researchDashboardEnabled=="boolean"){Hc(T=>({...T,research:!0}));try{localStorage.setItem("peppro:settings-support:research","true")}catch{}Xu(O.researchDashboardEnabled),localStorage.setItem("peppro:research-dashboard-enabled",O.researchDashboardEnabled?"true":"false")}}else{const O=A.reason;if((typeof O?.status=="number"?O.status:null)===404){Hc(W=>({...W,research:!1}));try{localStorage.setItem("peppro:settings-support:research","false")}catch{}}}}catch(C){console.warn("[Settings] Unable to load settings, using local fallback",C)}})(),()=>{x=!0}},[]),y.useEffect(()=>{if(!r||!dt(r.role)||Ie)return;let h=!1;return(async()=>{try{const S=await Mr.getTestPaymentsOverrideStatus();if(h)return;if(S&&typeof S.testPaymentsOverrideEnabled=="boolean"){ef(S.testPaymentsOverrideEnabled);try{localStorage.setItem("peppro:test-payments-override-enabled",S.testPaymentsOverrideEnabled?"true":"false")}catch{}}}catch(S){const C=typeof S?.status=="number"?S.status:null;C&&C!==404&&console.warn("[Settings] Failed to refresh test payments override",S)}})(),()=>{h=!0}},[r?.id,r?.role,Ie]),y.useEffect(()=>{if(!r)return;let h=!1;return(async()=>{try{const S=await Mr.getResearchStatus();if(h)return;if(S&&typeof S.researchDashboardEnabled=="boolean"){Hc(C=>({...C,research:!0}));try{localStorage.setItem("peppro:settings-support:research","true")}catch{}Xu(S.researchDashboardEnabled);try{localStorage.setItem("peppro:research-dashboard-enabled",S.researchDashboardEnabled?"true":"false")}catch{}}}catch(S){if((typeof S?.status=="number"?S.status:null)===404){Hc(I=>({...I,research:!1}));try{localStorage.setItem("peppro:settings-support:research","false")}catch{}}else console.warn("[Research] Failed to refresh research setting",S)}})(),()=>{h=!0}},[r?.id]);const Hv=y.useCallback(async h=>{if(!dt(r?.role))return;Mo(S=>({...S,shop:!0}));let x=!0;Wc(S=>(x=S,h));try{localStorage.setItem("peppro:shop-enabled",h?"true":"false")}catch{}try{const S=await Mr.updateShopStatus(h),C=S&&typeof S.shopEnabled=="boolean"?S.shopEnabled:h;Wc(C);try{localStorage.setItem("peppro:shop-enabled",C?"true":"false")}catch{}}catch(S){console.warn("[Shop] Failed to update shop toggle",S),Xe.error("Unable to update Shop setting right now."),Wc(x);try{localStorage.setItem("peppro:shop-enabled",x?"true":"false")}catch{}}finally{Mo(S=>({...S,shop:!1}))}},[r?.role]),kc=y.useCallback(async h=>{if(!dt(r?.role))return;Mo(S=>({...S,patientLinks:!0}));let x=!1;Yu(S=>(x=S,h));try{localStorage.setItem("peppro:patient-links-enabled",h?"true":"false")}catch{}try{const S=await Mr.updatePatientLinksStatus(h),C=S&&typeof S.patientLinksEnabled=="boolean"?S.patientLinksEnabled:h;Yu(C);try{localStorage.setItem("peppro:patient-links-enabled",C?"true":"false")}catch{}}catch(S){console.warn("[Settings] Failed to update patient links setting",S),Xe.error("Unable to update Patient Links setting right now."),Yu(x);try{localStorage.setItem("peppro:patient-links-enabled",x?"true":"false")}catch{}}finally{Mo(S=>({...S,patientLinks:!1}))}},[r?.role]),gm=y.useCallback(async h=>{if(!dt(r?.role))return;Mo(S=>({...S,forum:!0}));let x=!0;Wa(S=>(x=S,h));try{localStorage.setItem("peppro:peptide-forum-enabled",h?"true":"false")}catch{}try{const S=await Mr.updateForumStatus(h),C=S&&typeof S.peptideForumEnabled=="boolean"?S.peptideForumEnabled:h;Wa(C);try{localStorage.setItem("peppro:peptide-forum-enabled",C?"true":"false")}catch{}}catch(S){console.warn("[Forum] Failed to update forum toggle",S),Xe.error("Unable to update Forum setting right now."),Wa(x);try{localStorage.setItem("peppro:peptide-forum-enabled",x?"true":"false")}catch{}}finally{Mo(S=>({...S,forum:!1}))}},[r?.role]),vo=y.useCallback(async h=>{if(!dt(r?.role))return;if(!Fg.research){Xe.error("Research setting isn't available on this server yet.");return}Mo(S=>({...S,research:!0}));let x=!1;Xu(S=>(x=S,h));try{localStorage.setItem("peppro:research-dashboard-enabled",h?"true":"false")}catch{}try{const S=await Mr.updateResearchStatus(h),C=S&&typeof S.researchDashboardEnabled=="boolean"?S.researchDashboardEnabled:h;Xu(C);try{localStorage.setItem("peppro:research-dashboard-enabled",C?"true":"false")}catch{}}catch(S){console.warn("[Research] Failed to update research toggle",S);const C=typeof S?.status=="number"?S.status:null;if(C===404){Hc(I=>({...I,research:!1}));try{localStorage.setItem("peppro:settings-support:research","false")}catch{}Xe.error("Research setting isn't available on this server yet.")}if(C===null)try{await Mr.getResearchStatus()}catch(I){if((typeof I?.status=="number"?I.status:null)===404){Hc(A=>({...A,research:!1}));try{localStorage.setItem("peppro:settings-support:research","false")}catch{}}}C!==404&&Xe.error("Unable to update Research setting right now."),Xu(x);try{localStorage.setItem("peppro:research-dashboard-enabled",x?"true":"false")}catch{}}finally{Mo(S=>({...S,research:!1}))}},[r?.role]),Ng=y.useCallback(async h=>{if(!dt(r?.role))return;Mo(S=>({...S,testPaymentsOverride:!0}));let x=!1;ef(S=>(x=S,h));try{localStorage.setItem("peppro:test-payments-override-enabled",h?"true":"false")}catch{}try{const S=await Mr.updateTestPaymentsOverrideStatus(h),C=S&&typeof S.testPaymentsOverrideEnabled=="boolean"?S.testPaymentsOverrideEnabled:h;ef(C);try{localStorage.setItem("peppro:test-payments-override-enabled",C?"true":"false")}catch{}}catch(S){console.warn("[Payments] Failed to update test payments override",S),Xe.error("Unable to update test payments override right now."),ef(x);try{localStorage.setItem("peppro:test-payments-override-enabled",x?"true":"false")}catch{}}finally{Mo(S=>({...S,testPaymentsOverride:!1}))}},[r?.role]),[ym,As]=y.useState(""),[Td,os]=y.useState(""),[Ec,Ia]=y.useState("idle"),[Id,ci]=y.useState(""),Ru=y.useRef(null),Tu=y.useRef(0),[Kn,Md]=y.useState({categories:[],types:[],tags:[]}),[Ll,Vf]=y.useState(null),Gf=Math.max(0,Number(Ll?.availableCredits??r?.referralCredits??0)),[nl,Dd]=y.useState([]),[_n,bo]=y.useState(null),$l=y.useCallback(h=>{if(h==null)return null;let x=String(h).trim();if(!x)return null;x=x.replace(/^mailto:/i,"").trim();const S=x.match(/<([^>]+)>/);return S?.[1]&&(x=S[1].trim()),x=x.replace(/\s+/g,"").toLowerCase(),x&&x.includes("@")?x:null},[]),xo=y.useCallback(h=>{const x=$l(h);if(!x)return[];const S=new Set,C=O=>{const T=O.trim().toLowerCase();T&&(S.add(T),S.add(`email:${T}`))};C(x);const[I,z]=x.split("@",2);if(!I||!z)return Array.from(S);const A=I.split("+",1)[0];if(A&&C(`${A}@${z}`),z==="gmail.com"||z==="googlemail.com"){const O=A.replace(/\./g,"");O&&C(`${O}@${z}`)}return Array.from(S)},[$l]),Wi=y.useCallback(h=>{if(h==null)return[];const x=String(h).trim();if(!x)return[];const S=x.replace(/\D/g,""),C=new Set;return C.add(`phone:${x}`),S&&(C.add(`phone:${S}`),S.length===11&&S.startsWith("1")&&C.add(`phone:${S.slice(1)}`)),Array.from(C)},[]),wo=y.useCallback(h=>{if(!h)return null;const x=String(h).trim().toLowerCase();return x||null},[]),vm=y.useMemo(()=>{if(typeof window>"u")return!1;const h=new URLSearchParams(window.location.search).get("debugAccountMatch");return h===null?!1:h===""||h==="1"?!0:["true","yes","on"].includes(h.toLowerCase().trim())},[]),Kf=y.useMemo(()=>{const h=_n,x=[...Array.isArray(h?.users)?h.users:[],...Array.isArray(h?.accounts)?h.accounts:[],...Array.isArray(h?.doctors)?h.doctors:[]],S=new Set,C=I=>{if(!I)return;const z=String(I).trim().toLowerCase();z&&S.add(z)};return x.forEach(I=>{const z=Di(I?.role);if(z==="admin"||z==="sales_rep"||z==="rep")return;const A=I?.email||I?.referredContactEmail||I?.userEmail||I?.doctorEmail,O=I?.phone||I?.phoneNumber||I?.phone_number||I?.referredContactPhone||null;xo(A).forEach(T=>C(T)),Wi(O).forEach(T=>C(T)),C(I?.id!==void 0&&I?.id!==null?`acct:${String(I.id).trim()}`:null),C(I?.userId!==void 0&&I?.userId!==null?`acct:${String(I.userId).trim()}`:null),C(I?.doctorId!==void 0&&I?.doctorId!==null?`acct:${String(I.doctorId).trim()}`:null),C(I?.accountId!==void 0&&I?.accountId!==null?`acct:${String(I.accountId).trim()}`:null),C(I?.account_id!==void 0&&I?.account_id!==null?`acct:${String(I.account_id).trim()}`:null)}),S},[xo,Wi,_n]),Iu=y.useMemo(()=>{const h=_n,x=[...Array.isArray(h?.users)?h.users:[],...Array.isArray(h?.accounts)?h.accounts:[],...Array.isArray(h?.doctors)?h.doctors:[]],S=new Map,C=(I,z)=>{if(!I)return;const A=String(I).trim().toLowerCase();if(!A)return;const O=S.get(A);(!O||!O.profileImageUrl&&z.profileImageUrl)&&S.set(A,z)};return x.forEach(I=>{const z=Di(I?.role);if(z==="admin"||z==="sales_rep"||z==="rep")return;const A=$l(I?.email||I?.referredContactEmail||I?.userEmail||I?.doctorEmail),O=I?.phone||I?.phoneNumber||I?.phone_number||I?.referredContactPhone||null,T=I?.id||I?.userId||I?.doctorId||I?.accountId||I?.account_id||I?.referredContactAccountId||null,W=I?.name||[I?.firstName,I?.lastName].filter(Boolean).join(" ").trim()||I?.doctorName||I?.username||A||"Account",H=I?.profileImageUrl||I?.profile_image_url||I?.avatar||I?.avatarUrl||null,U={name:W,email:A||I?.referredContactEmail||null,profileImageUrl:H};if(xo(A).forEach(ee=>C(ee,U)),O&&Wi(O).forEach(ee=>C(ee,U)),T){const ee=String(T).trim();ee&&(C(`acct:${ee}`,U),C(`acct:${ee.toLowerCase()}`,U),C(ee,U))}}),S},[xo,Wi,$l,_n]),Ma=y.useMemo(()=>(()=>{let h=0;const x=S=>{const C=wo(S);return C?Kf.has(C):!1};return(_n?.referrals??[]).map(S=>{const C=typeof S.referredContactHasAccount=="boolean"?S.referredContactHasAccount:null,I=C===null,z=I?xo(S.referredContactEmail):[],A=I?Wi(S.referredContactPhone):[],O=S.referredContactAccountId!==void 0&&S.referredContactAccountId!==null?String(S.referredContactAccountId).trim():"",T=O?`acct:${O}`:null,W=I?z.some(K=>x(K)):!1,H=I?A.some(K=>x(K)):!1,U=I?x(T):!1,ee=I?W||H||U:!!C;return vm&&I&&!ee&&h<25&&(z.length>0||A.length>0||T)&&(h+=1,console.info("[AccountMatch] no match",{referredContactName:S.referredContactName||null,referredContactEmail:S.referredContactEmail||null,referredContactPhone:S.referredContactPhone||null,referredContactAccountId:S.referredContactAccountId||null,normalizedKeys:{emailKeys:z,phoneKeys:A,acctKey:T},matched:{byEmail:W,byPhone:H,byAccountId:U}})),{...S,status:Rs(S.status),referredContactName:r_(S.referredContactName),referrerDoctorName:r_(S.referrerDoctorName),referredContactHasAccount:ee}})})(),[Kf,Wi,xo,vm,$l,wo,_n?.referrals]),Oc=y.useCallback(h=>{const x=h,S=h.integrationDetails||h.integrations,C=x.userId??x.user_id??x.doctorId??x.doctor_id??x.salesRepDoctorId??x.sales_rep_doctor_id??S?.doctorId??S?.referrerDoctorId??S?.doctor_id??S?.referrer_doctor_id??S?.userId??null;return C?String(C):null},[]),Pi=y.useCallback(h=>{const x=h,S=h.integrationDetails||h.integrations,C=x.doctorId??x.doctor_id??x.salesRepDoctorId??x.sales_rep_doctor_id??S?.doctorId??S?.referrerDoctorId??S?.doctor_id??S?.referrer_doctor_id??S?.userId??x.userId??x.user_id??null;return C?String(C):null},[]),al=y.useCallback(h=>{if(!r?.email)return!1;const x=(h?.referredContactEmail||"").toLowerCase();return x.length>0&&x===r.email.toLowerCase()},[r?.email]),Rc=r?.id||null,So=r?.role||null,sl=r?.salesRepId||null,No=y.useMemo(()=>{const h=sl||Rc||null;return h?`peppro:sales-doctor-notes:v1:${String(h)}`:null},[Rc,sl]),[jo,Hs]=y.useState({}),[Tc,_o]=y.useState("");y.useEffect(()=>{if(!No){Hs({});return}if(!(typeof window>"u"))try{const h=window.localStorage.getItem(No);if(!h){Hs({});return}const x=JSON.parse(h);Hs(x&&typeof x=="object"?x:{})}catch{Hs({})}},[No]);const Mu=y.useCallback(h=>{if(Hs(h),!(!No||typeof window>"u"))try{window.localStorage.setItem(No,JSON.stringify(h))}catch{}},[No]),[ui,Yf]=y.useState([]),Du=y.useMemo(()=>{const h=new Set;return ui.forEach(x=>{const S=Pi(x)||x.userId||x.doctorId;S&&h.add(`id:${String(S)}`),[x.userEmail,x.doctorEmail,x.email].forEach(I=>{I&&typeof I=="string"&&h.add(`email:${I.toLowerCase()}`)})}),h},[Pi,ui]),Ga=y.useCallback(h=>{const x=r?.id!=null?String(r.id):"",S=typeof r?.email=="string"?r.email.toLowerCase():"",C=typeof h?.referredContactEmail=="string"?h.referredContactEmail:typeof h?.email=="string"?h.email:"",I=C?C.toLowerCase():"";if(S&&I&&S===I)return!1;const z=h?.referredContactAccountId||h?.referredContactId||h?.userId||h?.doctorId;if(x&&z&&String(z)===x)return!1;if((cr(h?.referredContactTotalOrders)??cr(h?.totalOrders)??0)>0)return!0;const O=I;return!!(O&&Du.has(`email:${O}`)||z&&Du.has(`id:${String(z)}`))},[Du,r?.email,r?.id]),Ld=y.useCallback(h=>{if(h?.creditIssuedAt)return!0;const x=Rs(h?.status);if(x==="nuture")return!0;if(x==="converted")return!1;const S=String(h?.id||"");return String(h?.status||"").toLowerCase()==="contact_form"||S.startsWith("contact_form:")?!1:Ga(h)},[Ga]),Yn=y.useCallback(h=>{if(typeof h!="string")return null;const x=h.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return x.trim()?x:null},[]),Gr=y.useCallback(h=>{const x=h?$y(h):null,S=h&&typeof h?.trackingNumber=="string"?String(h.trackingNumber).trim():"",C=(h&&typeof h?.shippingCarrier=="string"?String(h.shippingCarrier):"")||(h&&typeof h.shippingEstimate?.carrierId=="string"?String(h.shippingEstimate.carrierId):"")||"",I=(h&&typeof h?.shippingService=="string"?String(h.shippingService):"")||(h&&typeof h.shippingEstimate?.serviceType=="string"?String(h.shippingEstimate.serviceType):"")||"",z=h&&typeof h.status=="string"?String(h.status):"",A=h&&typeof h?.expectedShipmentWindow=="string"?String(h.expectedShipmentWindow):"";return{trackingNumber:(S||x||"").toString().trim(),shippingCarrier:C.toString().trim(),shippingService:I.toString().trim(),status:z.toString().trim(),expectedShipmentWindow:A.toString().trim()}},[]),Lu=h=>{const x=String(h||"").trim();return x.length?x:null},[Vs,ls]=y.useState({trackingNumber:"",shippingCarrier:"",shippingService:"",status:"",expectedShipmentWindow:""}),[Co,ca]=y.useState({trackingNumber:"",shippingCarrier:"",shippingService:"",status:"",expectedShipmentWindow:""}),[Hi,$d]=y.useState(!1),di=y.useRef(null),[nt,fi]=y.useState(null),[Ic,Fd]=y.useState(!1),[Po,Ao]=y.useState({}),Bd=y.useRef({});y.useEffect(()=>{Bd.current=Po},[Po]);const[$u,Da]=y.useState(""),[Mc,Dc]=y.useState(!1),[il,Lc]=y.useState(new Set),[qd,Ud]=y.useState(new Set),[ol,zd]=y.useState(new Set),Wd=y.useRef(!1),Xf=y.useRef(new Set),Hd=y.useRef([]),[Ce,ko]=y.useState(null),[bm,Vd]=y.useState([]),Kr=y.useRef(null),Gd=y.useRef([]);y.useEffect(()=>{Kr.current=Ce},[Ce]),y.useEffect(()=>{Gd.current=bm},[bm]);const Fu=y.useRef(null),[Kd,ll]=y.useState(!1),[Yr,Eo]=y.useState(void 0),[Bu,Vi]=y.useState(!1),[cl,Qf]=y.useState({}),B=y.useRef(new Set),[Q,oe]=y.useState(null),[be,Ee]=y.useState(!1),we=y.useRef(""),[Qe,Ot]=y.useState(null),[It,Zt]=y.useState(!1),[Pr,on]=y.useState(null),Xr=y.useRef(null);y.useEffect(()=>{Eo(void 0),Vi(!1),oe(null),Ee(!1),we.current=""},[Ce?.doctorId]);const In=y.useCallback(()=>{const h=Gd.current;if(h.length>0){const x=h[h.length-1];Vd(h.slice(0,-1)),ko(x)}else ko(null);ll(!1)},[]);y.useEffect(()=>{if(!Ce?.doctorId)return;const h=Fu.current;if(!h)return;const x=()=>{try{h.scrollTo?.({top:0,left:0,behavior:"auto"})}catch{}h.scrollTop=0};x(),requestAnimationFrame(x),setTimeout(x,0)},[Ce?.doctorId]),y.useEffect(()=>{const h=dt(r?.role)||Sn(r?.role),x=Di(Ce?.role||""),S=String(Ce?.doctorId||"").trim(),C=(()=>{if(x==="sales_rep"||x==="rep"||x==="sales_lead"||x==="saleslead"||x==="sales-lead"||x==="admin"){const A=String(Ce?.ownerSalesRepId||"").trim();if(A)return A}return S})();if(!C||!h||!(x==="sales_rep"||x==="rep"||x==="sales_lead"||x==="saleslead"||x==="sales-lead"||x==="admin")){Xr.current=null,Ot(null),Zt(!1),on(null);return}Xr.current=C;let z=!1;return(async()=>{Zt(!0),on(null);try{const A=await ja.getSalesRepDashboard({salesRepId:C,scope:"mine",context:"modal"}),O=A&&typeof A=="object"?A:null,T=Array.isArray(O?.users)?O.users:[],W=new Map,H=new Map;T.forEach(K=>{const ge=String(K?.id||"").trim(),Z=typeof K?.email=="string"?K.email.trim().toLowerCase():"";ge&&(W.set(ge,K),Z&&H.set(Z,ge))});const ee=(Array.isArray(O?.referrals)?O.referrals:Array.isArray(O?.leads)?O.leads:[]).filter(K=>K&&typeof K=="object").filter(K=>K?.creditIssuedAt?!1:Rs(K?.status)!=="nuture").map(K=>{const ge=K?.contactFormId||K?.contact_form_id||K?.contactFormID||K?.contact_formId||null,de=(typeof K?.leadType=="string"?K.leadType:typeof K?.lead_type=="string"?K.lead_type:"").trim().toLowerCase(),Ae=typeof ge=="string"&&ge.trim()?ge.trim().startsWith("contact_form:")?ge.trim():`contact_form:${ge.trim()}`:typeof ge=="number"&&Number.isFinite(ge)?`contact_form:${String(ge)}`:null,_e=!!Ae||de==="contact_form"||de==="house"||de.includes("contact"),Oe=K?.referredContactAccountId||K?.referred_contact_account_id||K?.referredContactId||K?.referred_contact_id||K?.userId||K?.user_id||K?.doctorId||K?.doctor_id||K?.convertedDoctorId||K?.converted_doctor_id||null;let Ye=Oe!=null?String(Oe).trim():"";if(!Ye){const pt=K?.referredContactAccountEmail||K?.referred_contact_account_email||K?.referredContactEmail||K?.referred_contact_email||K?.contactEmail||K?.contact_email||K?.email||"",_t=typeof pt=="string"?pt.trim().toLowerCase():"";if(_t){const je=H.get(_t);je&&(Ye=je)}}const vt=Ye?W.get(Ye):null,Ue=String(vt?.name||K?.referredContactAccountName||K?.referred_contact_account_name||K?.referredContactName||K?.contactName||K?.name||"").trim()||"Prospect",qe=String(vt?.email||K?.referredContactAccountEmail||K?.referred_contact_account_email||K?.referredContactEmail||K?.contactEmail||K?.email||"").trim()||"",ze=vt?.profileImageUrl||vt?.profile_image_url||K?.profileImageUrl||K?.profile_image_url||null,ct=Ye||(_e?Ae:null)||(typeof K?.id=="string"&&K.id.trim().length>0?K.id.trim():null)||(typeof K?.doctorId=="string"&&K.doctorId.trim().length>0?K.doctorId.trim():null)||(typeof K?.doctor_id=="string"&&K.doctor_id.trim().length>0?K.doctor_id.trim():null)||(typeof K?.referralId=="string"&&K.referralId.trim().length>0?K.referralId.trim():null)||(typeof K?.referral_id=="string"&&K.referral_id.trim().length>0?K.referral_id.trim():null)||null;return{...K,_accountId:Ye||null,_displayName:Ue,_displayEmail:qe||null,_avatarUrl:ze||null,_prospectIdentifier:ct}}).sort((K,ge)=>{const Z=Date.parse(String(K?.updatedAt||K?.createdAt||""))||0;return(Date.parse(String(ge?.updatedAt||ge?.createdAt||""))||0)-Z});if(z||Xr.current!==C)return;Ot(ee)}catch(A){if(z||Xr.current!==C)return;Ot(null);const O=typeof A?.message=="string"&&A.message.trim().length?A.message:"Unable to load prospects.";on(O)}finally{!z&&Xr.current===C&&Zt(!1)}})(),()=>{z=!0}},[ja,Ce?.doctorId,Ce?.role,r?.role]),y.useEffect(()=>{if(!(!!r?.role&&(dt(r?.role)||Sn(r?.role)))||!Ce?.doctorId||!Ti(Ce.role))return;const x=String(Ce.ownerSalesRepId||"").trim();if(!x||cl[x]||B.current.has(x))return;B.current.add(x);const S=typeof Ce?.ownerSalesRepName=="string"?Ce.ownerSalesRepName.trim():"",C=typeof Ce?.ownerSalesRepEmail=="string"?Ce.ownerSalesRepEmail.trim():"";(async()=>{try{if(S||C){Qf(H=>({...H,[x]:{id:x,name:S||null,email:C||null,role:"sales_rep",userId:null}}));return}const I=await Mr.getSalesRepProfile(x),z=I?.salesRep||I?.sales_rep||null;if(!z)return;const A=String(z?.id||x).trim(),O=typeof z?.name=="string"?z.name.trim():"",T=typeof z?.email=="string"?z.email.trim():"";if(!O&&!T)return;const W=String(z?.userId||"").trim()||null;Qf(H=>({...H,[x]:{id:A,name:O||null,email:T||null,role:"sales_rep",userId:W}}))}catch{}finally{B.current.delete(x)}})()},[Ce?.doctorId,Ce?.ownerSalesRepId,Ce?.ownerSalesRepName,Ce?.ownerSalesRepEmail,Ce?.role,cl,_n,r?.role]);const[gn,Cn]=y.useState(!1),[Xn,Qn]=y.useState(!1),Qr=y.useRef(null),ya=y.useCallback(()=>{Qn(!0),Qr.current&&window.clearTimeout(Qr.current),Qr.current=window.setTimeout(()=>{Qn(!1),Qr.current=null},1e3)},[]),[cs,ks]=y.useState(""),[Zr,ln]=y.useState(!1),[Er,Bn]=y.useState(""),[La,Zn]=y.useState(!1);y.useEffect(()=>{if(!Ce?.doctorId||!Ti(Ce.role)){_o(""),Cn(!1),Qn(!1);return}const h=String(Ce.referralId||"").trim(),x=String(Ce.doctorId||"").trim(),S=!!h&&/^\d+$/.test(h),C=!!x&&/^\d+$/.test(x),I=!!x&&!!h&&x!==h&&S&&!C,z=Array.from(new Set([...I?[x,h]:[h,x]].filter(Boolean)));if(z.length===0)return;const A=W=>{const H=[W?.officeAddressLine1??W?.office_address_line1,W?.officeAddressLine2??W?.office_address_line2,[W?.officeCity??W?.office_city,W?.officeState??W?.office_state,W?.officePostalCode??W?.office_postal_code].filter(Boolean).join(", "),W?.officeCountry??W?.office_country].filter(U=>typeof U=="string"&&U.trim().length>0);return H.length>0?H.join(`
`):null},O=W=>{const H=[W?.addressLine1??W?.address_line1??W?.address1??W?.address_1,W?.addressLine2??W?.address_line2??W?.address2??W?.address_2,[W?.city,W?.state,W?.postalCode??W?.postcode].filter(Boolean).join(", "),W?.country].filter(U=>typeof U=="string"&&U.trim().length>0);return H.length>0?H.join(`
`):null};let T=!1;return(async()=>{const W=typeof Ce?.prospectNotes=="string"?Ce.prospectNotes:null;_o(W||""),Cn(!0);try{let H=null;for(const qe of z){const ze=await ja.getSalesProspect(qe),ct=ze?.prospect||null,bt=ze?.user||ze?.account||ze?.doctor||null,pt=typeof ct?.notes=="string"?ct.notes.trim():typeof ct?.salesRepNotes=="string"?ct.salesRepNotes.trim():typeof ct?.sales_rep_notes=="string"?String(ct.sales_rep_notes).trim():"",_t=A(ct)||null,je=A(bt)||O(bt)||null,Dt=(pt?3:0)+(_t?2:0)+(je?2:0)+(bt?1:0)+(ct?1:0);if((!H||Dt>H.score)&&(H={response:ze,prospect:ct,userRecord:bt,score:Dt}),pt&&(_t||je))break}const U=H?.prospect||null,ee=H?.userRecord||null,K=typeof U?.notes=="string"?U.notes:typeof U?.salesRepNotes=="string"?U.salesRepNotes:typeof U?.sales_rep_notes=="string"?String(U.sales_rep_notes):"",ge=typeof K=="string"?K:"",Z=A(U),de=A(ee)||O(ee),Ae=de||Z||null,_e=de?"user":Z?"prospect":null,Oe=typeof ee?.name=="string"&&ee.name.trim()?ee.name.trim():null,Ye=typeof ee?.email=="string"&&ee.email.trim()?ee.email.trim():null,vt=typeof ee?.profileImageUrl=="string"&&ee.profileImageUrl.trim()?ee.profileImageUrl.trim():typeof ee?.profile_image_url=="string"&&ee.profile_image_url.trim()?ee.profile_image_url.trim():null,Ue=typeof ee?.phone=="string"&&ee.phone.trim()?ee.phone.trim():typeof ee?.phoneNumber=="string"&&ee.phoneNumber.trim()?ee.phoneNumber.trim():typeof ee?.phone_number=="string"&&String(ee.phone_number).trim()?String(ee.phone_number).trim():null;T||(_o(qe=>{const ze=typeof ge=="string"?ge:"";return U&&typeof U=="object"||ze.trim().length>0?ze:qe}),(Ae||Oe||Ye||vt||Ue)&&ko(qe=>{if(!qe||String(qe.doctorId||"")!==String(Ce.doctorId||""))return qe;const ze={...qe};return Oe&&(ze.name=Oe),Ye&&(ze.email=Ye),vt&&(ze.avatar=vt),Ue&&(ze.phone=Ue),Ae&&(ze.address=Ae,ze.addressOrigin=_e),ze}),Cn(!1),Qn(!1))}catch{if(!T){const H=String(Ce.doctorId);_o(U=>U||jo[H]||""),Cn(!1),Qn(!1)}}})(),()=>{T=!0}},[Ce?.doctorId,Ce?.referralId,Ce?.role,jo]),y.useEffect(()=>{if(!Ce?.doctorId){ks("");return}ks(Ce.phone||"")},[Ce?.doctorId,Ce?.phone]),y.useEffect(()=>{if(!Ce?.doctorId){Bn("");return}Bn(Ce.address||"")},[Ce?.address,Ce?.doctorId]),y.useEffect(()=>()=>{Qr.current&&(window.clearTimeout(Qr.current),Qr.current=null)},[]);const $a=y.useCallback(async()=>{if(!Ce?.doctorId||!Ti(Ce.role))return;const h=String(Ce.doctorId);if(r&&(vr(r.role)||dt(r.role)))try{Ir(I=>({...I,updatingReferral:h,error:null})),await ja.upsertSalesProspect(h,{notes:Tc}),ya();return}catch(I){console.warn("[Referral] Update sales rep notes failed",I),Xe.error(typeof I?.message=="string"&&I.message?I.message:"Unable to save notes right now.")}finally{Ir(I=>({...I,updatingReferral:null}))}const x=String(Ce.doctorId),S=Yn(Tc),C={...jo};S?C[x]=S:delete C[x],Mu(C),ya()},[Mu,Ce?.doctorId,Ce?.role,Tc,jo,Yn,ya,r]),dr=y.useCallback(async()=>{if(!Ce?.doctorId)return;const h=cs.trim(),x=Ce.phone||"";if(h!==x){ln(!0);try{await Mr.updateUserProfile(Ce.doctorId,{phone:h||null}),ko(S=>S&&{...S,phone:h||null}),Xe.success("Phone number updated.")}catch(S){console.warn("[SalesDoctor] Failed to update phone number",S),Xe.error(typeof S?.message=="string"&&S.message?S.message:"Unable to update phone number right now.")}finally{ln(!1)}}},[Ce?.doctorId,Ce?.phone,cs,Mr]),wr=y.useCallback(async()=>{if(!Ce?.doctorId)return;const h=String(Ce.doctorId).trim();if(!h)return;const x=Er.trim(),S=(Ce.address||"").trim();if(x!==S){Zn(!0);try{const C=Er.split(/\r?\n/).map(Ue=>Ue.trim()).filter(Ue=>Ue.length>0),I=C.length>0?C[C.length-1]:"",A=!!I&&(/^(us|usa|united states|united states of america)$/i.test(I)||I.toUpperCase()==="US")?"US":null,O=A?C.slice(0,Math.max(0,C.length-1)):C,T=O.findIndex(Ue=>Ue.includes(",")),W=T>=0?O[T]:null,H=Ue=>{if(!Ue)return{city:null,state:null,postalCode:null};const qe=Ue.split(",").map(Dt=>Dt.trim()).filter(Boolean);if(qe.length===0)return{city:null,state:null,postalCode:null};const ze=qe[0]||null,bt=qe.slice(1).join(" ").trim().split(/\s+/).filter(Boolean),pt=bt.length>0?bt[0]:null,je=(bt.length>1?bt[bt.length-1]:qe.length>2?qe[qe.length-1]:null)||null;return{city:ze,state:pt,postalCode:je}},{city:U,state:ee,postalCode:K}=H(W),ge=T>=0?O.filter((Ue,qe)=>qe!==T):O,Z=ge.length>0?ge[0]:null,de=ge.length>1?ge.slice(1).join(", "):null,Ae={officeAddressLine1:Z||null,officeAddressLine2:de||null,officeCity:U||null,officeState:ee||null,officePostalCode:K||null,officeCountry:A||null},_e=h.startsWith("contact_form:")||h.startsWith("manual:");let Oe=!1;try{if(!_e)await Mr.updateUserProfile(h,Ae);else throw new Error("PROSPECT_ADDRESS")}catch(Ue){const qe=typeof Ue?.status=="number"?Ue.status:null,ze=typeof Ue?.message=="string"?Ue.message:"",ct=qe===403&&typeof ze=="string"&&ze.toLowerCase().includes("doctor access required");if(!(_e||qe===404||qe===400||ct))throw Ue;await ja.upsertSalesProspect(h,Ae),Oe=!0}const Ye=[Z,de,[U,ee,K].filter(Boolean).join(", "),A].filter(Ue=>typeof Ue=="string"&&Ue.trim().length>0),vt=Ye.length>0?Ye.join(`
`):null;ko(Ue=>Ue&&{...Ue,address:vt}),Xe.success(Oe?"Prospect address updated.":"Address updated.")}catch(C){console.warn("[SalesDoctor] Failed to update address",C),Xe.error(typeof C?.message=="string"&&C.message?C.message:"Unable to update address right now.")}finally{Zn(!1)}}},[Er,Ce?.address,Ce?.doctorId,ja,Mr]),Or=y.useCallback(h=>{h&&Yf(x=>x.map(S=>String(S.id||"")===String(h.id||h.number||"")||S.wooOrderId&&h.wooOrderId&&String(S.wooOrderId)===String(h.wooOrderId)||S.number&&h.number&&String(S.number)===String(h.number)?{...S,...h,shippingEstimate:h.shippingEstimate||S.shippingEstimate||null,createdAt:h.createdAt||S.createdAt||null,updatedAt:h.updatedAt||S.updatedAt||null,lineItems:h.lineItems?.length?h.lineItems:S.lineItems}:S))},[]),yn=y.useCallback(h=>{Ud(x=>{const S=new Set(x);return S.has(h)?S.delete(h):S.add(h),S})},[]),Jr=y.useCallback(h=>{zd(x=>{const S=new Set(x);return S.has(h)?S.delete(h):S.add(h),S})},[]),[qn,Gs]=y.useState(new Map),[Rr,Lt]=y.useState(!1),[zt,or]=y.useState(!1),[cn,Ks]=y.useState(null),[Pn,Tr]=y.useState(null),Ka=y.useRef(null),An=y.useRef(0),us=y.useRef(!1),vn=y.useRef(new Map),Mn=y.useRef(new Map),er=y.useRef([]),fr=y.useRef([]),[Ya,nr]=y.useState(new Set),en=y.useRef(null);y.useEffect(()=>{Hd.current=ui},[ui]);const Xa=y.useCallback(async h=>{fi(h),Da(typeof h?.notes=="string"?String(h.notes):""),di.current=null,Fd(!0);try{const x=await ti.getSalesRepOrderDetail(h.wooOrderId||h.id||h.number||"",h?.doctorEmail||h?.doctor_email||h?.doctorId||Oc(h)||null),S=Rp({woo:Array.isArray(x)?x:[x]},{includeCanceled:!0});if(S&&S.length>0){const C=S[0];fi(C);const I=Gr(C);ca(I),ls(I),Da(typeof C?.notes=="string"?String(C.notes):""),Or(C)}else if(x&&typeof x=="object"){const C=x;fi(C);const I=Gr(C);ca(I),ls(I),Da(typeof C?.notes=="string"?String(C.notes):""),Or(C)}}catch(x){console.error("[Sales Tracking] Failed to fetch order detail",x),Xe.error(typeof x?.message=="string"?x.message:"Unable to load order details.")}finally{Fd(!1)}},[Gr,Or]);y.useEffect(()=>{if(!nt){Da(""),ca({trackingNumber:"",shippingCarrier:"",shippingService:"",status:"",expectedShipmentWindow:""}),ls({trackingNumber:"",shippingCarrier:"",shippingService:"",status:"",expectedShipmentWindow:""}),di.current=null;return}Da(typeof nt?.notes=="string"?String(nt.notes):"")},[nt?.id]),y.useEffect(()=>{if(!nt)return;const h=$y(nt);if(!h)return;const x=Bd.current[h];if(x){fi(C=>{if(!C)return C;const I=Vo(C.integrationDetails||C.integrations)||{};return Vo(I?.carrierTracking||I?.carrier_tracking)?.trackingStatus?C:{...C,integrationDetails:{...I,carrierTracking:x}}});return}let S=!1;return(async()=>{try{const C=await WL.getStatus(h);if(S||!C)return;Ao(I=>({...I,[h]:C})),fi(I=>{if(!I)return I;const z=Vo(I.integrationDetails||I.integrations)||{};return{...I,integrationDetails:{...z,carrierTracking:C}}})}catch{}})(),()=>{S=!0}},[nt?.id]),y.useEffect(()=>{if(!nt||Ic)return;const h=String(nt.wooOrderId||nt.id||nt.number||"");if(!h||di.current===h)return;const x=Gr(nt);ca(x),ls(x),di.current=h},[Gr,nt,Ic]);const va=y.useCallback(async()=>{if(!nt)return;if(!r?.role||!vr(r.role)&&!dt(r.role)){Xe.error("You don't have permission to edit order notes.");return}if(Mc)return;const h=Yn($u),x=nt.wooOrderId||nt.id||nt.number||"";if(!x){Xe.error("Unable to identify this order.");return}Dc(!0);try{const S=await ti.updateOrderNotes(x,h),C=S&&typeof S=="object"&&S.order||null,I=C&&typeof C?.notes=="string"?String(C.notes):h;fi(z=>z&&{...z,notes:I}),Or({...nt,notes:I}),Xe.success("Order notes updated.")}catch(S){console.warn("[Orders] Failed to update order notes",S),Xe.error(typeof S?.message=="string"&&S.message?S.message:"Unable to update order notes right now.")}finally{Dc(!1)}},[Or,Yn,nt,$u,Mc,r?.role]),Ys=y.useCallback(async()=>{if(!nt)return;if(!r?.role||!vr(r.role)&&!dt(r.role)){Xe.error("You don't have permission to edit this order.");return}if(Hi)return;const h=nt.wooOrderId||nt.id||nt.number||"";if(!h){Xe.error("Unable to identify this order.");return}const x={},S=["trackingNumber","shippingCarrier","shippingService","status","expectedShipmentWindow"];for(const C of S){const I=Lu(Vs[C]),z=Lu(Co[C]);I!==z&&(x[C]=I)}if(Object.keys(x).length===0){Xe("No changes to save.");return}$d(!0);try{const C=await ti.updateOrderFields(h,x),I=C&&typeof C=="object"&&C.order||null;fi(z=>{if(!z)return z;const A={};I&&typeof I=="object"?("trackingNumber"in I&&(A.trackingNumber=I.trackingNumber??null),"shippingCarrier"in I&&(A.shippingCarrier=I.shippingCarrier??null),"shippingService"in I&&(A.shippingService=I.shippingService??null),"status"in I&&(A.status=I.status??null),"expectedShipmentWindow"in I&&(A.expectedShipmentWindow=I.expectedShipmentWindow??null),I.shippingEstimate&&(A.shippingEstimate=I.shippingEstimate),I.updatedAt&&(A.updatedAt=I.updatedAt)):("trackingNumber"in x&&(A.trackingNumber=x.trackingNumber),"shippingCarrier"in x&&(A.shippingCarrier=x.shippingCarrier),"shippingService"in x&&(A.shippingService=x.shippingService),"status"in x&&(A.status=x.status),"expectedShipmentWindow"in x&&(A.expectedShipmentWindow=x.expectedShipmentWindow));const O={...z,...A};return Or(O),O}),ca(z=>{const A={...z};for(const O of S)O in x&&(A[O]=Lu(x[O])||"");return A}),ls(z=>{const A={...z};for(const O of S)O in x&&(A[O]=Lu(x[O])||"");return A}),Xe.success("Order updated.")}catch(C){console.warn("[Orders] Failed to update order fields",C),Xe.error(typeof C?.message=="string"&&C.message?C.message:"Unable to update the order right now.")}finally{$d(!1)}},[Gr,Or,nt,Vs,Co,Hi,r?.role]),bn=h=>{const x=String(h||"").toLowerCase().trim();return!["cancelled","canceled","on-hold","on_hold","trash","refunded","delegation_draft"].includes(x)},ul=y.useCallback((h,x)=>{const S=()=>{const de=String(h?.doctorId||"").trim(),Ae=typeof h?.doctorEmail=="string"?h.doctorEmail.trim().toLowerCase():"",Oe=[...Array.isArray(er.current)?er.current:[],...Array.isArray(fr.current)?fr.current:[]].find(vt=>{const Ue=String(vt?.id||"").trim();if(de&&Ue&&de===Ue)return!0;const qe=typeof vt?.email=="string"?vt.email.trim().toLowerCase():"";return!!(Ae&&qe&&Ae===qe)});if(!Oe)return null;const Ye=typeof Oe?.idleMinutes=="number"&&Number.isFinite(Oe.idleMinutes)?Oe.idleMinutes:typeof Oe?.idleForMinutes=="number"&&Number.isFinite(Oe.idleForMinutes)?Oe.idleForMinutes:null;return{isOnline:typeof Oe?.isOnline=="boolean"?Oe.isOnline:null,isIdle:typeof Oe?.isIdle=="boolean"?Oe.isIdle:null,idleMinutes:Ye,lastSeenAt:Oe?.lastSeenAt||Oe?.last_seen_at||null,lastInteractionAt:Oe?.lastInteractionAt||Oe?.last_interaction_at||null,lastLoginAt:Oe?.lastLoginAt||Oe?.last_login_at||null}},I=[...h.orders||[]].sort((de,Ae)=>{const _e=de.createdAt?new Date(de.createdAt).getTime():0;return(Ae.createdAt?new Date(Ae.createdAt).getTime():0)-_e})[0],z=I?.shippingAddress||I?.shipping||I?.billingAddress||I?.billing||null,A=z&&[[z.firstName,z.lastName].filter(Boolean).join(" ").trim(),z.address1||z.address_1,z.address2||z.address_2,[z.city,z.state,z.postcode].filter(Boolean).join(", "),z.country].filter(de=>typeof de=="string"&&de.trim().length>0).join(`
`),O=h.doctorAddress&&h.doctorAddress.trim().length>0?h.doctorAddress:A||null,T=h.addressOrigin||(h.doctorAddress&&h.doctorAddress.trim().length>0?"unknown":A?"order":null),W=I?.createdAt||null,H=h.orders.filter(de=>bn(de.status)),U=H.length>0?h.total/H.length:null,ee=Di(x||"doctor")||"doctor",K=typeof h?.isOnline=="boolean"||typeof h?.isIdle=="boolean"?{isOnline:typeof h?.isOnline=="boolean"?h.isOnline:null,isIdle:typeof h?.isIdle=="boolean"?h.isIdle:null,idleMinutes:typeof h?.idleMinutes=="number"&&Number.isFinite(h.idleMinutes)?h.idleMinutes:typeof h?.idleForMinutes=="number"&&Number.isFinite(h.idleForMinutes)?h.idleForMinutes:null,lastSeenAt:typeof h?.lastSeenAt=="string"?h.lastSeenAt:typeof h?.last_seen_at=="string"?h.last_seen_at:null,lastInteractionAt:typeof h?.lastInteractionAt=="string"?h.lastInteractionAt:typeof h?.last_interaction_at=="string"?h.last_interaction_at:null,lastLoginAt:typeof h?.lastLoginAt=="string"?h.lastLoginAt:typeof h?.last_login_at=="string"?h.last_login_at:null}:S(),ge={doctorId:h.doctorId,referralId:h.referralId??null,name:h.doctorName,email:h.doctorEmail,avatar:h.doctorAvatar??null,prospectNotes:typeof h?.prospectNotes=="string"?h.prospectNotes:typeof h?.notes=="string"?h.notes:null,revenue:h.total,personalRevenue:h.personalRevenue??null,salesRevenue:h.salesRevenue??null,salesWholesaleRevenue:h.salesWholesaleRevenue??null,salesRetailRevenue:h.salesRetailRevenue??null,orderQuantity:h.orderQuantity??null,totalOrderValue:h.totalOrderValue??null,orders:h.orders,personalOrders:Array.isArray(h.personalOrders)?h.personalOrders:void 0,salesOrders:Array.isArray(h.salesOrders)?h.salesOrders:void 0,phone:h.doctorPhone||z?.phone||z?.phoneNumber||null,address:O,addressOrigin:T,lastOrderDate:W,avgOrderValue:U,role:ee,ownerSalesRepId:h.ownerSalesRepId??null,ownerSalesRepName:h.ownerSalesRepName??null,ownerSalesRepEmail:h.ownerSalesRepEmail??null,isOnline:K?.isOnline??null,isIdle:K?.isIdle??null,idleMinutes:K?.idleMinutes??null,lastSeenAt:K?.lastSeenAt??null,lastInteractionAt:K?.lastInteractionAt??null,lastLoginAt:K?.lastLoginAt??null},Z=Kr.current;Z&&String(Z.doctorId||"").trim()&&String(Z.doctorId||"").trim()!==String(ge.doctorId||"").trim()&&Vd(de=>[...de,Z]),ko(ge)},[]),Fl=y.useCallback((h,x)=>{const S=String(h?.id||"").trim();if(!S)return;const C=h?.profileImageUrl||null,I=h?.name||h?.email||"User",z=Di(h?.role),A=typeof x?.salesRepWholesaleRevenue=="number"&&Number.isFinite(x.salesRepWholesaleRevenue)?x.salesRepWholesaleRevenue:null,O=typeof x?.salesRepRetailRevenue=="number"&&Number.isFinite(x.salesRepRetailRevenue)?x.salesRepRetailRevenue:null;if(ll(!0),ul({doctorId:S,referralId:null,doctorName:I,doctorEmail:h?.email||null,doctorAvatar:C,doctorPhone:null,doctorAddress:null,ownerSalesRepId:h?.ownerSalesRepId||h?.owner_sales_rep_id||h?.salesRepId||h?.sales_rep_id||h?.assignedSalesRepId||h?.assigned_sales_rep_id||null,isOnline:typeof h?.isOnline=="boolean"?h.isOnline:null,isIdle:typeof h?.isIdle=="boolean"?h.isIdle:null,idleMinutes:typeof h?.idleMinutes=="number"&&Number.isFinite(h.idleMinutes)?h.idleMinutes:typeof h?.idleForMinutes=="number"&&Number.isFinite(h.idleForMinutes)?h.idleForMinutes:null,lastSeenAt:h?.lastSeenAt||h?.last_seen_at||null,lastInteractionAt:h?.lastInteractionAt||h?.last_interaction_at||null,lastLoginAt:h?.lastLoginAt||h?.last_login_at||null,orders:[],total:0,salesWholesaleRevenue:A,salesRetailRevenue:O},z||"doctor"),!dt(r?.role)&&!Sn(r?.role)){(async()=>{try{const T=r?.role||null;if(!T||!vr(T))return;const W=r?.salesRepId||r?.id||null,H=await ti.getForSalesRep({salesRepId:W?String(W):void 0,scope:"mine"}),U=H&&typeof H=="object"?H:null,ee=Array.isArray(U?.orders)?U.orders:Array.isArray(H)?H:[],K=Array.isArray(U?.doctors)?U.doctors:Array.isArray(U?.users)?U.users:[],ge=Rp({local:ee},{includeCanceled:!0}),Z=typeof h?.email=="string"?h.email.trim().toLowerCase():"",de=qe=>{const ze=Oc(qe)||qe?.userId||qe?.doctorId||null;if(ze&&String(ze)===S)return!0;const ct=qe?.doctorEmail||qe?.doctor_email||qe?.billing?.email||qe?.billing_email||null,bt=typeof ct=="string"?ct.trim().toLowerCase():"";return!!(Z&&bt&&Z===bt)},Ae=ge.filter(de),_e=Ae.reduce((qe,ze)=>bn(ze.status)?qe+(cr(ze.total)||0):qe,0),Oe=Ae.filter(qe=>bn(qe.status)).length,Ye=(()=>{const qe=K.find(ze=>String(ze?.id||ze?.doctorId||ze?.userId||"")===S);return qe||(Z?K.find(ze=>typeof ze?.email=="string"&&ze.email.trim().toLowerCase()===Z):null)})(),vt=Ye?.name||[Ye?.firstName,Ye?.lastName].filter(Boolean).join(" ").trim()||I,Ue=(()=>{const qe=Ye,ze=[qe?.officeAddressLine1,qe?.officeAddressLine2,[qe?.officeCity,qe?.officeState,qe?.officePostalCode].filter(Boolean).join(", "),qe?.officeCountry].filter(ct=>typeof ct=="string"&&ct.trim().length>0);return ze.length>0?ze.join(`
`):null})();ul({doctorId:S,referralId:null,doctorName:vt,doctorEmail:Ye?.email||h?.email||null,doctorAvatar:Ye?.profileImageUrl||Ye?.profile_image_url||C,doctorPhone:Ye?.phone||Ye?.phoneNumber||Ye?.phone_number||null,doctorAddress:Ue,addressOrigin:Ue?"user":null,ownerSalesRepId:Ye?.ownerSalesRepId||Ye?.owner_sales_rep_id||Ye?.salesRepId||Ye?.sales_rep_id||null,isOnline:typeof h?.isOnline=="boolean"?h.isOnline:null,isIdle:typeof h?.isIdle=="boolean"?h.isIdle:null,idleMinutes:typeof h?.idleMinutes=="number"&&Number.isFinite(h.idleMinutes)?h.idleMinutes:typeof h?.idleForMinutes=="number"&&Number.isFinite(h.idleForMinutes)?h.idleForMinutes:null,lastSeenAt:h?.lastSeenAt||h?.last_seen_at||null,lastInteractionAt:h?.lastInteractionAt||h?.last_interaction_at||null,lastLoginAt:h?.lastLoginAt||h?.last_login_at||null,orders:Ae,total:_e,orderQuantity:Oe,totalOrderValue:_e,salesWholesaleRevenue:A,salesRetailRevenue:O},"doctor")}catch(T){console.warn("[Sales Rep] Failed to hydrate live client detail",T)}finally{ll(!1)}})();return}(async()=>{try{const[T,W]=await Promise.all([Mr.getAdminUserProfile(S),ti.getAdminOrdersForUser(S)]),H=T?.user||null,U=Rp(W,{includeCanceled:!0}),ee=_t=>bD(_t),K=U.reduce((_t,je)=>bn(je.status)?_t+ee(je):_t,0),ge=U.filter(_t=>bn(_t.status)).length,Z=Di(H?.role||z||"doctor"),de=[H?.officeAddressLine1,H?.officeAddressLine2,[H?.officeCity,H?.officeState,H?.officePostalCode].filter(Boolean).join(", "),H?.officeCountry].filter(_t=>typeof _t=="string"&&_t.trim().length>0),Ae=de.length>0?de.join(`
`):null,_e=Z==="sales_rep"||Z==="rep"||Z==="sales_lead"||Z==="saleslead"||Z==="sales-lead"||Z==="admin";let Oe=null,Ye=null,vt=A,Ue=O,qe=K,ze=U,ct=U,bt=[],pt=ge;if(_e)try{const je=(await ti.getForSalesRep({salesRepId:S,scope:"all"}))?.orders,Dt=Array.isArray(je)?je:[],it=Rp({local:Dt},{includeCanceled:!0}),ft=typeof H?.email=="string"?H.email.trim().toLowerCase():typeof h?.email=="string"?h.email.trim().toLowerCase():"",Ut=typeof H?.name=="string"&&H.name.trim()?H.name.trim().toLowerCase():typeof h?.name=="string"&&h.name.trim()?h.name.trim().toLowerCase():"",rn=Ge=>{const Kt=Ge?.doctorEmail||Ge?.doctor_email||Ge?.billingAddress?.email||Ge?.billing?.email||Ge?.billing_email||Ge?.customerEmail||Ge?.customer_email||null;return typeof Kt=="string"?Kt.trim().toLowerCase():""},wn=Ge=>{const Kt=typeof Ge?.doctorName=="string"?Ge.doctorName.trim():"";if(Kt)return Kt.toLowerCase();const Br=Ge?.billingAddress||Ge?.billing||Ge?.billing_address||null,Na=Ge?.shippingAddress||Ge?.shipping||Ge?.shipping_address||null,tu=ld=>{if(!ld)return"";const t2=ld?.firstName||ld?.first_name||ld?.firstname||"",iF=ld?.lastName||ld?.last_name||ld?.lastname||"",r2=[t2,iF].filter(Boolean).join(" ").trim();return r2?r2.toLowerCase():""};return tu(Br)||tu(Na)||""},Un=Ge=>{try{const Kt=Oc(Ge);return Kt?String(Kt):""}catch{return String(Ge?.doctorId||Ge?.doctor_id||Ge?.userId||Ge?.user_id||"").trim()}},wf=Ge=>{const Kt=Un(Ge);if(Kt&&Kt===S)return!0;const Br=rn(Ge);if(ft&&Br&&ft===Br)return!0;const Na=wn(Ge);return!!(Ut&&Na&&Ut===Na)},Os=Ge=>{const Kt=Fy(Ge.wooOrderNumber||Ge.woo_order_number||Ge.number);if(Kt)return`num:${Kt}`;const Br=lu(Ge.wooOrderId||Ge.woo_order_id||Ge.wooId||Ge.id);if(Br)return`woo:${Br}`;const Na=typeof Ge?.id=="string"?Ge.id.trim():Ge?.id!=null?String(Ge.id).trim():"";return Na?`id:${Na}`:""},od=Ge=>{const Kt=new Map;for(const Br of Ge||[]){const Na=Os(Br);if(!Na)continue;if(!Kt.has(Na)){Kt.set(Na,Br);continue}const tu=Kt.get(Na),ld=Array.isArray(tu?.lineItems)?tu.lineItems.length:Array.isArray(tu?.items)?tu.items.length:0;(Array.isArray(Br?.lineItems)?Br.lineItems.length:Array.isArray(Br?.items)?Br.items.length:0)>ld&&Kt.set(Na,Br)}return Array.from(Kt.values())},ir=it.filter(Ge=>!wf(Ge)),Sa=od(ir),ei=ct,bi=new Set,ms=(Ge,Kt)=>{Ge&&bi.add(`${Kt}:${Ge}`)};ei.forEach(Ge=>{ms(lu(Ge.wooOrderId||Ge.woo_order_id||Ge.wooId||Ge.id),"woo"),ms(Fy(Ge.wooOrderNumber||Ge.woo_order_number||Ge.number),"num");const Kt=typeof Ge.id=="string"?Ge.id.trim():"";Kt&&ms(Kt,"id")});const vl=Ge=>{const Kt=lu(Ge.wooOrderId||Ge.woo_order_id||Ge.wooId||Ge.id);if(Kt&&bi.has(`woo:${Kt}`))return!0;const Br=Fy(Ge.wooOrderNumber||Ge.woo_order_number||Ge.number);if(Br&&bi.has(`num:${Br}`))return!0;const Na=typeof Ge.id=="string"?Ge.id.trim():"";return!!(Na&&bi.has(`id:${Na}`))},hs=Sa.filter(Ge=>!vl(Ge)),ea=(()=>{const Ge=new Map,Kt=Br=>Os(Br)||String(Br.number||Br.wooOrderNumber||Br.wooOrderId||Br.id||"");return[...ei,...hs].forEach(Br=>{const Na=Kt(Br);Na&&(Ge.has(Na)||Ge.set(Na,Br))}),Array.from(Ge.values())})();ze=ea,bt=hs,pt=ea.filter(Ge=>bn(Ge?.status)).length,Ye=ei.reduce((Ge,Kt)=>bn(Kt?.status)?Ge+ee(Kt):Ge,0),qe=ea.reduce((Ge,Kt)=>bn(Kt?.status)?Ge+ee(Kt):Ge,0);const ta=hs.reduce((Ge,Kt)=>{if(!bn(Kt?.status))return Ge;const Br=ee(Kt),Na=Kt?.pricingMode||Kt?.pricing_mode||Kt?.pricing||Kt?.priceType||null,tu=String(Na||"").toLowerCase().trim();return Ge.total+=Br,tu==="wholesale"?Ge.wholesale+=Br:Ge.retail+=Br,Ge},{total:0,wholesale:0,retail:0});Oe=ta.total,vt=ta.wholesale,Ue=ta.retail}catch(_t){console.warn("[Admin] Failed to load sales rep revenue",_t),Ye=K,qe=K}ul({doctorId:S,referralId:null,doctorName:H?.name||I,doctorEmail:H?.email||h?.email||null,doctorAvatar:H?.profileImageUrl||C,doctorPhone:H?.phone||null,doctorAddress:Ae,addressOrigin:Ae?"user":null,ownerSalesRepId:H?.salesRepId||H?.sales_rep_id||H?.ownerSalesRepId||H?.owner_sales_rep_id||h?.ownerSalesRepId||h?.owner_sales_rep_id||null,isOnline:typeof h?.isOnline=="boolean"?h.isOnline:null,isIdle:typeof h?.isIdle=="boolean"?h.isIdle:null,idleMinutes:typeof h?.idleMinutes=="number"&&Number.isFinite(h.idleMinutes)?h.idleMinutes:typeof h?.idleForMinutes=="number"&&Number.isFinite(h.idleForMinutes)?h.idleForMinutes:null,lastSeenAt:h?.lastSeenAt||h?.last_seen_at||null,lastInteractionAt:h?.lastInteractionAt||h?.last_interaction_at||null,lastLoginAt:h?.lastLoginAt||h?.last_login_at||null,orders:ze,personalOrders:ct,salesOrders:bt,total:qe,personalRevenue:Ye,salesRevenue:Oe,salesWholesaleRevenue:vt,salesRetailRevenue:Ue,orderQuantity:pt,totalOrderValue:qe},Z||"doctor")}catch(T){console.warn("[Admin] Failed to hydrate live user detail",T)}finally{ll(!1)}})()},[ul,r?.role]),jg=()=>s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-36"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[...Array(4)].map((h,x)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-24"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]},x))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(2)].map((h,x)=>s.jsxs("div",{className:"news-loading-card bg-white/75 shadow-none border border-slate-200/70 space-y-3",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-40"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]})]},x))}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"}),[...Array(2)].map((h,x)=>s.jsxs("div",{className:"news-loading-card flex items-center gap-3 bg-white/75 shadow-none border border-slate-200/70",children:[s.jsx("div",{className:"news-loading-thumb rounded-md"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-40"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]},x))]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-36"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:[...Array(4)].map((h,x)=>s.jsx("div",{className:"news-loading-line news-loading-shimmer w-full"},x))})]})]}),Ai=()=>s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-60"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-44"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"news-loading-thumb rounded-full",style:{width:72,height:72,minWidth:72}}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-40"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[...Array(3)].map((h,x)=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-24"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]},x))}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[...Array(2)].map((h,x)=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50/60 px-3 py-3 space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-full"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-5/6"})]},x))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-36"}),s.jsx("div",{className:"space-y-2",children:[...Array(3)].map((h,x)=>s.jsxs("div",{className:"news-loading-card flex items-center gap-3 bg-white/75 shadow-none border border-slate-200/70",children:[s.jsx("div",{className:"news-loading-thumb rounded-md"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-40"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]},x))})]})]}),pi=y.useCallback(async(h,x)=>{const C=Date.now(),I=x?.onlyIds,z=x?.force===!0,A=h.filter(K=>{const ge=String(K.id||K.number||"");if(!ge||I&&!I.has(ge))return!1;const Z=!!(K.createdAt||K.dateCreated||K.date_created||K.date_created_gmt)||!1,de=!!(K?.shippingEstimate?.estimatedArrivalDate||K?.shippingEstimate?.deliveryDateGuaranteed||K?.shippingEstimate?.estimated_delivery_date||K?.shipping?.estimatedArrivalDate||K?.shipping?.estimated_delivery_date);if(Z&&de)return!1;if(!z){const Ae=Mn.current.get(ge)||0;if(Ae>0&&C-Ae<6e5)return!1}return!0});if(A.length===0)return;const O=typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now(),T=420,W=new Set(A.map(K=>String(K.id||K.number||"")));Lc(W),await(async(K,ge,Z)=>{const de=[...K],Ae=Array.from({length:Math.max(1,ge)},async()=>{for(;de.length>0;){const _e=de.shift();if(!_e)break;await Z(_e)}});await Promise.all(Ae)})(A,3,async K=>{try{const ge=String(K.id||K.number||"");ge&&Mn.current.set(ge,C);const Z=await ti.getSalesRepOrderDetail(K.wooOrderId||K.id||K.number||"",K?.doctorEmail||K?.doctor_email||K?.doctorId||null),de=Rp({woo:Array.isArray(Z)?Z:[Z]},{includeCanceled:!0});de&&de.length>0?Or(de[0]):Z&&typeof Z=="object"&&Or(Z)}catch(ge){console.debug("[Sales Tracking] detail enrichment skipped",{orderId:K.id,message:typeof ge?.message=="string"?ge.message:String(ge)})}});const ee=(typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now())-O;ee<T&&await new Promise(K=>setTimeout(K,T-ee)),Lc(new Set)},[Or]),[ar,Gi]=y.useState([]),[ds,_g]=y.useState(null),[xm,Cg]=y.useState(null),[qu,Zf]=y.useState(!1),[Uu,$c]=y.useState(null),[Yd,wm]=y.useState(null),[Bl,Jf]=y.useState([]),[Pg,Ag]=y.useState([]),[zu,Sm]=y.useState(!1),[Ki,ep]=y.useState(null),[Wu,Nm]=y.useState(!1),[jm,_m]=y.useState(null),[Vv,Xd]=y.useState(null),[Xs,ql]=y.useState(null),[Hu,kg]=y.useState([]),[mi,Ul]=y.useState([]),[Fa,Eg]=y.useState(null),[Yi,zl]=y.useState(!1),[tp,Cm]=y.useState(null),[Og,Gv]=y.useState(null),[Fc,Xi]=y.useState(null),[Ba,ki]=y.useState(()=>fd().start),[ua,Oo]=y.useState(()=>fd().end),[Wl,Pm]=y.useState(void 0),[Qd,xn]=y.useState(!1);y.useEffect(()=>{if(Qd)return;const h=C=>kD(C),x=Ba?h(Ba):null,S=ua?h(ua):null;Pm(x&&S?{from:x,to:S}:void 0)},[Qd,ua,Ba]);const[rp,np]=y.useState([]),Zd=y.useCallback(h=>{if(typeof h=="string")return h.trim().toUpperCase();if(h&&typeof h=="object"){const x=h.code??h.value??null;if(typeof x=="string")return x.trim().toUpperCase()}return""},[]),ap=y.useMemo(()=>{const h=_n?.codes;return Array.isArray(h)?h.map(x=>Zd(x)).filter((x,S,C)=>x.length>0&&C.indexOf(x)===S):[]},[_n?.codes,Zd]),Rg=y.useMemo(()=>[...ap,...rp].filter((x,S,C)=>x.length>0&&C.indexOf(x)===S),[ap,rp]);y.useEffect(()=>{if(!r||!dt(r.role)&&!Sn(r.role)){$c(null),ql(null),Xi(null);return}let h=!1;return(async()=>{try{const x=await Mr.getReportSettings(),S=Sn(r.role)?x?.salesLeadSalesBySalesRepCsvDownloadedAt:x?.salesBySalesRepCsvDownloadedAt,C=typeof S=="string"?String(S):null,I=typeof x?.taxesByStateCsvDownloadedAt=="string"?String(x.taxesByStateCsvDownloadedAt):null,z=typeof x?.productsCommissionCsvDownloadedAt=="string"?String(x.productsCommissionCsvDownloadedAt):null;h||($c(C),ql(I),Xi(z))}catch(x){console.debug("[Sales by Sales Rep] Failed to load report settings",x)}})(),()=>{h=!0}},[r?.id,r?.role]);const Bc=y.useCallback(async()=>{try{const x=new Date().toISOString(),S=K=>{if(K==null)return"";const ge=String(K);return/[",\n\r]/.test(ge)?`"${ge.replace(/"/g,'""')}"`:ge},C=ds?.periodStart?String(ds.periodStart).slice(0,10):null,I=ds?.periodEnd?String(ds.periodEnd).slice(0,10):null,z=C&&I?`${C} to ${I} (PST)`:"All time (PST)",O=[S(`Sales by Sales Rep  ${z}`),"",["Sales Rep","Email","Orders","Wholesale","Retail"].join(","),...ar.map(K=>[S(K.salesRepName||""),S(K.salesRepEmail||""),S(Number(K.totalOrders||0)),S(Number(K.wholesaleRevenue||0).toFixed(2)),S(Number(K.retailRevenue||0).toFixed(2))].join(","))].join(`
`),T=new Blob([O],{type:"text/csv;charset=utf-8"}),W=URL.createObjectURL(T),H=document.createElement("a"),U=x.replace(/[:.]/g,"-"),ee=C&&I?`_${C}_to_${I}`:"";if(H.href=W,H.download=`sales-by-sales-rep${ee}_${Ry}_${U}.csv`,document.body.appendChild(H),H.click(),H.remove(),URL.revokeObjectURL(W),$c(x),r&&(dt(r.role)||Sn(r.role)))try{Sn(r.role)&&!dt(r.role)?await Mr.setSalesLeadSalesBySalesRepCsvDownloadedAt(x):await Mr.setSalesBySalesRepCsvDownloadedAt(x)}catch(K){console.debug("[Sales by Sales Rep] Failed to persist CSV download timestamp",K)}}catch(h){console.error("[Sales by Sales Rep] CSV export failed",h),Xe.error("Unable to download report right now.")}},[ar,ds?.periodEnd,ds?.periodStart,r,r?.role]),tn=y.useCallback(async()=>{if(!(!r||!dt(r.role))){Nm(!0),_m(null);try{const h=fd(),x=Ba||h.start,S=ua||h.end,C=await ti.getTaxesByStateForAdmin({periodStart:x||void 0,periodEnd:S||void 0}),I=Array.isArray(C?.rows)?C.rows:Array.isArray(C)?C:[];Jf(I.map(A=>({state:String(A?.state||"UNKNOWN"),taxTotal:Number(A?.taxTotal||0),orderCount:Number(A?.orderCount||0)})).filter(A=>A.orderCount>0||A.taxTotal>0));const z=Array.isArray(C?.orderTaxes)?C.orderTaxes:[];Ag(z.map(A=>({orderNumber:String(A?.orderNumber||""),state:String(A?.state||"UNKNOWN"),taxTotal:Number(A?.taxTotal||0)})).filter(A=>A.orderNumber.trim().length>0&&A.taxTotal>0)),Sm(!1),ep({periodStart:C?.periodStart??null,periodEnd:C?.periodEnd??null,totals:C?.totals??null}),Xd(Date.now())}catch(h){const x=typeof h?.message=="string"?h.message:"Unable to load taxes by state.";_m(x),Jf([]),Ag([]),Sm(!1),ep(null)}finally{Nm(!1)}}},[ua,Ba,r?.id,r?.role]),qa=y.useCallback(async()=>{try{const x=new Date().toISOString(),S=K=>{if(K==null)return"";const ge=String(K);return/[",\n\r]/.test(ge)?`"${ge.replace(/"/g,'""')}"`:ge},C=Ki?.periodStart?String(Ki.periodStart).slice(0,10):null,I=Ki?.periodEnd?String(Ki.periodEnd).slice(0,10):null,z=C&&I?`_${C}_to_${I}`:"",A=x.replace(/[:.]/g,"-"),O=C&&I?`${C} to ${I} (PST)`:"All time (PST)",W=[S(`Taxes by State  ${O}`),"",["State","Orders","Tax Total"].join(","),...Bl.map(K=>[S(K.state),S(Number(K.orderCount||0)),S(Number(K.taxTotal||0).toFixed(2))].join(","))].join(`
`),H=new Blob([W],{type:"text/csv;charset=utf-8"}),U=URL.createObjectURL(H),ee=document.createElement("a");if(ee.href=U,ee.download=`taxes-by-state${z}_${Ry}_${A}.csv`,document.body.appendChild(ee),ee.click(),ee.remove(),URL.revokeObjectURL(U),ql(x),r&&dt(r.role))try{await Mr.setTaxesByStateCsvDownloadedAt(x)}catch(K){console.debug("[Taxes by State] Failed to persist CSV download timestamp",K)}}catch(h){console.error("[Taxes by State] CSV export failed",h),Xe.error("Unable to download report right now.")}},[Ki?.periodEnd,Ki?.periodStart,Bl,r,r?.role]),ba=y.useRef(0),Jd=y.useRef(0),dl=y.useCallback(async h=>{if(!r||!dt(r.role))return;const x=Date.now();if(!(!h?.force&&(Yi||x<ba.current))){zl(!0),Cm(null);try{const C=fd(),I=Ba||C.start,z=ua||C.end,A=await ti.getProductSalesCommissionForAdmin({periodStart:I||void 0,periodEnd:z||void 0}),O=A&&typeof A=="object"&&!Array.isArray(A)&&typeof A?.error=="string"?String(A.error).trim():null,T=Array.isArray(A?.products)?A.products:[],W=Array.isArray(A?.commissions)?A.commissions:[];O&&T.length===0&&W.length===0&&Cm(O);const H=W.filter(U=>{const ee=String(U?.role||"").toLowerCase(),K=String(U?.id||"");return!(ee==="supplier"||K==="__supplier__")});kg(T.map(U=>({key:String(U?.key||U?.sku||""),sku:U?.sku??null,productId:U?.productId??null,variationId:U?.variationId??null,name:String(U?.name||""),quantity:Number(U?.quantity||0)})).filter(U=>U.quantity>0)),Ul(H.map(U=>({id:String(U?.id||""),name:String(U?.name||""),role:String(U?.role||""),amount:Number(U?.amount||0),retailOrders:Number(U?.retailOrders||0),wholesaleOrders:Number(U?.wholesaleOrders||0),retailBase:Number(U?.retailBase||0),wholesaleBase:Number(U?.wholesaleBase||0),houseRetailOrders:Number(U?.houseRetailOrders||0),houseWholesaleOrders:Number(U?.houseWholesaleOrders||0),houseRetailBase:Number(U?.houseRetailBase||0),houseWholesaleBase:Number(U?.houseWholesaleBase||0),houseRetailCommission:Number(U?.houseRetailCommission||0),houseWholesaleCommission:Number(U?.houseWholesaleCommission||0),specialAdminBonus:Number(U?.specialAdminBonus||0),specialAdminBonusRate:Number(U?.specialAdminBonusRate||0),specialAdminBonusMonthlyCap:Number(U?.specialAdminBonusMonthlyCap||0),specialAdminBonusByMonth:U?.specialAdminBonusByMonth??void 0,specialAdminBonusBaseByMonth:U?.specialAdminBonusBaseByMonth??void 0})).filter(U=>Number(U.amount||0)>0||Number(U.retailOrders||0)>0||Number(U.wholesaleOrders||0)>0||Number(U.retailBase||0)>0||Number(U.wholesaleBase||0)>0||Number(U.houseRetailOrders||0)>0||Number(U.houseWholesaleOrders||0)>0||Number(U.houseRetailBase||0)>0||Number(U.houseWholesaleBase||0)>0||Number(U.houseRetailCommission||0)>0||Number(U.houseWholesaleCommission||0)>0||Number(U.specialAdminBonus||0)>0)),Eg({periodStart:A?.periodStart??null,periodEnd:A?.periodEnd??null,totals:A?.totals??null}),Gv(Date.now()),Jd.current=0,ba.current=0}catch(C){const I=typeof C?.status=="number"?C.status:null,z=Math.min(8,Math.max(0,Jd.current)+1);Jd.current=z;const T=Math.min(I===429?18e4:6e4,(I===429?15e3:3e3)*Math.pow(2,z-1));ba.current=Date.now()+T;const W=typeof C?.message=="string"?C.message:"Unable to load product/commission report.";Cm(W),kg([]),Ul([]),Eg(null)}finally{zl(!1)}}},[Yi,ua,Ba,r?.id,r?.role]),sp=y.useCallback(async()=>{try{const x=new Date().toISOString(),S=K=>{if(K==null)return"";const ge=String(K);return/[",\n\r]/.test(ge)?`"${ge.replace(/"/g,'""')}"`:ge},C=Fa?.periodStart?String(Fa.periodStart).slice(0,10):null,I=Fa?.periodEnd?String(Fa.periodEnd).slice(0,10):null,z=C&&I?`_${C}_to_${I}`:"",A=C&&I?`${C} to ${I} (PST)`:"All time (PST)",O=x.replace(/[:.]/g,"-"),T=[];T.push(S(`Products Sold & Commission  ${A}`)),T.push(""),T.push(["Report","Products sold"].join(",")),T.push(["Product","SKU","ProductId","Quantity"].join(",")),Hu.forEach(K=>{T.push([S(K.name),S(K.sku||""),S(K.productId??""),S(Number(K.quantity||0))].join(","))}),T.push(""),T.push(["Report","Commissions"].join(",")),T.push(["Recipient","Role","RetailOrders","WholesaleOrders","RetailBase","WholesaleBase","HouseRetailOrders","HouseWholesaleOrders","HouseRetailBase","HouseWholesaleBase","HouseRetailCommission","HouseWholesaleCommission","Administrative","Amount"].join(",")),mi.forEach(K=>{T.push([S(K.name),S(K.role),S(Number(K.retailOrders||0)),S(Number(K.wholesaleOrders||0)),S(Number(K.retailBase||0).toFixed(2)),S(Number(K.wholesaleBase||0).toFixed(2)),S(Number(K.houseRetailOrders||0)),S(Number(K.houseWholesaleOrders||0)),S(Number(K.houseRetailBase||0).toFixed(2)),S(Number(K.houseWholesaleBase||0).toFixed(2)),S(Number(K.houseRetailCommission||0).toFixed(2)),S(Number(K.houseWholesaleCommission||0).toFixed(2)),S(Number(K.specialAdminBonus||0).toFixed(2)),S(Number(K.amount||0).toFixed(2))].join(","))});const W=T.join(`
`),H=new Blob([W],{type:"text/csv;charset=utf-8"}),U=URL.createObjectURL(H),ee=document.createElement("a");if(ee.href=U,ee.download=`products-and-commission${z}_${Ry}_${O}.csv`,document.body.appendChild(ee),ee.click(),ee.remove(),URL.revokeObjectURL(U),Xi(x),r&&dt(r.role))try{await Mr.setProductsCommissionCsvDownloadedAt(x)}catch(K){console.debug("[Products/Commission] Failed to persist CSV download timestamp",K)}}catch(h){console.error("[Products/Commission] CSV export failed",h),Xe.error("Unable to download report right now.")}},[mi,Hu,Fa?.periodEnd,Fa?.periodStart,r,r?.role]),Hl=y.useCallback(async()=>{if(!(!r||!dt(r.role)&&!Sn(r.role))){Zf(!0),wm(null);try{const h=fd(),x=Ba||h.start,S=ua||h.end;Ba||ki(x),ua||Oo(S);const C=await ti.getSalesByRepForAdmin({periodStart:x||void 0,periodEnd:S||void 0,force:!0}),I=Array.isArray(C)?C:Array.isArray(C?.orders)?C.orders:[],z=C&&typeof C=="object"?{periodStart:C?.periodStart??null,periodEnd:C?.periodEnd??null,totals:C?.totals??null}:null,A=I.filter(O=>!dt(r.role)||O.salesRepId!==r.id).filter(O=>{const T=Number(O?.totalOrders||0),W=Number(O?.totalRevenue||0),H=Number(O?.wholesaleRevenue||0),U=Number(O?.retailRevenue||0);return T>0||W>0||H>0||U>0});Gi(A),_g(z),Cg(Date.now())}catch(h){const x=typeof h?.message=="string"?h.message:"Unable to load sales summary";wm(x),_g(null)}finally{Zf(!1)}}},[ua,Ba,r?.id,r?.role]),Jn=y.useCallback(()=>{Hl(),tn(),dl({force:!0})},[dl,tn,Hl]);y.useCallback(()=>{const h=fd();ki(h.start),Oo(h.end),Hl(),tn(),dl({force:!0})},[dl,tn,Hl]);const ip=y.useRef("");y.useEffect(()=>{if(!r||!dt(r.role)&&!Sn(r.role)){ip.current="";return}const h=`${r.id}|${r.role}`;ip.current!==h&&(ip.current=h,dt(r.role)?(Hl(),tn(),dl({force:!0})):Hl())},[dl,tn,Hl,r?.id,r?.role]),y.useEffect(()=>{if(!r||!vr(r.role)&&!dt(r.role)){np([]);return}let h=!1;return(async()=>{try{const S=await ja.getReferralCodes(),C=Array.isArray(S?.codes)?S.codes:Array.isArray(S)?S:[];if(!h){const I=C.map(z=>Zd(z)).filter((z,A,O)=>z.length>0&&O.indexOf(z)===A);np(I)}}catch(S){console.warn("[Referral] Failed to fetch referral codes",S),h||np([])}})(),()=>{h=!0}},[r?.id,r?.role,Zd]),y.useEffect(()=>{if(!r||!(dt(r.role)||Sn(r.role))){oe(null),Ee(!1),we.current="";return}if(!Ce?.doctorId){oe(null),Ee(!1),we.current="";return}const h=()=>{const z=Yr?.from??null,A=Yr?.to??null;if(z&&A){const W=new Date(z),H=new Date(A);if(!Number.isNaN(W.getTime())&&!Number.isNaN(H.getTime()))return{periodStart:W.toISOString().slice(0,10),periodEnd:H.toISOString().slice(0,10)}}const O=Fa?.periodStart?String(Fa.periodStart).slice(0,10):Ba?String(Ba).slice(0,10):ds?.periodStart?String(ds.periodStart).slice(0,10):null,T=Fa?.periodEnd?String(Fa.periodEnd).slice(0,10):ua?String(ua).slice(0,10):ds?.periodEnd?String(ds.periodEnd).slice(0,10):null;return{periodStart:O,periodEnd:T}},{periodStart:x,periodEnd:S}=h(),C=`${Ce.doctorId}|${x||"all"}|${S||"all"}`;if(we.current===C)return;we.current=C,Ee(!0),oe(null);let I=!1;return(async()=>{try{const z=await ti.getProductSalesCommissionForAdmin({periodStart:x||void 0,periodEnd:S||void 0}),O=(Array.isArray(z?.commissions)?z.commissions:[]).find(W=>String(W?.id||"")===String(Ce.doctorId||"")),T=O!=null?Number(O?.amount||0):null;I||oe(typeof T=="number"&&Number.isFinite(T)?T:null)}catch{I||oe(null)}finally{I||Ee(!1)}})(),()=>{I=!0}},[Fa?.periodEnd,Fa?.periodStart,Yr?.from,Yr?.to,Ce?.doctorId,ua,Ba,ds?.periodEnd,ds?.periodStart,r,r?.role]);const[Ro,Vu]=y.useState({contactName:"",contactEmail:"",contactPhone:"",notes:""}),[To,Ei]=y.useState(!1),[Gu,Ku]=y.useState(null),[Am,Tg]=y.useState(null),[Kv,km]=y.useState(!1),[Ig,Mg]=y.useState(!1),[Qs,qc]=y.useState({name:"",email:"",phone:"",address:"",notes:"",status:"pending"}),Dg=y.useCallback(()=>{qc({name:"",email:"",phone:"",address:"",notes:"",status:"pending"})},[]),Uc=y.useCallback(()=>{km(!1),Dg()},[Dg]),[Yv,op]=y.useState(!1),[Em,Xv]=y.useState(null),[zc,Om]=y.useState(!1),[Lg,Rm]=y.useState(null),[lp,Wc]=y.useState(!0),[Tm,Yu]=y.useState(!1),[$g,ef]=y.useState(!1),[Im,Xu]=y.useState(!1),[Fg,Hc]=y.useState({research:!0}),[Io,Mo]=y.useState({shop:!1,patientLinks:!1,forum:!1,research:!1,testPaymentsOverride:!1}),[hi,Qv]=y.useState(null),[Zv,Bg]=y.useState(!1),[Qi,cp]=y.useState(null),tf=y.useRef(!1),qg=y.useRef(0),Mm=y.useCallback(async h=>{if(!r||!dt(r.role)||Ie)return;const x=Date.now();if(!(!h?.force&&x-qg.current<3e4)&&!tf.current){tf.current=!0,qg.current=x,Bg(!0),cp(null);try{const C=await fetch(`${Fe}/health?_ts=${Date.now()}`,{method:"GET",headers:{Accept:"application/json"},cache:"no-store"});if(!C.ok)throw new Error(`Health check failed (${C.status})`);const I=await C.json();Qv(I)}catch(C){cp(typeof C?.message=="string"?C.message:"Unable to load server health.")}finally{Bg(!1),tf.current=!1}}},[r?.id,r?.role,Ie]),[cw,Ug]=y.useState(0),[Vc,Qu]=y.useState(!1),rf=y.useRef(!1),nf=y.useRef(Date.now()),up=y.useRef(!1),Dm=y.useRef(!1),Lm=y.useRef(0),$m=y.useRef(0),zg=y.useRef(0);y.useEffect(()=>{rf.current=Vc},[Vc]),y.useEffect(()=>{if(!dt(r?.role)&&!vr(r?.role)&&!Sn(r?.role))return;const h=window.setInterval(()=>{Ug(x=>(x+1)%Number.MAX_SAFE_INTEGER)},3e4);return()=>window.clearInterval(h)},[r?.role]);const[Fm,fs]=y.useState([]),[Zs,Bm]=y.useState(!1),[Wg,qm]=y.useState(null),af=y.useRef(null),Um=y.useRef(!1),[zm,Jv]=y.useState(!0),[Wm,e0]=y.useState(""),[Zu,Hg]=y.useState("all"),[sf,dp]=y.useState([]),[Vg,of]=y.useState(!1),[t0,Hm]=y.useState(null),lf=y.useRef(null),Vm=y.useRef(!1),[fp,Vl]=y.useState(!1),[r0,n0]=y.useState(""),[Gl,a0]=y.useState("all");y.useEffect(()=>{er.current=Fm},[Fm]),y.useEffect(()=>{fr.current=sf},[sf]),y.useEffect(()=>{if(!(!!r?.role&&(dt(r?.role)||Sn(r?.role)))||!Ce?.doctorId||!Ti(Ce.role))return;const x=String(Ce.ownerSalesRepId||"").trim();if(!x||cl[x])return;const C=[...Array.isArray(er.current)?er.current:[],...Array.isArray(fr.current)?fr.current:[]].find(T=>String(T?.id||"").trim()===x)||null;if(!C)return;const I=C?.name||[C?.firstName,C?.lastName].filter(Boolean).join(" ").trim()||C?.email||`User ${x}`,z=typeof C?.email=="string"?C.email:null,A=typeof C?.role=="string"?C.role:null;Qf(O=>({...O,[x]:{id:x,name:I,email:z,role:A}}))},[sf,Fm,Ce?.doctorId,Ce?.ownerSalesRepId,Ce?.role,cl,r?.role]),y.useEffect(()=>{const h=r?.role||null,x=Sn(h),S=vr(h);if(!x&&!S){fs([]),Bm(!1),qm(null),af.current=null,Um.current=!1;return}let C=!1,I=null;const z=async()=>{try{Bm(!0),qm(null);const H=await(x?Mr.getLiveUsers():Mr.getLiveClients());if(C)return;af.current=typeof H?.etag=="string"?H.etag:null;const U=x?Array.isArray(H?.users)?H.users:[]:Array.isArray(H?.clients)?H.clients:[],ee=x?U.filter(K=>{const ge=Di(K?.role||"");return ge==="admin"?!1:Ti(ge)||vr(ge)}):U;fs(ee)}catch(H){if(C)return;fs([]),qm(typeof H?.message=="string"?H.message:"Unable to load clients.")}finally{C||Bm(!1)}},A=H=>new Promise(U=>window.setTimeout(U,H)),O=()=>{I||(z(),I=window.setInterval(()=>{z()},5e3))},T=new AbortController;return(async()=>{if(Um.current){O();return}for(;!C;){if(!Ii()||!jh()){await A(800);continue}try{const H=Date.now(),U=await(x?Mr.getLiveUsersLongPoll(af.current,25e3,T.signal):Mr.getLiveClientsLongPoll(null,af.current,25e3,T.signal));if(C)break;const ee=Date.now()-H,K=1e3;ee<K&&await A(K-ee),af.current=typeof U?.etag=="string"?U.etag:null;const ge=x?Array.isArray(U?.users)?U.users:[]:Array.isArray(U?.clients)?U.clients:[],Z=x?ge.filter(de=>{const Ae=Di(de?.role||"");return Ae==="admin"?!1:Ti(Ae)||vr(Ae)}):ge;fs(Z)}catch(H){if(C)break;if(typeof H?.status=="number"&&H.status===404){Um.current=!0,O();return}const U=typeof H?.status=="number"?H.status:null,ee=typeof H?.message=="string"?H.message:"",K=U===429||ee.includes("429");await A(K?1e4:1e3)}}})(),()=>{C=!0,I&&window.clearInterval(I),T.abort()}},[r?.role,r?.id]),y.useEffect(()=>{if(!dt(r?.role)){dp([]),of(!1),Hm(null),lf.current=null,Vm.current=!1;return}let h=!1,x=null;const S=async()=>{try{of(!0),Hm(null);const O=await Mr.getLiveUsers();if(h)return;lf.current=typeof O?.etag=="string"?O.etag:null;const T=Array.isArray(O?.users)?O.users:[];dp(T)}catch(O){if(h)return;dp([]),Hm(typeof O?.message=="string"?O.message:"Unable to load users.")}finally{h||of(!1)}},C=O=>new Promise(T=>window.setTimeout(T,O)),I=()=>{x||(S(),x=window.setInterval(()=>{S()},5e3))},z=new AbortController;return(async()=>{if(Vm.current){I();return}for(;!h;){if(!Ii()||!jh()){await C(800);continue}try{const O=Date.now(),T=await Mr.getLiveUsersLongPoll(lf.current,25e3,z.signal);if(h)break;const W=Date.now()-O,H=1e3;W<H&&await C(H-W),lf.current=typeof T?.etag=="string"?T.etag:null;const U=Array.isArray(T?.users)?T.users:[];dp(U)}catch(O){if(h)break;if(typeof O?.status=="number"&&O.status===404){Vm.current=!0,I();return}const T=typeof O?.status=="number"?O.status:null,W=typeof O?.message=="string"?O.message:"",H=T===429||W.includes("429");await C(H?1e4:1e3)}}})(),()=>{h=!0,x&&window.clearInterval(x),z.abort()}},[r?.role,r?.id]);const pp=h=>{if(!h)return"Online";const x=new Date(h).getTime();if(!Number.isFinite(x))return"Online";const S=Math.max(0,Date.now()-x);return`Online for ${((I,z=2)=>{const A=Math.floor(Math.max(0,I)/1e3);if(A<60)return"<1m";const O=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let T=A;const W=[];for(const H of O){const U=Math.floor(T/H.seconds);if(U>0&&(W.push(`${U}${H.label}`),T-=U*H.seconds),W.length>=z)break}return W.length?W.join(" "):"<1m"})(S)}`},cf=h=>{if(!h)return"a few moments ago";const S=new Date(h).getTime();if(Number.isNaN(S))return String(h);const C=Math.max(0,Date.now()-S);if(C<9e4)return"a few moments ago";const I=Math.floor(C/1e3),z=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let A=I;const O=[];for(const T of z){const W=Math.floor(A/T.seconds);if(W>0&&(O.push(`${W}${T.label}`),A-=W*T.seconds),O.length>=2)break}return O.length?`${O.join(" ")} ago`:"a few moments ago"},Es=h=>{const x=typeof h?.idleMinutes=="number"&&Number.isFinite(h.idleMinutes)?h.idleMinutes:null;if(x==null){const T=h?.lastInteractionAt||h?.lastSeenAt||h?.lastLoginAt||null;if(!T)return null;const W=new Date(T).getTime();if(!Number.isFinite(W))return null;const H=Math.max(0,Date.now()-W),U=Math.floor(H/1e3);if(U<60)return"<1m";const ee=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let K=U;const ge=[];for(const Z of ee){const de=Math.floor(K/Z.seconds);if(de>0&&(ge.push(`${de}${Z.label}`),K-=de*Z.seconds),ge.length>=2)break}return ge.length?ge.join(" "):"<1m"}const S=Math.max(0,Math.floor(x));if(S<1)return"<1m";const C=S*6e4,I=Math.floor(C/1e3),z=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let A=I;const O=[];for(const T of z){const W=Math.floor(A/T.seconds);if(W>0&&(O.push(`${W}${T.label}`),A-=W*T.seconds),O.length>=2)break}return O.length?O.join(" "):"<1m"};y.useEffect(()=>{if(!r||!dt(r.role)||Ie){Qv(null),Bg(!1),cp(null);return}Mm()},[r?.id,r?.role,Ie,Mm]);const[Ju,Gg]=y.useState([]),[uf,Qa]=y.useState(!1),[df,yt]=y.useState(null),[Kl,mp]=y.useState(!1),[hp,Gm]=y.useState([]),[Gc,ed]=y.useState(!1),[Km,gp]=y.useState(null),[Zi,yp]=y.useState(""),[ff,Kc]=y.useState(null),[xa,Ji]=y.useState(!1),[Yl,vp]=y.useState(!1),[s0,gi]=y.useState(null),[Ym,Oi]=y.useState(null),[uw,Kg]=y.useState(!1),Xm=y.useRef(!1),Yg=y.useRef(0),Qm=y.useRef(!1),i0=y.useRef(0),fl=y.useCallback(async h=>{if(!r||!dt(r.role)||Ie){Gg([]),Qa(!1),yt(null),mp(!1),Gm([]),ed(!1),gp(null),yp(""),Kc(null);return}const x=Date.now();if(!(!h?.force&&x-Yg.current<6e4)&&!Xm.current){Xm.current=!0,Yg.current=x,Qa(!0),yt(null);try{const C=await $p.listMissingCertificates(),I=Array.isArray(C?.products)?C.products:[];Gg(I),Kc(null);const z=new Set(I.map(A=>String(A.wooProductId)));yp(A=>A&&z.has(A)?A:I[0]?String(I[0].wooProductId):"")}catch(C){Gg([]),yt(C instanceof Error?C.message:"Unable to load missing certificates.")}finally{Qa(!1),Xm.current=!1}}},[r?.id,r?.role,Ie]);y.useEffect(()=>{!r||!dt(r.role)||Ie||fl()},[r?.id,r?.role,Ie,fl]),y.useEffect(()=>{!r||!dt(r.role)||Ie||(df||Ju.length>0)&&mp(!0)},[r?.id,r?.role,Ie,df,Ju.length]);const Xl=y.useCallback(async h=>{if(!r||!dt(r.role)||Ie){Gm([]),ed(!1),gp(null);return}if(!Kl)return;const x=Date.now();if(!(!h?.force&&x-i0.current<6e4)&&!Qm.current){Qm.current=!0,i0.current=x,ed(!0),gp(null);try{const C=await $p.listCertificateProducts(),I=Array.isArray(C?.products)?C.products:[];Gm(I);const z=new Set(I.map(A=>String(A.wooProductId)));yp(A=>A&&z.has(A)?A:I[0]?String(I[0].wooProductId):"")}catch(C){Gm([]),gp(C instanceof Error?C.message:"Unable to load products.")}finally{ed(!1),Qm.current=!1}}},[r?.id,r?.role,Ie,Kl]);y.useEffect(()=>{Xl()},[Xl]);const Js=y.useRef(0),Sr=y.useCallback(async()=>{if(!r||!dt(r.role)||Ie){Oi(null),vp(!1),gi(null);return}if(!Zi){Oi(null),vp(!1),gi(null);return}const h=Js.current+=1;vp(!0),gi(null);try{const x=await $p.getCertificateOfAnalysisInfo(Zi);if(h!==Js.current)return;Oi({exists:!!x?.exists,filename:typeof x?.filename=="string"&&x.filename.trim().length>0?x.filename:null,mimeType:typeof x?.mimeType=="string"&&x.mimeType.trim().length>0?x.mimeType:null,bytes:typeof x?.bytes=="number"?x.bytes:null,updatedAt:typeof x?.updatedAt=="string"&&x.updatedAt.trim().length>0?x.updatedAt:null})}catch(x){if(h!==Js.current)return;Oi(null),gi(x instanceof Error?x.message:"Unable to load current certificate.")}finally{h===Js.current&&vp(!1)}},[r?.id,r?.role,Ie,Zi]);y.useEffect(()=>{Sr()},[Sr]);const Za=y.useCallback(async()=>{if(!Zi){Xe.error("Select a product first.");return}Kg(!0);try{const x=!!(await $p.deleteCertificateOfAnalysis(Zi))?.deleted;Xe.success(x?"Certificate deleted.":"No certificate to delete."),Kc(null),await fl({force:!0}),await Xl({force:!0})}catch(h){Xe.error(h instanceof Error?h.message:"Unable to delete certificate.")}finally{Kg(!1)}},[Zi,fl,Xl]),wa=y.useCallback(async()=>{if(!Zi){Xe.error("Select a product first.");return}if(!ff){Xe.error("Choose a PNG file first.");return}const h=ff;if(!(h.type==="image/png"||h.name.toLowerCase().endsWith(".png"))){Xe.error("Certificate must be a PNG.");return}const S=8*1024*1024;if(h.size>S){Xe.error("PNG is too large (max 8 MB).");return}Ji(!0);try{await $p.uploadCertificateOfAnalysis(Zi,{file:h,filename:h.name}),Xe.success("Certificate uploaded."),Kc(null),await fl({force:!0}),await Xl({force:!0})}catch(C){C?.status===413?Xe.error("Upload rejected (413). Increase the API/proxy upload limit."):Xe.error(C instanceof Error?C.message:"Unable to upload certificate.")}finally{Ji(!1)}},[Zi,ff,fl,Xl]),Ua=y.useRef(!1),yi=y.useRef(0),[pl,Ir]=y.useState({updatingReferral:null,error:null}),[pf,Yc]=y.useState(null),[yr,mf]=y.useState([]),Xc=y.useRef([]),[da,Zm]=y.useState([]),[td,Ql]=y.useState([]),[vi,Jm]=y.useState(!1),[Do,hf]=y.useState(null),[eo,bp]=y.useState(null),[rd,nd]=y.useState(!1),[eh,Qc]=y.useState(!1),Ja=y.useRef(0),ml=y.useRef(0),es=y.useRef(null),za=y.useRef(null),th=y.useRef(!1),Zc=y.useRef(0),xp=y.useRef(!1),o0=y.useRef(null),Zl=y.useRef(new Map),gf=y.useCallback((h,x,S)=>{const C=Date.now(),I=Zl.current.get(h)??0;C-I<3e4||(Zl.current.set(h,C),console.debug("[Leader] Active",{leaderKey:h,label:x,intervalMs:S,tabId:pP()}))},[]);y.useEffect(()=>{Xc.current=yr},[yr]),y.useEffect(()=>{if(!jy||typeof window>"u"||!Array.isArray(yr)||yr.length===0||!Ii())return;const h="catalog-image-prefetch-seed";if(au(h,2e4)){for(const S of yr){if(S.image&&as(S.image),Array.isArray(S.images))for(const C of S.images)C&&as(C);if(Array.isArray(S.variants))for(const C of S.variants)C?.image&&as(C.image)}return sa(),()=>{Sl(h)}}},[yr,as,sa]),y.useEffect(()=>{if(!CD||!Array.isArray(yr)||yr.length===0||typeof window>"u")return;const h="catalog-variant-prefetch-seed";if(!au(h,12e4))return()=>{Sl(h)};const S=yr.map(A=>A.id).join("|");if(o0.current===S){Sl(h);return}o0.current=S,Zc.current+=1;const C=Zc.current;xp.current=!0;const I=A=>new Promise(O=>window.setTimeout(O,A));return(async()=>{if(await I(nue),Zc.current!==C)return;const A=yr.filter(O=>(O.type??"").toLowerCase()==="variable"&&(!O.variants||O.variants.length===0));for(const O of A){if(Zc.current!==C)break;try{await Rn(O)}catch{}await I(aue)}})().finally(()=>{Zc.current===C&&(xp.current=!1)}),()=>{Sl(h),Zc.current+=1,xp.current=!1}},[yr,Rn]),y.useEffect(()=>{if(!CD||typeof window>"u")return;const h="catalog-variant-poll",x=Math.max(2e4,e_*2),S=window.setInterval(()=>{if(!Ii()||!au(h,x))return;gf(h,"catalog-variant-poll",e_);const C=Xc.current;if(!(!Array.isArray(C)||C.length===0))for(const I of C)(I.type??"").toLowerCase()==="variable"&&(I.variants&&I.variants.length>0||Qo(I))},e_);return()=>{Sl(h),window.clearInterval(S)}},[Qo]),y.useEffect(()=>{if(!jy||typeof window>"u")return;const h="catalog-image-prefetch-queue",x=1e4,S=window.setInterval(()=>{Ii()&&au(h,x)&&(gf(h,"catalog-image-prefetch-queue",1200),sa())},1200);return()=>{Sl(h),window.clearInterval(S)}},[sa]),y.useEffect(()=>{if(!jy||typeof window>"u")return;const h="catalog-image-loaded-check",x=12e3,S=window.setInterval(()=>{Ii()&&au(h,x)&&(gf(h,"catalog-image-loaded-check",1750),mf(C=>{if(!Array.isArray(C)||C.length===0)return C;let I=!1;const z=C.map(A=>A.image_loaded||!A.image||A.image===zo?A:aa.current.get(A.image)?.loaded?(I=!0,{...A,image_loaded:!0}):A);return I?z:C}))},1750);return()=>{Sl(h),window.clearInterval(S)}},[]);const rh=y.useCallback(async(h,x)=>{if((h.type??"").toLowerCase()==="variable"){await Rn(h,{force:!0});return}const C=await gD(x,{force:!0});if(!C||typeof C!="object"||!("id"in C))return;const I=_y(C,hr.current);_r.current.set(x,I);const z=n_(I,[]);z.image_loaded=z.image!==zo&&!!aa.current.get(z.image)?.loaded,mf(A=>A.map(O=>O.id===h.id?z:O)),Le(A=>A?.id===h.id?z:A)},[Rn]);y.useEffect(()=>{if(typeof window>"u")return;const h="catalog-media-repair",x=25e3,S=2,C=window.setInterval(()=>{if(!Ii()||!au(h,x)||(gf(h,"catalog-media-repair",6500),Date.now()<mn.current))return;const I=Date.now(),z=Xc.current;if(!Array.isArray(z)||z.length===0)return;let A=0;for(const O of z){if(A>=S)break;const T=typeof O.wooId=="number"?O.wooId:Number.parseInt(String(O.id).replace(/[^\d]/g,""),10);if(!Number.isFinite(T))continue;const W=Number(T);if($n.current.has(W))continue;const H=qs.current.get(W);if(H&&I<H.nextAt)continue;const U=(O.type??"").toLowerCase()==="variable",ee=Array.isArray(O.variants)&&O.variants.some(Ae=>!!Ae?.image&&Ae.image!==zo),K=!O.image||O.image===zo,ge=U&&!ee;let Z=!1;if(!O.image_loaded&&O.image&&O.image!==zo){const Ae=aa.current.get(O.image);if(Ae&&!Ae.loaded){const _e=I-Ae.firstSeenAt;Z=Ae.attempt>=2&&_e>25e3}}(ge||K||Z)&&($n.current.add(W),A+=1,rh(O,W).then(()=>{const Ae=Xc.current.find(Oe=>Oe.id===O.id);if(Ae?.image&&Ae.image!==zo||Ae?.image_loaded)qs.current.delete(W);else{const Ye=(qs.current.get(W)?.attempt??0)+1,vt=Math.min(10*6e4,4e3*Math.pow(1.9,Ye-1));qs.current.set(W,{attempt:Ye,nextAt:Date.now()+vt})}}).catch(()=>{const _e=(qs.current.get(W)?.attempt??0)+1,Oe=Math.min(10*6e4,4e3*Math.pow(1.9,_e-1));qs.current.set(W,{attempt:_e,nextAt:Date.now()+Oe})}).finally(()=>{$n.current.delete(W)}))}},6500);return()=>{Sl(h),window.clearInterval(C)}},[rh]);const[Jl,ec]=y.useState([]),[to,Xg]=y.useState(!1),[wp,tc]=y.useState(null),[Sp,Np]=y.useState(null),rc=y.useRef(null),Qg=y.useCallback(()=>{rc.current&&(clearTimeout(rc.current),rc.current=null),Xg(!0)},[]),Zg=y.useCallback(h=>{const x=Date.now()-h,S=Math.max(0,Zce-x);rc.current&&clearTimeout(rc.current),rc.current=window.setTimeout(()=>{Xg(!1),rc.current=null},S)},[]),[hl,dw]=y.useState(!1),[ps,jp]=y.useState(null),[kn,Jg]=y.useState(!1),[nh,ey]=y.useState(!1),ty=y.useRef(!1),[ry,ah]=y.useState(!1),[ny,Ri]=y.useState(""),[yf,fw]=y.useState("desc"),[gl,sh]=y.useState(()=>typeof window>"u"?!1:window.innerWidth>=1024),yl=y.useCallback(h=>{if(!h)return!1;const x=(h.status||"").toLowerCase(),S=String(h.id||"");return x==="contact_form"||S.startsWith("contact_form:")},[]),nc=y.useCallback(h=>h?String(h.id||"").startsWith("manual:"):!1,[]),ro=y.useCallback(h=>{const x=(h||"").toLowerCase();return x?oue.has(x):!1},[]),ih=y.useMemo(()=>{const h=ny.trim().toLowerCase(),x=[...nl].sort((S,C)=>{const I=S.createdAt?new Date(S.createdAt).getTime():0,z=C.createdAt?new Date(C.createdAt).getTime():0;return yf==="desc"?z-I:I-z});return h?x.filter(S=>[S.referredContactName??"",S.referredContactEmail??"",S.referredContactPhone??"",S.status??""].join(" ").toLowerCase().includes(h)):x},[nl,ny,yf]),l0=y.useMemo(()=>_n?Array.isArray(_n.statuses)&&_n.statuses.length>0?Array.from(new Set(_n.statuses.map(h=>(h||"").trim()))).filter(Boolean):Array.from(new Set(Ma.map(h=>(h.status||"").trim()).filter(Boolean))):[],[_n,Ma]),ay=y.useMemo(()=>{const h=AD.map(S=>S.key),x=l0.map(S=>S.toLowerCase()).filter(S=>S!=="nuture"&&(S==="pending"||ro(S)));return Array.from(new Set([...h,...x]))},[l0,ro]),[_p,oh]=y.useState({}),lh=y.useRef(new Set),ac=y.useMemo(()=>Ma.filter(yl),[Ma,yl]),sc=y.useMemo(()=>ac.filter(h=>!ro(h.status)),[ac,ro]),ic=y.useMemo(()=>ac.filter(h=>!(h?.creditIssuedAt||!ro(h.status)||al(h)||h.referredContactEligibleForCredit===!0)),[ac,al,ro]),ch=y.useMemo(()=>sc.filter(h=>Ga(h)),[sc,Ga]),pw=y.useMemo(()=>{const h=Ll?.ledger??[],x=new Map;return h.forEach(S=>{S.direction==="credit"&&S.referralId&&x.set(S.referralId,S)}),x},[Ll]),ad=y.useMemo(()=>Ma.filter(h=>!yl(h)&&!nc(h)&&(!Ga(h)||Rs(h.status)==="converted")),[Ga,yl,nc,Ma]),vf=y.useMemo(()=>Ma.filter(h=>nc(h)),[Ma,nc]),oc=y.useMemo(()=>ad.filter(h=>ro(h.status)),[ad,ro]),Jc=y.useMemo(()=>oc.filter(h=>{const x=Rs(h.status);return Ga(h)&&x!=="converted"||al(h)?!1:!h.creditIssuedAt}),[Ga,al,oc]),Cp=y.useMemo(()=>oc.filter(h=>!!h.creditIssuedAt),[oc]);y.useMemo(()=>ad.filter(h=>!ro(h.status)),[ad,ro]);const c0=y.useMemo(()=>{const h=new Set;return ic.forEach(x=>h.add(Rs(x.status))),oc.forEach(x=>h.add(Rs(x.status))),vf.forEach(x=>h.add(Rs(x.status))),h.delete("nuture"),["all",...Array.from(h)]},[ic,vf,oc]),[uh,dh]=y.useState("all"),mw=y.useRef(new Map),bf=y.useRef(0),eu=y.useMemo(()=>{const h=_n,x=[...Array.isArray(h?.users)?h.users:[],...Array.isArray(h?.accounts)?h.accounts:[],...Array.isArray(h?.doctors)?h.doctors:[]];if(x.length===0)return[];const S=new Set,C=O=>{O&&S.add(O.toLowerCase())};Jc.forEach(O=>{C(O.referredContactEmail||void 0),C(O.referredContactPhone?`phone:${O.referredContactPhone}`:void 0),C(O.referredContactAccountId?`acct:${O.referredContactAccountId}`:void 0),C(O.id?`id:${O.id}`:void 0)}),ic.forEach(O=>{C(O.referredContactEmail||void 0),C(O.referredContactPhone?`phone:${O.referredContactPhone}`:void 0),C(O.id?`id:${O.id}`:void 0)});const I=new Date().toISOString(),z=new Map;return x.forEach(O=>{const T=O.id||O.userId||O.doctorId||O.accountId||O.account_id||O.email||O.username||O.contactEmail||Math.random().toString(16).slice(2),W=String(T);z.has(W)||z.set(W,O)}),Array.from(z.values()).map((O,T)=>{const W=(O.email||O.userEmail||O.doctorEmail||O.contactEmail||"").toLowerCase();if(W&&r?.email&&W===r.email.toLowerCase())return null;const H=O.id||O.userId||O.doctorId||O.accountId||O.account_id||null;if((cr(O.totalOrders)??0)>0)return null;const ee=r_(O.name||[O.firstName,O.lastName].filter(Boolean).join(" ").trim()||O.doctorName||O.contactName||O.username||O.email||"Account"),K=O.email||O.userEmail||O.doctorEmail||O.contactEmail||null,ge=O.phone||O.phoneNumber||O.phone_number||O.contactPhone||null,Z=O.createdAt||O.created_at||O.dateCreated||O.date_created||O.updatedAt||O.updated_at||I,de=K&&K.toLowerCase()||ge&&`phone:${ge}`||H&&`acct:${H}`||`synthetic:${T}`;if(S.has(de.toLowerCase())||K&&Du.has(`email:${K.toLowerCase()}`)||H&&Du.has(`id:${String(H)}`))return null;const _e=H?String(H):null,Oe=_e&&Object.prototype.hasOwnProperty.call(_p,_e)?_p[_e]:null,Ye=Oe&&typeof Oe?.status=="string"?Rs(Oe.status):null;return{kind:"referral",record:{id:`acct-prospect-${H||K||ge||T}`,referrerDoctorId:r?.id||r?.salesRepId||"rep",salesRepId:r?.salesRepId||r?.id||null,referredContactName:ee,referredContactEmail:K,referredContactPhone:ge,referralCodeId:null,status:Ye||"account_created",createdAt:Z,updatedAt:typeof Oe?.updatedAt=="string"&&Oe.updatedAt?Oe.updatedAt:Z,convertedDoctorId:null,convertedAt:null,notes:typeof Oe?.notes=="string"?Oe.notes:O.notes||null,referrerDoctorName:null,referrerDoctorEmail:null,referrerDoctorPhone:null,creditIssuedAt:null,creditIssuedAmount:null,creditIssuedBy:null,referredContactHasAccount:!0,referredContactAccountId:H?String(H):null,referredContactAccountName:ee,referredContactAccountEmail:K,referredContactAccountCreatedAt:Z,referredContactTotalOrders:O.totalOrders||0,referredContactEligibleForCredit:!1,syntheticAccountProspect:!0}}}).filter(Boolean)},[_p,Jc,ic,_n,r?.id,r?.salesRepId]);y.useEffect(()=>{if(!r||!vr(r.role)&&!dt(r.role))return;const h=eu.map(S=>String(S.record?.referredContactAccountId||"").trim()).filter(Boolean);if(h.length===0)return;let x=!1;return(async()=>{for(const S of h){if(x)return;if(!Object.prototype.hasOwnProperty.call(_p,S)&&!lh.current.has(S)){lh.current.add(S);try{const I=(await ja.getSalesProspect(S))?.prospect;!x&&I&&oh(z=>({...z,[S]:I}))}catch{}finally{lh.current.delete(S)}}}})(),()=>{x=!0}},[eu,_p,r]),y.useMemo(()=>[...Jc.map(h=>({kind:"referral",record:h})),...ic.map(h=>({kind:"contact_form",record:h})),...eu].sort((h,x)=>{const S=h.record.updatedAt?new Date(h.record.updatedAt).getTime():h.record.createdAt?new Date(h.record.createdAt).getTime():0;return(x.record.updatedAt?new Date(x.record.updatedAt).getTime():x.record.createdAt?new Date(x.record.createdAt).getTime():0)-S}),[Jc,ic,eu]),y.useMemo(()=>{const h=Cp.map(S=>({kind:"referral",record:S})).sort((S,C)=>{const I=S.record.creditIssuedAt?new Date(S.record.creditIssuedAt).getTime():S.record.updatedAt?new Date(S.record.updatedAt).getTime():0;return(C.record.creditIssuedAt?new Date(C.record.creditIssuedAt).getTime():C.record.updatedAt?new Date(C.record.updatedAt).getTime():0)-I}),x=ac.filter(S=>(S.status||"").toLowerCase()==="converted"&&(S.referredContactEligibleForCredit===!0||Ga(S))).map(S=>({kind:"contact_form",record:S})).sort((S,C)=>{const I=S.record.updatedAt?new Date(S.record.updatedAt).getTime():S.record.createdAt?new Date(S.record.createdAt).getTime():0;return(C.record.updatedAt?new Date(C.record.updatedAt).getTime():C.record.createdAt?new Date(C.record.createdAt).getTime():0)-I});return[...h,...x].sort((S,C)=>(C.record.creditIssuedAt?new Date(C.record.creditIssuedAt).getTime():C.record.updatedAt?new Date(C.record.updatedAt).getTime():C.record.createdAt?new Date(C.record.createdAt).getTime():0)-(S.record.creditIssuedAt?new Date(S.record.creditIssuedAt).getTime():S.record.updatedAt?new Date(S.record.updatedAt).getTime():S.record.createdAt?new Date(S.record.createdAt).getTime():0))},[ac,Ga,Cp]);const xf=y.useMemo(()=>{const h=(T,W)=>{const H=T.record??{},U=H.id??H.referralId??H.leadId??H.prospectId??null;if(U)return`${T.kind}:${String(U)}`;const ee=H.referredContactAccountId??H.accountId??H.userId??H.doctorId??null,K=H.referredContactEmail??H.email??H.userEmail??null,ge=H.referredContactPhone??H.phone??H.phoneNumber??null,Z=H.referredContactName??H.name??H.doctorName??null,de=H.createdAt??H.created_at??H.dateCreated??H.date_created??null,Ae=[ee,K,ge,Z,de].filter(Boolean).join("|");return Ae?`${T.kind}:${Ae}`.toLowerCase():`${T.kind}:idx:${W}`},S=[...vf.map(T=>({kind:"referral",record:T})),...Jc.map(T=>({kind:"referral",record:T})),...ic.map(T=>({kind:"contact_form",record:T})),...ch.map(T=>({kind:"contact_form",record:T})),...eu].filter(T=>!Ld(T.record)),C=new Map;S.forEach((T,W)=>{const H=h(T,W);C.has(H)||C.set(H,T)});const I=mw.current;let z=bf.current;Array.from(C.keys()).forEach(T=>{I.has(T)||(I.set(T,z),z+=1)}),bf.current=z;const A=new Map([["nuture",0],["converted",1],["account_created",2],["verified",3],["verifying",3],["contacted",4],["contact_form",5],["pending",6]]);return Array.from(C.entries()).map(([T,W])=>({...W,_sortKey:T})).sort((T,W)=>{const H=Rs(T.record?.status),U=Rs(W.record?.status),ee=A.get(H)??Number.MAX_SAFE_INTEGER,K=A.get(U)??Number.MAX_SAFE_INTEGER;if(ee!==K)return ee-K;const ge=I.get(T._sortKey)??Number.MAX_SAFE_INTEGER,Z=I.get(W._sortKey)??Number.MAX_SAFE_INTEGER;if(ge!==Z)return ge-Z;const de=T.record?.id?String(T.record.id):"",Ae=W.record?.id?String(W.record.id):"";return de.localeCompare(Ae)})},[eu,Jc,ch,ic,vf,Ga,Ld]),o=y.useMemo(()=>{if(uh==="all")return xf;const h=uh.toLowerCase();return xf.filter(({record:x})=>Rs(x.status)===h)},[xf,uh]),c=y.useMemo(()=>ad.filter(h=>Rs(h.status)==="pending"),[ad]);y.useEffect(()=>{const h=new Set;c.forEach(x=>{x.id&&h.add(String(x.id))}),zd(h)},[c]);const p=y.useMemo(()=>{const h=new Map;PD.forEach((T,W)=>{T.statuses.forEach(H=>h.set(H,W))});const x=[...Ma,...eu.map(T=>T.record)],S=(T,W)=>{const H=T?.referredContactAccountId||T?.convertedDoctorId||T?.referredContactId||T?.userId||T?.doctorId||null;if(H)return`acct:${String(H)}`;const U=typeof T?.referredContactEmail=="string"?T.referredContactEmail.trim().toLowerCase():"";if(U)return`email:${U}`;const ee=typeof T?.referredContactPhone=="string"?T.referredContactPhone.trim():"";return ee?`phone:${ee}`:T?.id!=null?`id:${String(T.id)}`:`idx:${W}`},C=T=>{const W=T?.referredContactName||T?.referredContactEmail||T?.referredContactPhone||T?.referrerDoctorName||"Prospect";return String(W).trim()||"Prospect"},I=(T,W)=>{const H=T?.referredContactAccountId||T?.convertedDoctorId||T?.referredContactId||T?.userId||T?.doctorId||null,U=H!=null?String(H):T?.id!=null?String(T.id):null,ee=typeof T?.referredContactEmail=="string"?T.referredContactEmail.trim():typeof T?.contactEmail=="string"?T.contactEmail.trim():typeof T?.email=="string"?T.email.trim():null,K=typeof T?.role=="string"?T.role:(H!=null,"doctor");return{id:U||void 0,name:C(T),email:ee||null,role:K||null}},z=new Map;x.forEach((T,W)=>{const H=Rs(T.status),U=Ga(T)&&H!=="converted"?"nuture":H,ee=S(T,W),K=I(T),ge=z.get(ee);if(!ge){z.set(ee,{status:U,lead:K});return}const Z=h.get(U)??-1,de=h.get(ge.status)??-1;Z>de&&z.set(ee,{status:U,lead:K})});const A={},O={};return z.forEach(({status:T,lead:W})=>{A[T]=(A[T]||0)+1,O[T]||(O[T]=new Map);const H=String(W?.id||"").trim()||String(W?.email||"").trim().toLowerCase()||String(W?.name||"").trim().toLowerCase();H&&O[T].set(H,W)}),PD.map(T=>({status:T.key,label:T.label,count:T.statuses.reduce((W,H)=>W+(A[H]||0),0),leads:(()=>{const W=new Map;T.statuses.forEach(U=>{const ee=O[U];if(ee)for(const[K,ge]of ee.entries())W.has(K)||W.set(K,ge)});const H=Array.from(W.values());return H.sort((U,ee)=>String(U?.name||"").localeCompare(String(ee?.name||""))),H})(),names:(()=>{const W=new Set;return T.statuses.forEach(H=>{const U=O[H];if(U)for(const ee of U.values()){const K=String(ee?.name||"").trim();K&&W.add(K)}}),Array.from(W).sort((H,U)=>H.localeCompare(U))})()}))},[eu,Ga,Ma]),b=y.useCallback(()=>{fw(h=>h==="desc"?"asc":"desc")},[]);y.useCallback(h=>{const x=(h||"contact_form").toLowerCase(),S=Math.max(0,VC.findIndex(C=>C.key===x));return s.jsx("div",{className:"flex flex-col gap-1 text-xs",children:VC.map((C,I)=>{const z=I<=S;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${z?"bg-emerald-500":"bg-slate-300"}`}),s.jsx("span",{className:z?"text-emerald-600 font-semibold":"text-slate-500",children:C.label})]},C.key)})})},[]);const j=yf==="desc"?"Newest first":"Oldest first",k=y.useMemo(()=>{const h=new Map,x=_n?.referrals??[];for(const S of x)if(S.referrerDoctorId&&h.set(S.referrerDoctorId,S.referrerDoctorName||"Doctor"),S.convertedDoctorId){const C=S.referrerDoctorName??S.referredContactName??"Converted doctor";h.set(S.convertedDoctorId,C)}return h},[_n]);y.useMemo(()=>new Set(k.keys()),[k]);const q=y.useCallback(async h=>{const x=So,S=sl||Rc,C=S,I=Rc!=null?String(Rc).trim():"",z=typeof r?.email=="string"?r.email.trim().toLowerCase():"";if(!x||!vr(x)&&!dt(x)){Yf([]),Gs(new Map),Gi([]),Ks(null),wm(null),Lt(!1),or(!1);return}if(Ie)return;const A=Date.now(),O=25e3,T=`${String(x||"").toLowerCase()}:${String(C||"")}`,W=Ka.current!==T,H=Hd.current.length>0;W&&(Ka.current=T,An.current=0);const U=h?.force===!0||W,ee=A-An.current;if(!U&&ee>0&&ee<O||us.current)return;us.current=!0,An.current=A;const K=!H||W;Lt(K),or(h?.force===!0&&!K),Ks(null),wm(null);try{console.log("[Sales Tracking] Fetch start",{role:x||null,salesRepId:S||null});let ge=[];const Z=new Map,de=await ti.getForSalesRep({salesRepId:C||void 0,scope:"mine"});if(de&&typeof de=="object"&&!Array.isArray(de)){const je=de;Array.isArray(je.orders)&&(ge=je.orders),(Array.isArray(je.doctors)?je.doctors:Array.isArray(je.users)?je.users:[]).forEach(it=>{const ft=it.id||it.doctorId||it.userId||it.accountId||it.account_id;ft&&Z.set(String(ft),{name:it.name||[it.firstName,it.lastName].filter(Boolean).join(" ").trim()||it.email||"Doctor",email:it.email||it.doctorEmail||it.userEmail||null,profileImageUrl:it.profileImageUrl||it.profile_image_url||null,phone:it.phone||it.phoneNumber||it.phone_number||it.contactPhone||null,salesRepId:it.salesRepId||it.sales_rep_id||it.doctorSalesRepId||it.doctor_sales_rep_id||null,salesRepName:it.salesRepName||it.sales_rep_name||it.doctorSalesRepName||it.doctor_sales_rep_name||null,salesRepEmail:it.salesRepEmail||it.sales_rep_email||it.doctorSalesRepEmail||it.doctor_sales_rep_email||null,leadType:it.leadType||it.lead_type||null,leadTypeSource:it.leadTypeSource||it.lead_type_source||null,leadTypeLockedAt:it.leadTypeLockedAt||it.lead_type_locked_at||null,address1:it.address1||it.address_1||null,address2:it.address2||it.address_2||null,city:it.city||null,state:it.state||null,postalCode:it.postalCode||it.postcode||it.zip||null,country:it.country||null})})}else Array.isArray(de)&&(ge=de);const Ae=new Map,_e=(je,Dt)=>String(je.id||je.wooOrderId||je.number||je.cancellationId||je.wooOrderNumber||`idx-${Dt}`);ge.forEach((je,Dt)=>{const it=_e(je,Dt);Ae.set(it,je)});const Oe=je=>{if(typeof je=="string"&&je.trim().length>0){const Dt=new Date(je);return Number.isNaN(Dt.getTime())?null:Dt.toISOString()}return je instanceof Date?Number.isNaN(je.getTime())?null:je.toISOString():null},Ye=new Map,vt=(je,Dt=0)=>{[je.id,je.wooOrderId,je.woo_order_id,je.number,je.wooOrderNumber,je.cancellationId,je.cancellation_id,`idx-${Dt}`].filter(Boolean).map(ft=>String(ft)).forEach(ft=>Ye.set(ft,je))};Hd.current.forEach((je,Dt)=>vt(je,Dt));const Ue=Rp({woo:ge},{includeCanceled:!0}).map((je,Dt)=>{const it=_e(je,Dt),ft=Ae.get(it)||{},Ut=Oc(ft)||Oc(je)||ft.doctor_id||ft.doctorId||je.doctor_id||je.doctorId||null,rn=Ut?Z.get(Ut):null,wn=Oe(je.createdAt)||Oe(je.dateCreated)||Oe(je.date_created)||Oe(je.dateCreatedGmt)||Oe(je.date_created_gmt)||null,Un=Oe(je.updatedAt)||Oe(je.dateModified)||Oe(je.date_modified)||Oe(je.dateModifiedGmt)||Oe(je.date_modified_gmt)||wn,wf=Oe(je?.shippingEstimate?.estimatedArrivalDate)||Oe(je?.shippingEstimate?.deliveryDateGuaranteed)||Oe(je?.shippingEstimate?.estimated_delivery_date)||Oe(je?.shipping?.estimatedArrivalDate)||Oe(je?.shipping?.estimated_delivery_date)||null,Os=je.shippingEstimate||je.shippingEstimate||null,ir={...Os&&typeof Os=="object"?{...Os}:{},estimatedArrivalDate:wf},ei=!!wf||Object.values(ir).some(hs=>hs!=null&&String(hs).length>0)?ir:null,bi=hs=>!hs||typeof hs!="object"?null:Object.values(hs).some(Ge=>Ge!=null&&String(Ge).length>0)?hs:null,ms=Ye.get(it),vl=ms&&ms!==je?{...ms,...je,shippingEstimate:ei??ms.shippingEstimate??null,createdAt:wn||ms.createdAt||null,updatedAt:Un||ms.updatedAt||null,lineItems:je.lineItems?.length?je.lineItems:ms.lineItems}:je;return{...vl,createdAt:vl.createdAt||wn,updatedAt:vl.updatedAt||Un,shippingEstimate:bi(vl.shippingEstimate)??ei??null,doctorId:Ut,doctorEmail:rn?.email||ft?.doctorEmail||ft?.doctor_email||je?.doctorEmail||je?.doctor_email||je?.billing?.email||je?.billing_email||null,doctorName:rn?.name||ft?.doctorName||ft?.billing_name||je?.doctorName||je?.billing?.firstName||je?.billing?.first_name||je?.billing_name||je?.billing?.lastName||je?.billing?.last_name||"Doctor",doctorProfileImageUrl:rn?.profileImageUrl||ft?.doctorProfileImageUrl||je?.doctorProfileImageUrl||null}}).filter(je=>{if(!I&&!z)return!0;const Dt=Pi(je)||je?.doctorId||je?.doctor_id||je?.userId||je?.user_id||null;return!(I&&Dt!=null&&String(Dt).trim()===I||z&&[je?.userEmail,je?.user_email,je?.doctorEmail,je?.doctor_email,je?.email,je?.billing?.email,je?.billing_email].filter(ft=>typeof ft=="string").map(ft=>String(ft).trim().toLowerCase()).filter(Boolean).includes(z))}).sort((je,Dt)=>{const it=je.createdAt?new Date(je.createdAt).getTime():0;return(Dt.createdAt?new Date(Dt.createdAt).getTime():0)-it}),qe=je=>{const Dt=String(je.id||je.number||""),it=je.createdAt||je.dateCreated||je.date_created||je.date_created_gmt||"",ft=je.updatedAt||je.dateModified||"",Ut=je?.shippingEstimate?.estimatedArrivalDate||je?.shippingEstimate?.deliveryDateGuaranteed||je?.shippingEstimate?.estimated_delivery_date||"",rn=je?.shippingEstimate?.status||je?.shipping?.status||"";return[Dt,String(je.number||""),String(je.status||""),String(je.total||""),String(it||""),String(ft||""),String(Ut||""),String(rn||"")].join("|")},ze=vn.current,ct=new Map,bt=new Set;for(const je of Ue){const Dt=String(je.id||je.number||"");if(!Dt)continue;const it=qe(je);ct.set(Dt,it),ze.get(Dt)!==it&&bt.add(Dt)}ze.size!==ct.size&&bt.add("__list_changed__"),vn.current=ct;const pt=K||bt.size>0||Hd.current.length!==Ue.length;if(Gs(Z),pt&&Yf(Ue),!K&&bt.size>0){const je=new Set([...bt].filter(Dt=>Dt!=="__list_changed__"));je.size>0&&(nr(je),en.current&&window.clearTimeout(en.current),en.current=window.setTimeout(()=>{nr(new Set),en.current=null},650))}const _t=[];if(Ue.forEach(je=>{const Dt=Pi(je)||je.userId||je.id;if(!Dt)return;const it=String(Dt);Xf.current.has(it)||(Xf.current.add(it),_t.push(it))}),Wd.current){if(_t.length>0){const je=new Set(qd);_t.forEach(Dt=>je.add(Dt)),Ud(je)}}else{const je=new Set;Xf.current.forEach(Dt=>je.add(Dt)),Ud(je),Wd.current=!0}pt&&Tr(Date.now()),console.log("[Sales Tracking] Orders loaded",{count:Ue.length,doctors:Z.size,sample:Ue[0]&&{id:Ue[0].id,number:Ue[0].number,createdAt:Ue[0].createdAt,updatedAt:Ue[0].updatedAt,shippingEstimate:Ue[0].shippingEstimate,arrival:Ue[0].shippingEstimate?.estimatedArrivalDate}}),pi(Ue,{onlyIds:K||h?.force===!0?void 0:bt,force:h?.force===!0})}catch(ge){const Z=typeof ge?.message=="string"?ge.message:"Unable to load sales tracking data at the moment.";console.error("[Sales Tracking] Unable to fetch orders",ge),Ks(Z)}finally{Lt(!1),or(!1),us.current=!1}},[Rc,So,sl,r?.email,Ie,Pi,pi,Hl]);y.useCallback(async()=>{await q({force:!0})},[q]),y.useEffect(()=>{if(Ie||!So||!vr(So)&&!dt(So))return;q();const h="sales-tracking-poll",x=25e3,S=Math.max(45e3,x*2),C=window.setInterval(()=>{Ii()&&au(h,S)&&q()},x);return()=>{Sl(h),window.clearInterval(C)}},[q,So,Ie]);const ae=y.useMemo(()=>{if(ui.length===0)return null;const h=ui.filter(S=>bn(S.status)),x=h.reduce((S,C)=>S+(cr(C.total)??0),0);return{totalOrders:h.length,totalRevenue:x,latestOrder:h[0]||ui[0]}},[ui]),he=y.useMemo(()=>{const h=new Map;return(_n?.referrals??[]).forEach(S=>{if(!S?.id)return;const C=String(S.id),I=S.updatedAt?new Date(S.updatedAt).getTime():0,z=A=>{if(!A)return;const O=String(A).trim().toLowerCase();if(!O)return;const T=h.get(O);(!T||I>T.updatedAtMs)&&h.set(O,{referralId:C,updatedAtMs:I})};z(S.referredContactAccountId?`acct:${S.referredContactAccountId}`:null),z(S.convertedDoctorId?`acct:${S.convertedDoctorId}`:null),z(S.referredContactEmail?`email:${String(S.referredContactEmail).toLowerCase()}`:null),z(S.referredContactAccountEmail?`email:${String(S.referredContactAccountEmail).toLowerCase()}`:null)}),h},[_n?.referrals]),ke=y.useCallback((h,x)=>{if(h){const S=he.get(`acct:${String(h).toLowerCase()}`);if(S)return S.referralId}if(x){const S=he.get(`email:${String(x).toLowerCase()}`);if(S)return S.referralId}return null},[he]),He=y.useMemo(()=>{const h=new Map;for(const x of ui){const S=Pi(x)||x.userId||`anon:${x.id}`,C=S?qn.get(S):null,I=C?.name||k.get(S)||x.doctorName||"Doctor",z=C?.email||x.doctorEmail||null,A=C?.profileImageUrl||x.doctorProfileImageUrl||null,O=C?.leadType||null,T=C?.leadTypeSource||null,W=C?.leadTypeLockedAt||null,H=(()=>{const Oe=[C?.address1,C?.address2,[C?.city,C?.state,C?.postalCode].filter(Boolean).join(", "),C?.country].filter(Ye=>typeof Ye=="string"&&Ye.trim().length>0);return Oe.length>0?Oe.join(`
`):null})(),U=C?.phone||null,ee=I,K=z||x?.billing?.email||x?.billing_email||null,ge=C?.salesRepId||x?.doctorSalesRepId||x?.doctor_sales_rep_id||x?.salesRepId||x?.sales_rep_id||x?.salesRep?.id||null,Z=C?.salesRepName||x?.doctorSalesRepName||x?.doctor_sales_rep_name||x?.salesRepName||x?.sales_rep_name||x?.salesRep?.name||null,de=C?.salesRepEmail||x?.doctorSalesRepEmail||x?.doctor_sales_rep_email||x?.salesRepEmail||x?.sales_rep_email||x?.salesRep?.email||null,Ae=h.get(S)||(()=>{const Oe={doctorId:S,doctorName:ee,doctorEmail:K,doctorAvatar:A,doctorPhone:U,ownerSalesRepId:ge?String(ge):null,ownerSalesRepName:typeof Z=="string"&&Z.trim().length>0?Z.trim():null,ownerSalesRepEmail:typeof de=="string"&&de.trim().length>0?de.trim():null,leadType:O,leadTypeSource:T,leadTypeLockedAt:W,doctorAddress:H,orders:[],total:0};return h.set(S,Oe),Oe})();ge&&!Ae.ownerSalesRepId&&(Ae.ownerSalesRepId=String(ge)),Z&&!Ae.ownerSalesRepName&&(Ae.ownerSalesRepName=String(Z)),de&&!Ae.ownerSalesRepEmail&&(Ae.ownerSalesRepEmail=String(de)),Ae.orders.push(x);const _e=x.status;bn(_e)&&(Ae.total+=cr(x.total)??0)}return Array.from(h.values()).sort((x,S)=>S.total-x.total)},[ui,Pi,qn,k]),Ze=y.useCallback(()=>{try{const h=sessionStorage.getItem("auth_token");if(h&&h.trim().length>0)return!0}catch{}return!1},[]),We=y.useCallback(async h=>{if(!r){console.debug("[Referral] refreshReferralData skipped: no user");return}if(fn){console.debug("[Referral] refreshReferralData suppressed due to prior auth error");return}const x=h?.showLoading??!0,S=h?.force===!0,C=Date.now();if(!S&&!x){const I=yi.current;if(I>0&&C-I<t_){console.debug("[Referral] refreshReferralData throttled",{sinceMs:C-I,minIntervalMs:t_});return}}if(!S&&js.current&&js.current>Date.now()){console.debug("[Referral] refreshReferralData in cooldown");return}if(!Ze()){console.debug("[Referral] refreshReferralData skipped: missing auth token"),ma(!0);return}if(Ua.current){x&&Om(!0);return}Ua.current=!0,yi.current=C,x&&Om(!0),console.debug("[Referral] Refresh start",{role:r.role,userId:r.id});try{if(Rm(null),Ti(r.role)){const I=await ja.getDoctorSummary(),z=Array.isArray(I?.referrals)?I.referrals:[],A=I?.credits??{},O={totalCredits:Number(A.totalCredits??0),availableCredits:Number(A.availableCredits??A.totalCredits??r?.referralCredits??0),netCredits:typeof A.netCredits=="number"?Number(A.netCredits):void 0,firstOrderBonuses:Number(A.firstOrderBonuses??0),ledger:Array.isArray(A.ledger)?A.ledger:[]};Vf({...O});const T=z.map(W=>({...W}));Dd(T),n(W=>{if(!W)return W;const H=O.availableCredits,U=T.length;return Number(W.referralCredits??0)===H&&Number(W.totalReferrals??0)===U?W:{...W,referralCredits:H,totalReferrals:U}}),console.debug("[Referral] Doctor summary loaded",{referrals:T.length,credits:O})}else if(vr(r.role)||dt(r.role)){const I=dt(r.role),z=!1,A=await ja.getSalesRepDashboard({salesRepId:z?void 0:r.salesRepId||r.id,scope:z?"all":"mine"});bo(A),console.debug("[Referral] Sales rep dashboard loaded",{referrals:A?.referrals?.length??0,statuses:A?.statuses??null})}else console.debug("[Referral] Refresh skipped for role",{role:r.role})}catch(I){const z=typeof I?.status=="number"?I.status:null,A=typeof I?.message=="string"?I.message:"UNKNOWN_ERROR";console.warn("[Referral] Failed to load data",{status:z,message:A,error:I}),(z===401||z===403)&&(ma(!0),js.current=Date.now()+300*1e3),Rm(s.jsxs(s.Fragment,{children:["There is an issue in loading your referral data. Please refresh the page or contact"," ",s.jsx("a",{className:"text-[rgb(95,179,249)] underline",href:"mailto:support@peppro.net",children:"support@peppro.net"}),"."]}))}finally{console.debug("[Referral] Refresh complete",{role:r.role}),Ua.current=!1,x&&Om(!1)}},[r,n,fn,Ze]),at=y.useCallback(async(h,x)=>{const S=r?{id:r.id,role:r.role}:{id:null,role:null},C=x?.showLoading??!0;return console.debug("[Referral] refreshReferralData invoke",{trigger:h,showLoading:C,force:x?.force===!0,user:S,suppressed:fn,postLoginHold:Ie,ts:Date.now(),stack:typeof Error<"u"?new Error("refreshReferralData stack").stack:void 0}),We(x)},[r,fn,Ie,We]),wt=y.useCallback(async h=>{if(h.preventDefault(),!Qs.name.trim()){Xe.error("Name is required.");return}try{Mg(!0);const x=Qs.address.split(/\r?\n/).map(Z=>Z.trim()).filter(Z=>Z.length>0),S=x.length>0?x[x.length-1]:"",I=!!S&&(/^(us|usa|united states|united states of america)$/i.test(S)||S.toUpperCase()==="US")?"US":null,z=I?x.slice(0,Math.max(0,x.length-1)):x,A=z.findIndex(Z=>Z.includes(",")),O=A>=0?z[A]:null,T=Z=>{if(!Z)return{city:null,state:null,postalCode:null};const de=Z.split(",").map(qe=>qe.trim()).filter(Boolean);if(de.length===0)return{city:null,state:null,postalCode:null};const Ae=de[0]||null,Oe=de.slice(1).join(" ").trim().split(/\s+/).filter(Boolean),Ye=Oe.length>0?Oe[0]:null,Ue=(Oe.length>1?Oe[Oe.length-1]:de.length>2?de[de.length-1]:null)||null;return{city:Ae,state:Ye,postalCode:Ue}},{city:W,state:H,postalCode:U}=T(O),ee=A>=0?z.filter((Z,de)=>de!==A):z,K=ee.length>0?ee[0]:null,ge=ee.length>1?ee.slice(1).join(", "):null;await ja.createManualProspect({name:Qs.name.trim(),email:Qs.email.trim()||void 0,phone:Qs.phone.trim()||void 0,officeAddressLine1:K||void 0,officeAddressLine2:ge||void 0,officeCity:W||void 0,officeState:H||void 0,officePostalCode:U||void 0,officeCountry:I||void 0,notes:Yn(Qs.notes)||void 0,status:Qs.status,hasAccount:!1}),Xe.success("Prospect added successfully."),Uc(),await at("manual-prospect-submit",{showLoading:!1,force:!0})}catch(x){console.error("[Referral] Manual prospect create failed",x);const S=typeof x?.message=="string"?x.message:"Unable to add prospect right now.";Xe.error(S)}finally{Mg(!1)}},[Qs,Uc,Yn,at]),jt=y.useCallback(async(h,x)=>{if(!r||!vr(r.role)&&!dt(r.role))return;const S=String(h?.referredContactAccountId||"").trim();if(!S){Xe.error("Unable to update this account prospect.");return}try{Ir(z=>({...z,updatingReferral:String(h?.id||""),error:null}));const I=(await ja.upsertSalesProspect(S,{status:x}))?.prospect;I&&oh(z=>({...z,[S]:I})),Xe.success("Prospect updated."),await at("synthetic-account-promote",{showLoading:!1,force:!0})}catch(C){console.error("[Referral] Synthetic account promote failed",C);const I=typeof C?.message=="string"&&C.message?C.message:"Unable to update prospect right now.";Ir(z=>({...z,error:I})),Xe.error(I)}finally{Ir(C=>({...C,updatingReferral:null}))}},[oh,at,r]),[fa,Ne]=y.useState({}),ye=y.useCallback((h,x)=>{bo(S=>{if(!S)return S;const I=(Array.isArray(S.referrals)?S.referrals:[]).map(z=>String(z?.id||"")!==String(h)?z:{...z,...x});return{...S,referrals:I}})},[]),Pe=y.useCallback(async(h,x)=>{if(!(!r||!vr(r.role)&&!dt(r.role))){Ne(S=>({...S,[h]:!0}));try{const C=(await ja.upsertSalesProspect(h,{resellerPermitExempt:x}))?.prospect;ye(h,{resellerPermitExempt:x,...C&&typeof C=="object"?C:{}})}catch(S){console.warn("[Prospects] Update reseller permit exempt failed",S),Xe.error(typeof S?.message=="string"&&S.message?S.message:"Unable to update permit status right now.")}finally{Ne(S=>({...S,[h]:!1}))}}},[ye,r]),rt=y.useCallback(async(h,x)=>{if(!(!r||!vr(r.role)&&!dt(r.role))){Ne(S=>({...S,[h]:!0}));try{const C=(await ja.uploadResellerPermit(h,x))?.prospect;ye(h,{...C&&typeof C=="object"?C:{},resellerPermitFileName:x.name})}catch(S){console.warn("[Prospects] Upload reseller permit failed",S),Xe.error(typeof S?.message=="string"&&S.message?S.message:"Unable to upload permit right now.")}finally{Ne(S=>({...S,[h]:!1}))}}},[ye,r]),kt=y.useCallback(async h=>{if(!(!r||!vr(r.role)&&!dt(r.role))&&window.confirm("Delete this reseller permit file?")){Ne(x=>({...x,[h]:!0}));try{const S=(await ja.deleteResellerPermit(h))?.prospect;ye(h,{...S&&typeof S=="object"?S:{},resellerPermitFileName:null,resellerPermitFilePath:null,resellerPermitUploadedAt:null})}catch(x){console.warn("[Prospects] Delete reseller permit failed",x),Xe.error(typeof x?.message=="string"&&x.message?x.message:"Unable to delete permit right now.")}finally{Ne(x=>({...x,[h]:!1}))}}},[ye,r]),$t=y.useCallback(async(h,x)=>{if(!(!r||!vr(r.role)&&!dt(r.role))){Ne(S=>({...S,[h]:!0}));try{const S=await ja.downloadResellerPermit(h),C=URL.createObjectURL(S.blob);if(!window.open(C,"_blank","noopener,noreferrer")){const z=document.createElement("a");z.href=C,z.download=S.filename||x||"reseller_permit",document.body.appendChild(z),z.click(),z.remove()}window.setTimeout(()=>URL.revokeObjectURL(C),6e4)}catch(S){console.warn("[Prospects] Download reseller permit failed",S),Xe.error(typeof S?.message=="string"&&S.message?S.message:"Unable to download permit right now.")}finally{Ne(S=>({...S,[h]:!1}))}}},[r]),Ft=y.useCallback(async h=>{if(window.confirm("Delete this referral? This cannot be undone."))try{Tg(h),await ja.deleteDoctorReferral(h),Dd(x=>x.filter(S=>S.id!==h)),Xe.success("Referral deleted.")}catch(x){console.error("[Referral] Doctor referral delete failed",x),Xe.error(typeof x?.message=="string"?x.message:"Unable to delete referral right now.")}finally{Tg(null)}},[]),Wt=y.useCallback(async h=>{const x=h.referrerDoctorId,S=h.referrerDoctorName||"User";if(!x){Xe.error("Unable to credit this referral because the referrer is missing.");return}if(window.confirm("Are you sure?"))try{Yc(h.id),await ja.addManualCredit({doctorId:x,amount:50,reason:`Manual credit for referral ${h.id}`,referralId:h.id}),Xe.success(`Credited ${S} $50`),await at("manual-credit",{showLoading:!0})}catch(C){console.error("[Referral] Manual credit failed",C);const I=typeof C?.message=="string"?C.message:"Unable to issue credit right now.";Xe.error(I)}finally{Yc(null)}},[at]),En=y.useCallback(h=>{if(!h)return"";const x=kD(h);return!x||Number.isNaN(x.getTime())?h:x.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},[]),Gt=y.useCallback(h=>{if(!h)return"";const x=new Date(h);return Number.isNaN(x.getTime())?h:x.toLocaleString(void 0,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"})},[]),Mt=y.useCallback((h,x="USD")=>{if(h==null||Number.isNaN(h))return"";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:x}).format(h)}catch{return`$${h.toFixed(2)}`}},[]),hw=y.useCallback(h=>{if(Be.current&&(Be.current.disconnect(),Be.current=null),!h||typeof IntersectionObserver>"u"){Bt(!1);return}const x=new IntersectionObserver(([S])=>{Bt(S.isIntersecting)},{rootMargin:"-10% 0px 0px 0px"});x.observe(h),Be.current=x},[]);y.useEffect(()=>{Bo.logout()},[]),y.useEffect(()=>{let h=!1;return(async()=>{const S=typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now();try{const C=await Ip();if(!h){const I=typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now();console.debug("[Auth] API warm-up complete",{healthy:C,durationMs:Math.round(I-S)})}}catch(C){h||console.warn("[Auth] API warm-up failed",C)}})(),()=>{h=!0}},[]),y.useEffect(()=>{if(typeof window>"u"||J&&(!ne||le||me))return;let h=!1;const x=(A=!1,O=ND)=>{za.current&&window.clearTimeout(za.current),A||(bp(Date.now()+O),Qc(!0)),ao&&console.info("[Catalog] Retry scheduled",{background:A,delayMs:O}),za.current=window.setTimeout(()=>{S(A)},O)},S=async(A=!1)=>{if(h||th.current)return;th.current=!0,za.current=null,A||(bp(null),nd(!1),ml.current=0),A||Jm(!0),hf(null),A||Qc(!1);const O=Date.now();ao&&console.info("[Catalog] Load started",{background:A,build:Ry,apiBase:"https://api.peppro.net",wooProxy:""});try{Lr();const T=async()=>{const Ye=[],vt=async Ue=>{const qe=Date.now(),ze=await _9({per_page:100,page:Ue,status:"publish"});return ao&&console.info("[Catalog] Products page loaded",{page:Ue,count:Array.isArray(ze)?ze.length:0,durationMs:Date.now()-qe}),ze};for(let Ue=1;Ue<=25;Ue+=_D){const qe=Array.from({length:_D},(bt,pt)=>Ue+pt).filter(bt=>bt<=25),ze=await Promise.all(qe.map(bt=>vt(bt)));let ct=!1;for(let bt=0;bt<ze.length;bt+=1){const pt=ze[bt],_t=qe[bt];if(!Array.isArray(pt)||pt.length===0){ao&&console.info("[Catalog] Products page empty",{page:_t}),ct=!0;break}if(Ye.push(...pt),pt.length<100){ct=!0;break}}if(ct)break}return ao&&Ye.length===0&&console.warn("[Catalog] No Woo products returned"),Ye},[W,H]=await Promise.all([T(),fce({per_page:100})]);if(h)return;ao&&console.info("[Catalog] Woo base payload loaded",{products:Array.isArray(W)?W.length:0,categories:Array.isArray(H)?H.length:0,durationMs:Date.now()-O});const U=Array.isArray(H)?H.map(_e=>_e?.name?.trim()).filter(_e=>!!_e&&!_e.toLowerCase().includes("subscription")):[],ee=new Map;if(Array.isArray(H))for(const _e of H){const Oe=typeof _e?.id=="number"?_e.id:Number.parseInt(String(_e?.id??""),10);if(!Number.isFinite(Oe))continue;const Ye=typeof _e?.name=="string"?_e.name.trim():"";Ye&&ee.set(Number(Oe),Ye)}hr.current=ee,U.length>0?(Zm(U),ao&&console.info("[Catalog] Categories set from API",{categories:U})):ao&&console.info("[Catalog] Categories empty after filter",{rawCategories:Array.isArray(H)?H.map(_e=>_e?.name):[]}),_r.current=new Map((W??[]).filter(_e=>!!(_e&&typeof _e=="object"&&"id"in _e)).map(_e=>{const Oe=_y(_e,hr.current),Ye=typeof Oe.id=="number"?Oe.id:Number.parseInt(String(Oe.id).replace(/[^\d]/g,""),10);return Number.isFinite(Ye)?[Ye,Oe]:null}).filter(_e=>!!_e));const K=_e=>{if(!_e||_e.length===0)return!1;ao&&console.info("[Catalog] Applying catalog state",{products:_e.length}),mf(_e);const Oe=Array.from(new Set(_e.map(qe=>qe.category).filter(qe=>!!qe&&!qe.toLowerCase().includes("subscription")))),Ye=U.length>0?U:Oe,vt=Array.from(new Set([...Ye,...Oe]));vt.length>0&&Zm(vt);const Ue=Array.from(new Set(_e.map(qe=>qe.type).filter(Boolean)));return Ue.length>0&&Ql(Ue),!0};let ge=0;const Z=[],de=(W??[]).filter(_e=>!!(_e&&typeof _e=="object"&&"id"in _e)).map(_e=>{try{const Oe=_y(_e,hr.current);return n_(Oe,[])}catch(Oe){return ge+=1,Z.length<5&&Z.push({id:_e?.id,name:_e?.name,message:typeof Oe?.message=="string"?Oe.message:void 0}),console.warn("[Catalog] Failed to map Woo product",_e?.id,Oe),null}}).filter(_e=>!!(_e&&_e.name));if(ao&&console.info("[Catalog] Base products mapped",{count:de.length,mapFailures:ge,sampleMapFailures:Z}),Array.isArray(W)&&W.length>0&&de.length===0){const _e=ge>0?`Catalog mapping failed for ${ge} products.`:"Catalog mapping produced 0 products.";hf(_e),console.error("[Catalog] Mapping resulted in empty catalog",{mappingError:_e,wooCount:W.length,mapFailures:ge,sampleMapFailures:Z})}const Ae=K(de);if(ao&&console.info("[Catalog] Catalog state applied",{products:de.length,categories:da.length||U.length,durationMs:Date.now()-O}),!A){if(!Ae&&de.length===0&&yr.length===0&&ml.current<Jce){ml.current+=1;const _e=Math.max(eue,jD);Qc(!0),x(!1,_e);return}Jm(!1),Ae&&(Ja.current=0,Qc(!1))}ao&&console.info("[Catalog] Load complete (state)",{products:de.length,categories:da.length,loading:!1})}catch(T){if(!h){const W=typeof T?.message=="string"&&T.message.trim().length>0?T.message:"Catalog fetch failed",H=typeof T?.status=="number"?T.status:null,U=typeof T?.name=="string"?T.name:"";if(H===429||H===500||H===502||H===503||H===504||W==="Failed to fetch"||W==="Load failed"||U==="TypeError"){Hn.current+=1;const K=Math.min(8,Hn.current),ge=Math.min(300*1e3,2e3*Math.pow(2,K-1));mn.current=Date.now()+ge}if(!A){Ja.current+=1;const K=Ja.current===1?jD:ND,ge=Math.max(K,Math.max(0,mn.current-Date.now()));Ja.current>=2?hf(W):Qc(!0),x(!1,ge);return}console.error("[Catalog] Catalog fetch failed",{message:W,error:T}),x(A)}}finally{ao&&console.info("[Catalog] Load finished",{background:A,durationMs:Date.now()-O}),th.current=!1}};S(!1);const C="catalog-background-poll",I=Math.max(45e3,Jj*2),z=window.setInterval(()=>{Ii()&&au(C,I)&&(gf(C,"catalog-background-poll",Jj),S(!0))},Jj);return()=>{h=!0,Sl(C),za.current&&window.clearTimeout(za.current),window.clearInterval(z)}},[Lr,Ha,J,le,me]),y.useEffect(()=>{if(es.current&&(window.clearTimeout(es.current),es.current=null),vi){nd(!1);return}if(yr.length>0){nd(!1);return}if(eo&&Date.now()<eo){nd(!1);return}return es.current=window.setTimeout(()=>{nd(!0),es.current=null},tue),()=>{es.current&&(window.clearTimeout(es.current),es.current=null)}},[vi,yr.length,eo]),y.useEffect(()=>{if(!r){ec([]),tc(null),Np(null);return}let h=!1;return(async()=>{Qg(),tc(null);const S=Date.now();try{const C=await g_.getPeptideHeadlines();if(h)return;const I=Array.isArray(C?.items)?C.items.map(z=>({title:typeof z?.title=="string"?z.title.trim():"",url:typeof z?.url=="string"?z.url.trim():"",summary:typeof z?.summary=="string"&&z.summary.trim()?z.summary.trim():void 0,image:typeof z?.imageUrl=="string"&&z.imageUrl.trim()?z.imageUrl.trim():void 0,date:typeof z?.date=="string"&&z.date.trim()?z.date.trim():void 0})).filter(z=>z.title&&z.url):[];if(I.length===0){ec([]),tc("No headlines available right now."),Np(new Date);return}ec(I.slice(0,6)),Np(new Date)}catch(C){h||(console.warn("[News] Failed to load peptide headlines",C),tc("Unable to load peptide news at the moment."),ec([]))}finally{h||Zg(S)}})(),()=>{h=!0}},[r]),y.useEffect(()=>{if(!r){Jg(!1),ey(!1),jp(null),ah(!1),ty.current=!1;return}if(ty.current)return;ty.current=!0,Jg(!1),ey(!1),jp(null),ah(!0);const h=window.setTimeout(()=>Jg(!0),250);return()=>window.clearTimeout(h)},[r]),y.useEffect(()=>{if(!r||!kn||gt||nh)return;let h=!1;return(async()=>{try{const S=await VL.getQuoteOfTheDay();h||jp(S)}catch(S){console.warn("[Quotes] Failed to load quote of the day",S),h||jp({text:"Excellence is not a skill, it's an attitude.",author:"Ralph Marston"})}finally{h||(ah(!1),ey(!0))}})(),()=>{h=!0}},[r,kn,gt,nh]),y.useEffect(()=>{if(typeof window>"u")return;const h=()=>{sh(window.innerWidth>=1024)};return h(),window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}},[]),y.useEffect(()=>{ao&&console.info("[CatalogState] Snapshot",{loading:vi,error:Do,products:yr.length,categories:da.length,types:td.length,filters:Kn,searchQuery:re.trim()})},[vi,Do,yr,da,td,Kn,re]),y.useEffect(()=>{Md(h=>{const x=h.categories.filter(S=>da.includes(S));return x.length===h.categories.length&&h.types.length===0?h:{...h,categories:x,types:[]}})},[da]),y.useEffect(()=>{if(!r){Vf(null),Dd([]),bo(null),Ir({updatingReferral:null,error:null}),ma(!1);return}if(ma(!1),Ie)return;let h=!1;return(async()=>h||await at("user-change-initial-load",{showLoading:!0}))(),()=>{h=!0}},[r,Ie,We]),y.useEffect(()=>{if(typeof document>"u")return;const h=!!r&&!Ie,x=!r;return document.body.classList.toggle("non-login-bg",h),document.body.classList.toggle("login-view",x),()=>{document.body.classList.remove("non-login-bg"),document.body.classList.remove("login-view")}},[r,Ie]),y.useEffect(()=>{if(!r||!vr(r.role)&&!dt(r.role)||Ie||fn)return;const h=Math.max(t_,45e3),x=window.setInterval(()=>{at("sales-rep-auto-refresh",{showLoading:!1})},h);return()=>{window.clearInterval(x)}},[r?.id,r?.role,Ie,fn,at]),y.useEffect(()=>{if(typeof window>"u"||typeof document>"u"||!r||!Ti(r.role)&&!vr(r.role)&&!dt(r.role)||Ie||fn)return;const h=()=>{document.hidden||at("visibilitychange:visible",{showLoading:!1})},x=()=>{at("window:focus",{showLoading:!1})};return document.addEventListener("visibilitychange",h),window.addEventListener("focus",x),()=>{document.removeEventListener("visibilitychange",h),window.removeEventListener("focus",x)}},[r?.id,r?.role,Ie,fn,at]),y.useEffect(()=>()=>{Be.current&&(Be.current.disconnect(),Be.current=null)},[]),y.useEffect(()=>{const h=()=>{Ve(!1),Le(null),d(!1)};return window.addEventListener("peppro:close-dialogs",h),()=>window.removeEventListener("peppro:close-dialogs",h)},[]);const UA=async(h,x,S=0,C)=>{const I=C??At,z=Date.now();console.debug("[Auth] Login attempt",{email:h,attempt:S});try{const A=await Bo.login(h,x);return Ac(A),I!=="checkout"&&F7(h,x,A.name||h),console.debug("[Auth] Login success",{userId:A.id,visits:A.visits}),{status:"success"}}catch(A){console.warn("[Auth] Login failed",{email:h,error:A});const O=A.message||"LOGIN_ERROR",T=typeof A?.code=="string"?A.code:null;if(O==="EMAIL_NOT_FOUND")return{status:"email_not_found"};if(O==="INVALID_PASSWORD")return{status:"invalid_password"};if(O==="SALES_REP_ACCOUNT_REQUIRED")return{status:"sales_rep_signup_required",message:O};const W=typeof A?.status=="number"?A.status:null,H=typeof O=="string"?O.toUpperCase():"",U=O==="Failed to fetch"||H.includes("LOAD FAILED")||H.includes("NETWORKERROR")||H.includes("NETWORK_ERROR"),ee=W!==null&&W>=500,K=T==="TIMEOUT"||H.includes("TIMED OUT"),ge=Date.now()-z;if(K||U)return{status:"error",message:"NETWORK_UNAVAILABLE"};if(S===0&&ee&&W!==null&&[502,503,504].includes(W)&&ge<4e3)return console.warn("[Auth] Transient login failure detected, retrying immediately after health ping",{email:h,statusCode:W,message:O}),Ip().catch(()=>{}),await new Promise(Z=>setTimeout(Z,500)),UA(h,x,S+1,I);if(O==="Invalid credentials"||O==="INVALID_CREDENTIALS")try{return(await Bo.checkEmail(h)).exists?{status:"invalid_password"}:{status:"email_not_found"}}catch{return{status:"email_not_found"}}return O==="EMAIL_REQUIRED"?{status:"error",message:O}:{status:"error",message:O}}},zA=y.useCallback(()=>{Tu.current+=1,Ia("idle"),ci(""),Ru.current=null},[]),$9=y.useCallback(h=>{const x=(h||"").replace(/[^0-9]/g,"").slice(0,10);if(x.length<10){console.debug("[NPI] Waiting for 10 digits before verification",{digits:x}),Tu.current+=1,Ia("idle"),ci(""),Ru.current=null;return}const S=Date.now();Tu.current=S,console.debug("[NPI] Verifying against CMS registry",{npiNumber:x,checkId:S}),Ia("checking"),ci(""),Bo.verifyNpi(x).then(C=>{if(Tu.current!==S)return;console.debug("[NPI] Verified successfully",{npiNumber:x});const I=(()=>{if(C?.name&&typeof C.name=="string")return C.name.trim();const A=C?.raw?.basic;if(A){const O=[A.first_name,A.middle_name,A.last_name].map(T=>T?.trim()).filter(Boolean);if(O.length)return O.join(" ")}return null})(),z=C??{};Ru.current={...z,name:I??(typeof z.name=="string"?z.name:null),verifiedNpiNumber:x},Ia("verified"),ci("NPI verified with the CMS registry.")}).catch(C=>{if(Tu.current!==S)return;console.warn("[NPI] Verification failed",{npiNumber:x,error:C});const I=fue(C?.message);Ia("rejected"),ci(I),Ru.current=null})},[]),Pp=y.useCallback(h=>{et(x=>{if(x===h)return x;if(h!=="reset"&&(rl(),Cs(null),Jo(""),zs(""),Ol(""),Va("")),h==="signup"?zA():os(""),h==="login"&&(As(""),Ea(!1),sr(!1),Tn(!1),Fn(""),ia(!1),Oa("")),h==="forgot"){As(""),Fn(""),ia(!1);const S=gr.current?.value?.trim()||"";Oa(C=>C||S)}return h==="reset"&&(As(""),Fn(""),ia(!1),Va(""),Ol(""),Cs(S=>S??WC())),h})},[rl,zA]),WA=(h,x)=>UA(h,x,0),HA=async h=>{console.debug("[Auth] Create account attempt",{email:h.email});try{const x=(h.password||"").trim(),S=(h.confirmPassword||"").trim();if(!x)return{status:"error",message:"PASSWORD_REQUIRED"};if(x!==S)return{status:"password_mismatch"};const C=(h.code||"").trim().toUpperCase();if(!/^[A-Z]{2}[A-Z0-9]{3}$/.test(C))return{status:"invalid_referral_code"};const I=(h.npiNumber||"").replace(/\D/g,"");if(I&&!/^\d{10}$/.test(I))return{status:"invalid_npi"};if(I){const A=Ru.current;if(!A||A.verifiedNpiNumber!==I)return{status:"error",message:"Please verify your NPI before continuing."};if(A.name&&!Xce(h.name,A.name))return{status:"error",message:"Ensure your name is exactly as stated on your NPI registry."}}const z=await Bo.register({name:h.name,email:h.email,password:x,code:C,npiNumber:I||void 0});return n(z),mt(!0),ht(!1),console.debug("[Auth] Create account success",{userId:z.id}),Vt(null),Ea(!1),sr(!1),Tn(!1),{status:"success"}}catch(x){const S=x?.status??"unknown",C=x?.details??null;console.warn("[Auth] Create account failed",{email:h.email,status:S,message:x?.message,details:C});const I=typeof x?.message=="string"&&x.message.trim()?x.message.trim():"REGISTER_ERROR";return I==="EMAIL_EXISTS"||I==="User already exists"?{status:"email_exists"}:I==="INVALID_REFERRAL_CODE"?{status:"invalid_referral_code"}:I==="REFERRAL_CODE_NOT_FOUND"?{status:"referral_code_not_found"}:I==="REFERRAL_CODE_UNAVAILABLE"?{status:"referral_code_unavailable"}:I==="SALES_REP_EMAIL_MISMATCH"?{status:"sales_rep_email_mismatch"}:I==="NAME_EMAIL_REQUIRED"?{status:"name_email_required"}:I==="PASSWORD_REQUIRED"?{status:"error",message:I}:I==="NPI_INVALID"?{status:"invalid_npi"}:I==="NPI_NOT_FOUND"?{status:"npi_not_found"}:I==="NPI_NAME_MISMATCH"?{status:"error",message:"Ensure your name is exactly as stated on your NPI registry."}:I==="NPI_ALREADY_REGISTERED"?{status:"npi_already_registered"}:I==="NPI_LOOKUP_FAILED"?{status:"npi_verification_failed",message:I}:{status:"error",message:I}}},F9=async h=>{if(h.preventDefault(),fo)return;const x=_s.trim();if(!x){Fn("Please enter the email associated with your account.");return}Zo(!0),Fn(""),ia(!1);try{await y_.request(x),ia(!0)}catch(S){const C=typeof S?.status=="number"?S.status:null,I=C&&C>=500?"Password reset service is temporarily unavailable. Please try again in a few minutes.":typeof S?.message=="string"&&S.message.trim()?S.message:"Unable to send reset instructions. Please try again.";Fn(I),console.warn("[Auth] Password reset request failed",{status:C,error:S})}finally{Zo(!1)}},B9=async h=>{if(h.preventDefault(),ii)return;Va(""),Ol("");const x=Sc.trim(),S=Nc.trim();if(!Vn){Va("This reset link is invalid or has expired. Please request a new one.");return}if(!x){Va("Please enter a new password.");return}if(x!==S){Va("Passwords do not match. Please confirm your new password.");return}po(!0);try{await y_.reset(Vn,x),Ol("Your password has been updated. You can now sign in with your new credentials."),Jo(""),zs(""),setPasswordResetToken(null),rl()}catch(C){const I=typeof C?.status=="number"?C.status:null,z=I&&I>=500?"We could not verify your reset link because the service is unavailable. Please try again shortly.":typeof C?.message=="string"&&C.message.trim()?C.message:"Unable to reset your password. Please request a new link.";Va(z),console.warn("[Auth] Password reset finalize failed",{status:I,error:C})}finally{po(!1)}},sd=y.useCallback(()=>{console.debug("[Auth] Logout"),Bo.logout(),n(null),Cc(null),Vt(null),mt(!1),ht(!1),d(!1),Rt(!1),Ca(!1),Vf(null),Dd([]),bo(null),Ku(null),Rm(null),Ir({updatingReferral:null,error:null})},[]);y.useEffect(()=>{if(typeof window>"u")return;const h=r?.id!==void 0&&r?.id!==null?String(r.id):null;if(a.current&&!h){const S=()=>{window.scrollTo({top:0,left:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0};S(),requestAnimationFrame(S),setTimeout(S,0)}a.current=h},[r?.id]),y.useEffect(()=>{if(typeof window>"u")return;const h=x=>{const S=x?.detail||{},C=typeof S?.reason=="string"?S.reason:"",I=typeof S?.authCode=="string"?S.authCode:"";(C==="another_tab_login"||C==="credentials_used_elsewhere"||I==="TOKEN_REVOKED")&&Xe.error("Another login with your credentials has forced your logout. If this wasn't you, reset your password."),sd()};return window.addEventListener("peppro:force-logout",h),()=>{window.removeEventListener("peppro:force-logout",h)}},[sd]),y.useEffect(()=>{if(typeof window>"u")return;if(!r?.id){Qu(!1);return}const h=1e4,x=3600*1e3,S=1440*60*1e3,C="peppro_session_started_at_v1";let I=Date.now();try{const W=window.sessionStorage.getItem(C),H=W?Number(W):NaN;Number.isFinite(H)&&H>0?I=H:window.sessionStorage.setItem(C,String(I))}catch{}nf.current=Date.now(),up.current=!1,Dm.current=!1,Qu(!1);const z=()=>{nf.current=Date.now(),up.current=!1,Qu(!1);const W=Date.now();if(!(W-$m.current<15e3)){$m.current=W;try{Mr.pingPresence({kind:"interaction",isIdle:!1}).catch(()=>{})}catch{}}},A=()=>{if(Date.now()-I>=S){Dm.current||(Dm.current=!0,Xe.info("Session expired. Please sign in again."),sd());return}const H=Date.now()-nf.current;if(H>=x){up.current||(up.current=!0,sd());return}const U=H>=h;if(rf.current!==U){if(rf.current=U,Qu(U),U)try{Mr.pingPresence({kind:"heartbeat",isIdle:!0}).catch(()=>{})}catch{}return}Qu(U)},O=["mousemove","mousedown","keydown","wheel","touchstart","touchmove","focus"];O.forEach(W=>window.addEventListener(W,z,{passive:!0})),document.addEventListener("scroll",z,{passive:!0,capture:!0});const T=window.setInterval(A,1e3);return window.setTimeout(A,200),()=>{O.forEach(W=>window.removeEventListener(W,z)),document.removeEventListener("scroll",z,!0),window.clearInterval(T)}},[r?.id,sd]),y.useEffect(()=>{if(typeof window>"u")return;if(!r?.id||Ie){Lm.current=0,$m.current=0;return}let h=!1;const x=3e4,S=()=>{if(h||!jh()||!Ii())return;const W=Date.now(),H=Math.max(1e4,Math.floor(x*.75));if(!(W-Lm.current<H)){Lm.current=W;try{Mr.pingPresence({kind:"heartbeat",isIdle:rf.current}).catch(()=>{})}catch{}}};S();const C=Math.floor(Math.random()*1500),I=window.setInterval(S,x),z=window.setTimeout(S,1e3+C),A=window.setTimeout(S,2500+C),O=()=>{Ii()&&S()},T=()=>S();return document.addEventListener("visibilitychange",O),window.addEventListener("online",T),window.addEventListener("focus",T),()=>{h=!0,window.clearInterval(I),window.clearTimeout(z),window.clearTimeout(A),document.removeEventListener("visibilitychange",O),window.removeEventListener("online",T),window.removeEventListener("focus",T)}},[r?.id,Ie]),y.useEffect(()=>{if(typeof window>"u"||!r)return;let h=!1;const x=6e4,S=async()=>{if(h||!jh()||!Ii())return;const z=Date.now();if(!(z-zg.current<15e3)){zg.current=z;try{!await Bo.getCurrentUser()&&!h&&sd()}catch{}}},C=window.setInterval(()=>{S()},x);window.setTimeout(()=>void S(),1500);const I=()=>{!Ii()||!jh()||S()};return document.addEventListener("visibilitychange",I),window.addEventListener("focus",I),window.addEventListener("online",I),()=>{h=!0,window.clearInterval(C),document.removeEventListener("visibilitychange",I),window.removeEventListener("focus",I),window.removeEventListener("online",I)}},[r?.id,sd]);const gw=(h,x)=>x?`${h}::${x}`:h,VA=(h,x=1,S,C)=>{console.debug("[Cart] Add to cart requested",{productId:h,quantity:x,note:S,variantId:C});const I=yr.find(W=>W.id===h);if(!I)return;if(C==="__peppro_needs_variant__"&&(C=null),(I.type??"").toLowerCase()==="variable"&&(!I.variants||I.variants.length===0)){console.debug("[Cart] Variant required, opening product details",{productId:h}),Le(I),Ve(!0),Rn(I);return}const A=Math.max(1,Math.floor(x));let O=null;if(I.variants?.length&&(O=C?I.variants.find(W=>W.id===C)??null:I.variants.find(W=>W.inStock)??I.variants[0]??null,!O)){console.warn("[Cart] Variant selection required, opening product details",{productId:h,variantId:C}),Le(I),Ve(!0),Rn(I);return}const T=gw(h,O?.id??null);l(W=>W.find(U=>U.id===T)?W.map(U=>U.id===T?{...U,quantity:U.quantity+A,note:S??U.note}:U):[...W,{id:T,product:I,quantity:A,note:S,variant:O}]),console.debug("[Cart] Add to cart success",{productId:h,variantId:O?.id,quantity:A})},q9=h=>{if(!h?.lineItems||h.lineItems.length===0){console.debug("[Cart] Buy again ignored, no line items",{orderId:h?.id});return}(async()=>{const x=[],S=(C,I,z)=>{const A=gw(C.id,I?.id??null),O=x.find(T=>T.id===A);if(O){O.quantity+=z;return}x.push({id:A,product:C,quantity:z,variant:I??void 0})};for(const C of h.lineItems){const I=Math.max(1,Math.floor(C.quantity??1)),z=(C.sku??"").trim(),A=(C.name??"").trim(),O=A.toLowerCase();let T,W=null;const H=Number(C.productId??NaN),U=Number(C.variantId??NaN);if(Number.isFinite(H)&&(T=yr.find(ee=>ee.wooId===H)??yr.find(ee=>ee.id===`woo-${H}`),T&&(T=await Rn(T),Number.isFinite(U)&&T.variants?.length&&(W=T.variants.find(ee=>ee.wooId===U)??null),!W&&z&&T.variants?.length&&(W=T.variants.find(ee=>(ee.sku||"").trim()===z)??null))),!T&&z&&(T=yr.find(ee=>(ee.sku||"").trim()===z)),!T&&z)for(const ee of yr){if(!ee.variants?.length)continue;const K=ee.variants.find(ge=>(ge.sku||"").trim()===z)??null;if(K){T=ee,W=K;break}}if(!T&&O){let ee=A,K=null;const ge=A.match(/\s[-]\s/);if(ge&&typeof ge.index=="number"){const Ae=ge.index;ee=A.slice(0,Ae).trim(),K=A.slice(Ae+ge[0].length).trim()}const Z=ee.toLowerCase(),de=K?K.toLowerCase():null;if(T=yr.find(Ae=>Ae.name.trim().toLowerCase()===O),!T&&Z&&(T=yr.find(Ae=>Ae.name.trim().toLowerCase()===Z)),!T&&Z&&(T=yr.find(Ae=>Ae.name.trim().toLowerCase().startsWith(Z))),T&&(T.type??"").toLowerCase()==="variable"&&(T=await Rn(T)),T&&de&&T.variants?.length){const Ae=T.variants,_e=de;W=Ae.find(Oe=>Oe.label.trim().toLowerCase()===_e)??Ae.find(Oe=>Oe.label.trim().toLowerCase().includes(_e))??Ae.find(Oe=>(Oe.attributes??[]).some(Ye=>Ye.value.trim().toLowerCase()===_e||Ye.value.trim().toLowerCase().includes(_e)))??null}}if(!T){console.debug("[Cart] Buy again line skipped, no product match",{sku:z,name:C.name});continue}(T.type??"").toLowerCase()==="variable"&&(T=await Rn(T)),!W&&T.variants?.length&&(W=T.variants.find(ee=>ee.inStock)??T.variants[0]??null),S(T,W,I)}if(x.length===0){console.debug("[Cart] Buy again produced empty cart",{orderId:h.id});return}console.debug("[Cart] Buy again cart rebuilt",{orderId:h.id,items:x.length}),l(x),d(!0),Xe.info("Order loaded into a new cart.")})()},yw=y.useCallback(h=>{const x=(Array.isArray(h)?h:[]).map(S=>{const C=(S?.productId??S?.product_id??"").toString().trim(),I=(S?.variantId??S?.variant_id??"").toString().trim(),z=Math.max(0,Math.floor(Number(S?.quantity??0)||0));return{productId:C,variantId:I,quantity:z}}).filter(S=>S.productId&&S.quantity>0).sort((S,C)=>{const I=`${S.productId}:${S.variantId}`,z=`${C.productId}:${C.variantId}`;return I.localeCompare(z)});return JSON.stringify(x)},[]),U9=y.useCallback(h=>{if(!h?.token||!Array.isArray(h.items)||h.items.length===0){Xe.error("Proposal is missing items.");return}(async()=>{const x=A=>typeof A=="string"?A.trim():A==null?"":String(A).trim(),S=(()=>{const A=h.shippingAddress;if(!A||typeof A!="object")return null;const O=x(A.addressLine1),T=x(A.city),W=x(A.state),H=x(A.postalCode),U=x(A.country)||"US";return!O||!T||!W||!H?null:{name:x(A.name)||null,addressLine1:O,addressLine2:x(A.addressLine2)||null,city:T,state:W,postalCode:H,country:U}})(),C=[],I=(A,O,T)=>{const W=gw(A.id,O?.id??null),H=C.find(U=>U.id===W);if(H){H.quantity+=T;return}C.push({id:W,product:A,quantity:T,variant:O??void 0})};let z=0;for(const A of h.items){const O=Math.max(1,Math.floor(Number(A?.quantity??1)||1)),T=Number(A?.productId??A?.product_id??NaN),W=Number(A?.variantId??A?.variant_id??NaN);if(!Number.isFinite(T)){z+=1;continue}let H=yr.find(ee=>ee.wooId===T)??yr.find(ee=>ee.id===`woo-${T}`);if(!H){z+=1;continue}(H.type??"").toLowerCase()==="variable"&&(H=await Rn(H));let U=null;Number.isFinite(W)&&H.variants?.length&&(U=H.variants.find(ee=>ee.wooId===W)??null),!U&&H.variants?.length&&(U=H.variants.find(ee=>ee.inStock)??H.variants[0]??null),I(H,U,O)}if(C.length===0){Xe.error("Unable to load this proposal (products not found).");return}g({token:h.token,signature:yw(h.items),markupPercent:typeof h.markupPercent=="number"&&Number.isFinite(h.markupPercent)?h.markupPercent:null,delegateOrderId:h.delegateOrderId??null,sharedAt:h.sharedAt??null}),w(S),l(C),d(!0),Xe.info(z>0?`Proposal loaded (${z} item${z===1?"":"s"} skipped).`:"Proposal loaded.")})()},[yw,yr,Rn]),z9=async()=>{Qg(),tc(null);const h=Date.now();try{const x=await g_.getPeptideHeadlines(),S=Array.isArray(x?.items)?x.items.map(C=>({title:typeof C?.title=="string"?C.title.trim():"",url:typeof C?.url=="string"?C.url.trim():"",summary:typeof C?.summary=="string"&&C.summary.trim()?C.summary.trim():void 0,image:typeof C?.imageUrl=="string"&&C.imageUrl.trim()?C.imageUrl.trim():void 0,date:typeof C?.date=="string"&&C.date.trim()?C.date.trim():void 0})).filter(C=>C.title&&C.url):[];if(S.length===0){ec([]),tc("No headlines available right now."),Np(new Date);return}ec(S.slice(0,6)),Np(new Date)}catch(x){console.warn("[News] Failed to refresh peptide headlines",x),tc("Unable to load peptide news at the moment."),ec([])}finally{Zg(h)}},GA=h=>{xe(h)},W9=y.useCallback((h,x)=>E?Ch.estimateDelegateTotals({delegateToken:E,...h||{}},x):Promise.reject(new Error("Delegation link is missing.")),[E]),H9=async h=>{if(console.debug("[Checkout] Attempt",{items:i.length,shipping:h}),i.length===0)return;const x=i.map(({id:O,product:T,quantity:W,note:H,variant:U},ee)=>{const K=T.wooId??T.id,ge=U?.wooId??U?.id??null,Z=(U?.sku||T.sku||"").trim()||null,de=_h(T,U??null,W,{pricingMode:P,markupPercent:G}),Ae=U?.weightOz??T.weightOz??null,_e=U?.dimensions||T.dimensions||void 0;return{cartItemId:O,productId:K,variantId:ge,sku:Z,name:U?`${T.name}  ${U.label}`:T.name,price:de,quantity:W,note:H??null,position:ee+1,weightOz:Ae,lengthIn:_e?.lengthIn??null,widthIn:_e?.widthIn??null,heightIn:_e?.heightIn??null}}),S=x.reduce((O,T)=>O+T.price*T.quantity,0),C=typeof h?.taxTotal=="number"&&h.taxTotal>=0?h.taxTotal:0,I=typeof h?.shippingTotal=="number"&&h.shippingTotal>=0?h.shippingTotal:0,z=Math.round((S+I+C+Number.EPSILON)*100)/100,A=(()=>{if(J||!f?.token||!f.signature)return null;const T=yw(x)===f.signature?"accepted":"modified";return{token:f.token,status:T}})();try{if(J&&E){const T=await Ch.shareDelegateOrder({delegateToken:E,items:x,shippingAddress:h?.shippingAddress,shippingEstimate:h?.shippingRate,shippingTotal:I,expectedShipmentWindow:h?.expectedShipmentWindow??null,taxTotal:C,paymentMethod:h?.paymentMethod??null});try{const W=T?.order?.id??T?.orderId??null,H=W?String(W).trim():null;te(U=>U&&{...U,delegateSharedAt:new Date().toISOString(),delegateOrderId:H??U.delegateOrderId??null,proposalStatus:"pending",proposalReviewedAt:null,proposalReviewOrderId:null})}catch{}return T}const O=await ti.create(x,z,void 0,h?.discountCode??void 0,{address:h?.shippingAddress,estimate:h?.shippingRate,shippingTotal:h?.shippingTotal??null},h?.expectedShipmentWindow??null,{physicianCertification:h?.physicianCertificationAccepted===!0},C,h?.paymentMethod??null,P);try{const T=O?.order,W=T?.id?String(T.id).trim():null,H=O?.integrations?.wooCommerce?.response||null,U=H?.id||T?.wooOrderId||T?.woo_order_id||null,ee=H?.number||H?.id||T?.wooOrderNumber||T?.woo_order_number||T?.wooOrderId||T?.woo_order_id||null,K=U?String(U).trim():null,ge=ee?String(ee).trim():null;Ci.current={pepproOrderId:W,wooOrderId:K,wooOrderNumber:ge,createdAtMs:Date.now()},T&&typeof T=="object"&&(!T.wooOrderId&&K&&(T.wooOrderId=K),!T.wooOrderNumber&&ge&&(T.wooOrderNumber=ge))}catch{Ci.current={pepproOrderId:null,wooOrderId:null,wooOrderNumber:null,createdAtMs:Date.now()}}if(A)try{const T=Ci.current,W=T?.wooOrderId||T?.wooOrderNumber||null;await Ch.reviewLinkProposal(A.token,{status:A.status,orderId:W})}catch(T){console.warn("[Delegation] Failed to update proposal status after checkout",T)}finally{g(null)}try{const T=O?.order,W=Ci.current,H=W?.wooOrderId||null,U=W?.wooOrderNumber||null,ee=T?.createdAt||T?.created_at||new Date().toISOString(),ge=(Array.isArray(T?.items)?T.items:[]).map((de,Ae)=>{const _e=typeof de?.quantity=="number"?de.quantity:Number(de?.quantity)||0,Oe=typeof de?.total=="number"?de.total:Number(de?.total),Ye=typeof de?.price=="number"?de.price:Number(de?.price),vt=Number.isFinite(Oe)&&Oe>0?Oe:null,Ue=Number.isFinite(Ye)&&Ye>0?Ye:null;let qe=Ue??(vt&&_e>0?vt/_e:null),ze=vt??(typeof qe=="number"&&Number.isFinite(qe)?qe*_e:null);return _e>1&&typeof vt=="number"&&typeof Ue=="number"&&Math.abs(vt-Ue)<.01&&(qe=Ue,ze=Ue*_e),{id:String(de?.id||`${T?.id||"order"}-${Ae}`),name:de?.name??null,quantity:_e,total:typeof ze=="number"?ze:null,subtotal:typeof ze=="number"?ze:null,price:typeof qe=="number"?qe:null,sku:de?.sku??de?.variantSku??null,productId:de?.productId??null,variantId:de?.variantId??null,image:null}});if(!H&&!U)throw Ws.current=null,new Error("checkout_woo_id_missing");const Z={id:String(H||U),number:U?String(U):null,status:String(T?.status||"on-hold"),currency:"usd",total:typeof T?.grandTotal=="number"?T.grandTotal:Number(T?.grandTotal)||Number(T?.total)||null,createdAt:typeof ee=="string"?ee:new Date().toISOString(),updatedAt:null,source:"peppro",lineItems:ge,integrations:T?.integrations??null,paymentMethod:null,paymentDetails:null,integrationDetails:T?.integrationDetails??null,shippingAddress:T?.shippingAddress??null,billingAddress:T?.billingAddress??null,shippingEstimate:T?.shippingEstimate??null,shippingTotal:typeof T?.shippingTotal=="number"?T.shippingTotal:Number(T?.shippingTotal)||null,taxTotal:typeof T?.taxTotal=="number"?T.taxTotal:Number(T?.taxTotal)||null,physicianCertified:!!(T?.physicianCertificationAccepted??T?.physicianCertified??!1),wooOrderNumber:U?String(U):null,wooOrderId:H?String(H):null,expectedShipmentWindow:T?.expectedShipmentWindow??null};Ws.current=Z,li(de=>{const Ae=Z.number?String(Z.number).trim():"",_e=String(Z.id||"").trim();return de.some(Ye=>{const vt=Ye.number?String(Ye.number).trim():"",Ue=Ye.id?String(Ye.id).trim():"";return Ae&&vt&&vt===Ae||_e&&Ue&&Ue===_e})?de:[Z,...de]})}catch{}return await Gn().catch(()=>{}),O}catch(O){console.error("[Checkout] Failed",{error:O});const T=O?.message==="Request failed"?"Unable to complete purchase. Please try again.":O?.message??"Unable to complete purchase. Please try again.";throw new Error(T)}},V9=()=>{console.debug("[Checkout] Require login triggered"),d(!1),st(h=>h+1),Rt(!0),Vt("checkout"),Pp("login"),QueueMicrotask(()=>window.scrollTo({top:0,behavior:"smooth"}))},G9=()=>{console.debug("[Intro] Advance from welcome",{shouldReopenCheckout:Me}),mt(!1),Me&&(d(!0),Rt(!1))},K9=(h,x)=>{console.debug("[Cart] Update quantity",{cartItemId:h,quantity:x});const S=Math.max(1,Math.floor(x||1));l(C=>C.map(I=>I.id===h?{...I,quantity:S}:I))},Y9=h=>{console.debug("[Cart] Remove item",{cartItemId:h}),l(x=>x.filter(S=>S.id!==h))},KA=async(h,x=0)=>{try{await ja.submitDoctorReferral(h)}catch(S){const C=typeof S?.status=="number"?S.status:null,I=typeof S?.message=="string"?S.message:"",z=I.toUpperCase(),A=I==="Failed to fetch"||z.includes("NETWORKERROR")||z.includes("NETWORK_ERROR"),O=C!==null&&C>=500;if(x===0&&(A||O)){console.warn("[Referral] Transient submission failure detected, warming API then retrying",{statusCode:C,message:I});try{await Promise.race([Ip(),new Promise(T=>setTimeout(T,1e3))])}catch{}await new Promise(T=>setTimeout(T,350)),await KA(h,x+1);return}throw S}},X9=async h=>{if(h.preventDefault(),!(!r||!Ti(r.role))){if(!Ro.contactName.trim()){Ku({type:"error",message:"Please provide the doctors name before submitting."});return}try{Ei(!0),Ku(null),await KA({contactName:Ro.contactName.trim(),contactEmail:Ro.contactEmail.trim()||void 0,contactPhone:Ro.contactPhone.trim()||void 0,notes:Yn(Ro.notes)||void 0}),Ku({type:"success",message:"Referral sent to your representative."}),Vu({contactName:"",contactEmail:"",contactPhone:"",notes:""}),Ri(""),await at("doctor-referral-submit",{showLoading:!0})}catch(x){console.warn("[Referral] Submission failed",x),Ku({type:"error",message:"Unable to submit referral. Please try again."})}finally{Ei(!1)}}},vw=async(h,x)=>{if(!(!r||!vr(r.role)&&!dt(r.role)))try{Ir(C=>({...C,updatingReferral:h,error:null}));const S=await ja.updateReferral(h,{status:x});bo(C=>{if(!C)return C;const I=S?.referral,z=S?.statuses??C.statuses;if(!I)return{...C,statuses:z};const A=C.referrals.map(O=>O.id===I.id?I:O);return{...C,referrals:A,statuses:z}}),await at("referral-status-update",{showLoading:!0,force:!0})}catch(S){console.warn("[Referral] Update referral status failed",S),Ir(C=>({...C,error:typeof S?.message=="string"&&S.message?S.message:"Unable to update referral status. Please try again."}))}finally{Ir(S=>({...S,updatingReferral:null}))}},YA=y.useCallback(async h=>{if(window.confirm("Delete this manual prospect? This will remove them permanently."))try{Ir(x=>({...x,updatingReferral:h,error:null})),await ja.deleteManualProspect(h),Xe.success("Manual prospect deleted."),await at("manual-prospect-delete",{showLoading:!1,force:!0})}catch(x){console.error("[Referral] Manual prospect delete failed",x);const S=typeof x?.message=="string"&&x.message?x.message:"Unable to delete manual prospect right now.";Ir(C=>({...C,error:S})),Xe.error(S)}finally{Ir(x=>({...x,updatingReferral:null}))}},[at]),Q9=()=>{if(!r||!Ti(r.role))return null;const h=Ll?.totalCredits??0,x=Ll?.availableCredits??Number(r.referralCredits??0);Ll?.firstOrderBonuses;const S=r.totalReferrals??nl.length??0,C=Ll?.ledger??[],z=(()=>{if(!C.length)return[];const T=C.filter(U=>(U.direction||"credit").toLowerCase()==="credit"&&Number(U.amount)>0).map(U=>({entry:U,remaining:Number(U.amount)||0,isUsed:!1}));if(!T.length)return[];const W=T.slice().sort((U,ee)=>new Date(U.entry.issuedAt).getTime()-new Date(ee.entry.issuedAt).getTime());return C.filter(U=>(U.direction||"").toLowerCase()==="debit"&&Number(U.amount)>0).sort((U,ee)=>new Date(U.issuedAt).getTime()-new Date(ee.issuedAt).getTime()).forEach(U=>{let ee=Math.abs(Number(U.amount)||0);if(!(ee<=0))for(const K of W){if(K.remaining<=0)continue;const ge=Math.min(K.remaining,ee);if(K.remaining-=ge,ee-=ge,K.remaining<=1e-9&&(K.isUsed=!0),ee<=1e-9)break}}),T.map(({entry:U,isUsed:ee})=>({...U,isUsed:ee}))})().slice().sort((T,W)=>new Date(W.issuedAt).getTime()-new Date(T.issuedAt).getTime()).slice(0,5),A=T=>{const W="group glass-card referral-pill squircle-xl flex w-full items-center justify-between gap-4 pr-5 py-4 text-left transition-all",H=T?`${W} shadow-md`:`${W} shadow-[0_18px_48px_-28px_rgba(95,179,249,0.8)] hover:shadow-[0_20px_52px_-24px_rgba(95,179,249,0.85)]`;return s.jsxs("button",{type:"button",className:H,onClick:()=>dw(U=>!U),"aria-expanded":T,"aria-label":T?"Collapse Referral Rewards Hub":"Expand Referral Rewards Hub",style:{borderWidth:"2px",borderColor:"var(--brand-glass-border-2)",paddingLeft:"1rem",borderRadius:"var(--squircle-xl)"},children:[s.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0 pl-4 ml-2",children:[s.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 text-slate-600 transition-all duration-300 group-hover:bg-slate-200 ${T?"shadow-inner":""}`,children:s.jsx(eb,{className:"h-4 w-4",style:{transform:T?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)",transformOrigin:"center"}})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Referral Rewards Hub"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Invite doctors & track credited referrals"})]})]}),s.jsxs("div",{className:"flex flex-1 items-center justify-end gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),s.jsx("p",{className:"text-lg font-medium text-slate-700",children:"Refer your colleagues"})]})]})},O=()=>s.jsx("div",{className:"overflow-hidden transition-all duration-500 ease-in-out",style:{maxHeight:hl?"5000px":"0",opacity:hl?1:0},children:s.jsxs("div",{className:"px-4 sm:px-8 lg:px-16 pb-8 space-y-8 squircle-xl",style:{padding:"1rem 1rem 1rem"},children:[Lg&&s.jsx("div",{className:"px-4 py-3 text-sm text-red-700",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{children:Lg})]})}),s.jsxs("form",{className:"glass-strong squircle-lg p-4 sm:p-6 lg:p-8 mx-0 sm:mx-5 shadow-sm space-y-3 w-full",onSubmit:X9,children:[s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",htmlFor:"referral-contact-name",children:"Colleague Name *"}),s.jsx("input",{id:"referral-contact-name",type:"text",required:!0,value:Ro.contactName,onChange:T=>Vu(W=>({...W,contactName:T.target.value})),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",htmlFor:"referral-contact-email",children:"Email"}),s.jsx("input",{id:"referral-contact-email",type:"email",value:Ro.contactEmail,onChange:T=>Vu(W=>({...W,contactEmail:T.target.value})),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",htmlFor:"referral-contact-phone",children:"Phone"}),s.jsx("input",{id:"referral-contact-phone",type:"tel",value:Ro.contactPhone,onChange:T=>Vu(W=>({...W,contactPhone:T.target.value})),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",htmlFor:"referral-notes",children:"Notes"}),s.jsx("textarea",{id:"referral-notes",value:Ro.notes,onChange:T=>Vu(W=>({...W,notes:T.target.value})),className:"w-full min-h-[70px] rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),s.jsxs("div",{className:"pt-1 flex w-full flex-col items-start justify-end gap-3 text-left sm:flex-row sm:flex-nowrap sm:items-center sm:justify-end sm:text-right",children:[s.jsx("p",{className:"text-sm text-slate-600 max-w-[28ch] sm:max-w-[26ch]",children:"Your representative will credit you $50 each time your new referee has completed their first checkout."}),s.jsx(Je,{type:"submit",disabled:To,className:"glass-brand squircle-sm transition-all duration-300 hover:scale-105 hover:-translate-y-0.5 active:translate-y-0",children:To?"Submitting":"Submit Referral"}),Gu&&s.jsx("span",{className:`text-sm ${Gu.type==="success"?"text-emerald-600":"text-red-600"}`,children:Gu.message})]})]}),s.jsxs("div",{className:"mt-8 grid gap-6 md:grid-cols-2 w-full max-w-none px-1 sm:px-5",children:[s.jsxs("div",{className:"glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] p-8 shadow-xl space-y-6 w-full max-w-none",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center squircle-sm bg-emerald-100",children:s.jsx("svg",{className:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Your Referrals"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Total Referrals"}),s.jsx("p",{className:"text-lg font-bold text-emerald-600",children:S})]}),zc&&s.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading"]})]})]}),nl.length===0?s.jsxs("div",{className:"text-center py-8 glass-strong squircle-md",children:[s.jsx("div",{className:"flex justify-center mb-3",children:s.jsx("div",{className:"flex h-12 w-12 items-center justify-center squircle-sm bg-slate-100",children:s.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})}),s.jsx("p",{className:"text-sm text-slate-600",children:"No referrals yet"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Submit your first referral above to get started"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"referral-toolbar",children:[s.jsx("div",{className:"referral-toolbar__search",children:s.jsx("input",{type:"search",value:ny,onChange:T=>Ri(T.target.value),placeholder:"Search by name or email","aria-label":"Search referrals",className:"referral-search-input"})}),s.jsxs(Je,{type:"button",variant:"outline",size:"sm",onClick:b,"aria-pressed":yf==="desc",className:"referral-sort-toggle",children:[s.jsx(gq,{className:"h-4 w-4 mr-2"}),j]})]}),s.jsx("div",{className:"referrals-table-scroll",children:s.jsx("div",{className:"referrals-table-container glass-card squircle-xl",children:ih.length===0?s.jsxs("div",{className:"referrals-empty-state",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"No referrals match your search."}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Try adjusting your filters or search terms."})]}):s.jsxs("div",{className:"referrals-table",role:"table","aria-label":"Your referrals",children:[s.jsxs("div",{className:"referrals-table__header",role:"row",children:[s.jsx("span",{role:"columnheader",children:"Colleague"}),s.jsx("span",{role:"columnheader",children:"Submitted"}),s.jsx("span",{role:"columnheader",children:"Status"}),s.jsx("span",{role:"columnheader",children:"Actions"})]}),s.jsx("div",{className:"referrals-table__body",role:"rowgroup",children:ih.map(T=>{const W=pw.get(T.id),H=Tp(T.status??"pending"),U=W?"Credited":H,ee=!W&&H==="Converted",K=Rs(T.status)==="pending";return s.jsxs("div",{className:"referrals-table__row",role:"row",children:[s.jsx("div",{className:"referrals-table__cell",role:"cell","data-label":"Colleague",children:s.jsxs("div",{className:"referral-contact",children:[s.jsx("span",{className:"referral-contact__name",children:T.referredContactName}),(T.referredContactEmail||T.referredContactPhone)&&s.jsx("span",{className:"referral-contact__meta",children:T.referredContactEmail||T.referredContactPhone})]})}),s.jsxs("div",{className:"referrals-table__cell referrals-table__cell--date",role:"cell","data-label":"Submitted",children:[s.jsx("span",{className:"referral-date",children:En(T.createdAt)}),s.jsxs("span",{className:"referral-date-updated",children:["Updated"," ",Gt(T.updatedAt??T.createdAt)]})]}),s.jsx("div",{className:"referrals-table__cell",role:"cell","data-label":"Status",children:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"referral-status-badge",children:U}),ee&&s.jsx("span",{className:"text-xs text-amber-600 font-medium mt-1",children:"Awaiting credit"}),T.notes&&s.jsx("p",{className:"text-xs text-slate-500 mt-2 max-w-[220px]",children:T.notes})]})}),s.jsx("div",{className:"referrals-table__cell referrals-table__cell--actions",role:"cell","data-label":"Actions",children:K?s.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>Ft(T.id),disabled:Am===T.id,children:Am===T.id?"Deleting":"Delete"}):s.jsx("span",{className:"text-xs text-slate-500",children:"Cannot delete after the Pending status."})})]},T.id)})})]})})})]})]}),s.jsxs("div",{className:"glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] p-8 shadow-xl min-w-0 space-y-6 w-full max-w-none",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center squircle-sm bg-amber-100",children:s.jsx("svg",{className:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Your Credits"})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-4 text-right",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Total Credits"}),s.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:["$",h.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Available Credits"}),s.jsxs("p",{className:"text-lg font-bold text-[rgb(95,179,249)]",children:["$",x.toFixed(2)]})]}),z.length>0&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-slate-100 px-2.5 py-1 text-xs font-medium text-slate-600",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),z.length," recent"]})]})]}),z.length===0?s.jsxs("div",{className:"text-center py-8 glass-strong squircle-md",children:[s.jsx("div",{className:"flex justify-center mb-3",children:s.jsx("div",{className:"flex h-12 w-12 items-center justify-center squircle-sm bg-slate-100",children:s.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})}),s.jsx("p",{className:"text-sm text-slate-600",children:"No credit activity yet"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Credits appear after your referrals place their first order"})]}):s.jsx("ul",{className:"space-y-4",children:z.map(T=>{const W=T.metadata||{},H=typeof W.referralContactName=="string"?W.referralContactName:null,U=H?`Credited for ${H}`:T.description||"Credit applied",ee=!!T.isUsed,K=ee?"text-lg font-bold text-slate-500 line-through decoration-slate-400":"text-lg font-bold text-emerald-600",ge=ee?"text-sm text-slate-500 leading-relaxed":"text-sm text-slate-600 leading-relaxed";return s.jsx("li",{className:`group relative glass-strong squircle-md px-6 py-6 shadow-sm transition-all hover:shadow-md ${ee?"bg-slate-50/90 text-slate-500":""}`,children:s.jsxs("div",{className:"relative flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-baseline gap-2 mb-1",children:s.jsxs("span",{className:K,children:["$",T.amount.toFixed(2)]})}),s.jsx("p",{className:ge,children:U})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[ee&&s.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-widest text-slate-500",children:"Used"}),s.jsx("span",{className:"text-xs font-medium text-slate-500 whitespace-nowrap",children:En(T.issuedAt)})]})]})},T.id)})})]})]})]})});return s.jsx("section",{className:"grid gap-6 mb-16 mt-0",children:s.jsxs("div",{className:`glass-card squircle-xl referral-pill-wrapper transition-all duration-500 ${hl?"pb-8 shadow-[0_30px_80px_-65px_rgba(95,179,249,0.8)]":"shadow-[0_18px_48px_-28px_rgba(95,179,249,0.8)] hover:shadow-[0_20px_52px_-24px_rgba(95,179,249,0.85)]"}`,style:{borderRadius:"var(--squircle-xl)"},children:[A(hl),O()]})})},XA=()=>{const h=re.trim(),S=[{key:"count",label:sy.length===1?"1 item":`${sy.length} items`}];h.length>0&&S.push({key:"search",label:`Search  ${h}`}),vi&&S.push({key:"loading",label:"loading-icon"});const C=typeof eo=="number"&&Date.now()<eo;Do&&!C&&S.push({key:"error",label:"Store sync issue"}),!Do&&eh&&!vi&&C&&S.push({key:"reconnecting",label:"Reconnecting"});const I=(vi||yr.length===0&&!rd||C)&&sy.length===0,z=Array.from({length:6});return s.jsxs("div",{className:"products-layout mt-24",children:[s.jsx("div",{ref:Xt,className:"filter-sidebar-container lg:min-w-[18rem] lg:max-w-[24rem] xl:min-w-[20rem] xl:max-w-[26rem] lg:pl-4 xl:pl-6",children:fh.length>0?s.jsx(WU,{categories:fh,types:[],filters:Kn,onFiltersChange:Md,productCounts:eF,typeCounts:{},tagSections:bw}):s.jsx("div",{className:'glass-card squircle-lg px-10 py-8 lg:px-16 lg:py-10 text-sm text-slate-700 text-center font-["Lexend",_var(--font-sans)]',"aria-live":"polite",children:s.jsxs("p",{className:"mx-auto max-w-sm leading-relaxed",children:[s.jsx("span",{className:"text-base text-slate-900 block mb-1",children:"Fetching Products"}),s.jsx("span",{className:"text-sm text-slate-800 block",children:"No better time to take a few conscious breaths..."})]})})}),s.jsxs("div",{className:"w-full min-w-0 flex-1",children:[s.jsxs("div",{className:"flex flex-col gap-3 mb-6 lg:flex-row lg:flex-nowrap lg:items-center",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 flex-1 min-w-0 order-2 lg:order-1",children:[s.jsx("h2",{className:"mr-1",children:"Products"}),s.jsx("div",{className:"flex flex-wrap items-center gap-2",children:S.map(A=>{const O=A.label==="loading-icon";return s.jsx("span",{className:`filter-chip glass-card${A.tone?` filter-chip--${A.tone}`:""}`,children:O?s.jsx(OL,{className:"h-3 w-3.1 animate-spin text-[rgb(30,41,59)]","aria-hidden":"true"}):s.jsx("span",{className:"whitespace-nowrap",children:A.label})},A.key)})})]}),s.jsx("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 ml-auto min-w-[min(100%,220px)] justify-start order-1 lg:order-2 lg:justify-end",children:ph>0&&s.jsxs(Je,{variant:"ghost",onClick:()=>d(!0),ref:hw,className:"squircle-sm glass-brand shadow-lg shadow-[rgba(95,179,249,0.4)] transition-all duration-300 hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 px-5 py-2 min-w-[8.5rem] justify-center w-full sm:w-auto",children:[s.jsx(Bh,{className:"w-4 h-4 mr-2"}),J||m?`Proposal (${ph})`:`Checkout (${ph})`]})})]}),I?s.jsx("div",{className:"grid gap-6 w-full px-4 sm:px-6 lg:px-0 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3",children:z.map((A,O)=>s.jsx(L9,{},`catalog-skeleton-${O}`))}):sy.length>0?s.jsx("div",{className:"grid gap-6 w-full px-4 sm:px-6 lg:px-0 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3",children:sy.map(A=>s.jsx(vue,{product:A,pricingMarkupPercent:G,proposalMode:J||m,onEnsureVariants:Rn,onAddToCart:(O,T,W)=>VA(O,W,void 0,T)},A.id))}):s.jsx("div",{className:"catalog-loading-state py-12",children:s.jsxs("div",{className:"glass-card squircle-lg p-8 max-w-md text-center",children:[s.jsx("h3",{className:"mb-2",children:vi||C||yr.length===0&&!rd?"Fetching products":"No products found"}),s.jsx("p",{className:"text-gray-600",children:vi||C||yr.length===0&&!rd?C?"Reconnecting to store":"Please wait while we load the catalog.":"Try adjusting your filters or search terms."})]})})]})]})},Z9=()=>{if(!r||!vr(r.role)&&!Sn(r.role)&&!dt(r.role))return null;const h=Ma;h.length;const x=new Set(["pending","contacted","nuture"]);h.filter(A=>x.has((A.status||"").toLowerCase())).length,h.filter(A=>(A.status||"").toLowerCase()==="converted").length;const S=p.some(A=>A.count>0),C=(()=>{const A=Ba?En(Ba):null,O=ua?En(ua):null;return A&&O&&A!==""&&O!==""?`${A} to ${O}`:"All time"})(),I=A=>{Pm(A),A?.from&&A?.to&&(ki(su(A.from)),Oo(su(A.to)))},z=qu||Wu||Yi;return s.jsxs("section",{className:"glass-card squircle-xl p-4 sm:p-6 shadow-[0_30px_80px_-55px_rgba(95,179,249,0.6)] w-full sales-rep-dashboard",children:[s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:dt(r?.role)?"Admin Dashboard":Sn(r?.role)?"Sales Lead Dashboard":"Sales Rep Dashboard"}),s.jsx("p",{className:"text-sm text-slate-600",children:dt(r?.role)?"Monitor PepPro business activities, sales reps, and keep track of your sales.":"Develop your leads and sales."})]}),dt(r?.role)&&s.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:flex-wrap sm:items-center",children:[s.jsxs("a",{href:"https://shop.peppro.net/wp-admin/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex w-full min-w-0 items-center justify-center gap-2 rounded-md border border-slate-200 bg-white/80 px-3 py-2 text-sm font-semibold text-slate-900 transition-colors hover:border-[rgba(95,179,249,0.65)] hover:bg-white sm:w-auto",title:"Open Woocommerce dashboard",children:[s.jsx("img",{src:"/logos/woocommerce.svg",alt:"","aria-hidden":"true",className:"h-5 w-5",loading:"lazy",decoding:"async"}),s.jsx("span",{children:"Woocommerce dashboard"})]}),s.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex w-full min-w-0 items-center justify-center gap-2 rounded-md border border-slate-200 bg-white/80 px-3 py-2 text-sm font-semibold text-slate-900 transition-colors hover:border-[rgba(95,179,249,0.65)] hover:bg-white sm:w-auto",title:"Open ShipStation Dashboard",children:[s.jsx("img",{src:"/logos/shipstation.svg",alt:"","aria-hidden":"true",className:"h-5 w-5",loading:"lazy",decoding:"async"}),s.jsx("span",{children:"ShipStation Dashboard"})]})]})]}),(vr(r?.role)||Sn(r?.role))&&s.jsx("div",{className:"glass-card squircle-xl p-4 sm:p-6 border border-slate-200/70",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Live clients"}),s.jsx("p",{className:"text-sm text-slate-600",children:Sn(r?.role)?"All doctors and sales reps (online, idle, and offline).":"Your doctors (online, idle, and offline)."})]}),Wg&&s.jsx("div",{className:"px-4 py-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md",children:Wg}),Zs?s.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Loading live clients"}):(()=>{const A=Wm.trim().toLowerCase(),O=(Fm||[]).filter(U=>{const ee=U?.isSimulated===!0,K=String(U?.id||"");if(ee||K.startsWith("pseudo-live-"))return!1;if(Sn(r?.role)&&Zu!=="all"){const Z=String(U?.role||"").toLowerCase().trim();if(Zu==="sales_rep"){if(!["sales_rep","salesrep","rep","sales_lead","saleslead","sales-lead"].includes(Z))return!1}else if(Zu==="doctor"){if(Z!=="doctor")return!1}else if(Zu==="test_doctor"){if(Z!=="test_doctor")return!1}else if(Z!==Zu)return!1}return!zm&&!U?.isOnline?!1:A?[U?.name,U?.email,U?.id].filter(Boolean).join(" ").toLowerCase().includes(A):!0}),T=U=>{if(!U)return 0;const ee=!!U?.isOnline,K=!!U?.isIdle;if(ee&&!K)return Date.now();const ge=U?.lastInteractionAt||U?.lastSeenAt||U?.lastActivityAt||U?.lastActiveAt||U?.lastLoginAt||null;if(!ge)return 0;const Z=new Date(ge).getTime();return Number.isFinite(Z)?Z:0},W=[...O].sort((U,ee)=>{const K=T(U),ge=T(ee);if(K!==ge)return ge-K;const Z=String(U?.name||U?.email||U?.id||"").toLowerCase(),de=String(ee?.name||ee?.email||ee?.id||"").toLowerCase();return Z.localeCompare(de)}),H=W.filter(U=>!!U?.isOnline).length;return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 px-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",className:"brand-checkbox",checked:zm,onChange:U=>Jv(U.target.checked)}),"Show offline"]}),s.jsxs("span",{className:"text-xs text-slate-500",children:[H," online"]}),Sn(r?.role)&&s.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-600",children:[s.jsx("span",{className:"uppercase tracking-wide text-[11px] text-slate-500",children:"Type"}),s.jsxs("select",{value:Zu,onChange:U=>Hg(U.target.value),className:"rounded-md border border-slate-200/80 bg-white/95 px-2 py-1 text-xs font-medium text-slate-700 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"sales_rep",children:"Sales Rep"}),s.jsx("option",{value:"doctor",children:"Doctors"}),s.jsx("option",{value:"test_doctor",children:"Test doctors"})]})]})]}),s.jsx("input",{value:Wm,onChange:U=>e0(U.target.value),onKeyDown:U=>{U.key==="Enter"&&U.preventDefault()},placeholder:Sn(r?.role)?"Search users":"Search clients",className:"w-full sm:w-[260px] rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]"})]}),s.jsx("div",{className:`sales-rep-table-wrapper ${W.length===0?"":"live-users-scroll"}`,children:s.jsx("div",{className:"flex w-full min-w-0 flex-col gap-2",children:W.length===0?s.jsx("div",{className:"px-3 py-3 text-sm text-slate-500",children:Sn(r?.role)?"No users found.":"No clients found."}):s.jsx("div",{className:"flex w-full min-w-[900px] flex-col gap-2",children:W.map(U=>{const ee=U.profileImageUrl||null,K=U.name||U.email||"Doctor",Z=(()=>{const _t=U?.lastInteractionAt||U?.lastSeenAt||U?.lastActivityAt||U?.lastActiveAt||U?.lastLoginAt||null;if(!_t)return null;const je=new Date(_t).getTime();return Number.isFinite(je)?je:null})(),de=Z!=null?Math.max(0,(Date.now()-Z)/6e4):null,Ae=2,_e=!!U.isOnline,Oe=!!U.isIdle,Ye=_e,vt=Ye&&(Oe||de!=null&&de>=Ae),Ue=String(U?.role||"").toLowerCase().trim(),qe=Ue==="admin"?{label:"Admin",style:{backgroundColor:"rgb(61,43,233)",color:"#ffffff"}}:Ue==="sales_rep"||Ue==="salesrep"||Ue==="rep"?{label:"Sales Rep",style:{backgroundColor:"rgb(129,221,228)",color:"#ffffff"}}:Ue==="sales_lead"||Ue==="saleslead"||Ue==="sales-lead"?{label:"Sales Lead",style:{backgroundColor:"rgb(129,221,228)",color:"#ffffff"}}:Ue==="doctor"?{label:"Doctor",style:{backgroundColor:"rgb(95,179,249)",color:"#ffffff"}}:Ue==="test_doctor"?{label:"Test Doctor",style:{backgroundColor:"rgb(95,179,249)",color:"#ffffff"}}:null,ze=vt?Es(U):null,ct=_t=>{const je=cf(_t);return je==="a few moments ago"?"a few moments":je.replace(/\s+ago$/,"")},bt=U?.lastSeenAt||U?.lastInteractionAt||U?.lastLoginAt||null,pt=Ye?vt?`Idle${ze?` (${ze})`:""} - ${pp(U.lastLoginAt)}`:pp(U.lastLoginAt):bt?`Offline for ${ct(bt)}`:"Offline";return s.jsx("div",{className:"flex w-full items-center gap-3 rounded-lg border border-slate-200/70 bg-white/70 px-3 py-2",children:s.jsx("button",{type:"button",onClick:()=>Fl(U),"aria-label":`Open ${K} profile`,className:"min-w-0 flex-1",style:{background:"transparent",border:"none",padding:0},children:s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:"rounded-full shrink-0",style:{width:41.4,height:41.4,minWidth:41.4,boxShadow:Ye?vt?"0 0 0 1px rgba(255,255,255,1), 0 0 0 4px rgba(148,163,184,1)":"0 0 0 1px rgba(255,255,255,1), 0 0 0 4px rgba(95,179,249,1)":void 0},children:s.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm w-full h-full transition hover:shadow-md hover:border-slate-300",children:ee?s.jsx("img",{src:ee,alt:K,className:"h-full w-full object-cover",loading:"lazy",decoding:"async"}):s.jsx("span",{className:"text-[11px] font-semibold text-slate-600",children:Op(K)})})}),s.jsx("div",{className:"min-w-0 flex-1 overflow-hidden",children:s.jsxs("div",{className:"flex flex-col items-start gap-0.5 text-left",children:[qe&&s.jsx("span",{className:"inline-flex items-center squircle-xs px-2 py-[2px] text-sm font-semibold shrink-0 self-start whitespace-nowrap",style:qe.style,children:qe.label}),s.jsx("span",{className:"text-sm font-semibold text-slate-800 whitespace-nowrap",children:K}),s.jsx("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:U.email||""}),s.jsx("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:pt})]})})]})})},U.id)})})})})]})})()]})}),Sn(r?.role)&&s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"glass-card squircle-xl p-4 sm:p-6 border border-slate-200/70",children:[s.jsx("div",{className:"flex flex-col gap-3 mb-4",children:s.jsxs("div",{className:"sales-rep-header-row flex w-full flex-col gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Sales by Sales Rep"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Orders placed by doctors assigned to each rep."})]}),s.jsx("div",{className:"sales-rep-header-actions flex flex-row flex-wrap justify-end gap-4",children:s.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-col items-end justify-end gap-2 sm:!flex-col sm:items-end sm:gap-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[s.jsxs(P0,{open:Qd,onOpenChange:xn,children:[s.jsx(A0,{asChild:!0,children:s.jsx(Je,{type:"button",variant:"outline",size:"icon",className:"header-home-button squircle-sm h-9 w-9 shrink-0","aria-label":"Select sales by rep date range",title:"Select date range",children:s.jsx(S0,{"aria-hidden":"true"})})}),s.jsx(k0,{children:s.jsxs(E0,{side:"bottom",align:"end",sideOffset:8,className:"calendar-popover z-[10000] w-[320px] glass-liquid rounded-xl border border-white/60 p-3 shadow-xl",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Sales by Sales Rep timeframe"}),s.jsx("div",{className:"mt-2",children:s.jsx(R0,{mode:"range",numberOfMonths:1,selected:Wl,onSelect:I,defaultMonth:Wl?.from??void 0})}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsx(Je,{type:"button",variant:"ghost",size:"sm",className:"text-slate-700",onClick:()=>{const A=fd();ki(A.start),Oo(A.end)},children:"Default"}),s.jsx(Je,{type:"button",variant:"outline",size:"sm",className:"calendar-done-button text-[rgb(95,179,249)] border-[rgba(95,179,249,0.45)] hover:border-[rgba(95,179,249,0.7)] hover:text-[rgb(95,179,249)]",onClick:()=>{Jn(),xn(!1)},children:"Done"})]}),s.jsx(O0,{className:"calendar-popover-arrow"})]})})]}),s.jsxs("span",{className:"text-sm font-semibold text-slate-900 min-w-0 leading-tight truncate",children:["(",C,")"]}),s.jsx(Je,{type:"button",variant:"outline",size:"sm",className:"header-home-button squircle-sm bg-white text-slate-900",onClick:()=>void Hl(),disabled:qu,"aria-busy":qu,title:"Refresh",children:qu?"Refreshing":"Refresh"})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[s.jsxs(Je,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:Bc,disabled:ar.length===0,title:"Download CSV",children:[s.jsx(Py,{className:"h-4 w-4","aria-hidden":"true"}),"Download CSV"]}),s.jsx("span",{className:"sales-rep-action-meta min-w-0 text-[11px] text-slate-500 leading-tight text-right",children:s.jsxs("span",{className:"block min-w-0 truncate",children:["Last downloaded:"," ",Uu?new Date(Uu).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""]})})]})]})})]})}),s.jsx("div",{className:"sales-rep-table-wrapper admin-dashboard-list p-0 overflow-x-auto no-scrollbar",role:"region","aria-label":"Sales by sales rep list",children:Yd?s.jsx("div",{className:"px-4 py-3 text-sm text-amber-700 mb-3 bg-amber-50 border border-amber-200 rounded-md",children:Yd}):qu?s.jsx("div",{className:"px-4 py-3 text-sm mb-3 text-slate-500",children:"Checking sales"}):xm===null?s.jsx("div",{className:"px-4 py-3 text-sm mb-3 text-slate-500",children:"Click Refresh to load sales."}):ar.length===0?s.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No sales recorded yet."}):s.jsxs("div",{className:"w-full",style:{minWidth:920},children:[(()=>{const A=ds?.totals||null,O=A||{totalOrders:ar.reduce((W,H)=>W+(Number(H.totalOrders)||0),0),totalRevenue:ar.reduce((W,H)=>W+(Number(H.totalRevenue)||0),0),wholesaleRevenue:ar.reduce((W,H)=>W+(Number(H.wholesaleRevenue)||0),0),retailRevenue:ar.reduce((W,H)=>W+(Number(H.retailRevenue)||0),0)};return typeof O.totalOrders=="number"&&typeof O.totalRevenue=="number"?s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-1 bg-white/70 px-3 py-1.5 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:[s.jsxs("span",{children:["Total Orders: ",O.totalOrders]}),s.jsxs("span",{children:["Wholesale:"," ",Mt(Number(O.wholesaleRevenue)||0)]}),s.jsxs("span",{children:["Retail:"," ",Mt(Number(O.retailRevenue)||0)]})]}):null})(),s.jsxs("div",{className:"w-max",children:[s.jsxs("div",{className:"grid w-full items-center gap-2 border-x border-slate-200/70 bg-[rgba(95,179,249,0.08)] px-2 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700",style:{gridTemplateColumns:"minmax(120px,1fr) minmax(160px,1fr) max-content max-content max-content"},children:[s.jsx("div",{className:"whitespace-nowrap",children:"Sales Rep"}),s.jsx("div",{className:"whitespace-nowrap",children:"Email"}),s.jsx("div",{className:"whitespace-nowrap text-right",children:"Orders"}),s.jsx("div",{className:"whitespace-nowrap text-right",children:"Wholesale"}),s.jsx("div",{className:"whitespace-nowrap text-right",children:"Retail"})]}),s.jsx("ul",{className:"w-full border-x border-b border-slate-200/70 max-h-[420px] overflow-y-auto",children:ar.map(A=>s.jsxs("li",{className:"grid w-full items-center gap-2 px-2 py-1 border-b border-slate-200/70 last:border-b-0",style:{gridTemplateColumns:"minmax(120px,1fr) minmax(160px,1fr) max-content max-content max-content"},children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 min-w-0",children:s.jsx("button",{type:"button",className:"min-w-0 text-left hover:underline",onClick:()=>Fl({id:A.salesRepUserId||A.salesRepId,name:A.salesRepName,email:A.salesRepEmail,role:"sales_rep"},{salesRepWholesaleRevenue:Number(A.wholesaleRevenue||0),salesRepRetailRevenue:Number(A.retailRevenue||0)}),title:"Open sales rep details",children:A.salesRepName})}),s.jsx("div",{className:"text-sm text-slate-700 truncate",title:A.salesRepEmail||"",children:A.salesRepEmail||""}),s.jsx("div",{className:"text-sm text-right text-slate-800 tabular-nums whitespace-nowrap",children:A.totalOrders}),s.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums whitespace-nowrap",children:Mt(A.wholesaleRevenue||0)}),s.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums whitespace-nowrap",children:Mt(A.retailRevenue||0)})]},A.salesRepId))})]})]})})]})}),pl.error&&s.jsx("p",{className:"rounded-md border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700",children:pl.error}),dt(r?.role)&&s.jsxs("div",{className:"glass-card squircle-xl p-4 sm:p-6 border border-slate-200/70",children:[s.jsxs("div",{className:"mb-6 rounded-xl border border-slate-200/70 bg-white/70 p-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Server Health"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Quick usage snapshot (load, memory, disk)."})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>void Mm({force:!0}),disabled:Zv,className:"header-home-button squircle-sm bg-white text-slate-900",title:"Refresh server health",children:Zv?"Refreshing":"Refresh"})})]}),Qi&&s.jsx("div",{className:"mt-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md px-4 py-2",children:Qi}),s.jsx("div",{className:"sales-rep-table-wrapper admin-dashboard-list",children:s.jsx("div",{className:"flex w-max flex-nowrap gap-2 text-xs sm:w-full sm:flex-wrap",children:(()=>{const A=hi?.usage||null,O=A?.cpu||null,T=A?.memory||null,W=A?.disk||null,H=hi?.cgroup?.memory||null,U=hi?.uptime||null,ee=hi?.queue||null,K=typeof O?.usagePercent=="number"&&Number.isFinite(O.usagePercent)?`CPU usage: ${O.usagePercent}%`:null,ge=O?.loadPercent!==null&&O?.loadPercent!==void 0?`CPU load: ${O.loadPercent}%`:O?.loadAvg?`Load avg: ${O.loadAvg["1m"]??""}`:"CPU load: ",Z=T?.usedPercent!==null&&T?.usedPercent!==void 0?`Memory: ${T.usedPercent}%`:typeof T?.availableMb=="number"&&typeof T?.totalMb=="number"?`Memory: ${(100-T.availableMb/T.totalMb*100).toFixed(0)}%`:"Memory: ",de=W?.usedPercent!==null&&W?.usedPercent!==void 0?`Disk: ${W.usedPercent}%`:"Disk: ",Ae=typeof H?.usedPercent=="number"&&Number.isFinite(H.usedPercent)?`CGroup mem: ${H.usedPercent}%`:typeof H?.usageMb=="number"&&Number.isFinite(H.usageMb)&&typeof H?.limitMb=="number"&&Number.isFinite(H.limitMb)&&H.limitMb>0?`CGroup mem: ${H.usageMb.toFixed(0)}/${H.limitMb.toFixed(0)} MB`:null,_e=(()=>{const pt=A?.process?.maxRssMb??A?.process?.rssMb??null;return typeof pt=="number"&&Number.isFinite(pt)?`App RSS: ${pt.toFixed(0)} MB`:"App RSS: "})(),Oe=(()=>{const pt=hi?.mysql?.enabled;return typeof pt=="boolean"?pt?"MySQL: enabled":"MySQL: disabled":null})(),Ye=(()=>{const pt=ee?.length;return typeof pt=="number"&&Number.isFinite(pt)?`Queue: ${pt}`:null})(),vt=(()=>{const pt=U?.serviceSeconds;if(typeof pt=="number"&&Number.isFinite(pt)){const _t=Math.floor(pt/60);if(_t<60)return`Backend uptime: ${_t}m`;const je=Math.floor(_t/60),Dt=_t%60;if(je<24)return`Backend uptime: ${je}h ${Dt}m`;const it=Math.floor(je/24),ft=je%24;return`Backend uptime: ${it}d ${ft}h`}return null})(),Ue=hi?.build?`Build: ${hi.build}`:null,qe=hi?.timestamp?`Updated: ${new Date(hi.timestamp).toLocaleTimeString()}`:null,ze=(()=>{const pt=hi?.workers,_t=pt?.detected,je=pt?.configured;return typeof _t=="number"&&_t>0?`Backend workers: ${_t}${je?` (target ${je})`:""}`:typeof je=="number"&&je>0?`Backend workers: target ${je}`:null})(),ct=(()=>{const pt=hi?.workers?.gunicorn;if(!pt)return null;const _t=[];return typeof pt.workers=="number"&&_t.push(`${pt.workers}w`),typeof pt.threads=="number"&&_t.push(`${pt.threads}t`),typeof pt.timeoutSeconds=="number"&&_t.push(`timeout ${pt.timeoutSeconds}s`),_t.length?`Gunicorn: ${_t.join(" ")}`:null})();return[K,ge,Z,de,Ae,_e,ze,ct,Ye,Oe,vt,Ue,qe].filter(pt=>typeof pt=="string"&&pt.trim().length>0).map(pt=>s.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-slate-700",children:pt},pt))})()})})]}),!Kl&&s.jsx("div",{className:"mb-6 rounded-xl border border-slate-200/70 bg-white/70 p-4",children:s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Certificates of Analysis"}),s.jsx("p",{className:"text-sm text-slate-600",children:uf?"Checking certificates":df?"Unable to load certificate status.":"All products have a certificate. (You can still view/delete/upload replacements.)"})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Je,{type:"button",variant:"outline",onClick:()=>mp(!0),className:"gap-2",children:"Show certificate uploads"})})]})}),Kl&&s.jsxs("div",{className:"mb-6 rounded-xl border border-slate-200/70 bg-white/70 p-4",children:[s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Certificates of Analysis"}),s.jsx("p",{className:"text-sm text-slate-600",children:df?"Unable to load missing certificate count.":Ju.length>0?`${Ju.length} product${Ju.length===1?"":"s"} missing a certificate.`:"All products currently have a certificate."})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>{fl({force:!0}),Xl({force:!0})},disabled:uf||Gc,className:"header-home-button squircle-sm bg-white text-slate-900",title:"Refresh certificates",children:uf||Gc?"Refreshing":"Refresh"})})]}),(df||Km)&&s.jsx("div",{className:"mt-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md px-4 py-2",children:Km||df}),Gc&&hp.length===0&&s.jsx("div",{className:"mt-3 px-4 py-3 text-sm text-slate-500",children:"Loading products"}),(hp.length>0||Ju.length>0)&&s.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-[1fr_auto_auto] md:items-end",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Product"}),s.jsx("select",{value:Zi,onChange:A=>{yp(A.target.value),Kc(null)},disabled:Gc,className:"w-full rounded-lg border border-slate-200 bg-white/80 px-3 py-2 text-sm text-slate-800 outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",children:(hp.length>0?hp:Ju).map(A=>{const O=String(A.wooProductId),T=[A.name&&String(A.name).trim().length>0?String(A.name).trim():`Product ${O}`,A.sku?`SKU ${A.sku}`:null,A.hasCertificate?"Has certificate":"Missing"].filter(W=>typeof W=="string"&&W.trim().length>0);return s.jsx("option",{value:O,children:T.join("  ")},O)})})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("label",{className:"text-xs font-medium text-slate-600",children:"PNG certificate"}),s.jsx(Je,{type:"button",variant:"ghost",size:"icon",onClick:()=>void Za(),disabled:uw||xa||Yl||!Ym?.exists,title:"Delete current certificate",className:"h-8 w-8",children:s.jsx(u_,{className:"h-4 w-4 text-slate-700"})})]}),s.jsx("div",{className:"text-xs text-slate-500",children:Yl?"Current: Loading":s0?"Current: ":Ym?.exists?`Current: ${Ym.filename||"certificate-of-analysis.png"}`:"Current: None"}),s.jsx("input",{type:"file",accept:"image/png",onChange:A=>{const O=A.target.files?.[0]??null;Kc(O)},disabled:xa,className:"w-full rounded-lg border border-slate-200 bg-white/80 px-3 py-2 text-sm text-slate-700 file:mr-4 file:rounded-md file:border-0 file:bg-slate-100 file:px-3 file:py-2 file:text-sm file:font-medium file:text-slate-700 hover:file:bg-slate-200"})]}),s.jsxs(Je,{type:"button",onClick:()=>void wa(),disabled:xa||!Zi||!ff,className:"gap-2",children:[xa?s.jsx(Fp,{className:"h-4 w-4 animate-spin"}):s.jsx(w7,{className:"h-4 w-4"}),"Upload"]})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Settings"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Configure storefront availability."})]})}),s.jsxs("div",{className:"mb-4 overflow-hidden rounded-lg border border-slate-200/70 bg-white/70",children:[s.jsx("div",{className:"border-b border-slate-200/60 px-4 py-4 last:border-b-0",children:s.jsxs("label",{className:`flex items-start gap-3 ${dt(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[s.jsx("input",{type:"checkbox","aria-label":"Enable Shop for users",checked:lp,onChange:A=>Hv(A.target.checked),className:"brand-checkbox mt-0.5",disabled:!dt(r.role)||Io.shop}),s.jsxs("span",{className:"min-w-0",children:[s.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[s.jsx("span",{children:"Shop button for users"}),s.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",Io.shop?"Saving":lp?"Enabled":"Disabled",")"]})]}),s.jsx("span",{className:"block text-xs text-slate-600",children:"Controls whether doctors see the Shop button."})]})]})}),s.jsx("div",{className:"border-b border-slate-200/60 px-4 py-4 last:border-b-0",children:s.jsxs("label",{className:`flex items-start gap-3 ${dt(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[s.jsx("input",{type:"checkbox","aria-label":"Enable Patient Links tab for doctors",checked:Tm,onChange:A=>kc(A.target.checked),className:"brand-checkbox mt-0.5",disabled:!dt(r.role)||Io.patientLinks}),s.jsxs("span",{className:"min-w-0",children:[s.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[s.jsx("span",{children:"Patient Links tab (doctors)"}),s.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",Io.patientLinks?"Saving":Tm?"Enabled":"Disabled",")"]})]}),s.jsx("span",{className:"block text-xs text-slate-600",children:"When disabled, only test doctors can access Patient Links."})]})]})}),s.jsx("div",{className:"border-b border-slate-200/60 px-4 py-4 last:border-b-0",children:s.jsxs("label",{className:`flex items-start gap-3 ${dt(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[s.jsx("input",{type:"checkbox","aria-label":"Enable The Peptide Forum card",checked:dn,onChange:A=>gm(A.target.checked),className:"brand-checkbox mt-0.5",disabled:!dt(r.role)||Io.forum}),s.jsxs("span",{className:"min-w-0",children:[s.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[s.jsx("span",{children:"The Peptide Forum card"}),s.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",Io.forum?"Saving":dn?"Enabled":"Disabled",")"]})]}),s.jsx("span",{className:"block text-xs text-slate-600",children:"Shows/hides the forum card on the info page."})]})]})}),s.jsx("div",{className:"border-b border-slate-200/60 px-4 py-4 last:border-b-0",children:s.jsxs("label",{className:`flex items-start gap-3 ${dt(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[s.jsx("input",{type:"checkbox","aria-label":"Enable Research dashboard for doctors and reps",checked:Im,onChange:A=>vo(A.target.checked),className:"brand-checkbox mt-0.5",disabled:!dt(r.role)||Io.research||!Fg.research}),s.jsxs("span",{className:"min-w-0",children:[s.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[s.jsx("span",{children:"Research dashboard access (doctors/reps)"}),s.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",Io.research?"Saving":Fg.research?Im?"Enabled":"Disabled":"Unavailable",")"]})]}),s.jsx("span",{className:"block text-xs text-slate-600",children:"When disabled, only admins and test doctors see the work-in-progress research dashboard."})]})]})}),s.jsx("div",{className:"px-4 py-4",children:s.jsxs("label",{className:`flex items-start gap-3 ${dt(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[s.jsx("input",{type:"checkbox","aria-label":"Enable test payments override",checked:$g,onChange:A=>Ng(A.target.checked),className:"brand-checkbox mt-0.5",disabled:!dt(r.role)||Io.testPaymentsOverride}),s.jsxs("span",{className:"min-w-0",children:[s.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[s.jsx("span",{children:"Test payments override ($0.01)"}),s.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",Io.testPaymentsOverride?"Saving":$g?"Enabled":"Disabled",")"]})]}),s.jsx("span",{className:"block text-xs text-slate-600",children:"When enabled, admin + test_doctor checkouts using Zelle/bank transfer are forced to $0.01."})]})]})})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200/70 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Live users"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Users currently online or idle."})]}),t0&&s.jsx("div",{className:"px-4 py-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md",children:t0}),Vg?s.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Loading users"}):(()=>{const A=(sf||[]).filter(Z=>{const de=Z?.isSimulated===!0,Ae=String(Z?.id||"");return!de&&!Ae.startsWith("pseudo-live-")}),O=Z=>r?.id&&Z?.id===r.id||r?.email&&Z?.email&&String(r.email).toLowerCase()===String(Z.email).toLowerCase(),T=Z=>{const de=Z?.isIdle;return typeof de=="boolean"?de:O(Z)&&Vc},W=Z=>{const de=typeof Z?.idleMinutes=="number"&&Number.isFinite(Z.idleMinutes)?Z.idleMinutes:typeof Z?.idleForMinutes=="number"&&Number.isFinite(Z.idleForMinutes)?Z.idleForMinutes:null;if(de!=null){const ze=Math.max(0,Math.floor(de));if(ze<1)return"<1m";const ct=ze*6e4,bt=Math.floor(ct/1e3),pt=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let _t=bt;const je=[];for(const Dt of pt){const it=Math.floor(_t/Dt.seconds);if(it>0&&(je.push(`${it}${Dt.label}`),_t-=it*Dt.seconds),je.length>=2)break}return je.length?je.join(" "):"<1m"}const _e=r?.id&&Z?.id===r.id||r?.email&&Z?.email&&String(r.email).toLowerCase()===String(Z.email).toLowerCase()?nf.current:(()=>{const ze=Z?.lastInteractionAt||Z?.lastSeenAt||Z?.lastActivityAt||Z?.lastActiveAt||Z?.lastLoginAt||null;if(!ze)return null;const ct=new Date(ze).getTime();return Number.isFinite(ct)?ct:null})();if(!_e)return null;const Oe=Math.max(0,Date.now()-_e),Ye=Math.floor(Oe/1e3);if(Ye<60)return"<1m";const vt=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let Ue=Ye;const qe=[];for(const ze of vt){const ct=Math.floor(Ue/ze.seconds);if(ct>0&&(qe.push(`${ct}${ze.label}`),Ue-=ct*ze.seconds),qe.length>=2)break}return qe.length?qe.join(" "):"<1m"},H=r0.trim().toLowerCase(),U=A.filter(Z=>{if(!fp&&!!!Z?.isOnline&&!O(Z))return!1;const de=String(Z?.role||"").toLowerCase().trim();if(Gl!=="all"){if(Gl==="sales_rep"){if(!["sales_rep","salesrep","rep"].includes(de))return!1}else if(Gl==="sales_lead"){if(!["sales_lead","saleslead","sales-lead"].includes(de))return!1}else if(Gl==="doctor"){if(de!=="doctor")return!1}else if(Gl==="test_doctor"){if(de!=="test_doctor")return!1}else if(de!==Gl)return!1}return H?[Z?.name,Z?.email,Z?.role,Z?.id].filter(Boolean).join(" ").toLowerCase().includes(H):!0}),ee=Z=>{if(!Z)return 0;const de=!!Z?.isOnline,Ae=!!T(Z);if(O(Z))return Ae?nf.current:Date.now();if(de&&!Ae)return Date.now();const _e=Z?.lastInteractionAt||Z?.lastSeenAt||Z?.lastActivityAt||Z?.lastActiveAt||Z?.lastLoginAt||null;if(!_e)return 0;const Oe=new Date(_e).getTime();return Number.isFinite(Oe)?Oe:0},K=[...U].sort((Z,de)=>{const Ae=ee(Z),_e=ee(de);if(Ae!==_e)return _e-Ae;const Oe=String(Z?.name||Z?.email||Z?.id||"").toLowerCase(),Ye=String(de?.name||de?.email||de?.id||"").toLowerCase();return Oe.localeCompare(Ye)}),ge=K.filter(Z=>!!Z?.isOnline).length;return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 px-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",className:"brand-checkbox",checked:fp,onChange:Z=>Vl(Z.target.checked)}),"Show offline"]}),s.jsxs("span",{className:"text-xs text-slate-500",children:[ge," online"]}),s.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-600",children:[s.jsx("span",{className:"uppercase tracking-wide text-[11px] text-slate-500",children:"Type"}),s.jsxs("select",{value:Gl,onChange:Z=>a0(Z.target.value),className:"rounded-md border border-slate-200/80 bg-white/95 px-2 py-1 text-xs font-medium text-slate-700 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"sales_rep",children:"Sales Rep"}),s.jsx("option",{value:"sales_lead",children:"Sales Lead"}),s.jsx("option",{value:"doctor",children:"Doctors"}),s.jsx("option",{value:"test_doctor",children:"Test doctors"})]})]})]}),s.jsx("input",{value:r0,onChange:Z=>n0(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"&&Z.preventDefault()},placeholder:"Search users",className:"w-full sm:w-[260px] rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]"})]}),s.jsx("div",{className:`sales-rep-table-wrapper admin-dashboard-list ${K.length===0?"":"live-users-scroll"}`,children:s.jsx("div",{className:"flex w-full min-w-0 flex-col gap-2",children:K.length===0?s.jsx("div",{className:"px-3 py-3 text-sm text-slate-500",children:"No users found."}):s.jsx("div",{className:"flex w-full min-w-[900px] flex-col gap-2",children:K.map(Z=>{const de=String(Z?.role||"").toLowerCase().trim(),Ae=de==="admin"?{label:"Admin",style:{backgroundColor:"rgb(61,43,233)",color:"#ffffff"}}:de==="sales_rep"||de==="salesrep"?{label:"Sales Rep",style:{backgroundColor:"rgb(129,221,228)",color:"#ffffff"}}:de==="sales_lead"||de==="saleslead"||de==="sales-lead"?{label:"Sales Lead",style:{backgroundColor:"rgb(129,221,228)",color:"#ffffff"}}:de==="doctor"?{label:"Doctor",style:{backgroundColor:"rgb(95,179,249)",color:"#ffffff"}}:de==="test_doctor"?{label:"Test Doctor",style:{backgroundColor:"rgb(95,179,249)",color:"#ffffff"}}:null,_e=Z.profileImageUrl||null,Oe=Z.name||Z.email||"User",vt=(()=>{if(O(Z))return nf.current;const ft=Z?.lastInteractionAt||Z?.lastSeenAt||Z?.lastActivityAt||Z?.lastActiveAt||Z?.lastLoginAt||null;if(!ft)return null;const Ut=new Date(ft).getTime();return Number.isFinite(Ut)?Ut:null})(),Ue=vt!=null?Math.max(0,(Date.now()-vt)/6e4):null,qe=2,ze=!!Z?.isOnline,ct=!!T(Z),bt=ze,pt=bt&&(ct||Ue!=null&&Ue>=qe),_t=pt?W(Z):null,je=ft=>{const Ut=cf(ft);return Ut==="a few moments ago"?"a few moments":Ut.replace(/\s+ago$/,"")},Dt=Z?.lastSeenAt||Z?.lastInteractionAt||Z?.lastLoginAt||null,it=bt?pt?`Idle${_t?` (${_t})`:""} - ${pp(Z.lastLoginAt)}`:pp(Z.lastLoginAt):Dt?`Offline for ${je(Dt)}`:"Offline";return s.jsx("div",{className:"flex w-full items-center gap-3 rounded-lg border border-slate-200/70 bg-white/70 px-3 py-2",children:s.jsx("button",{type:"button",onClick:()=>Fl(Z),"aria-label":`Open ${Oe} profile`,className:"min-w-0 flex-1",style:{background:"transparent",border:"none",padding:0},children:s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:"rounded-full shrink-0",style:{width:41.4,height:41.4,minWidth:41.4,boxShadow:bt?pt?"0 0 0 1px rgba(255,255,255,1), 0 0 0 4px rgba(148,163,184,1)":"0 0 0 1px rgba(255,255,255,1), 0 0 0 4px rgba(95,179,249,1)":void 0},children:s.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm w-full h-full transition hover:shadow-md hover:border-slate-300",children:_e?s.jsx("img",{src:_e,alt:Oe,className:"h-full w-full object-cover",loading:"lazy",decoding:"async"}):s.jsx("span",{className:"text-[11px] font-semibold text-slate-600",children:Op(Oe)})})}),s.jsx("div",{className:"min-w-0 flex-1 overflow-hidden",children:s.jsxs("div",{className:"flex flex-col items-start gap-0.5 text-left",children:[Ae&&s.jsx("span",{className:"inline-flex items-center squircle-xs px-2 py-[2px] text-sm font-semibold shrink-0 self-start whitespace-nowrap",style:Ae.style,children:Ae.label}),s.jsx("span",{className:"text-sm font-semibold text-slate-800 whitespace-nowrap",children:Oe}),s.jsx("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:Z.email||""}),s.jsx("span",{className:"text-sm text-slate-600 whitespace-nowrap",children:it})]})})]})})},Z.id)})})})})]})})()]})]}),dt(r?.role)&&s.jsxs("div",{className:"glass-card squircle-xl p-4 sm:p-6 border border-slate-200/70",children:[s.jsx("div",{className:"flex flex-col gap-3 mb-4",children:s.jsxs("div",{className:"sales-rep-header-row flex w-full flex-col gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Admin Reports"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Sales by Sales Rep, Taxes by State, and Products Sold & Commission."})]}),s.jsx("div",{className:"sales-rep-header-actions flex flex-row flex-wrap justify-end gap-4",children:s.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-row flex-wrap items-center justify-end gap-2 sm:!flex-col sm:items-end sm:gap-1",children:[s.jsxs(P0,{open:Qd,onOpenChange:xn,children:[s.jsx(A0,{asChild:!0,children:s.jsx(Je,{type:"button",variant:"outline",size:"icon",className:"header-home-button squircle-sm h-9 w-9 shrink-0","aria-label":"Select dashboard date range",title:"Select date range",children:s.jsx(S0,{"aria-hidden":"true"})})}),s.jsx(k0,{children:s.jsxs(E0,{side:"bottom",align:"end",sideOffset:8,className:"calendar-popover z-[10000] w-[320px] glass-liquid rounded-xl border border-white/60 p-3 shadow-xl",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Dashboard timeframe"}),s.jsx("div",{className:"mt-2",children:s.jsx(R0,{mode:"range",numberOfMonths:1,selected:Wl,onSelect:I,defaultMonth:Wl?.from??void 0})}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsx(Je,{type:"button",variant:"ghost",size:"sm",className:"text-slate-700",onClick:()=>{const A=fd();ki(A.start),Oo(A.end)},children:"Default"}),s.jsx(Je,{type:"button",variant:"outline",size:"sm",className:"calendar-done-button text-[rgb(95,179,249)] border-[rgba(95,179,249,0.45)] hover:border-[rgba(95,179,249,0.7)] hover:text-[rgb(95,179,249)]",onClick:()=>{Jn(),xn(!1)},children:"Done"})]}),s.jsx(O0,{className:"calendar-popover-arrow"})]})})]}),s.jsxs("span",{className:"text-sm font-semibold text-slate-900 min-w-0 leading-tight truncate",children:["(",C,")"]}),s.jsx(Je,{type:"button",variant:"outline",size:"sm",className:"header-home-button squircle-sm bg-white text-slate-900 order-2 sm:order-1",onClick:Jn,disabled:z,"aria-busy":z,title:"Refresh",children:z?"Refreshing...":"Refresh"})]})})]})}),s.jsxs("div",{className:"mt-8 space-y-6",children:[s.jsxs("div",{className:"glass-card squircle-xl p-4 sm:p-6 border border-slate-200/70",children:[s.jsx("div",{className:"flex flex-col gap-3 mb-4",children:s.jsxs("div",{className:"sales-rep-header-row flex w-full flex-col gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Sales by Sales Rep"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Orders placed by doctors assigned to each rep."})]}),s.jsx("div",{className:"sales-rep-header-actions flex flex-row flex-wrap justify-end gap-4",children:s.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-row items-center justify-end gap-2 sm:!flex-col sm:items-end sm:gap-1",children:[s.jsxs(Je,{type:"button",variant:"outline",size:"sm",className:"gap-2 order-2 sm:order-1",onClick:Bc,disabled:ar.length===0,title:"Download CSV",children:[s.jsx(Py,{className:"h-4 w-4","aria-hidden":"true"}),"Download CSV"]}),s.jsxs("span",{className:"sales-rep-action-meta order-1 sm:order-2 min-w-0 text-[11px] text-slate-500 leading-tight text-right",children:[s.jsxs("span",{className:"sm:hidden block min-w-0 truncate",children:["Last downloaded:"," ",Uu?new Date(Uu).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""]}),s.jsxs("span",{className:"hidden sm:block",children:[s.jsx("span",{className:"sales-rep-action-meta-label block",children:"Last downloaded"}),s.jsx("span",{className:"sales-rep-action-meta-value block",children:Uu?new Date(Uu).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""})]})]})]})})]})}),s.jsx("div",{className:"sales-rep-table-wrapper admin-dashboard-list p-0 overflow-x-auto no-scrollbar",role:"region","aria-label":"Sales by sales rep list",children:Yd?s.jsx("div",{className:"px-4 py-3 text-sm text-amber-700 mb-3 bg-amber-50 border border-amber-200 rounded-md",children:Yd}):qu?s.jsx("div",{className:"px-4 py-3 text-sm mb-3 text-slate-500",children:"Checking sales"}):xm===null?s.jsx("div",{className:"px-4 py-3 text-sm mb-3 text-slate-500",children:"Click Refresh to load sales."}):ar.length===0?s.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No sales recorded yet."}):s.jsxs("div",{className:"w-full",style:{minWidth:920},children:[(()=>{const A=ds?.totals||null,O=A||{totalOrders:ar.reduce((W,H)=>W+(Number(H.totalOrders)||0),0),totalRevenue:ar.reduce((W,H)=>W+(Number(H.totalRevenue)||0),0),wholesaleRevenue:ar.reduce((W,H)=>W+(Number(H.wholesaleRevenue)||0),0),retailRevenue:ar.reduce((W,H)=>W+(Number(H.retailRevenue)||0),0)};return typeof O.totalOrders=="number"&&typeof O.totalRevenue=="number"?s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-1 bg-white/70 px-3 py-1.5 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:[s.jsxs("span",{children:["Total Orders: ",O.totalOrders]}),s.jsxs("span",{children:["Wholesale: ",Mt(Number(O.wholesaleRevenue)||0)]}),s.jsxs("span",{children:["Retail: ",Mt(Number(O.retailRevenue)||0)]})]}):null})(),s.jsxs("div",{className:"w-max",children:[s.jsxs("div",{className:"grid w-full items-center gap-2 border-x border-slate-200/70 bg-[rgba(95,179,249,0.08)] px-2 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700",style:{gridTemplateColumns:"minmax(120px,1fr) minmax(160px,1fr) max-content max-content max-content"},children:[s.jsx("div",{className:"whitespace-nowrap",children:"Sales Rep"}),s.jsx("div",{className:"whitespace-nowrap",children:"Email"}),s.jsx("div",{className:"whitespace-nowrap text-right",children:"Orders"}),s.jsx("div",{className:"whitespace-nowrap text-right",children:"Wholesale"}),s.jsx("div",{className:"whitespace-nowrap text-right",children:"Retail"})]}),s.jsx("ul",{className:"w-full border-x border-b border-slate-200/70 max-h-[420px] overflow-y-auto",children:ar.map(A=>s.jsxs("li",{className:"grid w-full items-center gap-2 px-2 py-1 border-b border-slate-200/70 last:border-b-0",style:{gridTemplateColumns:"minmax(120px,1fr) minmax(160px,1fr) max-content max-content max-content"},children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 min-w-0",children:s.jsx("button",{type:"button",className:"min-w-0 text-left hover:underline",onClick:()=>Fl({id:A.salesRepUserId||A.salesRepId,name:A.salesRepName,email:A.salesRepEmail,role:"sales_rep"},{salesRepWholesaleRevenue:Number(A.wholesaleRevenue||0),salesRepRetailRevenue:Number(A.retailRevenue||0)}),title:"Open sales rep details",children:A.salesRepName})}),s.jsx("div",{className:"text-sm text-slate-700 truncate",title:A.salesRepEmail||"",children:A.salesRepEmail||""}),s.jsx("div",{className:"text-sm text-right text-slate-800 tabular-nums whitespace-nowrap",children:A.totalOrders}),s.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums whitespace-nowrap",children:Mt(A.wholesaleRevenue||0)}),s.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums whitespace-nowrap",children:Mt(A.retailRevenue||0)})]},A.salesRepId))})]})]})})]}),s.jsxs("div",{className:"glass-card squircle-xl p-4 sm:p-6 border border-slate-200/70",children:[s.jsx("div",{className:"flex flex-col gap-3 mb-4",children:s.jsxs("div",{className:"sales-rep-header-row flex w-full flex-col gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Taxes by State"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Cumulative tax totals by destination state for the selected period."})]}),s.jsx("div",{className:"sales-rep-header-actions flex flex-row flex-wrap justify-end gap-4",children:s.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-row items-center justify-end gap-2 sm:!flex-col sm:items-end sm:gap-1",children:[s.jsxs(Je,{type:"button",variant:"outline",size:"sm",className:"gap-2 order-2 sm:order-1",onClick:()=>void qa(),disabled:Bl.length===0,title:"Download CSV",children:[s.jsx(Py,{className:"h-4 w-4","aria-hidden":"true"}),"Download CSV"]}),s.jsxs("span",{className:"sales-rep-action-meta order-1 sm:order-2 min-w-0 text-[11px] text-slate-500 leading-tight text-right",children:[s.jsxs("span",{className:"sm:hidden block min-w-0 truncate",children:["Last downloaded:"," ",Xs?new Date(Xs).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""]}),s.jsxs("span",{className:"hidden sm:block",children:[s.jsx("span",{className:"sales-rep-action-meta-label block",children:"Last downloaded"}),s.jsx("span",{className:"sales-rep-action-meta-value block",children:Xs?new Date(Xs).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""})]})]})]})})]})}),jm?s.jsx("div",{className:"sales-rep-table-wrapper admin-dashboard-list p-0 overflow-x-auto no-scrollbar",role:"region","aria-label":"Taxes by state list",children:s.jsx("div",{className:"px-4 py-3 sm:px-5 sm:py-4 text-sm text-amber-700 bg-amber-50",children:jm})}):Wu?s.jsx("div",{className:"sales-rep-table-wrapper admin-dashboard-list p-0 overflow-x-auto no-scrollbar",role:"region","aria-label":"Taxes by state list",children:s.jsx("div",{className:"px-4 py-3 sm:px-5 sm:py-4 text-sm text-slate-500",children:"Loading taxes"})}):Bl.length===0?s.jsx("div",{className:"sales-rep-table-wrapper admin-dashboard-list p-0 overflow-x-auto no-scrollbar",role:"region","aria-label":"Taxes by state list",children:s.jsx("div",{className:"px-4 py-3 sm:px-5 sm:py-4 text-sm text-slate-500",children:"No tax data for this period."})}):s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsx("div",{className:"sales-rep-table-wrapper admin-dashboard-list p-0 overflow-x-auto no-scrollbar",role:"region","aria-label":"Taxes by state list",children:s.jsxs("div",{className:"w-full",style:{minWidth:920},children:[Ki?.totals&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-1 bg-white/70 px-3 py-1.5 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:[s.jsxs("span",{children:["Orders:"," ",Number(Ki.totals?.orderCount||0)]}),s.jsxs("span",{children:["Tax:"," ",Mt(Number(Ki.totals?.taxTotal||0))]})]}),s.jsxs("div",{className:"w-max",children:[s.jsxs("div",{className:"grid w-full items-center gap-2 border-x border-slate-200/70 bg-[rgba(95,179,249,0.08)] px-2 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700",style:{gridTemplateColumns:"minmax(120px,1fr) max-content max-content"},children:[s.jsx("div",{className:"whitespace-nowrap",children:"State"}),s.jsx("div",{className:"whitespace-nowrap text-right",children:"Orders"}),s.jsx("div",{className:"whitespace-nowrap text-right",children:"Tax"})]}),s.jsx("ul",{className:"w-full border-x border-b border-slate-200/70 max-h-[420px] overflow-y-auto",children:Bl.map(A=>s.jsxs("li",{className:"grid w-full items-center gap-2 px-2 py-1 border-b border-slate-200/70 last:border-b-0",style:{gridTemplateColumns:"minmax(120px,1fr) max-content max-content"},children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 min-w-0 truncate",children:A.state}),s.jsx("div",{className:"text-sm text-right text-slate-800 tabular-nums whitespace-nowrap",children:Number(A.orderCount||0)}),s.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums whitespace-nowrap",children:Mt(Number(A.taxTotal||0))})]},A.state))})]})]})}),Pg.length>0&&s.jsxs("details",{className:"sales-rep-table-wrapper admin-dashboard-list p-0 overflow-x-auto no-scrollbar bg-white/60 border border-slate-200/70",open:zu,onToggle:A=>{Sm(A.currentTarget.open)},children:[s.jsxs("summary",{className:"cursor-pointer select-none flex items-center justify-between gap-1 px-2 py-1 text-sm font-semibold text-slate-900 bg-white/70 border-b-4 border-slate-200/70",children:[s.jsx("span",{children:"Order Tax Breakdown"}),s.jsx("span",{className:"rounded-full border border-slate-200/80 bg-white/70 px-2 py-1 text-[11px] font-semibold text-slate-600 whitespace-nowrap",children:zu?"Collapse":"Expand"})]}),s.jsx("div",{className:"w-full",style:{minWidth:920},children:s.jsxs("div",{className:"w-max",children:[s.jsxs("div",{className:"grid w-full items-center gap-2 border-x border-slate-200/70 bg-[rgba(95,179,249,0.08)] px-2 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700",style:{gridTemplateColumns:"minmax(120px,1fr) max-content"},children:[s.jsx("div",{className:"whitespace-nowrap",children:"Order"}),s.jsx("div",{className:"whitespace-nowrap text-right",children:"Tax"})]}),s.jsx("ul",{className:"w-full border-x border-b border-slate-200/70 max-h-[320px] overflow-y-auto",children:Pg.map(A=>s.jsxs("li",{className:"grid w-full items-center gap-2 px-2 py-1 border-b border-slate-200/70 last:border-b-0",style:{gridTemplateColumns:"minmax(120px,1fr) max-content"},children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:A.orderNumber}),s.jsxs("div",{className:"text-xs text-slate-600 truncate",children:["State: ",A.state]})]}),s.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums whitespace-nowrap",children:Mt(Number(A.taxTotal||0))})]},`${A.orderNumber}-${A.state}`))})]})})]})]})]}),s.jsxs("div",{className:"glass-card squircle-xl p-4 sm:p-6 border border-slate-200/70",children:[s.jsx("div",{className:"flex flex-col gap-3 mb-4",children:s.jsxs("div",{className:"flex w-full flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Products Sold & Commission"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Product quantities sold plus commission totals (wholesale 10%, retail 20%; house/contact-form split and administrative)."}),Fa?.totals&&s.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-sm font-semibold text-slate-900",children:[s.jsxs("span",{children:["Base:"," ",Mt(Number(Fa.totals?.commissionableBase||0))]}),s.jsxs("span",{children:["Commission:"," ",Mt(Number(Fa.totals?.commissionTotal||0))]})]})]}),s.jsx("div",{className:"sales-rep-header-actions flex flex-row flex-wrap justify-end gap-4",children:s.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-row items-center justify-end gap-2 sm:!flex-col sm:items-end sm:gap-1",children:[s.jsxs(Je,{type:"button",variant:"outline",size:"sm",className:"gap-2 order-2 sm:order-1",onClick:()=>void sp(),disabled:Hu.length===0&&mi.length===0,title:"Download CSV",children:[s.jsx(Py,{className:"h-4 w-4","aria-hidden":"true"}),"Download CSV"]}),s.jsxs("span",{className:"sales-rep-action-meta order-1 sm:order-2 min-w-0 text-[11px] text-slate-500 leading-tight text-right",children:[s.jsxs("span",{className:"sm:hidden block min-w-0 truncate",children:["Last downloaded:"," ",Fc?new Date(Fc).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""]}),s.jsxs("span",{className:"hidden sm:block",children:[s.jsx("span",{className:"sales-rep-action-meta-label block",children:"Last downloaded"}),s.jsx("span",{className:"sales-rep-action-meta-value block",children:Fc?new Date(Fc).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""})]})]})]})})]})}),tp?s.jsx("div",{className:"sales-rep-table-wrapper admin-dashboard-list p-0 overflow-x-auto no-scrollbar",role:"region","aria-label":"Products sold and commission lists",children:s.jsx("div",{className:"px-4 py-3 sm:px-5 sm:py-4 text-sm text-amber-700 bg-amber-50",children:tp})}):Yi?s.jsx("div",{className:"sales-rep-table-wrapper admin-dashboard-list p-0 overflow-x-auto no-scrollbar",role:"region","aria-label":"Products sold and commission lists",children:s.jsx("div",{className:"px-4 py-3 sm:px-5 sm:py-4 text-sm text-slate-500",children:"Loading report"})}):Hu.length===0&&mi.length===0?s.jsx("div",{className:"sales-rep-table-wrapper admin-dashboard-list p-0 overflow-x-auto no-scrollbar",role:"region","aria-label":"Products sold and commission lists",children:s.jsx("div",{className:"px-4 py-3 sm:px-5 sm:py-4 text-sm text-slate-500",children:"No data for this period."})}):s.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[s.jsxs("div",{className:"sales-rep-table-wrapper admin-dashboard-list p-0 overflow-x-auto no-scrollbar",role:"region","aria-label":"Products sold list",children:[s.jsx("div",{className:"flex flex-wrap items-center justify-between gap-1 bg-white/70 px-3 py-1.5 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:s.jsx("span",{children:"Products Sold"})}),s.jsx("div",{className:"w-full",style:{minWidth:920},children:s.jsxs("div",{className:"w-max",children:[s.jsxs("div",{className:"grid w-full items-center gap-2 border-x border-slate-200/70 bg-[rgba(95,179,249,0.08)] px-2 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700",style:{gridTemplateColumns:"minmax(0,1fr) max-content"},children:[s.jsx("div",{className:"whitespace-nowrap",children:"Product"}),s.jsx("div",{className:"whitespace-nowrap text-right",children:"Qty"})]}),s.jsx("ul",{className:"w-full border-x border-b border-slate-200/70 max-h-[420px] overflow-y-auto",children:Hu.map(A=>s.jsxs("li",{className:"grid w-full items-center gap-2 px-2 py-1 border-b border-slate-200/70 last:border-b-0",style:{gridTemplateColumns:"minmax(0,1fr) max-content"},children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",title:A.name,children:A.name}),s.jsx("div",{className:"text-[11px] leading-tight text-slate-600 truncate",children:A.sku?`SKU: ${A.sku}`:A.productId!=null?`Product ID: ${A.productId}`:""})]}),s.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums whitespace-nowrap",children:Number(A.quantity||0)})]},A.key))})]})})]}),s.jsxs("div",{className:"sales-rep-table-wrapper admin-dashboard-list p-0 overflow-x-auto no-scrollbar",role:"region","aria-label":"Commission list",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-white/70 px-3 py-1.5 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:[s.jsx("span",{children:"Commission"}),s.jsx(Je,{asChild:!0,type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",title:"Open Google Sheet",children:s.jsx("a",{href:"https://docs.google.com/spreadsheets/d/1KFAGGtys4YmMbeiy7f-su8iZQUBpg40hifjDrf5aGTU/edit?gid=72196618#gid=72196618",target:"_blank",rel:"noopener noreferrer","aria-label":"Open Google Sheet",children:s.jsxs("svg",{viewBox:"0 0 48 48",width:"18",height:"18","aria-hidden":"true",children:[s.jsx("path",{fill:"#0F9D58",d:"M28,3H12c-2.21,0-4,1.79-4,4v34c0,2.21,1.79,4,4,4h24c2.21,0,4-1.79,4-4V15L28,3z"}),s.jsx("path",{fill:"#87CEAC",d:"M28,3v10c0,1.1,0.9,2,2,2h10L28,3z"}),s.jsx("path",{fill:"#FFFFFF",d:"M16 21h16v2H16zm0 5h16v2H16zm0 5h16v2H16zm0 5h10v2H16z"})]})})})]}),s.jsx("div",{className:"w-full",style:{minWidth:920},children:s.jsxs("div",{className:"w-max",children:[s.jsxs("div",{className:"grid w-full items-center gap-2 border-x border-slate-200/70 bg-[rgba(95,179,249,0.08)] px-2 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700",style:{gridTemplateColumns:"minmax(0,1fr) max-content"},children:[s.jsx("div",{className:"whitespace-nowrap",children:"Recipient"}),s.jsx("div",{className:"whitespace-nowrap text-right",children:"Amount"})]}),s.jsx("ul",{className:"w-full border-x border-b border-slate-200/70 max-h-[420px] overflow-y-auto",children:mi.map(A=>s.jsxs("li",{className:"grid w-full items-center gap-2 px-2 py-1 border-b border-slate-200/70 last:border-b-0",style:{gridTemplateColumns:"minmax(0,1fr) max-content"},children:[s.jsxs("div",{className:"min-w-0",children:[(()=>{const O=!!A.id&&!String(A.id).startsWith("__"),T=A.name||A.id||"User";return s.jsx("button",{type:"button",className:`text-sm font-semibold text-slate-900 truncate text-left ${O?"hover:underline cursor-pointer":"cursor-default"}`,title:T,onClick:()=>{O&&Fl({id:A.id,name:A.name,role:A.role})},children:T})})(),s.jsx("div",{className:"mt-0.5 text-[11px] leading-tight text-slate-600 whitespace-nowrap overflow-x-auto no-scrollbar",children:(()=>{const O=Number(A.retailOrders||0),T=Number(A.wholesaleOrders||0),W=Number(A.retailBase||0),H=Number(A.wholesaleBase||0),U=Number(A.houseRetailOrders||0),ee=Number(A.houseWholesaleOrders||0),K=Number(A.houseRetailBase||0),ge=Number(A.houseWholesaleBase||0),Z=Number(A.houseRetailCommission||0),de=Number(A.houseWholesaleCommission||0),Ae=Number(A.specialAdminBonus||0),_e=Number(A.specialAdminBonusRate||0),Oe=Number(A.specialAdminBonusMonthlyCap||0),Ye=A.specialAdminBonusByMonth,vt=A.specialAdminBonusBaseByMonth,Ue=W*.2,qe=H*.1,ze=[];if(ze.push(s.jsxs("span",{className:"whitespace-nowrap",children:["Role: ",A.role||" "]},"role")),U>0||K>0||Z>0){const ct=K*.2,bt=Z||ct;ze.push(s.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["House Retail: ",Mt(bt)," (",U,"  ",Mt(K),"0.2)"]},"house-retail"))}else if(O>0||W>0){const ct=Ue;ze.push(s.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["Retail: ",Mt(ct)," (",O,"  ",Mt(W),"0.2)"]},"retail"))}if(ee>0||ge>0||de>0){const ct=ge*.1,bt=de||ct;ze.push(s.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["House Wholesale: ",Mt(bt)," (",ee,"  ",Mt(ge),"0.1)"]},"house-wholesale"))}else if(T>0||H>0){const ct=qe;ze.push(s.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["Wholesale: ",Mt(ct)," (",T,"  ",Mt(H),"0.1)"]},"wholesale"))}if(Ae>0){const ct=Array.from(new Set([...Object.keys(Ye||{}),...Object.keys(vt||{})])).sort(),bt=ct.reduce((it,ft)=>it+Number((vt||{})[ft]||0),0),pt=ct.reduce((it,ft)=>{const Ut=Number((vt||{})[ft]||0);return it+Math.round(Ut*_e*100)/100},0);ct.reduce((it,ft)=>{const Ut=Number((Ye||{})[ft]||0);if(Ut>0)return it+Ut;const rn=Number((vt||{})[ft]||0);return it+Math.round(rn*_e*100)/100},0);const _t=Ae>0&&Math.abs(Ae-pt)>.009,je=Oe>0&&_t?` (cap ${Mt(Oe)}/mo)`:"",Dt=_e>0&&bt>0?` (${Mt(bt)}${_e}${je})`:_e>0?` (rate ${_e}${Oe>0?`, cap ${Mt(Oe)}/mo`:""})`:"";ze.push(s.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["Web: ",Mt(Ae),Dt]},"bonus"))}return s.jsx(s.Fragment,{children:ze.map((ct,bt)=>s.jsxs(y.Fragment,{children:[bt>0&&s.jsx("span",{className:"text-slate-300",children:"|"}),ct]},ct?.key??bt))})})()})]}),s.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums whitespace-nowrap",children:Mt(Number(A.amount||0))})]},A.id))})]})})]})]})]})]})]}),S&&s.jsxs("div",{className:"sales-rep-combined-chart",children:[s.jsx("div",{className:"sales-rep-chart-header",children:s.jsxs("div",{children:[s.jsx("h3",{children:"Your Pipeline"}),s.jsx("p",{children:"Track lead volume as contacts advance through each stage."})]})}),s.jsx("div",{className:"sales-rep-chart-body",children:s.jsx(YX,{width:"100%",height:210,children:s.jsxs(Yle,{data:p,margin:{top:16,right:12,left:-14,bottom:0},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"statusBar",x1:"0",y1:"0",x2:"1",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:"#5FB3F9",stopOpacity:.9}),s.jsx("stop",{offset:"100%",stopColor:"#95C5F9",stopOpacity:.9})]})}),s.jsx(l9,{strokeDasharray:"3 3",stroke:"rgba(148, 163, 184, 0.3)"}),s.jsx(nw,{dataKey:"label",interval:0,tick:s.jsx(due,{}),tickLine:!1,height:58,tickMargin:0,padding:{left:0,right:0}}),s.jsx(aw,{allowDecimals:!1,tick:{fontSize:12,fill:"#334155"},width:34,tickMargin:2}),s.jsx(iu,{cursor:{fill:"rgba(148, 163, 184, 0.12)"},wrapperStyle:{pointerEvents:"auto"},content:A=>s.jsx(uue,{...A,onLeadClick:O=>{O?.id&&Fl({id:O.id,name:O.name,email:O.email,role:O.role||"doctor"})}})}),s.jsx(dm,{dataKey:"count",radius:[4,4,2.5,2.5],fill:"url(#statusBar)",barSize:32,children:s.jsx(Of,{dataKey:"count",position:"insideTop",fill:"#ffffff",fontSize:12,offset:7,formatter:A=>typeof A=="number"?A:Number(A)||0,style:{textShadow:"0 1px 4px rgba(15, 23, 42, 0.35)"},content:A=>{const O=Number(A.value)||0;if(O===0)return null;const{x:T,width:W}=A,H=T+W/2,U=(A.y||0)+12;return s.jsx("text",{x:H,y:U,textAnchor:"middle",fill:"#ffffff",fontSize:12,style:{textShadow:"0 1px 4px rgba(15, 23, 42, 0.35)"},children:O})}})})]})})})]}),s.jsxs("div",{className:"sales-rep-dashboard-grid",children:[s.jsxs("div",{className:"sales-rep-leads-card sales-rep-combined-card",children:[s.jsx("div",{className:"sales-rep-leads-header",children:s.jsx("div",{className:"sales-rep-leads-title",children:s.jsxs("div",{className:"flex items-start mb-1 justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"text-lg sm:text-xl",children:"Your Sales"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Live orders grouped by your doctors."})]}),s.jsx("div",{className:"sales-rep-card-controls",children:s.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:A=>{A.stopPropagation(),q({force:!0})},disabled:Rr||zt,className:"header-home-button squircle-sm bg-white text-slate-900",title:"Refresh your sales data",children:Rr||zt?"Refreshing":"Refresh"})})]})})}),s.jsxs("div",{className:"sales-metric-pill-group sales-metric-controls",children:[s.jsxs("div",{className:"sales-metric-pill",children:[s.jsx("p",{className:"sales-metric-label",children:"Orders"}),s.jsx("p",{className:"sales-metric-value",children:ae?.totalOrders??0})]}),s.jsxs("div",{className:"sales-metric-pill",children:[s.jsx("p",{className:"sales-metric-label",children:"Total Revenue"}),s.jsx("p",{className:"sales-metric-value",children:Mt(ae?.totalRevenue??0)})]})]}),s.jsxs("div",{className:"sales-rep-lead-grid",children:[Rr&&s.jsx("ul",{className:"space-y-4","aria-live":"polite",children:[...Array(2)].map((A,O)=>s.jsxs("li",{className:"lead-panel bg-white/60 border border-slate-200/80 rounded-2xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"news-loading-thumb rounded-full"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-24"})]})]}),s.jsxs("div",{className:"space-y-2 text-right",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-16 ml-auto"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-20"})]})]}),s.jsx("div",{className:"space-y-3",children:[...Array(2)].map((T,W)=>s.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-100 bg-white/70 p-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-36"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-14 rounded-full"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]})]},`sales-loading-line-${O}-${W}`))})]},`sales-loading-${O}`))}),!Rr&&cn&&s.jsx("p",{className:"lead-panel-empty text-sm text-rose-600",children:cn}),!Rr&&!cn&&He.length===0&&s.jsx("p",{className:"lead-panel-empty text-sm text-slate-500",children:"No sales activity reported yet."}),!Rr&&!cn&&He.length>0&&He.map(A=>{const O=qd.has(A.doctorId);return s.jsxs("section",{className:"lead-panel",children:[s.jsxs("div",{className:"lead-panel-header sales-doctor-row cursor-pointer items-center",role:"button",tabIndex:0,onClick:()=>yn(A.doctorId),onKeyDown:T=>{(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),yn(A.doctorId))},"aria-expanded":!O,"aria-controls":`sales-orders-${A.doctorId}`,style:{alignItems:"center"},children:[s.jsx("div",{className:"sales-doctor-chevron",children:s.jsx(eb,{className:"h-4 w-4 text-slate-500","aria-hidden":"true",style:{transform:O?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.32s cubic-bezier(0.42, 0, 0.38, 1)",transformOrigin:"center"}})}),s.jsx("div",{className:"sales-doctor-scroll",children:s.jsxs("div",{className:"sales-doctor-scroll-inner",children:[s.jsxs("button",{type:"button",className:"flex items-center gap-3 min-w-0",onClick:T=>{T.stopPropagation(),ul({...A,referralId:ke(A.doctorId,A.doctorEmail)},"doctor")},onKeyDown:T=>{(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),T.stopPropagation(),ul({...A,referralId:ke(A.doctorId,A.doctorEmail)},"doctor"))},"aria-label":`View ${A.doctorName} details`,style:{background:"transparent",border:"none",padding:0},children:[s.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm",style:{width:44,height:44,minWidth:44},children:A.doctorAvatar?s.jsx("img",{src:A.doctorAvatar,alt:A.doctorName,className:"h-full w-full object-cover",style:{width:44,height:44}}):s.jsx("span",{className:"text-sm font-semibold text-slate-600",children:Op(A.doctorName)})}),s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"lead-list-name whitespace-nowrap flex items-center gap-1",children:[s.jsx(Mw,{className:"h-4 w-4 text-slate-400","aria-hidden":"true"}),s.jsx("span",{children:A.doctorName})]}),String(A.leadType||"").toLowerCase()==="contact_form"&&s.jsx("span",{className:"lead-source-pill lead-source-pill--contact mt-1",children:"House / Contact Form"}),A.doctorEmail&&s.jsx("p",{className:"lead-list-detail whitespace-nowrap",children:A.doctorEmail})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-[0.16em]",children:"Revenue"}),s.jsx("p",{className:"text-base font-semibold text-slate-900",children:Mt(A.total)}),s.jsxs("p",{className:"text-xs text-slate-500",children:[A.orders.length," order",A.orders.length===1?"":"s"]})]})]})})]}),!O&&s.jsx("ul",{className:"lead-list",id:`sales-orders-${A.doctorId}`,children:A.orders.map(T=>{const W=T.createdAt||T.dateCreated||T.date_created||T.dateCreatedGmt||T.date_created_gmt||T.updatedAt||null,U=(T?.shippingEstimate?.status||T?.shipping?.status||T.status||"").toString().toLowerCase()==="shipped"&&(T?.shippingEstimate?.estimatedArrivalDate||T?.shippingEstimate?.deliveryDateGuaranteed||T?.shippingEstimate?.estimated_delivery_date||T?.shipping?.estimatedArrivalDate||T?.shipping?.estimated_delivery_date)||null,ee=String(T.id||T.number||""),ge=il.has(ee)||Ya.has(ee),Z=W?`Order placed ${Gt(W)}`:"Order placed Unknown date",de=U?`Expected delivery ${En(U)}`:"Expected delivery unavailable",Ae=Zj(T),_e=typeof T?.notes=="string"?String(T.notes).trim():"";return s.jsx("li",{className:"lead-list-item sales-order-card cursor-pointer transition hover:shadow-sm hover:border-[rgb(95,179,249)]",onClick:()=>Xa(T),"aria-busy":ge,children:s.jsxs("div",{className:"sales-order-card-content flex flex-col gap-2 w-full",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"lead-list-name",children:["Order #",T.number??T.id]}),ge?s.jsxs("div",{className:"flex items-center gap-2 justify-end w-full sm:w-auto max-w-[200px]",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-20"})]}):s.jsxs("div",{className:"flex items-center gap-3 justify-end",children:[s.jsx("div",{className:"lead-updated",children:Mt(T.total)}),s.jsx("span",{className:"sales-tracking-row-status",children:Ae})]})]}),ge?s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 w-full",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-full"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-full"})]}):s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 w-full",children:[s.jsx("div",{className:"lead-list-detail",children:Z}),s.jsx("div",{className:"lead-list-detail",children:de}),_e?s.jsxs("div",{className:"lead-list-detail sm:col-span-2",children:[s.jsx("span",{className:"text-xs font-semibold text-slate-500 mr-1",children:"Notes:"}),s.jsx("span",{className:"line-clamp-2",children:_e})]}):null]})]})},T.id)})})]},A.doctorId)})]})]}),s.jsxs("div",{className:"sales-rep-leads-card sales-rep-combined-card",children:[s.jsx("div",{className:"sales-rep-leads-header",children:s.jsx("div",{className:"sales-rep-leads-title",children:s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg sm:text-xl",children:"Your Leads"}),s.jsx("p",{children:"Advance referrals and inbound requests through your pipeline."})]}),s.jsx("div",{className:"sales-rep-card-controls",children:s.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:A=>{A.stopPropagation(),at("sales-rep-manual-refresh",{showLoading:!0})},disabled:zc,className:"header-home-button squircle-sm bg-white text-slate-900",children:zc?"Refreshing":"Refresh"})})]})})}),s.jsxs("div",{className:"sales-rep-lead-grid",children:[s.jsxs("section",{className:"lead-panel",children:[s.jsx("div",{className:"lead-panel-header",children:s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"lead-panel-filter-row",children:[s.jsxs("h4",{children:[o.length," Active Prospect",o.length===1?"":"s"]}),s.jsx("select",{value:uh,onChange:A=>dh(A.target.value),className:"rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:c0.map(A=>s.jsx("option",{value:A,children:A==="all"?"All statuses":Tp(A)},A))})]}),s.jsx("p",{className:"text-sm text-slate-500 referrals-subtitle",children:"Combination of referral and contact form prospects."}),s.jsx("div",{className:"mt-2",children:s.jsxs(Je,{type:"button",variant:"outline",onClick:()=>km(!0),className:"gap-2 text-sm",children:[s.jsx(Fh,{className:"h-4 w-4"}),"Manual Prospect"]})})]})}),s.jsx("div",{className:"lead-panel-divider"}),zc&&o.length===0?s.jsx("p",{className:"lead-panel-empty text-sm text-slate-500",children:"Loading prospects"}):o.length===0?s.jsx("p",{className:"lead-panel-empty text-sm text-slate-500",children:"Nobody yet. Update a referral or contact form status to move it here."}):s.jsx("div",{className:"lead-list-scroll active-prospects-list-scroll",children:s.jsx("ul",{className:"lead-list",children:o.map(({kind:A,record:O})=>{const T=pl.updatingReferral===O.id,W=A==="contact_form"?(O.status||"contact_form").toLowerCase():Rs(O.status),H=W==="contact_form"?"pending":W,U=H==="verified",ee=pf===O.id,K=A==="referral"&&O.referrerDoctorName||"User",ge=A==="referral"&&O.creditIssuedAt?O.creditIssuedAt:null,Z=A==="referral"&&O.creditIssuedAmount!=null?O.creditIssuedAmount:50,de=A==="referral"&&nc(O),Ae=A==="contact_form"?"lead-source-pill--contact":de?"lead-source-pill--manual":"lead-source-pill--referral",_e=A==="contact_form"?"House / Contact Form":de?"Manual":"Referral",Oe=typeof O.referredContactHasAccount=="boolean"?O.referredContactHasAccount:!1,Ye=A==="referral"?!!O.referredContactEligibleForCredit:!1,vt=H==="converted"&&!Ga(O),Ue=O.syntheticAccountProspect===!0,qe=!!O.resellerPermitExempt,ze=typeof O.resellerPermitFileName=="string"&&O.resellerPermitFileName.trim()?O.resellerPermitFileName.trim():"",ct=typeof O.resellerPermitFilePath=="string"?O.resellerPermitFilePath:"",bt=!!(ze||ct),pt=qe||bt,_t=!!fa[String(O?.id||"")],je=`reseller-permit-${String(O?.id||"").replace(/[^a-zA-Z0-9_-]/g,"_").slice(0,64)}`,Dt=Oe&&H==="verified",it=H==="pending"?"Pending":Dt?"Account Created":Tp(H),ft=(()=>{if(Ue)return H==="converted"?null:{value:"converted",label:"Converted",disabled:!1};if(Dt)return{value:"converted",label:"Converted",disabled:!1};switch(H){case"pending":return{value:"contacted",label:"Contacting",disabled:!1};case"contacted":return{value:"verified",label:pt?"Verified":"Verified (permit required)",disabled:!pt};case"verified":return{value:"account_created",label:"Account Created",disabled:!1};case"account_created":return{value:"converted",label:"Converted",disabled:!1};default:return null}})(),wn={pending:"Move to Contacting when ready to reach out.",contacted:"Reach out to them, verify their practice, ensure they have an NPI number, and note down any other personal and practice details. Collect their reseller permit if available for their tax exemption. When verified, advance their status.",verified:"Now that they are verified, help them create an account by sharing your referral code. You can see when they have created an account with the label in this container.",account_created:"Now that their account is created, walk them through the platform. Ensure to promote their educational and research excellence and our support for them. You can preemptively move them to the Converted status for your convenience if you wish. It will note when they make their first purchase automatically."}[Dt?"account_created":H]||"",wf=[...(()=>{const ir=["pending","contacted","verified","account_created","converted"],Sa=ir.indexOf(H);return Sa<=0?[]:ir.slice(0,Sa).map(ei=>({value:ei,label:ei==="pending"?"Pending":Tp(ei),disabled:!1}))})(),{value:H,label:it,disabled:!0},...ft?[ft]:[]],Os=(()=>{if(!Oe)return null;const ir=O.referredContactAccountId,Sa=typeof O.referredContactAccountEmail=="string"?O.referredContactAccountEmail.trim():"",ei=typeof O.referredContactEmail=="string"?O.referredContactEmail.trim():"",bi=(Sa||ei).toLowerCase(),ms=typeof O.referredContactPhone=="string"?O.referredContactPhone.trim():"",vl=[ir?`acct:${ir}`:null,ir?`acct:${String(ir).toLowerCase()}`:null,bi?`email:${bi}`:null,bi||null,ms?`phone:${ms}`:null].filter(Boolean);for(const hs of vl){const ea=Iu.get(hs);if(ea)return ea}return null})(),od=Oe&&Os?.name||O.referredContactName||O.referredContactEmail||"";return s.jsxs("li",{className:"lead-list-item lead-list-item--active-prospect",children:[s.jsxs("div",{className:"lead-list-meta",children:[s.jsx("div",{className:"lead-list-name min-w-0",children:s.jsx("button",{type:"button",className:"inline-flex items-start gap-1 min-w-0 text-left",onClick:()=>{const ir=O.referredContactAccountId||O.referredContactId||O.userId||O.doctorId||O.id,Sa=O.referredContactEmail||(Os?.email??null)||null,ei=(()=>{const ea=O,ta=[ea?.officeAddressLine1,ea?.officeAddressLine2,[ea?.officeCity,ea?.officeState,ea?.officePostalCode].filter(Boolean).join(", "),ea?.officeCountry].filter(Ge=>typeof Ge=="string"&&Ge.trim().length>0);return ta.length>0?ta.join(`
`):null})(),bi=(()=>{const ea=Os,ta=[ea?.officeAddressLine1,ea?.officeAddressLine2,[ea?.officeCity,ea?.officeState,ea?.officePostalCode].filter(Boolean).join(", "),ea?.officeCountry].filter(Ge=>typeof Ge=="string"&&Ge.trim().length>0);return ta.length>0?ta.join(`
`):null})(),ms=ei||bi||null,vl=ei?"prospect":bi?"user":null,hs=O.ownerSalesRepId||O.owner_sales_rep_id||O.salesRepId||O.sales_rep_id||O.assignedSalesRepId||O.assigned_sales_rep_id||(r&&(vr(r.role)||Sn(r.role))?r.salesRepId||r.id:null)||null;ul({doctorId:String(ir||O.id),referralId:A==="referral"?String(O.id):null,doctorName:od,doctorEmail:Sa,doctorAvatar:Os?.profileImageUrl??null,doctorPhone:O.referredContactPhone||null,doctorAddress:ms,addressOrigin:vl,ownerSalesRepId:hs?String(hs):null,orders:[],total:0},"doctor")},onKeyDown:ir=>{if(ir.key==="Enter"||ir.key===" "){ir.preventDefault();const Sa=O.referredContactAccountId||O.referredContactId||O.userId||O.doctorId||O.id,ei=O.referredContactEmail||(Os?.email??null)||null,bi=(()=>{const ta=O,Ge=[ta?.officeAddressLine1,ta?.officeAddressLine2,[ta?.officeCity,ta?.officeState,ta?.officePostalCode].filter(Boolean).join(", "),ta?.officeCountry].filter(Kt=>typeof Kt=="string"&&Kt.trim().length>0);return Ge.length>0?Ge.join(`
`):null})(),ms=(()=>{const ta=Os,Ge=[ta?.officeAddressLine1,ta?.officeAddressLine2,[ta?.officeCity,ta?.officeState,ta?.officePostalCode].filter(Boolean).join(", "),ta?.officeCountry].filter(Kt=>typeof Kt=="string"&&Kt.trim().length>0);return Ge.length>0?Ge.join(`
`):null})(),vl=bi||ms||null,hs=bi?"prospect":ms?"user":null,ea=O.ownerSalesRepId||O.owner_sales_rep_id||O.salesRepId||O.sales_rep_id||O.assignedSalesRepId||O.assigned_sales_rep_id||(r&&(vr(r.role)||Sn(r.role))?r.salesRepId||r.id:null)||null;ul({doctorId:String(Sa||O.id),referralId:A==="referral"?String(O.id):null,doctorName:od,doctorEmail:ei,doctorAvatar:Os?.profileImageUrl??null,doctorPhone:O.referredContactPhone||null,doctorAddress:vl,addressOrigin:hs,ownerSalesRepId:ea?String(ea):null,orders:[],total:0},"doctor")}},"aria-label":`View ${od} details`,style:{background:"transparent",border:"none",padding:0},children:s.jsxs("span",{className:"flex items-center gap-1.5 min-w-0 text-left",children:[s.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm shrink-0",style:{width:28,height:28,minWidth:28},children:Os?.profileImageUrl?s.jsx("img",{src:Os.profileImageUrl,alt:od,className:"h-full w-full object-cover",loading:"lazy",decoding:"async"}):s.jsx("span",{className:"text-[11px] font-semibold text-slate-600",children:Op(od)})}),s.jsx(Mw,{className:"h-4 w-4 text-slate-400 shrink-0 lead-list-name-icon","aria-hidden":"true"}),s.jsx("span",{className:"lead-list-name-text min-w-0 flex-1 break-words justify-start text-left leading-snug mt-[1px] self-start w-full",children:od})]})})}),O.referredContactEmail&&s.jsx("div",{className:"lead-list-detail",children:s.jsx("a",{href:`mailto:${O.referredContactEmail}`,className:"text-[rgb(95,179,249)] hover:underline",children:O.referredContactEmail})}),O.referredContactPhone&&s.jsx("div",{className:"lead-list-detail",children:O.referredContactPhone}),s.jsx("span",{className:`lead-source-pill ${Ae}`,children:_e}),s.jsx("span",{className:`account-status-pill ${Oe?"account-status-pill--active":""}`,children:Oe?"Account Created":"No Account Yet"})]}),s.jsx("div",{className:"active-prospect-status",children:s.jsxs("select",{value:H,disabled:T||_t,onChange:ir=>{const Sa=ir.target.value;if(Sa!==H){if(de&&Sa===Y0){YA(O.id);return}if(!(Sa==="account_created"&&!Oe&&!window.confirm("They have not yet created a PepPro account, are you sure you want to promote them to Account Created?"))){if(Ue){jt(O,Sa);return}vw(O.id,Sa)}}},className:"lead-status-select",children:[de&&s.jsx("option",{value:Y0,children:"Delete"}),wf.map(ir=>s.jsx("option",{value:ir.value,disabled:ir.disabled,children:ir.label},ir.value))]})}),s.jsxs("div",{className:"active-prospect-right",children:[wn?s.jsx("div",{className:"prospect-permit-instructions mt-2 text-xs leading-snug text-slate-500",children:wn}):null,U&&s.jsx("div",{className:"mt-1 text-xs text-slate-700 text-center",children:typeof r?.referralCode=="string"&&r.referralCode.trim()?s.jsx(s.Fragment,{children:s.jsxs("button",{type:"button",className:"text-[11px] font-semibold tracking-wide text-slate-700 hover:text-[rgb(37,99,235)]",title:"Copy your sales code",onClick:()=>{const ir=String(r.referralCode||"").trim().toUpperCase();if(ir)try{navigator.clipboard?.writeText(ir)}catch{}},children:["Your referral code:"," ",String(r.referralCode||"").trim().toUpperCase()]})}):s.jsx("span",{className:"font-semibold tracking-wide text-slate-700",children:"Your referral code: "})}),vt&&s.jsx("div",{className:"text-xs text-amber-600 text-center mt-1",children:"Awaiting their first purchase"}),A==="referral"&&!de&&W==="converted"&&!ge&&Ye&&s.jsx(Je,{type:"button",variant:"outline",size:"sm",disabled:ee,onClick:()=>Wt(O),className:"mt-2 w-full header-home-button squircle-sm justify-center",children:ee?"Crediting":`Credit ${K} $50`}),A==="referral"&&!de&&W==="converted"&&!ge&&!Ye&&s.jsx("div",{className:"text-xs text-slate-500 text-center mt-1",children:"Awaiting first order to credit"}),s.jsxs("div",{className:"lead-list-actions-footer",children:[H==="contacted"&&!Ue&&s.jsxs("div",{className:"prospect-permit-container",children:[s.jsx("div",{className:"prospect-permit-caption",children:"Reseller Permit Verification"}),s.jsxs("div",{className:"prospect-permit-controls",children:[s.jsxs("label",{className:"prospect-permit-checkbox",children:[s.jsx("input",{type:"checkbox",checked:qe,disabled:T||_t||bt&&!qe,onChange:ir=>{Pe(String(O.id),ir.target.checked)},className:"prospect-permit-checkbox-input"}),"Doctor does not have a resellers permit"]}),s.jsxs("div",{className:"prospect-permit-file-picker",children:[s.jsx("input",{id:je,type:"file",accept:"application/pdf,image/*",disabled:T||_t||qe,onChange:ir=>{const Sa=ir.target.files?.[0];Sa&&(rt(String(O.id),Sa),ir.target.value="")},className:"prospect-permit-file-input"}),s.jsx("label",{htmlFor:je,className:"prospect-permit-file-button","aria-disabled":T||_t||qe,children:"Upload Permit"}),bt?s.jsxs("div",{className:"prospect-permit-file-meta",children:[(()=>{const ir=ze||ct.split("/").pop()||"reseller_permit",Sa=ir.length<=12?ir:`${ir.slice(0,8)}${ir.slice(-3)}`;return s.jsx("button",{type:"button",className:"prospect-permit-file-name prospect-permit-file-name-button",disabled:T||_t,"aria-label":"Download uploaded reseller permit",title:ir,onClick:()=>{$t(String(O.id),ir)},children:Sa})})(),s.jsx("button",{type:"button",className:"prospect-permit-file-delete",disabled:T||_t,title:"Delete uploaded permit",onClick:()=>{kt(String(O.id))},children:s.jsx(u_,{className:"h-4 w-4","aria-hidden":"true"})})]}):s.jsx("span",{className:"prospect-permit-file-name",children:"No file selected"})]})]})]}),s.jsxs("div",{className:"lead-list-updated-block",children:[A==="referral"&&ge&&s.jsx("div",{className:"text-xs font-semibold text-emerald-600 text-right break-words",children:`Credited ${K} ${Mt(Z)} at ${Gt(ge)}`}),s.jsx("div",{className:"lead-updated text-right",children:O.updatedAt?`Updated ${Gt(O.updatedAt)}`:Gt(O.createdAt)})]})]})]})]},O.id)})})})]}),s.jsxs("section",{className:"lead-panel",children:[s.jsx("div",{className:"lead-panel-header",children:s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"lead-panel-filter-row",children:s.jsxs("h4",{children:[c.length," Referral",c.length===1?"":"s"]})}),s.jsx("p",{className:"text-sm text-slate-500 referrals-subtitle",children:"Qualify new referrals and update their status."})]})}),s.jsx("div",{className:"lead-panel-divider"}),s.jsx("div",{className:"lead-list-scroll",children:zc?s.jsx("p",{className:"lead-panel-empty text-sm text-slate-500 px-1 py-2",children:"Loading referrals"}):c.length===0?s.jsx("p",{className:"lead-panel-empty text-sm text-slate-500 px-1 py-2",children:"You have no referrals yet. Encourage doctors to grow the network."}):s.jsx("ul",{className:"lead-list",children:c.map(A=>{const O=pl.updatingReferral===A.id,T=pf===A.id,W=nc(A),H=Rs(A.status),U=(()=>{if(W)return ay;const ze=["pending","contacted"],ct=[],bt=pt=>{pt&&(ct.includes(pt)||ct.push(pt))};return ze.includes(H)||bt(H),ze.forEach(pt=>bt(pt)),ct})(),ee=A.referrerDoctorName||"User",K=A.creditIssuedAt||null,ge=A.creditIssuedAmount!=null?A.creditIssuedAmount:50,Z=!!A.referredContactEligibleForCredit,de=ol.has(A.id),Ae=ze=>ze&&ze.split(" ").map(ct=>ct&&ct.charAt(0).toUpperCase()+ct.slice(1)).join(" "),_e=Ae(A.referredContactName)||A.referredContactEmail||"Lead",Oe=Ae(A.referrerDoctorName)||"Referrer",Ye=A.referrerDoctorEmail||"",vt=A.referrerDoctorPhone||"",Ue=A.referredContactEmail||"",qe=A.referredContactPhone||"";return s.jsxs("li",{className:"lead-list-item flex-col gap-3",children:[s.jsxs("div",{className:"lead-panel-header referral-card-header cursor-pointer items-center sales-doctor-row",role:"button",tabIndex:0,onClick:()=>Jr(A.id),onKeyDown:ze=>{(ze.key==="Enter"||ze.key===" ")&&(ze.preventDefault(),Jr(A.id))},"aria-expanded":!de,children:[s.jsx("div",{className:"sales-doctor-chevron",children:s.jsx(eb,{className:"h-4 w-4 text-slate-500","aria-hidden":"true",style:{transform:de?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.32s cubic-bezier(0.42, 0, 0.38, 1)",transformOrigin:"center"}})}),s.jsx("div",{className:"sales-doctor-scroll",children:s.jsxs("div",{className:"sales-doctor-scroll-inner",children:[s.jsx("div",{className:"flex items-center gap-3 min-w-0",children:s.jsx("div",{className:"min-w-0",children:s.jsxs("p",{className:"lead-list-name",children:[Oe," ",s.jsx("span",{className:"text-slate-500 font-normal",children:"referred"})," ",_e]})})}),s.jsxs("div",{className:"text-right text-xs text-slate-500 space-y-1 min-w-[180px]",children:[s.jsxs("div",{children:["Submitted ",Gt(A.createdAt)]}),s.jsxs("div",{className:"text-[11px] text-slate-400",children:["Updated ",Gt(A.updatedAt)]})]})]})})]}),!de&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[W&&s.jsx("span",{className:"lead-source-pill lead-source-pill--manual",children:"Manual"}),s.jsx("span",{className:`account-status-pill ${A.referredContactHasAccount?"account-status-pill--active":""}`,children:A.referredContactHasAccount?"Account Created":"No Account Yet"})]}),s.jsx("div",{className:"text-sm text-slate-700 leading-relaxed bg-slate-50/80 border border-slate-200/70 rounded-lg p-3",children:A.notes?s.jsxs("span",{className:"whitespace-pre-wrap",children:["Notes from ",Oe,": ",A.notes]}):s.jsx("span",{className:"text-xs italic text-slate-400",children:"No notes"})}),s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 w-full",children:[s.jsxs("div",{className:"min-w-[200px] space-y-1",children:[s.jsxs("p",{className:"lead-list-detail",children:["Referee Email:"," ",Ue!==""?s.jsx("a",{href:`mailto:${Ue}`,className:"text-[rgb(95,179,249)] hover:underline",children:Ue}):Ue]}),s.jsxs("p",{className:"lead-list-detail",children:["Referee Phone: ",qe]}),s.jsxs("p",{className:"lead-list-detail",children:["Referrer Email:"," ",Ye!==""?s.jsx("a",{href:`mailto:${Ye}`,className:"text-[rgb(95,179,249)] hover:underline",children:Ye}):Ye]}),s.jsxs("p",{className:"lead-list-detail",children:["Referrer Phone: ",vt]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2 min-w-[240px] ml-auto",children:[s.jsxs("select",{value:H,onChange:ze=>{const ct=ze.target.value;if(W&&ct===Y0){YA(A.id);return}ct==="account_created"&&!A.referredContactHasAccount&&!window.confirm("They have not created a PepPro account, yet are you sure you want to promote them?")||vw(A.id,ct)},disabled:O,className:"w-full rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:[W&&s.jsx("option",{value:Y0,children:"Delete"}),U.map(ze=>s.jsx("option",{value:ze,disabled:!W&&!["pending","contacted"].includes(ze),children:Tp(ze)},ze))]}),H==="converted"&&!W&&!K&&Z&&s.jsx(Je,{type:"button",variant:"outline",size:"sm",disabled:T,onClick:()=>Wt(A),className:"w-full header-home-button squircle-sm justify-center",children:T?"Crediting":`Credit ${ee} $50`}),H==="converted"&&!W&&!K&&!Z&&s.jsx("div",{className:"text-xs text-slate-500 text-right w-full",children:"Awaiting first order to credit"}),K&&s.jsx("div",{className:"text-xs font-semibold text-emerald-600 text-right break-words",children:`Credited ${ee} ${Mt(ge)} at ${Gt(K)}`}),s.jsxs("div",{className:"text-[11px] text-slate-500 text-right",children:["Updated ",Gt(A.updatedAt)]})]})]})]})]},A.id)})})})]}),dt(r?.role)&&s.jsxs("section",{className:"lead-panel",children:[s.jsx("div",{className:"lead-panel-header",children:s.jsxs("div",{children:[s.jsxs("h4",{children:[sc.length," House / Contact Form",sc.length===1?"":"s"]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Inbound submissions captured directly from the site."})]})}),s.jsx("div",{className:"sales-rep-table-wrapper admin-dashboard-list",children:s.jsxs("table",{className:"min-w-[720px] divide-y mb-2 divide-slate-200/70",children:[s.jsx("thead",{className:"bg-slate-50/70",children:s.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-slate-500",children:[s.jsx("th",{className:"px-4 py-3",children:"ID"}),s.jsx("th",{className:"px-4 py-3",children:"Name"}),s.jsx("th",{className:"px-4 py-3",children:"Email"}),s.jsx("th",{className:"px-4 py-3",children:"Phone"}),s.jsx("th",{className:"px-4 py-3",children:"How did you get introduced to PepPro?"}),s.jsx("th",{className:"px-4 py-3",children:"Received"}),s.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y mt-2 mb-2 divide-slate-200/60",children:zc?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-4 py-6 text-center mt-2 mb-2 text-sm text-slate-500",children:"Loading contact forms"})}):sc.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-4 py-6 text-center mt-4 mb-2 text-sm text-slate-500",children:"No contact form submissions available."})}):sc.map(A=>{const O=pl.updatingReferral===A.id,T=Rs(A.status||"contact_form"),W=T==="contact_form"?"pending":T,H=(A.id||"").replace("contact_form:","")||A.id||"";return s.jsxs("tr",{className:"align-top",children:[s.jsx("td",{className:"px-4 py-4 font-mono text-xs text-slate-500",children:H}),s.jsx("td",{className:"px-4 py-4 text-sm font-medium text-slate-900",children:A.referredContactName||""}),s.jsxs("td",{className:"px-4 py-4 text-sm text-slate-600",children:[s.jsx("div",{children:A.referredContactEmail?s.jsx("a",{href:`mailto:${A.referredContactEmail}`,className:"text-[rgb(95,179,249)] hover:underline",children:A.referredContactEmail}):""}),s.jsx("span",{className:`account-status-pill ${A.referredContactHasAccount?"account-status-pill--active":""}`,children:A.referredContactHasAccount?"Account Created":"No Account Yet"})]}),s.jsx("td",{className:"px-4 py-4 text-sm text-slate-600",children:A.referredContactPhone||""}),s.jsx("td",{className:"px-4 py-4 text-sm text-slate-600",children:A.notes||"Contact form"}),s.jsx("td",{className:"px-4 py-4 text-sm text-slate-600",children:s.jsx("div",{children:Gt(A.createdAt)})}),s.jsxs("td",{className:"px-4 py-4",children:[s.jsx("select",{value:W,disabled:O,onChange:U=>{const ee=U.target.value;ee!==W&&vw(A.id,ee)},className:"rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:(()=>{const U=["pending","contacted"],ee=[],K=(ge,Z,de=!1)=>{ge&&(ee.some(Ae=>Ae.value===ge)||ee.push({value:ge,label:Z,disabled:de}))};return U.includes(W)||K(W,Tp(W),!0),U.forEach(ge=>{const Z=ge==="pending"?"Pending":Tp(ge);K(ge,Z,!1)}),ee.map(ge=>s.jsx("option",{value:ge.value,disabled:ge.disabled,children:ge.label},ge.value))})()}),W==="verified"&&s.jsx("button",{type:"button",onClick:ga,className:"block text-[rgb(95,179,249)] text-xs font-semibold hover:underline mt-1",children:"Share Referral Code"})]})]},A.id)})})]})})]})]})]})]})]}),s.jsxs("p",{className:"text-xs text-slate-500/80 pt-2 text-center italic dashboard-feedback-note",children:["Send dashboard recommendations and ideas to"," ",s.jsx("a",{className:"text-[rgb(95,179,249)] underline-offset-2 hover:underline",href:"mailto:petergibbons7@icloud.com?subject=Dashboard%20Recommendation%20(PepPro)",children:"petergibbons7@icloud.com"}),"."]})]})},J9=()=>{console.debug("[Product] Close details"),Ve(!1),Le(null)};y.useEffect(()=>{if(!Ke||!Re)return;(Re.type??"").toLowerCase()==="variable"&&(!Re.variants||Re.variants.length===0)&&Rn(Re)},[Ke,Re,Rn]);const Ap=y.useMemo(()=>yr.filter(h=>{if(h.isSubscription)return!1;const x=h.type?.toLowerCase()||"",S=h.name?.toLowerCase()||"",C=h.category?.toLowerCase()||"",I=h.manufacturer?.toLowerCase()||"",z=h.description?.toLowerCase()||"";return!(x.includes("subscription")||S.includes("subscription")||C.includes("subscription")||I.includes("subscription")||z.includes("subscription"))}),[yr]),sy=y.useMemo(()=>{let h=Ap;return re&&(h=h.filter(x=>x.name.toLowerCase().includes(re.toLowerCase())||x.category.toLowerCase().includes(re.toLowerCase())||x.manufacturer.toLowerCase().includes(re.toLowerCase())||x.description&&x.description.toLowerCase().includes(re.toLowerCase()))),Kn.categories.length>0&&(h=h.filter(x=>Kn.categories.includes(x.category))),Kn.types.length>0&&(h=h.filter(x=>x.type&&Kn.types.includes(x.type))),Kn.tags.length>0&&(h=h.filter(x=>{const S=x.tags??[];if(S.length===0)return!1;const C=new Set(S.map(I=>I.slug));return Kn.tags.some(I=>C.has(I))})),h},[Ap,re,Kn]),u0=y.useMemo(()=>{const h={};for(const x of Ap){const S=(x.category||"").trim();S&&(h[S]=(h[S]||0)+1)}return h},[Ap]),bw=y.useMemo(()=>{const h=new Map;for(const O of Ap)for(const T of O.tags??[]){const W=(T.slug||"").trim(),H=(T.name||"").trim();if(!W||!H)continue;const U=h.get(W);U?U.count+=1:h.set(W,{slug:W,name:H,count:1})}const x=O=>{const T=O.indexOf(":");if(T>1&&T<=24){const H=O.slice(0,T).trim(),U=O.slice(T+1).trim();if(H&&U)return H}const W=O.indexOf(" - ");if(W>1&&W<=24){const H=O.slice(0,W).trim(),U=O.slice(W+3).trim();if(H&&U)return H}return null},S=new Map,C=[];for(const O of h.values()){const T=x(O.name);if(!T){C.push(O);continue}const W=S.get(T)??[];W.push(O),S.set(T,W)}const I=[];for(const[O,T]of S.entries()){if(T.length<3){C.push(...T);continue}const W=T.slice().sort((H,U)=>U.count-H.count||H.name.localeCompare(U.name));I.push({key:O.toLowerCase(),label:O,tags:W})}const z=C.slice().sort((O,T)=>T.count-O.count||O.name.localeCompare(T.name)),A=z.length>0?[{key:"tags",label:"Tags",tags:z}]:[];return[...I.sort((O,T)=>O.label.localeCompare(T.label)),...A]},[Ap]),QA=y.useMemo(()=>{const h=new Set;for(const x of bw)for(const S of x.tags)h.add(S.slug);return h},[bw]),fh=y.useMemo(()=>{const h=u0.Uncategorized||0;return da.filter(x=>x.toLowerCase()==="uncategorized"?h>0:!0)},[da,u0]);y.useEffect(()=>{if(Kn.categories.length===0)return;const h=new Set(fh),x=Kn.categories.filter(S=>h.has(S));x.length!==Kn.categories.length&&Md(S=>({...S,categories:x}))},[Kn.categories,fh]),y.useEffect(()=>{if(Kn.tags.length===0)return;const h=Kn.tags.filter(x=>QA.has(x));h.length!==Kn.tags.length&&Md(x=>({...x,tags:h}))},[Kn.tags,QA]);const eF=y.useMemo(()=>{const h={};for(const x of fh)h[x]=u0[x]||0;return h},[fh,u0]);Ap.slice(0,4);const id=nh&&!!ps,{quoteFontSize:tF,quoteLineClamp:ZA,quoteMobileFont:rF}=y.useMemo(()=>{const h=ps?.text?.length||0;return h>260?{quoteFontSize:"clamp(0.55rem, 1.1vw, 0.72rem)",quoteLineClamp:8,quoteMobileFont:"clamp(0.68rem, 1.9vw, 0.84rem)"}:h>180?{quoteFontSize:"clamp(0.6rem, 1.3vw, 0.8rem)",quoteLineClamp:6,quoteMobileFont:"clamp(0.72rem, 2vw, 0.88rem)"}:h>120?{quoteFontSize:"clamp(0.66rem, 1.5vw, 0.9rem)",quoteLineClamp:5,quoteMobileFont:"clamp(0.78rem, 2.2vw, 0.94rem)"}:{quoteFontSize:"clamp(0.74rem, 1.8vw, 0.98rem)",quoteLineClamp:4,quoteMobileFont:"clamp(0.84rem, 2.5vw, 1rem)"}},[ps]),ph=i.reduce((h,x)=>h+x.quantity,0),JA=ph>0&&!xt,nF=Array.from({length:5}),aF=Array.from({length:1}),iy=180,sF=(h,x)=>{const S=String(x).replace(/\s+/g," ").trim();if(!S)return null;const C=S.length>iy,I=!!ka[h];if(!C)return S;if(I)return s.jsxs(s.Fragment,{children:[S," ",s.jsx("button",{type:"button",className:"text-xs font-semibold text-[rgb(95,179,249)] bg-transparent p-0 whitespace-nowrap",onClick:()=>Bi(K=>({...K,[h]:!1})),children:"Less"})]});const z=S.slice(0,iy+1),A=z.lastIndexOf(" "),O=Math.floor(iy*.6),W=(A>=O?z.slice(0,A):z.slice(0,iy)).replace(/[\s.,;:!?)}\]]+$/g,""),U=Math.max(60,iy-44),ee=W.length>U?W.slice(0,U).replace(/[\s.,;:!?)}\]]+$/g,""):W;return s.jsxs(s.Fragment,{children:[ee,"",s.jsxs("button",{type:"button",className:"text-xs text-[rgb(95,179,249)] bg-transparent p-0 whitespace-nowrap",onClick:()=>Bi(K=>({...K,[h]:!0})),children:[s.jsx("span",{"aria-hidden":!0,children:"..."}),s.jsx("span",{className:"font-semibold",children:"more"})]})]})},d0=gl?52:61,e2=r?s.jsxs(Je,{type:"button",variant:"default",size:"sm",onClick:ga,className:"squircle-sm glass-brand btn-hover-lighter transition-all duration-300 whitespace-nowrap pl-1 pr-0 header-account-button","aria-label":"Open account",children:[s.jsx("span",{className:"hidden sm:inline text-white",children:r.name}),s.jsx("span",{className:"header-account-avatar-shell",children:r.profileImageUrl?s.jsx("img",{src:r.profileImageUrl,alt:r.name,className:"header-account-avatar header-avatar-image",style:{width:d0,height:d0}}):s.jsx("span",{className:"header-account-avatar header-avatar-fallback",style:{width:d0,height:d0},"aria-hidden":"true",children:Op(r.name)})})]}):null;return s.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col safe-area-vertical",style:{position:"static"},children:[s.jsx("div",{"aria-hidden":"true",style:{position:"fixed",top:"-12vh",left:"-6vw",width:"112vw",height:"140vh",backgroundImage:"url(/leafTexture.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:0,pointerEvents:"none",maskImage:"linear-gradient(to top, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.15) 33%, rgba(0,0,0,0.075) 66%, rgba(0,0,0,0) 100%)",WebkitMaskImage:"linear-gradient(to top, rgba(0,0,0,0.50) 0%, rgba(0,0,0,0.15) 40%, rgba(0,0,0,0.05) 50%, rgba(0,0,0,0) 100%)"}}),gt&&Ie&&r&&s.jsx("div",{className:"info-focus-overlay","aria-hidden":"true"}),s.jsxs("div",{className:"relative z-10 flex flex-1 flex-col",children:[r&&!J&&s.jsx("div",{style:{display:Ie?"none":void 0},children:s.jsx(tk,{user:r,researchDashboardEnabled:Im,patientLinksEnabled:Tm,onLogin:WA,onLogout:sd,cartItems:ph,onSearch:GA,onCreateAccount:HA,onCartClick:()=>d(!0),loginPromptToken:Te,loginContext:At,showCartIconFallback:JA,onShowInfo:()=>{console.log("[App] onShowInfo called, setting postLoginHold to true"),mt(!0)},onUserUpdated:h=>n(h),accountOrders:oi,accountOrdersLoading:jc,accountOrdersError:Od,ordersLastSyncedAt:_c,onRefreshOrders:Gn,showCanceledOrders:is,onToggleShowCanceled:pm,accountModalRequest:Au,onAccountModalRequestHandled:h=>{Cc(x=>x&&(x.token===h?null:x))},suppressAccountHomeButton:Ie,onBuyOrderAgain:q9,onCancelOrder:Hf,referralCodes:Rg,catalogLoading:vi,onLoadDelegateProposal:U9})}),J&&ne&&!le&&!me&&s.jsx("div",{style:{display:Ie?"none":void 0},children:s.jsx(tk,{user:null,delegateMode:!0,delegateLogoUrl:ue?.doctorLogoUrl??null,delegateDoctorName:ve,researchDashboardEnabled:!1,patientLinksEnabled:!1,cartItems:ph,onSearch:GA,onCartClick:()=>d(!0),showCartIconFallback:JA,catalogLoading:vi})}),s.jsxs("div",{className:"flex-1 w-full flex flex-col",children:[(!r||Ie)&&!J&&s.jsxs("div",{className:"min-h-screen flex flex-col items-center pt-20 px-4 py-12",children:[Ie&&r?s.jsx("div",{className:"w-full max-w-7xl mb-6 px-4",children:gl?s.jsxs("div",{className:"flex items-center justify-between gap-6 lg:gap-8 mb-8 w-full",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"brand-logo brand-logo--landing",children:s.jsx("img",{src:Vp("/PepPro_fulllogo.png"),alt:"PepPro",style:{display:"block",width:"auto",height:"auto",maxWidth:"min(330px, 35vw)",maxHeight:"min(290px, 25vh)",objectFit:"contain"}})})}),s.jsxs("div",{className:`flex items-center justify-end gap-4 transition-all duration-500 flex-shrink-0 ${kn?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:[s.jsxs("p",{className:`font-semibold text-[rgb(95,179,249)] text-right leading-none shimmer-text ${gt?"is-shimmering":"shimmer-text--cooldown"}`,style:{color:"rgb(95,179,249)",fontSize:gt?"clamp(1.6rem, 2.9vw, 3rem)":"clamp(1.35rem, 2.6vw, 2.2rem)",transition:"font-size 800ms ease"},children:["Welcome",r.visits&&r.visits>1?" back!":"!"]}),e2]})]}):s.jsxs("div",{className:"flex flex-col items-center gap-6 mb-8",children:[s.jsxs("div",{className:"flex w-full items-center justify-between gap-4 px-4",children:[s.jsx("div",{className:"brand-logo brand-logo--landing flex-shrink-0",children:s.jsx("img",{src:Vp("/PepPro_fulllogo.png"),alt:"PepPro",style:{display:"block",width:"auto",height:"auto",minWidth:"180px",minHeight:"54px",maxWidth:"min(330px, 35vw)",maxHeight:"min(290px, 25vh)",objectFit:"contain"}})}),e2]}),s.jsxs("div",{className:`glass-card squircle-lg border border-[var(--brand-glass-border-2)] px-4 py-4 shadow-lg transition-all duration-500 w-full info-highlight-card ${gt?"info-focus-active":""} ${kn?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"} flex flex-col items-center text-center justify-center sm:justify-start`,style:{backdropFilter:"blur(20px) saturate(1.4)",minHeight:id&&ps?"auto":"min(140px, 20vh)"},children:[s.jsxs("p",{className:`text-center font-semibold text-[rgb(95,179,249)] shimmer-text ${gt?"is-shimmering":"shimmer-text--cooldown"}`,style:{color:"rgb(95,179,249)",fontSize:id&&ps?"clamp(1rem, 3.2vw, 1.6rem)":"clamp(1.32rem, 4.9vw, 1.9rem)",lineHeight:1.2,transform:id&&ps?"translateY(-8px)":"translateY(0)",transition:"font-size 600ms ease, transform 600ms ease"},children:["Welcome",r.visits&&r.visits>1?" back":"",", ",r.name,"!"]}),s.jsxs("div",{className:`${ry&&!id?"quote-container-shimmer":""} w-full rounded-lg bg-white/65 px-3 py-3 sm:px-4 sm:py-3 text-center shadow-inner transition-opacity duration-500 mt-6`,"aria-live":"polite",children:[!id&&s.jsx("div",{className:"min-h-[56px] flex items-center justify-center w-full",children:s.jsx("p",{className:"text-sm font-semibold mt-3 text-center shimmer-text is-shimmering",style:{color:"rgb(95,179,249)"},children:"Loading today's quote"})}),id&&ps&&s.jsxs("p",{className:"px-4 sm:px-6 italic text-[rgb(95,179,249)] leading-snug break-words",style:{color:"rgb(95,179,249)",fontSize:rF,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:ZA,WebkitBoxOrient:"vertical"},children:['"',ps.text,'"  ',ps.author]})]})]})]})}):s.jsx("div",{className:`flex justify-center ${Nt==="signup"?"mb-6 sm:mb-8 lg:mb-12":"mb-12 sm:mb-12 lg:mb-20"}`,children:s.jsx("div",{className:"brand-logo brand-logo--landing",children:s.jsx("img",{src:Vp("/PepPro_fulllogo.png"),alt:"PepPro",style:{display:"block",width:"auto",height:"auto",maxWidth:"min(360px, 80vw)",maxHeight:"min(360px, 40vh)",objectFit:"contain"}})})}),Ie&&r?s.jsx("div",{className:"w-full max-w-6xl mt-4 sm:mt-6 md:mt-8",children:s.jsxs("div",{className:"post-login-layout",children:[s.jsx("div",{className:"post-login-news glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] p-6 sm:p-8 shadow-xl",style:{backdropFilter:"blur(38px) saturate(1.6)"},children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[rgb(95,179,249)]",children:"Peptide News"}),s.jsx(Je,{type:"button",variant:"outline",size:"sm",className:"header-home-button squircle-sm bg-white text-slate-900",onClick:z9,disabled:to,title:"Refresh news",children:to?"Refreshing":"Refresh"}),Sp&&s.jsxs("span",{className:"text-xs text-gray-500",children:["Updated at:"," ",Sp.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})]})]}),s.jsx("a",{href:"https://www.nature.com/subjects/peptides",target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold uppercase tracking-wide text-[rgb(95,179,249)] hover:underline underline-offset-4",children:"View All"})]}),s.jsxs("div",{className:"max-h-[60vh] overflow-y-auto pr-1 space-y-4 text-sm text-gray-700 leading-relaxed",children:[to&&s.jsxs("ul",{className:"space-y-4","aria-live":"polite",children:[nF.map((h,x)=>s.jsxs("li",{className:"news-loading-card flex items-start gap-3",children:[s.jsx("div",{className:"news-loading-thumb","aria-hidden":"true"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"news-loading-line news-loading-shimmer w-3/4","aria-hidden":"true"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-full","aria-hidden":"true"}),s.jsx("div",{className:"news-loading-line news-loading-shimmer w-1/2","aria-hidden":"true"})]})]},x)),s.jsx("li",{className:"text-xs text-slate-500 pl-1",children:"Loading latest headlines"})]}),!to&&wp&&s.jsx("p",{className:"text-xs text-red-600",children:wp}),!to&&!wp&&Jl.length===0&&s.jsx("p",{className:"text-xs text-slate-600",children:"No headlines available right now. Please check back soon."}),!to&&!wp&&Jl.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("ul",{className:"space-y-4",children:Jl.map(h=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"peptide-news-thumb flex-none ring-1 ring-white/40 shadow-sm",children:s.jsx("img",{src:h.image??Qce,alt:`Peptide news: ${h.title}`,loading:"lazy"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:s.jsxs("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"text-[rgb(95,179,249)] font-semibold hover:underline underline-offset-4","aria-label":`${h.date?ED(h.date)+"  ":""}${h.title}`,children:[h.date&&s.jsx("span",{className:"text-xs text-gray-500 mr-2",children:ED(h.date)}),s.jsx("span",{className:"align-middle",children:h.title})]})}),h.summary&&s.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:h.summary})]})]},h.url))}),s.jsxs("div",{className:"pt-4 text-[11px] uppercase tracking-wide text-gray-500 border-t border-white/40",children:["Source:"," ",s.jsx("a",{href:"https://www.nature.com/subjects/peptides",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-[rgb(95,179,249)] hover:underline underline-offset-4",children:"Nature.com  Peptide Subject"})]})]})]})]})}),s.jsx("div",{className:"post-login-info glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] pt-6 px-6 pb-4 sm:pt-8 sm:px-8 sm:pb-5 shadow-xl",style:{backdropFilter:"blur(38px) saturate(1.6)"},children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:`flex w-full flex-wrap items-center gap-3 pb-2 ${Ti(r?.role)?"justify-between":""}`,children:[s.jsxs(Je,{type:"button",size:"lg",onClick:()=>{typeof window<"u"?window.dispatchEvent(new CustomEvent("peppro:logout-with-thanks")):sd()},className:"text-white squircle-sm px-6 py-2 font-semibold uppercase tracking-wide shadow-lg shadow-[rgba(95,179,249,0.4)] focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-[rgba(95,179,249,0.35)] focus-visible:ring-offset-2 focus-visible:ring-offset-white transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"rgb(95, 179, 249)"},children:[s.jsx(fq,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),s.jsx("span",{children:"Logout"})]}),s.jsxs(Je,{type:"button",size:"lg",onClick:G9,disabled:!(lp||dt(r?.role)||vr(r?.role)||Tce(r?.role)),className:"text-white squircle-sm px-6 py-2 font-semibold uppercase tracking-wide shadow-lg shadow-[rgba(95,179,249,0.4)] focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-[rgba(95,179,249,0.35)] focus-visible:ring-offset-2 focus-visible:ring-offset-white transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"rgb(95, 179, 249)"},children:[s.jsx("span",{className:"mr-2",children:"Shop"}),s.jsx(mq,{className:"h-4 w-4","aria-hidden":"true"})]}),(vr(r?.role)||dt(r?.role))&&s.jsxs("span",{className:"text-[11px] text-slate-600 italic",children:["Shop for physicians:"," ",lp?"Enabled":"Disabled"]})]}),gl&&s.jsxs("div",{className:`glass-card ${ry&&!id?"quote-container-shimmer":""} squircle-md border border-[var(--brand-glass-border-2)] px-4 py-4 shadow-lg transition-all duration-500 flex flex-col justify-center w-full`,style:{backdropFilter:"blur(20px) saturate(1.4)"},"aria-live":"polite",children:[!id&&s.jsx("div",{className:"flex w-full items-center justify-center",children:s.jsx("p",{className:"text-sm font-semibold text-center shimmer-text is-shimmering",style:{color:"rgb(95,179,249)"},children:"Loading today's quote"})}),id&&ps&&s.jsxs("p",{className:"px-4 sm:px-6 italic text-[rgb(95,179,249)] text-center leading-snug break-words",style:{color:"rgb(95,179,249)",fontSize:tF,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:ZA,WebkitBoxOrient:"vertical"},children:['"',ps.text,'"  ',ps.author]})]}),ur&&s.jsxs("div",{className:`glass-card squircle-md p-4 space-y-3 border border-[var(--brand-glass-border-2)] ${Wn?"forum-container-shimmer":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[rgb(95,179,249)]",children:"The Peptide Forum"}),!dn&&dt(r?.role)&&s.jsx("p",{className:"text-[11px] text-amber-700",children:"Hidden for users (admin override)"})]}),s.jsx("div",{className:"flex flex-col items-end gap-1",children:s.jsx(Je,{type:"button",variant:"outline",size:"sm",className:"header-home-button squircle-sm bg-white text-slate-900",onClick:()=>void Cr({force:!0}),disabled:Wn,children:Wn?"Refreshing":"Refresh"})})]}),Wn&&s.jsx("ul",{className:"space-y-3","aria-live":"polite",children:aF.map((h,x)=>s.jsx("li",{className:"rounded-lg border border-white/40 bg-white/70 px-3 py-2 shadow-sm min-h-[108px] forum-container-shimmer",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 w-4/5 rounded bg-[rgba(95,179,249,0.14)]"}),s.jsx("div",{className:"h-3 w-full rounded bg-[rgba(95,179,249,0.10)]"}),s.jsx("div",{className:"h-3 w-11/12 rounded bg-[rgba(95,179,249,0.10)]"}),s.jsx("div",{className:"h-3 w-1/3 rounded bg-[rgba(95,179,249,0.12)]"})]})},x))}),!Wn&&kr&&s.jsx("p",{className:"text-xs text-red-600",role:"alert",children:kr}),!Wn&&!kr&&(()=>{const h=(ns||[]).slice().sort((x,S)=>{const C=A=>{if(!A)return Number.NEGATIVE_INFINITY;const O=Date.parse(A);return Number.isFinite(O)?O:Number.NEGATIVE_INFINITY},I=C(x?.date??null);return C(S?.date??null)-I}).filter(x=>{const S=x?.date??null,C=S?Date.parse(S):Number.NaN;if(!Number.isFinite(C))return!!(x?.link&&String(x.link).trim()||x?.recording&&String(x.recording).trim());const I=!!(x?.recording&&String(x.recording).trim()),z=!!(x?.link&&String(x.link).trim()),A=x,O=typeof A?.durationMinutes=="number"?A.durationMinutes:typeof A?.duration_minutes=="number"?A.duration_minutes:typeof A?.duration=="number"?A.duration:typeof A?.lengthMinutes=="number"?A.lengthMinutes:typeof A?.length_minutes=="number"?A.length_minutes:null,T=typeof O=="number"&&Number.isFinite(O)&&O>0?O*6e4:60*6e4,W=A?.endDate??A?.end_date??A?.endsAt??A?.ends_at??A?.end??null,H=typeof W=="string"&&W.trim().length>0?Date.parse(W):Number.NaN,U=Number.isFinite(H)?H:C+T;return Date.now()>U?I:z||I});return h.length===0?s.jsxs("p",{className:"text-xs text-slate-500",children:["Stay tuned! New classes will be scheduled here and on our"," ",s.jsx("a",{href:"https://www.linkedin.com/company/peppro/posts/?feedView=all",target:"_blank",rel:"noreferrer",className:"text-[rgb(26,85,173)] hover:underline",children:"LinkedIn"}),"."]}):s.jsx("ul",{className:"space-y-3",children:h.map(x=>s.jsx("li",{className:"rounded-lg border border-white/40 bg-white/70 px-3 py-2 shadow-sm",children:s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[x.date?`${Gt(x.date)}  `:"",x.title]}),x.description&&s.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:sF(x.id,x.description)}),(()=>{const S=x?.date??null,C=S?Date.parse(S):Number.NaN,I=x?.recording&&String(x.recording).trim()?String(x.recording).trim():null,z=x?.link&&String(x.link).trim()?String(x.link).trim():null,A=Date.now(),O=x,T=typeof O?.durationMinutes=="number"?O.durationMinutes:typeof O?.duration_minutes=="number"?O.duration_minutes:typeof O?.duration=="number"?O.duration:typeof O?.lengthMinutes=="number"?O.lengthMinutes:typeof O?.length_minutes=="number"?O.length_minutes:null,W=typeof T=="number"&&Number.isFinite(T)&&T>0?T*6e4:60*6e4,H=O?.endDate??O?.end_date??O?.endsAt??O?.ends_at??O?.end??null,U=typeof H=="string"&&H.trim().length>0?Date.parse(H):Number.NaN,ee=Number.isFinite(U)?U:Number.isFinite(C)?C+W:Number.NaN,K=Number.isFinite(C)?C-10*6e4:Number.NaN,ge=Number.isFinite(C)&&Number.isFinite(ee)&&A>=C&&A<=ee,Z=Number.isFinite(K)&&Number.isFinite(ee)&&A>=K&&A<=ee,de=Number.isFinite(ee)?A>ee:!1,Ae=de&&I?I:z;if(!Ae)return null;const _e=de&&I?"Recording Available":Z||ge?"Join the Forum":"Forum Link";return s.jsx("p",{className:"text-sm mt-1 pt-0.5",children:s.jsx("a",{href:Ae,target:"_blank",rel:"noopener noreferrer",className:"font-semibold !text-[rgb(95,179,249)] hover:underline underline-offset-4",style:{color:"rgb(95, 179, 249)"},children:s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(Mq,{className:"h-4 w-4","aria-hidden":"true"}),s.jsx("span",{children:_e})]})})})})()]})},x.id))})})()]}),!(vr(r.role)||dt(r.role))&&s.jsxs("div",{className:"glass-card squircle-md p-4 space-y-2 border border-[var(--brand-glass-border-2)]",children:[s.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Please contact your representative anytime."}),s.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Name:"})," ",r.salesRep?.name||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Email:"})," ",r.salesRep?.email?s.jsx("a",{href:`mailto:${r.salesRep.email}`,className:"text-[rgb(95,179,249)] hover:underline",children:r.salesRep.email}):"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Phone:"})," ",r.salesRep?.phone||"N/A"]})]})]}),s.jsx("div",{className:"relative flex flex-col gap-6 max-h-[70vh]",children:s.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-16"})})]})})]})}):s.jsx("div",{className:`w-full max-w-md ${Nt==="signup"?"mt-3 sm:mt-4 md:mt-6":"mt-4 sm:mt-6 md:mt-8"}`,children:s.jsx("div",{className:"glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] p-8 shadow-xl",style:{backdropFilter:"blur(38px) saturate(1.6)"},children:s.jsxs("div",{className:Nt==="signup"?"space-y-6":"space-y-4",children:[Nt==="login"&&s.jsx(s.Fragment,{children:s.jsxs("form",{onSubmit:async h=>{if(h.preventDefault(),Ta)return;const x=S=>{if(typeof navigator<"u"&&navigator.onLine===!1)return"offline";const C=String(S||"").toLowerCase().trim();return C?C.includes("internet connection appears to be offline")||C.includes("appears to be offline")||C.includes("no internet")||C.includes("offline")?"offline":C.includes("failed to fetch")||C.includes("networkerror")||C.includes("network request failed")||C.includes("load failed")||C.includes("timeout")||C.includes("econnrefused")||C.includes("enotfound")||C.includes("eai_again")?"network":null:null};As(""),mo(!0);try{const S=new FormData(h.currentTarget),C=await WA(S.get("username"),S.get("password"));if(C.status!=="success")if(C.status==="invalid_password")As("Incorrect password. Please try again.");else if(C.status==="email_not_found")As("We could not find that email.");else{const I=x(C?.message??null);As(I==="offline"?"No internet connection detected. Please turn on WiFi or cellular data and try again.":I==="network"?"Can't reach PepPro right now. This usually means your internet is offline or very slow. Please check your connection and try again.":"Unable to log in. Please try again.")}}catch(S){console.warn("[Landing Login] Failed",S);const C=x(S instanceof Error?S.message:null);As(C==="offline"?"No internet connection detected. Please turn on WiFi or cellular data and try again.":C==="network"?"We cannot reach the PepPro serverright now. Please check your connection and try again in a minute.":"Unable to log in. Please try again.")}finally{mo(!1)}},className:"space-y-3",autoComplete:"on",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"landing-username",className:"text-sm font-medium",children:"Email"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("input",{ref:gr,id:"landing-username",name:"username",type:"text",autoComplete:"username",inputMode:"email",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,required:!0,onFocus:Rd,className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})}),s.jsx("input",{type:"text",autoComplete:"webauthn","aria-hidden":"true",tabIndex:-1,style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",opacity:0}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"landing-password",className:"text-sm font-medium",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:Fr,id:"landing-password",name:"password",type:uo?"text":"password",autoComplete:"current-password",autoCorrect:"off",spellCheck:!1,required:!0,onFocus:Rd,className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),s.jsx("button",{type:"button",onClick:()=>Ea(h=>!h),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":uo?"Hide password":"Show password","aria-pressed":uo,children:uo?s.jsx(uu,{className:"h-5 w-5"}):s.jsx(pd,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-sm text-gray-600",children:[s.jsxs("p",{children:["Forgot your password?"," ",s.jsx("button",{type:"button",onClick:()=>Pp("forgot"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Reset it"})]}),Ur.platform&&s.jsxs("button",{type:"button",onClick:mm,disabled:Ra,className:"inline-flex items-center gap-1 font-semibold text-transparent hover:text-transparent focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Sign in with a passkey (biometrics)",style:{backgroundColor:"transparent",borderColor:"transparent"},children:[Ra?s.jsx(Fp,{className:"h-4 w-4 animate-spin-slow","aria-hidden":"true"}):s.jsx(Fq,{className:"h-4 w-4","aria-hidden":"true"}),s.jsx("span",{className:"sr-only",children:"Sign in with passkey"})]})]})]}),ym&&s.jsx("p",{className:"text-sm text-red-600",role:"alert",children:ym}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Je,{type:"submit",size:"lg",className:"mt-2 w-full squircle-sm glass-brand btn-hover-lighter inline-flex items-center justify-center gap-2",disabled:Ta,children:[Ta&&s.jsx(Fp,{className:"h-4 w-4 animate-spin-slow text-white shrink-0","aria-hidden":"true",style:{transformOrigin:"center center",transform:"translateZ(0)"}}),Ta?"Signing in":"Sign In"]}),s.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Have a referral code?"," ",s.jsx("button",{type:"button",onClick:()=>Pp("signup"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Create an account"})]})]})]})}),Nt==="forgot"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Reset your password"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Enter the email associated with your account and well send you a secure link."})]}),s.jsxs("form",{onSubmit:F9,className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"landing-reset-email",className:"text-sm font-medium",children:"Email"}),s.jsx("input",{id:"landing-reset-email",type:"email",required:!0,value:_s,onChange:h=>{Oa(h.target.value),Ui&&Fn(""),Ni&&ia(!1)},className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),Ui&&s.jsx("p",{className:"text-sm text-red-600",role:"alert",children:Ui}),Ni&&s.jsx("p",{className:"text-sm text-emerald-600",role:"status",children:"Your reset link will likely arrive in your spam folder within the next 30 seconds."}),s.jsx(Je,{type:"submit",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter inline-flex items-center justify-center gap-2",disabled:fo,children:fo?"Sending":Ni?"Reset link sent":"Send reset link"})]}),s.jsx("div",{className:"text-center text-sm text-gray-600",children:s.jsx("button",{type:"button",onClick:()=>Dl(),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Return to sign in"})})]}),Nt==="reset"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Choose a new password"}),s.jsx("p",{className:"text-sm text-gray-600",children:Vn?"Create a new password to secure your account.":"This reset link is invalid or expired. Request a new one to continue."})]}),!Us&&s.jsxs("form",{onSubmit:B9,className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"landing-new-password",className:"text-sm font-medium",children:"New password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"landing-new-password",type:_i?"text":"password",value:Sc,onChange:h=>Jo(h.target.value),required:!0,disabled:!Vn,className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 disabled:bg-slate-50 disabled:text-slate-500"}),s.jsx("button",{type:"button",onClick:()=>Rl(h=>!h),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":_i?"Hide new password":"Show new password","aria-pressed":_i,children:_i?s.jsx(uu,{className:"h-5 w-5"}):s.jsx(pd,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"landing-confirm-password",className:"text-sm font-medium",children:"Confirm password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"landing-confirm-password",type:ce?"text":"password",value:Nc,onChange:h=>zs(h.target.value),required:!0,disabled:!Vn,className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 disabled:bg-slate-50 disabled:text-slate-500"}),s.jsx("button",{type:"button",onClick:()=>tt(h=>!h),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":ce?"Hide confirm password":"Show confirm password","aria-pressed":ce,children:ce?s.jsx(uu,{className:"h-5 w-5"}):s.jsx(pd,{className:"h-5 w-5"})})]})]}),ji&&s.jsx("p",{className:"text-sm text-red-600",role:"alert",children:ji}),s.jsx(Je,{type:"submit",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter inline-flex items-center justify-center gap-2",disabled:!Vn||ii,children:ii?"Updating":"Update password"})]}),Us&&s.jsxs("div",{className:"space-y-3 text-center",children:[s.jsx("p",{className:"text-sm text-emerald-600",role:"status",children:Us}),s.jsx(Je,{type:"button",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter",onClick:()=>Dl(),children:"Return to sign in"})]}),!Vn&&!Us&&s.jsx("div",{className:"text-center text-sm text-gray-600",children:s.jsx("button",{type:"button",onClick:()=>Pp("forgot"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Request a new reset link"})}),s.jsx("div",{className:"text-center text-sm text-gray-600",children:s.jsx("button",{type:"button",onClick:()=>Pp("login"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Back to sign in"})})]}),Nt==="signup"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-center space-y-2",children:s.jsx("h1",{className:"text-2xl font-semibold",children:"Join the PepPro Network"})}),s.jsxs("form",{onSubmit:async h=>{h.preventDefault(),os("");const x=new FormData(h.currentTarget),S=x.get("suffix")||"",C=x.get("name")||"",z={name:S?`${S} ${C}`.trim():C,email:x.get("email")||"",password:x.get("password")||"",confirmPassword:x.get("confirm")||"",code:(x.get("code")||"").toUpperCase(),npiNumber:x.get("npiNumber")||""},A=await HA(z);A.status==="success"?Pp("login"):A.status==="email_exists"?os("An account with this email already exists. Please sign in."):A.status==="invalid_referral_code"?os("Referral codes must be 5 characters (e.g., AB123)."):A.status==="referral_code_not_found"?os("We couldn't locate that referral code. Please confirm it with your representative."):A.status==="referral_code_unavailable"?os("This onboarding code isn't available. Please confirm it with your representative."):A.status==="name_email_required"?os("Name and email are required to create your account."):A.status==="password_mismatch"?os("Passwords do not match. Please confirm and try again."):A.status==="invalid_npi"?os("Enter a valid 10-digit NPI number assigned to you by CMS."):A.status==="npi_not_found"?os("We couldn't verify that NPI number in the CMS registry. Please double-check and try again."):A.status==="npi_already_registered"?os("An account already exists for this NPI number. Please sign in or contact support@peppro.net."):A.status==="npi_verification_failed"?os("We were unable to reach the CMS NPI registry. Please try again in a moment."):A.status==="error"&&(A.message==="PASSWORD_REQUIRED"?os("Please create a secure password to access your account."):A.message?os(A.message):os("Unable to create account. Please try again."))},className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:gap-4",children:[s.jsxs("div",{className:"space-y-2 sm:w-36",children:[s.jsxs("label",{htmlFor:"landing-suffix",className:"text-sm font-medium",children:[s.jsx("span",{children:"Suffix"}),s.jsx("span",{className:"ml-2 text-xs font-normal text-gray-500",children:"Optional"})]}),s.jsxs("select",{id:"landing-suffix",name:"suffix",className:"glass squircle-sm w-full px-3 text-sm border transition-colors focus-visible:outline-none focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)] leading-tight",style:{borderColor:"rgba(95,179,249,0.18)",backgroundColor:"rgba(95,179,249,0.02)",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23071b1b' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"12px",paddingRight:"2.5rem",height:"2.5rem",lineHeight:"1.25rem"},children:[s.jsx("option",{value:"",children:"None"}),s.jsx("option",{value:"Mr.",children:"Mr."}),s.jsx("option",{value:"Mrs.",children:"Mrs."}),s.jsx("option",{value:"Ms.",children:"Ms."}),s.jsx("option",{value:"Mx.",children:"Mx."}),s.jsx("option",{value:"Dr.",children:"Dr."}),s.jsx("option",{value:"Prof.",children:"Prof."}),s.jsx("option",{value:"Sir",children:"Sir"}),s.jsx("option",{value:"Dame",children:"Dame"})]})]}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("label",{htmlFor:"landing-name",className:"text-sm font-medium",children:"Full Name"}),s.jsx("input",{id:"landing-name",name:"name",type:"text",required:!0,className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"landing-email2",className:"text-sm font-medium",children:"Email"}),s.jsx("input",{id:"landing-email2",name:"email",type:"email",required:!0,className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"landing-password2",className:"text-sm font-medium",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"landing-password2",name:"password",type:ss?"text":"password",required:!0,autoComplete:"new-password",className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),s.jsx("button",{type:"button",onClick:()=>sr(h=>!h),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":ss?"Hide password":"Show password","aria-pressed":ss,children:ss?s.jsx(uu,{className:"h-5 w-5"}):s.jsx(pd,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"landing-confirm",className:"text-sm font-medium",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"landing-confirm",name:"confirm",type:hn?"text":"password",required:!0,autoComplete:"new-password",className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),s.jsx("button",{type:"button",onClick:()=>Tn(h=>!h),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":hn?"Hide confirm password":"Show confirm password","aria-pressed":hn,children:hn?s.jsx(uu,{className:"h-5 w-5"}):s.jsx(pd,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"landing-npi",className:"text-sm font-medium",children:"NPI Number"}),s.jsx("input",{id:"landing-npi",name:"npiNumber",type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:10,placeholder:"10-digit NPI",onInput:h=>{const x=h.currentTarget,S=x.value.replace(/[^0-9]/g,"").slice(0,10);x.value=S,$9(S)},className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),s.jsxs("p",{className:`text-xs ${Ec==="verified"?"text-emerald-600":Ec==="rejected"?"text-red-600":"text-slate-500"}`,children:[Ec==="idle"&&"We securely verify your medical credentials with the CMS NPI registry.",Ec==="checking"&&"Contacting the CMS NPI registry...",Ec==="verified"&&s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx("span",{className:"npi-checkmark","aria-hidden":"true",children:""}),Id||"NPI verified with the CMS registry."]}),Ec==="rejected"&&(Id||"We were unable to verify this NPI number. Please double-check and try again.")]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"landing-code",className:"text-sm font-medium",children:"Referral Code"}),s.jsx("input",{id:"landing-code",name:"code",type:"text",required:!0,maxLength:5,inputMode:"text",pattern:"[A-Z0-9]*",autoComplete:"off",onInput:h=>{const x=h.currentTarget;x.value=x.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,5)},className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",style:{textTransform:"uppercase"}}),s.jsx("p",{className:"text-xs text-slate-500",children:"Codes are 5 characters and issued by your representative."})]}),Td&&s.jsx("p",{className:"text-sm text-red-600",role:"alert",children:Td}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{type:"submit",size:"lg",className:"mt-2 w-full squircle-sm glass-brand btn-hover-lighter",children:"Create Account"}),s.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",s.jsx("button",{type:"button",onClick:()=>Pp("login"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Sign in"})]})]})]})]})]})})})]}),!J&&r&&!Ie&&s.jsxs("main",{className:"w-full pb-12 mobile-safe-area",style:{paddingTop:"calc(var(--app-header-height, 0px) + 1rem)"},children:[vr(r.role)||dt(r.role)?Z9():Q9(),XA()]}),J&&(!ne||le?s.jsx("main",{className:"w-full h-screen min-h-screen flex items-center justify-center px-4 sm:px-6",children:s.jsxs("div",{className:"glass-card squircle-xl border border-[var(--brand-glass-border-2)] px-6 py-8 shadow-xl bg-white/85 backdrop-blur-xl max-w-2xl w-full text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"Loading"}),s.jsx("p",{className:"mt-2 text-sm leading-relaxed text-slate-700",children:"Checking your delegate session."})]})}):me?s.jsx("main",{className:"w-full h-screen min-h-screen flex items-center justify-center px-4 sm:px-6",children:s.jsxs("div",{className:"glass-card squircle-xl border border-[var(--brand-glass-border-2)] px-6 py-8 shadow-xl bg-white/85 backdrop-blur-xl max-w-2xl w-full text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"This delegate session has expired."}),s.jsx("p",{className:"mt-2 text-sm leading-relaxed text-slate-700",children:"Please request a new link from your doctor and try again."})]})}):s.jsxs("main",{className:"w-full pb-12 mobile-safe-area",style:{paddingTop:"calc(var(--app-header-height, 0px) + 1rem)"},children:[X&&s.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-0 pb-4 flex justify-center",children:s.jsxs("div",{className:"glass-card p-2 squircle-md border border-[var(--brand-glass-border-1)] bg-white/70 px-6 py-3 text-sm text-slate-700 inline-flex w-fit max-w-full items-center justify-center gap-2",children:[s.jsx(M2,{className:"h-4 w-4 text-slate-700","aria-hidden":"true"}),s.jsxs("span",{children:["Session expires in ",s.jsx("span",{className:"font-semibold",children:X}),"."]})]})}),pe?s.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-0",children:s.jsxs("div",{className:"glass-card squircle-xl mt-2 border border-[var(--brand-glass-border-1)] bg-white/80 p-8 sm:p-10",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Proposal Status"}),s.jsxs("p",{className:"mt-1 text-sm text-slate-700",children:["Your proposal has been sent to"," ",ve==="Doctor"?"your doctor":`Dr. ${ve}`,"."]})]}),(()=>{const h=String(ue?.proposalStatus||"pending").toLowerCase(),x=h==="accepted"?{Icon:kL,label:"Accepted",className:"text-emerald-700"}:h==="modified"?{Icon:Mw,label:"Modified",className:"text-blue-700"}:h==="rejected"?{Icon:kq,label:"Rejected",className:"text-red-700"}:{Icon:M2,label:"Pending review",className:"text-slate-700"},S=x.Icon;return s.jsxs("div",{className:`flex items-center gap-2 font-semibold ${x.className}`,children:[s.jsx(S,{className:"h-5 w-5","aria-hidden":"true"}),s.jsx("span",{children:x.label})]})})()]}),s.jsxs("div",{className:"mt-5 space-y-2 text-sm text-slate-700",children:[ue?.delegateSharedAt&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Submitted:"})," ",new Date(ue.delegateSharedAt).toLocaleString()]}),ue?.proposalReviewedAt&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Updated:"})," ",new Date(ue.proposalReviewedAt).toLocaleString()]}),ue?.proposalReviewOrderId&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Order:"})," ",ue.proposalReviewOrderId]})]})]})}):XA()]}))]}),J&&(!ne||me)?null:r?s.jsx(BC,{showContactCTA:!1,variant:"full"}):s.jsx(BC,{showContactCTA:!0,variant:"full"})]}),s.jsx(JU,{isOpen:u,onClose:()=>d(!1),cartItems:i,forceProposalMode:m,onCheckout:H9,onClearCart:()=>{l([]),g(null),w(null)},onPaymentSuccess:J?void 0:()=>{const h=Date.now(),x=Ws.current;Cc({tab:"orders",open:!0,token:h,order:x??void 0}),ku().catch(()=>{}),setTimeout(()=>{Cc(S=>S&&S.token===h?null:S)},2500)},onUpdateItemQuantity:K9,onRemoveItem:Y9,isAuthenticated:!!r,onRequireLogin:V9,allowUnauthenticatedCheckout:!!(J&&ne&&!le&&!me),delegateDoctorName:J?ve:null,delegatePaymentMethod:J?ue?.paymentMethod??null:null,delegatePaymentInstructions:J?ue?.paymentInstructions??null:null,estimateTotals:J?W9:void 0,pricingMarkupPercent:J?G:null,proposalMarkupPercent:m?f?.markupPercent??null:null,physicianName:J?null:r?.npiVerification?.name||r?.name||null,customerEmail:J?null:r?.email||null,customerName:J?null:r?.name||null,defaultShippingAddress:J?null:v??Ml,availableCredits:J?0:Gf,pricingMode:P,onPricingModeChange:_,showRetailPricingToggle:!!(tr&&!J)}),s.jsx(fu,{open:Yv,onOpenChange:h=>{h?op(!0):(op(!1),Xv(null))},children:s.jsxs(pc,{className:"glass-card squircle-lg w-full max-w-[min(720px,calc(100vw-3rem))] border border-[var(--brand-glass-border-2)] shadow-2xl",children:[s.jsxs(hd,{children:[s.jsx(Nl,{children:"Prospect"}),s.jsx(jl,{children:"Prospect details (no user account yet)."})]}),(()=>{const h=Em;if(!h)return null;const x=String(h?._displayName||h?.referredContactName||h?.contactName||"Prospect").trim(),S=String(h?._displayEmail||h?.referredContactEmail||h?.contactEmail||h?.email||"").trim(),C=String(h?.referredContactPhone||h?.contactPhone||h?.phone||"").trim(),I=String(h?.status||"pending").trim(),z=String(h?.updatedAt||h?.createdAt||"").trim(),A=String(h?.id||h?.referralId||h?.contactFormId||"").trim();return s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("p",{className:"text-base font-semibold text-slate-900 truncate",children:x}),s.jsx(_l,{variant:"secondary",className:"uppercase",children:KC(I.replace(/_/g,"-"))})]}),S&&s.jsx("p",{className:"text-sm text-slate-700 break-all",children:S}),C&&s.jsx("p",{className:"text-sm text-slate-700",children:C}),z&&s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Updated: ",Gt(z)]}),A&&s.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["ID: ",A]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Je,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:async()=>{try{if(!navigator?.clipboard)throw new Error("Clipboard unavailable");const O=S||C;if(!O)return;await navigator.clipboard.writeText(O),Xe.success("Copied.")}catch{Xe.error("Unable to copy.")}},disabled:!S&&!C,children:[s.jsx(Copy,{className:"h-4 w-4","aria-hidden":"true"}),"Copy"]})})]})})})()]})}),s.jsx(fu,{open:Kv,onOpenChange:h=>{h?km(!0):Uc()},children:s.jsxs(pc,{style:{maxWidth:"min(960px, calc(100vw - 3rem))"},children:[s.jsxs(hd,{children:[s.jsx(Nl,{children:"Enter Prospect"}),s.jsx(jl,{children:"Create a manual prospect entry to jumpstart the pipeline."})]}),s.jsxs("form",{className:"space-y-4",onSubmit:wt,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Name"}),s.jsx(zr,{value:Qs.name,onChange:h=>qc(x=>({...x,name:h.target.value})),required:!0,placeholder:"Prospect name"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Email"}),s.jsx(zr,{type:"email",value:Qs.email,onChange:h=>qc(x=>({...x,email:h.target.value})),placeholder:"prospect@email.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Phone"}),s.jsx(zr,{value:Qs.phone,onChange:h=>qc(x=>({...x,phone:h.target.value})),placeholder:"(555) 000-0000"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Address"}),s.jsx(Bp,{value:Qs.address,onChange:h=>qc(x=>({...x,address:h.target.value})),rows:3,placeholder:`Address line 1
City, State ZIP
Country`,className:"notes-textarea"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Notes"}),s.jsx(Bp,{value:Qs.notes,onChange:h=>qc(x=>({...x,notes:h.target.value})),rows:3,placeholder:"Add optional context",className:"notes-textarea"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Status"}),s.jsx("select",{value:Qs.status,onChange:h=>qc(x=>({...x,status:h.target.value})),className:"w-full rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:AD.map(h=>s.jsx("option",{value:h.key,children:h.label},h.key))})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(Je,{type:"button",variant:"outline",onClick:Uc,children:"Cancel"}),s.jsx(Je,{type:"submit",disabled:Ig,className:"squircle-sm glass-brand",children:Ig?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Fp,{className:"h-4 w-4 animate-spin"}),"Saving"]}):"Save Prospect"})]})]})]})}),s.jsx(fu,{open:!!Ce,onOpenChange:h=>{h||In()},children:s.jsx(pc,{ref:Fu,className:"max-w-2xl",children:Kd?s.jsxs(s.Fragment,{children:[s.jsxs(p_,{children:[s.jsx(Nl,{children:"Loading account details"}),s.jsx(jl,{children:"Fetching account details."})]}),Ai()]}):Ce&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(hd,{children:[s.jsxs(Nl,{className:"space-y-0.5",children:[s.jsx("div",{className:"text-slate-900",children:Ce.name}),s.jsx("div",{className:"text-sm font-normal text-slate-600",children:Ce.email?s.jsx("a",{href:`mailto:${Ce.email}`,className:"hover:underline",children:Ce.email}):""}),(dt(r?.role)||Sn(r?.role))&&Ti(Ce.role)&&s.jsx("div",{className:"text-sm font-normal text-slate-600",children:(()=>{const h=String(qn?.get?.(Ce.doctorId)?.leadType||"").trim().toLowerCase();if(String(Ce.doctorId||"").startsWith("contact_form:")||h==="contact_form"||h.length>0&&h.includes("contact")||h==="house")return"Sales Rep: House Account";const S=String(Ce.ownerSalesRepId||"").trim();if(!S)return"Sales Rep: Unassigned";const C=cl[S]||null,I=C?.name||(()=>{const U=Ce?.ownerSalesRepName,ee=typeof U=="string"?U.trim():"";return ee.length?ee:null})()||(()=>{const U=_n?.salesReps;if(!Array.isArray(U))return null;const ee=U.find(ge=>String(ge?.id||"")===String(S)),K=typeof ee?.name=="string"?ee.name.trim():"";return K.length?K:null})()||null,z=C?.email||(()=>{const U=Ce?.ownerSalesRepEmail,ee=typeof U=="string"?U.trim():"";return ee.length?ee:null})()||null,A=C?.userId||null,O=Di(C?.role||"sales_rep"),T=I||S,W=!!I,H=!!A;return s.jsxs("span",{children:[s.jsx("span",{className:"text-slate-600",children:"Sales Rep: "}),H?s.jsx("button",{type:"button",onClick:()=>Fl({id:A,name:I||void 0,email:z||void 0,role:O||"sales_rep"}),className:"text-slate-600 hover:underline",title:"Open sales rep",children:T}):s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx("span",{className:"text-slate-600",title:"Sales rep user profile unavailable",children:T}),!W&&s.jsx("button",{type:"button",onClick:async()=>{try{const U=String(Ce?.doctorId||""),ee=U&&qn?.get?.(U)||null,K=_n?.salesReps,ge=Array.isArray(K)?K:null,Z=ge?.find(_e=>String(_e?.id||"")===String(S))||null,de=Array.isArray(Ce?.orders)&&Ce.orders.length>0?Ce.orders[0]:null,Ae={ownerId:S,doctorId:U,salesRepDashboard:{hasSalesReps:!!ge,salesRepsCount:ge?.length??null,match:Z?{id:Z?.id??null,name:Z?.name??null,email:Z?.email??null}:null},doctorMeta:ee?{salesRepId:ee?.salesRepId||null,salesRepName:ee?.salesRepName||null,salesRepEmail:ee?.salesRepEmail||null}:null,firstOrder:de?{id:de?.id||null,number:de?.number||null,userId:de?.userId||null,doctorSalesRepId:de?.doctorSalesRepId||de?.doctor_sales_rep_id||null,doctorSalesRepName:de?.doctorSalesRepName||de?.doctor_sales_rep_name||null,salesRepId:de?.salesRepId||de?.sales_rep_id||null,salesRepName:de?.salesRepName||de?.sales_rep_name||null,salesRep:de?.salesRep||de?.sales_rep||null}:null};await navigator.clipboard.writeText(JSON.stringify(Ae,null,2)),Xe.success("Copied sales rep debug.")}catch(U){Xe.error("Could not copy debug."),console.warn("[Sales Rep] Copy debug failed",U)}},className:"text-[11px] text-slate-400 hover:text-slate-600 hover:underline",title:"Copy debug info",children:"Copy debug"})]})]})})()})]}),s.jsx(jl,{children:"Account details"})]}),Ce&&Ti(Ce.role)&&s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/70 px-4 py-3 space-y-2 min-h-[240px]",children:[s.jsx("p",{className:"text-sm font-semibold justify-center text-slate-800",children:"Shared Notes (Rep and Admin only)"}),s.jsx(Bp,{value:Tc,onChange:h=>_o(h.target.value),rows:4,placeholder:gn?"Loading notes...":"Add notes about this doctor",className:"text-sm notes-textarea",disabled:gn}),s.jsxs("div",{className:"mt-2 mb-1 flex items-center justify-end gap-2",children:[Xn&&s.jsx(g7,{className:"h-4 w-4 text-emerald-600"}),s.jsx(Je,{type:"button",variant:"outline",onClick:()=>void $a(),className:"h-8 px-3 text-xs",disabled:gn,children:"Save"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm",style:{width:72,height:72,minWidth:72,boxShadow:(()=>{const h=Ce?.isOnline===!0,x=Ce?.isIdle===!0,S=typeof Ce?.idleMinutes=="number"&&Number.isFinite(Ce.idleMinutes)?Ce.idleMinutes:null;if(!h)return;const C=(()=>{const z=Ce?.lastInteractionAt||Ce?.lastSeenAt||Ce?.lastLoginAt||null;if(!z)return null;const A=new Date(z).getTime();return Number.isFinite(A)?Math.max(0,(Date.now()-A)/6e4):null})();return x||S!=null&&S>=2||C!=null&&C>=2?"0 0 0 1px rgba(255,255,255,1), 0 0 0 4px rgba(148,163,184,1)":"0 0 0 1px rgba(255,255,255,1), 0 0 0 4px rgba(95,179,249,1)"})()},children:Ce.avatar?s.jsx("img",{src:Ce.avatar,alt:Ce.name,className:"h-full w-full object-cover"}):s.jsx("span",{className:"text-lg font-semibold text-slate-600",children:Op(Ce.name)})}),s.jsx("div",{className:"space-y-1",children:vr(Ce.role)||typeof Ce.personalRevenue=="number"||typeof Ce.salesRevenue=="number"?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Personal Revenue:"," ",Mt(Ce.personalRevenue??Ce.revenue)]}),s.jsxs("p",{className:"text-sm text-slate-600",children:["Sales Revenue:"," ",Mt(Ce.salesRevenue??0)]}),(()=>{const h=Di(Ce.role||""),x=(Z,de)=>{const Ae=Z?En(String(Z)):null,_e=de?En(String(de)):null;return Ae&&_e&&Ae!==""&&_e!==""?`${Ae} to ${_e}`:"All time"},S=Z=>!Z||Number.isNaN(Z.getTime())?null:Z.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),C=!!Yr?.from&&!!Yr?.to,I=C?(()=>{const Z=S(Yr?.from||null),de=S(Yr?.to||null);return Z&&de?`${Z} to ${de}`:null})():null,z=(Z,de)=>{if(!Array.isArray(Z)||Z.length===0)return[];const Ae=de?.from?new Date(de.from):null,_e=de?.to?new Date(de.to):null;if(!Ae||!_e)return Z;Ae.setHours(0,0,0,0),_e.setHours(23,59,59,999);const Oe=Ae.getTime(),Ye=_e.getTime();return Z.filter(vt=>{const Ue=vt?.createdAt||vt?.created_at||vt?.dateCreated||vt?.date_created||null;if(!Ue)return!1;const qe=new Date(Ue).getTime();return Number.isFinite(qe)?qe>=Oe&&qe<=Ye:!1})};if(h==="admin"){const Z=mi.find(_e=>String(_e?.id||"")===String(Ce.doctorId||"")),de=Yr?.from&&Yr?.to?typeof Q=="number"&&Number.isFinite(Q)?Q:null:Z?Number(Z.amount||0):null,Ae=x(Fa?.periodStart??null,Fa?.periodEnd??null);return s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Total Commission:"," ",be?"Loading...":de==null?"":Mt(de)]}),s.jsxs(P0,{open:Bu,onOpenChange:Vi,children:[s.jsx(A0,{asChild:!0,children:s.jsx(Je,{type:"button",variant:"outline",size:"icon",className:"header-home-button squircle-sm h-8 w-8","aria-label":"Select commission date range",children:s.jsx(S0,{"aria-hidden":"true"})})}),s.jsx(k0,{children:s.jsxs(E0,{side:"bottom",align:"start",sideOffset:8,className:"calendar-popover z-[10000] w-[320px] glass-liquid rounded-xl border border-white/60 p-3 shadow-xl",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Commission timeframe"}),s.jsx("div",{className:"mt-2",children:s.jsx(R0,{mode:"range",numberOfMonths:1,selected:Yr,onSelect:_e=>{Eo(_e),_e?.from&&_e?.to&&(ki(su(_e.from)),Oo(su(_e.to)),Jn())},defaultMonth:Yr?.from??void 0})}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsx(Je,{type:"button",variant:"ghost",size:"sm",className:"text-slate-700",onClick:()=>{const _e=fd();Eo(void 0),ki(_e.start),Oo(_e.end),Jn()},children:"Default"}),s.jsx(Je,{type:"button",variant:"outline",size:"sm",className:"calendar-done-button text-[rgb(95,179,249)] border-[rgba(95,179,249,0.45)] hover:border-[rgba(95,179,249,0.7)] hover:text-[rgb(95,179,249)]",onClick:()=>{Yr?.from&&Yr?.to&&(ki(su(Yr.from)),Oo(su(Yr.to))),Jn(),Vi(!1)},children:"Done"})]}),s.jsx(O0,{className:"calendar-popover-arrow"})]})})]}),s.jsxs("span",{className:"text-sm text-slate-500",children:["(",I||Ae,")"]})]})}const A=ar.find(Z=>String(Z?.salesRepId||"")===String(Ce.doctorId||"")),T=z(Ce.orders,Yr).filter(Z=>bn(Z?.status)),W=C||T.length>0?T.reduce((Z,de)=>{const Ae=bD(de),_e=de?.pricingMode||de?.pricing_mode||de?.pricing||de?.priceType||null,Oe=String(_e||"").toLowerCase().trim();return Oe==="wholesale"?Z.wholesale+=Ae:Z.retail+=Ae,Z},{wholesale:0,retail:0}):null,H=Number(W?.wholesale??A?.wholesaleRevenue??Ce.salesWholesaleRevenue??0),U=Number(W?.retail??A?.retailRevenue??Ce.salesRetailRevenue??0);if(!Number.isFinite(H)&&!Number.isFinite(U))return null;const ee=H*.1+U*.2,K=typeof Q=="number"&&Number.isFinite(Q)?Q:ee,ge=x(ds?.periodStart??null,ds?.periodEnd??null);return s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Total Commission:"," ",be?"Loading...":Mt(K)]}),s.jsxs(P0,{open:Bu,onOpenChange:Vi,children:[s.jsx(A0,{asChild:!0,children:s.jsx(Je,{type:"button",variant:"outline",size:"icon",className:"header-home-button squircle-sm h-8 w-8","aria-label":"Select commission date range",children:s.jsx(S0,{"aria-hidden":"true"})})}),s.jsx(k0,{children:s.jsxs(E0,{side:"bottom",align:"start",sideOffset:8,className:"calendar-popover z-[10000] w-[320px] glass-liquid rounded-xl border border-white/60 p-3 shadow-xl",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Commission timeframe"}),s.jsx("div",{className:"mt-2",children:s.jsx(R0,{mode:"range",numberOfMonths:1,selected:Yr,onSelect:Eo,defaultMonth:Yr?.from??void 0})}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsx(Je,{type:"button",variant:"ghost",size:"sm",className:"text-slate-700",onClick:()=>Eo(void 0),children:"All time"}),s.jsx(Je,{type:"button",variant:"outline",size:"sm",className:"calendar-done-button text-[rgb(95,179,249)] border-[rgba(95,179,249,0.45)] hover:border-[rgba(95,179,249,0.7)] hover:text-[rgb(95,179,249)]",onClick:()=>{Yr?.from&&Yr?.to&&(ki(su(Yr.from)),Oo(su(Yr.to))),Jn(),Vi(!1)},children:"Done"})]}),s.jsx(O0,{className:"calendar-popover-arrow"})]})})]}),s.jsxs("span",{className:"text-sm text-slate-500",children:["(",I||ge,")"]})]})})(),null]}):Ti(Ce.role)?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Order Quantity:"," ",Ce.orderQuantity??Ce.orders.filter(h=>bn(h.status)).length]}),s.jsxs("p",{className:"text-sm text-slate-600",children:["Total Order Value:"," ",Mt(Ce.totalOrderValue??Ce.revenue)]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Orders: ",Ce.orders.length]}),s.jsxs("p",{className:"text-sm text-slate-600",children:["Revenue: ",Mt(Ce.revenue)]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Contact"}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50/60 px-3 py-2 text-sm text-slate-700 space-y-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-slate-800",children:"Email: "}),Ce.email?s.jsx("a",{href:`mailto:${Ce.email}`,children:Ce.email}):s.jsx("span",{children:"Unavailable"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-slate-800",children:"Phone: "}),(()=>{const h=!!(Ce&&(dt(r?.role)||vr(r?.role)&&sl&&Ce.ownerSalesRepId&&sl===Ce.ownerSalesRepId)),x=cs.trim(),S=Ce.phone||"",C=x!==S.trim();return h?s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(zr,{type:"tel",value:cs,onChange:I=>ks(I.target.value),className:"block w-full rounded-md border border-slate-200/80 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-100",placeholder:"Enter phone number"}),s.jsx(Je,{type:"button",size:"xs",variant:"outline",className:"self-start whitespace-nowrap",onClick:()=>void dr(),disabled:Zr||!C,children:Zr?"Saving":"Save"})]}):s.jsx("span",{children:Ce.phone||"Unavailable"})})()]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Address"}),(()=>{const h=!!(Ce&&!String(Ce.doctorId||"").startsWith("anon:")&&(dt(r?.role)||Sn(r?.role)||vr(r?.role)&&sl&&Ce.ownerSalesRepId&&sl===Ce.ownerSalesRepId)),x=Er.trim(),S=(Ce.address||"").trim(),C=x!==S;return h?s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50/60 px-3 py-2 space-y-2",children:[s.jsx(Bp,{value:Er,onChange:I=>Bn(I.target.value),rows:4,placeholder:`Address line 1
Address line 2
City, State ZIP
Country`,className:"block w-full rounded-md border border-slate-200/80 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-100 whitespace-pre-line"}),s.jsx(Je,{type:"button",size:"xs",variant:"outline",className:"self-start whitespace-nowrap",onClick:()=>void wr(),disabled:La||!C,children:La?"Saving":"Save"})]}):s.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50/60 px-3 py-2 text-sm text-slate-700 whitespace-pre-line min-h-[72px]",children:Ce.address||"Unavailable"})})()]})]}),(()=>{const h=Ce.orders.filter(x=>bn(x.status)).length;return s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Total Orders"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:h})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Last Order"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Ce.lastOrderDate?Gt(Ce.lastOrderDate):"Unavailable"})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Avg Order Value"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:Ce.avgOrderValue?Mt(Ce.avgOrderValue):""})]})]})})(),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Recent Orders"}),(()=>{const h=Array.isArray(Ce.personalOrders)?Ce.personalOrders:[],x=Array.isArray(Ce.salesOrders)?Ce.salesOrders:Ce.orders,S=(typeof Ce.personalRevenue=="number"||typeof Ce.salesRevenue=="number")&&(h.length>0||x.length>0),C=A=>s.jsx("div",{className:"space-y-2",children:A.map(O=>s.jsxs("button",{type:"button",onClick:()=>Xa(O),className:"w-full text-left flex items-start justify-between gap-3 rounded-lg border border-slate-200 px-3 py-2 cursor-pointer transition hover:shadow-sm hover:border-[rgb(95,179,249)]",children:[s.jsxs("div",{className:"min-w-0 text-sm text-slate-700",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("span",{className:"font-semibold text-slate-800 truncate",children:`Order #${O.number??O.id}`}),s.jsx("span",{className:"sales-tracking-row-status shrink-0",children:Zj(O)})]}),s.jsx("div",{className:"text-xs text-slate-500",children:O.createdAt?Gt(O.createdAt):"Date unavailable"})]}),s.jsx("div",{className:"text-right text-sm font-semibold text-slate-900 whitespace-nowrap",children:Mt((O.grandTotal??O.total)||0)})]},O.id))});if(!S)return s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:Ce.orders.length>0?C(Ce.orders):s.jsx("p",{className:"text-xs text-slate-500",children:"No orders available."})});const I=h.filter(A=>bn(A.status)).length,z=x.filter(A=>bn(A.status)).length;return s.jsxs("div",{className:"space-y-4 max-h-64 overflow-y-auto pr-1",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-baseline justify-between gap-3",children:[s.jsxs("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:["Personal orders (",I,")"]}),s.jsx("p",{className:"text-xs font-semibold text-slate-700",children:Mt(Ce.personalRevenue??0)})]}),h.length>0?C(h):s.jsx("p",{className:"text-xs text-slate-500",children:"No personal orders."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-baseline justify-between gap-3",children:[s.jsxs("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-500",children:["Sales orders (",z,")"]}),s.jsx("p",{className:"text-xs font-semibold text-slate-700",children:Mt(Ce.salesRevenue??0)})]}),x.length>0?C(x):s.jsx("p",{className:"text-xs text-slate-500",children:"No sales orders."})]})]})})()]}),(dt(r?.role)||Sn(r?.role))&&(vr(Ce.role)||Sn(Ce.role)||dt(Ce.role))&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex flex-wrap items-baseline justify-between gap-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Active Prospects"}),s.jsx("span",{className:"text-[11px] font-semibold text-slate-500",children:It?"Loading...":`${(Qe||[]).length} active`})]}),s.jsx("p",{className:"mt-1 mb-1 text-xs text-slate-600",children:"Leads assigned to this user (including Converted)."}),Pr&&s.jsx("div",{className:"mt-3 rounded-md border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:Pr}),!Pr&&s.jsx("div",{className:"mt-3 space-y-2 max-h-72 overflow-y-auto pr-1",children:It?s.jsx("p",{className:"text-xs text-slate-500",children:"Loading prospects"}):(Qe||[]).length>0?(Qe||[]).map(h=>{const x=String(h?._accountId||h?.id||h?.referralId||h?.doctorId||h?.contactFormId||"").trim(),S=String(h?._accountId||"").trim(),C=!!S,I=String(h?._displayName||"Prospect").trim(),z=String(h?._displayEmail||"").trim(),A=String(h?._avatarUrl||"").trim(),O=C||h?.referredContactHasAccount===!0,T=String(h?.status||"pending").trim().toLowerCase()||"pending",W=String(h?.updatedAt||h?.createdAt||"").trim(),H=W?Gt(W):null;return s.jsxs("button",{type:"button",onClick:()=>{const U=h?._prospectIdentifier||S||h?.referredContactAccountId||h?.referredContactId||h?.referred_contact_id||h?.userId||h?.user_id||h?.doctorId||h?.doctor_id||h?.referralId||h?.referral_id||h?.contactFormId||h?.contact_form_id||h?.id,ee=z||null,K=String(h?.referredContactPhone||h?.referred_contact_phone||h?.contactPhone||h?.contact_phone||h?.phone||"").trim()||null,ge=(()=>{const de=[h?.officeAddressLine1||h?.office_address_line1,h?.officeAddressLine2||h?.office_address_line2,[h?.officeCity||h?.office_city,h?.officeState||h?.office_state,h?.officePostalCode||h?.office_postal_code].filter(Boolean).join(", "),h?.officeCountry||h?.office_country].filter(Ae=>typeof Ae=="string"&&Ae.trim().length>0);return de.length>0?de.join(`
`):null})(),Z=h?.ownerSalesRepId||h?.owner_sales_rep_id||h?.salesRepId||h?.sales_rep_id||h?.assignedSalesRepId||h?.assigned_sales_rep_id||null;ul({doctorId:String(U||""),referralId:String(h?.id||h?.referralId||h?.referral_id||h?.contactFormId||h?.contact_form_id||"").trim()||null,doctorName:I,doctorEmail:ee,doctorAvatar:A||null,prospectNotes:(()=>{const de=h?.contactFormId||h?.contact_form_id||h?.contactFormID||h?.contact_formId||null,_e=(typeof h?.leadType=="string"?h.leadType:typeof h?.lead_type=="string"?h.lead_type:"").trim().toLowerCase(),Ye=typeof de=="string"&&de.trim().length>0||typeof de=="number"&&Number.isFinite(de)||_e==="contact_form"||_e==="house"||_e.includes("contact"),vt=[h?.salesRepNotes,h?.sales_rep_notes,Ye?null:h?.notes];for(const Ue of vt)if(typeof Ue=="string"&&Ue.trim().length>0)return Ue;return null})(),doctorPhone:K,doctorAddress:ge,addressOrigin:ge?"prospect":null,ownerSalesRepId:Z?String(Z):null,orders:[],total:0},"doctor")},className:"w-full text-left flex items-start justify-between gap-4 rounded-xl border border-slate-200 bg-white/70 px-4 py-3 transition cursor-pointer hover:shadow-sm hover:border-[rgb(95,179,249)] hover:bg-white",children:[s.jsxs("div",{className:"flex items-start mt-2 gap-4 min-w-0",children:[s.jsx("div",{className:"shrink-0 overflow-hidden bg-slate-50 border border-slate-200 flex items-center justify-center shadow-sm",style:{width:44,height:44,minWidth:44,minHeight:44,aspectRatio:"1 / 1",borderRadius:9999},children:A?s.jsx("img",{src:A,alt:I,className:"h-full w-full object-cover",style:{width:"100%",height:"100%",aspectRatio:"1 / 1",borderRadius:9999},loading:"lazy",decoding:"async"}):s.jsx("span",{className:"text-xs font-semibold text-slate-700",children:Op(I)})}),s.jsxs("div",{className:"min-w-0 text-sm text-slate-700",children:[s.jsx("div",{className:"flex items-center gap-2 min-w-0",children:s.jsx("span",{className:"text-base font-semibold text-slate-900 truncate",children:I})}),s.jsx("div",{className:"text-xs text-slate-500 truncate",children:z||"No email on file"}),H&&s.jsxs("div",{className:"text-xs text-slate-500",children:["Updated: ",H]})]})]}),s.jsxs("div",{className:"text-right whitespace-nowrap flex flex-col items-end gap-1",children:[s.jsx(_l,{variant:"secondary",className:"uppercase",children:KC(T.replace(/_/g,"-"))}),s.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${O?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-slate-100 text-slate-700 border border-slate-200"}`,children:O?"Has account":"No account"})]})]},x||`${z}:${I}:${T}`)}):s.jsx("p",{className:"text-xs text-slate-500",children:"No active prospects found."})})]}),s.jsx("div",{className:"mt-2 text-center text-[11px] font-normal text-slate-400",children:(()=>{const h=String(Ce.doctorId??"").trim();return`ID: ${(h.includes(":")?h.split(":").slice(-1)[0].trim():h)||""}`})()})]})})}),s.jsx(fu,{open:!!nt,onOpenChange:h=>{h||(fi(null),Fd(!1),di.current=null)},children:s.jsxs(pc,{className:"max-w-4xl",children:[Ic&&s.jsxs(s.Fragment,{children:[s.jsxs(p_,{children:[s.jsx(Nl,{children:"Loading order details"}),s.jsx(jl,{children:"Fetching order details."})]}),jg()]}),!Ic&&nt&&s.jsxs(s.Fragment,{children:[s.jsxs(hd,{children:[s.jsx(Nl,{children:nt.number?`Order #${nt.number}`:"Order details"}),s.jsx(jl,{children:nt.doctorName||nt.doctorEmail||""})]}),(()=>{const h=nt.shippingEstimate||null,x=nt.shippingAddress||nt.shipping||nt.shipping_address||null,S=nt.billingAddress||nt.billing||nt.billing_address||null,C=nt.lineItems||nt.lineItems||nt.line_items||[],I=C.reduce((ft,Ut)=>{const rn=cr(Ut.total??Ut.subtotal)??(cr(Ut.price)??0)*(cr(Ut.quantity)??0);return ft+(Number.isFinite(rn)?rn:0)},0),z=String(nt.discountCode||"").trim().toUpperCase()||null,A=Math.abs(cr(nt.discountCodeAmount)??0),O=Math.abs(cr(nt.appliedReferralCredit)??0),T=A>0||O>0,W=cr(nt.originalItemsSubtotal)??I+A,H=T?W:I,U=T?A+O:0,ee=cr(nt.shippingTotal??nt.shipping_total??nt.shippingTotal)??0,K=cr(nt.taxTotal??nt.total_tax??nt.totalTax)??0,ge=H+ee+K-U,Z=typeof nt.grandTotal=="number"?nt.grandTotal:null,de=typeof Z=="number"&&Number.isFinite(Z)&&Z>0?Z:ge,Ae=(()=>{const ft=nt.integrationDetails||nt.integrations||{},Ut=ft?.stripe||ft?.Stripe||null,rn=Ut?.cardLast4||Ut?.card_last4||Ut?.last4||null,wn=Ut?.cardBrand||Ut?.card_brand||Ut?.brand||null;if(rn)return`${wn||"Card"}  ${rn}`;const Un=nt.paymentDetails||nt.paymentMethod||null;return typeof Un=="string"&&/stripe onsite/i.test(Un)?"Card payment":typeof Un=="string"&&Ice(Un)||Un})(),_e=ft=>{if(!ft)return s.jsx("p",{className:"text-sm text-slate-500",children:""});const Ut=[ft.name,[ft.addressLine1,ft.addressLine2].filter(Boolean).join(" ").trim(),[ft.city,ft.state,ft.postalCode].filter(Boolean).join(", ").trim(),ft.country,ft.phone,ft.email].filter(rn=>rn&&String(rn).trim().length>0).map((rn,wn)=>s.jsx("p",{className:"text-sm text-slate-700",children:rn},wn));return Ut.length>0?Ut:s.jsx("p",{className:"text-sm text-slate-500",children:""})},Oe=nt.createdAt||nt.dateCreated||nt.date_created||nt.updatedAt||null,Ye=String(h?.status||nt.status||"").toString().trim().toLowerCase(),vt=nt.expectedShipmentWindow||nt.expected_shipment_window||null,qe=Ye==="shipped"&&h?.estimatedArrivalDate?En(h.estimatedArrivalDate):"",ze=ft=>ft?ft.replace(/^ups_/i,"UPS ").replace(/_/g," ").trim().replace(/\s+/g," ").replace(/\b(\w)/g,Ut=>Ut.toUpperCase()):null,ct=ze(h?.serviceType)||h?.serviceType||null;ze(h?.carrierId)||h?.carrierId;const bt=$y(nt),pt=Vo(nt.integrationDetails||nt.integrations||{}),_t=Vo(pt?.carrierTracking||pt?.carrier_tracking||null),je=_t?.trackingStatusRaw||_t?.trackingStatus||_t?.status||null,Dt=!!(vt&&!(Ye==="shipped"&&bt)),it=bt?Mce(bt,h?.carrierId||h?.carrier_id||(ct||"").toLowerCase().includes("ups")?"ups":null):null;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm text-slate-700",children:[s.jsxs("div",{children:[s.jsx("p",{className:"uppercase text-[11px] tracking-[0.08em] text-slate-500",children:"Order placed"}),s.jsx("p",{className:"font-semibold text-slate-900",children:Oe?Gt(Oe):""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"uppercase text-[11px] tracking-[0.08em] text-slate-500",children:"Total"}),s.jsx("p",{className:"font-semibold text-slate-900",children:Mt(de,nt.currency||"USD")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"uppercase text-[11px] tracking-[0.08em] text-slate-500",children:"Status"}),s.jsx(_l,{variant:"secondary",className:"uppercase",children:Zj(nt)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"uppercase text-[11px] tracking-[0.08em] text-slate-500",children:"Expected delivery"}),s.jsx("p",{className:"font-semibold text-slate-900",children:qe})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Shipping Information"}),_e(x),s.jsxs("div",{className:"text-sm text-slate-700 space-y-1",children:[ct&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Service:"})," ",ct]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Tracking:"})," ",it?s.jsx("a",{href:it,target:"_blank",rel:"noreferrer",className:"text-[rgb(26,85,173)] hover:underline",children:bt}):bt||"Provided when shipped"]}),je&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Tracking status:"})," ",R9(String(je))]}),Number.isFinite(ee)&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Shipping:"})," ",Mt(ee,nt.currency||"USD")]}),qe&&qe!==""&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Expected:"})," ",qe]}),Dt&&s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Estimated ship window:"})," ",vt]})]}),(()=>{const ft=!!(r?.role&&(vr(r.role)||dt(r.role))),Ut=wn=>(wn||"").trim(),rn=Ut(Vs.trackingNumber)!==Ut(Co.trackingNumber)||Ut(Vs.shippingCarrier)!==Ut(Co.shippingCarrier)||Ut(Vs.shippingService)!==Ut(Co.shippingService)||Ut(Vs.status)!==Ut(Co.status)||Ut(Vs.expectedShipmentWindow)!==Ut(Co.expectedShipmentWindow);return ft?s.jsxs("div",{className:"mt-3 space-y-2 rounded-lg border border-slate-200 bg-slate-50/60 p-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-600",children:"Edit (PepPro)"}),s.jsx("p",{className:"text-[11px] text-slate-500",children:rn?"Unsaved changes":"Saved"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[s.jsxs("label",{className:"text-xs text-slate-600",children:["Tracking number",s.jsx("input",{value:Vs.trackingNumber,onChange:wn=>ls(Un=>({...Un,trackingNumber:wn.target.value})),placeholder:"Enter tracking",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:Hi})]}),s.jsxs("label",{className:"text-xs text-slate-600",children:["Status",s.jsx("input",{list:"peppro-order-status-options",value:Vs.status,onChange:wn=>ls(Un=>({...Un,status:wn.target.value})),placeholder:"processing / shipped / delivered",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:Hi})]}),s.jsxs("label",{className:"text-xs text-slate-600",children:["Carrier",s.jsx("input",{list:"peppro-order-carrier-options",value:Vs.shippingCarrier,onChange:wn=>ls(Un=>({...Un,shippingCarrier:wn.target.value})),placeholder:"UPS / USPS / FedEx",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:Hi})]}),s.jsxs("label",{className:"text-xs text-slate-600",children:["Service",s.jsx("input",{value:Vs.shippingService,onChange:wn=>ls(Un=>({...Un,shippingService:wn.target.value})),placeholder:"Ground / 2 Day",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:Hi})]}),s.jsxs("label",{className:"text-xs text-slate-600 sm:col-span-2",children:["Estimated ship window",s.jsx("input",{value:Vs.expectedShipmentWindow,onChange:wn=>ls(Un=>({...Un,expectedShipmentWindow:wn.target.value})),placeholder:"e.g., Ships in 12 business days",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:Hi})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(Je,{type:"button",variant:"outline",onClick:()=>{ls(Co)},disabled:Hi||!rn,children:"Reset"}),s.jsx(Je,{type:"button",onClick:Ys,disabled:Hi||!rn,className:"gap-2",children:Hi?"Saving":"Save"})]}),s.jsxs("datalist",{id:"peppro-order-status-options",children:[s.jsx("option",{value:"processing"}),s.jsx("option",{value:"awaiting_shipment"}),s.jsx("option",{value:"shipped"}),s.jsx("option",{value:"in_transit"}),s.jsx("option",{value:"out_for_delivery"}),s.jsx("option",{value:"delivered"}),s.jsx("option",{value:"completed"}),s.jsx("option",{value:"cancelled"}),s.jsx("option",{value:"refunded"})]}),s.jsxs("datalist",{id:"peppro-order-carrier-options",children:[s.jsx("option",{value:"ups"}),s.jsx("option",{value:"usps"}),s.jsx("option",{value:"fedex"}),s.jsx("option",{value:"dhl"})]}),s.jsx("p",{className:"text-[11px] text-slate-500",children:"Updates are saved in PepPro for display; this does not push changes to WooCommerce/ShipStation."})]}):null})()]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Billing Information"}),_e(S),s.jsx("div",{className:"text-sm text-slate-700 space-y-1",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Payment:"})," ",Ae||""]})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Items"}),C.length?s.jsx("div",{className:"space-y-3",children:C.map((ft,Ut)=>s.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-slate-100 p-3",children:[s.jsx("div",{className:"w-16 h-16 aspect-square rounded-md border border-slate-200 bg-white overflow-hidden flex items-center justify-center text-slate-500 flex-shrink-0",children:ft.image?s.jsx("img",{src:ft.image,alt:ft.name||"Item thumbnail",className:"h-full w-full object-cover"}):s.jsx(Ah,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex-1 min-w-[10rem] space-y-1",children:[s.jsx("p",{className:"text-slate-900 font-semibold",children:ft.name||"Item"}),s.jsxs("p",{className:"text-slate-600",children:["Qty: ",ft.quantity??""]})]}),s.jsx("div",{className:"text-sm text-slate-700 text-right min-w-[6rem]",children:Number.isFinite(ft.total)&&s.jsx("p",{className:"font-semibold",children:Mt(ft.total||0,nt.currency||"USD")})})]},ft.id||`${ft.sku}-${Ut}`))}):s.jsx("p",{className:"text-sm text-slate-600",children:"No line items available."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Order Summary"}),s.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal"}),s.jsx("span",{children:Mt(H,nt.currency||"USD")})]}),T&&A>0&&s.jsxs("div",{className:"flex justify-between text-[rgb(26,85,173)]",children:[s.jsx("span",{children:z?`Discount (${z})`:"Discount"}),s.jsxs("span",{children:["-",Mt(A,nt.currency||"USD")]})]}),T&&O>0&&s.jsxs("div",{className:"flex justify-between text-[rgb(26,85,173)]",children:[s.jsx("span",{children:"Referral Credit"}),s.jsxs("span",{children:["-",Mt(O,nt.currency||"USD")]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{children:Mt(ee,nt.currency||"USD")})]}),K>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tax"}),s.jsx("span",{children:Mt(K,nt.currency||"USD")})]}),s.jsxs("div",{className:"flex justify-between text-base font-semibold text-slate-900 border-t border-slate-100 pt-2",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:Mt(de,nt.currency||"USD")})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"text-base font-semibold text-slate-900",children:["Notes ",s.jsx("span",{className:"text-sm font-normal text-slate-500",children:"(Visible to the doctor)"})]}),(()=>{const ft=!!(r?.role&&(vr(r.role)||dt(r.role))),Ut=typeof nt?.notes=="string"?String(nt.notes):"",rn=Yn(Ut),wn=Yn($u),Un=rn!==wn,wf=!!((rn||wn)&&String(rn||wn).trim());return ft?s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{value:$u,onChange:Os=>Da(Os.target.value),placeholder:"Add an order note",rows:4,className:"w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:Mc}),s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("p",{className:"text-xs text-slate-500",children:Un?"Unsaved changes":"Saved"}),s.jsx(Je,{type:"button",variant:"outline",onClick:va,disabled:Mc||!Un,className:"gap-2",children:Mc?"Saving":"Save notes"})]})]}):wf?s.jsx("div",{className:"rounded-lg border border-slate-200 bg-white/70 p-3",children:s.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:rn||""})}):s.jsx("p",{className:"text-sm text-slate-500",children:"No notes for this order."})})()]})]})})()]})]})}),s.jsx(Qle,{product:Re,isOpen:Ke,onClose:J9,onAddToCart:VA,pricingMarkupPercent:G,proposalMode:J||m})]})}function xue(){const e=typeof window<"u"?T9(window.location.pathname):"/";return pce(e)?s.jsx(bce,{pathname:e}):s.jsx(bue,{})}const Cy=(e,t)=>{const r=document.head||document.querySelector("head");if(!r)return;let n=document.querySelector(e);n||(n=document.createElement("link"),r.appendChild(n)),Object.entries(t).forEach(([a,i])=>n.setAttribute(a,i))},wue=()=>{const e=String(Date.now()),t=`/peppro-favicon-v3.ico?ts=${e}`;Cy('link[rel="icon"][sizes="any"]',{rel:"icon",sizes:"any",href:t}),Cy('link[rel="shortcut icon"]',{rel:"shortcut icon",href:t}),Cy('link[rel="icon"][sizes="32x32"]',{rel:"icon",type:"image/png",sizes:"32x32",href:`/peppro-favicon-v3-32x32.png?ts=${e}`}),Cy('link[rel="icon"][sizes="16x16"]',{rel:"icon",type:"image/png",sizes:"16x16",href:`/peppro-favicon-v3-16x16.png?ts=${e}`}),Cy('link[rel="apple-touch-icon"]',{rel:"apple-touch-icon",sizes:"180x180",href:`/peppro-apple-touch-icon-v3.png?ts=${e}`})};wue();hF.createRoot(document.getElementById("root")).render(s.jsxs(s.Fragment,{children:[s.jsx(xue,{}),s.jsx(UF,{richColors:!0,position:"top-center",expand:!0,visibleToasts:10})]}));

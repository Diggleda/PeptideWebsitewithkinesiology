function mL(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var S0={exports:{}},Um={},N0={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function hL(){if(r_)return Ft;r_=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function _(U,Q,fe){this.props=U,this.context=Q,this.refs=C,this.updater=fe||N}_.prototype.isReactComponent={},_.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},_.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function O(){}O.prototype=_.prototype;function R(U,Q,fe){this.props=U,this.context=Q,this.refs=C,this.updater=fe||N}var D=R.prototype=new O;D.constructor=R,A(D,_.prototype),D.isPureReactComponent=!0;var $=Array.isArray,k=Object.prototype.hasOwnProperty,M={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function B(U,Q,fe){var je,Ie={},qe=null,Ve=null;if(Q!=null)for(je in Q.ref!==void 0&&(Ve=Q.ref),Q.key!==void 0&&(qe=""+Q.key),Q)k.call(Q,je)&&!L.hasOwnProperty(je)&&(Ie[je]=Q[je]);var Me=arguments.length-2;if(Me===1)Ie.children=fe;else if(1<Me){for(var Ae=Array(Me),We=0;We<Me;We++)Ae[We]=arguments[We+2];Ie.children=Ae}if(U&&U.defaultProps)for(je in Me=U.defaultProps,Me)Ie[je]===void 0&&(Ie[je]=Me[je]);return{$$typeof:e,type:U,key:qe,ref:Ve,props:Ie,_owner:M.current}}function V(U,Q){return{$$typeof:e,type:U.type,key:Q,ref:U.ref,props:U.props,_owner:U._owner}}function J(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function K(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(fe){return Q[fe]})}var ce=/\/+/g;function ue(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?K(""+U.key):Q.toString(36)}function de(U,Q,fe,je,Ie){var qe=typeof U;(qe==="undefined"||qe==="boolean")&&(U=null);var Ve=!1;if(U===null)Ve=!0;else switch(qe){case"string":case"number":Ve=!0;break;case"object":switch(U.$$typeof){case e:case t:Ve=!0}}if(Ve)return Ve=U,Ie=Ie(Ve),U=je===""?"."+ue(Ve,0):je,$(Ie)?(fe="",U!=null&&(fe=U.replace(ce,"$&/")+"/"),de(Ie,Q,fe,"",function(We){return We})):Ie!=null&&(J(Ie)&&(Ie=V(Ie,fe+(!Ie.key||Ve&&Ve.key===Ie.key?"":(""+Ie.key).replace(ce,"$&/")+"/")+U)),Q.push(Ie)),1;if(Ve=0,je=je===""?".":je+":",$(U))for(var Me=0;Me<U.length;Me++){qe=U[Me];var Ae=je+ue(qe,Me);Ve+=de(qe,Q,fe,Ae,Ie)}else if(Ae=x(U),typeof Ae=="function")for(U=Ae.call(U),Me=0;!(qe=U.next()).done;)qe=qe.value,Ae=je+ue(qe,Me++),Ve+=de(qe,Q,fe,Ae,Ie);else if(qe==="object")throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ve}function G(U,Q,fe){if(U==null)return U;var je=[],Ie=0;return de(U,je,"","",function(qe){return Q.call(fe,qe,Ie++)}),je}function ne(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(fe){(U._status===0||U._status===-1)&&(U._status=1,U._result=fe)},function(fe){(U._status===0||U._status===-1)&&(U._status=2,U._result=fe)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var pe={current:null},Y={transition:null},he={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:Y,ReactCurrentOwner:M};function ve(){throw Error("act(...) is not supported in production builds of React.")}return Ft.Children={map:G,forEach:function(U,Q,fe){G(U,function(){Q.apply(this,arguments)},fe)},count:function(U){var Q=0;return G(U,function(){Q++}),Q},toArray:function(U){return G(U,function(Q){return Q})||[]},only:function(U){if(!J(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ft.Component=_,Ft.Fragment=r,Ft.Profiler=a,Ft.PureComponent=R,Ft.StrictMode=n,Ft.Suspense=f,Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Ft.act=ve,Ft.cloneElement=function(U,Q,fe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var je=A({},U.props),Ie=U.key,qe=U.ref,Ve=U._owner;if(Q!=null){if(Q.ref!==void 0&&(qe=Q.ref,Ve=M.current),Q.key!==void 0&&(Ie=""+Q.key),U.type&&U.type.defaultProps)var Me=U.type.defaultProps;for(Ae in Q)k.call(Q,Ae)&&!L.hasOwnProperty(Ae)&&(je[Ae]=Q[Ae]===void 0&&Me!==void 0?Me[Ae]:Q[Ae])}var Ae=arguments.length-2;if(Ae===1)je.children=fe;else if(1<Ae){Me=Array(Ae);for(var We=0;We<Ae;We++)Me[We]=arguments[We+2];je.children=Me}return{$$typeof:e,type:U.type,key:Ie,ref:qe,props:je,_owner:Ve}},Ft.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:i,_context:U},U.Consumer=U},Ft.createElement=B,Ft.createFactory=function(U){var Q=B.bind(null,U);return Q.type=U,Q},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(U){return{$$typeof:u,render:U}},Ft.isValidElement=J,Ft.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:ne}},Ft.memo=function(U,Q){return{$$typeof:p,type:U,compare:Q===void 0?null:Q}},Ft.startTransition=function(U){var Q=Y.transition;Y.transition={};try{U()}finally{Y.transition=Q}},Ft.unstable_act=ve,Ft.useCallback=function(U,Q){return pe.current.useCallback(U,Q)},Ft.useContext=function(U){return pe.current.useContext(U)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(U){return pe.current.useDeferredValue(U)},Ft.useEffect=function(U,Q){return pe.current.useEffect(U,Q)},Ft.useId=function(){return pe.current.useId()},Ft.useImperativeHandle=function(U,Q,fe){return pe.current.useImperativeHandle(U,Q,fe)},Ft.useInsertionEffect=function(U,Q){return pe.current.useInsertionEffect(U,Q)},Ft.useLayoutEffect=function(U,Q){return pe.current.useLayoutEffect(U,Q)},Ft.useMemo=function(U,Q){return pe.current.useMemo(U,Q)},Ft.useReducer=function(U,Q,fe){return pe.current.useReducer(U,Q,fe)},Ft.useRef=function(U){return pe.current.useRef(U)},Ft.useState=function(U){return pe.current.useState(U)},Ft.useSyncExternalStore=function(U,Q,fe){return pe.current.useSyncExternalStore(U,Q,fe)},Ft.useTransition=function(){return pe.current.useTransition()},Ft.version="18.3.1",Ft}var n_;function TN(){return n_||(n_=1,N0.exports=hL()),N0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function gL(){if(a_)return Um;a_=1;var e=TN(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,p){var g,m={},x=null,N=null;p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(N=f.ref);for(g in f)n.call(f,g)&&!i.hasOwnProperty(g)&&(m[g]=f[g]);if(u&&u.defaultProps)for(g in f=u.defaultProps,f)m[g]===void 0&&(m[g]=f[g]);return{$$typeof:t,type:u,key:x,ref:N,props:m,_owner:a.current}}return Um.Fragment=r,Um.jsx=c,Um.jsxs=c,Um}var s_;function yL(){return s_||(s_=1,S0.exports=gL()),S0.exports}var l=yL(),Rg={},j0={exports:{}},Ts={},_0={exports:{}},C0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function vL(){return i_||(i_=1,(function(e){function t(Y,he){var ve=Y.length;Y.push(he);e:for(;0<ve;){var U=ve-1>>>1,Q=Y[U];if(0<a(Q,he))Y[U]=he,Y[ve]=Q,ve=U;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var he=Y[0],ve=Y.pop();if(ve!==he){Y[0]=ve;e:for(var U=0,Q=Y.length,fe=Q>>>1;U<fe;){var je=2*(U+1)-1,Ie=Y[je],qe=je+1,Ve=Y[qe];if(0>a(Ie,ve))qe<Q&&0>a(Ve,Ie)?(Y[U]=Ve,Y[qe]=ve,U=qe):(Y[U]=Ie,Y[je]=ve,U=je);else if(qe<Q&&0>a(Ve,ve))Y[U]=Ve,Y[qe]=ve,U=qe;else break e}}return he}function a(Y,he){var ve=Y.sortIndex-he.sortIndex;return ve!==0?ve:Y.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],p=[],g=1,m=null,x=3,N=!1,A=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(Y){for(var he=r(p);he!==null;){if(he.callback===null)n(p);else if(he.startTime<=Y)n(p),he.sortIndex=he.expirationTime,t(f,he);else break;he=r(p)}}function $(Y){if(C=!1,D(Y),!A)if(r(f)!==null)A=!0,ne(k);else{var he=r(p);he!==null&&pe($,he.startTime-Y)}}function k(Y,he){A=!1,C&&(C=!1,O(B),B=-1),N=!0;var ve=x;try{for(D(he),m=r(f);m!==null&&(!(m.expirationTime>he)||Y&&!K());){var U=m.callback;if(typeof U=="function"){m.callback=null,x=m.priorityLevel;var Q=U(m.expirationTime<=he);he=e.unstable_now(),typeof Q=="function"?m.callback=Q:m===r(f)&&n(f),D(he)}else n(f);m=r(f)}if(m!==null)var fe=!0;else{var je=r(p);je!==null&&pe($,je.startTime-he),fe=!1}return fe}finally{m=null,x=ve,N=!1}}var M=!1,L=null,B=-1,V=5,J=-1;function K(){return!(e.unstable_now()-J<V)}function ce(){if(L!==null){var Y=e.unstable_now();J=Y;var he=!0;try{he=L(!0,Y)}finally{he?ue():(M=!1,L=null)}}else M=!1}var ue;if(typeof R=="function")ue=function(){R(ce)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,G=de.port2;de.port1.onmessage=ce,ue=function(){G.postMessage(null)}}else ue=function(){_(ce,0)};function ne(Y){L=Y,M||(M=!0,ue())}function pe(Y,he){B=_(function(){Y(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){A||N||(A=!0,ne(k))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var he=3;break;default:he=x}var ve=x;x=he;try{return Y()}finally{x=ve}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,he){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ve=x;x=Y;try{return he()}finally{x=ve}},e.unstable_scheduleCallback=function(Y,he,ve){var U=e.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?U+ve:U):ve=U,Y){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ve+Q,Y={id:g++,callback:he,priorityLevel:Y,startTime:ve,expirationTime:Q,sortIndex:-1},ve>U?(Y.sortIndex=ve,t(p,Y),r(f)===null&&Y===r(p)&&(C?(O(B),B=-1):C=!0,pe($,ve-U))):(Y.sortIndex=Q,t(f,Y),A||N||(A=!0,ne(k))),Y},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(Y){var he=x;return function(){var ve=x;x=he;try{return Y.apply(this,arguments)}finally{x=ve}}}})(C0)),C0}var o_;function bL(){return o_||(o_=1,_0.exports=vL()),_0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function xL(){if(l_)return Ts;l_=1;var e=TN(),t=bL();function r(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(a[s]=o,s=0;s<o.length;s++)n.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function x(s){return f.call(m,s)?!0:f.call(g,s)?!1:p.test(s)?m[s]=!0:(g[s]=!0,!1)}function N(s,o,d,h){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,o,d,h){if(o===null||typeof o>"u"||N(s,o,d,h))return!0;if(h)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(s,o,d,h,w,j,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=w,this.mustUseProperty=d,this.propertyName=s,this.type=o,this.sanitizeURL=j,this.removeEmptyString=I}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){_[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];_[o]=new C(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){_[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){_[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){_[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){_[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){_[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){_[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){_[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function R(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(O,R);_[o]=new C(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(O,R);_[o]=new C(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(O,R);_[o]=new C(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){_[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),_.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){_[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function D(s,o,d,h){var w=_.hasOwnProperty(o)?_[o]:null;(w!==null?w.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,d,w,h)&&(d=null),h||w===null?x(o)&&(d===null?s.removeAttribute(o):s.setAttribute(o,""+d)):w.mustUseProperty?s[w.propertyName]=d===null?w.type===3?!1:"":d:(o=w.attributeName,h=w.attributeNamespace,d===null?s.removeAttribute(o):(w=w.type,d=w===3||w===4&&d===!0?"":""+d,h?s.setAttributeNS(h,o,d):s.setAttribute(o,d))))}var $=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),K=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),Y=Symbol.iterator;function he(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var ve=Object.assign,U;function Q(s){if(U===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+s}var fe=!1;function je(s,o){if(!s||fe)return"";fe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(z){var h=z}Reflect.construct(s,[],o)}else{try{o.call()}catch(z){h=z}s.call(o.prototype)}else{try{throw Error()}catch(z){h=z}s()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var w=z.stack.split(`
`),j=h.stack.split(`
`),I=w.length-1,H=j.length-1;1<=I&&0<=H&&w[I]!==j[H];)H--;for(;1<=I&&0<=H;I--,H--)if(w[I]!==j[H]){if(I!==1||H!==1)do if(I--,H--,0>H||w[I]!==j[H]){var re=`
`+w[I].replace(" at new "," at ");return s.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",s.displayName)),re}while(1<=I&&0<=H);break}}}finally{fe=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?Q(s):""}function Ie(s){switch(s.tag){case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return s=je(s.type,!1),s;case 11:return s=je(s.type.render,!1),s;case 1:return s=je(s.type,!0),s;default:return""}}function qe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case M:return"Portal";case V:return"Profiler";case B:return"StrictMode";case ue:return"Suspense";case de:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case K:return(s.displayName||"Context")+".Consumer";case J:return(s._context.displayName||"Context")+".Provider";case ce:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case G:return o=s.displayName||null,o!==null?o:qe(s.type)||"Memo";case ne:o=s._payload,s=s._init;try{return qe(s(o))}catch{}}return null}function Ve(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qe(o);case 8:return o===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ae(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function We(s){var o=Ae(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var w=d.get,j=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return w.call(this)},set:function(I){h=""+I,j.call(this,I)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function et(s){s._valueTracker||(s._valueTracker=We(s))}function Ee(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),h="";return s&&(h=Ae(s)?s.checked?"true":"false":s.value),s=h,s!==d?(o.setValue(s),!0):!1}function lt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function wt(s,o){var d=o.checked;return ve({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function ht(s,o){var d=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;d=Me(o.value!=null?o.value:d),s._wrapperState={initialChecked:h,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function _t(s,o){o=o.checked,o!=null&&D(s,"checked",o,!1)}function Re(s,o){_t(s,o);var d=Me(o.value),h=o.type;if(d!=null)h==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?tt(s,o.type,d):o.hasOwnProperty("defaultValue")&&tt(s,o.type,Me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Ue(s,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,d||o===s.value||(s.value=o),s.defaultValue=o}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function tt(s,o,d){(o!=="number"||lt(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var rt=Array.isArray;function Ct(s,o,d,h){if(s=s.options,o){o={};for(var w=0;w<d.length;w++)o["$"+d[w]]=!0;for(d=0;d<s.length;d++)w=o.hasOwnProperty("$"+s[d].value),s[d].selected!==w&&(s[d].selected=w),w&&h&&(s[d].defaultSelected=!0)}else{for(d=""+Me(d),o=null,w=0;w<s.length;w++){if(s[w].value===d){s[w].selected=!0,h&&(s[w].defaultSelected=!0);return}o!==null||s[w].disabled||(o=s[w])}o!==null&&(o.selected=!0)}}function gt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return ve({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function fr(s,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(r(92));if(rt(d)){if(1<d.length)throw Error(r(93));d=d[0]}o=d}o==null&&(o=""),d=o}s._wrapperState={initialValue:Me(d)}}function en(s,o){var d=Me(o.value),h=Me(o.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),o.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),h!=null&&(s.defaultValue=""+h)}function Sr(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Qt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Qt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ds,Lr=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,h,w){MSApp.execUnsafeLocalFunction(function(){return s(o,d,h,w)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ds=ds||document.createElement("div"),ds.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ds.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Lt(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zt=["Webkit","ms","Moz","O"];Object.keys(fn).forEach(function(s){Zt.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),fn[o]=fn[s]})});function tn(s,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||fn.hasOwnProperty(s)&&fn[s]?(""+o).trim():o+"px"}function Kr(s,o){s=s.style;for(var d in o)if(o.hasOwnProperty(d)){var h=d.indexOf("--")===0,w=tn(d,o[d],h);d==="float"&&(d="cssFloat"),h?s.setProperty(d,w):s[d]=w}}var Pa=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gr(s,o){if(o){if(Pa[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function ea(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jt=null;function $r(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var pn=null,Ha=null,_n=null;function ka(s){if(s=io(s)){if(typeof pn!="function")throw Error(r(280));var o=s.stateNode;o&&(o=Es(o),pn(s.stateNode,s.type,o))}}function bt(s){Ha?_n?_n.push(s):_n=[s]:Ha=s}function Vt(){if(Ha){var s=Ha,o=_n;if(_n=Ha=null,ka(s),o)for(s=0;s<o.length;s++)ka(o[s])}}function Gt(s,o){return s(o)}function Kt(){}var Ht=!1;function qt(s,o,d){if(Ht)return s(o,d);Ht=!0;try{return Gt(s,o,d)}finally{Ht=!1,(Ha!==null||_n!==null)&&(Kt(),Vt())}}function er(s,o){var d=s.stateNode;if(d===null)return null;var h=Es(d);if(h===null)return null;d=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var Fr=!1;if(u)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{Fr=!1}function Br(s,o,d,h,w,j,I,H,re){var z=Array.prototype.slice.call(arguments,3);try{o.apply(d,z)}catch(Se){this.onError(Se)}}var rn=!1,yr=null,Va=!1,$s=null,ko={onError:function(s){rn=!0,yr=s}};function fs(s,o,d,h,w,j,I,H,re){rn=!1,yr=null,Br.apply(ko,arguments)}function jl(s,o,d,h,w,j,I,H,re){if(fs.apply(this,arguments),rn){if(rn){var z=yr;rn=!1,yr=null}else throw Error(r(198));Va||(Va=!0,$s=z)}}function mn(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function pi(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Nr(s){if(mn(s)!==s)throw Error(r(188))}function Ga(s){var o=s.alternate;if(!o){if(o=mn(s),o===null)throw Error(r(188));return o!==s?null:s}for(var d=s,h=o;;){var w=d.return;if(w===null)break;var j=w.alternate;if(j===null){if(h=w.return,h!==null){d=h;continue}break}if(w.child===j.child){for(j=w.child;j;){if(j===d)return Nr(w),s;if(j===h)return Nr(w),o;j=j.sibling}throw Error(r(188))}if(d.return!==h.return)d=w,h=j;else{for(var I=!1,H=w.child;H;){if(H===d){I=!0,d=w,h=j;break}if(H===h){I=!0,h=w,d=j;break}H=H.sibling}if(!I){for(H=j.child;H;){if(H===d){I=!0,d=j,h=w;break}if(H===h){I=!0,h=j,d=w;break}H=H.sibling}if(!I)throw Error(r(189))}}if(d.alternate!==h)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:o}function Ac(s){return s=Ga(s),s!==null?ze(s):null}function ze(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ze(s);if(o!==null)return o;s=s.sibling}return null}var me=t.unstable_scheduleCallback,Be=t.unstable_cancelCallback,Nt=t.unstable_shouldYield,at=t.unstable_requestPaint,st=t.unstable_now,Ot=t.unstable_getCurrentPriorityLevel,It=t.unstable_ImmediatePriority,jr=t.unstable_UserBlockingPriority,qr=t.unstable_NormalPriority,nn=t.unstable_LowPriority,zt=t.unstable_IdlePriority,an=null,Ur=null;function Oa(s){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(an,s,void 0,(s.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Qp,ps=Math.log,ta=Math.LN2;function Qp(s){return s>>>=0,s===0?32:31-(ps(s)/ta|0)|0}var Wi=64,mi=4194304;function ms(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Pr(s,o){var d=s.pendingLanes;if(d===0)return 0;var h=0,w=s.suspendedLanes,j=s.pingedLanes,I=d&268435455;if(I!==0){var H=I&~w;H!==0?h=ms(H):(j&=I,j!==0&&(h=ms(j)))}else I=d&~w,I!==0?h=ms(I):j!==0&&(h=ms(j));if(h===0)return 0;if(o!==0&&o!==h&&(o&w)===0&&(w=h&-h,j=o&-o,w>=j||w===16&&(j&4194240)!==0))return o;if((h&4)!==0&&(h|=d&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)d=31-hn(o),w=1<<d,h|=s[d],o&=~w;return h}function _l(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hi(s,o){for(var d=s.suspendedLanes,h=s.pingedLanes,w=s.expirationTimes,j=s.pendingLanes;0<j;){var I=31-hn(j),H=1<<I,re=w[I];re===-1?((H&d)===0||(H&h)!==0)&&(w[I]=_l(H,o)):re<=o&&(s.expiredLanes|=H),j&=~H}}function Fs(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Pc(){var s=Wi;return Wi<<=1,(Wi&4194240)===0&&(Wi=64),s}function kc(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function hs(s,o,d){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-hn(o),s[o]=d}function Cl(s,o){var d=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<d;){var w=31-hn(d),j=1<<w;o[w]=0,h[w]=-1,s[w]=-1,d&=~j}}function Oo(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var h=31-hn(d),w=1<<h;w&o|s[h]&o&&(s[h]|=o),d&=~w}}var Ut=0;function Oc(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Vi,Bs,qs,hi,El,Tc=!1,Gi=[],Ka=null,Us=null,Ya=null,zs=new Map,Ki=new Map,Pn=[],To="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tf(s,o){switch(s){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":zs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(o.pointerId)}}function ga(s,o,d,h,w,j){return s===null||s.nativeEvent!==j?(s={blockedOn:o,domEventName:d,eventSystemFlags:h,nativeEvent:j,targetContainers:[w]},o!==null&&(o=io(o),o!==null&&Bs(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),s)}function Ru(s,o,d,h,w){switch(o){case"focusin":return Ka=ga(Ka,s,o,d,h,w),!0;case"dragenter":return Us=ga(Us,s,o,d,h,w),!0;case"mouseover":return Ya=ga(Ya,s,o,d,h,w),!0;case"pointerover":var j=w.pointerId;return zs.set(j,ga(zs.get(j)||null,s,o,d,h,w)),!0;case"gotpointercapture":return j=w.pointerId,Ki.set(j,ga(Ki.get(j)||null,s,o,d,h,w)),!0}return!1}function Al(s){var o=Bo(s.target);if(o!==null){var d=mn(o);if(d!==null){if(o=d.tag,o===13){if(o=pi(d),o!==null){s.blockedOn=o,El(s.priority,function(){qs(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Pl(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=En(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var h=new d.constructor(d.type,d);Jt=h,d.target.dispatchEvent(h),Jt=null}else return o=io(d),o!==null&&Bs(o),s.blockedOn=d,!1;o.shift()}return!0}function Mu(s,o,d){Pl(s)&&d.delete(o)}function Zp(){Tc=!1,Ka!==null&&Pl(Ka)&&(Ka=null),Us!==null&&Pl(Us)&&(Us=null),Ya!==null&&Pl(Ya)&&(Ya=null),zs.forEach(Mu),Ki.forEach(Mu)}function Io(s,o){s.blockedOn===o&&(s.blockedOn=null,Tc||(Tc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Zp)))}function Cn(s){function o(w){return Io(w,s)}if(0<Gi.length){Io(Gi[0],s);for(var d=1;d<Gi.length;d++){var h=Gi[d];h.blockedOn===s&&(h.blockedOn=null)}}for(Ka!==null&&Io(Ka,s),Us!==null&&Io(Us,s),Ya!==null&&Io(Ya,s),zs.forEach(o),Ki.forEach(o),d=0;d<Pn.length;d++)h=Pn[d],h.blockedOn===s&&(h.blockedOn=null);for(;0<Pn.length&&(d=Pn[0],d.blockedOn===null);)Al(d),d.blockedOn===null&&Pn.shift()}var Yi=$.ReactCurrentBatchConfig,Xa=!0;function Jp(s,o,d,h){var w=Ut,j=Yi.transition;Yi.transition=null;try{Ut=1,gn(s,o,d,h)}finally{Ut=w,Yi.transition=j}}function rf(s,o,d,h){var w=Ut,j=Yi.transition;Yi.transition=null;try{Ut=4,gn(s,o,d,h)}finally{Ut=w,Yi.transition=j}}function gn(s,o,d,h){if(Xa){var w=En(s,o,d,h);if(w===null)uf(s,o,h,kl,d),tf(s,h);else if(Ru(w,s,o,d,h))h.stopPropagation();else if(tf(s,h),o&4&&-1<To.indexOf(s)){for(;w!==null;){var j=io(w);if(j!==null&&Vi(j),j=En(s,o,d,h),j===null&&uf(s,o,h,kl,d),j===w)break;w=j}w!==null&&h.stopPropagation()}else uf(s,o,h,null,d)}}var kl=null;function En(s,o,d,h){if(kl=null,s=$r(h),s=Bo(s),s!==null)if(o=mn(s),o===null)s=null;else if(d=o.tag,d===13){if(s=pi(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return kl=s,null}function Xi(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ot()){case It:return 1;case jr:return 4;case qr:case nn:return 16;case zt:return 536870912;default:return 16}default:return 16}}var Ta=null,Ic=null,gi=null;function Ro(){if(gi)return gi;var s,o=Ic,d=o.length,h,w="value"in Ta?Ta.value:Ta.textContent,j=w.length;for(s=0;s<d&&o[s]===w[s];s++);var I=d-s;for(h=1;h<=I&&o[d-h]===w[j-h];h++);return gi=w.slice(s,1<h?1-h:void 0)}function Qa(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function kn(){return!0}function Mo(){return!1}function kr(s){function o(d,h,w,j,I){this._reactName=d,this._targetInst=w,this.type=h,this.nativeEvent=j,this.target=I,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(d=s[H],this[H]=d?d(j):j[H]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?kn:Mo,this.isPropagationStopped=Mo,this}return ve(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),o}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=kr(yi),Ws=ve({},yi,{view:0,detail:0}),vi=kr(Ws),ir,Qi,Hs,Vs=ve({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hs&&(Hs&&s.type==="mousemove"?(ir=s.screenX-Hs.screenX,Qi=s.screenY-Hs.screenY):Qi=ir=0,Hs=s),ir)},movementY:function(s){return"movementY"in s?s.movementY:Qi}}),Zi=kr(Vs),nf=ve({},Vs,{dataTransfer:0}),af=kr(nf),Rc=ve({},Ws,{relatedTarget:0}),Do=kr(Rc),On=ve({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=kr(On),Ji=ve({},yi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),bi=kr(Ji),xi=ve({},yi,{data:0}),eo=kr(xi),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ol={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},to={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=to[s])?!!o[s]:!1}function Gs(){return Mc}var sf=ve({},Ws,{key:function(s){if(s.key){var o=Lo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Qa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ol[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(s){return s.type==="keypress"?Qa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),gs=kr(sf),Lu=ve({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=kr(Lu),Yr=ve({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),Tl=kr(Yr),wi=ve({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ro=kr(wi),Dc=ve({},Vs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=kr(Dc),Ja=[9,13,27,32],ys=u&&"CompositionEvent"in window,Ks=null;u&&"documentMode"in document&&(Ks=document.documentMode);var vs=u&&"TextEvent"in window&&!Ks,Lc=u&&(!ys||Ks&&8<Ks&&11>=Ks),X=" ",se=!1;function xe(s,o){switch(s){case"keyup":return Ja.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ce(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var He=!1;function ke(s,o){switch(s){case"compositionend":return Ce(o);case"keypress":return o.which!==32?null:(se=!0,X);case"textInput":return s=o.data,s===X&&se?null:s;default:return null}}function ut(s,o){if(He)return s==="compositionend"||!ys&&xe(s,o)?(s=Ro(),gi=Ic=Ta=null,He=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Lc&&o.locale!=="ko"?null:o.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Pt[s.type]:o==="textarea"}function yn(s,o,d,h){bt(h),o=Bu(o,"onChange"),0<o.length&&(d=new Du("onChange","change",null,d,h),s.push({event:d,listeners:o}))}var sn=null,Tn=null;function bs(s){Fo(s,0)}function ra(s){var o=Ll(s);if(Ee(o))return s}function na(s,o){if(s==="change")return o}var Si=!1;if(u){var Ra;if(u){var qn="oninput"in document;if(!qn){var Ke=document.createElement("div");Ke.setAttribute("oninput","return;"),qn=typeof Ke.oninput=="function"}Ra=qn}else Ra=!1;Si=Ra&&(!document.documentMode||9<document.documentMode)}function xs(){sn&&(sn.detachEvent("onpropertychange",Un),Tn=sn=null)}function Un(s){if(s.propertyName==="value"&&ra(Tn)){var o=[];yn(o,Tn,s,$r(s)),qt(bs,o)}}function ws(s,o,d){s==="focusin"?(xs(),sn=o,Tn=d,sn.attachEvent("onpropertychange",Un)):s==="focusout"&&xs()}function Or(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ra(Tn)}function vn(s,o){if(s==="click")return ra(o)}function Ys(s,o){if(s==="input"||s==="change")return ra(o)}function zn(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var or=typeof Object.is=="function"?Object.is:zn;function aa(s,o){if(or(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),h=Object.keys(o);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var w=d[h];if(!f.call(o,w)||!or(s[w],o[w]))return!1}return!0}function es(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ss(s,o){var d=es(s);s=0;for(var h;d;){if(d.nodeType===3){if(h=s+d.textContent.length,s<=o&&h>=o)return{node:d,offset:o-s};s=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=es(d)}}function Ni(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ni(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Wn(){for(var s=window,o=lt();o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=lt(s.document)}return o}function Xs(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Ma(s){var o=Wn(),d=s.focusedElem,h=s.selectionRange;if(o!==d&&d&&d.ownerDocument&&Ni(d.ownerDocument.documentElement,d)){if(h!==null&&Xs(d)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(s,d.value.length);else if(s=(o=d.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var w=d.textContent.length,j=Math.min(h.start,w);h=h.end===void 0?j:Math.min(h.end,w),!s.extend&&j>h&&(w=h,h=j,j=w),w=Ss(d,j);var I=Ss(d,h);w&&I&&(s.rangeCount!==1||s.anchorNode!==w.node||s.anchorOffset!==w.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(w.node,w.offset),s.removeAllRanges(),j>h?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=d;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)s=o[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Xr=u&&"documentMode"in document&&11>=document.documentMode,lr=null,pr=null,yt=null,dt=!1;function kt(s,o,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;dt||lr==null||lr!==lt(h)||(h=lr,"selectionStart"in h&&Xs(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),yt&&aa(yt,h)||(yt=h,h=Bu(pr,"onSelect"),0<h.length&&(o=new Du("onSelect","select",null,o,d),s.push({event:o,listeners:h}),o.target=lr)))}function tr(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var Qr={animationend:tr("Animation","AnimationEnd"),animationiteration:tr("Animation","AnimationIteration"),animationstart:tr("Animation","AnimationStart"),transitionend:tr("Transition","TransitionEnd")},zr={},rr={};u&&(rr=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function ya(s){if(zr[s])return zr[s];if(!Qr[s])return s;var o=Qr[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in rr)return zr[s]=o[d];return s}var In=ya("animationend"),Ns=ya("animationiteration"),Qs=ya("animationstart"),js=ya("transitionend"),Il=new Map,ji="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(s,o){Il.set(s,o),i(o,[s])}for(var $u=0;$u<ji.length;$u++){var of=ji[$u],lf=of.toLowerCase(),pg=of[0].toUpperCase()+of.slice(1);_s(lf,"on"+pg)}_s(In,"onAnimationEnd"),_s(Ns,"onAnimationIteration"),_s(Qs,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(js,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fu));function no(s,o,d){var h=s.type||"unknown-event";s.currentTarget=d,jl(h,o,void 0,s),s.currentTarget=null}function Fo(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var h=s[d],w=h.event;h=h.listeners;e:{var j=void 0;if(o)for(var I=h.length-1;0<=I;I--){var H=h[I],re=H.instance,z=H.currentTarget;if(H=H.listener,re!==j&&w.isPropagationStopped())break e;no(w,H,z),j=re}else for(I=0;I<h.length;I++){if(H=h[I],re=H.instance,z=H.currentTarget,H=H.listener,re!==j&&w.isPropagationStopped())break e;no(w,H,z),j=re}}}if(Va)throw s=$s,Va=!1,$s=null,s}function vr(s,o){var d=o[mf];d===void 0&&(d=o[mf]=new Set);var h=s+"__bubble";d.has(h)||(_i(o,s,2,!1),d.add(h))}function em(s,o,d){var h=0;o&&(h|=4),_i(d,s,h,o)}var cf="_reactListening"+Math.random().toString(36).slice(2);function $c(s){if(!s[cf]){s[cf]=!0,n.forEach(function(d){d!=="selectionchange"&&(o0.has(d)||em(d,!1,s),em(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[cf]||(o[cf]=!0,em("selectionchange",!1,o))}}function _i(s,o,d,h){switch(Xi(o)){case 1:var w=Jp;break;case 4:w=rf;break;default:w=gn}d=w.bind(null,o,d,s),w=void 0,!Fr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),h?w!==void 0?s.addEventListener(o,d,{capture:!0,passive:w}):s.addEventListener(o,d,!0):w!==void 0?s.addEventListener(o,d,{passive:w}):s.addEventListener(o,d,!1)}function uf(s,o,d,h,w){var j=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var H=h.stateNode.containerInfo;if(H===w||H.nodeType===8&&H.parentNode===w)break;if(I===4)for(I=h.return;I!==null;){var re=I.tag;if((re===3||re===4)&&(re=I.stateNode.containerInfo,re===w||re.nodeType===8&&re.parentNode===w))return;I=I.return}for(;H!==null;){if(I=Bo(H),I===null)return;if(re=I.tag,re===5||re===6){h=j=I;continue e}H=H.parentNode}}h=h.return}qt(function(){var z=j,Se=$r(d),be=[];e:{var _e=Il.get(s);if(_e!==void 0){var Ye=Du,Je=s;switch(s){case"keypress":if(Qa(d)===0)break e;case"keydown":case"keyup":Ye=gs;break;case"focusin":Je="focus",Ye=Do;break;case"focusout":Je="blur",Ye=Do;break;case"beforeblur":case"afterblur":Ye=Do;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=Zi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=Tl;break;case In:case Ns:case Qs:Ye=Za;break;case js:Ye=ro;break;case"scroll":Ye=vi;break;case"wheel":Ye=Ia;break;case"copy":case"cut":case"paste":Ye=bi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=$o}var Xe=(o&4)!==0,nr=!Xe&&s==="scroll",le=Xe?_e!==null?_e+"Capture":null:_e;Xe=[];for(var ae=z,ye;ae!==null;){ye=ae;var $e=ye.stateNode;if(ye.tag===5&&$e!==null&&(ye=$e,le!==null&&($e=er(ae,le),$e!=null&&Xe.push(Zs(ae,$e,ye)))),nr)break;ae=ae.return}0<Xe.length&&(_e=new Ye(_e,Je,null,d,Se),be.push({event:_e,listeners:Xe}))}}if((o&7)===0){e:{if(_e=s==="mouseover"||s==="pointerover",Ye=s==="mouseout"||s==="pointerout",_e&&d!==Jt&&(Je=d.relatedTarget||d.fromElement)&&(Bo(Je)||Je[so]))break e;if((Ye||_e)&&(_e=Se.window===Se?Se:(_e=Se.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ye?(Je=d.relatedTarget||d.toElement,Ye=z,Je=Je?Bo(Je):null,Je!==null&&(nr=mn(Je),Je!==nr||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(Ye=null,Je=z),Ye!==Je)){if(Xe=Zi,$e="onMouseLeave",le="onMouseEnter",ae="mouse",(s==="pointerout"||s==="pointerover")&&(Xe=$o,$e="onPointerLeave",le="onPointerEnter",ae="pointer"),nr=Ye==null?_e:Ll(Ye),ye=Je==null?_e:Ll(Je),_e=new Xe($e,ae+"leave",Ye,d,Se),_e.target=nr,_e.relatedTarget=ye,$e=null,Bo(Se)===z&&(Xe=new Xe(le,ae+"enter",Je,d,Se),Xe.target=ye,Xe.relatedTarget=nr,$e=Xe),nr=$e,Ye&&Je)t:{for(Xe=Ye,le=Je,ae=0,ye=Xe;ye;ye=Rl(ye))ae++;for(ye=0,$e=le;$e;$e=Rl($e))ye++;for(;0<ae-ye;)Xe=Rl(Xe),ae--;for(;0<ye-ae;)le=Rl(le),ye--;for(;ae--;){if(Xe===le||le!==null&&Xe===le.alternate)break t;Xe=Rl(Xe),le=Rl(le)}Xe=null}else Xe=null;Ye!==null&&mg(be,_e,Ye,Xe,!1),Je!==null&&nr!==null&&mg(be,nr,Je,Xe,!0)}}e:{if(_e=z?Ll(z):window,Ye=_e.nodeName&&_e.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&_e.type==="file")var ft=na;else if(Tt(_e))if(Si)ft=Ys;else{ft=Or;var xt=ws}else(Ye=_e.nodeName)&&Ye.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(ft=vn);if(ft&&(ft=ft(s,z))){yn(be,ft,d,Se);break e}xt&&xt(s,_e,z),s==="focusout"&&(xt=_e._wrapperState)&&xt.controlled&&_e.type==="number"&&tt(_e,"number",_e.value)}switch(xt=z?Ll(z):window,s){case"focusin":(Tt(xt)||xt.contentEditable==="true")&&(lr=xt,pr=z,yt=null);break;case"focusout":yt=pr=lr=null;break;case"mousedown":dt=!0;break;case"contextmenu":case"mouseup":case"dragend":dt=!1,kt(be,d,Se);break;case"selectionchange":if(Xr)break;case"keydown":case"keyup":kt(be,d,Se)}var St;if(ys)e:{switch(s){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else He?xe(s,d)&&(vt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(vt="onCompositionStart");vt&&(Lc&&d.locale!=="ko"&&(He||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&He&&(St=Ro()):(Ta=Se,Ic="value"in Ta?Ta.value:Ta.textContent,He=!0)),xt=Bu(z,vt),0<xt.length&&(vt=new eo(vt,s,null,d,Se),be.push({event:vt,listeners:xt}),St?vt.data=St:(St=Ce(d),St!==null&&(vt.data=St)))),(St=vs?ke(s,d):ut(s,d))&&(z=Bu(z,"onBeforeInput"),0<z.length&&(Se=new eo("onBeforeInput","beforeinput",null,d,Se),be.push({event:Se,listeners:z}),Se.data=St))}Fo(be,o)})}function Zs(s,o,d){return{instance:s,listener:o,currentTarget:d}}function Bu(s,o){for(var d=o+"Capture",h=[];s!==null;){var w=s,j=w.stateNode;w.tag===5&&j!==null&&(w=j,j=er(s,d),j!=null&&h.unshift(Zs(s,j,w)),j=er(s,o),j!=null&&h.push(Zs(s,j,w))),s=s.return}return h}function Rl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function mg(s,o,d,h,w){for(var j=o._reactName,I=[];d!==null&&d!==h;){var H=d,re=H.alternate,z=H.stateNode;if(re!==null&&re===h)break;H.tag===5&&z!==null&&(H=z,w?(re=er(d,j),re!=null&&I.unshift(Zs(d,re,H))):w||(re=er(d,j),re!=null&&I.push(Zs(d,re,H)))),d=d.return}I.length!==0&&s.push({event:o,listeners:I})}var Fc=/\r\n?/g,hg=/\u0000|\uFFFD/g;function tm(s){return(typeof s=="string"?s:""+s).replace(Fc,`
`).replace(hg,"")}function Bc(s,o,d){if(o=tm(o),tm(s)!==o&&d)throw Error(r(425))}function qu(){}var qc=null,Ml=null;function df(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ff=typeof setTimeout=="function"?setTimeout:void 0,gg=typeof clearTimeout=="function"?clearTimeout:void 0,rm=typeof Promise=="function"?Promise:void 0,nm=typeof queueMicrotask=="function"?queueMicrotask:typeof rm<"u"?function(s){return rm.resolve(null).then(s).catch(ao)}:ff;function ao(s){setTimeout(function(){throw s})}function pf(s,o){var d=o,h=0;do{var w=d.nextSibling;if(s.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(h===0){s.removeChild(w),Cn(o);return}h--}else d!=="$"&&d!=="$?"&&d!=="$!"||h++;d=w}while(d);Cn(o)}function Cs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function am(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return s;o--}else d==="/$"&&o++}s=s.previousSibling}return null}var Dl=Math.random().toString(36).slice(2),Js="__reactFiber$"+Dl,Uc="__reactProps$"+Dl,so="__reactContainer$"+Dl,mf="__reactEvents$"+Dl,l0="__reactListeners$"+Dl,Uu="__reactHandles$"+Dl;function Bo(s){var o=s[Js];if(o)return o;for(var d=s.parentNode;d;){if(o=d[so]||d[Js]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=am(s);s!==null;){if(d=s[Js])return d;s=am(s)}return o}s=d,d=s.parentNode}return null}function io(s){return s=s[Js]||s[so],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ll(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Es(s){return s[Uc]||null}var hf=[],Ci=-1;function oo(s){return{current:s}}function br(s){0>Ci||(s.current=hf[Ci],hf[Ci]=null,Ci--)}function mr(s,o){Ci++,hf[Ci]=s.current,s.current=o}var lo={},sa=oo(lo),va=oo(!1),$l=lo;function ba(s,o){var d=s.type.contextTypes;if(!d)return lo;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var w={},j;for(j in d)w[j]=o[j];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=w),w}function Rn(s){return s=s.childContextTypes,s!=null}function ts(){br(va),br(sa)}function zc(s,o,d){if(sa.current!==lo)throw Error(r(168));mr(sa,o),mr(va,d)}function sm(s,o,d){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return d;h=h.getChildContext();for(var w in h)if(!(w in o))throw Error(r(108,Ve(s)||"Unknown",w));return ve({},d,h)}function Wc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||lo,$l=sa.current,mr(sa,s),mr(va,va.current),!0}function zu(s,o,d){var h=s.stateNode;if(!h)throw Error(r(169));d?(s=sm(s,o,$l),h.__reactInternalMemoizedMergedChildContext=s,br(va),br(sa),mr(sa,s)):br(va),mr(va,d)}var Ei=null,gf=!1,im=!1;function co(s){Ei===null?Ei=[s]:Ei.push(s)}function c0(s){gf=!0,co(s)}function xa(){if(!im&&Ei!==null){im=!0;var s=0,o=Ut;try{var d=Ei;for(Ut=1;s<d.length;s++){var h=d[s];do h=h(!0);while(h!==null)}Ei=null,gf=!1}catch(w){throw Ei!==null&&(Ei=Ei.slice(s+1)),me(It,xa),w}finally{Ut=o,im=!1}}return null}var Hc=[],Da=0,Wu=null,Vc=0,La=[],bn=0,ei=null,Ai=1,Pi="";function uo(s,o){Hc[Da++]=Vc,Hc[Da++]=Wu,Wu=s,Vc=o}function Gc(s,o,d){La[bn++]=Ai,La[bn++]=Pi,La[bn++]=ei,ei=s;var h=Ai;s=Pi;var w=32-hn(h)-1;h&=~(1<<w),d+=1;var j=32-hn(o)+w;if(30<j){var I=w-w%5;j=(h&(1<<I)-1).toString(32),h>>=I,w-=I,Ai=1<<32-hn(o)+w|d<<w|h,Pi=j+s}else Ai=1<<j|d<<w|h,Pi=s}function yf(s){s.return!==null&&(uo(s,1),Gc(s,1,0))}function vf(s){for(;s===Wu;)Wu=Hc[--Da],Hc[Da]=null,Vc=Hc[--Da],Hc[Da]=null;for(;s===ei;)ei=La[--bn],La[bn]=null,Pi=La[--bn],La[bn]=null,Ai=La[--bn],La[bn]=null}var rs=null,wa=null,_r=!1,As=null;function ns(s,o){var d=_a(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=s,o=s.deletions,o===null?(s.deletions=[d],s.flags|=16):o.push(d)}function Fl(s,o){switch(s.tag){case 5:var d=s.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,rs=s,wa=Cs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,rs=s,wa=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=ei!==null?{id:Ai,overflow:Pi}:null,s.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=_a(18,null,null,0),d.stateNode=o,d.return=s,s.child=d,rs=s,wa=null,!0):!1;default:return!1}}function bf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Kc(s){if(_r){var o=wa;if(o){var d=o;if(!Fl(s,o)){if(bf(s))throw Error(r(418));o=Cs(d.nextSibling);var h=rs;o&&Fl(s,o)?ns(h,d):(s.flags=s.flags&-4097|2,_r=!1,rs=s)}}else{if(bf(s))throw Error(r(418));s.flags=s.flags&-4097|2,_r=!1,rs=s}}}function Bl(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;rs=s}function Yc(s){if(s!==rs)return!1;if(!_r)return Bl(s),_r=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!df(s.type,s.memoizedProps)),o&&(o=wa)){if(bf(s))throw om(),Error(r(418));for(;o;)ns(s,o),o=Cs(o.nextSibling)}if(Bl(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(o===0){wa=Cs(s.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}s=s.nextSibling}wa=null}}else wa=rs?Cs(s.stateNode.nextSibling):null;return!0}function om(){for(var s=wa;s;)s=Cs(s.nextSibling)}function qo(){wa=rs=null,_r=!1}function Xc(s){As===null?As=[s]:As.push(s)}var Qc=$.ReactCurrentBatchConfig;function Zc(s,o,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var h=d.stateNode}if(!h)throw Error(r(147,s));var w=h,j=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===j?o.ref:(o=function(I){var H=w.refs;I===null?delete H[j]:H[j]=I},o._stringRef=j,o)}if(typeof s!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,s))}return s}function fo(s,o){throw s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function xf(s){var o=s._init;return o(s._payload)}function Uo(s){function o(le,ae){if(s){var ye=le.deletions;ye===null?(le.deletions=[ae],le.flags|=16):ye.push(ae)}}function d(le,ae){if(!s)return null;for(;ae!==null;)o(le,ae),ae=ae.sibling;return null}function h(le,ae){for(le=new Map;ae!==null;)ae.key!==null?le.set(ae.key,ae):le.set(ae.index,ae),ae=ae.sibling;return le}function w(le,ae){return le=ua(le,ae),le.index=0,le.sibling=null,le}function j(le,ae,ye){return le.index=ye,s?(ye=le.alternate,ye!==null?(ye=ye.index,ye<ae?(le.flags|=2,ae):ye):(le.flags|=2,ae)):(le.flags|=1048576,ae)}function I(le){return s&&le.alternate===null&&(le.flags|=2),le}function H(le,ae,ye,$e){return ae===null||ae.tag!==6?(ae=gu(ye,le.mode,$e),ae.return=le,ae):(ae=w(ae,ye),ae.return=le,ae)}function re(le,ae,ye,$e){var ft=ye.type;return ft===L?Se(le,ae,ye.props.children,$e,ye.key):ae!==null&&(ae.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===ne&&xf(ft)===ae.type)?($e=w(ae,ye.props),$e.ref=Zc(le,ae,ye),$e.return=le,$e):($e=Xf(ye.type,ye.key,ye.props,null,le.mode,$e),$e.ref=Zc(le,ae,ye),$e.return=le,$e)}function z(le,ae,ye,$e){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ye.containerInfo||ae.stateNode.implementation!==ye.implementation?(ae=Bm(ye,le.mode,$e),ae.return=le,ae):(ae=w(ae,ye.children||[]),ae.return=le,ae)}function Se(le,ae,ye,$e,ft){return ae===null||ae.tag!==7?(ae=al(ye,le.mode,$e,ft),ae.return=le,ae):(ae=w(ae,ye),ae.return=le,ae)}function be(le,ae,ye){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=gu(""+ae,le.mode,ye),ae.return=le,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case k:return ye=Xf(ae.type,ae.key,ae.props,null,le.mode,ye),ye.ref=Zc(le,null,ae),ye.return=le,ye;case M:return ae=Bm(ae,le.mode,ye),ae.return=le,ae;case ne:var $e=ae._init;return be(le,$e(ae._payload),ye)}if(rt(ae)||he(ae))return ae=al(ae,le.mode,ye,null),ae.return=le,ae;fo(le,ae)}return null}function _e(le,ae,ye,$e){var ft=ae!==null?ae.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ft!==null?null:H(le,ae,""+ye,$e);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case k:return ye.key===ft?re(le,ae,ye,$e):null;case M:return ye.key===ft?z(le,ae,ye,$e):null;case ne:return ft=ye._init,_e(le,ae,ft(ye._payload),$e)}if(rt(ye)||he(ye))return ft!==null?null:Se(le,ae,ye,$e,null);fo(le,ye)}return null}function Ye(le,ae,ye,$e,ft){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return le=le.get(ye)||null,H(ae,le,""+$e,ft);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case k:return le=le.get($e.key===null?ye:$e.key)||null,re(ae,le,$e,ft);case M:return le=le.get($e.key===null?ye:$e.key)||null,z(ae,le,$e,ft);case ne:var xt=$e._init;return Ye(le,ae,ye,xt($e._payload),ft)}if(rt($e)||he($e))return le=le.get(ye)||null,Se(ae,le,$e,ft,null);fo(ae,$e)}return null}function Je(le,ae,ye,$e){for(var ft=null,xt=null,St=ae,vt=ae=0,ln=null;St!==null&&vt<ye.length;vt++){St.index>vt?(ln=St,St=null):ln=St.sibling;var Rt=_e(le,St,ye[vt],$e);if(Rt===null){St===null&&(St=ln);break}s&&St&&Rt.alternate===null&&o(le,St),ae=j(Rt,ae,vt),xt===null?ft=Rt:xt.sibling=Rt,xt=Rt,St=ln}if(vt===ye.length)return d(le,St),_r&&uo(le,vt),ft;if(St===null){for(;vt<ye.length;vt++)St=be(le,ye[vt],$e),St!==null&&(ae=j(St,ae,vt),xt===null?ft=St:xt.sibling=St,xt=St);return _r&&uo(le,vt),ft}for(St=h(le,St);vt<ye.length;vt++)ln=Ye(St,le,vt,ye[vt],$e),ln!==null&&(s&&ln.alternate!==null&&St.delete(ln.key===null?vt:ln.key),ae=j(ln,ae,vt),xt===null?ft=ln:xt.sibling=ln,xt=ln);return s&&St.forEach(function(ic){return o(le,ic)}),_r&&uo(le,vt),ft}function Xe(le,ae,ye,$e){var ft=he(ye);if(typeof ft!="function")throw Error(r(150));if(ye=ft.call(ye),ye==null)throw Error(r(151));for(var xt=ft=null,St=ae,vt=ae=0,ln=null,Rt=ye.next();St!==null&&!Rt.done;vt++,Rt=ye.next()){St.index>vt?(ln=St,St=null):ln=St.sibling;var ic=_e(le,St,Rt.value,$e);if(ic===null){St===null&&(St=ln);break}s&&St&&ic.alternate===null&&o(le,St),ae=j(ic,ae,vt),xt===null?ft=ic:xt.sibling=ic,xt=ic,St=ln}if(Rt.done)return d(le,St),_r&&uo(le,vt),ft;if(St===null){for(;!Rt.done;vt++,Rt=ye.next())Rt=be(le,Rt.value,$e),Rt!==null&&(ae=j(Rt,ae,vt),xt===null?ft=Rt:xt.sibling=Rt,xt=Rt);return _r&&uo(le,vt),ft}for(St=h(le,St);!Rt.done;vt++,Rt=ye.next())Rt=Ye(St,le,vt,Rt.value,$e),Rt!==null&&(s&&Rt.alternate!==null&&St.delete(Rt.key===null?vt:Rt.key),ae=j(Rt,ae,vt),xt===null?ft=Rt:xt.sibling=Rt,xt=Rt);return s&&St.forEach(function(t_){return o(le,t_)}),_r&&uo(le,vt),ft}function nr(le,ae,ye,$e){if(typeof ye=="object"&&ye!==null&&ye.type===L&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case k:e:{for(var ft=ye.key,xt=ae;xt!==null;){if(xt.key===ft){if(ft=ye.type,ft===L){if(xt.tag===7){d(le,xt.sibling),ae=w(xt,ye.props.children),ae.return=le,le=ae;break e}}else if(xt.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===ne&&xf(ft)===xt.type){d(le,xt.sibling),ae=w(xt,ye.props),ae.ref=Zc(le,xt,ye),ae.return=le,le=ae;break e}d(le,xt);break}else o(le,xt);xt=xt.sibling}ye.type===L?(ae=al(ye.props.children,le.mode,$e,ye.key),ae.return=le,le=ae):($e=Xf(ye.type,ye.key,ye.props,null,le.mode,$e),$e.ref=Zc(le,ae,ye),$e.return=le,le=$e)}return I(le);case M:e:{for(xt=ye.key;ae!==null;){if(ae.key===xt)if(ae.tag===4&&ae.stateNode.containerInfo===ye.containerInfo&&ae.stateNode.implementation===ye.implementation){d(le,ae.sibling),ae=w(ae,ye.children||[]),ae.return=le,le=ae;break e}else{d(le,ae);break}else o(le,ae);ae=ae.sibling}ae=Bm(ye,le.mode,$e),ae.return=le,le=ae}return I(le);case ne:return xt=ye._init,nr(le,ae,xt(ye._payload),$e)}if(rt(ye))return Je(le,ae,ye,$e);if(he(ye))return Xe(le,ae,ye,$e);fo(le,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,ae!==null&&ae.tag===6?(d(le,ae.sibling),ae=w(ae,ye),ae.return=le,le=ae):(d(le,ae),ae=gu(ye,le.mode,$e),ae.return=le,le=ae),I(le)):d(le,ae)}return nr}var zo=Uo(!0),Wo=Uo(!1),ti=oo(null),ri=null,ia=null,wf=null;function Sf(){wf=ia=ri=null}function Hu(s){var o=ti.current;br(ti),s._currentValue=o}function Nf(s,o,d){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===d)break;s=s.return}}function Ho(s,o){ri=s,wf=ia=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Dn=!0),s.firstContext=null)}function $a(s){var o=s._currentValue;if(wf!==s)if(s={context:s,memoizedValue:o,next:null},ia===null){if(ri===null)throw Error(r(308));ia=s,ri.dependencies={lanes:0,firstContext:s}}else ia=ia.next=s;return o}var Vo=null;function Vu(s){Vo===null?Vo=[s]:Vo.push(s)}function u0(s,o,d,h){var w=o.interleaved;return w===null?(d.next=d,Vu(o)):(d.next=w.next,w.next=d),o.interleaved=d,po(s,h)}function po(s,o){s.lanes|=o;var d=s.alternate;for(d!==null&&(d.lanes|=o),d=s,s=s.return;s!==null;)s.childLanes|=o,d=s.alternate,d!==null&&(d.childLanes|=o),d=s,s=s.return;return d.tag===3?d.stateNode:null}var ki=!1;function ql(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gu(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Fa(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ni(s,o,d){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Dt&2)!==0){var w=h.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),h.pending=o,po(s,d)}return w=h.interleaved,w===null?(o.next=o,Vu(h)):(o.next=w.next,w.next=o),h.interleaved=o,po(s,d)}function Jc(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,d|=h,o.lanes=d,Oo(s,d)}}function jf(s,o){var d=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var w=null,j=null;if(d=d.firstBaseUpdate,d!==null){do{var I={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};j===null?w=j=I:j=j.next=I,d=d.next}while(d!==null);j===null?w=j=o:j=j.next=o}else w=j=o;d={baseState:h.baseState,firstBaseUpdate:w,lastBaseUpdate:j,shared:h.shared,effects:h.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}function eu(s,o,d,h){var w=s.updateQueue;ki=!1;var j=w.firstBaseUpdate,I=w.lastBaseUpdate,H=w.shared.pending;if(H!==null){w.shared.pending=null;var re=H,z=re.next;re.next=null,I===null?j=z:I.next=z,I=re;var Se=s.alternate;Se!==null&&(Se=Se.updateQueue,H=Se.lastBaseUpdate,H!==I&&(H===null?Se.firstBaseUpdate=z:H.next=z,Se.lastBaseUpdate=re))}if(j!==null){var be=w.baseState;I=0,Se=z=re=null,H=j;do{var _e=H.lane,Ye=H.eventTime;if((h&_e)===_e){Se!==null&&(Se=Se.next={eventTime:Ye,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Je=s,Xe=H;switch(_e=o,Ye=d,Xe.tag){case 1:if(Je=Xe.payload,typeof Je=="function"){be=Je.call(Ye,be,_e);break e}be=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Xe.payload,_e=typeof Je=="function"?Je.call(Ye,be,_e):Je,_e==null)break e;be=ve({},be,_e);break e;case 2:ki=!0}}H.callback!==null&&H.lane!==0&&(s.flags|=64,_e=w.effects,_e===null?w.effects=[H]:_e.push(H))}else Ye={eventTime:Ye,lane:_e,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Se===null?(z=Se=Ye,re=be):Se=Se.next=Ye,I|=_e;if(H=H.next,H===null){if(H=w.shared.pending,H===null)break;_e=H,H=_e.next,_e.next=null,w.lastBaseUpdate=_e,w.shared.pending=null}}while(!0);if(Se===null&&(re=be),w.baseState=re,w.firstBaseUpdate=z,w.lastBaseUpdate=Se,o=w.shared.interleaved,o!==null){w=o;do I|=w.lane,w=w.next;while(w!==o)}else j===null&&(w.shared.lanes=0);Os|=I,s.lanes=I,s.memoizedState=be}}function lm(s,o,d){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],w=h.callback;if(w!==null){if(h.callback=null,h=d,typeof w!="function")throw Error(r(191,w));w.call(h)}}}var Go={},Oi=oo(Go),Ul=oo(Go),tu=oo(Go);function mo(s){if(s===Go)throw Error(r(174));return s}function ru(s,o){switch(mr(tu,o),mr(Ul,s),mr(Oi,Go),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Wt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Wt(o,s)}br(Oi),mr(Oi,o)}function Ko(){br(Oi),br(Ul),br(tu)}function yg(s){mo(tu.current);var o=mo(Oi.current),d=Wt(o,s.type);o!==d&&(mr(Ul,s),mr(Oi,d))}function nu(s){Ul.current===s&&(br(Oi),br(Ul))}var Wr=oo(0);function au(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var _f=[];function Ku(){for(var s=0;s<_f.length;s++)_f[s]._workInProgressVersionPrimary=null;_f.length=0}var zl=$.ReactCurrentDispatcher,Yu=$.ReactCurrentBatchConfig,Yo=0,Hr=null,xn=null,Mn=null,ho=!1,Xu=!1,su=0,d0=0;function oa(){throw Error(r(321))}function go(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!or(s[d],o[d]))return!1;return!0}function Qu(s,o,d,h,w,j){if(Yo=j,Hr=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,zl.current=s===null||s.memoizedState===null?ym:xg,s=d(h,w),Xu){j=0;do{if(Xu=!1,su=0,25<=j)throw Error(r(301));j+=1,Mn=xn=null,o.updateQueue=null,zl.current=ud,s=d(h,w)}while(Xu)}if(zl.current=Af,o=xn!==null&&xn.next!==null,Yo=0,Mn=xn=Hr=null,ho=!1,o)throw Error(r(300));return s}function Zu(){var s=su!==0;return su=0,s}function Ps(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?Hr.memoizedState=Mn=s:Mn=Mn.next=s,Mn}function Hn(){if(xn===null){var s=Hr.alternate;s=s!==null?s.memoizedState:null}else s=xn.next;var o=Mn===null?Hr.memoizedState:Mn.next;if(o!==null)Mn=o,xn=s;else{if(s===null)throw Error(r(310));xn=s,s={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Mn===null?Hr.memoizedState=Mn=s:Mn=Mn.next=s}return Mn}function Wl(s,o){return typeof o=="function"?o(s):o}function iu(s){var o=Hn(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var h=xn,w=h.baseQueue,j=d.pending;if(j!==null){if(w!==null){var I=w.next;w.next=j.next,j.next=I}h.baseQueue=w=j,d.pending=null}if(w!==null){j=w.next,h=h.baseState;var H=I=null,re=null,z=j;do{var Se=z.lane;if((Yo&Se)===Se)re!==null&&(re=re.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:s(h,z.action);else{var be={lane:Se,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};re===null?(H=re=be,I=h):re=re.next=be,Hr.lanes|=Se,Os|=Se}z=z.next}while(z!==null&&z!==j);re===null?I=h:re.next=H,or(h,o.memoizedState)||(Dn=!0),o.memoizedState=h,o.baseState=I,o.baseQueue=re,d.lastRenderedState=h}if(s=d.interleaved,s!==null){w=s;do j=w.lane,Hr.lanes|=j,Os|=j,w=w.next;while(w!==s)}else w===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function Ju(s){var o=Hn(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var h=d.dispatch,w=d.pending,j=o.memoizedState;if(w!==null){d.pending=null;var I=w=w.next;do j=s(j,I.action),I=I.next;while(I!==w);or(j,o.memoizedState)||(Dn=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),d.lastRenderedState=j}return[j,h]}function ed(){}function td(s,o){var d=Hr,h=Hn(),w=o(),j=!or(h.memoizedState,w);if(j&&(h.memoizedState=w,Dn=!0),h=h.queue,ou(cm.bind(null,d,h,s),[s]),h.getSnapshot!==o||j||Mn!==null&&Mn.memoizedState.tag&1){if(d.flags|=2048,Xo(9,nd.bind(null,d,h,w,o),void 0,null),Sn===null)throw Error(r(349));(Yo&30)!==0||rd(d,o,w)}return w}function rd(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=Hr.updateQueue,o===null?(o={lastEffect:null,stores:null},Hr.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function nd(s,o,d,h){o.value=d,o.getSnapshot=h,ad(o)&&ks(s)}function cm(s,o,d){return d(function(){ad(o)&&ks(s)})}function ad(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!or(s,d)}catch{return!0}}function ks(s){var o=po(s,1);o!==null&&Rr(o,s,1,-1)}function sd(s){var o=Ps();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:s},o.queue=s,s=s.dispatch=Kl.bind(null,Hr,s),[o.memoizedState,s]}function Xo(s,o,d,h){return s={tag:s,create:o,destroy:d,deps:h,next:null},o=Hr.updateQueue,o===null?(o={lastEffect:null,stores:null},Hr.updateQueue=o,o.lastEffect=s.next=s):(d=o.lastEffect,d===null?o.lastEffect=s.next=s:(h=d.next,d.next=s,s.next=h,o.lastEffect=s)),s}function Hl(){return Hn().memoizedState}function Vl(s,o,d,h){var w=Ps();Hr.flags|=s,w.memoizedState=Xo(1|o,d,void 0,h===void 0?null:h)}function id(s,o,d,h){var w=Hn();h=h===void 0?null:h;var j=void 0;if(xn!==null){var I=xn.memoizedState;if(j=I.destroy,h!==null&&go(h,I.deps)){w.memoizedState=Xo(o,d,j,h);return}}Hr.flags|=s,w.memoizedState=Xo(1|o,d,j,h)}function um(s,o){return Vl(8390656,8,s,o)}function ou(s,o){return id(2048,8,s,o)}function vg(s,o){return id(4,2,s,o)}function od(s,o){return id(4,4,s,o)}function Cf(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function ld(s,o,d){return d=d!=null?d.concat([s]):null,id(4,4,Cf.bind(null,o,s),d)}function dm(){}function fm(s,o){var d=Hn();o=o===void 0?null:o;var h=d.memoizedState;return h!==null&&o!==null&&go(o,h[1])?h[0]:(d.memoizedState=[s,o],s)}function Ef(s,o){var d=Hn();o=o===void 0?null:o;var h=d.memoizedState;return h!==null&&o!==null&&go(o,h[1])?h[0]:(s=s(),d.memoizedState=[s,o],s)}function pm(s,o,d){return(Yo&21)===0?(s.baseState&&(s.baseState=!1,Dn=!0),s.memoizedState=d):(or(d,o)||(d=Pc(),Hr.lanes|=d,Os|=d,s.baseState=!0),o)}function mm(s,o){var d=Ut;Ut=d!==0&&4>d?d:4,s(!0);var h=Yu.transition;Yu.transition={};try{s(!1),o()}finally{Ut=d,Yu.transition=h}}function hm(){return Hn().memoizedState}function Gl(s,o,d){var h=ii(s);if(d={lane:h,action:d,hasEagerState:!1,eagerState:null,next:null},cd(s))gm(o,d);else if(d=u0(s,o,d,h),d!==null){var w=ca();Rr(d,s,h,w),bg(d,o,h)}}function Kl(s,o,d){var h=ii(s),w={lane:h,action:d,hasEagerState:!1,eagerState:null,next:null};if(cd(s))gm(o,w);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var I=o.lastRenderedState,H=j(I,d);if(w.hasEagerState=!0,w.eagerState=H,or(H,I)){var re=o.interleaved;re===null?(w.next=w,Vu(o)):(w.next=re.next,re.next=w),o.interleaved=w;return}}catch{}finally{}d=u0(s,o,w,h),d!==null&&(w=ca(),Rr(d,s,h,w),bg(d,o,h))}}function cd(s){var o=s.alternate;return s===Hr||o!==null&&o===Hr}function gm(s,o){Xu=ho=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function bg(s,o,d){if((d&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,d|=h,o.lanes=d,Oo(s,d)}}var Af={readContext:$a,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useInsertionEffect:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useSyncExternalStore:oa,useId:oa,unstable_isNewReconciler:!1},ym={readContext:$a,useCallback:function(s,o){return Ps().memoizedState=[s,o===void 0?null:o],s},useContext:$a,useEffect:um,useImperativeHandle:function(s,o,d){return d=d!=null?d.concat([s]):null,Vl(4194308,4,Cf.bind(null,o,s),d)},useLayoutEffect:function(s,o){return Vl(4194308,4,s,o)},useInsertionEffect:function(s,o){return Vl(4,2,s,o)},useMemo:function(s,o){var d=Ps();return o=o===void 0?null:o,s=s(),d.memoizedState=[s,o],s},useReducer:function(s,o,d){var h=Ps();return o=d!==void 0?d(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=Gl.bind(null,Hr,s),[h.memoizedState,s]},useRef:function(s){var o=Ps();return s={current:s},o.memoizedState=s},useState:sd,useDebugValue:dm,useDeferredValue:function(s){return Ps().memoizedState=s},useTransition:function(){var s=sd(!1),o=s[0];return s=mm.bind(null,s[1]),Ps().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,d){var h=Hr,w=Ps();if(_r){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),Sn===null)throw Error(r(349));(Yo&30)!==0||rd(h,o,d)}w.memoizedState=d;var j={value:d,getSnapshot:o};return w.queue=j,um(cm.bind(null,h,j,s),[s]),h.flags|=2048,Xo(9,nd.bind(null,h,j,d,o),void 0,null),d},useId:function(){var s=Ps(),o=Sn.identifierPrefix;if(_r){var d=Pi,h=Ai;d=(h&~(1<<32-hn(h)-1)).toString(32)+d,o=":"+o+"R"+d,d=su++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=d0++,o=":"+o+"r"+d.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},xg={readContext:$a,useCallback:fm,useContext:$a,useEffect:ou,useImperativeHandle:ld,useInsertionEffect:vg,useLayoutEffect:od,useMemo:Ef,useReducer:iu,useRef:Hl,useState:function(){return iu(Wl)},useDebugValue:dm,useDeferredValue:function(s){var o=Hn();return pm(o,xn.memoizedState,s)},useTransition:function(){var s=iu(Wl)[0],o=Hn().memoizedState;return[s,o]},useMutableSource:ed,useSyncExternalStore:td,useId:hm,unstable_isNewReconciler:!1},ud={readContext:$a,useCallback:fm,useContext:$a,useEffect:ou,useImperativeHandle:ld,useInsertionEffect:vg,useLayoutEffect:od,useMemo:Ef,useReducer:Ju,useRef:Hl,useState:function(){return Ju(Wl)},useDebugValue:dm,useDeferredValue:function(s){var o=Hn();return xn===null?o.memoizedState=s:pm(o,xn.memoizedState,s)},useTransition:function(){var s=Ju(Wl)[0],o=Hn().memoizedState;return[s,o]},useMutableSource:ed,useSyncExternalStore:td,useId:hm,unstable_isNewReconciler:!1};function Vr(s,o){if(s&&s.defaultProps){o=ve({},o),s=s.defaultProps;for(var d in s)o[d]===void 0&&(o[d]=s[d]);return o}return o}function Pf(s,o,d,h){o=s.memoizedState,d=d(h,o),d=d==null?o:ve({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var dd={isMounted:function(s){return(s=s._reactInternals)?mn(s)===s:!1},enqueueSetState:function(s,o,d){s=s._reactInternals;var h=ca(),w=ii(s),j=Fa(h,w);j.payload=o,d!=null&&(j.callback=d),o=ni(s,j,w),o!==null&&(Rr(o,s,w,h),Jc(o,s,w))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var h=ca(),w=ii(s),j=Fa(h,w);j.tag=1,j.payload=o,d!=null&&(j.callback=d),o=ni(s,j,w),o!==null&&(Rr(o,s,w,h),Jc(o,s,w))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=ca(),h=ii(s),w=Fa(d,h);w.tag=2,o!=null&&(w.callback=o),o=ni(s,w,h),o!==null&&(Rr(o,s,h,d),Jc(o,s,h))}};function Yt(s,o,d,h,w,j,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,j,I):o.prototype&&o.prototype.isPureReactComponent?!aa(d,h)||!aa(w,j):!0}function fd(s,o,d){var h=!1,w=lo,j=o.contextType;return typeof j=="object"&&j!==null?j=$a(j):(w=Rn(o)?$l:sa.current,h=o.contextTypes,j=(h=h!=null)?ba(s,w):lo),o=new o(d,j),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=dd,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=w,s.__reactInternalMemoizedMaskedChildContext=j),o}function pd(s,o,d,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,h),o.state!==s&&dd.enqueueReplaceState(o,o.state,null)}function Ti(s,o,d,h){var w=s.stateNode;w.props=d,w.state=s.memoizedState,w.refs={},ql(s);var j=o.contextType;typeof j=="object"&&j!==null?w.context=$a(j):(j=Rn(o)?$l:sa.current,w.context=ba(s,j)),w.state=s.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(Pf(s,o,j,d),w.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(o=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),o!==w.state&&dd.enqueueReplaceState(w,w.state,null),eu(s,d,w,h),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308)}function Yl(s,o){try{var d="",h=o;do d+=Ie(h),h=h.return;while(h);var w=d}catch(j){w=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:o,stack:w,digest:null}}function kf(s,o,d){return{value:s,source:null,stack:d??null,digest:o??null}}function vm(s,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var Ii=typeof WeakMap=="function"?WeakMap:Map;function bm(s,o,d){d=Fa(-1,d),d.tag=3,d.payload={element:null};var h=o.value;return d.callback=function(){Uf||(Uf=!0,Im=h),vm(s,o)},d}function md(s,o,d){d=Fa(-1,d),d.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var w=o.value;d.payload=function(){return h(w)},d.callback=function(){vm(s,o)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(d.callback=function(){vm(s,o),typeof h!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),d}function Of(s,o,d){var h=s.pingCache;if(h===null){h=s.pingCache=new Ii;var w=new Set;h.set(o,w)}else w=h.get(o),w===void 0&&(w=new Set,h.set(o,w));w.has(d)||(w.add(d),s=kg.bind(null,s,o,d),o.then(s,s))}function lu(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function xm(s,o,d,h,w){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=Fa(-1,1),o.tag=2,ni(d,o,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=w,s)}var wm=$.ReactCurrentOwner,Dn=!1;function Sa(s,o,d,h){o.child=s===null?Wo(o,null,d,h):zo(o,s.child,d,h)}function cu(s,o,d,h,w){d=d.render;var j=o.ref;return Ho(o,w),h=Qu(s,o,d,h,j,w),d=Zu(),s!==null&&!Dn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~w,Vn(s,o,w)):(_r&&d&&yf(o),o.flags|=1,Sa(s,o,h,w),o.child)}function hd(s,o,d,h,w){if(s===null){var j=d.type;return typeof j=="function"&&!nl(j)&&j.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=j,Tf(s,o,j,h,w)):(s=Xf(d.type,null,h,o,o.mode,w),s.ref=o.ref,s.return=o,o.child=s)}if(j=s.child,(s.lanes&w)===0){var I=j.memoizedProps;if(d=d.compare,d=d!==null?d:aa,d(I,h)&&s.ref===o.ref)return Vn(s,o,w)}return o.flags|=1,s=ua(j,h),s.ref=o.ref,s.return=o,o.child=s}function Tf(s,o,d,h,w){if(s!==null){var j=s.memoizedProps;if(aa(j,h)&&s.ref===o.ref)if(Dn=!1,o.pendingProps=h=j,(s.lanes&w)!==0)(s.flags&131072)!==0&&(Dn=!0);else return o.lanes=s.lanes,Vn(s,o,w)}return gd(s,o,d,h,w)}function yo(s,o,d){var h=o.pendingProps,w=h.children,j=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(pu,Ba),Ba|=d;else{if((d&1073741824)===0)return s=j!==null?j.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,mr(pu,Ba),Ba|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=j!==null?j.baseLanes:d,mr(pu,Ba),Ba|=h}else j!==null?(h=j.baseLanes|d,o.memoizedState=null):h=d,mr(pu,Ba),Ba|=h;return Sa(s,o,w,d),o.child}function Xl(s,o){var d=o.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function gd(s,o,d,h,w){var j=Rn(d)?$l:sa.current;return j=ba(o,j),Ho(o,w),d=Qu(s,o,d,h,j,w),h=Zu(),s!==null&&!Dn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~w,Vn(s,o,w)):(_r&&h&&yf(o),o.flags|=1,Sa(s,o,d,w),o.child)}function Ql(s,o,d,h,w){if(Rn(d)){var j=!0;Wc(o)}else j=!1;if(Ho(o,w),o.stateNode===null)Qo(s,o),fd(o,d,h),Ti(o,d,h,w),h=!0;else if(s===null){var I=o.stateNode,H=o.memoizedProps;I.props=H;var re=I.context,z=d.contextType;typeof z=="object"&&z!==null?z=$a(z):(z=Rn(d)?$l:sa.current,z=ba(o,z));var Se=d.getDerivedStateFromProps,be=typeof Se=="function"||typeof I.getSnapshotBeforeUpdate=="function";be||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(H!==h||re!==z)&&pd(o,I,h,z),ki=!1;var _e=o.memoizedState;I.state=_e,eu(o,h,I,w),re=o.memoizedState,H!==h||_e!==re||va.current||ki?(typeof Se=="function"&&(Pf(o,d,Se,h),re=o.memoizedState),(H=ki||Yt(o,d,H,h,_e,re,z))?(be||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=re),I.props=h,I.state=re,I.context=z,h=H):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{I=o.stateNode,Gu(s,o),H=o.memoizedProps,z=o.type===o.elementType?H:Vr(o.type,H),I.props=z,be=o.pendingProps,_e=I.context,re=d.contextType,typeof re=="object"&&re!==null?re=$a(re):(re=Rn(d)?$l:sa.current,re=ba(o,re));var Ye=d.getDerivedStateFromProps;(Se=typeof Ye=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(H!==be||_e!==re)&&pd(o,I,h,re),ki=!1,_e=o.memoizedState,I.state=_e,eu(o,h,I,w);var Je=o.memoizedState;H!==be||_e!==Je||va.current||ki?(typeof Ye=="function"&&(Pf(o,d,Ye,h),Je=o.memoizedState),(z=ki||Yt(o,d,z,h,_e,Je,re)||!1)?(Se||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,Je,re),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,Je,re)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||H===s.memoizedProps&&_e===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&_e===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Je),I.props=h,I.state=Je,I.context=re,h=z):(typeof I.componentDidUpdate!="function"||H===s.memoizedProps&&_e===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&_e===s.memoizedState||(o.flags|=1024),h=!1)}return yd(s,o,d,h,j,w)}function yd(s,o,d,h,w,j){Xl(s,o);var I=(o.flags&128)!==0;if(!h&&!I)return w&&zu(o,d,!1),Vn(s,o,j);h=o.stateNode,wm.current=o;var H=I&&typeof d.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&I?(o.child=zo(o,s.child,null,j),o.child=zo(o,null,H,j)):Sa(s,o,H,j),o.memoizedState=h.state,w&&zu(o,d,!0),o.child}function Sm(s){var o=s.stateNode;o.pendingContext?zc(s,o.pendingContext,o.pendingContext!==o.context):o.context&&zc(s,o.context,!1),ru(s,o.containerInfo)}function Nm(s,o,d,h,w){return qo(),Xc(w),o.flags|=256,Sa(s,o,d,h),o.child}var Zl={dehydrated:null,treeContext:null,retryLane:0};function If(s){return{baseLanes:s,cachePool:null,transitions:null}}function Rf(s,o,d){var h=o.pendingProps,w=Wr.current,j=!1,I=(o.flags&128)!==0,H;if((H=I)||(H=s!==null&&s.memoizedState===null?!1:(w&2)!==0),H?(j=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(w|=1),mr(Wr,w&1),s===null)return Kc(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=h.children,s=h.fallback,j?(h=o.mode,j=o.child,I={mode:"hidden",children:I},(h&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=I):j=Qf(I,h,0,null),s=al(s,h,d,null),j.return=o,s.return=o,j.sibling=s,o.child=j,o.child.memoizedState=If(d),o.memoizedState=Zl,s):vo(o,I));if(w=s.memoizedState,w!==null&&(H=w.dehydrated,H!==null))return wg(s,o,I,h,H,w,d);if(j){j=h.fallback,I=o.mode,w=s.child,H=w.sibling;var re={mode:"hidden",children:h.children};return(I&1)===0&&o.child!==w?(h=o.child,h.childLanes=0,h.pendingProps=re,o.deletions=null):(h=ua(w,re),h.subtreeFlags=w.subtreeFlags&14680064),H!==null?j=ua(H,j):(j=al(j,I,d,null),j.flags|=2),j.return=o,h.return=o,h.sibling=j,o.child=h,h=j,j=o.child,I=s.child.memoizedState,I=I===null?If(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},j.memoizedState=I,j.childLanes=s.childLanes&~d,o.memoizedState=Zl,h}return j=s.child,s=j.sibling,h=ua(j,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=d),h.return=o,h.sibling=null,s!==null&&(d=o.deletions,d===null?(o.deletions=[s],o.flags|=16):d.push(s)),o.child=h,o.memoizedState=null,h}function vo(s,o){return o=Qf({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function bo(s,o,d,h){return h!==null&&Xc(h),zo(o,s.child,null,d),s=vo(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function wg(s,o,d,h,w,j,I){if(d)return o.flags&256?(o.flags&=-257,h=kf(Error(r(422))),bo(s,o,I,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(j=h.fallback,w=o.mode,h=Qf({mode:"visible",children:h.children},w,0,null),j=al(j,w,I,null),j.flags|=2,h.return=o,j.return=o,h.sibling=j,o.child=h,(o.mode&1)!==0&&zo(o,s.child,null,I),o.child.memoizedState=If(I),o.memoizedState=Zl,j);if((o.mode&1)===0)return bo(s,o,I,null);if(w.data==="$!"){if(h=w.nextSibling&&w.nextSibling.dataset,h)var H=h.dgst;return h=H,j=Error(r(419)),h=kf(j,h,void 0),bo(s,o,I,h)}if(H=(I&s.childLanes)!==0,Dn||H){if(h=Sn,h!==null){switch(I&-I){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(h.suspendedLanes|I))!==0?0:w,w!==0&&w!==j.retryLane&&(j.retryLane=w,po(s,w),Rr(h,s,w,-1))}return Fm(),h=kf(Error(r(421))),bo(s,o,I,h)}return w.data==="$?"?(o.flags|=128,o.child=s.child,o=y0.bind(null,s),w._reactRetry=o,null):(s=j.treeContext,wa=Cs(w.nextSibling),rs=o,_r=!0,As=null,s!==null&&(La[bn++]=Ai,La[bn++]=Pi,La[bn++]=ei,Ai=s.id,Pi=s.overflow,ei=o),o=vo(o,h.children),o.flags|=4096,o)}function vd(s,o,d){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Nf(s.return,o,d)}function xo(s,o,d,h,w){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:w}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=h,j.tail=d,j.tailMode=w)}function jm(s,o,d){var h=o.pendingProps,w=h.revealOrder,j=h.tail;if(Sa(s,o,h.children,d),h=Wr.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vd(s,d,o);else if(s.tag===19)vd(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(mr(Wr,h),(o.mode&1)===0)o.memoizedState=null;else switch(w){case"forwards":for(d=o.child,w=null;d!==null;)s=d.alternate,s!==null&&au(s)===null&&(w=d),d=d.sibling;d=w,d===null?(w=o.child,o.child=null):(w=d.sibling,d.sibling=null),xo(o,!1,w,d,j);break;case"backwards":for(d=null,w=o.child,o.child=null;w!==null;){if(s=w.alternate,s!==null&&au(s)===null){o.child=w;break}s=w.sibling,w.sibling=d,d=w,w=s}xo(o,!0,d,null,j);break;case"together":xo(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Qo(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Vn(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),Os|=o.lanes,(d&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,d=ua(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=ua(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function Sg(s,o,d){switch(o.tag){case 3:Sm(o),qo();break;case 5:yg(o);break;case 1:Rn(o.type)&&Wc(o);break;case 4:ru(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,w=o.memoizedProps.value;mr(ti,h._currentValue),h._currentValue=w;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(mr(Wr,Wr.current&1),o.flags|=128,null):(d&o.child.childLanes)!==0?Rf(s,o,d):(mr(Wr,Wr.current&1),s=Vn(s,o,d),s!==null?s.sibling:null);mr(Wr,Wr.current&1);break;case 19:if(h=(d&o.childLanes)!==0,(s.flags&128)!==0){if(h)return jm(s,o,d);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),mr(Wr,Wr.current),h)break;return null;case 22:case 23:return o.lanes=0,yo(s,o,d)}return Vn(s,o,d)}var _m,uu,Ng,as;_m=function(s,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},uu=function(){},Ng=function(s,o,d,h){var w=s.memoizedProps;if(w!==h){s=o.stateNode,mo(Oi.current);var j=null;switch(d){case"input":w=wt(s,w),h=wt(s,h),j=[];break;case"select":w=ve({},w,{value:void 0}),h=ve({},h,{value:void 0}),j=[];break;case"textarea":w=gt(s,w),h=gt(s,h),j=[];break;default:typeof w.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=qu)}gr(d,h);var I;d=null;for(z in w)if(!h.hasOwnProperty(z)&&w.hasOwnProperty(z)&&w[z]!=null)if(z==="style"){var H=w[z];for(I in H)H.hasOwnProperty(I)&&(d||(d={}),d[I]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?j||(j=[]):(j=j||[]).push(z,null));for(z in h){var re=h[z];if(H=w?.[z],h.hasOwnProperty(z)&&re!==H&&(re!=null||H!=null))if(z==="style")if(H){for(I in H)!H.hasOwnProperty(I)||re&&re.hasOwnProperty(I)||(d||(d={}),d[I]="");for(I in re)re.hasOwnProperty(I)&&H[I]!==re[I]&&(d||(d={}),d[I]=re[I])}else d||(j||(j=[]),j.push(z,d)),d=re;else z==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,H=H?H.__html:void 0,re!=null&&H!==re&&(j=j||[]).push(z,re)):z==="children"?typeof re!="string"&&typeof re!="number"||(j=j||[]).push(z,""+re):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(a.hasOwnProperty(z)?(re!=null&&z==="onScroll"&&vr("scroll",s),j||H===re||(j=[])):(j=j||[]).push(z,re))}d&&(j=j||[]).push("style",d);var z=j;(o.updateQueue=z)&&(o.flags|=4)}},as=function(s,o,d,h){d!==h&&(o.flags|=4)};function Zo(s,o){if(!_r)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function wn(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,h=0;if(o)for(var w=s.child;w!==null;)d|=w.lanes|w.childLanes,h|=w.subtreeFlags&14680064,h|=w.flags&14680064,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)d|=w.lanes|w.childLanes,h|=w.subtreeFlags,h|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=h,s.childLanes=d,o}function Cm(s,o,d){var h=o.pendingProps;switch(vf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(o),null;case 1:return Rn(o.type)&&ts(),wn(o),null;case 3:return h=o.stateNode,Ko(),br(va),br(sa),Ku(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Yc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,As!==null&&(Gf(As),As=null))),uu(s,o),wn(o),null;case 5:nu(o);var w=mo(tu.current);if(d=o.type,s!==null&&o.stateNode!=null)Ng(s,o,d,h,w),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(r(166));return wn(o),null}if(s=mo(Oi.current),Yc(o)){h=o.stateNode,d=o.type;var j=o.memoizedProps;switch(h[Js]=o,h[Uc]=j,s=(o.mode&1)!==0,d){case"dialog":vr("cancel",h),vr("close",h);break;case"iframe":case"object":case"embed":vr("load",h);break;case"video":case"audio":for(w=0;w<Fu.length;w++)vr(Fu[w],h);break;case"source":vr("error",h);break;case"img":case"image":case"link":vr("error",h),vr("load",h);break;case"details":vr("toggle",h);break;case"input":ht(h,j),vr("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!j.multiple},vr("invalid",h);break;case"textarea":fr(h,j),vr("invalid",h)}gr(d,j),w=null;for(var I in j)if(j.hasOwnProperty(I)){var H=j[I];I==="children"?typeof H=="string"?h.textContent!==H&&(j.suppressHydrationWarning!==!0&&Bc(h.textContent,H,s),w=["children",H]):typeof H=="number"&&h.textContent!==""+H&&(j.suppressHydrationWarning!==!0&&Bc(h.textContent,H,s),w=["children",""+H]):a.hasOwnProperty(I)&&H!=null&&I==="onScroll"&&vr("scroll",h)}switch(d){case"input":et(h),Ue(h,j,!0);break;case"textarea":et(h),Sr(h);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(h.onclick=qu)}h=w,o.updateQueue=h,h!==null&&(o.flags|=4)}else{I=w.nodeType===9?w:w.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Qt(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=I.createElement(d,{is:h.is}):(s=I.createElement(d),d==="select"&&(I=s,h.multiple?I.multiple=!0:h.size&&(I.size=h.size))):s=I.createElementNS(s,d),s[Js]=o,s[Uc]=h,_m(s,o,!1,!1),o.stateNode=s;e:{switch(I=ea(d,h),d){case"dialog":vr("cancel",s),vr("close",s),w=h;break;case"iframe":case"object":case"embed":vr("load",s),w=h;break;case"video":case"audio":for(w=0;w<Fu.length;w++)vr(Fu[w],s);w=h;break;case"source":vr("error",s),w=h;break;case"img":case"image":case"link":vr("error",s),vr("load",s),w=h;break;case"details":vr("toggle",s),w=h;break;case"input":ht(s,h),w=wt(s,h),vr("invalid",s);break;case"option":w=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},w=ve({},h,{value:void 0}),vr("invalid",s);break;case"textarea":fr(s,h),w=gt(s,h),vr("invalid",s);break;default:w=h}gr(d,w),H=w;for(j in H)if(H.hasOwnProperty(j)){var re=H[j];j==="style"?Kr(s,re):j==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&Lr(s,re)):j==="children"?typeof re=="string"?(d!=="textarea"||re!=="")&&Lt(s,re):typeof re=="number"&&Lt(s,""+re):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?re!=null&&j==="onScroll"&&vr("scroll",s):re!=null&&D(s,j,re,I))}switch(d){case"input":et(s),Ue(s,h,!1);break;case"textarea":et(s),Sr(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Me(h.value));break;case"select":s.multiple=!!h.multiple,j=h.value,j!=null?Ct(s,!!h.multiple,j,!1):h.defaultValue!=null&&Ct(s,!!h.multiple,h.defaultValue,!0);break;default:typeof w.onClick=="function"&&(s.onclick=qu)}switch(d){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return wn(o),null;case 6:if(s&&o.stateNode!=null)as(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(d=mo(tu.current),mo(Oi.current),Yc(o)){if(h=o.stateNode,d=o.memoizedProps,h[Js]=o,(j=h.nodeValue!==d)&&(s=rs,s!==null))switch(s.tag){case 3:Bc(h.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Bc(h.nodeValue,d,(s.mode&1)!==0)}j&&(o.flags|=4)}else h=(d.nodeType===9?d:d.ownerDocument).createTextNode(h),h[Js]=o,o.stateNode=h}return wn(o),null;case 13:if(br(Wr),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_r&&wa!==null&&(o.mode&1)!==0&&(o.flags&128)===0)om(),qo(),o.flags|=98560,j=!1;else if(j=Yc(o),h!==null&&h.dehydrated!==null){if(s===null){if(!j)throw Error(r(318));if(j=o.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Js]=o}else qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;wn(o),j=!1}else As!==null&&(Gf(As),As=null),j=!0;if(!j)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=d,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Wr.current&1)!==0?An===0&&(An=3):Fm())),o.updateQueue!==null&&(o.flags|=4),wn(o),null);case 4:return Ko(),uu(s,o),s===null&&$c(o.stateNode.containerInfo),wn(o),null;case 10:return Hu(o.type._context),wn(o),null;case 17:return Rn(o.type)&&ts(),wn(o),null;case 19:if(br(Wr),j=o.memoizedState,j===null)return wn(o),null;if(h=(o.flags&128)!==0,I=j.rendering,I===null)if(h)Zo(j,!1);else{if(An!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=au(s),I!==null){for(o.flags|=128,Zo(j,!1),h=I.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=d,d=o.child;d!==null;)j=d,s=h,j.flags&=14680066,I=j.alternate,I===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=I.childLanes,j.lanes=I.lanes,j.child=I.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=I.memoizedProps,j.memoizedState=I.memoizedState,j.updateQueue=I.updateQueue,j.type=I.type,s=I.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return mr(Wr,Wr.current&1|2),o.child}s=s.sibling}j.tail!==null&&st()>tl&&(o.flags|=128,h=!0,Zo(j,!1),o.lanes=4194304)}else{if(!h)if(s=au(I),s!==null){if(o.flags|=128,h=!0,d=s.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),Zo(j,!0),j.tail===null&&j.tailMode==="hidden"&&!I.alternate&&!_r)return wn(o),null}else 2*st()-j.renderingStartTime>tl&&d!==1073741824&&(o.flags|=128,h=!0,Zo(j,!1),o.lanes=4194304);j.isBackwards?(I.sibling=o.child,o.child=I):(d=j.last,d!==null?d.sibling=I:o.child=I,j.last=I)}return j.tail!==null?(o=j.tail,j.rendering=o,j.tail=o.sibling,j.renderingStartTime=st(),o.sibling=null,d=Wr.current,mr(Wr,h?d&1|2:d&1),o):(wn(o),null);case 22:case 23:return Dm(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Ba&1073741824)!==0&&(wn(o),o.subtreeFlags&6&&(o.flags|=8192)):wn(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function Em(s,o){switch(vf(o),o.tag){case 1:return Rn(o.type)&&ts(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ko(),br(va),br(sa),Ku(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return nu(o),null;case 13:if(br(Wr),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));qo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return br(Wr),null;case 4:return Ko(),null;case 10:return Hu(o.type._context),null;case 22:case 23:return Dm(),null;case 24:return null;default:return null}}var du=!1,Ln=!1,Am=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Jo(s,o){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(h){Mr(s,o,h)}else d.current=null}function Mf(s,o,d){try{d()}catch(h){Mr(s,o,h)}}var bd=!1;function f0(s,o){if(qc=Xa,s=Wn(),Xs(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var w=h.anchorOffset,j=h.focusNode;h=h.focusOffset;try{d.nodeType,j.nodeType}catch{d=null;break e}var I=0,H=-1,re=-1,z=0,Se=0,be=s,_e=null;t:for(;;){for(var Ye;be!==d||w!==0&&be.nodeType!==3||(H=I+w),be!==j||h!==0&&be.nodeType!==3||(re=I+h),be.nodeType===3&&(I+=be.nodeValue.length),(Ye=be.firstChild)!==null;)_e=be,be=Ye;for(;;){if(be===s)break t;if(_e===d&&++z===w&&(H=I),_e===j&&++Se===h&&(re=I),(Ye=be.nextSibling)!==null)break;be=_e,_e=be.parentNode}be=Ye}d=H===-1||re===-1?null:{start:H,end:re}}else d=null}d=d||{start:0,end:0}}else d=null;for(Ml={focusedElem:s,selectionRange:d},Xa=!1,nt=o;nt!==null;)if(o=nt,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,nt=s;else for(;nt!==null;){o=nt;try{var Je=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var Xe=Je.memoizedProps,nr=Je.memoizedState,le=o.stateNode,ae=le.getSnapshotBeforeUpdate(o.elementType===o.type?Xe:Vr(o.type,Xe),nr);le.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var ye=o.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch($e){Mr(o,o.return,$e)}if(s=o.sibling,s!==null){s.return=o.return,nt=s;break}nt=o.return}return Je=bd,bd=!1,Je}function xd(s,o,d){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var w=h=h.next;do{if((w.tag&s)===s){var j=w.destroy;w.destroy=void 0,j!==void 0&&Mf(o,d,j)}w=w.next}while(w!==h)}}function Df(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&s)===s){var h=d.create;d.destroy=h()}d=d.next}while(d!==o)}}function fu(s){var o=s.ref;if(o!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof o=="function"?o(s):o.current=s}}function Jl(s){var o=s.alternate;o!==null&&(s.alternate=null,Jl(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Js],delete o[Uc],delete o[mf],delete o[l0],delete o[Uu])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ai(s){return s.tag===5||s.tag===3||s.tag===4}function Pm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ai(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Lf(s,o,d){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(s,o):d.insertBefore(s,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(s,d)):(o=d,o.appendChild(s)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=qu));else if(h!==4&&(s=s.child,s!==null))for(Lf(s,o,d),s=s.sibling;s!==null;)Lf(s,o,d),s=s.sibling}function km(s,o,d){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(km(s,o,d),s=s.sibling;s!==null;)km(s,o,d),s=s.sibling}var on=null,ss=!1;function Ri(s,o,d){for(d=d.child;d!==null;)ec(s,o,d),d=d.sibling}function ec(s,o,d){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(an,d)}catch{}switch(d.tag){case 5:Ln||Jo(d,o);case 6:var h=on,w=ss;on=null,Ri(s,o,d),on=h,ss=w,on!==null&&(ss?(s=on,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):on.removeChild(d.stateNode));break;case 18:on!==null&&(ss?(s=on,d=d.stateNode,s.nodeType===8?pf(s.parentNode,d):s.nodeType===1&&pf(s,d),Cn(s)):pf(on,d.stateNode));break;case 4:h=on,w=ss,on=d.stateNode.containerInfo,ss=!0,Ri(s,o,d),on=h,ss=w;break;case 0:case 11:case 14:case 15:if(!Ln&&(h=d.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){w=h=h.next;do{var j=w,I=j.destroy;j=j.tag,I!==void 0&&((j&2)!==0||(j&4)!==0)&&Mf(d,o,I),w=w.next}while(w!==h)}Ri(s,o,d);break;case 1:if(!Ln&&(Jo(d,o),h=d.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=d.memoizedProps,h.state=d.memoizedState,h.componentWillUnmount()}catch(H){Mr(d,o,H)}Ri(s,o,d);break;case 21:Ri(s,o,d);break;case 22:d.mode&1?(Ln=(h=Ln)||d.memoizedState!==null,Ri(s,o,d),Ln=h):Ri(s,o,d);break;default:Ri(s,o,d)}}function wd(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new Am),o.forEach(function(h){var w=v0.bind(null,s,h);d.has(h)||(d.add(h),h.then(w,w))})}}function $n(s,o){var d=o.deletions;if(d!==null)for(var h=0;h<d.length;h++){var w=d[h];try{var j=s,I=o,H=I;e:for(;H!==null;){switch(H.tag){case 5:on=H.stateNode,ss=!1;break e;case 3:on=H.stateNode.containerInfo,ss=!0;break e;case 4:on=H.stateNode.containerInfo,ss=!0;break e}H=H.return}if(on===null)throw Error(r(160));ec(j,I,w),on=null,ss=!1;var re=w.alternate;re!==null&&(re.return=null),w.return=null}catch(z){Mr(w,o,z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)jg(o,s),o=o.sibling}function jg(s,o){var d=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if($n(o,s),Na(s),h&4){try{xd(3,s,s.return),Df(3,s)}catch(Xe){Mr(s,s.return,Xe)}try{xd(5,s,s.return)}catch(Xe){Mr(s,s.return,Xe)}}break;case 1:$n(o,s),Na(s),h&512&&d!==null&&Jo(d,d.return);break;case 5:if($n(o,s),Na(s),h&512&&d!==null&&Jo(d,d.return),s.flags&32){var w=s.stateNode;try{Lt(w,"")}catch(Xe){Mr(s,s.return,Xe)}}if(h&4&&(w=s.stateNode,w!=null)){var j=s.memoizedProps,I=d!==null?d.memoizedProps:j,H=s.type,re=s.updateQueue;if(s.updateQueue=null,re!==null)try{H==="input"&&j.type==="radio"&&j.name!=null&&_t(w,j),ea(H,I);var z=ea(H,j);for(I=0;I<re.length;I+=2){var Se=re[I],be=re[I+1];Se==="style"?Kr(w,be):Se==="dangerouslySetInnerHTML"?Lr(w,be):Se==="children"?Lt(w,be):D(w,Se,be,z)}switch(H){case"input":Re(w,j);break;case"textarea":en(w,j);break;case"select":var _e=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!j.multiple;var Ye=j.value;Ye!=null?Ct(w,!!j.multiple,Ye,!1):_e!==!!j.multiple&&(j.defaultValue!=null?Ct(w,!!j.multiple,j.defaultValue,!0):Ct(w,!!j.multiple,j.multiple?[]:"",!1))}w[Uc]=j}catch(Xe){Mr(s,s.return,Xe)}}break;case 6:if($n(o,s),Na(s),h&4){if(s.stateNode===null)throw Error(r(162));w=s.stateNode,j=s.memoizedProps;try{w.nodeValue=j}catch(Xe){Mr(s,s.return,Xe)}}break;case 3:if($n(o,s),Na(s),h&4&&d!==null&&d.memoizedState.isDehydrated)try{Cn(o.containerInfo)}catch(Xe){Mr(s,s.return,Xe)}break;case 4:$n(o,s),Na(s);break;case 13:$n(o,s),Na(s),w=s.child,w.flags&8192&&(j=w.memoizedState!==null,w.stateNode.isHidden=j,!j||w.alternate!==null&&w.alternate.memoizedState!==null||(qf=st())),h&4&&wd(s);break;case 22:if(Se=d!==null&&d.memoizedState!==null,s.mode&1?(Ln=(z=Ln)||Se,$n(o,s),Ln=z):$n(o,s),Na(s),h&8192){if(z=s.memoizedState!==null,(s.stateNode.isHidden=z)&&!Se&&(s.mode&1)!==0)for(nt=s,Se=s.child;Se!==null;){for(be=nt=Se;nt!==null;){switch(_e=nt,Ye=_e.child,_e.tag){case 0:case 11:case 14:case 15:xd(4,_e,_e.return);break;case 1:Jo(_e,_e.return);var Je=_e.stateNode;if(typeof Je.componentWillUnmount=="function"){h=_e,d=_e.return;try{o=h,Je.props=o.memoizedProps,Je.state=o.memoizedState,Je.componentWillUnmount()}catch(Xe){Mr(h,d,Xe)}}break;case 5:Jo(_e,_e.return);break;case 22:if(_e.memoizedState!==null){Om(be);continue}}Ye!==null?(Ye.return=_e,nt=Ye):Om(be)}Se=Se.sibling}e:for(Se=null,be=s;;){if(be.tag===5){if(Se===null){Se=be;try{w=be.stateNode,z?(j=w.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(H=be.stateNode,re=be.memoizedProps.style,I=re!=null&&re.hasOwnProperty("display")?re.display:null,H.style.display=tn("display",I))}catch(Xe){Mr(s,s.return,Xe)}}}else if(be.tag===6){if(Se===null)try{be.stateNode.nodeValue=z?"":be.memoizedProps}catch(Xe){Mr(s,s.return,Xe)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===s)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===s)break e;for(;be.sibling===null;){if(be.return===null||be.return===s)break e;Se===be&&(Se=null),be=be.return}Se===be&&(Se=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:$n(o,s),Na(s),h&4&&wd(s);break;case 21:break;default:$n(o,s),Na(s)}}function Na(s){var o=s.flags;if(o&2){try{e:{for(var d=s.return;d!==null;){if(ai(d)){var h=d;break e}d=d.return}throw Error(r(160))}switch(h.tag){case 5:var w=h.stateNode;h.flags&32&&(Lt(w,""),h.flags&=-33);var j=Pm(s);km(s,j,w);break;case 3:case 4:var I=h.stateNode.containerInfo,H=Pm(s);Lf(s,H,I);break;default:throw Error(r(161))}}catch(re){Mr(s,s.return,re)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function $f(s,o,d){nt=s,tc(s)}function tc(s,o,d){for(var h=(s.mode&1)!==0;nt!==null;){var w=nt,j=w.child;if(w.tag===22&&h){var I=w.memoizedState!==null||du;if(!I){var H=w.alternate,re=H!==null&&H.memoizedState!==null||Ln;H=du;var z=Ln;if(du=I,(Ln=re)&&!z)for(nt=w;nt!==null;)I=nt,re=I.child,I.tag===22&&I.memoizedState!==null?_g(w):re!==null?(re.return=I,nt=re):_g(w);for(;j!==null;)nt=j,tc(j),j=j.sibling;nt=w,du=H,Ln=z}rc(s)}else(w.subtreeFlags&8772)!==0&&j!==null?(j.return=w,nt=j):rc(s)}}function rc(s){for(;nt!==null;){var o=nt;if((o.flags&8772)!==0){var d=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ln||Df(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Ln)if(d===null)h.componentDidMount();else{var w=o.elementType===o.type?d.memoizedProps:Vr(o.type,d.memoizedProps);h.componentDidUpdate(w,d.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var j=o.updateQueue;j!==null&&lm(o,j,h);break;case 3:var I=o.updateQueue;if(I!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}lm(o,I,d)}break;case 5:var H=o.stateNode;if(d===null&&o.flags&4){d=H;var re=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&d.focus();break;case"img":re.src&&(d.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var z=o.alternate;if(z!==null){var Se=z.memoizedState;if(Se!==null){var be=Se.dehydrated;be!==null&&Cn(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ln||o.flags&512&&fu(o)}catch(_e){Mr(o,o.return,_e)}}if(o===s){nt=null;break}if(d=o.sibling,d!==null){d.return=o.return,nt=d;break}nt=o.return}}function Om(s){for(;nt!==null;){var o=nt;if(o===s){nt=null;break}var d=o.sibling;if(d!==null){d.return=o.return,nt=d;break}nt=o.return}}function _g(s){for(;nt!==null;){var o=nt;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{Df(4,o)}catch(re){Mr(o,d,re)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var w=o.return;try{h.componentDidMount()}catch(re){Mr(o,w,re)}}var j=o.return;try{fu(o)}catch(re){Mr(o,j,re)}break;case 5:var I=o.return;try{fu(o)}catch(re){Mr(o,I,re)}}}catch(re){Mr(o,o.return,re)}if(o===s){nt=null;break}var H=o.sibling;if(H!==null){H.return=o.return,nt=H;break}nt=o.return}}var Ff=Math.ceil,Bf=$.ReactCurrentDispatcher,Tm=$.ReactCurrentOwner,is=$.ReactCurrentBatchConfig,Dt=0,Sn=null,Tr=null,Zr=0,Ba=0,pu=oo(0),An=0,el=null,Os=0,Sd=0,Nd=0,mu=null,la=null,qf=0,tl=1/0,Ir=null,Uf=!1,Im=null,rl=null,si=!1,os=null,zf=0,jd=0,Rm=null,Wf=-1,Hf=0;function ca(){return(Dt&6)!==0?st():Wf!==-1?Wf:Wf=st()}function ii(s){return(s.mode&1)===0?1:(Dt&2)!==0&&Zr!==0?Zr&-Zr:Qc.transition!==null?(Hf===0&&(Hf=Pc()),Hf):(s=Ut,s!==0||(s=window.event,s=s===void 0?16:Xi(s.type)),s)}function Rr(s,o,d,h){if(50<jd)throw jd=0,Rm=null,Error(r(185));hs(s,d,h),((Dt&2)===0||s!==Sn)&&(s===Sn&&((Dt&2)===0&&(Sd|=d),An===4&&qa(s,Zr)),jt(s,h),d===1&&Dt===0&&(o.mode&1)===0&&(tl=st()+500,gf&&xa()))}function jt(s,o){var d=s.callbackNode;Hi(s,o);var h=Pr(s,s===Sn?Zr:0);if(h===0)d!==null&&Be(d),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(d!=null&&Be(d),o===1)s.tag===0?c0(Mm.bind(null,s)):co(Mm.bind(null,s)),nm(function(){(Dt&6)===0&&xa()}),d=null;else{switch(Oc(h)){case 1:d=It;break;case 4:d=jr;break;case 16:d=qr;break;case 536870912:d=zt;break;default:d=qr}d=hu(d,Cg.bind(null,s))}s.callbackPriority=o,s.callbackNode=d}}function Cg(s,o){if(Wf=-1,Hf=0,(Dt&6)!==0)throw Error(r(327));var d=s.callbackNode;if(sc()&&s.callbackNode!==d)return null;var h=Pr(s,s===Sn?Zr:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=Yf(s,h);else{o=h;var w=Dt;Dt|=2;var j=$m();(Sn!==s||Zr!==o)&&(Ir=null,tl=st()+500,ja(s,o));do try{h0();break}catch(H){Lm(s,H)}while(!0);Sf(),Bf.current=j,Dt=w,Tr!==null?o=0:(Sn=null,Zr=0,o=An)}if(o!==0){if(o===2&&(w=Fs(s),w!==0&&(h=w,o=Vf(s,w))),o===1)throw d=el,ja(s,0),qa(s,h),jt(s,st()),d;if(o===6)qa(s,h);else{if(w=s.current.alternate,(h&30)===0&&!p0(w)&&(o=Yf(s,h),o===2&&(j=Fs(s),j!==0&&(h=j,o=Vf(s,j))),o===1))throw d=el,ja(s,0),qa(s,h),jt(s,st()),d;switch(s.finishedWork=w,s.finishedLanes=h,o){case 0:case 1:throw Error(r(345));case 2:ac(s,la,Ir);break;case 3:if(qa(s,h),(h&130023424)===h&&(o=qf+500-st(),10<o)){if(Pr(s,0)!==0)break;if(w=s.suspendedLanes,(w&h)!==h){ca(),s.pingedLanes|=s.suspendedLanes&w;break}s.timeoutHandle=ff(ac.bind(null,s,la,Ir),o);break}ac(s,la,Ir);break;case 4:if(qa(s,h),(h&4194240)===h)break;for(o=s.eventTimes,w=-1;0<h;){var I=31-hn(h);j=1<<I,I=o[I],I>w&&(w=I),h&=~j}if(h=w,h=st()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Ff(h/1960))-h,10<h){s.timeoutHandle=ff(ac.bind(null,s,la,Ir),h);break}ac(s,la,Ir);break;case 5:ac(s,la,Ir);break;default:throw Error(r(329))}}}return jt(s,st()),s.callbackNode===d?Cg.bind(null,s):null}function Vf(s,o){var d=mu;return s.current.memoizedState.isDehydrated&&(ja(s,o).flags|=256),s=Yf(s,o),s!==2&&(o=la,la=d,o!==null&&Gf(o)),s}function Gf(s){la===null?la=s:la.push.apply(la,s)}function p0(s){for(var o=s;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var h=0;h<d.length;h++){var w=d[h],j=w.getSnapshot;w=w.value;try{if(!or(j(),w))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function qa(s,o){for(o&=~Nd,o&=~Sd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var d=31-hn(o),h=1<<d;s[d]=-1,o&=~h}}function Mm(s){if((Dt&6)!==0)throw Error(r(327));sc();var o=Pr(s,0);if((o&1)===0)return jt(s,st()),null;var d=Yf(s,o);if(s.tag!==0&&d===2){var h=Fs(s);h!==0&&(o=h,d=Vf(s,h))}if(d===1)throw d=el,ja(s,0),qa(s,o),jt(s,st()),d;if(d===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ac(s,la,Ir),jt(s,st()),null}function Kf(s,o){var d=Dt;Dt|=1;try{return s(o)}finally{Dt=d,Dt===0&&(tl=st()+500,gf&&xa())}}function nc(s){os!==null&&os.tag===0&&(Dt&6)===0&&sc();var o=Dt;Dt|=1;var d=is.transition,h=Ut;try{if(is.transition=null,Ut=1,s)return s()}finally{Ut=h,is.transition=d,Dt=o,(Dt&6)===0&&xa()}}function Dm(){Ba=pu.current,br(pu)}function ja(s,o){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,gg(d)),Tr!==null)for(d=Tr.return;d!==null;){var h=d;switch(vf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ts();break;case 3:Ko(),br(va),br(sa),Ku();break;case 5:nu(h);break;case 4:Ko();break;case 13:br(Wr);break;case 19:br(Wr);break;case 10:Hu(h.type._context);break;case 22:case 23:Dm()}d=d.return}if(Sn=s,Tr=s=ua(s.current,null),Zr=Ba=o,An=0,el=null,Nd=Sd=Os=0,la=mu=null,Vo!==null){for(o=0;o<Vo.length;o++)if(d=Vo[o],h=d.interleaved,h!==null){d.interleaved=null;var w=h.next,j=d.pending;if(j!==null){var I=j.next;j.next=w,h.next=I}d.pending=h}Vo=null}return s}function Lm(s,o){do{var d=Tr;try{if(Sf(),zl.current=Af,ho){for(var h=Hr.memoizedState;h!==null;){var w=h.queue;w!==null&&(w.pending=null),h=h.next}ho=!1}if(Yo=0,Mn=xn=Hr=null,Xu=!1,su=0,Tm.current=null,d===null||d.return===null){An=1,el=o,Tr=null;break}e:{var j=s,I=d.return,H=d,re=o;if(o=Zr,H.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var z=re,Se=H,be=Se.tag;if((Se.mode&1)===0&&(be===0||be===11||be===15)){var _e=Se.alternate;_e?(Se.updateQueue=_e.updateQueue,Se.memoizedState=_e.memoizedState,Se.lanes=_e.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Ye=lu(I);if(Ye!==null){Ye.flags&=-257,xm(Ye,I,H,j,o),Ye.mode&1&&Of(j,z,o),o=Ye,re=z;var Je=o.updateQueue;if(Je===null){var Xe=new Set;Xe.add(re),o.updateQueue=Xe}else Je.add(re);break e}else{if((o&1)===0){Of(j,z,o),Fm();break e}re=Error(r(426))}}else if(_r&&H.mode&1){var nr=lu(I);if(nr!==null){(nr.flags&65536)===0&&(nr.flags|=256),xm(nr,I,H,j,o),Xc(Yl(re,H));break e}}j=re=Yl(re,H),An!==4&&(An=2),mu===null?mu=[j]:mu.push(j),j=I;do{switch(j.tag){case 3:j.flags|=65536,o&=-o,j.lanes|=o;var le=bm(j,re,o);jf(j,le);break e;case 1:H=re;var ae=j.type,ye=j.stateNode;if((j.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(rl===null||!rl.has(ye)))){j.flags|=65536,o&=-o,j.lanes|=o;var $e=md(j,H,o);jf(j,$e);break e}}j=j.return}while(j!==null)}Ag(d)}catch(ft){o=ft,Tr===d&&d!==null&&(Tr=d=d.return);continue}break}while(!0)}function $m(){var s=Bf.current;return Bf.current=Af,s===null?Af:s}function Fm(){(An===0||An===3||An===2)&&(An=4),Sn===null||(Os&268435455)===0&&(Sd&268435455)===0||qa(Sn,Zr)}function Yf(s,o){var d=Dt;Dt|=2;var h=$m();(Sn!==s||Zr!==o)&&(Ir=null,ja(s,o));do try{m0();break}catch(w){Lm(s,w)}while(!0);if(Sf(),Dt=d,Bf.current=h,Tr!==null)throw Error(r(261));return Sn=null,Zr=0,An}function m0(){for(;Tr!==null;)Eg(Tr)}function h0(){for(;Tr!==null&&!Nt();)Eg(Tr)}function Eg(s){var o=Tg(s.alternate,s,Ba);s.memoizedProps=s.pendingProps,o===null?Ag(s):Tr=o,Tm.current=null}function Ag(s){var o=s;do{var d=o.alternate;if(s=o.return,(o.flags&32768)===0){if(d=Cm(d,o,Ba),d!==null){Tr=d;return}}else{if(d=Em(d,o),d!==null){d.flags&=32767,Tr=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{An=6,Tr=null;return}}if(o=o.sibling,o!==null){Tr=o;return}Tr=o=s}while(o!==null);An===0&&(An=5)}function ac(s,o,d){var h=Ut,w=is.transition;try{is.transition=null,Ut=1,g0(s,o,d,h)}finally{is.transition=w,Ut=h}return null}function g0(s,o,d,h){do sc();while(os!==null);if((Dt&6)!==0)throw Error(r(327));d=s.finishedWork;var w=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var j=d.lanes|d.childLanes;if(Cl(s,j),s===Sn&&(Tr=Sn=null,Zr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||si||(si=!0,hu(qr,function(){return sc(),null})),j=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||j){j=is.transition,is.transition=null;var I=Ut;Ut=1;var H=Dt;Dt|=4,Tm.current=null,f0(s,d),jg(d,s),Ma(Ml),Xa=!!qc,Ml=qc=null,s.current=d,$f(d),at(),Dt=H,Ut=I,is.transition=j}else s.current=d;if(si&&(si=!1,os=s,zf=w),j=s.pendingLanes,j===0&&(rl=null),Oa(d.stateNode),jt(s,st()),o!==null)for(h=s.onRecoverableError,d=0;d<o.length;d++)w=o[d],h(w.value,{componentStack:w.stack,digest:w.digest});if(Uf)throw Uf=!1,s=Im,Im=null,s;return(zf&1)!==0&&s.tag!==0&&sc(),j=s.pendingLanes,(j&1)!==0?s===Rm?jd++:(jd=0,Rm=s):jd=0,xa(),null}function sc(){if(os!==null){var s=Oc(zf),o=is.transition,d=Ut;try{if(is.transition=null,Ut=16>s?16:s,os===null)var h=!1;else{if(s=os,os=null,zf=0,(Dt&6)!==0)throw Error(r(331));var w=Dt;for(Dt|=4,nt=s.current;nt!==null;){var j=nt,I=j.child;if((nt.flags&16)!==0){var H=j.deletions;if(H!==null){for(var re=0;re<H.length;re++){var z=H[re];for(nt=z;nt!==null;){var Se=nt;switch(Se.tag){case 0:case 11:case 15:xd(8,Se,j)}var be=Se.child;if(be!==null)be.return=Se,nt=be;else for(;nt!==null;){Se=nt;var _e=Se.sibling,Ye=Se.return;if(Jl(Se),Se===z){nt=null;break}if(_e!==null){_e.return=Ye,nt=_e;break}nt=Ye}}}var Je=j.alternate;if(Je!==null){var Xe=Je.child;if(Xe!==null){Je.child=null;do{var nr=Xe.sibling;Xe.sibling=null,Xe=nr}while(Xe!==null)}}nt=j}}if((j.subtreeFlags&2064)!==0&&I!==null)I.return=j,nt=I;else e:for(;nt!==null;){if(j=nt,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:xd(9,j,j.return)}var le=j.sibling;if(le!==null){le.return=j.return,nt=le;break e}nt=j.return}}var ae=s.current;for(nt=ae;nt!==null;){I=nt;var ye=I.child;if((I.subtreeFlags&2064)!==0&&ye!==null)ye.return=I,nt=ye;else e:for(I=ae;nt!==null;){if(H=nt,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Df(9,H)}}catch(ft){Mr(H,H.return,ft)}if(H===I){nt=null;break e}var $e=H.sibling;if($e!==null){$e.return=H.return,nt=$e;break e}nt=H.return}}if(Dt=w,xa(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(an,s)}catch{}h=!0}return h}finally{Ut=d,is.transition=o}}return!1}function Pg(s,o,d){o=Yl(d,o),o=bm(s,o,1),s=ni(s,o,1),o=ca(),s!==null&&(hs(s,1,o),jt(s,o))}function Mr(s,o,d){if(s.tag===3)Pg(s,s,d);else for(;o!==null;){if(o.tag===3){Pg(o,s,d);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(rl===null||!rl.has(h))){s=Yl(d,s),s=md(o,s,1),o=ni(o,s,1),s=ca(),o!==null&&(hs(o,1,s),jt(o,s));break}}o=o.return}}function kg(s,o,d){var h=s.pingCache;h!==null&&h.delete(o),o=ca(),s.pingedLanes|=s.suspendedLanes&d,Sn===s&&(Zr&d)===d&&(An===4||An===3&&(Zr&130023424)===Zr&&500>st()-qf?ja(s,0):Nd|=d),jt(s,o)}function Og(s,o){o===0&&((s.mode&1)===0?o=1:(o=mi,mi<<=1,(mi&130023424)===0&&(mi=4194304)));var d=ca();s=po(s,o),s!==null&&(hs(s,o,d),jt(s,d))}function y0(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),Og(s,d)}function v0(s,o){var d=0;switch(s.tag){case 13:var h=s.stateNode,w=s.memoizedState;w!==null&&(d=w.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(o),Og(s,d)}var Tg;Tg=function(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps||va.current)Dn=!0;else{if((s.lanes&d)===0&&(o.flags&128)===0)return Dn=!1,Sg(s,o,d);Dn=(s.flags&131072)!==0}else Dn=!1,_r&&(o.flags&1048576)!==0&&Gc(o,Vc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Qo(s,o),s=o.pendingProps;var w=ba(o,sa.current);Ho(o,d),w=Qu(null,o,h,s,w,d);var j=Zu();return o.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Rn(h)?(j=!0,Wc(o)):j=!1,o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,ql(o),w.updater=dd,o.stateNode=w,w._reactInternals=o,Ti(o,h,s,d),o=yd(null,o,h,!0,j,d)):(o.tag=0,_r&&j&&yf(o),Sa(null,o,w,d),o=o.child),o;case 16:h=o.elementType;e:{switch(Qo(s,o),s=o.pendingProps,w=h._init,h=w(h._payload),o.type=h,w=o.tag=b0(h),s=Vr(h,s),w){case 0:o=gd(null,o,h,s,d);break e;case 1:o=Ql(null,o,h,s,d);break e;case 11:o=cu(null,o,h,s,d);break e;case 14:o=hd(null,o,h,Vr(h.type,s),d);break e}throw Error(r(306,h,""))}return o;case 0:return h=o.type,w=o.pendingProps,w=o.elementType===h?w:Vr(h,w),gd(s,o,h,w,d);case 1:return h=o.type,w=o.pendingProps,w=o.elementType===h?w:Vr(h,w),Ql(s,o,h,w,d);case 3:e:{if(Sm(o),s===null)throw Error(r(387));h=o.pendingProps,j=o.memoizedState,w=j.element,Gu(s,o),eu(o,h,null,d);var I=o.memoizedState;if(h=I.element,j.isDehydrated)if(j={element:h,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){w=Yl(Error(r(423)),o),o=Nm(s,o,h,d,w);break e}else if(h!==w){w=Yl(Error(r(424)),o),o=Nm(s,o,h,d,w);break e}else for(wa=Cs(o.stateNode.containerInfo.firstChild),rs=o,_r=!0,As=null,d=Wo(o,null,h,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(qo(),h===w){o=Vn(s,o,d);break e}Sa(s,o,h,d)}o=o.child}return o;case 5:return yg(o),s===null&&Kc(o),h=o.type,w=o.pendingProps,j=s!==null?s.memoizedProps:null,I=w.children,df(h,w)?I=null:j!==null&&df(h,j)&&(o.flags|=32),Xl(s,o),Sa(s,o,I,d),o.child;case 6:return s===null&&Kc(o),null;case 13:return Rf(s,o,d);case 4:return ru(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=zo(o,null,h,d):Sa(s,o,h,d),o.child;case 11:return h=o.type,w=o.pendingProps,w=o.elementType===h?w:Vr(h,w),cu(s,o,h,w,d);case 7:return Sa(s,o,o.pendingProps,d),o.child;case 8:return Sa(s,o,o.pendingProps.children,d),o.child;case 12:return Sa(s,o,o.pendingProps.children,d),o.child;case 10:e:{if(h=o.type._context,w=o.pendingProps,j=o.memoizedProps,I=w.value,mr(ti,h._currentValue),h._currentValue=I,j!==null)if(or(j.value,I)){if(j.children===w.children&&!va.current){o=Vn(s,o,d);break e}}else for(j=o.child,j!==null&&(j.return=o);j!==null;){var H=j.dependencies;if(H!==null){I=j.child;for(var re=H.firstContext;re!==null;){if(re.context===h){if(j.tag===1){re=Fa(-1,d&-d),re.tag=2;var z=j.updateQueue;if(z!==null){z=z.shared;var Se=z.pending;Se===null?re.next=re:(re.next=Se.next,Se.next=re),z.pending=re}}j.lanes|=d,re=j.alternate,re!==null&&(re.lanes|=d),Nf(j.return,d,o),H.lanes|=d;break}re=re.next}}else if(j.tag===10)I=j.type===o.type?null:j.child;else if(j.tag===18){if(I=j.return,I===null)throw Error(r(341));I.lanes|=d,H=I.alternate,H!==null&&(H.lanes|=d),Nf(I,d,o),I=j.sibling}else I=j.child;if(I!==null)I.return=j;else for(I=j;I!==null;){if(I===o){I=null;break}if(j=I.sibling,j!==null){j.return=I.return,I=j;break}I=I.return}j=I}Sa(s,o,w.children,d),o=o.child}return o;case 9:return w=o.type,h=o.pendingProps.children,Ho(o,d),w=$a(w),h=h(w),o.flags|=1,Sa(s,o,h,d),o.child;case 14:return h=o.type,w=Vr(h,o.pendingProps),w=Vr(h.type,w),hd(s,o,h,w,d);case 15:return Tf(s,o,o.type,o.pendingProps,d);case 17:return h=o.type,w=o.pendingProps,w=o.elementType===h?w:Vr(h,w),Qo(s,o),o.tag=1,Rn(h)?(s=!0,Wc(o)):s=!1,Ho(o,d),fd(o,h,w),Ti(o,h,w,d),yd(null,o,h,!0,s,d);case 19:return jm(s,o,d);case 22:return yo(s,o,d)}throw Error(r(156,o.tag))};function hu(s,o){return me(s,o)}function _d(s,o,d,h){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(s,o,d,h){return new _d(s,o,d,h)}function nl(s){return s=s.prototype,!(!s||!s.isReactComponent)}function b0(s){if(typeof s=="function")return nl(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ce)return 11;if(s===G)return 14}return 2}function ua(s,o){var d=s.alternate;return d===null?(d=_a(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function Xf(s,o,d,h,w,j){var I=2;if(h=s,typeof s=="function")nl(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case L:return al(d.children,w,j,o);case B:I=8,w|=8;break;case V:return s=_a(12,d,o,w|2),s.elementType=V,s.lanes=j,s;case ue:return s=_a(13,d,o,w),s.elementType=ue,s.lanes=j,s;case de:return s=_a(19,d,o,w),s.elementType=de,s.lanes=j,s;case pe:return Qf(d,w,j,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case J:I=10;break e;case K:I=9;break e;case ce:I=11;break e;case G:I=14;break e;case ne:I=16,h=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return o=_a(I,d,o,w),o.elementType=s,o.type=h,o.lanes=j,o}function al(s,o,d,h){return s=_a(7,s,h,o),s.lanes=d,s}function Qf(s,o,d,h){return s=_a(22,s,h,o),s.elementType=pe,s.lanes=d,s.stateNode={isHidden:!1},s}function gu(s,o,d){return s=_a(6,s,null,o),s.lanes=d,s}function Bm(s,o,d){return o=_a(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function x0(s,o,d,h,w){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kc(0),this.expirationTimes=kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.identifierPrefix=h,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function qm(s,o,d,h,w,j,I,H,re){return s=new x0(s,o,d,H,re),o===1?(o=1,j===!0&&(o|=8)):o=0,j=_a(3,null,null,o),s.current=j,j.stateNode=s,j.memoizedState={element:h,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},ql(j),s}function v(s,o,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:h==null?null:""+h,children:s,containerInfo:o,implementation:d}}function S(s){if(!s)return lo;s=s._reactInternals;e:{if(mn(s)!==s||s.tag!==1)throw Error(r(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Rn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(s.tag===1){var d=s.type;if(Rn(d))return sm(s,d,o)}return o}function E(s,o,d,h,w,j,I,H,re){return s=qm(d,h,!0,s,w,j,I,H,re),s.context=S(null),d=s.current,h=ca(),w=ii(d),j=Fa(h,w),j.callback=o??null,ni(d,j,w),s.current.lanes=w,hs(s,w,h),jt(s,h),s}function b(s,o,d,h){var w=o.current,j=ca(),I=ii(w);return d=S(d),o.context===null?o.context=d:o.pendingContext=d,o=Fa(j,I),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=ni(w,o,I),s!==null&&(Rr(s,w,I,j),Jc(s,w,I)),I}function P(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function q(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function F(s,o){q(s,o),(s=s.alternate)&&q(s,o)}function T(){return null}var W=typeof reportError=="function"?reportError:function(s){console.error(s)};function te(s){this._internalRoot=s}ge.prototype.render=te.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));b(s,o,null,null)},ge.prototype.unmount=te.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;nc(function(){b(null,s,null,null)}),o[so]=null}};function ge(s){this._internalRoot=s}ge.prototype.unstable_scheduleHydration=function(s){if(s){var o=hi();s={blockedOn:null,target:s,priority:o};for(var d=0;d<Pn.length&&o!==0&&o<Pn[d].priority;d++);Pn.splice(d,0,s),d===0&&Al(s)}};function oe(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ee(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ie(){}function we(s,o,d,h,w){if(w){if(typeof h=="function"){var j=h;h=function(){var z=P(I);j.call(z)}}var I=E(o,h,s,0,null,!1,!1,"",ie);return s._reactRootContainer=I,s[so]=I.current,$c(s.nodeType===8?s.parentNode:s),nc(),I}for(;w=s.lastChild;)s.removeChild(w);if(typeof h=="function"){var H=h;h=function(){var z=P(re);H.call(z)}}var re=qm(s,0,!1,null,null,!1,!1,"",ie);return s._reactRootContainer=re,s[so]=re.current,$c(s.nodeType===8?s.parentNode:s),nc(function(){b(o,re,d,h)}),re}function Ne(s,o,d,h,w){var j=d._reactRootContainer;if(j){var I=j;if(typeof w=="function"){var H=w;w=function(){var re=P(I);H.call(re)}}b(o,I,s,w)}else I=we(d,o,s,w,h);return P(I)}Vi=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var d=ms(o.pendingLanes);d!==0&&(Oo(o,d|1),jt(o,st()),(Dt&6)===0&&(tl=st()+500,xa()))}break;case 13:nc(function(){var h=po(s,1);if(h!==null){var w=ca();Rr(h,s,1,w)}}),F(s,1)}},Bs=function(s){if(s.tag===13){var o=po(s,134217728);if(o!==null){var d=ca();Rr(o,s,134217728,d)}F(s,134217728)}},qs=function(s){if(s.tag===13){var o=ii(s),d=po(s,o);if(d!==null){var h=ca();Rr(d,s,o,h)}F(s,o)}},hi=function(){return Ut},El=function(s,o){var d=Ut;try{return Ut=s,o()}finally{Ut=d}},pn=function(s,o,d){switch(o){case"input":if(Re(s,d),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var h=d[o];if(h!==s&&h.form===s.form){var w=Es(h);if(!w)throw Error(r(90));Ee(h),Re(h,w)}}}break;case"textarea":en(s,d);break;case"select":o=d.value,o!=null&&Ct(s,!!d.multiple,o,!1)}},Gt=Kf,Kt=nc;var De={usingClientEntryPoint:!1,Events:[io,Ll,Es,bt,Vt,Kf]},Te={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Oe={bundleType:Te.bundleType,version:Te.version,rendererPackageName:Te.rendererPackageName,rendererConfig:Te.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ac(s),s===null?null:s.stateNode},findFiberByHostInstance:Te.findFiberByHostInstance||T,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Le=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Le.isDisabled&&Le.supportsFiber)try{an=Le.inject(Oe),Ur=Le}catch{}}return Ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=De,Ts.createPortal=function(s,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oe(o))throw Error(r(200));return v(s,o,null,d)},Ts.createRoot=function(s,o){if(!oe(s))throw Error(r(299));var d=!1,h="",w=W;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),o=qm(s,1,!1,null,null,d,!1,h,w),s[so]=o.current,$c(s.nodeType===8?s.parentNode:s),new te(o)},Ts.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Ac(o),s=s===null?null:s.stateNode,s},Ts.flushSync=function(s){return nc(s)},Ts.hydrate=function(s,o,d){if(!ee(o))throw Error(r(200));return Ne(null,s,o,!0,d)},Ts.hydrateRoot=function(s,o,d){if(!oe(s))throw Error(r(405));var h=d!=null&&d.hydratedSources||null,w=!1,j="",I=W;if(d!=null&&(d.unstable_strictMode===!0&&(w=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(I=d.onRecoverableError)),o=E(o,null,s,1,d??null,w,!1,j,I),s[so]=o.current,$c(s),h)for(s=0;s<h.length;s++)d=h[s],w=d._getVersion,w=w(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,w]:o.mutableSourceEagerHydrationData.push(d,w);return new ge(o)},Ts.render=function(s,o,d){if(!ee(o))throw Error(r(200));return Ne(null,s,o,!1,d)},Ts.unmountComponentAtNode=function(s){if(!ee(s))throw Error(r(40));return s._reactRootContainer?(nc(function(){Ne(null,null,s,!1,function(){s._reactRootContainer=null,s[so]=null})}),!0):!1},Ts.unstable_batchedUpdates=Kf,Ts.unstable_renderSubtreeIntoContainer=function(s,o,d,h){if(!ee(d))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Ne(s,o,d,!1,h)},Ts.version="18.3.1-next-f1338f8080-20240426",Ts}var c_;function fT(){if(c_)return j0.exports;c_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),j0.exports=xL(),j0.exports}var u_;function wL(){if(u_)return Rg;u_=1;var e=fT();return Rg.createRoot=e.createRoot,Rg.hydrateRoot=e.hydrateRoot,Rg}var SL=wL(),y=TN();const Z=wr(y),pT=mL({__proto__:null,default:Z},[y]);var my=fT();const mT=wr(my);function NL(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const jL=e=>{switch(e){case"success":return EL;case"info":return PL;case"warning":return AL;case"error":return kL;default:return null}},_L=Array(12).fill(0),CL=({visible:e,className:t})=>Z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Z.createElement("div",{className:"sonner-spinner"},_L.map((r,n)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),EL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),AL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),PL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),OL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),TL=()=>{const[e,t]=Z.useState(document.hidden);return Z.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let K1=1;class IL{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:K1++,c=this.toasts.find(f=>f.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),c?this.toasts=this.toasts.map(f=>f.id===i?(this.publish({...f,...t,id:i,title:n}),{...f,...t,id:i,dismissible:u,title:n}):f):this.addToast({title:n,...a,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,c;const u=a.then(async p=>{if(c=["resolve",p],Z.isValidElement(p))i=!1,this.create({id:n,type:"default",message:p});else if(ML(p)&&!p.ok){i=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,A=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:x,...A})}else if(p instanceof Error){i=!1;const m=typeof r.error=="function"?await r.error(p):r.error,x=typeof r.description=="function"?await r.description(p):r.description,A=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:x,...A})}else if(r.success!==void 0){i=!1;const m=typeof r.success=="function"?await r.success(p):r.success,x=typeof r.description=="function"?await r.description(p):r.description,A=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:x,...A})}}).catch(async p=>{if(c=["reject",p],r.error!==void 0){i=!1;const g=typeof r.error=="function"?await r.error(p):r.error,m=typeof r.description=="function"?await r.description(p):r.description,N=typeof g=="object"&&!Z.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:m,...N})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),f=()=>new Promise((p,g)=>u.then(()=>c[0]==="reject"?g(c[1]):p(c[1])).catch(g));return typeof n!="string"&&typeof n!="number"?{unwrap:f}:Object.assign(n,{unwrap:f})},this.custom=(t,r)=>{const n=r?.id||K1++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Rs=new IL,RL=(e,t)=>{const r=t?.id||K1++;return Rs.addToast({title:e,...t,id:r}),r},ML=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",DL=RL,LL=()=>Rs.toasts,$L=()=>Rs.getActiveToasts(),Ze=Object.assign(DL,{success:Rs.success,info:Rs.info,warning:Rs.warning,error:Rs.error,custom:Rs.custom,message:Rs.message,promise:Rs.promise,dismiss:Rs.dismiss,loading:Rs.loading},{getHistory:LL,getToasts:$L});NL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Mg(e){return e.label!==void 0}const FL=3,BL="24px",qL="16px",d_=4e3,UL=356,zL=14,WL=45,HL=200;function sl(...e){return e.filter(Boolean).join(" ")}function VL(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const GL=e=>{var t,r,n,a,i,c,u,f,p;const{invert:g,toast:m,unstyled:x,interacting:N,setHeights:A,visibleToasts:C,heights:_,index:O,toasts:R,expanded:D,removeToast:$,defaultRichColors:k,closeButton:M,style:L,cancelButtonStyle:B,actionButtonStyle:V,className:J="",descriptionClassName:K="",duration:ce,position:ue,gap:de,expandByDefault:G,classNames:ne,icons:pe,closeButtonAriaLabel:Y="Close toast"}=e,[he,ve]=Z.useState(null),[U,Q]=Z.useState(null),[fe,je]=Z.useState(!1),[Ie,qe]=Z.useState(!1),[Ve,Me]=Z.useState(!1),[Ae,We]=Z.useState(!1),[et,Ee]=Z.useState(!1),[lt,wt]=Z.useState(0),[ht,_t]=Z.useState(0),Re=Z.useRef(m.duration||ce||d_),Ue=Z.useRef(null),tt=Z.useRef(null),rt=O===0,Ct=O+1<=C,gt=m.type,fr=m.dismissible!==!1,en=m.className||"",Sr=m.descriptionClassName||"",Qt=Z.useMemo(()=>_.findIndex(bt=>bt.toastId===m.id)||0,[_,m.id]),Wt=Z.useMemo(()=>{var bt;return(bt=m.closeButton)!=null?bt:M},[m.closeButton,M]),ds=Z.useMemo(()=>m.duration||ce||d_,[m.duration,ce]),Lr=Z.useRef(0),Lt=Z.useRef(0),fn=Z.useRef(0),Zt=Z.useRef(null),[tn,Kr]=ue.split("-"),Pa=Z.useMemo(()=>_.reduce((bt,Vt,Gt)=>Gt>=Qt?bt:bt+Vt.height,0),[_,Qt]),gr=TL(),ea=m.invert||g,Jt=gt==="loading";Lt.current=Z.useMemo(()=>Qt*de+Pa,[Qt,Pa]),Z.useEffect(()=>{Re.current=ds},[ds]),Z.useEffect(()=>{je(!0)},[]),Z.useEffect(()=>{const bt=tt.current;if(bt){const Vt=bt.getBoundingClientRect().height;return _t(Vt),A(Gt=>[{toastId:m.id,height:Vt,position:m.position},...Gt]),()=>A(Gt=>Gt.filter(Kt=>Kt.toastId!==m.id))}},[A,m.id]),Z.useLayoutEffect(()=>{if(!fe)return;const bt=tt.current,Vt=bt.style.height;bt.style.height="auto";const Gt=bt.getBoundingClientRect().height;bt.style.height=Vt,_t(Gt),A(Kt=>Kt.find(qt=>qt.toastId===m.id)?Kt.map(qt=>qt.toastId===m.id?{...qt,height:Gt}:qt):[{toastId:m.id,height:Gt,position:m.position},...Kt])},[fe,m.title,m.description,A,m.id,m.jsx,m.action,m.cancel]);const $r=Z.useCallback(()=>{qe(!0),wt(Lt.current),A(bt=>bt.filter(Vt=>Vt.toastId!==m.id)),setTimeout(()=>{$(m)},HL)},[m,$,A,Lt]);Z.useEffect(()=>{if(m.promise&&gt==="loading"||m.duration===1/0||m.type==="loading")return;let bt;return D||N||gr?(()=>{if(fn.current<Lr.current){const Kt=new Date().getTime()-Lr.current;Re.current=Re.current-Kt}fn.current=new Date().getTime()})():(()=>{Re.current!==1/0&&(Lr.current=new Date().getTime(),bt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),$r()},Re.current))})(),()=>clearTimeout(bt)},[D,N,m,gt,gr,$r]),Z.useEffect(()=>{m.delete&&($r(),m.onDismiss==null||m.onDismiss.call(m,m))},[$r,m.delete]);function pn(){var bt;if(pe?.loading){var Vt;return Z.createElement("div",{className:sl(ne?.loader,m==null||(Vt=m.classNames)==null?void 0:Vt.loader,"sonner-loader"),"data-visible":gt==="loading"},pe.loading)}return Z.createElement(CL,{className:sl(ne?.loader,m==null||(bt=m.classNames)==null?void 0:bt.loader),visible:gt==="loading"})}const Ha=m.icon||pe?.[gt]||jL(gt);var _n,ka;return Z.createElement("li",{tabIndex:0,ref:tt,className:sl(J,en,ne?.toast,m==null||(t=m.classNames)==null?void 0:t.toast,ne?.default,ne?.[gt],m==null||(r=m.classNames)==null?void 0:r[gt]),"data-sonner-toast":"","data-rich-colors":(_n=m.richColors)!=null?_n:k,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":fe,"data-promise":!!m.promise,"data-swiped":et,"data-removed":Ie,"data-visible":Ct,"data-y-position":tn,"data-x-position":Kr,"data-index":O,"data-front":rt,"data-swiping":Ve,"data-dismissible":fr,"data-type":gt,"data-invert":ea,"data-swipe-out":Ae,"data-swipe-direction":U,"data-expanded":!!(D||G&&fe),"data-testid":m.testId,style:{"--index":O,"--toasts-before":O,"--z-index":R.length-O,"--offset":`${Ie?lt:Lt.current}px`,"--initial-height":G?"auto":`${ht}px`,...L,...m.style},onDragEnd:()=>{Me(!1),ve(null),Zt.current=null},onPointerDown:bt=>{bt.button!==2&&(Jt||!fr||(Ue.current=new Date,wt(Lt.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(Me(!0),Zt.current={x:bt.clientX,y:bt.clientY})))},onPointerUp:()=>{var bt,Vt,Gt;if(Ae||!fr)return;Zt.current=null;const Kt=Number(((bt=tt.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ht=Number(((Vt=tt.current)==null?void 0:Vt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qt=new Date().getTime()-((Gt=Ue.current)==null?void 0:Gt.getTime()),er=he==="x"?Kt:Ht,Fr=Math.abs(er)/qt;if(Math.abs(er)>=WL||Fr>.11){wt(Lt.current),m.onDismiss==null||m.onDismiss.call(m,m),Q(he==="x"?Kt>0?"right":"left":Ht>0?"down":"up"),$r(),We(!0);return}else{var Ar,Br;(Ar=tt.current)==null||Ar.style.setProperty("--swipe-amount-x","0px"),(Br=tt.current)==null||Br.style.setProperty("--swipe-amount-y","0px")}Ee(!1),Me(!1),ve(null)},onPointerMove:bt=>{var Vt,Gt,Kt;if(!Zt.current||!fr||((Vt=window.getSelection())==null?void 0:Vt.toString().length)>0)return;const qt=bt.clientY-Zt.current.y,er=bt.clientX-Zt.current.x;var Fr;const Ar=(Fr=e.swipeDirections)!=null?Fr:VL(ue);!he&&(Math.abs(er)>1||Math.abs(qt)>1)&&ve(Math.abs(er)>Math.abs(qt)?"x":"y");let Br={x:0,y:0};const rn=yr=>1/(1.5+Math.abs(yr)/20);if(he==="y"){if(Ar.includes("top")||Ar.includes("bottom"))if(Ar.includes("top")&&qt<0||Ar.includes("bottom")&&qt>0)Br.y=qt;else{const yr=qt*rn(qt);Br.y=Math.abs(yr)<Math.abs(qt)?yr:qt}}else if(he==="x"&&(Ar.includes("left")||Ar.includes("right")))if(Ar.includes("left")&&er<0||Ar.includes("right")&&er>0)Br.x=er;else{const yr=er*rn(er);Br.x=Math.abs(yr)<Math.abs(er)?yr:er}(Math.abs(Br.x)>0||Math.abs(Br.y)>0)&&Ee(!0),(Gt=tt.current)==null||Gt.style.setProperty("--swipe-amount-x",`${Br.x}px`),(Kt=tt.current)==null||Kt.style.setProperty("--swipe-amount-y",`${Br.y}px`)}},Wt&&!m.jsx&&gt!=="loading"?Z.createElement("button",{"aria-label":Y,"data-disabled":Jt,"data-close-button":!0,onClick:Jt||!fr?()=>{}:()=>{$r(),m.onDismiss==null||m.onDismiss.call(m,m)},className:sl(ne?.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(ka=pe?.close)!=null?ka:OL):null,(gt||m.icon||m.promise)&&m.icon!==null&&(pe?.[gt]!==null||m.icon)?Z.createElement("div",{"data-icon":"",className:sl(ne?.icon,m==null||(a=m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||pn():null,m.type!=="loading"?Ha:null):null,Z.createElement("div",{"data-content":"",className:sl(ne?.content,m==null||(i=m.classNames)==null?void 0:i.content)},Z.createElement("div",{"data-title":"",className:sl(ne?.title,m==null||(c=m.classNames)==null?void 0:c.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Z.createElement("div",{"data-description":"",className:sl(K,Sr,ne?.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),Z.isValidElement(m.cancel)?m.cancel:m.cancel&&Mg(m.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||B,onClick:bt=>{Mg(m.cancel)&&fr&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,bt),$r())},className:sl(ne?.cancelButton,m==null||(f=m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,Z.isValidElement(m.action)?m.action:m.action&&Mg(m.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||V,onClick:bt=>{Mg(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,bt),!bt.defaultPrevented&&$r())},className:sl(ne?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function f_(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function KL(e,t){const r={};return[e,t].forEach((n,a)=>{const i=a===1,c=i?"--mobile-offset":"--offset",u=i?qL:BL;function f(p){["top","right","bottom","left"].forEach(g=>{r[`${c}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(p=>{n[p]===void 0?r[`${c}-${p}`]=u:r[`${c}-${p}`]=typeof n[p]=="number"?`${n[p]}px`:n[p]}):f(u)}),r}const YL=Z.forwardRef(function(t,r){const{id:n,invert:a,position:i="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:f,className:p,offset:g,mobileOffset:m,theme:x="light",richColors:N,duration:A,style:C,visibleToasts:_=FL,toastOptions:O,dir:R=f_(),gap:D=zL,icons:$,containerAriaLabel:k="Notifications"}=t,[M,L]=Z.useState([]),B=Z.useMemo(()=>n?M.filter(fe=>fe.toasterId===n):M.filter(fe=>!fe.toasterId),[M,n]),V=Z.useMemo(()=>Array.from(new Set([i].concat(B.filter(fe=>fe.position).map(fe=>fe.position)))),[B,i]),[J,K]=Z.useState([]),[ce,ue]=Z.useState(!1),[de,G]=Z.useState(!1),[ne,pe]=Z.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=Z.useRef(null),he=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),ve=Z.useRef(null),U=Z.useRef(!1),Q=Z.useCallback(fe=>{L(je=>{var Ie;return(Ie=je.find(qe=>qe.id===fe.id))!=null&&Ie.delete||Rs.dismiss(fe.id),je.filter(({id:qe})=>qe!==fe.id)})},[]);return Z.useEffect(()=>Rs.subscribe(fe=>{if(fe.dismiss){requestAnimationFrame(()=>{L(je=>je.map(Ie=>Ie.id===fe.id?{...Ie,delete:!0}:Ie))});return}setTimeout(()=>{mT.flushSync(()=>{L(je=>{const Ie=je.findIndex(qe=>qe.id===fe.id);return Ie!==-1?[...je.slice(0,Ie),{...je[Ie],...fe},...je.slice(Ie+1)]:[fe,...je]})})})}),[M]),Z.useEffect(()=>{if(x!=="system"){pe(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?pe("dark"):pe("light")),typeof window>"u")return;const fe=window.matchMedia("(prefers-color-scheme: dark)");try{fe.addEventListener("change",({matches:je})=>{pe(je?"dark":"light")})}catch{fe.addListener(({matches:Ie})=>{try{pe(Ie?"dark":"light")}catch(qe){console.error(qe)}})}},[x]),Z.useEffect(()=>{M.length<=1&&ue(!1)},[M]),Z.useEffect(()=>{const fe=je=>{var Ie;if(c.every(Me=>je[Me]||je.code===Me)){var Ve;ue(!0),(Ve=Y.current)==null||Ve.focus()}je.code==="Escape"&&(document.activeElement===Y.current||(Ie=Y.current)!=null&&Ie.contains(document.activeElement))&&ue(!1)};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[c]),Z.useEffect(()=>{if(Y.current)return()=>{ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null,U.current=!1)}},[Y.current]),Z.createElement("section",{ref:r,"aria-label":`${k} ${he}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((fe,je)=>{var Ie;const[qe,Ve]=fe.split("-");return B.length?Z.createElement("ol",{key:fe,dir:R==="auto"?f_():R,tabIndex:-1,ref:Y,className:p,"data-sonner-toaster":!0,"data-sonner-theme":ne,"data-y-position":qe,"data-x-position":Ve,style:{"--front-toast-height":`${((Ie=J[0])==null?void 0:Ie.height)||0}px`,"--width":`${UL}px`,"--gap":`${D}px`,...C,...KL(g,m)},onBlur:Me=>{U.current&&!Me.currentTarget.contains(Me.relatedTarget)&&(U.current=!1,ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null))},onFocus:Me=>{Me.target instanceof HTMLElement&&Me.target.dataset.dismissible==="false"||U.current||(U.current=!0,ve.current=Me.relatedTarget)},onMouseEnter:()=>ue(!0),onMouseMove:()=>ue(!0),onMouseLeave:()=>{de||ue(!1)},onDragEnd:()=>ue(!1),onPointerDown:Me=>{Me.target instanceof HTMLElement&&Me.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},B.filter(Me=>!Me.position&&je===0||Me.position===fe).map((Me,Ae)=>{var We,et;return Z.createElement(GL,{key:Me.id,icons:$,index:Ae,toast:Me,defaultRichColors:N,duration:(We=O?.duration)!=null?We:A,className:O?.className,descriptionClassName:O?.descriptionClassName,invert:a,visibleToasts:_,closeButton:(et=O?.closeButton)!=null?et:f,interacting:de,position:fe,style:O?.style,unstyled:O?.unstyled,classNames:O?.classNames,cancelButtonStyle:O?.cancelButtonStyle,actionButtonStyle:O?.actionButtonStyle,closeButtonAriaLabel:O?.closeButtonAriaLabel,removeToast:Q,toasts:B.filter(Ee=>Ee.position==Me.position),heights:J.filter(Ee=>Ee.position==Me.position),setHeights:K,expandByDefault:u,gap:D,expanded:ce,swipeDirections:t.swipeDirections})})):null}))}),Y1=e=>{const t=Number(e);return Number.isFinite(t)?Math.round((t+Number.EPSILON)*100)/100:0},XL=(e,t)=>{const r=t?.originalPrice??e.originalPrice;if(typeof r!="number")return null;const n=Y1(r);return!Number.isFinite(n)||n<=0?null:n},X1=(e,t,r,n)=>{const a=n?.pricingMode??"wholesale",i=(()=>{if(a==="retail"){const g=XL(e,t);if(g!=null)return g}return Y1(t?.price??e.price)})();if(a==="retail")return i;const c=e.bulkPricingTiers??[];if(!Array.isArray(c)||c.length===0)return i;const u=[...c].sort((g,m)=>(Number(m.minQuantity)||0)-(Number(g.minQuantity)||0)).find(g=>r>=(Number(g.minQuantity)||0));if(!u)return i;const f=Number(u.discountPercentage)||0,p=i*(1-f/100);return Y1(p)},QL="modulepreload",ZL=function(e){return"/"+e},p_={},E0=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=c(r.map(p=>{if(p=ZL(p),p in p_)return;p_[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":QL,g||(x.as="script"),x.crossOrigin="",x.href=p,f&&x.setAttribute("nonce",f),document.head.appendChild(x),g)return new Promise((N,A)=>{x.addEventListener("load",N),x.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})};function m_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hT(...e){return t=>{let r=!1;const n=e.map(a=>{const i=m_(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():m_(e[a],null)}}}}function jc(...e){return y.useCallback(hT(...e),e)}function IN(e){const t=JL(e),r=y.forwardRef((n,a)=>{const{children:i,...c}=n,u=y.Children.toArray(i),f=u.find(t4);if(f){const p=f.props.children,g=u.map(m=>m===f?y.Children.count(p)>1?y.Children.only(null):y.isValidElement(p)?p.props.children:null:m);return l.jsx(t,{...c,ref:a,children:y.isValidElement(p)?y.cloneElement(p,void 0,g):null})}return l.jsx(t,{...c,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var gT=IN("Slot");function JL(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const c=n4(a),u=r4(i,a.props);return a.type!==y.Fragment&&(u.ref=n?hT(n,c):c),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var e4=Symbol("radix.slottable");function t4(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===e4}function r4(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...u)=>{const f=i(...u);return a(...u),f}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function n4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function yT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=yT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Et(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=yT(e))&&(n&&(n+=" "),n+=t);return n}const h_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,g_=Et,vT=(e,t)=>r=>{var n;if(t?.variants==null)return g_(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,c=Object.keys(a).map(p=>{const g=r?.[p],m=i?.[p];if(g===null)return null;const x=h_(g)||h_(m);return a[p][x]}),u=r&&Object.entries(r).reduce((p,g)=>{let[m,x]=g;return x===void 0||(p[m]=x),p},{}),f=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((p,g)=>{let{class:m,className:x,...N}=g;return Object.entries(N).every(A=>{let[C,_]=A;return Array.isArray(_)?_.includes({...i,...u}[C]):{...i,...u}[C]===_})?[...p,m,x]:p},[]);return g_(e,c,f,r?.class,r?.className)},RN="-",a4=e=>{const t=i4(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const u=c.split(RN);return u[0]===""&&u.length!==1&&u.shift(),bT(u,t)||s4(c)},getConflictingClassGroupIds:(c,u)=>{const f=r[c]||[];return u&&n[c]?[...f,...n[c]]:f}}},bT=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?bT(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(RN);return t.validators.find(({validator:c})=>c(i))?.classGroupId},y_=/^\[(.+)\]$/,s4=e=>{if(y_.test(e)){const t=y_.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},i4=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)Q1(r[a],n,a,t);return n},Q1=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:v_(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(o4(a)){Q1(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,c])=>{Q1(c,v_(t,i),r,n)})})},v_=(e,t)=>{let r=e;return t.split(RN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},o4=e=>e.isThemeGetter,l4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,c)=>{r.set(i,c),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let c=r.get(i);if(c!==void 0)return c;if((c=n.get(i))!==void 0)return a(i,c),c},set(i,c){r.has(i)?r.set(i,c):a(i,c)}}},Z1="!",J1=":",c4=J1.length,u4=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let c=0,u=0,f=0,p;for(let A=0;A<a.length;A++){let C=a[A];if(c===0&&u===0){if(C===J1){i.push(a.slice(f,A)),f=A+c4;continue}if(C==="/"){p=A;continue}}C==="["?c++:C==="]"?c--:C==="("?u++:C===")"&&u--}const g=i.length===0?a:a.substring(f),m=d4(g),x=m!==g,N=p&&p>f?p-f:void 0;return{modifiers:i,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:N}};if(t){const a=t+J1,i=n;n=c=>c.startsWith(a)?i(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},d4=e=>e.endsWith(Z1)?e.substring(0,e.length-1):e.startsWith(Z1)?e.substring(1):e,f4=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(c=>{c[0]==="["||t[c]?(a.push(...i.sort(),c),i=[]):i.push(c)}),a.push(...i.sort()),a}},p4=e=>({cache:l4(e.cacheSize),parseClassName:u4(e),sortModifiers:f4(e),...a4(e)}),m4=/\s+/,h4=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,c=[],u=e.trim().split(m4);let f="";for(let p=u.length-1;p>=0;p-=1){const g=u[p],{isExternal:m,modifiers:x,hasImportantModifier:N,baseClassName:A,maybePostfixModifierPosition:C}=r(g);if(m){f=g+(f.length>0?" "+f:f);continue}let _=!!C,O=n(_?A.substring(0,C):A);if(!O){if(!_){f=g+(f.length>0?" "+f:f);continue}if(O=n(A),!O){f=g+(f.length>0?" "+f:f);continue}_=!1}const R=i(x).join(":"),D=N?R+Z1:R,$=D+O;if(c.includes($))continue;c.push($);const k=a(O,_);for(let M=0;M<k.length;++M){const L=k[M];c.push(D+L)}f=g+(f.length>0?" "+f:f)}return f};function g4(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=xT(t))&&(n&&(n+=" "),n+=r);return n}const xT=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=xT(e[n]))&&(r&&(r+=" "),r+=t);return r};function y4(e,...t){let r,n,a,i=c;function c(f){const p=t.reduce((g,m)=>m(g),e());return r=p4(p),n=r.cache.get,a=r.cache.set,i=u,u(f)}function u(f){const p=n(f);if(p)return p;const g=h4(f,r);return a(f,g),g}return function(){return i(g4.apply(null,arguments))}}const Gn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},wT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ST=/^\((?:(\w[\w-]*):)?(.+)\)$/i,v4=/^\d+\/\d+$/,b4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,S4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,N4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zf=e=>v4.test(e),$t=e=>!!e&&!Number.isNaN(Number(e)),yu=e=>!!e&&Number.isInteger(Number(e)),A0=e=>e.endsWith("%")&&$t(e.slice(0,-1)),oc=e=>b4.test(e),j4=()=>!0,_4=e=>x4.test(e)&&!w4.test(e),NT=()=>!1,C4=e=>S4.test(e),E4=e=>N4.test(e),A4=e=>!pt(e)&&!mt(e),P4=e=>Up(e,CT,NT),pt=e=>wT.test(e),Cd=e=>Up(e,ET,_4),P0=e=>Up(e,R4,$t),b_=e=>Up(e,jT,NT),k4=e=>Up(e,_T,E4),Dg=e=>Up(e,AT,C4),mt=e=>ST.test(e),zm=e=>zp(e,ET),O4=e=>zp(e,M4),x_=e=>zp(e,jT),T4=e=>zp(e,CT),I4=e=>zp(e,_T),Lg=e=>zp(e,AT,!0),Up=(e,t,r)=>{const n=wT.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},zp=(e,t,r=!1)=>{const n=ST.exec(e);return n?n[1]?t(n[1]):r:!1},jT=e=>e==="position"||e==="percentage",_T=e=>e==="image"||e==="url",CT=e=>e==="length"||e==="size"||e==="bg-size",ET=e=>e==="length",R4=e=>e==="number",M4=e=>e==="family-name",AT=e=>e==="shadow",D4=()=>{const e=Gn("color"),t=Gn("font"),r=Gn("text"),n=Gn("font-weight"),a=Gn("tracking"),i=Gn("leading"),c=Gn("breakpoint"),u=Gn("container"),f=Gn("spacing"),p=Gn("radius"),g=Gn("shadow"),m=Gn("inset-shadow"),x=Gn("text-shadow"),N=Gn("drop-shadow"),A=Gn("blur"),C=Gn("perspective"),_=Gn("aspect"),O=Gn("ease"),R=Gn("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...$(),mt,pt],M=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],B=()=>[mt,pt,f],V=()=>[Zf,"full","auto",...B()],J=()=>[yu,"none","subgrid",mt,pt],K=()=>["auto",{span:["full",yu,mt,pt]},yu,mt,pt],ce=()=>[yu,"auto",mt,pt],ue=()=>["auto","min","max","fr",mt,pt],de=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],ne=()=>["auto",...B()],pe=()=>[Zf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],Y=()=>[e,mt,pt],he=()=>[...$(),x_,b_,{position:[mt,pt]}],ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",T4,P4,{size:[mt,pt]}],Q=()=>[A0,zm,Cd],fe=()=>["","none","full",p,mt,pt],je=()=>["",$t,zm,Cd],Ie=()=>["solid","dashed","dotted","double"],qe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ve=()=>[$t,A0,x_,b_],Me=()=>["","none",A,mt,pt],Ae=()=>["none",$t,mt,pt],We=()=>["none",$t,mt,pt],et=()=>[$t,mt,pt],Ee=()=>[Zf,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[oc],breakpoint:[oc],color:[j4],container:[oc],"drop-shadow":[oc],ease:["in","out","in-out"],font:[A4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[oc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[oc],shadow:[oc],spacing:["px",$t],text:[oc],"text-shadow":[oc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zf,pt,mt,_]}],container:["container"],columns:[{columns:[$t,pt,mt,u]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[yu,"auto",mt,pt]}],basis:[{basis:[Zf,"full","auto",u,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$t,Zf,"auto","initial","none",pt]}],grow:[{grow:["",$t,mt,pt]}],shrink:[{shrink:["",$t,mt,pt]}],order:[{order:[yu,"first","last","none",mt,pt]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ue()}],"auto-rows":[{"auto-rows":ue()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:ne()}],mx:[{mx:ne()}],my:[{my:ne()}],ms:[{ms:ne()}],me:[{me:ne()}],mt:[{mt:ne()}],mr:[{mr:ne()}],mb:[{mb:ne()}],ml:[{ml:ne()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[u,"screen",...pe()]}],"min-w":[{"min-w":[u,"screen","none",...pe()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...pe()]}],h:[{h:["screen","lh",...pe()]}],"min-h":[{"min-h":["screen","lh","none",...pe()]}],"max-h":[{"max-h":["screen","lh",...pe()]}],"font-size":[{text:["base",r,zm,Cd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,mt,P0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",A0,pt]}],"font-family":[{font:[O4,pt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,mt,pt]}],"line-clamp":[{"line-clamp":[$t,"none",mt,P0]}],leading:[{leading:[i,...B()]}],"list-image":[{"list-image":["none",mt,pt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",mt,pt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[$t,"from-font","auto",mt,Cd]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[$t,"auto",mt,pt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt,pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt,pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:ve()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},yu,mt,pt],radial:["",mt,pt],conic:[yu,mt,pt]},I4,k4]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:je()}],"border-w-x":[{"border-x":je()}],"border-w-y":[{"border-y":je()}],"border-w-s":[{"border-s":je()}],"border-w-e":[{"border-e":je()}],"border-w-t":[{"border-t":je()}],"border-w-r":[{"border-r":je()}],"border-w-b":[{"border-b":je()}],"border-w-l":[{"border-l":je()}],"divide-x":[{"divide-x":je()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":je()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$t,mt,pt]}],"outline-w":[{outline:["",$t,zm,Cd]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",g,Lg,Dg]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",m,Lg,Dg]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:je()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[$t,Cd]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":je()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",x,Lg,Dg]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[$t,mt,pt]}],"mix-blend":[{"mix-blend":[...qe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":qe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$t]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ve()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":Ve()}],"mask-image-t-to-pos":[{"mask-t-to":Ve()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":Ve()}],"mask-image-r-to-pos":[{"mask-r-to":Ve()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":Ve()}],"mask-image-b-to-pos":[{"mask-b-to":Ve()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":Ve()}],"mask-image-l-to-pos":[{"mask-l-to":Ve()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":Ve()}],"mask-image-x-to-pos":[{"mask-x-to":Ve()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":Ve()}],"mask-image-y-to-pos":[{"mask-y-to":Ve()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[mt,pt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ve()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[$t]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ve()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:ve()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",mt,pt]}],filter:[{filter:["","none",mt,pt]}],blur:[{blur:Me()}],brightness:[{brightness:[$t,mt,pt]}],contrast:[{contrast:[$t,mt,pt]}],"drop-shadow":[{"drop-shadow":["","none",N,Lg,Dg]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",$t,mt,pt]}],"hue-rotate":[{"hue-rotate":[$t,mt,pt]}],invert:[{invert:["",$t,mt,pt]}],saturate:[{saturate:[$t,mt,pt]}],sepia:[{sepia:["",$t,mt,pt]}],"backdrop-filter":[{"backdrop-filter":["","none",mt,pt]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[$t,mt,pt]}],"backdrop-contrast":[{"backdrop-contrast":[$t,mt,pt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$t,mt,pt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$t,mt,pt]}],"backdrop-invert":[{"backdrop-invert":["",$t,mt,pt]}],"backdrop-opacity":[{"backdrop-opacity":[$t,mt,pt]}],"backdrop-saturate":[{"backdrop-saturate":[$t,mt,pt]}],"backdrop-sepia":[{"backdrop-sepia":["",$t,mt,pt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",mt,pt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$t,"initial",mt,pt]}],ease:[{ease:["linear","initial",O,mt,pt]}],delay:[{delay:[$t,mt,pt]}],animate:[{animate:["none",R,mt,pt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,mt,pt]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Ae()}],"rotate-x":[{"rotate-x":Ae()}],"rotate-y":[{"rotate-y":Ae()}],"rotate-z":[{"rotate-z":Ae()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:et()}],"skew-x":[{"skew-x":et()}],"skew-y":[{"skew-y":et()}],transform:[{transform:[mt,pt,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ee()}],"translate-x":[{"translate-x":Ee()}],"translate-y":[{"translate-y":Ee()}],"translate-z":[{"translate-z":Ee()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt,pt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt,pt]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[$t,zm,Cd,P0]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},L4=y4(D4);function Zn(...e){return L4(Et(e))}const $4=vT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive btn-hover-lighter",{variants:{variant:{default:"bg-primary text-primary-foreground",destructive:"bg-destructive text-white focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent/50 hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/40",secondary:"bg-secondary text-secondary-foreground",ghost:"hover:bg-accent/40 hover:text-accent-foreground dark:hover:bg-accent/40",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Qe=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const c=n?gT:"button";return l.jsx(c,{ref:i,"data-slot":"button",className:Zn($4({variant:t,size:r}),e),...a})});Qe.displayName="Button";const F4=vT("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),fc=y.forwardRef(({className:e,variant:t,asChild:r=!1,...n},a)=>{const i=r?gT:"span";return l.jsx(i,{ref:a,"data-slot":"badge",className:Zn(F4({variant:t}),e),...n})});fc.displayName="Badge";function gl(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function B4(e,t){const r=y.createContext(t),n=i=>{const{children:c,...u}=i,f=y.useMemo(()=>u,Object.values(u));return l.jsx(r.Provider,{value:f,children:c})};n.displayName=e+"Provider";function a(i){const c=y.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function PT(e,t=[]){let r=[];function n(i,c){const u=y.createContext(c),f=r.length;r=[...r,c];const p=m=>{const{scope:x,children:N,...A}=m,C=x?.[e]?.[f]||u,_=y.useMemo(()=>A,Object.values(A));return l.jsx(C.Provider,{value:_,children:N})};p.displayName=i+"Provider";function g(m,x){const N=x?.[e]?.[f]||u,A=y.useContext(N);if(A)return A;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[p,g]}const a=()=>{const i=r.map(c=>y.createContext(c));return function(u){const f=u?.[e]||i;return y.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return a.scopeName=e,[n,q4(a,...t)]}function q4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const c=n.reduce((u,{useScope:f,scopeName:p})=>{const m=f(i)[`__scope${p}`];return{...u,...m}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var yp=globalThis?.document?y.useLayoutEffect:()=>{},U4=pT[" useId ".trim().toString()]||(()=>{}),z4=0;function k0(e){const[t,r]=y.useState(U4());return yp(()=>{r(n=>n??String(z4++))},[e]),e||(t?`radix-${t}`:"")}var W4=pT[" useInsertionEffect ".trim().toString()]||yp;function kT({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,c]=H4({defaultProp:t,onChange:r}),u=e!==void 0,f=u?e:a;{const g=y.useRef(e!==void 0);y.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,n])}const p=y.useCallback(g=>{if(u){const m=V4(g)?g(e):g;m!==e&&c.current?.(m)}else i(g)},[u,e,i,c]);return[f,p]}function H4({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),i=y.useRef(t);return W4(()=>{i.current=t},[t]),y.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function V4(e){return typeof e=="function"}var G4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ds=G4.reduce((e,t)=>{const r=IN(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:c,...u}=a,f=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function K4(e,t){e&&my.flushSync(()=>e.dispatchEvent(t))}function yh(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>t.current?.(...r),[])}function Y4(e,t=globalThis?.document){const r=yh(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var X4="DismissableLayer",eS="dismissableLayer.update",Q4="dismissableLayer.pointerDownOutside",Z4="dismissableLayer.focusOutside",w_,OT=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),TT=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:c,onDismiss:u,...f}=e,p=y.useContext(OT),[g,m]=y.useState(null),x=g?.ownerDocument??globalThis?.document,[,N]=y.useState({}),A=jc(t,L=>m(L)),C=Array.from(p.layers),[_]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),O=C.indexOf(_),R=g?C.indexOf(g):-1,D=p.layersWithOutsidePointerEventsDisabled.size>0,$=R>=O,k=t$(L=>{const B=L.target,V=[...p.branches].some(J=>J.contains(B));!$||V||(a?.(L),c?.(L),L.defaultPrevented||u?.())},x),M=r$(L=>{const B=L.target;[...p.branches].some(J=>J.contains(B))||(i?.(L),c?.(L),L.defaultPrevented||u?.())},x);return Y4(L=>{R===p.layers.size-1&&(n?.(L),!L.defaultPrevented&&u&&(L.preventDefault(),u()))},x),y.useEffect(()=>{if(g)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(w_=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),S_(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=w_)}},[g,x,r,p]),y.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),S_())},[g,p]),y.useEffect(()=>{const L=()=>N({});return document.addEventListener(eS,L),()=>document.removeEventListener(eS,L)},[]),l.jsx(Ds.div,{...f,ref:A,style:{pointerEvents:D?$?"auto":"none":void 0,...e.style},onFocusCapture:gl(e.onFocusCapture,M.onFocusCapture),onBlurCapture:gl(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:gl(e.onPointerDownCapture,k.onPointerDownCapture)})});TT.displayName=X4;var J4="DismissableLayerBranch",e$=y.forwardRef((e,t)=>{const r=y.useContext(OT),n=y.useRef(null),a=jc(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),l.jsx(Ds.div,{...e,ref:a})});e$.displayName=J4;function t$(e,t=globalThis?.document){const r=yh(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=u=>{if(u.target&&!n.current){let f=function(){IT(Q4,r,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function r$(e,t=globalThis?.document){const r=yh(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&IT(Z4,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function S_(){const e=new CustomEvent(eS);document.dispatchEvent(e)}function IT(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?K4(a,i):a.dispatchEvent(i)}var O0="focusScope.autoFocusOnMount",T0="focusScope.autoFocusOnUnmount",N_={bubbles:!1,cancelable:!0},n$="FocusScope",RT=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...c}=e,[u,f]=y.useState(null),p=yh(a),g=yh(i),m=y.useRef(null),x=jc(t,C=>f(C)),N=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let C=function(D){if(N.paused||!u)return;const $=D.target;u.contains($)?m.current=$:vu(m.current,{select:!0})},_=function(D){if(N.paused||!u)return;const $=D.relatedTarget;$!==null&&(u.contains($)||vu(m.current,{select:!0}))},O=function(D){if(document.activeElement===document.body)for(const k of D)k.removedNodes.length>0&&vu(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",_);const R=new MutationObserver(O);return u&&R.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",_),R.disconnect()}}},[n,u,N.paused]),y.useEffect(()=>{if(u){__.add(N);const C=document.activeElement;if(!u.contains(C)){const O=new CustomEvent(O0,N_);u.addEventListener(O0,p),u.dispatchEvent(O),O.defaultPrevented||(a$(c$(MT(u)),{select:!0}),document.activeElement===C&&vu(u))}return()=>{u.removeEventListener(O0,p),setTimeout(()=>{const O=new CustomEvent(T0,N_);u.addEventListener(T0,g),u.dispatchEvent(O),O.defaultPrevented||vu(C??document.body,{select:!0}),u.removeEventListener(T0,g),__.remove(N)},0)}}},[u,p,g,N]);const A=y.useCallback(C=>{if(!r&&!n||N.paused)return;const _=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,O=document.activeElement;if(_&&O){const R=C.currentTarget,[D,$]=s$(R);D&&$?!C.shiftKey&&O===$?(C.preventDefault(),r&&vu(D,{select:!0})):C.shiftKey&&O===D&&(C.preventDefault(),r&&vu($,{select:!0})):O===R&&C.preventDefault()}},[r,n,N.paused]);return l.jsx(Ds.div,{tabIndex:-1,...c,ref:x,onKeyDown:A})});RT.displayName=n$;function a$(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(vu(n,{select:t}),document.activeElement!==r)return}function s$(e){const t=MT(e),r=j_(t,e),n=j_(t.reverse(),e);return[r,n]}function MT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function j_(e,t){for(const r of e)if(!i$(r,{upTo:t}))return r}function i$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function o$(e){return e instanceof HTMLInputElement&&"select"in e}function vu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&o$(e)&&t&&e.select()}}var __=l$();function l$(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=C_(e,t),e.unshift(t)},remove(t){e=C_(e,t),e[0]?.resume()}}}function C_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function c$(e){return e.filter(t=>t.tagName!=="A")}var u$="Portal",DT=y.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=y.useState(!1);yp(()=>i(!0),[]);const c=r||a&&globalThis?.document?.body;return c?mT.createPortal(l.jsx(Ds.div,{...n,ref:t}),c):null});DT.displayName=u$;function d$(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var tg=e=>{const{present:t,children:r}=e,n=f$(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=jc(n.ref,p$(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};tg.displayName="Presence";function f$(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),c=e?"mounted":"unmounted",[u,f]=d$(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const p=$g(n.current);i.current=u==="mounted"?p:"none"},[u]),yp(()=>{const p=n.current,g=a.current;if(g!==e){const x=i.current,N=$g(p);e?f("MOUNT"):N==="none"||p?.display==="none"?f("UNMOUNT"):f(g&&x!==N?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),yp(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,m=N=>{const C=$g(n.current).includes(CSS.escape(N.animationName));if(N.target===t&&C&&(f("ANIMATION_END"),!a.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},x=N=>{N.target===t&&(i.current=$g(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(p=>{n.current=p?getComputedStyle(p):null,r(p)},[])}}function $g(e){return e?.animationName||"none"}function p$(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var I0=0;function m$(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??E_()),document.body.insertAdjacentElement("beforeend",e[1]??E_()),I0++,()=>{I0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),I0--}},[])}function E_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fl=function(){return fl=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},fl.apply(this,arguments)};function LT(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function h$(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var uy="right-scroll-bar-position",dy="width-before-scroll-bar",g$="with-scroll-bars-hidden",y$="--removed-body-scroll-bar-size";function R0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function v$(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var b$=typeof window<"u"?y.useLayoutEffect:y.useEffect,A_=new WeakMap;function x$(e,t){var r=v$(null,function(n){return e.forEach(function(a){return R0(a,n)})});return b$(function(){var n=A_.get(r);if(n){var a=new Set(n),i=new Set(e),c=r.current;a.forEach(function(u){i.has(u)||R0(u,null)}),i.forEach(function(u){a.has(u)||R0(u,c)})}A_.set(r,e)},[e]),r}function w$(e){return e}function S$(e,t){t===void 0&&(t=w$);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var c=t(i,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(i){for(n=!0;r.length;){var c=r;r=[],c.forEach(i)}r={push:function(u){return i(u)},filter:function(){return r}}},assignMedium:function(i){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(i),c=r}var f=function(){var g=c;c=[],g.forEach(i)},p=function(){return Promise.resolve().then(f)};p(),r={push:function(g){c.push(g),p()},filter:function(g){return c=c.filter(g),r}}}};return a}function N$(e){e===void 0&&(e={});var t=S$(null);return t.options=fl({async:!0,ssr:!1},e),t}var $T=function(e){var t=e.sideCar,r=LT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,fl({},r))};$T.isSideCarExport=!0;function j$(e,t){return e.useMedium(t),$T}var FT=N$(),M0=function(){},yv=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:M0,onWheelCapture:M0,onTouchMoveCapture:M0}),a=n[0],i=n[1],c=e.forwardProps,u=e.children,f=e.className,p=e.removeScrollBar,g=e.enabled,m=e.shards,x=e.sideCar,N=e.noRelative,A=e.noIsolation,C=e.inert,_=e.allowPinchZoom,O=e.as,R=O===void 0?"div":O,D=e.gapMode,$=LT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=x,M=x$([r,t]),L=fl(fl({},$),a);return y.createElement(y.Fragment,null,g&&y.createElement(k,{sideCar:FT,removeScrollBar:p,shards:m,noRelative:N,noIsolation:A,inert:C,setCallbacks:i,allowPinchZoom:!!_,lockRef:r,gapMode:D}),c?y.cloneElement(y.Children.only(u),fl(fl({},L),{ref:M})):y.createElement(R,fl({},L,{className:f,ref:M}),u))});yv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yv.classNames={fullWidth:dy,zeroRight:uy};var _$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function C$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_$();return t&&e.setAttribute("nonce",t),e}function E$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function A$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var P$=function(){var e=0,t=null;return{add:function(r){e==0&&(t=C$())&&(E$(t,r),A$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},k$=function(){var e=P$();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},BT=function(){var e=k$(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},O$={left:0,top:0,right:0,gap:0},D0=function(e){return parseInt(e||"",10)||0},T$=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[D0(r),D0(n),D0(a)]},I$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return O$;var t=T$(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},R$=BT(),fp="data-scroll-locked",M$=function(e,t,r,n){var a=e.left,i=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(g$,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(fp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uy,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(dy,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(uy," .").concat(uy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(dy," .").concat(dy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(fp,`] {
    `).concat(y$,": ").concat(u,`px;
  }
`)},P_=function(){var e=parseInt(document.body.getAttribute(fp)||"0",10);return isFinite(e)?e:0},D$=function(){y.useEffect(function(){return document.body.setAttribute(fp,(P_()+1).toString()),function(){var e=P_()-1;e<=0?document.body.removeAttribute(fp):document.body.setAttribute(fp,e.toString())}},[])},L$=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;D$();var i=y.useMemo(function(){return I$(a)},[a]);return y.createElement(R$,{styles:M$(i,!t,a,r?"":"!important")})},tS=!1;if(typeof window<"u")try{var Fg=Object.defineProperty({},"passive",{get:function(){return tS=!0,!0}});window.addEventListener("test",Fg,Fg),window.removeEventListener("test",Fg,Fg)}catch{tS=!1}var Jf=tS?{passive:!1}:!1,$$=function(e){return e.tagName==="TEXTAREA"},qT=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!$$(e)&&r[t]==="visible")},F$=function(e){return qT(e,"overflowY")},B$=function(e){return qT(e,"overflowX")},k_=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=UT(e,n);if(a){var i=zT(e,n),c=i[1],u=i[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},q$=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},U$=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},UT=function(e,t){return e==="v"?F$(t):B$(t)},zT=function(e,t){return e==="v"?q$(t):U$(t)},z$=function(e,t){return e==="h"&&t==="rtl"?-1:1},W$=function(e,t,r,n,a){var i=z$(e,window.getComputedStyle(t).direction),c=i*n,u=r.target,f=t.contains(u),p=!1,g=c>0,m=0,x=0;do{if(!u)break;var N=zT(e,u),A=N[0],C=N[1],_=N[2],O=C-_-i*A;(A||O)&&UT(e,u)&&(m+=O,x+=A);var R=u.parentNode;u=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(g&&Math.abs(m)<1||!g&&Math.abs(x)<1)&&(p=!0),p},Bg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},O_=function(e){return[e.deltaX,e.deltaY]},T_=function(e){return e&&"current"in e?e.current:e},H$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},V$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},G$=0,ep=[];function K$(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(G$++)[0],i=y.useState(BT)[0],c=y.useRef(e);y.useEffect(function(){c.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var C=h$([e.lockRef.current],(e.shards||[]).map(T_),!0).filter(Boolean);return C.forEach(function(_){return _.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),C.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=y.useCallback(function(C,_){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!c.current.allowPinchZoom;var O=Bg(C),R=r.current,D="deltaX"in C?C.deltaX:R[0]-O[0],$="deltaY"in C?C.deltaY:R[1]-O[1],k,M=C.target,L=Math.abs(D)>Math.abs($)?"h":"v";if("touches"in C&&L==="h"&&M.type==="range")return!1;var B=k_(L,M);if(!B)return!0;if(B?k=L:(k=L==="v"?"h":"v",B=k_(L,M)),!B)return!1;if(!n.current&&"changedTouches"in C&&(D||$)&&(n.current=k),!k)return!0;var V=n.current||k;return W$(V,_,C,V==="h"?D:$)},[]),f=y.useCallback(function(C){var _=C;if(!(!ep.length||ep[ep.length-1]!==i)){var O="deltaY"in _?O_(_):Bg(_),R=t.current.filter(function(k){return k.name===_.type&&(k.target===_.target||_.target===k.shadowParent)&&H$(k.delta,O)})[0];if(R&&R.should){_.cancelable&&_.preventDefault();return}if(!R){var D=(c.current.shards||[]).map(T_).filter(Boolean).filter(function(k){return k.contains(_.target)}),$=D.length>0?u(_,D[0]):!c.current.noIsolation;$&&_.cancelable&&_.preventDefault()}}},[]),p=y.useCallback(function(C,_,O,R){var D={name:C,delta:_,target:O,should:R,shadowParent:Y$(O)};t.current.push(D),setTimeout(function(){t.current=t.current.filter(function($){return $!==D})},1)},[]),g=y.useCallback(function(C){r.current=Bg(C),n.current=void 0},[]),m=y.useCallback(function(C){p(C.type,O_(C),C.target,u(C,e.lockRef.current))},[]),x=y.useCallback(function(C){p(C.type,Bg(C),C.target,u(C,e.lockRef.current))},[]);y.useEffect(function(){return ep.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",f,Jf),document.addEventListener("touchmove",f,Jf),document.addEventListener("touchstart",g,Jf),function(){ep=ep.filter(function(C){return C!==i}),document.removeEventListener("wheel",f,Jf),document.removeEventListener("touchmove",f,Jf),document.removeEventListener("touchstart",g,Jf)}},[]);var N=e.removeScrollBar,A=e.inert;return y.createElement(y.Fragment,null,A?y.createElement(i,{styles:V$(a)}):null,N?y.createElement(L$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Y$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const X$=j$(FT,K$);var WT=y.forwardRef(function(e,t){return y.createElement(yv,fl({},e,{ref:t,sideCar:X$}))});WT.classNames=yv.classNames;var Q$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},tp=new WeakMap,qg=new WeakMap,Ug={},L0=0,HT=function(e){return e&&(e.host||HT(e.parentNode))},Z$=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=HT(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},J$=function(e,t,r,n){var a=Z$(t,Array.isArray(e)?e:[e]);Ug[r]||(Ug[r]=new WeakMap);var i=Ug[r],c=[],u=new Set,f=new Set(a),p=function(m){!m||u.has(m)||(u.add(m),p(m.parentNode))};a.forEach(p);var g=function(m){!m||f.has(m)||Array.prototype.forEach.call(m.children,function(x){if(u.has(x))g(x);else try{var N=x.getAttribute(n),A=N!==null&&N!=="false",C=(tp.get(x)||0)+1,_=(i.get(x)||0)+1;tp.set(x,C),i.set(x,_),c.push(x),C===1&&A&&qg.set(x,!0),_===1&&x.setAttribute(r,"true"),A||x.setAttribute(n,"true")}catch(O){console.error("aria-hidden: cannot operate on ",x,O)}})};return g(t),u.clear(),L0++,function(){c.forEach(function(m){var x=tp.get(m)-1,N=i.get(m)-1;tp.set(m,x),i.set(m,N),x||(qg.has(m)||m.removeAttribute(n),qg.delete(m)),N||m.removeAttribute(r)}),L0--,L0||(tp=new WeakMap,tp=new WeakMap,qg=new WeakMap,Ug={})}},e5=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Q$(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),J$(n,a,r,"aria-hidden")):function(){return null}},vv="Dialog",[VT]=PT(vv),[t5,Ao]=VT(vv),GT=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:c=!0}=e,u=y.useRef(null),f=y.useRef(null),[p,g]=kT({prop:n,defaultProp:a??!1,onChange:i,caller:vv});return l.jsx(t5,{scope:t,triggerRef:u,contentRef:f,contentId:k0(),titleId:k0(),descriptionId:k0(),open:p,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(m=>!m),[g]),modal:c,children:r})};GT.displayName=vv;var KT="DialogTrigger",YT=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ao(KT,r),i=jc(t,a.triggerRef);return l.jsx(Ds.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":LN(a.open),...n,ref:i,onClick:gl(e.onClick,a.onOpenToggle)})});YT.displayName=KT;var MN="DialogPortal",[r5,XT]=VT(MN,{forceMount:void 0}),QT=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ao(MN,t);return l.jsx(r5,{scope:t,forceMount:r,children:y.Children.map(n,c=>l.jsx(tg,{present:r||i.open,children:l.jsx(DT,{asChild:!0,container:a,children:c})}))})};QT.displayName=MN;var hy="DialogOverlay",ZT=y.forwardRef((e,t)=>{const r=XT(hy,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ao(hy,e.__scopeDialog);return i.modal?l.jsx(tg,{present:n||i.open,children:l.jsx(a5,{...a,ref:t})}):null});ZT.displayName=hy;var n5=IN("DialogOverlay.RemoveScroll"),a5=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ao(hy,r);return l.jsx(WT,{as:n5,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(Ds.div,{"data-state":LN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),zd="DialogContent",JT=y.forwardRef((e,t)=>{const r=XT(zd,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ao(zd,e.__scopeDialog);return l.jsx(tg,{present:n||i.open,children:i.modal?l.jsx(s5,{...a,ref:t}):l.jsx(i5,{...a,ref:t})})});JT.displayName=zd;var s5=y.forwardRef((e,t)=>{const r=Ao(zd,e.__scopeDialog),n=y.useRef(null),a=jc(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return e5(i)},[]),l.jsx(eI,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gl(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:gl(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&i.preventDefault()}),onFocusOutside:gl(e.onFocusOutside,i=>i.preventDefault())})}),i5=y.forwardRef((e,t)=>{const r=Ao(zd,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return l.jsx(eI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;r.triggerRef.current?.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),eI=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...c}=e,u=Ao(zd,r),f=y.useRef(null),p=jc(t,f);return m$(),l.jsxs(l.Fragment,{children:[l.jsx(RT,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(TT,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":LN(u.open),...c,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(o5,{titleId:u.titleId}),l.jsx(c5,{contentRef:f,descriptionId:u.descriptionId})]})]})}),DN="DialogTitle",tI=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ao(DN,r);return l.jsx(Ds.h2,{id:a.titleId,...n,ref:t})});tI.displayName=DN;var rI="DialogDescription",nI=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ao(rI,r);return l.jsx(Ds.p,{id:a.descriptionId,...n,ref:t})});nI.displayName=rI;var aI="DialogClose",sI=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ao(aI,r);return l.jsx(Ds.button,{type:"button",...n,ref:t,onClick:gl(e.onClick,()=>a.onOpenChange(!1))})});sI.displayName=aI;function LN(e){return e?"open":"closed"}var iI="DialogTitleWarning",[nee,oI]=B4(iI,{contentName:zd,titleName:DN,docsSlug:"dialog"}),o5=({titleId:e})=>{const t=oI(iI),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},l5="DialogDescriptionWarning",c5=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oI(l5).contentName}}.`;return y.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},u5=GT,lI=YT,d5=QT,cI=ZT,uI=JT,f5=tI,p5=nI,dI=sI;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),I_=e=>{const t=h5(e);return t.charAt(0).toUpperCase()+t.slice(1)},fI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:c,...u},f)=>y.createElement("svg",{ref:f,...g5,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:fI("lucide",a),...u},[...c.map(([p,g])=>y.createElement(p,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=(e,t)=>{const r=y.forwardRef(({className:n,...a},i)=>y.createElement(y5,{ref:i,iconNode:t,className:fI(`lucide-${m5(I_(e))}`,`lucide-${e}`,n),...a}));return r.displayName=I_(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],b5=Mt("arrow-left-right",v5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],w5=Mt("arrow-left",x5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],N5=Mt("arrow-right",S5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],_5=Mt("arrow-up-down",j5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],E5=Mt("building-2",C5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],P5=Mt("check",A5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],O5=Mt("chevron-left",k5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fy=Mt("chevron-right",T5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],R5=Mt("circle-alert",I5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],D5=Mt("circle-check",M5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],py=Mt("download",L5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],F5=Mt("external-link",$5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],cc=Mt("eye-off",B5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uc=Mt("eye",q5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],z5=Mt("fingerprint",U5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],H5=Mt("funnel",W5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],G5=Mt("house",V5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Y5=Mt("info",K5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],Q5=Mt("landmark",X5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Md=Mt("loader-circle",Z5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],e3=Mt("log-in",J5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],r3=Mt("log-out",t3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],a3=Mt("maximize-2",n3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],i3=Mt("minimize-2",s3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M5 12h14",key:"1ays0h"}]],$N=Mt("minus",o3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],R_=Mt("notebook-pen",l3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],lp=Mt("package",c3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],pI=Mt("pencil",u3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],M_=Mt("pill",d3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bv=Mt("plus",f3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ll=Mt("refresh-cw",p3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],D_=Mt("search",m3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],vp=Mt("shopping-cart",h3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y3=Mt("square-check-big",g3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],b3=Mt("tag",v3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],rS=Mt("trash-2",x3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],S3=Mt("upload",w3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],j3=Mt("user",N3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],C3=Mt("users",_3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],A3=Mt("wifi-off",E3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Su=Mt("x",P3);function gc({...e}){return l.jsx(u5,{"data-slot":"dialog",...e})}const nS=y.forwardRef(({...e},t)=>l.jsx(lI,{ref:t,"data-slot":"dialog-trigger",...e}));nS.displayName=lI.displayName;function k3({...e}){return l.jsx(d5,{"data-slot":"dialog-portal",...e})}function FN({...e}){return l.jsx(dI,{"data-slot":"dialog-close",...e})}const mI=y.forwardRef(({className:e,style:t,...r},n)=>l.jsx(cI,{ref:n,"data-slot":"dialog-overlay",className:Zn("fixed inset-0 z-[9999] backdrop-blur-xl duration-[55ms] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0",e),style:{backdropFilter:"blur(4px) saturate(1.2)",WebkitBackdropFilter:"blur(4px) saturate(1.2)",willChange:"opacity",...t},...r}));mI.displayName=cI.displayName;const yl=y.forwardRef(({className:e,children:t,style:r,hideCloseButton:n=!1,overlayClassName:a,overlayStyle:i,containerClassName:c,containerStyle:u,...f},p)=>l.jsx(k3,{"data-slot":"dialog-portal",children:l.jsxs("div",{className:c??"fixed inset-x-0 bottom-0 z-[10000] flex items-center justify-center px-3 py-6 sm:px-4 sm:py-8",style:c?u:{top:"var(--modal-header-offset, 6rem)",left:0,right:0,...u},children:[l.jsx(mI,{className:a,style:i}),l.jsxs(uI,{ref:p,"data-slot":"dialog-content",className:Zn("relative z-[1001] flex w-full max-w-[min(740px,calc(100vw-2rem))] flex-col overflow-y-auto squircle-xl glass-card border-[3px] p-6 text-slate-900 shadow-[0_24px_60px_-25px_rgba(7,27,27,0.55)] focus:outline-none data-[state=closed]:pointer-events-none duration-[55ms] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95 sm:max-w-[min(800px,calc(100vw-2.5rem))] lg:max-w-[min(50vw,48rem)]",e),style:{backgroundColor:"rgba(245, 251, 255, 0.94)",borderColor:"rgba(95, 179, 249, 0.65)",backdropFilter:"blur(16px) saturate(1.45)",WebkitBackdropFilter:"blur(16px) saturate(1.45)",maxHeight:"calc(var(--viewport-height, 100dvh) - var(--modal-header-offset, 6rem) - clamp(1.5rem, 6vh, 3rem))",margin:"clamp(0.5rem, 3vh, 2rem) auto 1.5rem",willChange:"opacity, transform",...r},...f,children:[t,!n&&l.jsxs(dI,{className:"dialog-close-btn inline-flex items-center justify-center text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150 absolute top-4 right-4 z-[10050] disabled:pointer-events-none",style:{backgroundColor:"rgb(95, 179, 249)",width:"38px",height:"38px",borderRadius:"50%"},children:[l.jsx(Su,{className:"h-4 w-4 sm:h-5 sm:w-5"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}));yl.displayName=uI.displayName;function Nu({className:e,...t}){return l.jsx("div",{"data-slot":"dialog-header",className:Zn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function pl({className:e,...t}){return l.jsx(f5,{"data-slot":"dialog-title",className:Zn("text-lg leading-none font-semibold",e),...t})}function ju({className:e,...t}){return l.jsx(p5,{"data-slot":"dialog-description",className:Zn("text-muted-foreground text-sm",e),...t})}const hr=y.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{ref:n,type:t,"data-slot":"input",className:Zn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r}));hr.displayName="Input";var O3="Label",hI=y.forwardRef((e,t)=>l.jsx(Ds.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));hI.displayName=O3;var T3=hI;const dn=y.forwardRef(({className:e,...t},r)=>l.jsx(T3,{ref:r,"data-slot":"label",className:Zn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t}));dn.displayName="Label";const I3=()=>{if(typeof window>"u")return!1;if(window.isSecureContext)return!0;const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"||e==="::1"},gI=()=>{if(!I3())return null;const e=navigator.credentials;return!e||typeof e.get!="function"?null:e},yI=async()=>{const e=gI();if(!e||typeof window.PasswordCredential!="function")return null;try{const r=await e.get({password:!0,mediation:"optional"});if(r&&r.type==="password"){const n=r;return{id:n.id||"",password:n.password||""}}}catch(r){console.debug("[Credentials] Stored credential request failed",r)}return null},R3=async(e,t,r)=>{if(!e||!t||typeof window>"u")return;const n=gI();if(!n||typeof n.store!="function")return;const a=window.PasswordCredential;if(typeof a=="function")try{const i=new a({id:e,name:r||e,password:t});await n.store(i)}catch(i){console.debug("[Credentials] Unable to store credential",i)}},M3=[[/\bwoocommerce\b/gi,"store"],[/\bwoo\s*commerce\b/gi,"store"],[/\bwoo\b/gi,"store"],[/\bstripe\b/gi,"payment provider"],[/\bcloudflare\b/gi,"network provider"],[/\bgodaddy\b/gi,"hosting provider"],[/\bshipstation\b/gi,"shipping provider"],[/\bshipengine\b/gi,"shipping provider"]],vl=e=>{if(typeof e!="string"||e.length===0)return e;let t=e;for(const[r,n]of M3)t=t.replace(r,n);return t=t.replace(/\bstore\s+store\b/gi,"store"),t=t.replace(/\bpayment provider\s+payment provider\b/gi,"payment provider"),t},D3=new Set(["error","message","reason","hint","title","statusText","detail"]),vh=e=>{const t=new WeakSet,r=(n,a)=>{if(typeof n=="string")return a&&D3.has(a)?vl(n):n;if(!n||typeof n!="object"||t.has(n))return n;if(t.add(n),Array.isArray(n)){for(let i=0;i<n.length;i+=1)n[i]=r(n[i],a);return n}for(const[i,c]of Object.entries(n))n[i]=r(c,i);return n};return r(e,null)},Fe=(()=>{const e="https://api.peppro.net".trim();if(!e)return"http://localhost:3001/api";const t=e.replace(/\/+$/,"");return t.toLowerCase().endsWith("/api")?t:`${t}/api`})(),L_="peppro_tab_id_v1",BN="peppro_session_id_v1",gy="peppro_user_id_v1",yy="peppro_auth_email_v1",qN="peppro_session_started_at_v1",vI="peppro_auth_event_v1",L3="peppro:force-logout",$3="test@doctor.com",bI=e=>String(e||"").trim().toLowerCase()===$3,bh=()=>{try{if(typeof crypto<"u"&&"randomUUID"in crypto&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return`${Date.now()}-${Math.random().toString(16).slice(2)}${Math.random().toString(16).slice(2)}`},xI=()=>{try{const e=sessionStorage.getItem(L_);if(e&&e.trim())return e;const t=bh();return sessionStorage.setItem(L_,t),t}catch{return bh()}},UN=()=>{try{const e=sessionStorage.getItem(BN);return e&&e.trim()?e:null}catch{return null}},aS=e=>{try{sessionStorage.setItem(BN,e)}catch{}},rg=()=>{try{sessionStorage.removeItem(BN)}catch{}},sS=e=>{try{sessionStorage.setItem(qN,String(Math.floor(Number(e)||Date.now())))}catch{}},F3=()=>{try{sessionStorage.removeItem(qN)}catch{}},wI=()=>{try{const e=sessionStorage.getItem(gy);return e&&e.trim()?e:null}catch{return null}},Wm=e=>{try{const t=typeof e=="string"?e.trim():"";if(!t){sessionStorage.removeItem(gy);return}sessionStorage.setItem(gy,t)}catch{}},SI=()=>{try{const e=sessionStorage.getItem(yy);return e&&e.trim()?e:null}catch{return null}},Hm=e=>{try{const t=typeof e=="string"?e.trim():"";if(!t){sessionStorage.removeItem(yy);return}sessionStorage.setItem(yy,t)}catch{}},B3=e=>{if(!(typeof window>"u")){try{if("BroadcastChannel"in window){const t=new window.BroadcastChannel("peppro-auth");t.postMessage(e),t.close()}}catch{}try{localStorage.setItem(vI,JSON.stringify(e))}catch{}}};let $_=0;const xv=(e,t)=>{if(typeof window>"u")return;const r=Date.now();if(!(r-$_<1500)){$_=r;try{const n={reason:e,...t?.authCode?{authCode:t.authCode}:{}};window.dispatchEvent(new CustomEvent(L3,{detail:n}))}catch{}}},F_=e=>{if(!e||e.type!=="LOGIN"||bI(SI()))return;const t=xI();if(e.tabId===t)return;const r=wI(),n=typeof e.userId=="string"?e.userId:null;if(!r||!n||r!==n)return;const a=UN();!a||a===e.sessionId||(ng(),rg(),xv("another_tab_login"))};if(typeof window<"u"){try{localStorage.removeItem("auth_token")}catch{}try{const e=sessionStorage.getItem("auth_token");e&&e.trim()&&!UN()&&aS(bh());const t=sessionStorage.getItem(qN),r=t?Number(t):NaN;e&&e.trim()&&!Number.isFinite(r)&&sS(Date.now())}catch{}try{"BroadcastChannel"in window&&new window.BroadcastChannel("peppro-auth").addEventListener("message",t=>{try{F_(t?.data)}catch{}})}catch{}try{window.addEventListener("storage",e=>{if(!(e.key!==vI||!e.newValue))try{F_(JSON.parse(e.newValue))}catch{}})}catch{}}const bp=()=>{try{const e=sessionStorage.getItem("auth_token");if(e&&e.trim().length>0)return e}catch{}return null},$0=e=>{if(!e)return;try{sessionStorage.setItem("auth_token",e)}catch{}if(bI(SI())){UN()||aS(bh()),sS(Date.now());return}const t=bh();aS(t),sS(Date.now()),B3({type:"LOGIN",tabId:xI(),sessionId:t,userId:wI(),at:Date.now()})},ng=()=>{try{localStorage.removeItem("auth_token")}catch{}try{sessionStorage.removeItem("auth_token")}catch{}try{sessionStorage.removeItem(gy)}catch{}try{sessionStorage.removeItem(yy)}catch{}F3()},yc=e=>{try{if(typeof window>"u")return;const t={ok:!!e.ok,status:typeof e.status=="number"?e.status:null,message:typeof e.message=="string"?e.message:null,at:Date.now()};window.dispatchEvent(new CustomEvent("peppro:api-reachability",{detail:t}))}catch{}},B_=15e3,q3=12e3,U3=5e3,z3=3e4,W3=45e3,zN=(e,t)=>{const r=String(e||"").toLowerCase();return r.includes("/api/health")?U3:r.includes("/api/auth/")?q3:r.includes("/api/settings/user-activity/longpoll")?z3:t==="POST"&&(r.endsWith("/api/orders")||r.includes("/api/orders/"))?W3:B_},WN=async(e,t,r)=>{if(typeof window>"u"||r<=0||!Number.isFinite(r))return fetch(e,t);const n=new AbortController,a=t.signal;a&&(a.aborted?n.abort():a.addEventListener("abort",()=>n.abort(),{once:!0}));const i=window.setTimeout(()=>n.abort(),r);try{return await fetch(e,{...t,signal:n.signal})}finally{window.clearTimeout(i)}},ot=async(e,t={})=>{const r=bp(),n={"Content-Type":"application/json",...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);const a=(t.method||"GET").toUpperCase();let i=e;if(a==="GET"&&!(t.cache&&t.cache!=="default")){const f=i.includes("?")?"&":"?";i=`${i}${f}_ts=${Date.now()}`}let c;try{const f=zN(i,a);c=await WN(i,{cache:t.cache??"no-store",...t,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",...n}},f)}catch(f){const p=f?.name==="AbortError",g=p?"Request timed out":typeof f?.message=="string"?f.message:null;if(yc({ok:!1,status:null,message:g}),p){const m=new Error("Request timed out");throw m.code="TIMEOUT",m.status=null,m}throw f}if(c.ok?yc({ok:!0,status:c.status}):(c.status>=500||c.status===429)&&yc({ok:!1,status:c.status}),!c.ok){const f=c.headers.get("content-type")||"";let p=`Request failed (${c.status})`,g=null,m=!1;try{if(f.includes("application/json")){if(g=await c.json(),g&&typeof g=="object"&&"error"in g){const C=g.error;typeof C=="string"&&C.trim().length>0&&(p=C)}}else if(g=await c.text(),typeof g=="string"&&g.trim().length>0){const C=g.trim();m=C.startsWith("<")||C.includes("<html"),p=`${p}: ${C}`}}catch(C){g={parseError:C instanceof Error?C.message:String(C)}}m&&(e.toLowerCase().includes("/shipping/")?p="Address cannot be identified.":p=`Request failed (${c.status}). Please try again in a moment.`),p=vl(p),typeof g=="string"?g=vl(g):g&&typeof g=="object"&&vh(g);const x=new Error(p);x.status=c.status,x.details=g;const N=typeof g=="object"&&g!==null?g.code:null;if(c.status===401||c.status===403&&typeof N=="string"&&N.startsWith("TOKEN_")){if(ng(),rg(),r){const C=typeof N=="string"?N:void 0;xv(C==="TOKEN_REVOKED"?"credentials_used_elsewhere":"auth_revoked",{authCode:C})}x.code="AUTH_REQUIRED",typeof N=="string"&&(x.authCode=N)}else c.status===403&&(x.code="FORBIDDEN");throw x}if(c.status===204||c.status===205)return null;if((c.headers.get("content-type")||"").includes("application/json")){const f=await c.text();if(!f)return null;try{const p=JSON.parse(f);return vh(p)}catch(p){return console.warn("[fetchWithAuth] Failed to parse JSON response",{error:p}),vl(f)}}return c.text()},NI=async(e,t={})=>{const r=bp(),n={...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);let a;const i=(t.method||"GET").toUpperCase();try{a=await WN(e,{cache:t.cache??"no-store",...t,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",...n}},zN(e,i))}catch(u){const f=u?.name==="AbortError",p=f?"Request timed out":typeof u?.message=="string"?u.message:null;if(yc({ok:!1,status:null,message:p}),f){const g=new Error("Request timed out");throw g.code="TIMEOUT",g.status=null,g}throw u}if(a.ok?yc({ok:!0,status:a.status}):(a.status>=500||a.status===429)&&yc({ok:!1,status:a.status}),!a.ok){const u=a.headers.get("content-type")||"";let f=`Request failed (${a.status})`,p=null,g=!1;try{if(u.includes("application/json")){if(p=await a.json(),p&&typeof p=="object"&&"error"in p){const A=p.error;typeof A=="string"&&A.trim().length>0&&(f=A)}}else if(p=await a.text(),typeof p=="string"&&p.trim().length>0){const A=p.trim();g=A.startsWith("<")||A.includes("<html"),f=`${f}: ${A}`}}catch(A){p={parseError:A instanceof Error?A.message:String(A)}}g&&(a.status===413?f="Upload too large. Your server rejected the request (413).":f=`Request failed (${a.status}). Please try again in a moment.`),f=vl(f),typeof p=="string"?p=vl(p):p&&typeof p=="object"&&vh(p);const m=new Error(f);m.status=a.status,m.details=p;const x=typeof p=="object"&&p!==null?p.code:null;if(a.status===401||a.status===403&&typeof x=="string"&&x.startsWith("TOKEN_")){if(ng(),rg(),r){const A=typeof x=="string"?x:void 0;xv(A==="TOKEN_REVOKED"?"credentials_used_elsewhere":"auth_revoked",{authCode:A})}m.code="AUTH_REQUIRED",typeof x=="string"&&(m.authCode=x)}else a.status===403&&(m.code="FORBIDDEN");throw m}if((a.headers.get("content-type")||"").includes("application/json")){const u=await a.text();if(!u)return null;try{const f=JSON.parse(u);return vh(f)}catch{return vl(u)}}return a.text()},HN=async(e,t={})=>{const r=bp(),n={...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);let a;const i=(t.method||"GET").toUpperCase();try{a=await WN(e,{cache:t.cache??"no-store",...t,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",...n}},zN(e,i))}catch(g){const m=g?.name==="AbortError",x=m?"Request timed out":typeof g?.message=="string"?g.message:null;if(yc({ok:!1,status:null,message:x}),m){const N=new Error("Request timed out");throw N.code="TIMEOUT",N.status=null,N}throw g}if(a.ok?yc({ok:!0,status:a.status}):(a.status>=500||a.status===429)&&yc({ok:!1,status:a.status}),!a.ok){const g=a.headers.get("content-type")||"";let m=`Request failed (${a.status})`,x=null;try{if(g.includes("application/json")){if(x=await a.json(),x&&typeof x=="object"&&"error"in x){const _=x.error;typeof _=="string"&&_.trim().length>0&&(m=_)}}else x=await a.text()}catch(_){x={parseError:_ instanceof Error?_.message:String(_)}}m=vl(m),typeof x=="string"?x=vl(x):x&&typeof x=="object"&&vh(x);const N=new Error(m);N.status=a.status,N.details=x;const A=typeof x=="object"&&x!==null?x.code:null;if(a.status===401||a.status===403&&typeof A=="string"&&A.startsWith("TOKEN_")){if(ng(),rg(),r){const _=typeof A=="string"?A:void 0;xv(_==="TOKEN_REVOKED"?"credentials_used_elsewhere":"auth_revoked",{authCode:_})}N.code="AUTH_REQUIRED",typeof A=="string"&&(N.authCode=A)}else a.status===403&&(N.code="FORBIDDEN");throw N}const u=(a.headers.get("content-disposition")||"").match(/filename=\"?([^\";]+)\"?/i),f=u&&u[1]?u[1]:null;return{blob:await a.blob(),filename:f,contentType:a.headers.get("content-type")||""}},li={register:async e=>{const t=await ot(`${Fe}/auth/register`,{method:"POST",body:JSON.stringify({name:e.name,email:e.email,password:e.password,code:e.code,npiNumber:e.npiNumber,phone:e.phone??void 0})});return Wm(t?.user?.id),Hm(t?.user?.email??e.email),$0(t.token),t.user},verifyNpi:async e=>ot(`${Fe}/auth/verify-npi`,{method:"POST",body:JSON.stringify({npiNumber:e})}),login:async(e,t)=>{const r=await ot(`${Fe}/auth/login`,{method:"POST",body:JSON.stringify({email:e,password:t})});return Wm(r?.user?.id),Hm(r?.user?.email??e),$0(r.token),r.user},checkEmail:async e=>{const t=await fetch(`${Fe}/auth/check-email?email=${encodeURIComponent(e)}`);if(!t.ok)throw new Error("EMAIL_CHECK_FAILED");return t.json()},logout:()=>{const e=bp();try{e&&fetch(`${Fe}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:"{}"}).catch(()=>null)}catch{}ng(),rg()},markOffline:()=>{const e=bp();if(e)try{fetch(`${Fe}/auth/logout`,{method:"POST",keepalive:!0,headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:"{}"}).catch(()=>null)}catch{}},getCurrentUser:async()=>{try{const e=await ot(`${Fe}/auth/me`);return Wm(e?.id),Hm(e?.email),e}catch(e){const t=e,r=typeof t?.status=="number"?t.status:null,n=typeof t?.code=="string"?t.code:null,a=typeof t?.authCode=="string"?t.authCode:null;if(n==="AUTH_REQUIRED"||r===401||r===403&&typeof a=="string"&&a.startsWith("TOKEN_"))return Wm(null),Hm(null),null;throw e}},updateMe:async e=>ot(`${Fe}/auth/me`,{method:"PUT",body:JSON.stringify(e)}),passkeys:{getRegistrationOptions:async()=>ot(`${Fe}/auth/passkeys/register/options`,{method:"POST"}),completeRegistration:async e=>ot(`${Fe}/auth/passkeys/register/verify`,{method:"POST",body:JSON.stringify(e)}),getAuthenticationOptions:async e=>{const t=await fetch(`${Fe}/auth/passkeys/login/options`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok){const r=await t.text();throw new Error(r||"PASSKEY_OPTIONS_FAILED")}return t.json()},completeAuthentication:async e=>{const t=await fetch(`${Fe}/auth/passkeys/login/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.text();throw new Error(n||"PASSKEY_AUTH_FAILED")}const r=await t.json();return Wm(r?.user?.id),Hm(r?.user?.email),$0(r.token),r.user}}},cn={getShopStatus:async()=>ot(`${Fe}/settings/shop`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),getForumStatus:async()=>ot(`${Fe}/settings/forum`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),getResearchStatus:async()=>ot(`${Fe}/settings/research`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),getTestPaymentsOverrideStatus:async()=>ot(`${Fe}/settings/test-payments-override`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),updateShopStatus:async e=>ot(`${Fe}/settings/shop`,{method:"PUT",body:JSON.stringify({enabled:e})}),updateForumStatus:async e=>ot(`${Fe}/settings/forum`,{method:"PUT",body:JSON.stringify({enabled:e})}),updateResearchStatus:async e=>ot(`${Fe}/settings/research`,{method:"PUT",body:JSON.stringify({enabled:e})}),updateTestPaymentsOverrideStatus:async e=>ot(`${Fe}/settings/test-payments-override`,{method:"PUT",body:JSON.stringify({enabled:e})}),getStripeSettings:async()=>ot(`${Fe}/settings/stripe`,{method:"GET"}),updateStripeTestMode:async e=>ot(`${Fe}/settings/stripe`,{method:"PUT",body:JSON.stringify({testMode:e})}),getUserActivity:async e=>{const t=e?`?window=${encodeURIComponent(e)}`:"";return ot(`${Fe}/settings/user-activity${t}`,{method:"GET"})},getUserActivityLongPoll:async(e,t,r=25e3,n)=>{const a=new URLSearchParams;e&&a.set("window",e),t&&a.set("etag",String(t)),r&&Number.isFinite(r)&&a.set("timeoutMs",String(Math.max(1e3,Math.min(r,3e4))));const i=a.toString()?`?${a.toString()}`:"";return ot(`${Fe}/settings/user-activity/longpoll${i}`,{method:"GET",signal:n})},pingPresence:async e=>ot(`${Fe}/settings/presence`,{method:"POST",body:JSON.stringify(e||{})}),getLiveClients:async e=>{const t=new URLSearchParams;e&&t.set("salesRepId",String(e));const r=t.toString()?`?${t.toString()}`:"";return ot(`${Fe}/settings/live-clients${r}`,{method:"GET"})},getLiveClientsLongPoll:async(e,t,r=25e3,n)=>{const a=new URLSearchParams;e&&a.set("salesRepId",String(e)),t&&a.set("etag",String(t)),r&&Number.isFinite(r)&&a.set("timeoutMs",String(Math.max(1e3,Math.min(r,3e4))));const i=a.toString()?`?${a.toString()}`:"";return ot(`${Fe}/settings/live-clients/longpoll${i}`,{method:"GET",signal:n})},getLiveUsers:async()=>ot(`${Fe}/settings/live-users`,{method:"GET"}),getLiveUsersLongPoll:async(e,t=25e3,r)=>{const n=new URLSearchParams;e&&n.set("etag",String(e)),t&&Number.isFinite(t)&&n.set("timeoutMs",String(Math.max(1e3,Math.min(t,3e4))));const a=n.toString()?`?${n.toString()}`:"";return ot(`${Fe}/settings/live-users/longpoll${a}`,{method:"GET",signal:r})},getAdminUserProfile:async e=>{if(!e)throw new Error("userId is required");return ot(`${Fe}/settings/users/${encodeURIComponent(String(e))}`,{method:"GET"})},updateUserProfile:async(e,t)=>{if(!e)throw new Error("userId is required");return ot(`${Fe}/settings/users/${encodeURIComponent(String(e))}`,{method:"PATCH",body:JSON.stringify(t)})},getReportSettings:async()=>ot(`${Fe}/settings/reports`,{method:"GET"}),setSalesBySalesRepCsvDownloadedAt:async e=>ot(`${Fe}/settings/reports`,{method:"PUT",body:JSON.stringify({salesBySalesRepCsvDownloadedAt:e})})},VN="peppro_checkout_idempotency_v1",H3=7200*1e3,V3=()=>{try{if(typeof crypto<"u"&&"randomUUID"in crypto&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return`${Date.now()}-${Math.random().toString(16).slice(2)}${Math.random().toString(16).slice(2)}`},G3=()=>{try{const e=sessionStorage.getItem(VN);if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"||typeof t.key!="string"||!t.key.trim()||typeof t.fingerprint!="string"||!t.fingerprint.trim()||typeof t.createdAt!="number"||!Number.isFinite(t.createdAt)?null:{key:t.key,fingerprint:t.fingerprint,createdAt:t.createdAt}}catch{return null}},K3=e=>{try{sessionStorage.setItem(VN,JSON.stringify(e))}catch{}},Y3=()=>{try{sessionStorage.removeItem(VN)}catch{}},X3=e=>{const t=Array.isArray(e.items)?e.items.map((c,u)=>({productId:c?.productId??c?.id??c?.sku??`item-${u}`,variationId:c?.variationId??c?.variantId??c?.variation?.id??null,quantity:Number(c?.quantity)||0,price:Number(c?.price)||0})).sort((c,u)=>`${c.productId}:${c.variationId??""}`.localeCompare(`${u.productId}:${u.variationId??""}`)):[],r=e.shipping?.address||null,n=r?.postalCode||r?.postcode||null,a=r?.country||null,i=r?.state||null;return JSON.stringify({items:t,total:Number(e.total)||0,referralCode:e.referralCode||null,paymentMethod:e.paymentMethod||null,taxTotal:typeof e.taxTotal=="number"?e.taxTotal:null,shipping:{postalCode:n,country:a,state:i,shippingTotal:e.shipping?.shippingTotal??null}})},Q3=e=>{const t=Date.now(),r=G3();if(r&&r.fingerprint===e&&t-r.createdAt<H3)return r.key;const n=V3();return K3({key:n,fingerprint:e,createdAt:t}),n},ls={create:async(e,t,r,n,a,i,c,u,f)=>{const p=X3({items:e,total:t,referralCode:r,shipping:n,paymentMethod:u,taxTotal:c}),g=Q3(p),m=await ot(`${Fe}/orders/`,{method:"POST",headers:{"Idempotency-Key":g},body:JSON.stringify({items:e,total:t,referralCode:r,pricingMode:f??null,paymentMethod:u??null,shippingAddress:n?.address,shippingEstimate:n?.estimate,shippingTotal:n?.shippingTotal??null,expectedShipmentWindow:a??null,physicianCertification:i?.physicianCertification===!0,taxTotal:typeof c=="number"?c:null})});return m&&typeof m=="object"&&m.success===!0&&Y3(),m},estimateTotals:async(e,t)=>ot(`${Fe}/orders/estimate`,{method:"POST",body:JSON.stringify(e),signal:t?.signal}),cancelOrder:async(e,t)=>{if(!e)throw new Error("Order ID is required to cancel an order");return ot(`${Fe}/orders/${encodeURIComponent(e)}/cancel`,{method:"POST",body:JSON.stringify({reason:t||"Payment confirmation failed"})})},getAll:async e=>{const t=new URLSearchParams;e?.includeCanceled&&t.set("includeCanceled","true"),e?.force&&t.set("force","true");const r=t.toString(),n=r?`${Fe}/orders/?${r}`:`${Fe}/orders/`;return ot(n)},getForSalesRep:async e=>{const t=new URLSearchParams;e?.salesRepId&&t.set("salesRepId",e.salesRepId),e?.scope&&t.set("scope",e.scope),t.set("includeDoctors","true");const r=t.toString(),n=r?`${Fe}/orders/sales-rep?${r}`:`${Fe}/orders/sales-rep`;return ot(n)},getSalesByRepForAdmin:async e=>{const t=new URLSearchParams;e?.periodStart&&t.set("periodStart",e.periodStart),e?.periodEnd&&t.set("periodEnd",e.periodEnd);const r=t.toString(),n=r?`${Fe}/orders/admin/sales-rep-summary?${r}`:`${Fe}/orders/admin/sales-rep-summary`;return ot(n)},getTaxesByStateForAdmin:async e=>{const t=new URLSearchParams;e?.periodStart&&t.set("periodStart",e.periodStart),e?.periodEnd&&t.set("periodEnd",e.periodEnd);const r=t.toString(),n=r?`${Fe}/orders/admin/taxes-by-state?${r}`:`${Fe}/orders/admin/taxes-by-state`;return ot(n)},getProductSalesCommissionForAdmin:async e=>{const t=new URLSearchParams;e?.periodStart&&t.set("periodStart",e.periodStart),e?.periodEnd&&t.set("periodEnd",e.periodEnd);const r=t.toString(),n=r?`${Fe}/orders/admin/product-sales-commission?${r}`:`${Fe}/orders/admin/product-sales-commission`;return ot(n)},getAdminOrdersForUser:async e=>{if(!e)throw new Error("userId is required");return ot(`${Fe}/orders/admin/users/${encodeURIComponent(String(e))}`,{method:"GET"})},getSalesRepOrderDetail:async(e,t)=>{if(!e)throw new Error("orderId is required");const r=new URLSearchParams;if(t){const i=typeof t=="string"&&t.includes("@");i?r.set("doctorEmail",t):r.set("doctorId",String(t)),i?r.set("doctorId",String(t)):r.set("doctorEmail",String(t))}const n=r.toString(),a=n?`${Fe}/orders/sales-rep/${encodeURIComponent(e)}?${n}`:`${Fe}/orders/sales-rep/${encodeURIComponent(e)}`;return ot(a)},updateOrderNotes:async(e,t)=>{if(!e)throw new Error("orderId is required");return ot(`${Fe}/orders/${encodeURIComponent(String(e))}/notes`,{method:"PATCH",body:JSON.stringify({notes:t})})},updateOrderFields:async(e,t)=>{if(!e)throw new Error("orderId is required");return ot(`${Fe}/orders/${encodeURIComponent(String(e))}`,{method:"PATCH",body:JSON.stringify(t||{})})},downloadInvoice:async e=>{if(!e)throw new Error("orderId is required");return HN(`${Fe}/orders/${encodeURIComponent(String(e))}/invoice`,{method:"GET",cache:"no-store"})}},Rd={listCertificateProducts:async()=>ot(`${Fe}/woo/certificates/products`,{method:"GET",cache:"no-store"}),listMissingCertificates:async()=>ot(`${Fe}/woo/certificates/missing`,{method:"GET",cache:"no-store"}),getProduct:async e=>{if(!e)throw new Error("productId is required");return ot(`${Fe}/woo/products/${encodeURIComponent(String(e))}`,{method:"GET",cache:"force-cache",headers:{"Cache-Control":"public, max-age=300",Pragma:""}})},getProductVariation:async(e,t)=>{if(!e)throw new Error("productId is required");if(!t)throw new Error("variationId is required");return ot(`${Fe}/woo/products/${encodeURIComponent(String(e))}/variations/${encodeURIComponent(String(t))}`,{method:"GET",cache:"force-cache",headers:{"Cache-Control":"public, max-age=300",Pragma:""}})},getCertificateOfAnalysis:async e=>{if(!e)throw new Error("productId is required");return HN(`${Fe}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis`,{method:"GET",cache:"no-store"})},getCertificateOfAnalysisInfo:async e=>{if(!e)throw new Error("productId is required");return ot(`${Fe}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis/info`,{method:"GET",cache:"no-store"})},uploadCertificateOfAnalysis:async(e,t)=>{if(!e)throw new Error("productId is required");const r=`${Fe}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis`;if("file"in t){const n=new FormData;return n.append("file",t.file,t.filename||t.file.name||"certificate-of-analysis"),NI(r,{method:"POST",body:n})}if(!t?.dataUrl)throw new Error("dataUrl is required");return ot(r,{method:"POST",body:JSON.stringify({data:t.dataUrl,filename:t.filename})})},deleteCertificateOfAnalysis:async e=>{if(!e)throw new Error("productId is required");return ot(`${Fe}/woo/products/${encodeURIComponent(String(e))}/certificate-of-analysis`,{method:"DELETE"})}},jI={getRates:async e=>ot(`${Fe}/shipping/rates`,{method:"POST",body:JSON.stringify(e)})},Z3={confirmStripeIntent:async e=>ot(`${Fe}/payments/stripe/confirm`,{method:"POST",body:JSON.stringify({paymentIntentId:e})})},da={submitDoctorReferral:async e=>ot(`${Fe}/referrals/doctor/referrals`,{method:"POST",body:JSON.stringify(e)}),getDoctorSummary:async()=>ot(`${Fe}/referrals/doctor/summary`),getDoctorLedger:async()=>ot(`${Fe}/referrals/doctor/ledger`),getSalesRepDashboard:async e=>{const t=new URLSearchParams;e?.salesRepId&&t.set("salesRepId",e.salesRepId),e?.scope&&t.set("scope",e.scope);const r=t.toString(),n=r?`${Fe}/referrals/admin/dashboard?${r}`:`${Fe}/referrals/admin/dashboard`;return ot(n)},createReferralCode:async e=>ot(`${Fe}/referrals/admin/referrals/code`,{method:"POST",body:JSON.stringify({referralId:e})}),updateCodeStatus:async(e,t)=>ot(`${Fe}/referrals/admin/codes/${e}`,{method:"PATCH",body:JSON.stringify({status:t})}),updateReferral:async(e,t)=>ot(`${Fe}/referrals/admin/referrals/${e}`,{method:"PATCH",body:JSON.stringify(t)}),getSalesProspect:async e=>ot(`${Fe}/referrals/admin/sales-prospects/${encodeURIComponent(e)}`),upsertSalesProspect:async(e,t)=>ot(`${Fe}/referrals/admin/sales-prospects/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)}),uploadResellerPermit:async(e,t)=>{const r=new FormData;return r.append("file",t),NI(`${Fe}/referrals/admin/sales-prospects/${encodeURIComponent(e)}/reseller-permit`,{method:"POST",body:r})},downloadResellerPermit:async e=>HN(`${Fe}/referrals/admin/sales-prospects/${encodeURIComponent(e)}/reseller-permit`,{method:"GET"}),deleteResellerPermit:async e=>ot(`${Fe}/referrals/admin/sales-prospects/${encodeURIComponent(e)}/reseller-permit`,{method:"DELETE"}),createManualProspect:async e=>ot(`${Fe}/referrals/admin/manual`,{method:"POST",body:JSON.stringify(e)}),deleteManualProspect:async e=>ot(`${Fe}/referrals/admin/manual/${e}`,{method:"DELETE"}),deleteDoctorReferral:async e=>{try{return await ot(`${Fe}/referrals/doctor/referrals/${e}`,{method:"DELETE"})}catch(t){if(t?.status===404)return{deleted:!0};throw t}},getReferralCodes:async()=>ot(`${Fe}/referrals/admin/codes`),addManualCredit:async e=>ot(`${Fe}/referrals/admin/credits`,{method:"POST",body:JSON.stringify(e)})},kd=async()=>{try{return(await fetch(`${Fe}/health`)).ok}catch{return!1}},iS={getPeptideHeadlines:async()=>{const e=Date.now(),t=await fetch(`${Fe}/news/peptides?_ts=${e}`,{headers:{Accept:"application/json"},credentials:"include"});if(!t.ok){if(t.status===404)return{items:[],count:0};throw new Error(`Failed to fetch peptide news (${t.status})`)}return t.json()}},_I={getQuoteOfTheDay:async()=>{const e=await fetch(`${Fe}/quotes/daily`,{headers:{Accept:"application/json"},credentials:"include"});if(!e.ok)throw new Error(`Failed to fetch quote (${e.status})`);return e.json()}},CI={listPeptideForum:async()=>{const e=await fetch(`${Fe}/forum/the-peptide-forum?_ts=${Date.now()}`,{headers:{Accept:"application/json"},credentials:"include"});if(!e.ok){const t=await e.text().catch(()=>"");throw new Error(t||`Forum request failed (${e.status})`)}return e.json()}},oS={request:async e=>ot(`${Fe}/password-reset/request`,{method:"POST",body:JSON.stringify({email:e})}),reset:async(e,t)=>ot(`${Fe}/password-reset/reset`,{method:"POST",body:JSON.stringify({token:e,password:t})})},J3={getAll:async()=>ot(`${Fe}/contact`)},EI={post:async(e,t)=>{const r=bp(),n=e.startsWith("http://")||e.startsWith("https://")?e:`${Fe}${e.startsWith("/")?e:`/${e}`}`,a={"Content-Type":"application/json"};return r&&(a.Authorization=`Bearer ${r}`),fetch(n,{method:"POST",headers:a,body:JSON.stringify(t??{})})}},F0=Object.freeze(Object.defineProperty({__proto__:null,API_BASE_URL:Fe,api:EI,authAPI:li,checkServerHealth:kd,contactFormsAPI:J3,forumAPI:CI,newsAPI:iS,ordersAPI:ls,passwordResetAPI:oS,paymentsAPI:Z3,quotesAPI:_I,referralAPI:da,settingsAPI:cn,shippingAPI:jI,wooAPI:Rd},Symbol.toStringTag,{value:"Module"})),e9={},t9=String(e9?.VITE_PROXY_WOO_MEDIA||"").toLowerCase()!=="false",r9=Fe.replace(/\/+$/,""),vy=e=>e?t9?`${r9}/woo/media?src=${encodeURIComponent(e)}`:e:null,q_="__peppro_tab_id__",n9=e=>{try{return window.sessionStorage.getItem(e)}catch{return null}},a9=(e,t)=>{try{window.sessionStorage.setItem(e,t)}catch{}},AI=e=>{try{return window.localStorage.getItem(e)}catch{return null}},s9=(e,t)=>{try{window.localStorage.setItem(e,t)}catch{}},i9=e=>{try{window.localStorage.removeItem(e)}catch{}},o9=()=>`tab_${typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Math.random().toString(16).slice(2)}${Date.now().toString(16)}`}`,GN=()=>{if(typeof window>"u")return"server";const e=n9(q_);if(e)return e;const t=o9();return a9(q_,t),t},PI=e=>`peppro:lock:${e}`,cl=(e,t)=>{if(typeof window>"u")return!0;const r=Math.max(5e3,Number.isFinite(t)?t:15e3),n=PI(e),a=GN(),i=Date.now();let c=null;const u=AI(n);if(u)try{c=JSON.parse(u)}catch{c=null}if(!c||typeof c.expiresAt!="number"||c.expiresAt<=i||!c.tabId||c?.tabId===a){const p={tabId:a,expiresAt:i+r,updatedAt:i};return s9(n,JSON.stringify(p)),!0}return!1},$i=e=>{if(typeof window>"u")return;const t=PI(e),r=GN(),n=AI(t);if(n)try{JSON.parse(n)?.tabId===r&&i9(t)}catch{}},wv=e=>(e||"").toLowerCase(),U_=e=>wv(e)==="admin",z_=e=>{const t=wv(e);return t!=="admin"&&(t==="sales_rep"||t==="rep")},W_=e=>{const t=wv(e);return t==="doctor"||t==="test_doctor"},l9=({activeBars:e})=>{const t=Math.max(0,Math.min(e,3)),r="rgb(30, 41, 59)",n="rgb(203, 213, 225)",a=[{x:2,y:9,w:4,h:4},{x:8,y:6,w:4,h:7},{x:14,y:3,w:4,h:10}];return l.jsx("svg",{width:"22",height:"14",viewBox:"0 0 20 14",fill:"none","aria-hidden":"true",children:a.map((i,c)=>{const u=c<t;return l.jsx("rect",{x:i.x,y:i.y,width:i.w,height:i.h,rx:"1",fill:u?r:n},c)})})},c9=(e,t)=>{const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,n.rel="noopener noreferrer",document.body.appendChild(n),n.click(),n.remove(),window.setTimeout(()=>URL.revokeObjectURL(r),1500)},u9=(e,t)=>{const r=t?.maxSize,n=t?.quality;return new Promise((i,c)=>{const u=new Image;u.onload=()=>i(u),u.onerror=c,u.src=URL.createObjectURL(e)}).then(i=>{const{naturalWidth:c,naturalHeight:u,src:f}=i,p=Math.min(1,r/Math.max(c,u)),g=Math.max(1,Math.round(c*p)),m=Math.max(1,Math.round(u*p)),x=document.createElement("canvas");x.width=g,x.height=m;const N=x.getContext("2d");if(!N)throw URL.revokeObjectURL(f),new Error("Unable to get canvas context");N.drawImage(i,0,0,g,m);const A=x.toDataURL("image/jpeg",n);return URL.revokeObjectURL(f),A})},H_=e=>{if(!e)return"Pending";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"})},wo=(e,t="USD")=>{if(e==null||Number.isNaN(e))return"";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}catch{return`$${e.toFixed(2)}`}},Cr=(e,t=0)=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const r=parseFloat(e);return Number.isNaN(r)?t:r}return t},kI=e=>{if(!e)return null;const t=e.replace(/[_-]+/g," ").trim();return t?t.replace(/\b\w/g,r=>r.toUpperCase()):null},d9=e=>{if(!e)return"PP";const t=new Set(["mr","mrs","ms","miss","mx","dr","doctor","prof","prof.","sir","madam"]),r=new Set(["jr","sr","ii","iii","iv","v"]),n=e.split(/\s+/).map(u=>u.replace(/[.,]/g,"").trim()).filter(Boolean),a=n.filter((u,f)=>{const p=u.toLowerCase();return!(t.has(p)||f===n.length-1&&r.has(p))});if(a.length===0)return"PP";const i=a[0]?.[0]||"",c=a.length>1&&a[a.length-1]?.[0]||"";return(i+c).toUpperCase()||"PP"},fa=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},f9=(e,t)=>{if(!e)return null;const r=(t||"").toLowerCase(),n=encodeURIComponent(e);return r.includes("ups")?`https://www.ups.com/track?loc=en_US&tracknum=${n}`:r.includes("usps")?`https://tools.usps.com/go/TrackConfirmAction?tLabels=${n}`:r.includes("fedex")?`https://www.fedex.com/fedextrack/?trknbr=${n}`:r.includes("dhl")?`https://www.dhl.com/en/express/tracking.html?AWB=${n}`:`https://www.google.com/search?q=${n}`},zg=e=>{if(!e)return null;const t=e?.number||e?.id||e?.wooOrderNumber||e?.orderNumber||"unknown";let r=null;const n=e?.trackingNumber||e?.tracking_number||e?.tracking||null;if(n&&(r=String(n)),!r){const a=fa(e.integrationDetails||e.integrations),i=fa(a?.shipStation||a?.shipstation),c=i?.trackingNumber||i?.tracking_number||i?.tracking||null;if(c&&(r=String(c)),!r){const u=i?.shipments||i?.shipment||i?.data?.shipments||[];if(Array.isArray(u)){const f=x=>x?.trackingNumber||x?.tracking_number||x?.tracking||null,p=u.find(x=>x&&x.voided===!1&&f(x)),g=u.find(x=>x&&f(x)),m=p||g;m&&(r=String(f(m)))}}}return r?(console.info("[Tracking] Resolved tracking number",{order:t,tracking:r}),r):null},p9=["processing","completed","complete","shipped","in-transit","in_transit","out-for-delivery","out_for_delivery","delivered","fulfilled"],V_=e=>{if(!e)return!1;const t=e.toLowerCase();return p9.some(r=>t.includes(r))},G_=e=>{const t=e.shippingEstimate;if(!t)return null;if(t.estimatedArrivalDate){const r=new Date(t.estimatedArrivalDate);if(!Number.isNaN(r.getTime()))return r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}if(t.deliveryDateGuaranteed){const r=new Date(t.deliveryDateGuaranteed);if(!Number.isNaN(r.getTime()))return r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}if(t.estimatedDeliveryDays&&Number.isFinite(t.estimatedDeliveryDays)){const r=e.createdAt?new Date(e.createdAt):new Date;if(!Number.isNaN(r.getTime())){const n=new Date(r.getTime());return n.setDate(n.getDate()+Number(t.estimatedDeliveryDays)),n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}return null},m9=e=>e&&kI(e.serviceType||e.serviceCode)||null,h9=new Set(["pending","on-hold","failed","payment_failed","processing"]),Vm=e=>{if(!e)return null;if(typeof e=="string")try{return JSON.parse(e)}catch{return null}return typeof e=="object"?e:null},K_=e=>{if(!e)return null;const t=e.first_name||"",r=e.last_name||"";return{name:[t,r].filter(Boolean).join(" ").trim()||e.name||null,company:e.company||null,addressLine1:e.address_1||e.addressLine1||null,addressLine2:e.address_2||e.addressLine2||null,city:e.city||null,state:e.state||null,postalCode:e.postcode||e.postal_code||e.postalCode||null,country:e.country||null,phone:e.phone||null,email:e.email||null}},Y_=e=>{if(!e)return l.jsx("p",{className:"text-sm text-slate-500",children:"No address available."});const t=[],r=a=>{if(typeof a!="string")return;const i=a.trim();i&&t.push({key:i,node:i})};r(e.name||null),r(e.company||null),r([e.addressLine1,e.addressLine2].filter(Boolean).join(" ").trim()||null),r([e.city,e.state,e.postalCode].filter(Boolean).join(", ").replace(/, ,/g,", ").replace(/^,/,"").trim()||null),r(e.country||null),r(e.phone?`Phone: ${e.phone}`:null);const n=typeof e.email=="string"?e.email.trim():"";return n&&t.push({key:`email-${n}`,node:l.jsxs(l.Fragment,{children:["Email: ",l.jsx("a",{href:`mailto:${n}`,children:n})]})}),t.length?l.jsx("div",{className:"text-sm text-slate-700 space-y-1 text-left",children:t.map((a,i)=>l.jsx("p",{children:a.node},`${a.key}-${i}`))}):l.jsx("p",{className:"text-sm text-slate-500",children:"No address available."})},X_=e=>{const t=e.trim();if(!t)return t;const[r,n=""]=t.split("?"),a=r.match(/^(.*)-(\d{2,4})x(\d{2,4})(\.[a-zA-Z0-9]+)$/);if(!a)return t;const i=`${a[1]}${a[4]}`;return n?`${i}?${n}`:i},No=e=>{if(typeof e=="string"&&e.trim().length>0)return vy(X_(e));if(e&&typeof e=="object"){const t=e.src||e.url||e.href||e.source;if(typeof t=="string"&&t.trim().length>0)return vy(X_(t))}return null},dl=e=>{if(e==null)return null;if(typeof e=="number"&&Number.isFinite(e))return String(e);if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},g9=(e,t=[])=>{if(!Array.isArray(t)||t.length===0)return null;const r=e.sku?.trim(),n=e.name?.trim().toLowerCase(),a=dl(e.productId)||dl(e?.product_id),i=dl(e.variantId)||dl(e?.variation_id);return t.find(c=>{if(!c)return!1;const u=typeof c.sku=="string"?c.sku.trim():null;if(r&&u&&r===u)return!0;const f=dl(c.product_id);if(a&&f&&a===f)return!0;const p=dl(c.variation_id);if(i&&p&&i===p)return!0;const g=typeof c.name=="string"?c.name.trim().toLowerCase():null;return!!(n&&g&&n===g)})},B0=(e,t=[])=>{const r=No(e?.image)||No(e?.imageUrl)||No(e?.thumbnail);if(r)return r;const n=g9(e,t);if(!n)return null;const a=No(n?.image)||No(n?.product_image)||No(n?.image_url);if(a)return a;const i=Array.isArray(n?.meta_data)?n.meta_data:[];for(const c of i){const u=No(c?.value);if(u)return u;if(typeof c?.value=="string"&&c.value.trim().length>0)return c.value.trim()}return null},y9=e=>e?e.trim().toLowerCase()==="trash"?"Canceled":e.split(/[_\s]+/).map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "):"Pending",il=e=>{if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},OI=e=>{const t=String(e||"").trim().toLowerCase();return t==="refunded"||t==="cancelled"||t==="canceled"||t==="trash"},v9=e=>{if(!e)return null;const r=(e.status?String(e.status):"").trim(),n=r.toLowerCase();if(OI(r)||n==="completed"||n==="complete"||n==="processing"||n==="pending"||n==="on-hold"||n==="on_hold"||n==="failed")return r.length>0?r:null;const a=e.shippingEstimate?.status||e.integrationDetails?.shipStation?.status,i=a?String(a).trim():"",c=i.toLowerCase(),u=c.includes("in_transit")||c.includes("in-transit")||c.includes("out_for_delivery")||c.includes("out-for-delivery")||c.includes("delivered")||c.includes("awaiting_shipment")||c.includes("awaiting shipment")||c.includes("shipped");return i&&u?i:r.length>0?r:null},Q_=e=>{const t=v9(e),n=(t?String(t):"").trim().toLowerCase();if(n==="trash"||n==="canceled"||n==="cancelled")return"Canceled";if(n==="refunded")return"Refunded";const a=typeof e?.trackingNumber=="string"?e.trackingNumber.trim():"",i=e?.shippingEstimate?.estimatedArrivalDate||null,c=typeof i=="string"&&i.trim().length>0;return n==="shipped"?a&&!c?"Processing":"Shipped":n.includes("out_for_delivery")||n.includes("out-for-delivery")?"Out for Delivery":n.includes("in_transit")||n.includes("in-transit")?"In Transit":n.includes("delivered")?"Delivered":a&&!c?"Processing":a&&c?"Shipped":n==="processing"?"Order Received":n==="completed"||n==="complete"?"Completed":n==="awaiting_shipment"||n==="awaiting shipment"?"Order Received":t?y9(t):"Pending"},b9=e=>{if(!e)return"Updated a few moments ago";const t=new Date(e),r=Date.now(),n=t.getTime();if(Number.isNaN(n))return`Updated ${e}`;const a=Math.max(0,r-n);if(a<9e4)return"Updated a few moments ago";const i=Math.floor(a/1e3),c=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let u=i;const f=[];for(const p of c){const g=Math.floor(u/p.seconds);if(g>0&&(f.push(`${g}${p.label}`),u-=g*p.seconds),f.length>=2)break}return f.length?`Updated ${f.join(" ")} ago`:"Updated a few moments ago"};function x9({user:e,researchDashboardEnabled:t=!1,onLogin:r,onLogout:n,cartItems:a,onSearch:i,onCreateAccount:c,onCartClick:u,loginPromptToken:f,loginContext:p=null,showCartIconFallback:g=!1,onShowInfo:m,onUserUpdated:x,accountOrders:N=[],accountOrdersLoading:A=!1,accountOrdersError:C=null,ordersLastSyncedAt:_,onRefreshOrders:O,accountModalRequest:R=null,showCanceledOrders:D=!1,onToggleShowCanceled:$,onBuyOrderAgain:k,onCancelOrder:M,referralCodes:L=[],catalogLoading:B=!1}){const V="rgb(95, 179, 249)",J="rgba(95, 179, 249, 0.18)",[K,ce]=y.useState(!1),[ue,de]=y.useState(""),[G,ne]=y.useState(""),[pe,Y]=y.useState("login"),[he,ve]=y.useState(""),[U,Q]=y.useState(""),[fe,je]=y.useState(""),[Ie,qe]=y.useState(""),[Ve,Me]=y.useState(""),[Ae,We]=y.useState(""),et=y.useRef(null),[Ee,lt]=y.useState(""),[wt,ht]=y.useState(""),[_t,Re]=y.useState(!1),[Ue,tt]=y.useState("details"),[rt,Ct]=y.useState(!1),[gt,fr]=y.useState(!1),[en,Sr]=y.useState(null),[Qt,Wt]=y.useState(!1),[ds,Lr]=y.useState(!1),Lt=y.useRef(null),[fn,Zt]=y.useState(!1),[tn,Kr]=y.useState(!1),[Pa,gr]=y.useState(!1),[ea,Jt]=y.useState(!1),[$r,pn]=y.useState(!1),[Ha,_n]=y.useState(!1),[ka,bt]=y.useState(0),[Vt,Gt]=y.useState(250),Kt=y.useRef(0),Ht=y.useRef([]),qt=y.useRef(null),er=y.useRef(!1),Fr=y.useRef(!1),[Ar,Br]=y.useState({orderId:"",email:""}),[rn,yr]=y.useState(!1),[Va,$s]=y.useState(null),ko=y.useRef(null),[fs,jl]=y.useState("fair"),[mn,pi]=y.useState({downloadMbps:null,uploadMbps:null,latencyMs:null,measuredAt:null}),[Nr,Ga]=y.useState(e),Ac=y.useRef(null),[ze,me]=y.useState(null),[Be,Nt]=y.useState(Array.isArray(N)?N:[]),at=y.useRef(Array.isArray(N)?N:[]),[st,Ot]=y.useState(null),[It,jr]=y.useState({}),qr=y.useRef({}),nn=y.useRef(new Set),zt=y.useRef({active:0,queue:[]}),an=y.useRef(null),Ur=y.useRef(null),Oa=y.useRef(null),hn=Ue==="research"&&rt,ps=y.useCallback(()=>{Oa.current!==null&&(clearTimeout(Oa.current),Oa.current=null)},[]),ta=y.useCallback((X=!1)=>{if(ps(),fr(!1),X){Ct(!1),Sr(null);return}Oa.current=window.setTimeout(()=>{Ct(!1),Sr(null),Oa.current=null},320)},[ps]),Qp=y.useCallback(()=>{ps();const X=an.current,se=Ur.current;if(X&&se){const xe=X.getBoundingClientRect(),Ce=se.getBoundingClientRect();Sr({top:xe.top-Ce.top,left:xe.left-Ce.left,width:xe.width,height:xe.height})}else Sr(null);fr(!1),Ct(!0),requestAnimationFrame(()=>fr(!0))},[ps]),Wi=y.useCallback(()=>{if(rt){ta();return}Qp()},[ta,Qp,rt]);y.useEffect(()=>{Ue!=="research"&&ta(!0)},[Ue,ta]),y.useEffect(()=>{_t||ta(!0)},[_t,ta]),y.useEffect(()=>()=>ps(),[ps]);const mi=y.useRef(null),ms=y.useRef(null),Pr=y.useRef(null),_l=y.useRef(""),Hi=y.useRef({}),Fs=y.useRef(null),[Pc,kc]=y.useState(!1),[hs,Cl]=y.useState(0),[Oo,Ut]=y.useState(!1),Oc=y.useRef(!1),Vi=y.useRef(null);y.useEffect(()=>{const X={offline:0,poor:1,fair:2,good:3};let se=!0;const xe={current:null},Ce={current:null},He={current:0},ke={current:0},ut={current:null},Pt={current:null},Tt={current:"fair"},yn={current:0},sn={current:0},Tn={current:0},bs={current:0},ra={current:null};let na=null,Si=null,Ra=null,qn=null,Ke=null,xs=0,Un=0;const ws=yt=>{if(!yt)return"";const dt=yt?.message;if(typeof dt=="string")return dt;try{return String(yt)}catch{return""}},Or=yt=>{const dt=ws(yt).toLowerCase();return dt?dt.includes("appears to be offline")||dt.includes("internet connection")||dt.includes("not connected to the internet")||dt.includes("network request failed")||dt.includes("failed to fetch")||dt.includes("load failed")||dt.includes("offline"):!1},vn=()=>{bs.current=Date.now(),Tn.current=0,sn.current=0},Ys=()=>Tn.current<2?!1:bs.current?Date.now()-bs.current>9e3:!0,zn=yt=>{let dt=null;for(const kt of yt)kt&&(!dt||X[kt]<X[dt])&&(dt=kt);return dt??"fair"},or=()=>{const yt=(()=>{if(xe.current==="offline"||Ce.current==="offline")return"offline";const dt=!!Pt.current;return zn(dt?[xe.current,Ce.current,ut.current,Pt.current]:[xe.current,Ce.current,ut.current])})();Tt.current=yt,se&&jl(yt)},aa=yt=>{const dt=typeof yt.at=="number"?yt.at:Date.now();if(yt.ok){He.current=dt,ke.current=0,Ce.current=null,or();return}ke.current+=1;const kt=typeof yt.status=="number"?yt.status:null,tr=typeof yt.message=="string"?yt.message.toLowerCase():"";if(!(kt===429||kt===500||kt===502||kt===503||kt===504||tr.includes("failed to fetch")||tr.includes("load failed")))return;const zr=He.current>0&&dt-He.current<9e3;Ce.current=ke.current>=2&&!zr?"offline":"poor",or()},es=()=>{if(typeof navigator>"u")return null;if(navigator.onLine===!1)return"offline";const yt=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!yt)return null;const dt=String(yt.effectiveType||"").toLowerCase(),kt=typeof yt.downlink=="number"?yt.downlink:null,tr=typeof yt.rtt=="number"?yt.rtt:null;if(!!yt.saveData||dt==="slow-2g"||dt==="2g")return"poor";if(dt==="3g")return"fair";if(dt==="4g")return"good";if(typeof kt=="number"&&kt>0){if(kt<1)return"poor";if(kt<2)return"fair";if(kt>=8)return"good"}if(typeof tr=="number"){if(tr>900)return"poor";if(tr>450)return"fair";if(tr<=200)return"good"}return"fair"},Ss=async()=>{if(typeof navigator>"u")return null;if(navigator.onLine===!1)return"offline";const yt=xs+=1,dt=performance.now(),kt=1800;qn&&qn.abort();const tr=new AbortController;qn=tr;const Qr=window.setTimeout(()=>tr.abort(),kt);try{const zr=await fetch(`/index.html?ping=1&t=${Date.now()}`,{method:"GET",cache:"no-store",signal:tr.signal,headers:{"Cache-Control":"no-cache"}});await zr.text();const rr=performance.now()-dt;return!se||yt!==xs?null:(vn(),ra.current=Math.round(rr),pi(ya=>({...ya,latencyMs:Math.round(rr),measuredAt:Date.now()})),zr.ok?rr>2200?"poor":rr>900?"fair":"good":rr>1400?"poor":"fair")}catch(zr){return!se||yt!==xs?null:zr?.name==="AbortError"?(Tn.current+=1,Ys()?"offline":"poor"):zr instanceof TypeError&&(Or(zr)||(sn.current+=1,sn.current>=2))||Or(zr)?"offline":"poor"}finally{window.clearTimeout(Qr)}},Ni=async()=>{if(typeof navigator>"u")return{downloadMbps:null,quality:null};if(navigator.onLine===!1)return{downloadMbps:null,quality:"offline"};const yt=Un+=1,dt=5200;Ke&&Ke.abort();const kt=new AbortController;Ke=kt;const tr=window.setTimeout(()=>kt.abort(),dt),Qr=async rr=>{const ya=performance.now(),In=await fetch(rr.url,{method:"GET",cache:"no-store",signal:kt.signal,headers:{"Cache-Control":"no-cache"}});if(!se||yt!==Un||!In.ok)return null;const Ns=zr();let Qs=0,js=0;if(In.body&&typeof In.body.getReader=="function"){const ji=In.body.getReader();try{for(;Qs<Ns;){const{done:_s,value:$u}=await ji.read();if(_s)break;Qs+=$u?.byteLength??0}js=performance.now()-ya}catch{js=performance.now()-ya}finally{try{await ji.cancel()}catch{}}}else{const ji=await In.arrayBuffer();Qs=Math.min(ji.byteLength,Ns),js=performance.now()-ya}return!Qs||js<=0?null:Qs*8/(js/1e3)/1e6},zr=()=>{const rr=ra.current;return typeof rr=="number"&&rr>1400?14e4:32e4};try{const rr=await Qr({url:`/leafTexture.jpg?networkTest=1&t=${Date.now()}`});if(!se||yt!==Un)return{downloadMbps:null,quality:null};const ya=typeof rr=="number"&&Number.isFinite(rr);if(!ya)return sn.current+=1,{downloadMbps:null,quality:sn.current>=2?"offline":"poor"};vn();const In=ya?rr:null,Ns=ra.current;pi({downloadMbps:In?Math.round(In*10)/10:null,uploadMbps:null,latencyMs:typeof Ns=="number"?Ns:null,measuredAt:Date.now()});const Qs=typeof In=="number"&&In<.8,js=typeof Ns=="number"&&Ns>2500;if(Qs||js)return{downloadMbps:In,quality:"poor"};const Il=typeof In=="number"&&In<2,ji=typeof Ns=="number"&&Ns>900;return Il||ji?{downloadMbps:In,quality:"fair"}:{downloadMbps:In,quality:"good"}}catch(rr){if(!se||yt!==Un)return{downloadMbps:null,quality:null};if(rr?.name==="AbortError")return Tn.current+=1,{downloadMbps:null,quality:Ys()?"offline":"poor"};if(rr instanceof TypeError){if(Or(rr))return{downloadMbps:null,quality:"offline"};if(sn.current+=1,sn.current>=2)return{downloadMbps:null,quality:"offline"}}return{downloadMbps:null,quality:Or(rr)?"offline":"poor"}}finally{window.clearTimeout(tr)}},Wn=()=>{xe.current=es(),or()},Xs=async()=>{const yt=await Ss();se&&(ut.current=yt,or())},Ma=async()=>{const yt=Date.now(),dt=Tt.current==="poor"||Tt.current==="offline"?3e4:75e3;if(yt-yn.current<dt)return;yn.current=yt;const kt=await Ni();se&&(Pt.current=kt.quality,or())},Xr=()=>{Ra&&window.clearTimeout(Ra),document.visibilityState==="visible"&&(Ra=window.setTimeout(()=>{Xs(),Ma()},50))};Wn(),Xs(),Ma(),window.addEventListener("online",Wn),window.addEventListener("offline",Wn);const lr=yt=>{const dt=yt?.detail;dt&&typeof dt.ok=="boolean"?aa(dt):aa({ok:!1})};window.addEventListener("peppro:api-reachability",lr),document.addEventListener("visibilitychange",Xr);const pr=navigator?.connection;return pr&&typeof pr.addEventListener=="function"&&pr.addEventListener("change",Wn),na=window.setInterval(()=>{document.visibilityState==="visible"&&Xs()},5e3),Si=window.setInterval(()=>{document.visibilityState==="visible"&&Ma()},3e4),()=>{se=!1,na&&window.clearInterval(na),Si&&window.clearInterval(Si),Ra&&window.clearTimeout(Ra),qn&&qn.abort(),Ke&&Ke.abort(),window.removeEventListener("online",Wn),window.removeEventListener("offline",Wn),window.removeEventListener("peppro:api-reachability",lr),document.removeEventListener("visibilitychange",Xr),pr&&typeof pr.removeEventListener=="function"&&pr.removeEventListener("change",Wn)}},[]);const Bs=y.useCallback(X=>{if(!X)return;const se=xe=>xe?String(xe).trim():null;Nt(xe=>xe.some(Ce=>se(Ce.id)===se(X.id)||se(Ce.wooOrderId)===se(X.wooOrderId)||se(Ce.wooOrderNumber)===se(X.wooOrderNumber)||se(Ce.number)===se(X.number))?xe:[X,...xe])},[]),qs=y.useCallback(()=>{const X=Hi.current;X.email!==void 0&&mi.current&&(mi.current.value=X.email,X.email=void 0),X.password!==void 0&&ms.current&&(ms.current.value=X.password,X.password=void 0)},[]),hi=y.useCallback(X=>{X.email!==void 0&&(Hi.current.email=X.email),X.password!==void 0&&(Hi.current.password=X.password),qs()},[qs]),El=y.useCallback(async()=>{if(!Oc.current){Oc.current=!0;try{const X=await yI();X&&hi({email:X.id,password:X.password})}finally{Oc.current=!1}}},[hi]),Tc=y.useCallback(()=>{!K||pe!=="login"||El()},[El,K,pe]);y.useEffect(()=>{R&&(R.token&&R.token===Vi.current||(Vi.current=R.token??Date.now(),console.debug("[Header] Processing account modal request",R),R.order&&(Bs(R.order),me(R.order)),R.tab&&tt(R.tab),(R.open||R.order)&&Re(!0)))},[R,Bs]),y.useEffect(()=>{Ga(e)},[e]),y.useEffect(()=>{if(!K||pe!=="login")return;const X=requestAnimationFrame(()=>{qs()});return()=>cancelAnimationFrame(X)},[K,pe,qs]),y.useEffect(()=>{_t||tt("details")},[_t]);const Gi=Nr?.role??e.role,Ka=U_(Gi),Us=z_(Gi),Ya=Nr?Ka?`Admin: ${Nr.name}`:Us?`Rep: ${Nr.name}`:Nr.name:"",zs=Nr?.profileImageUrl||e.profileImageUrl||null,Ki=d9(Nr?.name||e.name||Ya),To=(Array.isArray(L)?L.map(X=>X==null?"":String(X).trim().toUpperCase()).filter((X,se,xe)=>X.length>0&&xe.indexOf(X)===se):[])[0]||null,tf=(Ka||Us)&&!!To,ga=y.useRef(null),[Ru,Al]=y.useState(0),[Pl,Mu]=y.useState(0),[Zp,Io]=y.useState(0),Cn=y.useRef({isDragging:!1,startX:0,scrollLeft:0}),Yi=(X=32,se="")=>{const xe=typeof X=="number"?`${X}px`:X,Ce=typeof X=="number"?X:null,He=Ce?`${Math.max(12,Math.round(Ce*.45))}px`:void 0;return zs?l.jsx("img",{src:zs,alt:`${Ya||Nr?.name||e.name} avatar`,className:Et("header-avatar-image",se),style:{width:xe,height:xe},onError:()=>{x&&Nr&&x({...Nr,profileImageUrl:null})}}):l.jsx("div",{className:Et("header-avatar-image header-avatar-fallback",se),style:{width:xe,height:xe,fontSize:He},"aria-hidden":"true",children:Ki})},Xa=y.useCallback(()=>{const X=ga.current;if(!X)return;const se=X.querySelector(`button[data-tab="${Ue}"]`);if(!se)return;const xe=8,Ce=X.scrollLeft||0,He=Math.max(0,se.offsetLeft-Ce+xe),ke=Math.max(0,se.offsetWidth-xe*2);Al(He),Mu(ke),Io(1)},[Ue]);y.useLayoutEffect(()=>{const X=requestAnimationFrame(()=>{Xa()});return()=>cancelAnimationFrame(X)},[Xa,_t,Ue]),y.useEffect(()=>{const X=()=>Xa();return window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[Xa]),y.useEffect(()=>{const X=ga.current;if(!X)return;const se=()=>{Xa()};return X.addEventListener("scroll",se,{passive:!0}),()=>{X.removeEventListener("scroll",se)}},[Xa]);const Jp=X=>{if(X.button!==0)return;const se=ga.current;se&&(Cn.current.isDragging=!0,Cn.current.startX=X.clientX,Cn.current.scrollLeft=se.scrollLeft,se.classList.add("is-dragging"))},rf=X=>{const se=ga.current;if(!se||!Cn.current.isDragging)return;X.preventDefault();const xe=X.clientX-Cn.current.startX;se.scrollLeft=Cn.current.scrollLeft-xe},gn=()=>{const X=ga.current;Cn.current.isDragging=!1,X&&X.classList.remove("is-dragging")},kl=()=>{gn()},En=()=>{gn()},Xi=X=>{const se=ga.current;if(!se||X.touches.length!==1)return;const xe=X.touches[0];Cn.current.isDragging=!0,Cn.current.startX=xe.clientX,Cn.current.scrollLeft=se.scrollLeft},Ta=X=>{const se=ga.current;if(!se||!Cn.current.isDragging)return;const Ce=X.touches[0].clientX-Cn.current.startX;se.scrollLeft=Cn.current.scrollLeft-Ce},Ic=()=>{gn()},gi=X=>{const se=ga.current;se&&Math.abs(X.deltaY)>Math.abs(X.deltaX)&&(se.scrollLeft+=X.deltaY,X.preventDefault())};y.useEffect(()=>{if(!_t)return;const X=setTimeout(()=>{Xa()},80);return()=>clearTimeout(X)},[_t,Xa,Ue]);const Ro=async X=>{if(X.preventDefault(),$r)return;lt(""),ht(""),pn(!0);const se=X.currentTarget,xe=mi.current?.value??"",Ce=ms.current?.value??"",He=Pt=>{if(typeof navigator<"u"&&navigator.onLine===!1||fs==="offline")return"offline";if(fs==="poor")return"network";const Tt=String(Pt||"").toLowerCase();return Tt?Tt.includes("offline")||Tt.includes("no internet")||Tt.includes("internet connection")?"offline":Tt.includes("failed to fetch")||Tt.includes("networkerror")||Tt.includes("network request failed")||Tt.includes("load failed")||Tt.includes("timeout")||Tt.includes("econnrefused")||Tt.includes("enotfound")||Tt.includes("eai_again")?"network":null:null};if(He(null)==="offline"){lt("No internet connection detected. Please turn on Wi-Fi or cellular data and try again."),pn(!1);return}let ut;try{ut=await r(xe,Ce)}catch(Pt){const Tt=typeof Pt?.message=="string"?Pt.message:null,yn=He(Tt);lt(yn==="offline"?"No internet connection detected. Please turn on Wi-Fi or cellular data and try again.":yn==="network"?"Can't reach PepPro right now. This usually means your internet is offline or very slow. Please check your connection and try again.":"Unable to log in. Please try again."),pn(!1);return}if(ut.status==="success"){hi({email:"",password:""}),se.reset(),ce(!1),Y("login"),ve(""),Q(""),je(""),qe(""),Me(""),We(""),Kr(!1),gr(!1),Jt(!1),lt(""),ht(""),p!=="checkout"&&Re(!0),pn(!1);return}if(ut.status==="sales_rep_signup_required"){lt("Your sales rep profile needs to be activated before you can sign in. Please finish setting up your account or contact support for help."),Kr(!1),gr(!1),Jt(!1),pn(!1);return}if(ut.status==="invalid_password"){lt("Incorrect password. Please try again."),hi({password:""}),Y("login"),Kr(!1),gr(!1),Jt(!1),pn(!1);return}if(ut.status==="email_not_found"){lt(""),ht("We couldn't find that email. Please create your account below."),Y("signup"),je(xe),Q(""),qe(Ce),Me(Ce),We(""),Kr(!1),gr(!1),Jt(!1),pn(!1);return}if(ut.status==="error"){const Pt=He(ut.message);lt(Pt==="offline"?"No internet connection detected. Please turn on Wi-Fi or cellular data and try again.":Pt==="network"?"Can't reach PepPro right now. This usually means your internet is offline or very slow. Please check your connection and try again.":"Unable to log in. Please try again.")}pn(!1)};y.useEffect(()=>{f==null||f===0||et.current!==f&&(et.current=f,Y("login"),lt(""),ht(""),Q(""),ve(""),je(""),qe(""),Me(""),We(""),hi({email:"",password:""}),Kr(!1),gr(!1),Jt(!1),e||ce(!0),Re(!1))},[f,e]),y.useEffect(()=>{e&&K&&ce(!1)},[e,K]),y.useEffect(()=>{e||Re(!1)},[e]),y.useEffect(()=>{const X=Array.isArray(N)?N:[];if(X.length>0){Nt(X);return}A||Nt(X)},[N,A]),y.useEffect(()=>{at.current=Be},[Be]),y.useEffect(()=>{if(!ze||!Be.length)return;const X=ke=>String(ke??"").trim().toLowerCase(),se=[ze.id,ze.wooOrderId,ze.wooOrderNumber,ze.number,ze.cancellationId].map(X).filter(Boolean);if(!se.length)return;const xe=Be.find(ke=>[ke.id,ke.wooOrderId,ke.wooOrderNumber,ke.number,ke.cancellationId].map(X).filter(Boolean).some(Pt=>se.includes(Pt)));if(!xe)return;const Ce=String(xe.status??"")!==String(ze.status??""),He=String(xe.updatedAt??"")!==String(ze.updatedAt??"");(Ce||He)&&me(xe)},[Be,ze?.id,ze?.wooOrderId,ze?.wooOrderNumber,ze?.number,ze?.cancellationId,ze?.status,ze?.updatedAt]),y.useEffect(()=>{qr.current=It},[It]),y.useEffect(()=>{if(!st)return;const X=xe=>{const Ce=xe?.cancellationId||xe?.wooOrderId||xe?.id;return Ce?String(Ce)===String(st):!1},se=Be.find(X);if(se&&OI(se.status?String(se.status):null)){const xe=ze?ze.cancellationId||ze.wooOrderId||ze.id:null;xe&&String(xe)===String(st)&&me(null),Ot(Ce=>Ce===st?null:Ce)}},[st,Be,ze]),y.useEffect(()=>{if(!_t||Ue!=="orders"||!O||!e)return;let X=!1,se=!1;const xe="orders-auto-refresh",Ce=45e3,He=()=>!(typeof document<"u"&&document.hidden||typeof navigator<"u"&&navigator.onLine===!1),ke=async()=>{if(!(X||se)&&He()&&cl(xe,Ce)){se=!0;try{await Promise.resolve(O())}finally{se=!1}}};ke();const ut=window.setInterval(()=>{ke()},2e4);return()=>{X=!0,$i(xe),window.clearInterval(ut)}},[_t,Ue,O,e]),y.useEffect(()=>{const X=()=>{if(typeof window<"u"){const se=window.innerWidth>=1024;Zt(se),se&&Wt(!1)}};return X(),window.addEventListener("resize",X),()=>{window.removeEventListener("resize",X)}},[]),y.useEffect(()=>()=>{Ht.current.forEach(X=>window.clearTimeout(X)),Ht.current=[],qt.current!==null&&(window.cancelAnimationFrame(qt.current),qt.current=null)},[]);const Qa=y.useCallback(()=>{Ht.current.forEach(X=>window.clearTimeout(X)),Ht.current=[],qt.current!==null&&(window.cancelAnimationFrame(qt.current),qt.current=null)},[]),kn=y.useCallback(X=>{er.current||(er.current=!0,X?.closeModal!==!1&&_n(!1),Promise.resolve(n()))},[n]),Mo=y.useCallback(()=>{_n(!1),Fr.current=!1},[]),kr=y.useCallback((X,se)=>{er.current||(Fr.current=!0,Gt(se),bt(0),kn({closeModal:!1}),Ht.current.push(window.setTimeout(()=>{Kt.current===X&&Mo()},se)))},[Mo,kn]),yi=y.useCallback(()=>{Qa(),er.current=!1,Fr.current=!1,Kt.current+=1;const X=Kt.current;Re(!1),ce(!1),Gt(350),bt(0),_n(!0),qt.current=window.requestAnimationFrame(()=>{Kt.current===X&&bt(1)}),Ht.current.push(window.setTimeout(()=>{Kt.current===X&&kr(X,350)},5e3))},[kr,Qa]),Du=y.useCallback(X=>{if(X){_n(!0);return}if(er.current)return;Qa(),Kt.current+=1;const se=Kt.current;_n(!0),kr(se,1e3)},[kr,Qa]);y.useLayoutEffect(()=>{if(typeof window>"u")return;const X=ko.current;if(!X)return;const se=()=>{const{height:Ce}=X.getBoundingClientRect();document.documentElement.style.setProperty("--app-header-height",`${Math.round(Ce)}px`)};se();let xe=null;return"ResizeObserver"in window?(xe=new ResizeObserver(()=>se()),xe.observe(X)):window.addEventListener("resize",se),()=>{xe?xe.disconnect():window.removeEventListener("resize",se)}},[]),y.useEffect(()=>()=>{Lt.current&&clearTimeout(Lt.current)},[]),y.useEffect(()=>{if(typeof window>"u")return;const X=()=>{Re(!1),ce(!1)};return window.addEventListener("peppro:close-dialogs",X),()=>{window.removeEventListener("peppro:close-dialogs",X)}},[]);const Ws=X=>{X.preventDefault(),i(ue),typeof window<"u"&&window.innerWidth<768&&Wt(!1)},vi=X=>{console.debug("[Header] Search change",{value:X}),de(X),i(X)};y.useEffect(()=>{_l.current=ue},[ue]);const ir=y.useCallback(()=>{const X=Pr.current;if(X)try{X.focus({preventScroll:!0})}catch{X.focus()}},[]),Qi=()=>{Wt(X=>{const se=!X;return typeof window<"u"&&(se?window.setTimeout(()=>ir(),0):Pr.current?.blur()),se})};y.useEffect(()=>{Qt&&(typeof window>"u"||window.setTimeout(()=>ir(),0))},[ir,Qt]),y.useEffect(()=>{if(!Qt||typeof window>"u")return;const X=xe=>{if(!xe||!xe.tagName)return!1;const Ce=xe;if(Ce===Pr.current)return!0;const He=String(Ce.tagName||"").toLowerCase();return He==="input"||He==="textarea"||He==="select"?!0:!!Ce.isContentEditable},se=xe=>{if(Qt){if(xe.key==="Escape"){xe.preventDefault(),Wt(!1),Pr.current?.blur();return}if(!(xe.metaKey||xe.ctrlKey||xe.altKey)&&!X(xe.target)){if(xe.key==="Backspace"){xe.preventDefault();const Ce=_l.current||"";vi(Ce.slice(0,Math.max(0,Ce.length-1))),ir();return}if(xe.key.length===1){xe.preventDefault();const Ce=_l.current||"";vi(Ce+xe.key),ir()}}}};return window.addEventListener("keydown",se,!0),()=>window.removeEventListener("keydown",se,!0)},[ir,vi,Qt]);const Hs=async X=>{X.preventDefault();const xe={name:U?`${U} ${he}`.trim():he,email:fe,password:Ie,confirmPassword:Ve,code:Ae};ht(""),lt("");const Ce=c?await c(xe):await r(fe,Ie);if(Ce.status==="success"){ve(""),Q(""),je(""),qe(""),Me(""),We(""),Kr(!1),gr(!1),Jt(!1),Y("login"),ce(!1),ht(""),lt(""),p!=="checkout"&&Re(!0);return}if(Ce.status==="email_exists"){ht(""),lt("An account with this email already exists. Please log in."),Y("login"),hi({email:xe.email,password:""}),Q(""),qe(""),Me(""),We(""),Kr(!1),gr(!1),Jt(!1);return}if(Ce.status==="invalid_password"){ht(""),lt("Incorrect password. Please try again."),Y("login"),hi({email:xe.email,password:""}),Q(""),qe(""),Me(""),We(""),Kr(!1),gr(!1),Jt(!1);return}if(Ce.status==="email_not_found"){ht("We couldn't find that email. Please create your account below."),Y("signup"),je(xe.email),Q(""),qe(""),Me(""),We(""),Kr(!1),gr(!1),Jt(!1);return}if(Ce.status==="password_mismatch"){ht("Passwords do not match. Please confirm and try again.");return}if(Ce.status==="invalid_referral_code"){ht("Referral codes must be 5 characters (e.g., AB123). Please double-check and try again.");return}if(Ce.status==="referral_code_not_found"){ht("We couldn't locate that referral code. Please confirm it with your sales representative.");return}if(Ce.status==="sales_rep_email_mismatch"){ht("Please use the email address associated with your sales representative profile.");return}if(Ce.status==="referral_code_unavailable"){ht("This onboarding code isn't available. Please confirm it with your representative.");return}if(Ce.status==="name_email_required"){ht("Name and email are required to create your account.");return}Ce.status==="error"&&(Ce.message==="PASSWORD_REQUIRED"?ht("Please create a secure password to access your account."):ht("Unable to create an account right now. Please try again."))},Vs=async X=>{if(X.preventDefault(),!Ar.orderId.trim()){$s("Please enter a valid order ID.");return}yr(!0),$s(null);try{await new Promise(se=>setTimeout(se,900)),$s("We will email your latest tracking update shortly.")}catch(se){console.warn("[Account modal] Tracking lookup failed",se),$s("Unable to look up that order right now. Please try again.")}finally{yr(!1)}},Zi=X=>{console.debug("[Header] Auth dialog open change",{open:X}),ce(X),X||(Y("login"),ve(""),Q(""),je(""),qe(""),Me(""),We(""),lt(""),ht(""),Kr(!1),gr(!1),Jt(!1))},nf=()=>{u&&u()},af=y.useCallback(async X=>{if(!M)return;Ot(X);try{await M(X)}catch(He){const ke=typeof He?.message=="string"&&He.message.trim().length>0?He.message:"Unable to cancel this order right now.";Ze.error(ke),Ot(ut=>ut===X?null:ut);return}const se=He=>{const ke=String(He||"").trim().toLowerCase();return ke==="refunded"||ke==="cancelled"||ke==="canceled"||ke==="trash"},xe=He=>{const ke=He?.cancellationId||He?.wooOrderId||He?.id;return ke?String(ke)===String(X):!1},Ce=ze?ze.cancellationId||ze.wooOrderId||ze.id:null;(async()=>{const He=Date.now(),ke=18e4,ut=1500;for(;Date.now()-He<ke;){try{await Promise.resolve(O?.())}catch{}const Pt=at.current.find(xe);if(Pt&&se(Pt.status)){Ce&&String(Ce)===String(X)&&me(null),Ot(Tt=>Tt===X?null:Tt);return}await new Promise(Tt=>setTimeout(Tt,ut))}Ze.info("Cancellation submitted. It may take a moment for the order status to update.")})()},[M,O,ze]),Rc=y.useCallback((X,se)=>{X&&jr(xe=>{if(Object.is(xe[X],se))return xe;const Ce={...xe,[X]:se};return qr.current=Ce,Ce})},[]),Do=y.useCallback(X=>{if(!X)return[];const se=fa(X.integrationDetails),xe=fa(se?.wooCommerce||se?.woocommerce),Ce=fa(xe?.response)||{},He=fa(xe?.payload)||{};return Array.isArray(Ce?.line_items)?Ce.line_items:Array.isArray(He?.line_items)?He.line_items:[]},[]),On=y.useCallback(X=>{if(!X)return null;const se=dl(X.productId)||dl(X?.product_id);if(!se)return null;const xe=dl(X.variantId)||dl(X?.variation_id),Ce=xe?`${se}:${xe}`:`${se}:0`;return{productId:se,variationId:xe||null,key:Ce}},[]),Za=y.useCallback(async X=>{const xe=zt.current;return new Promise(Ce=>{const He=()=>{xe.active+=1,Promise.resolve().then(X).catch(()=>{}).finally(()=>{xe.active=Math.max(0,xe.active-1);const ke=xe.queue.shift();ke&&ke(),Ce()})};if(xe.active<4){He();return}xe.queue.push(He)})},[]),Ji=y.useCallback(async(X,se=[])=>{const xe=B0(X,se),Ce=On(X);if(Ce){if(xe){Rc(Ce.key,xe);return}if(!Object.prototype.hasOwnProperty.call(qr.current,Ce.key)&&!nn.current.has(Ce.key)){nn.current.add(Ce.key);try{await Za(async()=>{const He=await E0(()=>Promise.resolve().then(()=>F0),void 0);let ke=null;if(Ce.variationId)try{const ut=await He.wooAPI.getProductVariation(Ce.productId,Ce.variationId);ke=No(ut?.image)||No(ut?.images?.[0])||null}catch{}if(!ke)try{const ut=await He.wooAPI.getProduct(Ce.productId);ke=No(ut?.images?.[0])||No(ut?.image)||null}catch{}Rc(Ce.key,ke)})}finally{nn.current.delete(Ce.key)}}}},[On,Za,Rc]),bi=y.useCallback(X=>{const se=X?String(X).trim().toLowerCase():"";return se==="trash"||se.includes("cancel")||se.includes("refund")},[]),xi=y.useRef(new Set),eo=y.useCallback(async X=>{const se=X?.integrations||X?.integrationDetails||null,xe=se?.wooCommerce||se?.woocommerce||null,Ce=X?.wooOrderId||xe?.wooOrderId||X?.wooOrderNumber||xe?.wooOrderNumber||X?.id||null,He=Ce?String(Ce):"";if(!He){Ze.error("Invoice is not available for this order yet.");return}if(!xi.current.has(He)){xi.current.add(He);try{const ke=await E0(()=>Promise.resolve().then(()=>F0),void 0),{blob:ut,filename:Pt}=await ke.ordersAPI.downloadInvoice(He);c9(ut,Pt||`PepPro_Invoice_${He}.pdf`)}catch(ke){const ut=ke instanceof Error?ke.message:"Unable to download invoice right now.";Ze.error(ut)}finally{xi.current.delete(He)}}},[]);y.useEffect(()=>{if(!_t||Ue!=="orders")return;const X=Be.filter(xe=>{const Ce=(xe.source||"").toLowerCase(),He=!!(xe.integrationDetails?.wooCommerce||xe.integrationDetails?.woocommerce);return Ce==="woocommerce"||Ce==="peppro"||Ce==="local"||He}).filter(xe=>D?!0:!bi(xe.status)),se=new Set;for(const xe of X){const Ce=Do(xe),He=Array.isArray(xe.lineItems)?xe.lineItems:[];for(const ke of He){const ut=On(ke);if(ut&&!se.has(ut.key)&&(se.add(ut.key),Ji(ke,Ce),se.size>=40))return}}},[_t,Ue,Be,D,Ji,Do,On,bi]),y.useEffect(()=>{if(!_t||Ue!=="orders"||!ze)return;const X=Do(ze);(Array.isArray(ze.lineItems)?ze.lineItems:[]).forEach(xe=>{Ji(xe,X)})},[_t,Ue,ze,Ji,Do]);const Lo=y.useCallback(async()=>{if(To)try{if(!navigator?.clipboard)throw new Error("Clipboard API unavailable");await navigator.clipboard.writeText(To),Lr(!0),Lt.current&&clearTimeout(Lt.current),Lt.current=setTimeout(()=>{Lr(!1)},2e3)}catch{Lr(!1)}},[To]),Ol=()=>l.jsxs(Qe,{variant:"outline",size:"sm",onClick:nf,className:Et("relative hidden md:inline-flex glass squircle-sm transition-all duration-300 flex-shrink-0",g&&"inline-flex"),style:{color:V,borderColor:J},children:[l.jsx(vp,{className:"h-4 w-4",style:{color:V}}),a>0&&l.jsx(fc,{variant:"outline",className:"absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center p-0 glass-strong squircle-sm border border-[var(--brand-glass-border-2)] text-[rgb(95,179,249)]",children:a})]}),to=(X="")=>l.jsxs("div",{className:"relative",children:[l.jsx(D_,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-slate-600"}),l.jsx(hr,{type:"text",inputMode:"search",enterKeyHint:"search",placeholder:"Search peptides...",value:ue,onChange:se=>vi(se.target.value),ref:Pr,className:`glass squircle-sm pl-10 pr-12 focus-visible:outline-none focus-visible:ring-0 focus-visible:border-[rgba(255,255,255,0.3)] ${X}`.trim(),style:{borderColor:J,minWidth:"100%"}}),ue.trim().length>0&&l.jsx("button",{type:"button","aria-label":"Clear search",onClick:()=>{vi(""),requestAnimationFrame(()=>{Pr.current?.focus()})},className:"absolute right-3 left-auto top-1/2 z-10 -translate-y-1/2 rounded-full p-1 text-slate-900/70 transition-colors hover:bg-white/50 hover:text-slate-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.4)]",style:{right:"0.75rem",left:"auto"},children:l.jsx(Su,{className:"h-4 w-4"})})]}),Mc=[{id:"details",label:"Details",Icon:Y5},{id:"orders",label:"Orders",Icon:lp},{id:"research",label:"Research",Icon:C3}],Gs=y.useCallback(async(X,se)=>{try{const Ce=await(await E0(()=>Promise.resolve().then(()=>F0),void 0)).authAPI.updateMe(se),He=Object.fromEntries(Object.entries(se).map(([ut,Pt])=>{if(typeof Pt=="string"){const Tt=Pt.trim();return[ut,Tt.length>0?Tt:null]}return[ut,Pt]})),ke={...Nr||{},...Ce||{}};Object.entries(He).forEach(([ut,Pt])=>{const Tt=Ce?Ce[ut]:void 0;(Tt==null||typeof Tt=="string"&&Tt.trim().length===0)&&(ke[ut]=Pt)}),Ga(ke),x?.(ke),Ze.success(`${X} updated`)}catch(xe){throw xe?.status===413?Ze.error("Upload too large. Please choose a smaller image."):xe?.message==="EMAIL_EXISTS"?Ze.error("That email is already in use."):Ze.error("Update failed"),xe}},[Ga,x,Nr]),sf=[{key:"name",label:"Full Name",autoComplete:"name"},{key:"email",label:"Email",type:"email",autoComplete:"email"},{key:"phone",label:"Phone",autoComplete:"tel"}],gs=[{key:"officeAddressLine1",label:"Street",autoComplete:"shipping address-line1"},{key:"officeAddressLine2",label:"Suite / Unit",autoComplete:"shipping address-line2"},{key:"officeCity",label:"City",autoComplete:"shipping address-level2"},{key:"officeState",label:"State",autoComplete:"shipping address-level1"},{key:"officePostalCode",label:"Postal Code",autoComplete:"shipping postal-code"}],Lu=Nr?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"glass-card squircle-md p-4 border border-[var(--brand-glass-border-2)] space-y-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Contact Info"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Manage your account and shipping information below."})]}),l.jsxs("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-start pt-2",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:min-w-[220px] sm:max-w-[260px]",children:[l.jsxs("div",{className:"avatar-shell",onClick:()=>Fs.current?.click(),children:[Yi(72),l.jsx("button",{type:"button",className:"avatar-edit-badge",onClick:X=>{X.preventDefault(),X.stopPropagation(),Ut(se=>!se)},"aria-label":"Edit profile photo",children:l.jsx(pI,{className:"h-3 w-3"})})]}),Oo&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Profile photo"}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l.jsx(Qe,{type:"button",size:"sm",variant:"outline",className:"squircle-sm",disabled:Pc,onClick:()=>Fs.current?.click(),children:Pc?`Uploading ${hs}%`:"Upload photo"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Photos must be 50MB or smaller in size."})]})]}),l.jsx("input",{type:"file",accept:"image/*",ref:Fs,className:"hidden",onChange:async X=>{const se=X.target.files?.[0];if(!se)return;const xe=50*1024*1024;if(se.size>xe){Ze.error("Upload too large. Please choose an image 50MB or smaller."),Fs.current&&(Fs.current.value="");return}kc(!0),Cl(8);let Ce=null;try{console.info("[Profile] Compressing image before upload",{sizeBytes:se.size,name:se.name});const He=await u9(se,{maxSize:1600,quality:.82});Cl(55);const ke=60,ut=95;let Pt=ke;Ce=window.setInterval(()=>{Pt=Math.min(ut,Pt+2),Cl(Pt)},120),await Gs("Profile photo",{profileImageUrl:He}),Cl(100),Ut(!1),Ze.success("Profile photo updated")}catch(He){const ke=typeof He?.message=="string"?He.message:"Upload failed";Ze.error(ke),console.error("[Profile] Upload failed",{message:ke,error:He})}finally{Ce&&window.clearInterval(Ce),kc(!1),Cl(0),Fs.current&&(Fs.current.value="")}}})]}),tf&&To&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Referral Code"}),l.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-dashed border-slate-300 bg-slate-50 px-3 py-2 text-sm font-semibold text-slate-800",children:[l.jsx("span",{className:"tracking-[0.16em] uppercase",children:To}),l.jsx(Qe,{type:"button",size:"sm",variant:"outline",className:"squircle-sm text-xs",onClick:Lo,children:"Copy"})]}),l.jsx("p",{className:"text-xs text-slate-500",children:"Share this code with doctors to link them to your account. Editing is disabled for security."})]}),l.jsx("div",{className:"flex flex-col gap-3 sm:flex-1",children:sf.map(({key:X,label:se,type:xe,autoComplete:Ce})=>l.jsx(Z_,{label:se,value:Nr?.[X]||"",type:xe||"text",autoComplete:Ce,onSave:async He=>{await Gs(se,{[X]:He})}},X))})]})]}),l.jsxs("div",{className:"glass-card squircle-md p-4 border border-[var(--brand-glass-border-2)] space-y-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Direct Shipping"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Update the address where orders should ship."})]}),l.jsx("div",{className:"grid gap-3",children:gs.map(({key:X,label:se,autoComplete:xe})=>l.jsx(Z_,{label:se,value:Nr?.[X]||"",autoComplete:xe,onSave:async Ce=>{await Gs(se,{[X]:Ce})}},X))})]})]}):null,$o=l.jsxs("div",{ref:an,className:"glass-card squircle-md p-6 border border-[var(--brand-glass-border-2)] text-center space-y-3 bg-white",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Research"}),l.jsx("p",{className:"text-sm text-slate-600",children:"This section is currently in development. Soon you'll be able to access research tools and resources here to share your findings securely and anonymously with the PepPro network of physicians."})]}),Yr=l.jsx("div",{ref:an,className:Et("transition-all duration-300 ease-in-out bg-white",rt&&"h-full w-full min-h-full",rt?"h-full flex flex-col":"space-y-4"),children:l.jsx("div",{className:"flex",children:l.jsx("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 text-[rgb(95,179,249)] shadow-[0_10px_18px_-12px_rgba(15,23,42,0.35)] transition-colors hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.35)]","aria-label":rt?"Exit full screen Research dashboard":"Expand Research dashboard to full screen",onClick:Wi,children:rt?l.jsx(i3,{className:"h-4 w-4","aria-hidden":"true",style:{transform:"scaleX(-1)"}}):l.jsx(a3,{className:"h-4 w-4","aria-hidden":"true",style:{transform:"scaleX(-1)"}})})})}),Tl=Nr?.role||e?.role||null,ro=U_(Tl)||wv(Tl)==="test_doctor"||t===!0&&(W_(Tl)||z_(Tl))?Yr:$o,Dc=()=>{const se=!!(Nr&&W_(Nr.role)),xe=(Nr?.salesRep?.email||"").trim(),Ce=G.trim().toLowerCase(),He=Be.filter(ke=>{const ut=(ke.source||"").toLowerCase(),Pt=!!(ke.integrationDetails?.wooCommerce||ke.integrationDetails?.woocommerce);return ut==="woocommerce"||ut==="peppro"||ut==="local"||Pt}).filter(ke=>D?!0:!bi(ke.status)).filter(ke=>{if(!Ce)return!0;const ut=fa(ke.integrationDetails),Pt=fa(ut?.wooCommerce||ut?.woocommerce),Tt=fa(Pt?.response)||{},yn=il(ke.wooOrderNumber)||il(Tt?.number)||il(Pt?.wooOrderNumber)||il(ke.number)||il(ke.id)||"",sn=zg(ke),Tn=(ke.lineItems||[]).map(ra=>(ra?.name||"").toString()).filter(Boolean).join(" ");return[yn,ke.status||"",sn||"",Tn].join(" ").toLowerCase().includes(Ce)});return He.length?l.jsxs("div",{className:"space-y-4 pb-4",children:[He.map(ke=>{const ut=Q_(ke),Pt=zg(ke),Tt=Pt?`${ut}  ${Pt}`:ut,yn=(ke.status||"").toLowerCase(),sn=yn.includes("cancel")||yn.includes("refund")||yn==="trash",Tn=yn.includes("processing"),bs=!!M&&h9.has(yn)&&!sn,ra=ke.cancellationId||ke.wooOrderId||(ke.id?String(ke.id):null),na=!!(ra&&st===ra),qn=`Order #${il(ke.wooOrderNumber)||il(ke.integrationDetails?.wooCommerce?.response?.number)||il(ke.integrationDetails?.wooCommerce?.wooOrderNumber)||il(ke.integrationDetails?.woocommerce?.response?.number)||il(ke.integrationDetails?.woocommerce?.wooOrderNumber)||null||ke.number||ke.id||"Order"}`,Ke=ke.lineItems?.length??0,xs=Ke>0&&(Tn||!sn),Un=fa(ke.integrationDetails),ws=fa(Un?.wooCommerce||Un?.woocommerce),Or=fa(ws?.response)||{},vn=fa(ws?.payload)||{},Ys=Or?.shipping_lines&&Or.shipping_lines[0]||vn?.shipping_lines&&vn.shipping_lines[0],zn=Array.isArray(Or?.line_items)?Or.line_items:Array.isArray(vn?.line_items)?vn.line_items:[],or=G_(ke),aa=!!(or&&(V_(ke.status)||(ke.status||"").toLowerCase()==="completed")),es=(ke.lineItems||[]).reduce((dt,kt)=>{const tr=Cr(kt.total,Cr(kt.subtotal,0));return dt+tr},0),Ss=Cr(ke.itemsSubtotal??ke.itemsTotal,es>0?es:Cr(Or?.subtotal??vn?.subtotal,0)),Ni=Cr(ke.shippingTotal,Cr(Or?.shipping_total??vn?.shipping_total??Ys?.total,0)),Wn=Cr(ke.taxTotal,Cr(Or?.total_tax??vn?.total_tax,0)),Xs=Math.abs(Cr(ke.appliedReferralCredit,Cr(Or?.discount_total??vn?.discount_total??vn?.discount_lines?.[0]?.total??0,0))),Ma=Cr(ke.grandTotal,Cr(ke.total,0)),Xr=Ss+Ni+Wn-Xs,lr=Ma>0?Ma:Xr,pr=Wn>0&&Xr>lr+.01?Xr:lr,yt=`${Ke} item${Ke!==1?"s":""}`;return l.jsxs("div",{className:"account-order-card squircle-lg bg-white border border-[#d5d9d9] overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 bg-[#f5f6f6] border-b border-[#d5d9d9]",children:l.jsxs("div",{className:"order-header-main flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"order-header-meta flex flex-wrap items-center gap-8 text-sm text-slate-700",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Order placed"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:H_(ke.createdAt)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Total"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:wo(pr,ke.currency||"USD")})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Status"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Tt})]}),aa&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Expected delivery"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:or})]})]}),l.jsx("div",{className:"order-header-actions flex flex-row items-end gap-3 text-sm",children:l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3",children:[(()=>{const dt=ke.integrations||Un,kt=dt?.wooCommerce||dt?.woocommerce||null;return!(ke.wooOrderId||kt?.wooOrderId||ke.wooOrderNumber||kt?.wooOrderNumber||null||Un?.wooCommerce?.wooOrderId||Un?.woocommerce?.wooOrderId)?null:l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"text-[rgb(26,85,173)] font-semibold hover:underline",onClick:()=>void eo(ke),children:"Download invoice"}),"|"]})})(),l.jsx("button",{type:"button",className:"text-[rgb(26,85,173)] font-semibold hover:underline",onClick:()=>me(ke),children:"View order details"})]})})]})}),l.jsx("div",{className:"px-6 pt-5 pb-6",children:l.jsxs("div",{className:"order-card-body flex flex-col gap-4 pt-4 md:flex-row md:items-start md:gap-6",children:[l.jsxs("div",{className:"space-y-4 flex-1 min-w-0",children:[l.jsx("div",{className:"order-number-row flex flex-wrap items-start justify-between gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[l.jsxs("p",{className:"text-base font-bold text-slate-900 break-words",children:[l.jsx("span",{className:"mr-2",children:qn}),xs&&l.jsx("span",{className:"text-slate-700 font-semibold",children:yt})]}),!1]})}),ke.lineItems&&ke.lineItems.length>0&&l.jsx("div",{className:"space-y-3",children:ke.lineItems.map((dt,kt)=>{const tr=On(dt),Qr=tr?It[tr.key]:null,zr=typeof Qr=="string"&&Qr.trim().length>0?Qr:B0(dt,zn);return l.jsxs("div",{className:"order-line-item flex items-center gap-4 mb-4 min-h-[60px]",children:[l.jsx("div",{className:"h-full min-h-[60px] w-20 rounded-xl border border-[#d5d9d9] bg-white overflow-hidden flex items-center justify-center text-slate-500 flex-shrink-0",style:{maxHeight:"120px"},children:zr?l.jsx("img",{src:zr,alt:dt.name||"Item thumbnail",className:"object-contain",style:{width:"100%",height:"100%",maxHeight:"120px"},onError:rr=>{rr.currentTarget.style.display="none"}}):l.jsx(lp,{className:"h-6 w-6 opacity-60"})}),l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx("p",{className:"text-[rgb(26,85,173)] font-semibold leading-snug",children:dt.name||"Item"}),l.jsxs("p",{className:"text-sm text-slate-700",children:["Qty: ",dt.quantity??""]})]})]},dt.id||`${dt.sku}-${kt}`)})})]}),l.jsxs("div",{className:"order-card-actions flex flex-col gap-2 items-stretch text-center justify-start w-full pb-2 md:items-end md:gap-6 md:w-auto md:min-w-[12rem] md:text-right md:self-stretch md:ml-auto",children:[l.jsxs(Qe,{type:"button",size:"sm",variant:"outline",className:"header-home-button squircle-sm bg-white text-slate-900 px-6 justify-center font-semibold gap-2 w-full lg:w-full",onClick:()=>{k?k(ke):me(ke)},children:[l.jsx(vp,{className:"h-4 w-4","aria-hidden":"true"}),"Buy it again"]}),bs&&l.jsx("button",{type:"button",disabled:na,onClick:()=>{if(!na){const dt=ra||ke.id;dt&&af(dt)}},className:"order-cancel-button squircle-sm inline-flex h-9 w-full items-center justify-center px-6 py-0 text-center font-semibold disabled:cursor-not-allowed disabled:opacity-60 lg:w-full",children:na?"Canceling":"Cancel order"})]})]})})]},`${ke.source}-${ke.id}`)}),se&&l.jsx("div",{className:"glass-card squircle-lg border border-[var(--brand-glass-border-2)] bg-white/80 px-7 py-4 text-sm text-slate-700",children:l.jsxs("div",{className:"space-y-1",children:[xe&&l.jsxs("p",{children:["Sales rep:"," ",l.jsx("a",{href:`mailto:${xe}`,className:"underline hover:text-[rgb(95,179,249)]",children:xe})]}),l.jsxs("p",{children:["Support:"," ",l.jsx("a",{href:"mailto:support@peppro.net",className:"underline hover:text-[rgb(95,179,249)]",children:"support@peppro.net"})]})]})})]}):l.jsx("div",{className:"text-center py-12",children:l.jsxs("div",{className:"glass-card squircle-lg p-8 border border-[var(--brand-glass-border-2)] inline-block",children:[l.jsx(lp,{className:"h-12 w-12 mx-auto mb-3 text-slate-400"}),l.jsx("p",{className:"text-sm font-medium text-slate-700 mb-1",children:"No orders found"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Your recent orders will appear here"})]})})},Ia=()=>{if(!ze)return null;const X=fa(ze.integrationDetails),se=fa(X?.wooCommerce||X?.woocommerce),xe=fa(se?.response)||{},Ce=fa(se?.payload)||{},He=xe?.shipping_lines&&xe.shipping_lines[0]||Ce?.shipping_lines&&Ce.shipping_lines[0],ke=Array.isArray(xe?.line_items)?xe.line_items:Array.isArray(Ce?.line_items)?Ce.line_items:[],ut=G_(ze),Pt=!!(ut&&(V_(ze.status)||!ze.status)),Tt=String(ze.status||"").trim().toLowerCase(),yn=ze.expectedShipmentWindow||ze.expected_shipment_window||null,sn=!!(yn&&!(Tt==="shipped"&&zg(ze))),Tn=m9(ze.shippingEstimate)||kI(He?.method_title||He?.method_id);ze.shippingEstimate?.rate??(He&&typeof He.total=="string"&&Number(He.total));const bs=K_(xe?.shipping||Ce?.shipping),ra=K_(xe?.billing||Ce?.billing),na=zg(ze),Si=He?.method_title||He?.method_id||"",Ra=ze.shippingEstimate?.carrierId||X?.shipStation?.carrierCode||(Si?.toLowerCase().includes("ups")?"ups":null),qn=na?f9(na,Ra):null,Ke=Vm(ze.shippingAddress)||Vm(ze.shipping)||bs||Vm(ze.billingAddress),xs=Vm(ze.billingAddress)||ra||Vm(ze.shippingAddress),Un=ze.lineItems||[],ws=Un.reduce((lr,pr)=>{const yt=Cr(pr.total,Cr(pr.subtotal,0));return lr+yt},0),Or=fa(X?.stripe||X?.Stripe)||{},vn=Cr(ze.itemsSubtotal??ze.itemsTotal,ws>0?ws:Cr(xe.total??Ce.total??xe.subtotal??Ce.subtotal,0)),Ys=Cr(ze.shippingTotal,Cr(xe.shipping_total??Ce.shipping_total??He?.total,0)),zn=Cr(ze.taxTotal,Cr(xe.total_tax??Ce.total_tax,0)),or=Cr(ze.appliedReferralCredit,Cr(xe.discount_total??Ce.discount_total??Ce.discount_lines?.[0]?.total??0,0)),aa=Math.abs(or),es=Cr(ze.grandTotal,Cr(ze.total,0)),Ss=vn+Ys+zn-aa,Ni=es>0?es:Ss,Wn=zn>0&&Ss>Ni+.01?Ss:Ni,Xs=Math.max(Wn,0),Ma=ze.paymentDetails||ze.paymentMethod||null,Xr=(()=>{if(Or?.cardLast4)return`${Or?.cardBrand||"Card"}  ${Or.cardLast4}`;if(typeof Ma=="string"&&Ma.trim().length>0){const lr=yt=>yt.trim().toLowerCase().replace(/[\s-]+/g,"_");if(/stripe onsite/i.test(Ma))return"Card payment";const pr=lr(Ma);return pr.includes("zelle")?"Zelle":pr==="bacs"||pr==="bank_transfer"||pr==="direct_bank_transfer"||pr.includes("direct_bank")||pr.includes("bank_transfer")||pr.includes("banktransfer")?"Direct Bank Transfer":pr.includes("stripe")?"Card payment":Ma}return null})();return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-end",children:l.jsx(Qe,{type:"button",variant:"outline",className:"header-home-button squircle-sm bg-white text-slate-900",onClick:()=>me(null),children:" Back to orders"})}),l.jsxs("div",{className:"account-order-card squircle-lg bg-white border border-[#d5d9d9] overflow-hidden text-left",children:[l.jsxs("div",{className:"px-6 py-4 bg-[#f5f6f6] flex flex-wrap items-center justify-between gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.08em] text-slate-500",children:"Order"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:ze.number?`Order #${ze.number}`:ze.id})]}),l.jsxs("div",{className:"space-y-1 text-right",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.08em] text-slate-500",children:"Status"}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:Q_(ze)})]})]}),l.jsxs("div",{className:"px-6 py-5 flex flex-wrap items-center justify-between gap-6 text-sm text-slate-700 mb-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Placed"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:H_(ze.createdAt)})]}),Pt&&l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Expected delivery"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ut})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.08em] text-slate-500",children:"Total"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:wo(Xs,ze.currency||"USD")})]})]}),l.jsxs("div",{className:"border-t border-[#d5d9d9] p-6 space-y-6",children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Shipping Information"}),Y_(Ke),l.jsxs("div",{className:"text-sm text-slate-700 space-y-1",children:[na&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Tracking:"})," ",qn?l.jsx("a",{href:qn,target:"_blank",rel:"noreferrer",className:"text-[rgb(26,85,173)] hover:underline",children:na}):na]}),Tn&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Service:"})," ",Tn]}),Number.isFinite(Ys)&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Shipping:"})," ",wo(Ys,ze.currency||"USD")]}),Number.isFinite(zn)&&zn>0&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Estimated tax:"})," ",wo(zn,ze.currency||"USD")]}),ut&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Expected:"})," ",ut]}),sn&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Estimated ship window:"})," ",yn]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Billing Information"}),Y_(xs),l.jsxs("div",{className:"text-sm text-slate-700 space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Payment:"})," ",Xr?`${Xr}`:""]}),Or?.cardLast4&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Card:"})," ",`${Or?.cardBrand||"Card"}  ${Or.cardLast4}`]}),ze.physicianCertified&&l.jsx("p",{className:"text-green-700 font-semibold",children:"Physician certification acknowledged"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Items"}),Un.length>0?l.jsx("div",{className:"space-y-4",children:Un.map((lr,pr)=>{const yt=Number(lr.quantity)||0,dt=Cr(lr.total,Cr(lr.subtotal,0)),kt=yt>0?dt/yt:Cr(lr.price,dt),tr=On(lr),Qr=tr?It[tr.key]:null,zr=typeof Qr=="string"&&Qr.trim().length>0?Qr:B0(lr,ke);return l.jsxs("div",{className:"flex items-start gap-4 border-b border-slate-100 pb-3 last:border-b-0 last:pb-0",children:[l.jsx("div",{className:"h-full min-h-[60px] w-20 rounded-xl border border-[#d5d9d9] bg-white overflow-hidden flex items-center justify-center text-slate-500 flex-shrink-0",style:{maxHeight:"120px"},children:zr?l.jsx("img",{src:zr,alt:lr.name||"Item thumbnail",className:"object-contain",style:{width:"100%",height:"100%",maxHeight:"120px"},onError:rr=>{rr.currentTarget.style.display="none"}}):l.jsx(lp,{className:"h-6 w-6 opacity-60"})}),l.jsxs("div",{className:"flex-1 min-w-[12rem] space-y-1 pr-4",children:[l.jsx("p",{className:"text-slate-900 font-semibold",children:lr.name||"Item"}),l.jsxs("p",{className:"text-slate-600",children:["Qty: ",yt||""]})]}),l.jsxs("div",{className:"text-sm text-slate-700 text-right min-w-[8rem]",children:[Number.isFinite(kt)&&l.jsxs("p",{children:["Each: ",wo(kt,ze.currency||"USD")]}),Number.isFinite(dt)&&l.jsxs("p",{className:"font-semibold",children:["Total: ",wo(dt,ze.currency||"USD")]})]})]},lr.id||`${lr.sku}-${pr}`)})}):l.jsx("p",{className:"text-sm text-slate-600",children:"No line items available for this order."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Order Summary"}),l.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal"}),l.jsx("span",{children:wo(vn,ze.currency||"USD")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{children:wo(Ys,ze.currency||"USD")})]}),zn>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tax"}),l.jsx("span",{children:wo(zn,ze.currency||"USD")})]}),aa>0&&l.jsxs("div",{className:"flex justify-between text-[rgb(26,85,173)]",children:[l.jsx("span",{children:"Credits & Discounts"}),l.jsxs("span",{children:["-",wo(aa,ze.currency||"USD")]})]}),Xr&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Paid with"}),l.jsx("span",{className:"font-medium text-slate-900",children:Xr})]}),l.jsxs("div",{className:"flex justify-between text-base font-semibold text-slate-900 border-t border-slate-100 pt-3",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{children:wo(Math.max(Wn,0),ze.currency||"USD")})]})]})]}),typeof ze.notes=="string"&&ze.notes.trim().length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h4",{className:"text-base font-semibold text-slate-900",children:["Notes ",l.jsx("span",{className:"text-sm font-normal text-slate-500",children:"(from PepPro)"})]}),l.jsx("div",{className:"rounded-lg border border-slate-200 bg-white/70 p-3",children:l.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:ze.notes})})]})]})]})]})},Ja=Nr?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[_&&l.jsx("button",{type:"button",onClick:()=>Promise.resolve(O?.({force:!0})),disabled:!O,title:O?"Refresh orders":void 0,className:"text-xs text-slate-500 px-3 py-1.5 glass-card squircle-sm border border-[var(--brand-glass-border-1)] disabled:opacity-70 disabled:cursor-default hover:text-slate-700 hover:border-[var(--brand-glass-border-2)] transition-colors",children:b9(_)}),l.jsx(hr,{value:G,onChange:X=>ne(X.target.value),placeholder:"Search orders",className:"h-7 w-full sm:w-[16rem] md:w-[18rem] text-xs squircle-sm bg-white/80 border border-[var(--brand-glass-border-1)] focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.35)]"}),l.jsx("div",{className:"flex items-center gap-2 ml-auto",children:l.jsx(Qe,{type:"button",variant:"outline",size:"sm",onClick:()=>$?.(),className:"glass squircle-sm btn-hover-lighter border border-[rgb(95,179,249)] bg-white text-slate-900 shadow-[0_8px_18px_rgba(95,179,249,0.14)] my-0 h-7 py-0 leading-none gap-1",children:D?l.jsxs(l.Fragment,{children:[l.jsx(cc,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Hide canceled"]}):l.jsxs(l.Fragment,{children:[l.jsx(uc,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Show canceled"]})})})]}),C&&l.jsx("div",{className:"glass-card squircle-md p-4 border border-red-200 bg-red-50/50",children:l.jsx("p",{className:"text-sm text-red-700 font-medium",children:C})}),B&&l.jsxs("div",{className:"glass-card squircle-md p-4 border border-[rgba(95,179,249,0.35)] bg-white/80 flex items-center gap-3",children:[l.jsx(ll,{className:"h-4 w-4 text-[rgb(95,179,249)] animate-spin","aria-hidden":"true"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Loading product and order catelogue"}),l.jsx("p",{className:"text-xs text-slate-600",children:"Please hold while we sync the catalog data."})]})]})]}),l.jsx("div",{className:"relative",children:ze?Ia():Dc()})]}):null,ys=Ue==="details"?Lu:Ue==="orders"?Ja:ro,Ks=en&&!gt?{top:en.top,left:en.left,width:en.width,height:en.height,backgroundColor:"#fff"}:{top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:"#fff"},vs=e?l.jsxs(l.Fragment,{children:[l.jsxs(gc,{open:_t,onOpenChange:X=>{console.debug("[Header] Welcome dialog open change",{open:X}),Re(X)},children:[l.jsx(nS,{asChild:!0,children:l.jsxs(Qe,{type:"button",variant:"default",size:"sm",onClick:()=>Re(!0),className:"squircle-sm glass-brand btn-hover-lighter transition-all duration-300 whitespace-nowrap pl-1 pr-0 header-account-button","aria-haspopup":"dialog","aria-expanded":_t,children:[l.jsx("span",{className:"hidden sm:inline text-white",children:Ya}),l.jsx("span",{className:"header-account-avatar-shell",children:Yi(48,"header-account-avatar")})]})}),l.jsx(yl,{className:"checkout-modal glass-card squircle-lg w-full max-w-[min(960px,calc(100vw-3rem))] border border-[var(--brand-glass-border-2)] shadow-2xl p-0 flex flex-col max-h-[90vh] overflow-hidden",style:{backdropFilter:"blur(38px) saturate(1.6)"},children:l.jsxs("div",{ref:Ur,className:"relative w-full flex flex-col overflow-hidden transition-all duration-300 ease-in-out",style:{position:"relative",height:"auto",maxHeight:"90vh"},children:[l.jsx(Nu,{className:Et("sticky top-0 z-10 glass-card border-b border-[var(--brand-glass-border-1)] px-6 py-4 backdrop-blur-lg flex items-start justify-between gap-4 transition-opacity duration-300 ease-in-out",hn&&"opacity-0 invisible pointer-events-none select-none"),style:{boxShadow:"0 18px 28px -20px rgba(7,18,36,0.3)"},children:l.jsxs("div",{className:"flex-1 min-w-0 max-w-full space-y-3 account-header-content",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-wrap min-w-0",children:[l.jsx(pl,{className:"text-xl font-semibold header-user-name min-w-0 truncate",children:e.name}),l.jsx("span",{"aria-hidden":"true",className:"text-slate-300",children:"|"}),l.jsxs(Qe,{type:"button",variant:"outline",size:"sm",className:"header-home-button squircle-sm text-slate-900 gap-2",onClick:()=>{Re(!1),setTimeout(()=>{m&&m()},100)},children:[l.jsx(G5,{className:"h-5 w-5 text-[rgb(95,179,249)]","aria-hidden":"true"}),"Home"]})]}),l.jsx(ju,{className:"account-header-description",children:(e.visits??1)>1?"We appreciate you joining us on the path to making healthcare simpler and more transparent! You can manage your account details and orders below.":"We are thrilled to have you with uslet's make healthcare simpler together!"}),l.jsxs("div",{className:"relative w-full",children:[l.jsx("div",{className:"w-full account-tab-scroll-container",ref:ga,onMouseDown:Jp,onMouseMove:rf,onMouseUp:kl,onMouseLeave:En,onTouchStart:Xi,onTouchMove:Ta,onTouchEnd:Ic,onWheel:gi,children:l.jsx("div",{className:"flex items-center gap-4 pb-0 sm:pb-4 account-tab-row",children:Mc.map(X=>{const se=Ue===X.id;return l.jsxs("button",{type:"button",className:Et("relative inline-flex items-center gap-2 px-3 pb-4 pt-1 text-sm font-semibold whitespace-nowrap transition-colors text-slate-600 hover:text-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-black/30 flex-shrink-0",se&&"text-slate-900"),"data-tab":X.id,"aria-pressed":se,onClick:()=>tt(X.id),children:[l.jsx(X.Icon,{className:"h-3.5 w-3.5","aria-hidden":"true"}),X.label]},X.id)})})}),l.jsx("span",{"aria-hidden":"true",className:"account-tab-underline-indicator",style:{left:Ru,width:Pl,opacity:Zp}})]})]})}),l.jsx("div",{className:Et("flex-1 overflow-y-auto px-6 pb-6",hn&&"opacity-0 invisible pointer-events-none select-none"),children:l.jsx("div",{className:"space-y-6 pt-4",children:!hn&&(ys??l.jsx("div",{className:"text-sm text-slate-600",children:"Loading account details..."}))})}),hn&&l.jsx("div",{className:"absolute z-30 overflow-hidden bg-white opacity-100 mix-blend-normal transition-[top,left,width,height,opacity] duration-300 ease-in-out p-4 sm:p-6",style:{...Ks,borderRadius:"inherit",willChange:"top, left, width, height"},children:l.jsx("div",{className:"relative z-10 h-full w-full overflow-y-auto bg-white",children:ro})}),l.jsx("div",{className:Et("border-t border-[var(--brand-glass-border-1)] px-6 py-4 flex justify-end transition-opacity duration-300 ease-in-out",hn&&"hidden"),children:l.jsxs(Qe,{type:"button",variant:"outline",size:"sm",className:"btn-no-hover header-logout-button squircle-sm bg-transparent text-slate-900 border-0",onClick:yi,children:[l.jsx(r3,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})})]}),l.jsx(gc,{open:Ha,onOpenChange:Du,children:l.jsx(yl,{hideCloseButton:!0,className:"duration-[250ms] data-[state=closed]:duration-[250ms] !max-w-[min(28rem,calc(100vw-2rem))]",onTransitionEnd:X=>{X.propertyName==="opacity"&&Fr.current&&ka===0&&Mo()},style:{margin:"auto",maxWidth:"min(32rem, calc(100vw - 2rem))",opacity:ka,transition:`opacity ${Vt}ms ease`,transform:"none"},containerClassName:"fixed inset-0 z-[10000] flex items-center justify-center p-6 sm:p-10",overlayStyle:{backgroundColor:"rgba(4, 14, 21, 0.45)",backdropFilter:"blur(22px) saturate(1.35)",WebkitBackdropFilter:"blur(22px) saturate(1.35)",opacity:ka,transition:`opacity ${Vt}ms ease`},children:l.jsx("div",{className:"px-8 py-14 text-center sm:px-10 sm:py-16",children:l.jsx("p",{className:"text-base leading-relaxed",style:{color:V},children:"Thank you for being a partner of ours and a joy to those around you. We at PepPro wish you a great rest of your day and will be here when you need us!"})})})}),Ol()]}):l.jsxs(l.Fragment,{children:[l.jsxs(gc,{open:K,onOpenChange:Zi,children:[l.jsx(nS,{asChild:!0,children:l.jsxs(Qe,{variant:"default",className:"squircle-sm glass-brand-subtle btn-hover-lighter transition-all duration-300 whitespace-nowrap",children:[l.jsx(j3,{className:"h-4 w-4 flex-shrink-0"}),l.jsx("span",{className:"hidden sm:inline ml-2",children:"Login"})]})}),l.jsxs(yl,{className:"glass-card squircle-xl w-auto border border-[var(--brand-glass-border-2)] shadow-2xl !p-4 sm:!p-6",style:{backdropFilter:"blur(38px) saturate(1.6)",width:"min(560px, calc(100vw - 4.5rem))",maxWidth:"min(560px, calc(100vw - 4.5rem))"},children:[l.jsxs(Nu,{className:"flex items-start justify-between gap-4 border-b border-[var(--brand-glass-border-1)] pb-3",style:{boxShadow:"0 20px 45px -18px rgba(15,23,42,0.1)",position:"relative",zIndex:20},children:[l.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[l.jsx(pl,{className:"text-xl font-semibold text-[rgb(95,179,249)]",children:pe==="login"?"Welcome back":"Create Account"}),l.jsx(ju,{children:pe==="login"?"Login to enter your PepPro account.":"Create your PepPro physician account to access PepPro."}),pe==="signup"&&l.jsx("p",{className:"text-base leading-snug",style:{color:V},children:"Your representative will work with you, if intended, to collect your resellers permit."})]}),l.jsx(FN,{className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)",borderRadius:"50%"},"aria-label":"Close account modal",children:l.jsx(Su,{className:"h-4 w-4"})})]}),pe==="login"?l.jsxs("div",{className:"space-y-5",children:[l.jsxs("form",{ref:Ac,autoComplete:"on",onSubmit:Ro,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(dn,{htmlFor:"login-username",children:"Email"}),l.jsx(hr,{ref:mi,id:"login-username",name:"username",type:"email",autoComplete:"username",inputMode:"email",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,onFocus:Tc,className:"glass squircle-sm mt-1 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:J},required:!0})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(dn,{htmlFor:"login-password",children:"Password"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(hr,{ref:ms,id:"login-password",name:"password",autoComplete:"current-password",type:tn?"text":"password",autoCorrect:"off",spellCheck:!1,onFocus:Tc,className:"glass squircle-sm pr-20 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:J},required:!0}),l.jsx("button",{type:"button",onClick:()=>Kr(X=>!X),className:"absolute right-4 top-1/2 -translate-y-1/2 inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-gray-600 hover:text-gray-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.12)] btn-hover-lighter","aria-label":tn?"Hide password":"Show password","aria-pressed":tn,children:tn?l.jsxs(l.Fragment,{children:[l.jsx(uc,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Hide"})]}):l.jsxs(l.Fragment,{children:[l.jsx(cc,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Show"})]})})]})]}),Ee&&l.jsx("p",{className:"text-sm text-red-600",children:Ee}),l.jsxs(Qe,{type:"submit",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter inline-flex items-center justify-center gap-2",disabled:$r,children:[$r&&l.jsx(Md,{className:"h-4 w-4 animate-spin-slow text-white shrink-0","aria-hidden":"true",style:{transformOrigin:"center center",transform:"translateZ(0)"}}),$r?"Signing in":"Sign In"]})]}),l.jsxs("p",{className:"text-center text-sm text-gray-600",children:["New to PepPro?"," ",l.jsx("button",{type:"button",onClick:()=>Y("signup"),className:"font-semibold btn-hover-lighter",style:{color:V},children:"Create an account"})]})]}):l.jsxs("div",{className:"space-y-5",children:[l.jsxs("form",{onSubmit:Hs,className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:gap-4",children:[l.jsxs("div",{className:"space-y-2 sm:w-36 sm:pb-0",children:[l.jsxs(dn,{htmlFor:"suffix",children:[l.jsx("span",{children:"Suffix"}),l.jsx("span",{className:"ml-2 text-xs font-normal text-gray-500",children:"Optional"})]}),l.jsxs("select",{id:"suffix",value:U,onChange:X=>Q(X.target.value),className:"glass squircle-sm mt-1 w-full px-3 text-sm border transition-colors focus-visible:outline-none focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[3px] focus-visible:ring-[rgba(95,179,249,0.3)] leading-tight",style:{borderColor:J,backgroundColor:"rgba(95,179,249,0.02)",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23071b1b' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"12px",paddingRight:"2.5rem",height:"2.5rem",lineHeight:"1.25rem"},children:[l.jsx("option",{value:"",children:"None"}),l.jsx("option",{value:"Mr.",children:"Mr."}),l.jsx("option",{value:"Mrs.",children:"Mrs."}),l.jsx("option",{value:"Ms.",children:"Ms."}),l.jsx("option",{value:"Mx.",children:"Mx."}),l.jsx("option",{value:"Dr.",children:"Dr."}),l.jsx("option",{value:"Prof.",children:"Prof."}),l.jsx("option",{value:"Sir",children:"Sir"}),l.jsx("option",{value:"Dame",children:"Dame"})]})]}),l.jsxs("div",{className:"flex-1 space-y-2 sm:pb-0",children:[l.jsx(dn,{htmlFor:"name",children:"Full Name"}),l.jsx(hr,{id:"name",name:"name",autoComplete:"name",type:"text",value:he,onChange:X=>ve(X.target.value),className:"glass squircle-sm mt-1 h-10 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:J},required:!0})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(dn,{htmlFor:"signup-email",children:"Email"}),l.jsx(hr,{id:"signup-email",name:"email",autoComplete:"email",type:"email",value:fe,onChange:X=>je(X.target.value),className:"glass squircle-sm mt-1 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:J},required:!0})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(dn,{htmlFor:"signup-password",children:"Password"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(hr,{id:"signup-password",name:"password",autoComplete:"new-password",type:Pa?"text":"password",value:Ie,onChange:X=>qe(X.target.value),className:"glass squircle-sm pr-20 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:J},required:!0}),l.jsx("button",{type:"button",onClick:()=>gr(X=>!X),className:"absolute right-4 top-1/2 -translate-y-1/2 inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-gray-600 hover:text-gray-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.12)] btn-hover-lighter","aria-label":Pa?"Hide password":"Show password","aria-pressed":Pa,children:Pa?l.jsxs(l.Fragment,{children:[l.jsx(uc,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Hide"})]}):l.jsxs(l.Fragment,{children:[l.jsx(cc,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Show"})]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(dn,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),l.jsxs("div",{className:"relative mt-1",children:[l.jsx(hr,{id:"signup-confirm-password",name:"confirm-password",autoComplete:"new-password",type:ea?"text":"password",value:Ve,onChange:X=>Me(X.target.value),className:"glass squircle-sm pr-20 focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:J},required:!0}),l.jsx("button",{type:"button",onClick:()=>Jt(X=>!X),className:"absolute right-4 top-1/2 -translate-y-1/2 inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-gray-600 hover:text-gray-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.12)] btn-hover-lighter","aria-label":ea?"Hide confirm password":"Show confirm password","aria-pressed":ea,children:ea?l.jsxs(l.Fragment,{children:[l.jsx(uc,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Hide"})]}):l.jsxs(l.Fragment,{children:[l.jsx(cc,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Show"})]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(dn,{htmlFor:"signup-code",children:"Referral Code"}),l.jsx(hr,{id:"signup-code",name:"referral-code",autoComplete:"off",value:Ae,onChange:X=>We(X.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,5)),maxLength:5,inputMode:"text",pattern:"[A-Z0-9]*",className:"glass squircle-sm focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)]",style:{borderColor:J,textTransform:"uppercase"},required:!0}),l.jsx("p",{className:"text-xs text-slate-500",children:"Codes are 5 characters and issued by your sales representative."})]}),wt&&l.jsx("p",{className:"text-sm text-red-600",children:wt}),l.jsx(Qe,{type:"submit",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter",children:"Create Account"})]}),l.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",l.jsx("button",{type:"button",onClick:()=>Y("login"),className:"font-semibold btn-hover-lighter",style:{color:V},children:"Sign in"})]})]}),l.jsxs("div",{className:"mt-6 glass squircle-lg p-4 sm:p-5 space-y-4 border border-[var(--brand-glass-border-1)]",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Track an order"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Enter your PepPro order ID and email. We'll email you the latest fulfillment update."})]}),l.jsxs("form",{className:"grid gap-3 sm:grid-cols-2",onSubmit:Vs,children:[l.jsxs("div",{children:[l.jsx(dn,{htmlFor:"account-track-id",children:"Order ID"}),l.jsx(hr,{id:"account-track-id",value:Ar.orderId,onChange:X=>Br(se=>({...se,orderId:X.target.value})),className:"mt-1",placeholder:"ORD-12345",required:!0})]}),l.jsxs("div",{children:[l.jsx(dn,{htmlFor:"account-track-email",children:"Email"}),l.jsx(hr,{id:"account-track-email",type:"email",value:Ar.email,onChange:X=>Br(se=>({...se,email:X.target.value})),className:"mt-1",placeholder:"you@example.com"})]}),l.jsxs("div",{className:"sm:col-span-2 flex flex-wrap items-center gap-3",children:[l.jsxs(Qe,{type:"submit",className:"glass-brand squircle-sm inline-flex items-center gap-2",disabled:rn,children:[rn&&l.jsx(Md,{className:"h-4 w-4 animate-spin text-current shrink-0","aria-hidden":"true",style:{transformOrigin:"center center"}}),rn?"Checking":"Email tracking link"]}),Va&&l.jsx("p",{className:"text-sm text-slate-600",children:Va})]})]})]})]})]}),Ol()]}),Lc=fn?{maxWidth:"160px",maxHeight:"160px"}:{maxWidth:"min(190px, 56vw)",maxHeight:"78px"};return l.jsx("header",{ref:ko,"data-app-header":!0,className:"w-full glass-strong border-b border-white/20 bg-white/70 supports-[backdrop-filter]:bg-white/40 backdrop-blur shadow-sm",style:{position:"fixed",top:0,left:0,right:0,zIndex:9500},children:l.jsx("div",{className:"w-full px-6 sm:px-6 py-4",children:l.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[l.jsxs("div",{className:"flex w-full flex-wrap items-center gap-3 sm:gap-4 justify-between",children:[l.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-shrink-0",children:l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("div",{className:"brand-logo relative flex items-center justify-center flex-shrink-0",children:l.jsx("img",{src:"/Peppro_fulllogo.png",alt:"PepPro logo",className:"relative z-[1] flex-shrink-0",style:{display:"block",width:"auto",height:"auto",maxWidth:Lc.maxWidth,maxHeight:Lc.maxHeight,objectFit:"contain"}})})})}),fn&&l.jsx("form",{onSubmit:Ws,className:"flex flex-1 justify-center",children:l.jsx("div",{className:"w-full max-w-md",children:to()})}),l.jsxs("div",{className:"ml-auto flex items-center gap-2 md:gap-4 flex-wrap sm:flex-nowrap justify-end",children:[(fs==="offline"||fs==="poor")&&l.jsx("div",{className:"flex items-center justify-center squircle-sm border border-slate-200 bg-white/70 px-2 py-1",title:fs==="offline"?"Offline":(()=>{const X=[];return typeof mn.downloadMbps=="number"&&X.push(`Down ${mn.downloadMbps} Mbps`),typeof mn.latencyMs=="number"&&X.push(`Latency ${mn.latencyMs} ms`),`Poor internet connection${X.length?` (${X.join("  ")})`:""}`})(),"aria-label":fs==="offline"?"Offline":"Poor internet connection",children:fs==="offline"?l.jsx(A3,{className:"h-4 w-4 text-slate-800","aria-hidden":"true"}):l.jsx(l9,{activeBars:1})}),vs,!fn&&l.jsxs(Qe,{type:"button",variant:"outline",size:"icon",onClick:Qi,"aria-expanded":Qt,className:"glass squircle-sm transition-all duration-300",style:{color:V,borderColor:J},children:[Qt?l.jsx(Su,{className:"h-4 w-4",style:{color:V}}):l.jsx(D_,{className:"h-4 w-4",style:{color:V}}),l.jsx("span",{className:"sr-only",children:Qt?"Close search":"Open search"})]})]})]}),Qt&&!fn&&l.jsx("div",{className:"px-1 pb-2",children:l.jsx("form",{onSubmit:Ws,children:to()})})]})})})}function Z_({label:e,value:t,type:r="text",autoComplete:n,onSave:a}){const[i,c]=y.useState(!1),[u,f]=y.useState(t);y.useEffect(()=>f(t),[t]);const[p,g]=y.useState(!1),m=y.useCallback(async()=>{if(!p){g(!0);try{await a(u),c(!1)}finally{g(!1)}}},[u,a,p]);return l.jsxs("div",{className:"editable-row group flex items-start gap-3 sm:items-center",children:[l.jsx("div",{className:"min-w-[7rem] text-sm font-medium text-slate-700",children:e}),l.jsxs("div",{className:"flex-1 flex items-center gap-2 flex-wrap",children:[i?l.jsx("input",{className:"w-full h-9 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",value:u,type:r,autoComplete:n,onChange:x=>f(x.currentTarget.value),onKeyDown:async x=>{x.key==="Enter"&&(x.preventDefault(),await m())}}):l.jsxs("div",{className:"text-sm text-slate-700 flex items-center gap-2",children:[l.jsx("span",{children:t||""}),l.jsx("button",{type:"button",className:Et("inline-edit-button",i&&"is-active"),onClick:()=>c(!0),"aria-label":`Edit ${e}`,title:`Edit ${e}`,children:l.jsx(pI,{className:"w-3 h-3"})})]}),i&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qe,{variant:"outline",className:"squircle-sm",disabled:p,onClick:m,children:"Save"}),l.jsx(Qe,{variant:"ghost",className:"squircle-sm",onClick:()=>{f(t),c(!1)},children:"Cancel"})]})]})]})}const Sv=y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card",className:Zn("glass-card text-card-foreground flex flex-col gap-6 rounded-xl border border-[var(--brand-glass-border-2)]",e),...t}));Sv.displayName="Card";const TI=y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card-header",className:Zn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t}));TI.displayName="CardHeader";const II=y.forwardRef(({className:e,...t},r)=>l.jsx("h4",{ref:r,"data-slot":"card-title",className:Zn("leading-none",e),...t}));II.displayName="CardTitle";const w9=y.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,"data-slot":"card-description",className:Zn("text-muted-foreground",e),...t}));w9.displayName="CardDescription";const S9=y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card-action",className:Zn("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...t}));S9.displayName="CardAction";const Nv=y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card-content",className:Zn("px-6 [&:last-child]:pb-6",e),...t}));Nv.displayName="CardContent";const RI=y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"card-footer",className:Zn("flex items-center px-6 pb-6 [.border-t]:pt-6",e),...t}));RI.displayName="CardFooter";const N9="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==",MI=e=>null,J_=MI()??null,eC=MI()??null;function DI(e){const[t,r]=y.useState(!1),[n,a]=y.useState(!1),[i,c]=y.useState(0),[u,f]=y.useState(null),p=y.useRef(!0),g=y.useRef(null),m=y.useRef(Date.now()),{alt:x,style:N,className:A,loading:C="lazy",decoding:_="async",referrerPolicy:O="no-referrer",crossOrigin:R,src:D,...$}=e,k="/Peppro_IconLogo_Transparent_NoBuffer.png",M=typeof D=="string"?D.trim():"",L=M||k,B=u??L,V=B===k;y.useEffect(()=>(p.current=!0,()=>{p.current=!1,g.current&&(window.clearTimeout(g.current),g.current=null)}),[]),y.useEffect(()=>{g.current&&(window.clearTimeout(g.current),g.current=null),m.current=Date.now(),c(0),r(!1),a(L===k),f(L)},[L]);const J=y.useMemo(()=>!L||L===k||J_!==null&&i>=J_?!1:eC!==null?Date.now()-m.current<eC:!0,[L,i]),K=y.useMemo(()=>{if(!L||L===k)return null;let de=L;if(/^https?:\/\//i.test(de)&&/\s/.test(de))try{de=encodeURI(de)}catch{}const G=de.includes("?")?"&":"?";return`${de}${G}_imgRetry=${Date.now()}_${i+1}`},[L,i]),ce=()=>{if(V){r(!0),a(!0);return}if(J&&K){const de=i+1,G=Math.min(6e4,800*Math.pow(1.7,de-1));c(de),r(!1),f(k),a(!0),g.current&&window.clearTimeout(g.current),g.current=window.setTimeout(()=>{g.current=null,p.current&&(f(K),a(!1))},G);return}f(k),a(!0)},ue=()=>{a(!0)};return t?l.jsx("div",{className:`flex h-full w-full items-center justify-center bg-gray-100 text-center align-middle ${A??""}`,style:N,children:l.jsx("img",{src:N9,alt:x||"Image",className:"block max-h-full max-w-full object-contain",loading:C,decoding:_,referrerPolicy:O,crossOrigin:R,...$,onLoad:ue})}):l.jsxs("div",{className:"relative flex h-full w-full items-center justify-center overflow-hidden",style:N,children:[!n&&!t&&!V&&l.jsx("div",{className:"image-skeleton","aria-hidden":"true"}),l.jsx("img",{src:B,alt:x,loading:C,decoding:_,referrerPolicy:O,crossOrigin:R,className:`block object-contain transition-opacity duration-300 ${V||n?"opacity-100":"opacity-0"} ${V?"peppro-placeholder-img":""} ${A??""}`,...$,onLoad:ue,onError:ce})]})}const Yd={},j9=(()=>{const e=String(Yd?.VITE_AUTO_OPEN_STRENGTH??"").toLowerCase().trim();return e?e==="true":!0})(),tC=(()=>{const e=String(Yd?.VITE_AUTO_OPEN_STRENGTH_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:750})(),_9=(()=>{const e=String(Yd?.VITE_AUTO_OPEN_STRENGTH_PACE_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:500})(),C9=String(Yd?.VITE_AUTO_CYCLE_STRENGTH||"").toLowerCase().trim()==="true",E9=(()=>{const e=String(Yd?.VITE_AUTO_CYCLE_STRENGTH_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:175})(),Wg="__peppro_needs_variant__",A9="/Peppro_IconLogo_Transparent_NoBuffer.png",P9=(()=>{const e=String(Yd?.VITE_AUTO_OPEN_IMAGE_TIMEOUT_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:45e3})(),k9=(()=>{const e=String(Yd?.VITE_AUTO_OPEN_IMAGE_MAX_ATTEMPTS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=1?t:10})(),O9=(e,t)=>new Promise(r=>{const n=new Image;let a=!1;const i=window.setTimeout(()=>{a||(a=!0,r(!1))},t);n.onload=()=>{a||(a=!0,window.clearTimeout(i),r(!0))},n.onerror=()=>{a||(a=!0,window.clearTimeout(i),r(!1))},n.src=e}),T9=(e,t)=>{const r=e.includes("?")?"&":"?";return`${e}${r}_imgRetry=${Date.now()}_${t}`},I9=async(e,t)=>{const r=e.trim();if(!r||r===A9||r.startsWith("data:"))return!0;const n=Date.now();let a=0;for(;Date.now()-n<t&&a<k9;){if(a+=1,await O9(a===1?r:T9(r,a),25e3))return!0;const c=Math.min(6e4,900*Math.pow(1.7,a-1));await new Promise(u=>window.setTimeout(u,c))}return!1},by=[];let oh=!1;const LI=()=>{if(oh||by.length===0)return;oh=!0;const e=by.shift();if(!e){oh=!1;return}e().catch(()=>{}).finally(()=>{oh=!1,LI()})},R9=e=>{by.push(e),LI()},Hg=e=>!Array.isArray(e)||e.length===0?{id:"default",strength:"Standard",basePrice:0}:e.find(t=>!!t?.image)??e[0];function M9({product:e,onAddToCart:t,onEnsureVariants:r}){const n=y.useMemo(()=>(Array.isArray(e.variations)?e.variations:[]).filter(Ue=>Ue?.id!==Wg),[e.variations]),a=Array.isArray(e.variations)&&e.variations.length===1&&e.variations[0]?.id===Wg,[i,c]=y.useState(Hg(n.length>0?n:e.variations)),[u,f]=y.useState(""),[p,g]=y.useState(1),[m,x]=y.useState("1"),[N,A]=y.useState(!1),[C,_]=y.useState(!1),O=y.useRef(!1),R=y.useRef(!1),D=y.useRef(null),$=y.useRef(null),[k,M]=y.useState(!1),[L,B]=y.useState(!1),[V,J]=y.useState(null),[K,ce]=y.useState(null),ue=y.useMemo(()=>{const Re=String(e.id||"").trim(),Ue=Re.match(/^woo-(\d+)$/i);if(Ue&&Ue[1]){const rt=Number.parseInt(Ue[1],10);return Number.isFinite(rt)?rt:null}const tt=Re.replace(/[^0-9]/g,"");if(tt){const rt=Number.parseInt(tt,10);return Number.isFinite(rt)?rt:null}return null},[e.id]);y.useEffect(()=>()=>{K&&URL.revokeObjectURL(K)},[K]),y.useEffect(()=>{const Re=Array.isArray(e.variations)?e.variations:[];if(Re.length===0)return;const Ue=Re.filter(rt=>rt?.id!==Wg),tt=Ue.length>0?Ue:Re;c(rt=>{const Ct=tt.find(gt=>gt.id===rt.id)??Hg(tt);return Ct?.id===rt.id?rt:Ct}),f(rt=>Ue.length===0?"":(rt?Ue.some(gt=>gt.id===rt):!1)?rt:Hg(Ue).id)},[e.id,e.variations]),y.useEffect(()=>{if(!C9||C||R.current||!Array.isArray(e.variations)||e.variations.length<2||D.current===e.id)return;const Re=e.variations.filter(Ct=>!!Ct?.image);if(Re.length===0)return;D.current=e.id;let Ue=!1;const tt=Ct=>new Promise(gt=>window.setTimeout(gt,Ct));return(async()=>{for(const Ct of Re){if(Ue||R.current)return;c(Ct),await tt(E9)}Ue||R.current||c(Hg(e.variations))})(),()=>{Ue=!0}},[e.id,e.variations,C]);const de=e.bulkPricingTiers??[],G="h-8 w-8 squircle-sm",pe=(()=>{if(de.length===0)return i.basePrice;const Re=[...de].sort((Ue,tt)=>tt.minQuantity-Ue.minQuantity).find(Ue=>p>=Ue.minQuantity);if(Re){const Ue=Re.discountPercentage/100;return i.basePrice*(1-Ue)}return i.basePrice})(),Y=pe*p,he=de.find(Re=>Re.minQuantity>p)||null,ve=y.useMemo(()=>{if(!de.length)return[];const Re=[...de].sort((Ct,gt)=>Ct.minQuantity-gt.minQuantity),Ue=Re.findIndex(Ct=>p<Ct.minQuantity);let tt=Ue===-1?Math.max(0,Re.length-5):Math.max(0,Ue-2),rt=Re.slice(tt,tt+5);return rt.length<5&&tt>0&&(tt=Math.max(0,tt-(5-rt.length)),rt=Re.slice(tt,tt+5)),rt},[de,p]),U=Re=>{const Ue=Math.max(1,p+Re);g(Ue),x(String(Ue)),A(!0)},Q=typeof r=="function"&&(a||e.variations.some(Re=>String(Re.id).startsWith("woo-variation-"))),fe=async Re=>{if(!Q)return;const Ue=Re?.force===!0;if(!C&&!(!Ue&&O.current)){Ue||(O.current=!0);try{return _(!0),await r(Re)}finally{_(!1)}}},je=Re=>{if(R.current=!0,f(Re),!Re||Re===Wg){fe({force:!0});return}const Ue=n?.find(tt=>tt.id===Re);Ue&&c(Ue)};y.useEffect(()=>{if(!j9||!a||typeof r!="function"||C||O.current||R.current||$.current===e.id)return;$.current=e.id;const Re=!oh&&by.length===0;R9(async()=>{if(Re&&tC>0&&await new Promise(rt=>window.setTimeout(rt,tC)),R.current)return;const Ue=await fe();if(R.current)return;const tt=(()=>{const rt=Ue,Ct=Array.isArray(rt?.variants)?rt.variants:[],gt=typeof rt?.defaultVariantId=="string"&&rt.defaultVariantId.trim().length>0?rt.defaultVariantId.trim():null,fr=gt?Ct.find(Qt=>Qt?.id===gt):null,en=(fr&&typeof fr?.image=="string"&&fr.image.trim().length>0?fr:null)??Ct.find(Qt=>typeof Qt?.image=="string"&&Qt.image.trim().length>0),Sr=typeof rt?.image=="string"?rt.image:null;return en?.image??Sr??null})();typeof tt=="string"&&tt.trim().length>0&&await I9(tt.trim(),P9),await new Promise(rt=>window.setTimeout(rt,_9))})},[a,r,e.id,C]);const Ie=async()=>{if(M(!0),J(null),!(K||L)){if(!ue){J("Certificate unavailable for this product.");return}B(!0);try{const{blob:Re}=await Rd.getCertificateOfAnalysis(ue),Ue=URL.createObjectURL(Re);ce(Ue)}catch(Re){const Ue=typeof Re?.status=="number"?Re.status:null;J(Ue===404?"We are working to attach a certificate for this product.":typeof Re?.message=="string"?Re.message:"Failed to load certificate.")}finally{B(!1)}}},qe=()=>{if(!K)return;const Ue=`${e.name.trim().replace(/[^a-z0-9]+/gi,"_").replace(/^_+|_+$/g,"").slice(0,80)||"certificate_of_analysis"}.png`,tt=document.createElement("a");tt.href=K,tt.download=Ue,tt.rel="noopener",document.body.appendChild(tt),tt.click(),tt.remove();try{EI.post("/settings/downloads/track",{kind:"coa",wooProductId:ue,productId:e?.id,filename:Ue,at:new Date().toISOString()})}catch{}},Ve=l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"line-clamp-2 text-slate-900",children:e.name}),l.jsx("button",{type:"button",onClick:()=>void Ie(),className:"line-clamp-2 text-left hover:underline",style:{color:"rgb(95, 179, 249)"},children:"Certificate of Analysis"}),e.manufacturer&&l.jsx("p",{className:"text-xs text-gray-500",children:e.manufacturer})]}),Ae=y.useMemo(()=>{const Re=Array.isArray(e.images)&&e.images.length>0?e.images:[e.image];return i?.image?[i.image,...Re].filter((Ue,tt,rt)=>!!Ue&&rt.indexOf(Ue)===tt):Re},[e.images,e.image,i?.image])[0]||e.image,We=e.variations&&e.variations.length>0?l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-600",htmlFor:`variation-${e.id}`,children:"Strength"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{id:`variation-${e.id}`,value:u,onChange:Re=>je(Re.target.value),onFocus:()=>{R.current=!0,(a||n.length===0)&&fe({force:!0})},onClick:()=>{R.current=!0,(a||n.length===0)&&fe({force:!0})},onMouseDown:()=>{R.current=!0,(a||n.length===0)&&fe({force:!0})},disabled:C,className:"w-full squircle-sm border border-[rgba(255,255,255,0.5)] bg-white/80 px-3 py-2 text-sm font-[Lexend] transition-all focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.4)] focus:border-[rgba(95,179,249,0.6)] product-card-select",children:[(a||!u||n.length===0)&&l.jsx("option",{value:"",disabled:!0,children:C?"Loading variants":"Select strength"}),n.map(Re=>l.jsx("option",{value:Re.id,children:C?"Loading variants":Re.strength},Re.id))]}),l.jsx("span",{className:"product-card-select__chevron","aria-hidden":"true",children:l.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",children:l.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]})]}):null,et=l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-600",children:"Quantity"}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[l.jsx(Qe,{variant:"outline",size:"icon",className:G,onClick:()=>U(-1),disabled:p<=1,children:l.jsx($N,{className:"h-3 w-3"})}),l.jsx("div",{className:"flex-1 text-center px-3 py-1 glass-card squircle-sm",children:l.jsx(hr,{type:"text",inputMode:"numeric",pattern:"[0-9]*",min:1,value:m,onChange:Re=>{const Ue=Re.target.value.replace(/[^0-9]/g,"");if(x(Ue),Ue){const tt=Math.max(1,Number(Ue));g(tt)}A(!0)},onBlur:()=>{m||(g(1),x("1"))},className:"h-auto border-none bg-transparent text-center text-base font-semibold focus-visible:ring-0 focus-visible:outline-none"})}),l.jsx(Qe,{variant:"outline",size:"icon",className:G,onClick:()=>U(1),children:l.jsx(bv,{className:"h-3 w-3"})})]})]}),Ee=l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-baseline justify-between gap-2",children:[l.jsx("span",{className:"text-xs text-gray-600",children:"Unit Price:"}),l.jsxs("span",{className:"font-bold text-green-600",children:["$",pe.toFixed(2)]})]}),l.jsxs("div",{className:"flex flex-wrap items-baseline justify-between gap-2",children:[l.jsx("span",{className:"text-xs text-gray-600",children:"Total:"}),l.jsxs("span",{className:"text-lg font-bold text-green-700",children:["$",Y.toFixed(2)]})]})]}),lt=de.length>0?l.jsxs(l.Fragment,{children:[l.jsxs("button",{type:"button",onClick:()=>A(Re=>!Re),className:"flex w-full items-center justify-between text-xs font-semibold text-slate-700 focus-visible:outline-none",children:[l.jsx("span",{className:"tracking-wide uppercase text-[0.65rem]",children:"Bulk Pricing"}),l.jsx("span",{className:"text-[rgb(95,179,249)] text-[0.65rem] font-medium",children:N?"Hide":"Show"})]}),N&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-1.5 pt-1",children:ve.map(Re=>l.jsxs("div",{className:"flex items-center justify-between rounded-md px-2 py-1 text-[0.8rem]",children:[l.jsxs("span",{className:p>=Re.minQuantity?"text-green-600 font-semibold":"text-slate-600",children:["Buy ",Re.minQuantity,"+"]}),l.jsxs("span",{className:p>=Re.minQuantity?"text-green-600 font-semibold tabular-nums":"text-slate-600 tabular-nums",children:["Save ",Re.discountPercentage,"%"]})]},`${Re.minQuantity}-${Re.discountPercentage}`))}),he&&l.jsxs("p",{className:"text-xs text-[rgb(95,179,249)] mt-1 font-medium",children:["Buy ",he.minQuantity-p," more to save ",he.discountPercentage,"%"]})]})]}):null,wt=lt?l.jsx("div",{className:"glass-card squircle-sm border border-[var(--brand-glass-border-2)] p-3 space-y-2",children:lt}):null,ht=l.jsxs(Qe,{onClick:()=>{t(e.id,i.id,p),g(1),x("1"),A(!1)},className:"squircle-sm glass-brand btn-hover-lighter w-full",children:[l.jsx(vp,{className:"w-4 h-4 mr-2"}),"Add to Cart"]});return l.jsxs(l.Fragment,{children:[l.jsxs(Sv,{className:"group h-full gap-3 overflow-hidden glass-card squircle-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-l-4 border-l-[rgba(95,179,249,0.5)] border-t border-r border-b border-[rgba(255,255,255,0.45)]",style:{background:"linear-gradient(to right, rgba(95,179,249,0.08) 0%, rgba(255,255,255,0.35) 8px, rgba(255,255,255,0.35) 100%)",backdropFilter:"blur(40px) saturate(1.7)",WebkitBackdropFilter:"blur(40px) saturate(1.7)"},children:[l.jsxs(Nv,{className:"flex-1 p-0",children:[l.jsx("div",{className:"product-image-frame product-image-frame--flush",children:l.jsx(DI,{src:Ae,alt:e.name,className:"product-image-frame__img"})}),l.jsxs("div",{className:"p-4 pb-3 space-y-3",children:[l.jsx("div",{className:"space-y-1",children:Ve}),We,et,Ee,wt]})]}),l.jsx(RI,{className:"mt-auto p-4 pt-0",children:ht})]}),l.jsx(gc,{open:k,onOpenChange:Re=>{M(Re),Re||(J(null),K&&(URL.revokeObjectURL(K),ce(null)))},children:l.jsxs(yl,{className:"checkout-modal glass-card squircle-lg w-full max-w-[min(960px,calc(100vw-3rem))] border border-[var(--brand-glass-border-2)] shadow-2xl p-0 flex flex-col max-h-[90vh] overflow-hidden",style:{backdropFilter:"blur(38px) saturate(1.6)"},hideCloseButton:!0,children:[l.jsx(Nu,{className:"sticky top-0 z-10 glass-card border-b border-[var(--brand-glass-border-1)] px-6 py-4 backdrop-blur-lg",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(pl,{className:"text-xl font-semibold text-[rgb(95,179,249)]",children:"Certificate of Analysis"}),l.jsx(ju,{className:"truncate",children:e.name})]}),l.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[l.jsxs(Qe,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:qe,disabled:!K||L,title:K?"Download certificate":"Certificate not loaded yet",children:[l.jsx(py,{className:"h-4 w-4","aria-hidden":"true"}),"Download"]}),l.jsx(FN,{className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 aspect-square items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)"},"aria-label":"Close certificate",children:l.jsx(Su,{className:"h-4 w-4"})})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:l.jsx("div",{className:"space-y-6 pt-6",children:l.jsx("div",{className:"min-h-[320px] rounded-xl border border-[var(--brand-glass-border-2)] bg-white/80 p-3 sm:p-4 flex items-center justify-center",children:L?l.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[l.jsx(Md,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}),"Loading certificate"]}):K?l.jsx("img",{src:K,alt:`Certificate of Analysis for ${e.name}`,className:"max-h-[70vh] w-auto max-w-full object-contain"}):l.jsx("div",{className:"text-sm text-slate-600 text-center",children:V||"Unable to load certificate."})})})})]})})]})}function D9(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function L9(e){const[t,r]=y.useState(void 0);return yp(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let c,u;if("borderBoxSize"in i){const f=i.borderBoxSize,p=Array.isArray(f)?f[0]:f;c=p.inlineSize,u=p.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var jv="Checkbox",[$9]=PT(jv),[F9,KN]=$9(jv);function B9(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:c,name:u,onCheckedChange:f,required:p,value:g="on",internal_do_not_use_render:m}=e,[x,N]=kT({prop:r,defaultProp:a??!1,onChange:f,caller:jv}),[A,C]=y.useState(null),[_,O]=y.useState(null),R=y.useRef(!1),D=A?!!c||!!A.closest("form"):!0,$={checked:x,disabled:i,setChecked:N,control:A,setControl:C,name:u,form:c,value:g,hasConsumerStoppedPropagationRef:R,required:p,defaultChecked:_u(a)?!1:a,isFormControl:D,bubbleInput:_,setBubbleInput:O};return l.jsx(F9,{scope:t,...$,children:q9(m)?m($):n})}var $I="CheckboxTrigger",FI=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:c,disabled:u,checked:f,required:p,setControl:g,setChecked:m,hasConsumerStoppedPropagationRef:x,isFormControl:N,bubbleInput:A}=KN($I,e),C=jc(a,g),_=y.useRef(f);return y.useEffect(()=>{const O=i?.form;if(O){const R=()=>m(_.current);return O.addEventListener("reset",R),()=>O.removeEventListener("reset",R)}},[i,m]),l.jsx(Ds.button,{type:"button",role:"checkbox","aria-checked":_u(f)?"mixed":f,"aria-required":p,"data-state":HI(f),"data-disabled":u?"":void 0,disabled:u,value:c,...n,ref:C,onKeyDown:gl(t,O=>{O.key==="Enter"&&O.preventDefault()}),onClick:gl(r,O=>{m(R=>_u(R)?!0:!R),A&&N&&(x.current=O.isPropagationStopped(),x.current||O.stopPropagation())})})});FI.displayName=$I;var BI=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:c,disabled:u,value:f,onCheckedChange:p,form:g,...m}=e;return l.jsx(B9,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:u,required:c,onCheckedChange:p,name:n,form:g,value:f,internal_do_not_use_render:({isFormControl:x})=>l.jsxs(l.Fragment,{children:[l.jsx(FI,{...m,ref:t,__scopeCheckbox:r}),x&&l.jsx(WI,{__scopeCheckbox:r})]})})});BI.displayName=jv;var qI="CheckboxIndicator",UI=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=KN(qI,r);return l.jsx(tg,{present:n||_u(i.checked)||i.checked===!0,children:l.jsx(Ds.span,{"data-state":HI(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});UI.displayName=qI;var zI="CheckboxBubbleInput",WI=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:c,required:u,disabled:f,name:p,value:g,form:m,bubbleInput:x,setBubbleInput:N}=KN(zI,e),A=jc(r,N),C=D9(i),_=L9(n);y.useEffect(()=>{const R=x;if(!R)return;const D=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(D,"checked").set,M=!a.current;if(C!==i&&k){const L=new Event("click",{bubbles:M});R.indeterminate=_u(i),k.call(R,_u(i)?!1:i),R.dispatchEvent(L)}},[x,C,i,a]);const O=y.useRef(_u(i)?!1:i);return l.jsx(Ds.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??O.current,required:u,disabled:f,name:p,value:g,form:m,...t,tabIndex:-1,ref:A,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});WI.displayName=zI;function q9(e){return typeof e=="function"}function _u(e){return e==="indeterminate"}function HI(e){return _u(e)?"indeterminate":e?"checked":"unchecked"}const VI=y.forwardRef(({className:e,...t},r)=>l.jsx(BI,{ref:r,"data-slot":"checkbox",className:Zn("glass-checkbox peer relative grid h-5 w-5 shrink-0 place-items-center overflow-hidden rounded-lg border-2 border-slate-500/90 bg-white/65 backdrop-blur-2xl shadow-[0_3px_10px_-2px_rgba(15,23,42,0.4),inset_0_2px_rgba(255,255,255,0.9),inset_0_-1px_rgba(0,0,0,0.08)] ring-1 ring-inset ring-white/50 transition-all duration-200 outline-none hover:border-slate-600 hover:bg-white/75 hover:shadow-[0_4px_12px_-2px_rgba(15,23,42,0.45),inset_0_2px_rgba(255,255,255,0.95)] hover:ring-white/60 focus-visible:ring-2 focus-visible:ring-[rgb(95,179,249)]/65 focus-visible:ring-offset-[1.5px] focus-visible:ring-offset-white/35 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-[rgb(95,179,249)] data-[state=checked]:border-[rgb(95,179,249)] data-[state=checked]:text-white data-[state=checked]:ring-[rgb(95,179,249)]/65 data-[state=checked]:shadow-[0_3px_10px_-2px_rgba(95,179,249,0.5),inset_0_1px_rgba(255,255,255,0.4)]",e),...t,children:l.jsx(UI,{"data-slot":"checkbox-indicator",className:"relative z-[1] flex items-center justify-center text-current transition-none",children:l.jsx(P5,{className:"size-4"})})}));VI.displayName="Checkbox";function U9({categories:e,filters:t,onFiltersChange:r,productCounts:n}){const a=p=>{const g=new Set(t.categories);g.has(p)?g.delete(p):g.add(p),r({...t,categories:Array.from(g)})},i=()=>{r({...t,categories:[]})},c=t.categories.length,u=y.useRef(null),f=y.useRef(null);return y.useLayoutEffect(()=>{if(typeof window>"u")return;const p=u.current;if(!p)return;const g=p.closest(".filter-sidebar-container"),m=g?.closest(".products-layout");if(!g||!m)return;let x=window.scrollY||0;const N=L=>{const B=L??u.current;B&&(f.current!==null&&(window.clearTimeout(f.current),f.current=null),B.style.transition="",B.style.transform="")},A=()=>{["position","top","left","right","bottom","width","zIndex","transform","transition"].forEach(B=>{try{p.style[B]=""}catch{}}),N(p);try{g.style.minHeight="",g.style.position="",g.style.overflow=""}catch{}x=window.scrollY||0},C=()=>{const L=document.querySelector("[data-app-header]"),B=getComputedStyle(document.documentElement).getPropertyValue("--app-header-height"),V=Number.parseFloat(B||"112");return L?.getBoundingClientRect().height||V||112},_=(L,B)=>{const J=Math.max(-28,Math.min(28,B*.6));if(Math.abs(J)<=1){L.style.transition="",L.style.transform="translate3d(0, 0, 0)",f.current!==null&&(window.clearTimeout(f.current),f.current=null);return}L.style.transition="transform 180ms ease-out",L.style.transform=`translate3d(0, ${(-J).toFixed(0)}px, 0)`,f.current!==null&&window.clearTimeout(f.current),f.current=window.setTimeout(()=>{L.style.transition="transform 200ms ease-out",L.style.transform="translate3d(0, 0, 0)",f.current=null},140)};let O=null;const R=()=>{const L=u.current;if(!L)return;const B=L.closest(".filter-sidebar-container"),V=B?.closest(".products-layout");if(!B||!V)return;if(!(window.innerWidth>=1024)){A();return}B.style.position="relative",B.style.overflow="visible";const K=C()+24,ce=24,ue=V.getBoundingClientRect(),de=B.getBoundingClientRect(),G=window.getComputedStyle(B),ne=Number.parseFloat(G.paddingLeft||"0")||0,pe=Number.parseFloat(G.paddingRight||"0")||0,Y=ne+pe,he=L.getBoundingClientRect().height,ve=window.scrollY+ue.top,U=ve+ue.height,Q=window.scrollY,fe=ve-K,je=U-K-he-ce;if(je<=fe){A(),B.style.position="relative",B.style.minHeight=`${Math.ceil(he)}px`,L.style.position="absolute",L.style.top="0",L.style.left=`${Math.round(ne)}px`,L.style.right="auto",L.style.width=`calc(100% - ${Math.round(Y)}px)`,N(L),x=Q;return}if(Q>=je){const Ie=U-he-ce-ve;B.style.minHeight=`${Math.ceil(he)}px`,L.style.position="absolute",L.style.top=`${Math.max(0,Math.round(Ie))}px`,L.style.left=`${Math.round(ne)}px`,L.style.right="auto",L.style.width=`calc(100% - ${Math.round(Y)}px)`,L.style.transform="none",N(L),x=Q;return}if(Q>=fe){B.style.minHeight=`${Math.ceil(he)}px`,L.style.position="fixed",L.style.top=`${Math.round(K)}px`,L.style.left=`${Math.round(de.left+ne)}px`;const Ie=Math.max(0,Math.round(de.width-Y));L.style.width=`${Ie}px`;const qe=Q-x;L.style.transform="translate3d(0, 0, 0)",_(L,qe),x=Q;return}A(),N(L),x=Q},D=()=>{O===null&&(O=window.requestAnimationFrame(()=>{O=null,R()}))};D();const $=()=>D(),k=()=>D();window.addEventListener("scroll",$,{passive:!0}),window.addEventListener("resize",k),window.addEventListener("orientationchange",k);const M=[];if("ResizeObserver"in window){const L=new ResizeObserver(D);L.observe(g),M.push(L);const B=new ResizeObserver(D);B.observe(m),M.push(B)}return()=>{O!==null&&window.cancelAnimationFrame(O),window.removeEventListener("scroll",$),window.removeEventListener("resize",k),window.removeEventListener("orientationchange",k),M.forEach(L=>L.disconnect()),A(),N(p)}},[]),l.jsxs(Sv,{ref:u,className:"glass-card squircle-lg w-full lg:max-w-none border-l-4 border-l-[rgba(95,179,249,0.5)] border-t border-r border-b border-[rgba(255,255,255,0.45)] catalog-filter-card",style:{background:"linear-gradient(to right, rgba(95,179,249,0.08) 0%, rgba(255,255,255,0.35) 8px, rgba(255,255,255,0.35) 100%)",backdropFilter:"blur(40px) saturate(1.7)"},children:[l.jsx(TI,{children:l.jsxs(II,{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 truncate",children:[l.jsx(H5,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("span",{className:"font-semibold truncate",children:"Filters"})]}),l.jsx(fc,{variant:"outline",className:`squircle-sm inline-flex items-center justify-center w-7 h-5 flex-shrink-0 ${c>0?"":"invisible"}`,children:c||0})]}),l.jsx(Qe,{variant:"ghost",size:"sm",onClick:i,className:`${c>0?"":"opacity-0 pointer-events-none"} whitespace-nowrap text-sm px-3 py-1`,children:"Clear All"})]})}),l.jsx(Nv,{className:"space-y-6",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(dn,{children:"Categories"}),l.jsx("div",{className:"space-y-2",children:e.map(p=>l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[l.jsx(VI,{id:`category-${p}`,checked:t.categories.includes(p),onCheckedChange:()=>a(p)}),l.jsx(dn,{htmlFor:`category-${p}`,className:"text-sm cursor-pointer break-words",children:p})]}),l.jsx(fc,{variant:"outline",className:"text-xs squircle-sm",children:n[p]||0})]},p))})]})})]})}var z9="Separator",rC="horizontal",W9=["horizontal","vertical"],GI=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=rC,...a}=e,i=H9(n)?n:rC,u=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(Ds.div,{"data-orientation":i,...u,...a,ref:t})});GI.displayName=z9;function H9(e){return W9.includes(e)}var V9=GI;const lS=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>l.jsx(V9,{ref:a,"data-slot":"separator-root",decorative:r,orientation:t,className:Zn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n}));lS.displayName="Separator";const nC=50;function KI({images:e,alt:t,className:r,imageClassName:n,showDots:a=!0,showArrows:i=!1,children:c,onClick:u,...f}){const p=y.useMemo(()=>e&&e.length>0?e:[""],[e]),[g,m]=y.useState(0),[x,N]=y.useState(null),[A,C]=y.useState(null);y.useEffect(()=>{m(0)},[p]),y.useEffect(()=>{m(B=>{const V=p.length>0?p.length-1:0;return Math.min(B,V)})},[p.length]);const _=()=>{m(B=>B<p.length-1?B+1:B)},O=()=>{m(B=>B>0?B-1:B)},R=B=>{N(B.targetTouches[0].clientX),C(null)},D=B=>{C(B.targetTouches[0].clientX)},$=()=>{if(x!==null&&A!==null){const B=x-A;B>nC&&g<p.length-1&&_(),B<-nC&&g>0&&O()}N(null),C(null)},k=p.length>1,M=g>0,L=g<p.length-1;return l.jsxs("div",{className:Et("relative overflow-hidden",r),onClick:u,...f,children:[l.jsxs("div",{className:"relative h-full w-full",onTouchStart:R,onTouchMove:D,onTouchEnd:$,children:[l.jsx("div",{className:"flex h-full w-full transition-transform duration-300 ease-out",style:{transform:`translateX(-${g*100}%)`},children:p.map((B,V)=>l.jsx("div",{className:"product-image-frame flex h-full w-full flex-shrink-0 items-center justify-center",children:l.jsx(DI,{src:B,alt:`${t} - ${V+1}`,className:Et("product-image-frame__img",n)})},`${B}-${V}`))}),c,k&&i&&M&&l.jsx("button",{type:"button",onClick:B=>{B.stopPropagation(),O()},"aria-label":"Previous image",className:"absolute left-2 top-1/2 -translate-y-1/2 rounded-full bg-white/90 p-2 text-[rgb(95,179,249)]",children:l.jsx(O5,{className:"h-4 w-4"})}),k&&i&&L&&l.jsx("button",{type:"button",onClick:B=>{B.stopPropagation(),_()},"aria-label":"Next image",className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-full bg-white/90 p-2 text-[rgb(95,179,249)]",children:l.jsx(fy,{className:"h-4 w-4"})})]}),k&&a&&l.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-1.5",children:p.map((B,V)=>l.jsx("button",{type:"button",onClick:J=>{J.stopPropagation(),m(V)},className:Et("transition-all rounded-full",V===g?"h-2 w-6 bg-white":"h-2 w-2 bg-white/50 hover:bg-white/75"),"aria-label":`View image ${V+1}`,"aria-pressed":V===g},`dot-${V}`))})]})}const op=e=>typeof e=="string"?e.trim():e==null?"":String(e).trim(),G9=e=>!!(op(e.addressLine1)&&op(e.city)&&op(e.state)&&op(e.postalCode)&&op(e.country)),aC=e=>e.replace(/\b\w/g,t=>t.toUpperCase()),K9=e=>{const r=(e.serviceType||e.serviceCode||"Service").replace(/[_-]+/g," ").trim(),n=r?aC(r):"Service";return e.carrierId?`${aC(e.carrierId.replace(/[_-]+/g," ").trim())}  ${n}`:n},sC=(e,t)=>{const r=new Date(e);let n=Math.max(0,Math.floor(t));for(;n>0;){r.setDate(r.getDate()+1);const a=r.getDay();a!==0&&a!==6&&(n-=1)}return r},Y9=(e,t)=>{try{const n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour:"2-digit",hour12:!1}).formatToParts(e).find(i=>i.type==="hour")?.value,a=n?Number.parseInt(n,10):NaN;return Number.isFinite(a)?a:null}catch{return null}};function X9({isOpen:e,onClose:t,cartItems:r,onCheckout:n,onUpdateItemQuantity:a,onRemoveItem:i,isAuthenticated:c,onRequireLogin:u,physicianName:f,customerEmail:p,customerName:g,onClearCart:m,onPaymentSuccess:x,defaultShippingAddress:N,availableCredits:A=0,pricingMode:C,onPricingModeChange:_,showRetailPricingToggle:O=!1}){const[R,D]=y.useState({}),[$,k]=y.useState(!1),[M,L]=y.useState({}),[B,V]=y.useState(!1),[J,K]=y.useState("zelle"),[ce,ue]=y.useState(null),[de,G]=y.useState("idle"),[ne,pe]=y.useState(null),Y=y.useRef(null),he=y.useRef(null),ve=y.useRef(null),[U,Q]=y.useState({name:N?.name||f||g||"",addressLine1:N?.addressLine1||"",addressLine2:N?.addressLine2||"",city:N?.city||"",state:N?.state||"",postalCode:N?.postalCode||"",country:N?.country||"US"}),[fe,je]=y.useState(null),[Ie,qe]=y.useState(null),[Ve,Me]=y.useState(null),[Ae,We]=y.useState(!1),et=y.useRef(null),Ee=y.useRef(0),[lt,wt]=y.useState(!1),[ht,_t]=y.useState(null),[Re,Ue]=y.useState(null),[tt,rt]=y.useState(!1),Ct=y.useRef(null),gt=y.useRef(null);y.useEffect(()=>{const me=Be=>{wt(!!Be.detail?.open)};return window.addEventListener("peppro:legal-state",me),()=>window.removeEventListener("peppro:legal-state",me)},[]);const fr=y.useCallback(()=>{et.current&&(Ee.current=et.current.scrollTop)},[]),en=y.useCallback(()=>{et.current&&(et.current.scrollTop=Ee.current)},[]);y.useLayoutEffect(()=>{lt||en()},[lt,en]);const Sr=y.useCallback(me=>{fr(),wt(!0),window.dispatchEvent(new CustomEvent("peppro:open-legal",{detail:{key:me,preserveDialogs:!0}}))},[fr]),Qt=C??"wholesale",Wt=Qt==="retail",ds=(me,Be)=>{const Nt=me.bulkPricingTiers??[];if(!Nt.length)return[];const at=[...Nt].sort((jr,qr)=>jr.minQuantity-qr.minQuantity),st=at.findIndex(jr=>Be<jr.minQuantity);let Ot=st===-1?Math.max(0,at.length-5):Math.max(0,st-2),It=at.slice(Ot,Ot+5);return It.length<5&&Ot>0&&(Ot=Math.max(0,Ot-(5-It.length)),It=at.slice(Ot,Ot+5)),It},Lr=y.useMemo(()=>r.map(({id:me,product:Be,quantity:Nt,note:at,variant:st},Ot)=>{const It=X1(Be,st,Nt,{pricingMode:Qt});return{cartItemId:me,productId:Be.id,variantId:st?.id??null,name:st?`${Be.name}  ${st.label}`:Be.name,price:It,quantity:Nt,note:at??null,position:Ot+1,sku:st?.sku||Be.sku||null,image:st?.image||Be.image||null}}),[r,Qt]),Lt=y.useMemo(()=>Lr.map(me=>`${me.productId}:${me.variantId||"base"}:${me.quantity}:${me.price}`).join("|"),[Lr]),fn=y.useMemo(()=>Lr.reduce((me,Be)=>me+Be.price*Be.quantity,0),[Lr]),Zt=Ve!=null&&fe?fe[Ve]:null,tn=Zt?.rate&&Number(Zt.rate)||0,Kr=Math.max(0,typeof ht?.amount=="number"?ht.amount:0),Pa=Math.max(0,Number(A||0)),gr=Math.min(fn,Pa),ea=Math.max(0,fn-gr+tn+Kr),Jt=ht?.testPaymentOverrideApplied===!0,$r=typeof ht?.originalGrandTotal=="number"&&Number.isFinite(ht.originalGrandTotal)?Math.max(0,ht.originalGrandTotal):null,pn=Jt?0:gr,Ha=Jt?0:tn,_n=Jt?0:Kr,ka=Jt?.01:ea,bt=[U.addressLine1,U.addressLine2,U.city,U.state,U.postalCode,U.country].map(me=>op(me).toUpperCase()).join("|"),Vt=G9(U),Gt=!0,Kt=!!(fe&&fe.length>0&&Ve!=null),Ht=!!(e&&c&&Kt&&Vt&&Lr.length>0),er=B&&Gt&&Kt&&(!Ht||!!ht&&!tt),Fr=y.useMemo(()=>{if(!Ht)return null;const me=Zt?.addressFingerprint||`${Zt?.carrierId||"carrier"}:${Zt?.serviceCode||Zt?.serviceType||"service"}`;return[Lt||"items",bt||"address",me,tn.toFixed(2),J||"payment"].join("|")},[Ht,Lt,bt,Zt,tn,J]),Ar=er&&c;let Br=`Place Order (${ka.toFixed(2)})`;de==="success"&&ne||de==="error"&&ne?Br=ne:tt&&Ht?Br="Calculating taxes":$&&(Br="Processing order...");const rn=y.useMemo(()=>{const me=new Map;for(const Be of r){const Nt=Be.product,at=Be.variant??null,st=typeof at?.wooId=="number"?`variant:${at.wooId}`:typeof Nt.wooId=="number"?`product:${Nt.wooId}`:`product:${Nt.id}`,Ot=me.get(st)??{requested:0,inStock:!0,stockQuantity:null};Ot.requested+=Math.max(0,Number(Be.quantity)||0);const It=at?at.inStock:Nt.inStock;Ot.inStock=Ot.inStock&&It!==!1;const jr=at?.stockQuantity??Nt.stockQuantity??null;typeof jr=="number"&&Number.isFinite(jr)&&jr>=0&&(Ot.stockQuantity=Ot.stockQuantity==null?Math.floor(jr):Math.min(Ot.stockQuantity,Math.floor(jr))),me.set(st,Ot)}for(const Be of me.values())if(!Be.inStock||Be.stockQuantity!=null&&Be.requested>Be.stockQuantity)return!0;return!1},[r]),yr=y.useMemo(()=>{if(!Zt)return null;const me=new Date,at=(Y9(me,"America/Los_Angeles")??me.getHours())>=13,st=rn?3:0,Ot=at?2:1,It=at?3:2,jr=st+Ot,qr=st+It,nn=sC(me,jr),zt=sC(me,qr),an=nn.toDateString()===zt.toDateString()?nn.toLocaleDateString():`${nn.toLocaleDateString()}${zt.toLocaleDateString()}`,Ur=[];st&&Ur.push("3 business day backorder"),Ur.push(`${Ot}${It} business day processing`);const Oa=`${Ur.join(" + ")}${at?" (order placed after 1pm PT)":""}`;return{shipWindowLabel:an,mathText:Oa,disclaimer:"Carrier transit begins after shipment and is not guaranteed."}},[rn,Zt]),Va=async()=>{if(!Vt){const me="Enter the full shipping address before requesting shipping rates.";qe(me),Ze.error(me);return}qe(null),We(!0);try{const Be={shippingAddress:U,items:r.map(st=>{const Ot=st.variant?.dimensions||st.product.dimensions||{},It=st.variant?.weightOz??st.product.weightOz??null,jr=typeof It=="number"&&Number.isFinite(It)&&It>0?It:16;return{name:st.product.name,quantity:st.quantity,weightOz:jr,lengthIn:Ot?.lengthIn??null,widthIn:Ot?.widthIn??null,heightIn:Ot?.heightIn??null}})},Nt=await jI.getRates(Be),at=Array.isArray(Nt?.rates)?Nt.rates:[];je(at),Me(at.length>0?0:null),he.current=at.length>0?bt:null,ve.current=at.length>0?Lt:null,at.length||qe("No shipping rates available for this address.")}catch(me){const Be=me?.message||"Unable to fetch shipping rates. Please check the address.";qe(Be),Ze.error(Be)}finally{We(!1)}},$s=async()=>{console.debug("[CheckoutModal] Checkout start",{total:ea,items:r.map(me=>({id:me.id,productId:me.product.id,variantId:me.variant?.id,qty:me.quantity}))}),k(!0);try{const me=await n({shippingAddress:U,shippingRate:Zt,shippingTotal:tn,expectedShipmentWindow:yr?.shipWindowLabel??null,physicianCertificationAccepted:B,taxTotal:Kr,paymentMethod:J}),Nt=(zt=>{if(!zt)return null;const an=zt.integrations?.wooCommerce?.response||null,Ur=an?.paymentUrl||an?.payForOrderUrl||an?.payment_url||null,Oa=()=>{if(!Ur)return null;const ta=String(Ur).match(/order-pay\/(\d+)/i);return ta&&ta[1]?ta[1]:null},hn=[an?.number,zt.order?.wooOrderNumber,zt.order?.number,an?.id,Oa(),zt.order?.wooOrderId];for(const ps of hn){if(ps==null)continue;const ta=String(ps).trim().replace(/^#/,"");if(ta)return ta}return null})(me);ue(Nt);const at=J==="zelle",st=J==="bank_transfer",Ot=at||st,It=at?Nt?`We received your order! Please Zelle support@peppro.net with the memo 'Order #${Nt}'. Instructions to follow in an email.`:"We received your order! Please Zelle support@peppro.net. Instructions to follow in an email.":st?"We received your order! An email will follow with Direct Bank Trasnfer (ACH) instructions.":"We received your order!",jr=me&&typeof me=="object"&&"message"in me&&me.message?String(me.message):"We received your order!",qr=Ot?It:jr;G("success"),pe(Nt?`Order #${Nt} placed`:qr);const nn=Ot?It:Nt?`Order #${Nt} placed.`:qr;Ze.success(nn),console.debug("[CheckoutModal] Checkout success"),m&&m(),x&&x(),Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{G("idle"),pe(null),t()},8e3)}catch(me){console.warn("[CheckoutModal] Checkout handler threw",me);const Be=typeof me?.message=="string"&&me.message.trim().length>0?me.message:"Unable to complete purchase. Please try again.";throw G("error"),pe(Be),Ze.error(Be),me}finally{k(!1)}},ko=async()=>{if(!B||!Gt){Ze.error("Accept the terms to continue.");return}if(!Kt){Ze.error("Select a shipping option before completing your purchase.");return}if(Ht&&(!ht||tt)){Ze.error("We are calculating taxes for this order. Please try again in a moment.");return}if(!c){u();return}if($){console.debug("[CheckoutModal] Checkout ignored, already processing");return}try{console.debug("[CheckoutModal] Checkout button confirmed"),await $s()}catch{}},fs=(me,Be)=>{const Nt=Math.min(999,Be+1);D(at=>({...at,[me]:String(Nt)})),a(me,Nt),L(at=>({...at,[me]:!0}))},jl=(me,Be)=>{const Nt=Math.max(1,Be-1);D(at=>({...at,[me]:String(Nt)})),a(me,Nt),L(at=>({...at,[me]:!0}))},mn=(me,Be)=>{const Nt=Be.replace(/[^0-9]/g,"");if(D(at=>({...at,[me]:Nt})),Nt){const at=Math.max(1,Math.min(999,parseInt(Nt,10)));a(me,at),L(st=>({...st,[me]:!0}))}},pi=me=>{R[me]||(D(Be=>({...Be,[me]:"1"})),a(me,1))},Nr=me=>{console.debug("[CheckoutModal] Remove item request",{cartItemId:me}),i(me),D(Be=>{const{[me]:Nt,...at}=Be;return at})};y.useEffect(()=>{e||(D({}),k(!1),L({}),V(!1),K("zelle"),ue(null),G("idle"),pe(null),je(null),Me(null),qe(null),ve.current=null,_t(null),Ue(null),rt(!1),Ct.current=null,gt.current&&(gt.current.abort(),gt.current=null),Q({name:N?.name||f||g||"",addressLine1:N?.addressLine1||"",addressLine2:N?.addressLine2||"",city:N?.city||"",state:N?.state||"",postalCode:N?.postalCode||"",country:N?.country||"US"}),Y.current&&(clearTimeout(Y.current),Y.current=null))},[N,g,e,f]),y.useEffect(()=>{Q(me=>({...me,name:N?.name||f||g||me.name||"",addressLine1:N?.addressLine1??me.addressLine1??"",addressLine2:N?.addressLine2??me.addressLine2??"",city:N?.city??me.city??"",state:N?.state??me.state??"",postalCode:N?.postalCode??me.postalCode??"",country:N?.country??me.country??"US"}))},[N,f,g]),y.useEffect(()=>{if(r.length===0){D({});return}const me={};r.forEach(Be=>{me[Be.id]=String(Be.quantity)}),D(me),L(Be=>{const Nt={};return r.forEach(at=>{Nt[at.id]=Be[at.id]??!1}),Nt})},[r]),y.useEffect(()=>{if(!fe||fe.length===0){he.current=null;return}he.current!==bt&&(he.current=null,je(null),Me(null),qe("Shipping address changed. Please fetch shipping rates again."))},[bt,fe]),y.useEffect(()=>{if(!fe||fe.length===0){ve.current=null;return}ve.current!==Lt&&(ve.current=null,je(null),Me(null),qe("Cart updated. Please fetch shipping rates again."))},[Lt,fe]);const Ga=y.useCallback(async me=>{if(!Ht||!Fr||!me?.force&&Ct.current?.key===Fr)return;gt.current&&gt.current.abort();const Be=new AbortController;gt.current=Be,Ct.current?.key!==Fr&&_t(null),rt(!0),Ue(null);try{const Nt=await ls.estimateTotals({items:Lr.map(nn=>({productId:nn.productId,variantId:nn.variantId,price:nn.price,quantity:nn.quantity})),shippingAddress:U,shippingEstimate:Zt,shippingTotal:tn,paymentMethod:J},{signal:Be.signal});if(Be.signal.aborted)return;const at=Nt?.totals||null,st=Math.max(0,Number(at?.taxTotal)||0),Ot=Number(at?.grandTotal),It=Math.max(0,fn-gr+tn+st),jr=at?.testPaymentOverrideApplied===!0,qr=Number(at?.originalGrandTotal);_t({amount:st,currency:typeof at?.currency=="string"&&at.currency?at.currency:"USD",grandTotal:Number.isFinite(Ot)?Math.max(0,Ot):It,source:at?.source||null,testPaymentOverrideApplied:jr,originalGrandTotal:Number.isFinite(qr)?Math.max(0,qr):null}),Ct.current={key:Fr,ts:Date.now()}}catch(Nt){if(Be.signal.aborted)return;const at=typeof Nt?.message=="string"&&Nt.message.trim()?vl(Nt.message):"Unable to calculate taxes right now. Please try again.";Ue(at),_t(null),Ct.current=null}finally{gt.current===Be&&(gt.current=null),Be.signal.aborted||rt(!1)}},[gr,Lr,J,Zt,U,tn,Ht,fn,Fr]);y.useEffect(()=>{if(!Ht||!Fr){gt.current&&(gt.current.abort(),gt.current=null),_t(null),Ue(null),rt(!1),Ct.current=null;return}return Ga().catch(me=>{console.warn("[CheckoutModal] Tax estimate failed",me)}),()=>{gt.current&&(gt.current.abort(),gt.current=null)}},[Ga,Ht,Fr]);const Ac=y.useCallback(()=>{Ct.current=null,Ga({force:!0}).catch(me=>{console.warn("[CheckoutModal] Tax estimate retry failed",me)})},[Ga]);return r.length===0?null:l.jsx(gc,{open:e,modal:!lt,onOpenChange:me=>{if(console.debug("[CheckoutModal] Dialog open change",{open:me}),!me){if(lt){console.debug("[CheckoutModal] Close request blocked by legal modal");return}t()}},children:l.jsxs(yl,{hideCloseButton:!0,className:"checkout-modal glass-card squircle-lg w-full max-w-[min(960px,calc(100vw-3rem))] border border-[var(--brand-glass-border-2)] shadow-2xl p-0 flex flex-col max-h-[90vh] overflow-hidden",style:{backdropFilter:"blur(38px) saturate(1.6)"},containerStyle:lt?{pointerEvents:"none"}:void 0,overlayStyle:lt?{pointerEvents:"none"}:void 0,"data-legal-overlay":lt?"true":"false",trapFocus:!lt,disableOutsidePointerEvents:!1,children:[l.jsx(Nu,{className:"sticky top-0 z-10 glass-card border-b border-[var(--brand-glass-border-1)] px-6 py-4 backdrop-blur-lg",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(pl,{className:"text-xl font-semibold text-[rgb(95,179,249)]",children:"Checkout"}),l.jsx(ju,{children:"Review and place your order."})]}),l.jsx(FN,{className:"dialog-close-btn inline-flex h-9 w-9 min-h-9 min-w-9 shrink-0 items-center justify-center rounded-full p-0 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)",borderRadius:"50%"},"aria-label":"Close checkout",children:l.jsx(Su,{className:"h-4 w-4"})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden px-6 pb-6",ref:et,children:l.jsx("div",{className:"space-y-6 pt-6",children:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{children:"Order Summary"}),O&&l.jsxs("div",{className:`glass-card squircle-lg flex flex-wrap items-center justify-between gap-4 border px-6 py-4 transition-colors ${Wt?"border-[rgba(34,197,94,0.38)] shadow-[0_20px_48px_-38px_rgba(34,197,94,0.35)]":"border-[rgba(95,179,249,0.28)] shadow-[0_20px_48px_-40px_rgba(95,179,249,0.22)] hover:border-[rgba(95,179,249,0.42)]"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{id:"retail-pricing-toggle",type:"checkbox",className:"brand-checkbox",checked:Wt,onChange:me=>{const Be=me.target.checked?"retail":"wholesale";_?.(Be)}}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{htmlFor:"retail-pricing-toggle",className:"text-base font-semibold text-slate-900",children:"Retail pricing"}),l.jsx("span",{className:"text-xs text-slate-600",children:"For Sales Reps only"})]})]}),Wt&&l.jsx("span",{className:"inline-flex items-center rounded-full border border-green-200/80 bg-green-50/70 px-3 py-1 text-xs font-semibold text-green-800",children:"Enabled"})]}),l.jsx("div",{className:"flex w-full max-w-full flex-col gap-4 pb-2 lg:grid lg:grid-cols-2 auto-rows-fr",children:r.map((me,Be)=>{const Nt=me.product.images.length>0?me.product.images:[me.product.image],at=me.variant?.image?[me.variant.image,...Nt].filter((zt,an,Ur)=>zt&&Ur.indexOf(zt)===an):Nt,st=X1(me.product,me.variant,me.quantity,{pricingMode:Qt}),Ot=st*me.quantity,It=(me.product.bulkPricingTiers??[]).sort((zt,an)=>zt.minQuantity-an.minQuantity),jr=ds(me.product,me.quantity),qr=It.find(zt=>me.quantity<zt.minQuantity)||null,nn=M[me.id]??!1;return l.jsx(Sv,{className:"glass squircle-sm h-full w-full",children:l.jsx(Nv,{className:"p-3 relative",children:l.jsx("div",{className:"checkout-item-scroll",children:l.jsx("div",{className:"checkout-item-scroll-inner",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-4 min-w-0 flex-1",children:[l.jsx("div",{className:"checkout-item-image self-start",children:l.jsx(KI,{images:at,alt:me.product.name,className:"flex h-full w-full items-center justify-center rounded-lg bg-white/80 p-2",imageClassName:"h-full w-full object-contain",style:{"--product-image-frame-padding":"clamp(0.35rem, 0.75vw, 0.7rem)"},showDots:at.length>1,showArrows:!1})}),l.jsxs("div",{className:"min-w-0",children:[l.jsxs("h4",{className:"line-clamp-1",children:["#",Be+1,"  ",me.product.name]}),l.jsx("p",{className:"text-sm text-gray-600",children:me.product.dosage}),me.variant&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Variant: ",me.variant.label]}),l.jsxs("div",{className:"mt-2 mb-2 flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[l.jsxs("span",{className:Wt?"text-green-700 font-bold":"text-green-600 font-bold",children:["$",st.toFixed(2),Wt?l.jsx("span",{className:"ml-1 text-xs font-semibold text-green-700",children:"(Retail)"}):null]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qe,{type:"button",variant:"outline",size:"icon",onClick:()=>jl(me.id,me.quantity),disabled:me.quantity<=1,className:"squircle-sm bg-slate-50 border-2",children:l.jsx($N,{className:"h-4 w-4"})}),l.jsx(hr,{value:R[me.id]??String(me.quantity),onChange:zt=>mn(me.id,zt.target.value),onBlur:()=>pi(me.id),inputMode:"numeric",pattern:"[0-9]*",className:"w-16 text-center squircle-sm bg-slate-50 border-2"}),l.jsx(Qe,{type:"button",variant:"outline",size:"icon",onClick:()=>fs(me.id,me.quantity),className:"squircle-sm bg-slate-50 border-2",children:l.jsx(bv,{className:"h-4 w-4"})})]})]}),!Wt&&jr.length>0&&l.jsxs("div",{className:"mt-3 glass-card squircle-sm border border-[var(--brand-glass-border-2)] p-3 space-y-2",children:[l.jsxs("button",{type:"button",className:"flex w-full items-center justify-between text-xs font-semibold text-slate-700",onClick:()=>L(zt=>({...zt,[me.id]:!nn})),children:[l.jsx("span",{className:"tracking-wide uppercase text-[0.65rem]",children:"Bulk Pricing"}),l.jsx("span",{className:"text-[rgb(95,179,249)] text-[0.65rem]",children:nn?"Hide":"Show"})]}),nn&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-1.5 pt-4",children:jr.map(zt=>l.jsxs("div",{className:"flex items-center justify-between rounded-md px-2 py-1 text-[0.8rem]",children:[l.jsxs("span",{className:me.quantity>=zt.minQuantity?"text-green-600 font-semibold":"text-slate-600",children:["Buy ",zt.minQuantity,"+"]}),l.jsxs("span",{className:`tabular-nums ${me.quantity>=zt.minQuantity?"text-green-600 font-semibold":"text-slate-600"}`,children:["Save ",zt.discountPercentage,"%"]})]},`${zt.minQuantity}-${zt.discountPercentage}`))}),qr&&l.jsxs("p",{className:"text-xs text-[rgb(95,179,249)] font-medium",children:["Buy ",qr.minQuantity-me.quantity," more to save ",qr.discountPercentage,"%"]})]})]}),me.note&&l.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Notes: ",me.note]})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-3 shrink-0 text-right",children:[l.jsxs("p",{className:`${Wt?"text-green-700":""} font-bold tabular-nums tracking-tight`,children:["$",Ot.toFixed(2)]}),l.jsxs(Qe,{type:"button",variant:"ghost",size:"icon",onClick:()=>Nr(me.id),className:"text-red-500 hover:text-red-600",children:[l.jsx(rS,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Remove item"})]})]})]})})})})},me.id)})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{children:"Shipping Address"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(dn,{htmlFor:"ship-name",children:"Recipient Name"}),l.jsx(hr,{id:"ship-name",placeholder:"Full name",value:U.name||"",onChange:me=>Q(Be=>({...Be,name:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(dn,{htmlFor:"ship-line1",children:"Address Line 1"}),l.jsx(hr,{id:"ship-line1",placeholder:"Street address",value:U.addressLine1||"",onChange:me=>Q(Be=>({...Be,addressLine1:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(dn,{htmlFor:"ship-line2",children:"Address Line 2"}),l.jsx(hr,{id:"ship-line2",placeholder:"Apt, suite, etc. (optional)",value:U.addressLine2||"",onChange:me=>Q(Be=>({...Be,addressLine2:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(dn,{htmlFor:"ship-city",children:"City"}),l.jsx(hr,{id:"ship-city",placeholder:"City",value:U.city||"",onChange:me=>Q(Be=>({...Be,city:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(dn,{htmlFor:"ship-state",children:"State"}),l.jsx(hr,{id:"ship-state",placeholder:"State",value:U.state||"",onChange:me=>Q(Be=>({...Be,state:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(dn,{htmlFor:"ship-postal",children:"Postal Code"}),l.jsx(hr,{id:"ship-postal",placeholder:"ZIP / Postal code",value:U.postalCode||"",onChange:me=>Q(Be=>({...Be,postalCode:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(dn,{htmlFor:"ship-country",children:"Country"}),l.jsx(hr,{id:"ship-country",placeholder:"Country",value:U.country||"US",onChange:me=>Q(Be=>({...Be,country:me.target.value})),className:"squircle-sm bg-slate-50 border-2"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:Va,disabled:Ae||r.length===0||!Vt,className:"squircle-sm",children:Ae?"Fetching rates...":"Get shipping rates"}),Ie&&l.jsx("p",{className:"text-sm text-red-600",children:Ie})]}),fe&&fe.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:"Select a service"}),l.jsxs("select",{className:"shipping-rate-select",value:Ve!=null?String(Ve):"",onChange:me=>{const Be=me.target.value?Number(me.target.value):null;Me(Be)},children:[l.jsx("option",{value:"",disabled:!0,children:"Choose a shipping option"}),fe.map((me,Be)=>l.jsxs("option",{value:Be,children:[K9(me),"  $",Number(me.rate||0).toFixed(2)]},`${me.serviceCode}-${Be}`))]}),Ve!=null&&fe[Ve]&&l.jsx("div",{className:"rounded-md bg-slate-50 px-3 py-2 text-xs text-slate-600",children:yr&&l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:["Estimated Shipping window: ",yr.shipWindowLabel]}),l.jsx("p",{className:"text-xs text-slate-600",children:yr.mathText}),l.jsx("p",{className:"text-[11px] text-slate-500",children:yr.disclaimer})]})})]})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsx("h3",{className:"mb-2",children:"Payment Information"}),l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/70 px-3 py-4 mb-3 text-sm text-slate-700 leading-relaxed",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[J==="zelle"?l.jsx(b5,{size:20,className:"text-slate-600 shrink-0","aria-hidden":"true"}):l.jsx(Q5,{size:20,className:"text-slate-600 shrink-0","aria-hidden":"true"}),l.jsx("p",{className:"font-bold text-slate-800",children:J==="zelle"?"Zelle":"Direct Bank Transfer"})]}),l.jsxs("p",{className:"mt-2",children:["After you place your order, well email"," ",J==="zelle"?"Zelle":"bank transfer"," instructions to"," ",l.jsx("span",{className:"font-semibold",children:p||"your email address"}),"."]}),l.jsxs("p",{className:"mt-2 text-[13px] text-slate-600",children:["Important: Include your order number in the payment memo/notes (well show it here after you place the order).",J==="zelle"?" Ensure your bank supports Zelle and that your Zelle account is set up and ready.":""]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>K("zelle"),"aria-pressed":J==="zelle",className:`squircle-sm checkout-payment-method-button justify-center gap-2 font-semibold ${J==="zelle"?"checkout-payment-method-button--active":"checkout-payment-method-button--inactive"}`,children:"Zelle"}),l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>K("bank_transfer"),"aria-pressed":J==="bank_transfer",className:`squircle-sm checkout-payment-method-button justify-center gap-2 font-semibold ${J==="bank_transfer"?"checkout-payment-method-button--active":"checkout-payment-method-button--inactive"}`,children:"Direct Bank Transfer"})]}),de==="success"&&ce&&l.jsxs("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-900",children:[l.jsxs("p",{className:"font-semibold",children:["Your order number: ",ce]}),l.jsxs("p",{className:"mt-1",children:["Use this as your payment memo/notes:"," ",l.jsxs("span",{className:"font-mono",children:["Order #",ce]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[l.jsx("input",{type:"checkbox",id:"physician-terms",className:"brand-checkbox",checked:B,onChange:me=>V(me.target.checked)}),l.jsxs("label",{htmlFor:"physician-terms",className:"text-sm text-slate-700 leading-snug flex-1",children:["I certify that I am ",f||"the licensed physician for this account",", and I agree to PepPro's"," ",l.jsx("button",{type:"button",className:"legal-inline-link",onClick:me=>{me.preventDefault(),me.stopPropagation(),Sr("terms")},children:"Terms of Service"}),", ",l.jsx("button",{type:"button",className:"legal-inline-link",onClick:me=>{me.preventDefault(),me.stopPropagation(),Sr("shipping")},children:"Shipping Policy"}),", and ",l.jsx("button",{type:"button",className:"legal-inline-link",onClick:me=>{me.preventDefault(),me.stopPropagation(),Sr("privacy")},children:"Privacy Policy"}),"."]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(lS,{}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsxs("span",{className:Wt?"text-green-700 font-semibold tabular-nums":"tabular-nums",children:["$",fn.toFixed(2)]})]}),pn>0&&l.jsxs("div",{className:"flex justify-between text-sm font-semibold text-[rgb(95,179,249)]",children:[l.jsx("span",{children:"Referral Credit"}),l.jsxs("span",{children:["- $",pn.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm text-slate-700",children:[l.jsx("span",{children:"Shipping:"}),l.jsxs("span",{children:["$",Ha.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm text-slate-700",children:[l.jsx("span",{children:"Estimated tax:"}),l.jsx("span",{children:tt?"Calculating":`$${_n.toFixed(2)}`})]}),Re&&l.jsxs("div",{className:"flex items-start justify-between text-xs text-red-600",children:[l.jsx("span",{className:"pr-2",children:Re}),l.jsx("button",{type:"button",onClick:Ac,className:"underline decoration-dotted hover:text-red-700",children:"Retry"})]}),l.jsx(lS,{}),l.jsxs("div",{className:"flex justify-between font-bold items-baseline gap-2",children:[l.jsxs("span",{className:"flex items-baseline gap-2",children:[l.jsx("span",{children:"Total:"}),Wt?l.jsx("span",{className:"text-xs font-semibold text-green-700",children:"(Retail)"}):null,Jt&&l.jsx("span",{className:"text-xs font-semibold text-amber-700",children:"Test override: $0.01"})]}),l.jsxs("span",{className:`${Wt?"text-green-700":""} tabular-nums`,children:["$",ka.toFixed(2)]})]}),Jt&&$r!=null&&l.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[l.jsx("span",{children:"Original total:"}),l.jsxs("span",{className:"tabular-nums line-through",children:["$",$r.toFixed(2)]})]})]}),l.jsx("div",{className:"pt-4",children:l.jsxs(Qe,{variant:"ghost",onClick:ko,disabled:!er||$||de==="success",className:"w-full glass-brand squircle-sm transition-all duration-300 hover:scale-105 hover:-translate-y-0.5 active:translate-y-0",children:[Ar?l.jsx(vp,{className:"w-4 h-4 mr-2"}):l.jsx(e3,{className:"w-4 h-4 mr-2"}),Br]})})]})})})]})})}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(null,arguments)}function Q9(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Z9(...e){return t=>e.forEach(r=>Q9(r,t))}const YI=y.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.Children.toArray(r),i=a.find(eF);if(i){const c=i.props.children,u=a.map(f=>f===i?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return y.createElement(cS,xp({},n,{ref:t}),y.isValidElement(c)?y.cloneElement(c,void 0,u):null)}return y.createElement(cS,xp({},n,{ref:t}),r)});YI.displayName="Slot";const cS=y.forwardRef((e,t)=>{const{children:r,...n}=e;return y.isValidElement(r)?y.cloneElement(r,{...tF(n,r.props),ref:t?Z9(t,r.ref):r.ref}):y.Children.count(r)>1?y.Children.only(null):null});cS.displayName="SlotClone";const J9=({children:e})=>y.createElement(y.Fragment,null,e);function eF(e){return y.isValidElement(e)&&e.type===J9}function tF(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...u)=>{i(...u),a(...u)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const rF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nF=rF.reduce((e,t)=>{const r=y.forwardRef((n,a)=>{const{asChild:i,...c}=n,u=i?YI:t;return y.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),y.createElement(u,xp({},c,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),iC=y.forwardRef((e,t)=>y.createElement(nF.span,xp({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),uS=y.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{ref:r,"data-slot":"textarea",className:Zn("textarea bg-input-background border-input flex min-h-[80px] w-full rounded-md border px-3 py-2 text-base transition-[color,box-shadow] outline-none resize-none placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t}));uS.displayName="Textarea";var q0,oC;function Ls(){if(oC)return q0;oC=1;var e=Array.isArray;return q0=e,q0}var U0,lC;function XI(){if(lC)return U0;lC=1;var e=typeof Ig=="object"&&Ig&&Ig.Object===Object&&Ig;return U0=e,U0}var z0,cC;function Nl(){if(cC)return z0;cC=1;var e=XI(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return z0=r,z0}var W0,uC;function ag(){if(uC)return W0;uC=1;var e=Nl(),t=e.Symbol;return W0=t,W0}var H0,dC;function aF(){if(dC)return H0;dC=1;var e=ag(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(c){var u=r.call(c,a),f=c[a];try{c[a]=void 0;var p=!0}catch{}var g=n.call(c);return p&&(u?c[a]=f:delete c[a]),g}return H0=i,H0}var V0,fC;function sF(){if(fC)return V0;fC=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return V0=r,V0}var G0,pC;function _c(){if(pC)return G0;pC=1;var e=ag(),t=aF(),r=sF(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function c(u){return u==null?u===void 0?a:n:i&&i in Object(u)?t(u):r(u)}return G0=c,G0}var K0,mC;function Cc(){if(mC)return K0;mC=1;function e(t){return t!=null&&typeof t=="object"}return K0=e,K0}var Y0,hC;function Wp(){if(hC)return Y0;hC=1;var e=_c(),t=Cc(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return Y0=n,Y0}var X0,gC;function YN(){if(gC)return X0;gC=1;var e=Ls(),t=Wp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,c){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||c!=null&&i in Object(c)}return X0=a,X0}var Q0,yC;function Pu(){if(yC)return Q0;yC=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Q0=e,Q0}var Z0,vC;function XN(){if(vC)return Z0;vC=1;var e=_c(),t=Pu(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function c(u){if(!t(u))return!1;var f=e(u);return f==n||f==a||f==r||f==i}return Z0=c,Z0}var J0,bC;function iF(){if(bC)return J0;bC=1;var e=Nl(),t=e["__core-js_shared__"];return J0=t,J0}var eb,xC;function oF(){if(xC)return eb;xC=1;var e=iF(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return eb=r,eb}var tb,wC;function QI(){if(wC)return tb;wC=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return tb=r,tb}var rb,SC;function lF(){if(SC)return rb;SC=1;var e=XN(),t=oF(),r=Pu(),n=QI(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,f=c.toString,p=u.hasOwnProperty,g=RegExp("^"+f.call(p).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(x){if(!r(x)||t(x))return!1;var N=e(x)?g:i;return N.test(n(x))}return rb=m,rb}var nb,NC;function cF(){if(NC)return nb;NC=1;function e(t,r){return t?.[r]}return nb=e,nb}var ab,jC;function Xd(){if(jC)return ab;jC=1;var e=lF(),t=cF();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return ab=r,ab}var sb,_C;function _v(){if(_C)return sb;_C=1;var e=Xd(),t=e(Object,"create");return sb=t,sb}var ib,CC;function uF(){if(CC)return ib;CC=1;var e=_v();function t(){this.__data__=e?e(null):{},this.size=0}return ib=t,ib}var ob,EC;function dF(){if(EC)return ob;EC=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return ob=e,ob}var lb,AC;function fF(){if(AC)return lb;AC=1;var e=_v(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var c=this.__data__;if(e){var u=c[i];return u===t?void 0:u}return n.call(c,i)?c[i]:void 0}return lb=a,lb}var cb,PC;function pF(){if(PC)return cb;PC=1;var e=_v(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return cb=n,cb}var ub,kC;function mF(){if(kC)return ub;kC=1;var e=_v(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return ub=r,ub}var db,OC;function hF(){if(OC)return db;OC=1;var e=uF(),t=dF(),r=fF(),n=pF(),a=mF();function i(c){var u=-1,f=c==null?0:c.length;for(this.clear();++u<f;){var p=c[u];this.set(p[0],p[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,db=i,db}var fb,TC;function gF(){if(TC)return fb;TC=1;function e(){this.__data__=[],this.size=0}return fb=e,fb}var pb,IC;function QN(){if(IC)return pb;IC=1;function e(t,r){return t===r||t!==t&&r!==r}return pb=e,pb}var mb,RC;function Cv(){if(RC)return mb;RC=1;var e=QN();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return mb=t,mb}var hb,MC;function yF(){if(MC)return hb;MC=1;var e=Cv(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,c=e(i,a);if(c<0)return!1;var u=i.length-1;return c==u?i.pop():r.call(i,c,1),--this.size,!0}return hb=n,hb}var gb,DC;function vF(){if(DC)return gb;DC=1;var e=Cv();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return gb=t,gb}var yb,LC;function bF(){if(LC)return yb;LC=1;var e=Cv();function t(r){return e(this.__data__,r)>-1}return yb=t,yb}var vb,$C;function xF(){if($C)return vb;$C=1;var e=Cv();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return vb=t,vb}var bb,FC;function Ev(){if(FC)return bb;FC=1;var e=gF(),t=yF(),r=vF(),n=bF(),a=xF();function i(c){var u=-1,f=c==null?0:c.length;for(this.clear();++u<f;){var p=c[u];this.set(p[0],p[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,bb=i,bb}var xb,BC;function ZN(){if(BC)return xb;BC=1;var e=Xd(),t=Nl(),r=e(t,"Map");return xb=r,xb}var wb,qC;function wF(){if(qC)return wb;qC=1;var e=hF(),t=Ev(),r=ZN();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return wb=n,wb}var Sb,UC;function SF(){if(UC)return Sb;UC=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Sb=e,Sb}var Nb,zC;function Av(){if(zC)return Nb;zC=1;var e=SF();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Nb=t,Nb}var jb,WC;function NF(){if(WC)return jb;WC=1;var e=Av();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return jb=t,jb}var _b,HC;function jF(){if(HC)return _b;HC=1;var e=Av();function t(r){return e(this,r).get(r)}return _b=t,_b}var Cb,VC;function _F(){if(VC)return Cb;VC=1;var e=Av();function t(r){return e(this,r).has(r)}return Cb=t,Cb}var Eb,GC;function CF(){if(GC)return Eb;GC=1;var e=Av();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Eb=t,Eb}var Ab,KC;function JN(){if(KC)return Ab;KC=1;var e=wF(),t=NF(),r=jF(),n=_F(),a=CF();function i(c){var u=-1,f=c==null?0:c.length;for(this.clear();++u<f;){var p=c[u];this.set(p[0],p[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Ab=i,Ab}var Pb,YC;function ZI(){if(YC)return Pb;YC=1;var e=JN(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var c=arguments,u=a?a.apply(this,c):c[0],f=i.cache;if(f.has(u))return f.get(u);var p=n.apply(this,c);return i.cache=f.set(u,p)||f,p};return i.cache=new(r.Cache||e),i}return r.Cache=e,Pb=r,Pb}var kb,XC;function EF(){if(XC)return kb;XC=1;var e=ZI(),t=500;function r(n){var a=e(n,function(c){return i.size===t&&i.clear(),c}),i=a.cache;return a}return kb=r,kb}var Ob,QC;function AF(){if(QC)return Ob;QC=1;var e=EF(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(c,u,f,p){i.push(f?p.replace(r,"$1"):u||c)}),i});return Ob=n,Ob}var Tb,ZC;function ej(){if(ZC)return Tb;ZC=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return Tb=e,Tb}var Ib,JC;function PF(){if(JC)return Ib;JC=1;var e=ag(),t=ej(),r=Ls(),n=Wp(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function c(u){if(typeof u=="string")return u;if(r(u))return t(u,c)+"";if(n(u))return i?i.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return Ib=c,Ib}var Rb,eE;function JI(){if(eE)return Rb;eE=1;var e=PF();function t(r){return r==null?"":e(r)}return Rb=t,Rb}var Mb,tE;function eR(){if(tE)return Mb;tE=1;var e=Ls(),t=YN(),r=AF(),n=JI();function a(i,c){return e(i)?i:t(i,c)?[i]:r(n(i))}return Mb=a,Mb}var Db,rE;function Pv(){if(rE)return Db;rE=1;var e=Wp();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Db=t,Db}var Lb,nE;function tj(){if(nE)return Lb;nE=1;var e=eR(),t=Pv();function r(n,a){a=e(a,n);for(var i=0,c=a.length;n!=null&&i<c;)n=n[t(a[i++])];return i&&i==c?n:void 0}return Lb=r,Lb}var $b,aE;function tR(){if(aE)return $b;aE=1;var e=tj();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return $b=t,$b}var kF=tR();const Bi=wr(kF);var Fb,sE;function OF(){if(sE)return Fb;sE=1;function e(t){return t==null}return Fb=e,Fb}var TF=OF();const sr=wr(TF);var Bb,iE;function IF(){if(iE)return Bb;iE=1;var e=_c(),t=Ls(),r=Cc(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return Bb=a,Bb}var RF=IF();const Wd=wr(RF);var MF=XN();const Bt=wr(MF);var DF=Pu();const Hp=wr(DF);var qb={exports:{}},cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function LF(){if(oE)return cr;oE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),A;A=Symbol.for("react.module.reference");function C(_){if(typeof _=="object"&&_!==null){var O=_.$$typeof;switch(O){case e:switch(_=_.type,_){case r:case a:case n:case p:case g:return _;default:switch(_=_&&_.$$typeof,_){case u:case c:case f:case x:case m:case i:return _;default:return O}}case t:return O}}}return cr.ContextConsumer=c,cr.ContextProvider=i,cr.Element=e,cr.ForwardRef=f,cr.Fragment=r,cr.Lazy=x,cr.Memo=m,cr.Portal=t,cr.Profiler=a,cr.StrictMode=n,cr.Suspense=p,cr.SuspenseList=g,cr.isAsyncMode=function(){return!1},cr.isConcurrentMode=function(){return!1},cr.isContextConsumer=function(_){return C(_)===c},cr.isContextProvider=function(_){return C(_)===i},cr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},cr.isForwardRef=function(_){return C(_)===f},cr.isFragment=function(_){return C(_)===r},cr.isLazy=function(_){return C(_)===x},cr.isMemo=function(_){return C(_)===m},cr.isPortal=function(_){return C(_)===t},cr.isProfiler=function(_){return C(_)===a},cr.isStrictMode=function(_){return C(_)===n},cr.isSuspense=function(_){return C(_)===p},cr.isSuspenseList=function(_){return C(_)===g},cr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===a||_===n||_===p||_===g||_===N||typeof _=="object"&&_!==null&&(_.$$typeof===x||_.$$typeof===m||_.$$typeof===i||_.$$typeof===c||_.$$typeof===f||_.$$typeof===A||_.getModuleId!==void 0)},cr.typeOf=C,cr}var lE;function $F(){return lE||(lE=1,qb.exports=LF()),qb.exports}var FF=$F(),Ub,cE;function rR(){if(cE)return Ub;cE=1;var e=_c(),t=Cc(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return Ub=n,Ub}var zb,uE;function BF(){if(uE)return zb;uE=1;var e=rR();function t(r){return e(r)&&r!=+r}return zb=t,zb}var qF=BF();const sg=wr(qF);var UF=rR();const zF=wr(UF);var Co=function(t){return t===0?0:t>0?1:-1},Dd=function(t){return Wd(t)&&t.indexOf("%")===t.length-1},Ge=function(t){return zF(t)&&!sg(t)},WF=function(t){return sr(t)},Qn=function(t){return Ge(t)||Wd(t)},HF=0,kv=function(t){var r=++HF;return"".concat(t||"").concat(r)},Hd=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(t)&&!Wd(t))return n;var i;if(Dd(t)){var c=t.indexOf("%");i=r*parseFloat(t.slice(0,c))/100}else i=+t;return sg(i)&&(i=n),a&&i>r&&(i=r),i},xu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},VF=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},rp=function(t,r){return Ge(t)&&Ge(r)?function(n){return t+n*(r-t)}:function(){return r}};function dS(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Bi(n,t))===r})}var GF=function(t,r){return Ge(t)&&Ge(r)?t-r:Wd(t)&&Wd(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function pp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function fS(e){"@babel/helpers - typeof";return fS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fS(e)}var KF=["viewBox","children"],YF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dE=["points","pathLength"],Wb={svg:KF,polygon:dE,polyline:dE},rj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xy=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!Hp(n))return null;var a={};return Object.keys(n).forEach(function(i){rj.includes(i)&&(a[i]=r||function(c){return n[i](n,c)})}),a},XF=function(t,r,n){return function(a){return t(r,n,a),null}},wy=function(t,r,n){if(!Hp(t)||fS(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var c=t[i];rj.includes(i)&&typeof c=="function"&&(a||(a={}),a[i]=XF(c,r,n))}),a},QF=["children"],ZF=["children"];function fE(e,t){if(e==null)return{};var r=JF(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},mE=null,Hb=null,nj=function e(t){if(t===mE&&Array.isArray(Hb))return Hb;var r=[];return y.Children.forEach(t,function(n){sr(n)||(FF.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Hb=r,mE=t,r};function Eo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return vc(a)}):n=[vc(t)],nj(e).forEach(function(a){var i=Bi(a,"type.displayName")||Bi(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ui(e,t){var r=Eo(e,t);return r&&r[0]}var hE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ge(n)||n<=0||!Ge(a)||a<=0)},e6=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],t6=function(t){return t&&t.type&&Wd(t.type)&&e6.indexOf(t.type)>=0},r6=function(t,r,n,a){var i,c=(i=Wb?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Bt(t)&&(a&&c.includes(r)||YF.includes(r))||n&&rj.includes(r)},ar=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!Hp(a))return null;var i={};return Object.keys(a).forEach(function(c){var u;r6((u=a)===null||u===void 0?void 0:u[c],c,r,n)&&(i[c]=a[c])}),i},pS=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return gE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],c=r[a];if(Array.isArray(i)||Array.isArray(c)){if(!e(i,c))return!1}else if(!gE(i,c))return!1}return!0},gE=function(t,r){if(sr(t)&&sr(r))return!0;if(!sr(t)&&!sr(r)){var n=t.props||{},a=n.children,i=fE(n,QF),c=r.props||{},u=c.children,f=fE(c,ZF);return a&&u?pp(i,f)&&pS(a,u):!a&&!u?pp(i,f):!1}return!1},yE=function(t,r){var n=[],a={};return nj(t).forEach(function(i,c){if(t6(i))n.push(i);else if(i){var u=vc(i.type),f=r[u]||{},p=f.handler,g=f.once;if(p&&(!g||!a[u])){var m=p(i,u,c);n.push(m),a[u]=!0}}}),n},n6=function(t){var r=t&&t.type;return r&&pE[r]?pE[r]:null},a6=function(t,r){return nj(r).indexOf(t)},s6=["children","width","height","viewBox","className","style","title","desc"];function mS(){return mS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mS.apply(this,arguments)}function i6(e,t){if(e==null)return{};var r=o6(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hS(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,c=e.style,u=e.title,f=e.desc,p=i6(e,s6),g=a||{width:r,height:n,x:0,y:0},m=Et("recharts-surface",i);return Z.createElement("svg",mS({},ar(p,!0,"svg"),{className:m,width:r,height:n,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),Z.createElement("title",null,u),Z.createElement("desc",null,f),t)}var l6=["children","className"];function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gS.apply(this,arguments)}function c6(e,t){if(e==null)return{};var r=u6(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ma=Z.forwardRef(function(e,t){var r=e.children,n=e.className,a=c6(e,l6),i=Et("recharts-layer",n);return Z.createElement("g",gS({className:i},ar(a,!0),{ref:t}),r)}),bc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},Vb,vE;function d6(){if(vE)return Vb;vE=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var c=Array(i);++a<i;)c[a]=t[a+r];return c}return Vb=e,Vb}var Gb,bE;function f6(){if(bE)return Gb;bE=1;var e=d6();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return Gb=t,Gb}var Kb,xE;function nR(){if(xE)return Kb;xE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+e+a+i+"]");function f(p){return u.test(p)}return Kb=f,Kb}var Yb,wE;function p6(){if(wE)return Yb;wE=1;function e(t){return t.split("")}return Yb=e,Yb}var Xb,SE;function m6(){if(SE)return Xb;SE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",c="["+e+"]",u="["+a+"]",f="\\ud83c[\\udffb-\\udfff]",p="(?:"+u+"|"+f+")",g="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",N="\\u200d",A=p+"?",C="["+i+"]?",_="(?:"+N+"(?:"+[g,m,x].join("|")+")"+C+A+")*",O=C+A+_,R="(?:"+[g+u+"?",u,m,x,c].join("|")+")",D=RegExp(f+"(?="+f+")|"+R+O,"g");function $(k){return k.match(D)||[]}return Xb=$,Xb}var Qb,NE;function h6(){if(NE)return Qb;NE=1;var e=p6(),t=nR(),r=m6();function n(a){return t(a)?r(a):e(a)}return Qb=n,Qb}var Zb,jE;function g6(){if(jE)return Zb;jE=1;var e=f6(),t=nR(),r=h6(),n=JI();function a(i){return function(c){c=n(c);var u=t(c)?r(c):void 0,f=u?u[0]:c.charAt(0),p=u?e(u,1).join(""):c.slice(1);return f[i]()+p}}return Zb=a,Zb}var Jb,_E;function y6(){if(_E)return Jb;_E=1;var e=g6(),t=e("toUpperCase");return Jb=t,Jb}var v6=y6();const Ov=wr(v6);function Dr(e){return function(){return e}}const aR=Math.cos,Sy=Math.sin,Po=Math.sqrt,Ny=Math.PI,Tv=2*Ny,yS=Math.PI,vS=2*yS,Od=1e-6,b6=vS-Od;function sR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function x6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sR;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class w6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sR:x6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,c){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+c}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let c=this._x1,u=this._y1,f=n-t,p=a-r,g=c-t,m=u-r,x=g*g+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>Od)if(!(Math.abs(m*f-p*g)>Od)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let N=n-c,A=a-u,C=f*f+p*p,_=N*N+A*A,O=Math.sqrt(C),R=Math.sqrt(x),D=i*Math.tan((yS-Math.acos((C+x-_)/(2*O*R)))/2),$=D/R,k=D/O;Math.abs($-1)>Od&&this._append`L${t+$*g},${r+$*m}`,this._append`A${i},${i},0,0,${+(m*N>g*A)},${this._x1=t+k*f},${this._y1=r+k*p}`}}arc(t,r,n,a,i,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),f=n*Math.sin(a),p=t+u,g=r+f,m=1^c,x=c?a-i:i-a;this._x1===null?this._append`M${p},${g}`:(Math.abs(this._x1-p)>Od||Math.abs(this._y1-g)>Od)&&this._append`L${p},${g}`,n&&(x<0&&(x=x%vS+vS),x>b6?this._append`A${n},${n},0,1,${m},${t-u},${r-f}A${n},${n},0,1,${m},${this._x1=p},${this._y1=g}`:x>Od&&this._append`A${n},${n},0,${+(x>=yS)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function aj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new w6(t)}function sj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iR(e){this._context=e}iR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Iv(e){return new iR(e)}function oR(e){return e[0]}function lR(e){return e[1]}function cR(e,t){var r=Dr(!0),n=null,a=Iv,i=null,c=aj(u);e=typeof e=="function"?e:e===void 0?oR:Dr(e),t=typeof t=="function"?t:t===void 0?lR:Dr(t);function u(f){var p,g=(f=sj(f)).length,m,x=!1,N;for(n==null&&(i=a(N=c())),p=0;p<=g;++p)!(p<g&&r(m=f[p],p,f))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(m,p,f),+t(m,p,f));if(N)return i=null,N+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Dr(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Dr(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Dr(!!f),u):r},u.curve=function(f){return arguments.length?(a=f,n!=null&&(i=a(n)),u):a},u.context=function(f){return arguments.length?(f==null?n=i=null:i=a(n=f),u):n},u}function Vg(e,t,r){var n=null,a=Dr(!0),i=null,c=Iv,u=null,f=aj(p);e=typeof e=="function"?e:e===void 0?oR:Dr(+e),t=typeof t=="function"?t:Dr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?lR:Dr(+r);function p(m){var x,N,A,C=(m=sj(m)).length,_,O=!1,R,D=new Array(C),$=new Array(C);for(i==null&&(u=c(R=f())),x=0;x<=C;++x){if(!(x<C&&a(_=m[x],x,m))===O)if(O=!O)N=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=x-1;A>=N;--A)u.point(D[A],$[A]);u.lineEnd(),u.areaEnd()}O&&(D[x]=+e(_,x,m),$[x]=+t(_,x,m),u.point(n?+n(_,x,m):D[x],r?+r(_,x,m):$[x]))}if(R)return u=null,R+""||null}function g(){return cR().defined(a).curve(c).context(i)}return p.x=function(m){return arguments.length?(e=typeof m=="function"?m:Dr(+m),n=null,p):e},p.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Dr(+m),p):e},p.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Dr(+m),p):n},p.y=function(m){return arguments.length?(t=typeof m=="function"?m:Dr(+m),r=null,p):t},p.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Dr(+m),p):t},p.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Dr(+m),p):r},p.lineX0=p.lineY0=function(){return g().x(e).y(t)},p.lineY1=function(){return g().x(e).y(r)},p.lineX1=function(){return g().x(n).y(t)},p.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Dr(!!m),p):a},p.curve=function(m){return arguments.length?(c=m,i!=null&&(u=c(i)),p):c},p.context=function(m){return arguments.length?(m==null?i=u=null:u=c(i=m),p):i},p}class uR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function S6(e){return new uR(e,!0)}function N6(e){return new uR(e,!1)}const ij={draw(e,t){const r=Po(t/Ny);e.moveTo(r,0),e.arc(0,0,r,0,Tv)}},j6={draw(e,t){const r=Po(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},dR=Po(1/3),_6=dR*2,C6={draw(e,t){const r=Po(t/_6),n=r*dR;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},E6={draw(e,t){const r=Po(t),n=-r/2;e.rect(n,n,r,r)}},A6=.8908130915292852,fR=Sy(Ny/10)/Sy(7*Ny/10),P6=Sy(Tv/10)*fR,k6=-aR(Tv/10)*fR,O6={draw(e,t){const r=Po(t*A6),n=P6*r,a=k6*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const c=Tv*i/5,u=aR(c),f=Sy(c);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*a,f*n+u*a)}e.closePath()}},ex=Po(3),T6={draw(e,t){const r=-Po(t/(ex*3));e.moveTo(0,r*2),e.lineTo(-ex*r,-r),e.lineTo(ex*r,-r),e.closePath()}},Mi=-.5,Di=Po(3)/2,bS=1/Po(12),I6=(bS/2+1)*3,R6={draw(e,t){const r=Po(t/I6),n=r/2,a=r*bS,i=n,c=r*bS+r,u=-i,f=c;e.moveTo(n,a),e.lineTo(i,c),e.lineTo(u,f),e.lineTo(Mi*n-Di*a,Di*n+Mi*a),e.lineTo(Mi*i-Di*c,Di*i+Mi*c),e.lineTo(Mi*u-Di*f,Di*u+Mi*f),e.lineTo(Mi*n+Di*a,Mi*a-Di*n),e.lineTo(Mi*i+Di*c,Mi*c-Di*i),e.lineTo(Mi*u+Di*f,Mi*f-Di*u),e.closePath()}};function M6(e,t){let r=null,n=aj(a);e=typeof e=="function"?e:Dr(e||ij),t=typeof t=="function"?t:Dr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Dr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Dr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function jy(){}function _y(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function pR(e){this._context=e}pR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_y(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_y(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D6(e){return new pR(e)}function mR(e){this._context=e}mR.prototype={areaStart:jy,areaEnd:jy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_y(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L6(e){return new mR(e)}function hR(e){this._context=e}hR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_y(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $6(e){return new hR(e)}function gR(e){this._context=e}gR.prototype={areaStart:jy,areaEnd:jy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function F6(e){return new gR(e)}function CE(e){return e<0?-1:1}function EE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),c=(r-e._y1)/(a||n<0&&-0),u=(i*a+c*n)/(n+a);return(CE(i)+CE(c))*Math.min(Math.abs(i),Math.abs(c),.5*Math.abs(u))||0}function AE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function tx(e,t,r){var n=e._x0,a=e._y0,i=e._x1,c=e._y1,u=(i-n)/3;e._context.bezierCurveTo(n+u,a+u*t,i-u,c-u*r,i,c)}function Cy(e){this._context=e}Cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tx(this,this._t0,AE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tx(this,AE(this,r=EE(this,e,t)),r);break;default:tx(this,this._t0,r=EE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function yR(e){this._context=new vR(e)}(yR.prototype=Object.create(Cy.prototype)).point=function(e,t){Cy.prototype.point.call(this,t,e)};function vR(e){this._context=e}vR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function B6(e){return new Cy(e)}function q6(e){return new yR(e)}function bR(e){this._context=e}bR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=PE(e),a=PE(t),i=0,c=1;c<r;++i,++c)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PE(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),c=new Array(r);for(a[0]=0,i[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,c[t]-=n*c[t-1];for(a[r-1]=c[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(c[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function U6(e){return new bR(e)}function Rv(e,t){this._context=e,this._t=t}Rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function z6(e){return new Rv(e,.5)}function W6(e){return new Rv(e,0)}function H6(e){return new Rv(e,1)}function wp(e,t){if((c=e.length)>1)for(var r=1,n,a,i=e[t[0]],c,u=i.length;r<c;++r)for(a=i,i=e[t[r]],n=0;n<u;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function xS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function V6(e,t){return e[t]}function G6(e){const t=[];return t.key=e,t}function K6(){var e=Dr([]),t=xS,r=wp,n=V6;function a(i){var c=Array.from(e.apply(this,arguments),G6),u,f=c.length,p=-1,g;for(const m of i)for(u=0,++p;u<f;++u)(c[u][p]=[0,+n(m,c[u].key,p,i)]).data=m;for(u=0,g=sj(t(c));u<f;++u)c[g[u]].index=u;return r(c,g),c}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Dr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Dr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?xS:typeof i=="function"?i:Dr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??wp,a):r},a}function Y6(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,c;a<i;++a){for(c=r=0;r<n;++r)c+=e[r][a][1]||0;if(c)for(r=0;r<n;++r)e[r][a][1]/=c}wp(e,t)}}function X6(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var c=0,u=0;c<a;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}wp(e,t)}}function Q6(e,t){if(!(!((c=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,c;n<i;++n){for(var u=0,f=0,p=0;u<c;++u){for(var g=e[t[u]],m=g[n][1]||0,x=g[n-1][1]||0,N=(m-x)/2,A=0;A<u;++A){var C=e[t[A]],_=C[n][1]||0,O=C[n-1][1]||0;N+=_-O}f+=m,p+=N*m}a[n-1][1]+=a[n-1][0]=r,f&&(r-=p/f)}a[n-1][1]+=a[n-1][0]=r,wp(e,t)}}function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}var Z6=["type","size","sizeType"];function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wS.apply(this,arguments)}function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(n){J6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J6(e,t,r){return t=eB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=tB(e,"string");return xh(t)=="symbol"?t:t+""}function tB(e,t){if(xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rB(e,t){if(e==null)return{};var r=nB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xR={symbolCircle:ij,symbolCross:j6,symbolDiamond:C6,symbolSquare:E6,symbolStar:O6,symbolTriangle:T6,symbolWye:R6},aB=Math.PI/180,sB=function(t){var r="symbol".concat(Ov(t));return xR[r]||ij},iB=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*aB;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},oB=function(t,r){xR["symbol".concat(Ov(t))]=r},oj=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,c=t.sizeType,u=c===void 0?"area":c,f=rB(t,Z6),p=OE(OE({},f),{},{type:n,size:i,sizeType:u}),g=function(){var _=sB(n),O=M6().type(_).size(iB(i,u,n));return O()},m=p.className,x=p.cx,N=p.cy,A=ar(p,!0);return x===+x&&N===+N&&i===+i?Z.createElement("path",wS({},A,{className:Et("recharts-symbols",m),transform:"translate(".concat(x,", ").concat(N,")"),d:g()})):null};oj.registerSymbol=oB;function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SS.apply(this,arguments)}function TE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(r),!0).forEach(function(n){wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SR(n.key),n)}}function dB(e,t,r){return t&&uB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fB(e,t,r){return t=Ey(t),pB(e,wR()?Reflect.construct(t,r||[],Ey(e).constructor):t.apply(e,r))}function pB(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mB(e)}function mB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wR=function(){return!!e})()}function Ey(e){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ey(e)}function hB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NS(e,t)}function NS(e,t){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NS(e,t)}function wh(e,t,r){return t=SR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SR(e){var t=gB(e,"string");return Sp(t)=="symbol"?t:t+""}function gB(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Li=32,lj=(function(e){function t(){return cB(this,t),fB(this,t,arguments)}return hB(t,e),dB(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Li/2,c=Li/6,u=Li/3,f=n.inactive?a:n.color;if(n.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Li,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(Li,"M").concat(2*u,",").concat(i,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Z.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Li/8,"h").concat(Li,"v").concat(Li*3/4,"h").concat(-Li,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(n.legendIcon)){var p=lB({},n);return delete p.legendIcon,Z.cloneElement(n.legendIcon,p)}return Z.createElement(oj,{fill:f,cx:i,cy:i,size:Li,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,c=a.iconSize,u=a.layout,f=a.formatter,p=a.inactiveColor,g={x:0,y:0,width:Li,height:Li},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(N,A){var C=N.formatter||f,_=Et(wh(wh({"recharts-legend-item":!0},"legend-item-".concat(A),!0),"inactive",N.inactive));if(N.type==="none")return null;var O=Bt(N.value)?null:N.value;bc(!Bt(N.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var R=N.inactive?p:N.color;return Z.createElement("li",SS({className:_,style:m,key:"legend-item-".concat(A)},wy(n.props,N,A)),Z.createElement(hS,{width:c,height:c,viewBox:g,style:x},n.renderIcon(N)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:R}},C?C(O,N,A):O))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,c=n.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?c:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(y.PureComponent);wh(lj,"displayName","Legend");wh(lj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rx,IE;function yB(){if(IE)return rx;IE=1;var e=Ev();function t(){this.__data__=new e,this.size=0}return rx=t,rx}var nx,RE;function vB(){if(RE)return nx;RE=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return nx=e,nx}var ax,ME;function bB(){if(ME)return ax;ME=1;function e(t){return this.__data__.get(t)}return ax=e,ax}var sx,DE;function xB(){if(DE)return sx;DE=1;function e(t){return this.__data__.has(t)}return sx=e,sx}var ix,LE;function wB(){if(LE)return ix;LE=1;var e=Ev(),t=ZN(),r=JN(),n=200;function a(i,c){var u=this.__data__;if(u instanceof e){var f=u.__data__;if(!t||f.length<n-1)return f.push([i,c]),this.size=++u.size,this;u=this.__data__=new r(f)}return u.set(i,c),this.size=u.size,this}return ix=a,ix}var ox,$E;function NR(){if($E)return ox;$E=1;var e=Ev(),t=yB(),r=vB(),n=bB(),a=xB(),i=wB();function c(u){var f=this.__data__=new e(u);this.size=f.size}return c.prototype.clear=t,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=a,c.prototype.set=i,ox=c,ox}var lx,FE;function SB(){if(FE)return lx;FE=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return lx=t,lx}var cx,BE;function NB(){if(BE)return cx;BE=1;function e(t){return this.__data__.has(t)}return cx=e,cx}var ux,qE;function jR(){if(qE)return ux;qE=1;var e=JN(),t=SB(),r=NB();function n(a){var i=-1,c=a==null?0:a.length;for(this.__data__=new e;++i<c;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,ux=n,ux}var dx,UE;function _R(){if(UE)return dx;UE=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return dx=e,dx}var fx,zE;function CR(){if(zE)return fx;zE=1;function e(t,r){return t.has(r)}return fx=e,fx}var px,WE;function ER(){if(WE)return px;WE=1;var e=jR(),t=_R(),r=CR(),n=1,a=2;function i(c,u,f,p,g,m){var x=f&n,N=c.length,A=u.length;if(N!=A&&!(x&&A>N))return!1;var C=m.get(c),_=m.get(u);if(C&&_)return C==u&&_==c;var O=-1,R=!0,D=f&a?new e:void 0;for(m.set(c,u),m.set(u,c);++O<N;){var $=c[O],k=u[O];if(p)var M=x?p(k,$,O,u,c,m):p($,k,O,c,u,m);if(M!==void 0){if(M)continue;R=!1;break}if(D){if(!t(u,function(L,B){if(!r(D,B)&&($===L||g($,L,f,p,m)))return D.push(B)})){R=!1;break}}else if(!($===k||g($,k,f,p,m))){R=!1;break}}return m.delete(c),m.delete(u),R}return px=i,px}var mx,HE;function jB(){if(HE)return mx;HE=1;var e=Nl(),t=e.Uint8Array;return mx=t,mx}var hx,VE;function _B(){if(VE)return hx;VE=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return hx=e,hx}var gx,GE;function cj(){if(GE)return gx;GE=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return gx=e,gx}var yx,KE;function CB(){if(KE)return yx;KE=1;var e=ag(),t=jB(),r=QN(),n=ER(),a=_B(),i=cj(),c=1,u=2,f="[object Boolean]",p="[object Date]",g="[object Error]",m="[object Map]",x="[object Number]",N="[object RegExp]",A="[object Set]",C="[object String]",_="[object Symbol]",O="[object ArrayBuffer]",R="[object DataView]",D=e?e.prototype:void 0,$=D?D.valueOf:void 0;function k(M,L,B,V,J,K,ce){switch(B){case R:if(M.byteLength!=L.byteLength||M.byteOffset!=L.byteOffset)return!1;M=M.buffer,L=L.buffer;case O:return!(M.byteLength!=L.byteLength||!K(new t(M),new t(L)));case f:case p:case x:return r(+M,+L);case g:return M.name==L.name&&M.message==L.message;case N:case C:return M==L+"";case m:var ue=a;case A:var de=V&c;if(ue||(ue=i),M.size!=L.size&&!de)return!1;var G=ce.get(M);if(G)return G==L;V|=u,ce.set(M,L);var ne=n(ue(M),ue(L),V,J,K,ce);return ce.delete(M),ne;case _:if($)return $.call(M)==$.call(L)}return!1}return yx=k,yx}var vx,YE;function AR(){if(YE)return vx;YE=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return vx=e,vx}var bx,XE;function EB(){if(XE)return bx;XE=1;var e=AR(),t=Ls();function r(n,a,i){var c=a(n);return t(n)?c:e(c,i(n))}return bx=r,bx}var xx,QE;function AB(){if(QE)return xx;QE=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,c=[];++n<a;){var u=t[n];r(u,n,t)&&(c[i++]=u)}return c}return xx=e,xx}var wx,ZE;function PB(){if(ZE)return wx;ZE=1;function e(){return[]}return wx=e,wx}var Sx,JE;function kB(){if(JE)return Sx;JE=1;var e=AB(),t=PB(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(c){return c==null?[]:(c=Object(c),e(a(c),function(u){return n.call(c,u)}))}:t;return Sx=i,Sx}var Nx,e2;function OB(){if(e2)return Nx;e2=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return Nx=e,Nx}var jx,t2;function TB(){if(t2)return jx;t2=1;var e=_c(),t=Cc(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return jx=n,jx}var _x,r2;function uj(){if(r2)return _x;r2=1;var e=TB(),t=Cc(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(c){return t(c)&&n.call(c,"callee")&&!a.call(c,"callee")};return _x=i,_x}var lh={exports:{}},Cx,n2;function IB(){if(n2)return Cx;n2=1;function e(){return!1}return Cx=e,Cx}lh.exports;var a2;function PR(){return a2||(a2=1,(function(e,t){var r=Nl(),n=IB(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,c=i&&i.exports===a,u=c?r.Buffer:void 0,f=u?u.isBuffer:void 0,p=f||n;e.exports=p})(lh,lh.exports)),lh.exports}var Ex,s2;function dj(){if(s2)return Ex;s2=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return Ex=r,Ex}var Ax,i2;function fj(){if(i2)return Ax;i2=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Ax=t,Ax}var Px,o2;function RB(){if(o2)return Px;o2=1;var e=_c(),t=fj(),r=Cc(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Function]",p="[object Map]",g="[object Number]",m="[object Object]",x="[object RegExp]",N="[object Set]",A="[object String]",C="[object WeakMap]",_="[object ArrayBuffer]",O="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",$="[object Int8Array]",k="[object Int16Array]",M="[object Int32Array]",L="[object Uint8Array]",B="[object Uint8ClampedArray]",V="[object Uint16Array]",J="[object Uint32Array]",K={};K[R]=K[D]=K[$]=K[k]=K[M]=K[L]=K[B]=K[V]=K[J]=!0,K[n]=K[a]=K[_]=K[i]=K[O]=K[c]=K[u]=K[f]=K[p]=K[g]=K[m]=K[x]=K[N]=K[A]=K[C]=!1;function ce(ue){return r(ue)&&t(ue.length)&&!!K[e(ue)]}return Px=ce,Px}var kx,l2;function kR(){if(l2)return kx;l2=1;function e(t){return function(r){return t(r)}}return kx=e,kx}var ch={exports:{}};ch.exports;var c2;function MB(){return c2||(c2=1,(function(e,t){var r=XI(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,c=i&&r.process,u=(function(){try{var f=a&&a.require&&a.require("util").types;return f||c&&c.binding&&c.binding("util")}catch{}})();e.exports=u})(ch,ch.exports)),ch.exports}var Ox,u2;function OR(){if(u2)return Ox;u2=1;var e=RB(),t=kR(),r=MB(),n=r&&r.isTypedArray,a=n?t(n):e;return Ox=a,Ox}var Tx,d2;function DB(){if(d2)return Tx;d2=1;var e=OB(),t=uj(),r=Ls(),n=PR(),a=dj(),i=OR(),c=Object.prototype,u=c.hasOwnProperty;function f(p,g){var m=r(p),x=!m&&t(p),N=!m&&!x&&n(p),A=!m&&!x&&!N&&i(p),C=m||x||N||A,_=C?e(p.length,String):[],O=_.length;for(var R in p)(g||u.call(p,R))&&!(C&&(R=="length"||N&&(R=="offset"||R=="parent")||A&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||a(R,O)))&&_.push(R);return _}return Tx=f,Tx}var Ix,f2;function LB(){if(f2)return Ix;f2=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return Ix=t,Ix}var Rx,p2;function TR(){if(p2)return Rx;p2=1;function e(t,r){return function(n){return t(r(n))}}return Rx=e,Rx}var Mx,m2;function $B(){if(m2)return Mx;m2=1;var e=TR(),t=e(Object.keys,Object);return Mx=t,Mx}var Dx,h2;function FB(){if(h2)return Dx;h2=1;var e=LB(),t=$B(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var c=[];for(var u in Object(i))n.call(i,u)&&u!="constructor"&&c.push(u);return c}return Dx=a,Dx}var Lx,g2;function ig(){if(g2)return Lx;g2=1;var e=XN(),t=fj();function r(n){return n!=null&&t(n.length)&&!e(n)}return Lx=r,Lx}var $x,y2;function Mv(){if(y2)return $x;y2=1;var e=DB(),t=FB(),r=ig();function n(a){return r(a)?e(a):t(a)}return $x=n,$x}var Fx,v2;function BB(){if(v2)return Fx;v2=1;var e=EB(),t=kB(),r=Mv();function n(a){return e(a,r,t)}return Fx=n,Fx}var Bx,b2;function qB(){if(b2)return Bx;b2=1;var e=BB(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,c,u,f,p,g){var m=u&t,x=e(i),N=x.length,A=e(c),C=A.length;if(N!=C&&!m)return!1;for(var _=N;_--;){var O=x[_];if(!(m?O in c:n.call(c,O)))return!1}var R=g.get(i),D=g.get(c);if(R&&D)return R==c&&D==i;var $=!0;g.set(i,c),g.set(c,i);for(var k=m;++_<N;){O=x[_];var M=i[O],L=c[O];if(f)var B=m?f(L,M,O,c,i,g):f(M,L,O,i,c,g);if(!(B===void 0?M===L||p(M,L,u,f,g):B)){$=!1;break}k||(k=O=="constructor")}if($&&!k){var V=i.constructor,J=c.constructor;V!=J&&"constructor"in i&&"constructor"in c&&!(typeof V=="function"&&V instanceof V&&typeof J=="function"&&J instanceof J)&&($=!1)}return g.delete(i),g.delete(c),$}return Bx=a,Bx}var qx,x2;function UB(){if(x2)return qx;x2=1;var e=Xd(),t=Nl(),r=e(t,"DataView");return qx=r,qx}var Ux,w2;function zB(){if(w2)return Ux;w2=1;var e=Xd(),t=Nl(),r=e(t,"Promise");return Ux=r,Ux}var zx,S2;function IR(){if(S2)return zx;S2=1;var e=Xd(),t=Nl(),r=e(t,"Set");return zx=r,zx}var Wx,N2;function WB(){if(N2)return Wx;N2=1;var e=Xd(),t=Nl(),r=e(t,"WeakMap");return Wx=r,Wx}var Hx,j2;function HB(){if(j2)return Hx;j2=1;var e=UB(),t=ZN(),r=zB(),n=IR(),a=WB(),i=_c(),c=QI(),u="[object Map]",f="[object Object]",p="[object Promise]",g="[object Set]",m="[object WeakMap]",x="[object DataView]",N=c(e),A=c(t),C=c(r),_=c(n),O=c(a),R=i;return(e&&R(new e(new ArrayBuffer(1)))!=x||t&&R(new t)!=u||r&&R(r.resolve())!=p||n&&R(new n)!=g||a&&R(new a)!=m)&&(R=function(D){var $=i(D),k=$==f?D.constructor:void 0,M=k?c(k):"";if(M)switch(M){case N:return x;case A:return u;case C:return p;case _:return g;case O:return m}return $}),Hx=R,Hx}var Vx,_2;function VB(){if(_2)return Vx;_2=1;var e=NR(),t=ER(),r=CB(),n=qB(),a=HB(),i=Ls(),c=PR(),u=OR(),f=1,p="[object Arguments]",g="[object Array]",m="[object Object]",x=Object.prototype,N=x.hasOwnProperty;function A(C,_,O,R,D,$){var k=i(C),M=i(_),L=k?g:a(C),B=M?g:a(_);L=L==p?m:L,B=B==p?m:B;var V=L==m,J=B==m,K=L==B;if(K&&c(C)){if(!c(_))return!1;k=!0,V=!1}if(K&&!V)return $||($=new e),k||u(C)?t(C,_,O,R,D,$):r(C,_,L,O,R,D,$);if(!(O&f)){var ce=V&&N.call(C,"__wrapped__"),ue=J&&N.call(_,"__wrapped__");if(ce||ue){var de=ce?C.value():C,G=ue?_.value():_;return $||($=new e),D(de,G,O,R,$)}}return K?($||($=new e),n(C,_,O,R,D,$)):!1}return Vx=A,Vx}var Gx,C2;function pj(){if(C2)return Gx;C2=1;var e=VB(),t=Cc();function r(n,a,i,c,u){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,c,r,u)}return Gx=r,Gx}var Kx,E2;function GB(){if(E2)return Kx;E2=1;var e=NR(),t=pj(),r=1,n=2;function a(i,c,u,f){var p=u.length,g=p,m=!f;if(i==null)return!g;for(i=Object(i);p--;){var x=u[p];if(m&&x[2]?x[1]!==i[x[0]]:!(x[0]in i))return!1}for(;++p<g;){x=u[p];var N=x[0],A=i[N],C=x[1];if(m&&x[2]){if(A===void 0&&!(N in i))return!1}else{var _=new e;if(f)var O=f(A,C,N,i,c,_);if(!(O===void 0?t(C,A,r|n,f,_):O))return!1}}return!0}return Kx=a,Kx}var Yx,A2;function RR(){if(A2)return Yx;A2=1;var e=Pu();function t(r){return r===r&&!e(r)}return Yx=t,Yx}var Xx,P2;function KB(){if(P2)return Xx;P2=1;var e=RR(),t=Mv();function r(n){for(var a=t(n),i=a.length;i--;){var c=a[i],u=n[c];a[i]=[c,u,e(u)]}return a}return Xx=r,Xx}var Qx,k2;function MR(){if(k2)return Qx;k2=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Qx=e,Qx}var Zx,O2;function YB(){if(O2)return Zx;O2=1;var e=GB(),t=KB(),r=MR();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(c){return c===a||e(c,a,i)}}return Zx=n,Zx}var Jx,T2;function XB(){if(T2)return Jx;T2=1;function e(t,r){return t!=null&&r in Object(t)}return Jx=e,Jx}var ew,I2;function QB(){if(I2)return ew;I2=1;var e=eR(),t=uj(),r=Ls(),n=dj(),a=fj(),i=Pv();function c(u,f,p){f=e(f,u);for(var g=-1,m=f.length,x=!1;++g<m;){var N=i(f[g]);if(!(x=u!=null&&p(u,N)))break;u=u[N]}return x||++g!=m?x:(m=u==null?0:u.length,!!m&&a(m)&&n(N,m)&&(r(u)||t(u)))}return ew=c,ew}var tw,R2;function ZB(){if(R2)return tw;R2=1;var e=XB(),t=QB();function r(n,a){return n!=null&&t(n,a,e)}return tw=r,tw}var rw,M2;function JB(){if(M2)return rw;M2=1;var e=pj(),t=tR(),r=ZB(),n=YN(),a=RR(),i=MR(),c=Pv(),u=1,f=2;function p(g,m){return n(g)&&a(m)?i(c(g),m):function(x){var N=t(x,g);return N===void 0&&N===m?r(x,g):e(m,N,u|f)}}return rw=p,rw}var nw,D2;function Vp(){if(D2)return nw;D2=1;function e(t){return t}return nw=e,nw}var aw,L2;function eq(){if(L2)return aw;L2=1;function e(t){return function(r){return r?.[t]}}return aw=e,aw}var sw,$2;function tq(){if($2)return sw;$2=1;var e=tj();function t(r){return function(n){return e(n,r)}}return sw=t,sw}var iw,F2;function rq(){if(F2)return iw;F2=1;var e=eq(),t=tq(),r=YN(),n=Pv();function a(i){return r(i)?e(n(i)):t(i)}return iw=a,iw}var ow,B2;function ku(){if(B2)return ow;B2=1;var e=YB(),t=JB(),r=Vp(),n=Ls(),a=rq();function i(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?n(c)?t(c[0],c[1]):e(c):a(c)}return ow=i,ow}var lw,q2;function DR(){if(q2)return lw;q2=1;function e(t,r,n,a){for(var i=t.length,c=n+(a?1:-1);a?c--:++c<i;)if(r(t[c],c,t))return c;return-1}return lw=e,lw}var cw,U2;function nq(){if(U2)return cw;U2=1;function e(t){return t!==t}return cw=e,cw}var uw,z2;function aq(){if(z2)return uw;z2=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return uw=e,uw}var dw,W2;function sq(){if(W2)return dw;W2=1;var e=DR(),t=nq(),r=aq();function n(a,i,c){return i===i?r(a,i,c):e(a,t,c)}return dw=n,dw}var fw,H2;function iq(){if(H2)return fw;H2=1;var e=sq();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return fw=t,fw}var pw,V2;function oq(){if(V2)return pw;V2=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return pw=e,pw}var mw,G2;function lq(){if(G2)return mw;G2=1;function e(){}return mw=e,mw}var hw,K2;function cq(){if(K2)return hw;K2=1;var e=IR(),t=lq(),r=cj(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return hw=a,hw}var gw,Y2;function uq(){if(Y2)return gw;Y2=1;var e=jR(),t=iq(),r=oq(),n=CR(),a=cq(),i=cj(),c=200;function u(f,p,g){var m=-1,x=t,N=f.length,A=!0,C=[],_=C;if(g)A=!1,x=r;else if(N>=c){var O=p?null:a(f);if(O)return i(O);A=!1,x=n,_=new e}else _=p?[]:C;e:for(;++m<N;){var R=f[m],D=p?p(R):R;if(R=g||R!==0?R:0,A&&D===D){for(var $=_.length;$--;)if(_[$]===D)continue e;p&&_.push(D),C.push(R)}else x(_,D,g)||(_!==C&&_.push(D),C.push(R))}return C}return gw=u,gw}var yw,X2;function dq(){if(X2)return yw;X2=1;var e=ku(),t=uq();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return yw=r,yw}var fq=dq();const Q2=wr(fq);function LR(e,t,r){return t===!0?Q2(e,r):Bt(t)?Q2(e,t):e}function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}var pq=["ref"];function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(n){Dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FR(n.key),n)}}function hq(e,t,r){return t&&J2(e.prototype,t),r&&J2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gq(e,t,r){return t=Ay(t),yq(e,$R()?Reflect.construct(t,r||[],Ay(e).constructor):t.apply(e,r))}function yq(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vq(e)}function vq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($R=function(){return!!e})()}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ay(e)}function bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jS(e,t)}function jS(e,t){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jS(e,t)}function Dv(e,t,r){return t=FR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FR(e){var t=xq(e,"string");return Np(t)=="symbol"?t:t+""}function xq(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wq(e,t){if(e==null)return{};var r=Sq(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nq(e){return e.value}function jq(e,t){if(Z.isValidElement(e))return Z.cloneElement(e,t);if(typeof e=="function")return Z.createElement(e,t);t.ref;var r=wq(t,pq);return Z.createElement(lj,r)}var eA=1,mp=(function(e){function t(){var r;mq(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=gq(this,t,[].concat(a)),Dv(r,"lastBoundingBox",{width:-1,height:-1}),r}return bq(t,e),hq(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>eA||Math.abs(a.height-this.lastBoundingBox.height)>eA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?lc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,c=a.align,u=a.verticalAlign,f=a.margin,p=a.chartWidth,g=a.chartHeight,m,x;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(c==="center"&&i==="vertical"){var N=this.getBBoxSnapshot();m={left:((p||0)-N.width)/2}}else m=c==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var A=this.getBBoxSnapshot();x={top:((g||0)-A.height)/2}}else x=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return lc(lc({},m),x)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,c=a.width,u=a.height,f=a.wrapperStyle,p=a.payloadUniqBy,g=a.payload,m=lc(lc({position:"absolute",width:c||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return Z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(N){n.wrapperNode=N}},jq(i,lc(lc({},this.props),{},{payload:LR(g,p,Nq)})))}}],[{key:"getWithHeight",value:function(n,a){var i=lc(lc({},this.defaultProps),n.props),c=i.layout;return c==="vertical"&&Ge(n.props.height)?{height:n.props.height}:c==="horizontal"?{width:n.props.width||a}:null}}])})(y.PureComponent);Dv(mp,"displayName","Legend");Dv(mp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vw,tA;function _q(){if(tA)return vw;tA=1;var e=ag(),t=uj(),r=Ls(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return vw=a,vw}var bw,rA;function BR(){if(rA)return bw;rA=1;var e=AR(),t=_q();function r(n,a,i,c,u){var f=-1,p=n.length;for(i||(i=t),u||(u=[]);++f<p;){var g=n[f];a>0&&i(g)?a>1?r(g,a-1,i,c,u):e(u,g):c||(u[u.length]=g)}return u}return bw=r,bw}var xw,nA;function Cq(){if(nA)return xw;nA=1;function e(t){return function(r,n,a){for(var i=-1,c=Object(r),u=a(r),f=u.length;f--;){var p=u[t?f:++i];if(n(c[p],p,c)===!1)break}return r}}return xw=e,xw}var ww,aA;function Eq(){if(aA)return ww;aA=1;var e=Cq(),t=e();return ww=t,ww}var Sw,sA;function qR(){if(sA)return Sw;sA=1;var e=Eq(),t=Mv();function r(n,a){return n&&e(n,a,t)}return Sw=r,Sw}var Nw,iA;function Aq(){if(iA)return Nw;iA=1;var e=ig();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var c=a.length,u=n?c:-1,f=Object(a);(n?u--:++u<c)&&i(f[u],u,f)!==!1;);return a}}return Nw=t,Nw}var jw,oA;function mj(){if(oA)return jw;oA=1;var e=qR(),t=Aq(),r=t(e);return jw=r,jw}var _w,lA;function UR(){if(lA)return _w;lA=1;var e=mj(),t=ig();function r(n,a){var i=-1,c=t(n)?Array(n.length):[];return e(n,function(u,f,p){c[++i]=a(u,f,p)}),c}return _w=r,_w}var Cw,cA;function Pq(){if(cA)return Cw;cA=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Cw=e,Cw}var Ew,uA;function kq(){if(uA)return Ew;uA=1;var e=Wp();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,c=r===r,u=e(r),f=n!==void 0,p=n===null,g=n===n,m=e(n);if(!p&&!m&&!u&&r>n||u&&f&&g&&!p&&!m||i&&f&&g||!a&&g||!c)return 1;if(!i&&!u&&!m&&r<n||m&&a&&c&&!i&&!u||p&&a&&c||!f&&c||!g)return-1}return 0}return Ew=t,Ew}var Aw,dA;function Oq(){if(dA)return Aw;dA=1;var e=kq();function t(r,n,a){for(var i=-1,c=r.criteria,u=n.criteria,f=c.length,p=a.length;++i<f;){var g=e(c[i],u[i]);if(g){if(i>=p)return g;var m=a[i];return g*(m=="desc"?-1:1)}}return r.index-n.index}return Aw=t,Aw}var Pw,fA;function Tq(){if(fA)return Pw;fA=1;var e=ej(),t=tj(),r=ku(),n=UR(),a=Pq(),i=kR(),c=Oq(),u=Vp(),f=Ls();function p(g,m,x){m.length?m=e(m,function(C){return f(C)?function(_){return t(_,C.length===1?C[0]:C)}:C}):m=[u];var N=-1;m=e(m,i(r));var A=n(g,function(C,_,O){var R=e(m,function(D){return D(C)});return{criteria:R,index:++N,value:C}});return a(A,function(C,_){return c(C,_,x)})}return Pw=p,Pw}var kw,pA;function Iq(){if(pA)return kw;pA=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return kw=e,kw}var Ow,mA;function Rq(){if(mA)return Ow;mA=1;var e=Iq(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var c=arguments,u=-1,f=t(c.length-a,0),p=Array(f);++u<f;)p[u]=c[a+u];u=-1;for(var g=Array(a+1);++u<a;)g[u]=c[u];return g[a]=i(p),e(n,this,g)}}return Ow=r,Ow}var Tw,hA;function Mq(){if(hA)return Tw;hA=1;function e(t){return function(){return t}}return Tw=e,Tw}var Iw,gA;function zR(){if(gA)return Iw;gA=1;var e=Xd(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Iw=t,Iw}var Rw,yA;function Dq(){if(yA)return Rw;yA=1;var e=Mq(),t=zR(),r=Vp(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return Rw=n,Rw}var Mw,vA;function Lq(){if(vA)return Mw;vA=1;var e=800,t=16,r=Date.now;function n(a){var i=0,c=0;return function(){var u=r(),f=t-(u-c);if(c=u,f>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Mw=n,Mw}var Dw,bA;function $q(){if(bA)return Dw;bA=1;var e=Dq(),t=Lq(),r=t(e);return Dw=r,Dw}var Lw,xA;function Fq(){if(xA)return Lw;xA=1;var e=Vp(),t=Rq(),r=$q();function n(a,i){return r(t(a,i,e),a+"")}return Lw=n,Lw}var $w,wA;function Lv(){if(wA)return $w;wA=1;var e=QN(),t=ig(),r=dj(),n=Pu();function a(i,c,u){if(!n(u))return!1;var f=typeof c;return(f=="number"?t(u)&&r(c,u.length):f=="string"&&c in u)?e(u[c],i):!1}return $w=a,$w}var Fw,SA;function Bq(){if(SA)return Fw;SA=1;var e=BR(),t=Tq(),r=Fq(),n=Lv(),a=r(function(i,c){if(i==null)return[];var u=c.length;return u>1&&n(i,c[0],c[1])?c=[]:u>2&&n(c[0],c[1],c[2])&&(c=[c[0]]),t(i,e(c,1),[])});return Fw=a,Fw}var qq=Bq();const hj=wr(qq);function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_S.apply(this,arguments)}function Uq(e,t){return Vq(e)||Hq(e,t)||Wq(e,t)||zq()}function zq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wq(e,t){if(e){if(typeof e=="string")return NA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NA(e,t)}}function NA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,c,u=[],f=!0,p=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(f=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function Vq(e){if(Array.isArray(e))return e}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){Gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gq(e,t,r){return t=Kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=Yq(e,"string");return Sh(t)=="symbol"?t:t+""}function Yq(e,t){if(Sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xq(e){return Array.isArray(e)&&Qn(e[0])&&Qn(e[1])?e.join(" ~ "):e}var Qq=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,c=t.itemStyle,u=c===void 0?{}:c,f=t.labelStyle,p=f===void 0?{}:f,g=t.payload,m=t.formatter,x=t.itemSorter,N=t.wrapperClassName,A=t.labelClassName,C=t.label,_=t.labelFormatter,O=t.accessibilityLayer,R=O===void 0?!1:O,D=function(){if(g&&g.length){var ce={padding:0,margin:0},ue=(x?hj(g,x):g).map(function(de,G){if(de.type==="none")return null;var ne=Bw({display:"block",paddingTop:4,paddingBottom:4,color:de.color||"#000"},u),pe=de.formatter||m||Xq,Y=de.value,he=de.name,ve=Y,U=he;if(pe&&ve!=null&&U!=null){var Q=pe(Y,he,de,G,g);if(Array.isArray(Q)){var fe=Uq(Q,2);ve=fe[0],U=fe[1]}else ve=Q}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:ne},Qn(U)?Z.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Qn(U)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},ve),Z.createElement("span",{className:"recharts-tooltip-item-unit"},de.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:ce},ue)}return null},$=Bw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),k=Bw({margin:0},p),M=!sr(C),L=M?C:"",B=Et("recharts-default-tooltip",N),V=Et("recharts-tooltip-label",A);M&&_&&g!==void 0&&g!==null&&(L=_(C,g));var J=R?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",_S({className:B,style:$},J),Z.createElement("p",{className:V,style:k},Z.isValidElement(L)?L:"".concat(L)),D())};function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function Gg(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=Jq(e,"string");return Nh(t)=="symbol"?t:t+""}function Jq(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gm="recharts-tooltip-wrapper",eU={visibility:"hidden"};function tU(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Et(Gm,Gg(Gg(Gg(Gg({},"".concat(Gm,"-right"),Ge(r)&&t&&Ge(t.x)&&r>=t.x),"".concat(Gm,"-left"),Ge(r)&&t&&Ge(t.x)&&r<t.x),"".concat(Gm,"-bottom"),Ge(n)&&t&&Ge(t.y)&&n>=t.y),"".concat(Gm,"-top"),Ge(n)&&t&&Ge(t.y)&&n<t.y))}function _A(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,c=e.reverseDirection,u=e.tooltipDimension,f=e.viewBox,p=e.viewBoxDimension;if(i&&Ge(i[n]))return i[n];var g=r[n]-u-a,m=r[n]+a;if(t[n])return c[n]?g:m;if(c[n]){var x=g,N=f[n];return x<N?Math.max(m,f[n]):Math.max(g,f[n])}var A=m+u,C=f[n]+p;return A>C?Math.max(g,f[n]):Math.max(m,f[n])}function rU(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function nU(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,c=e.tooltipBox,u=e.useTranslate3d,f=e.viewBox,p,g,m;return c.height>0&&c.width>0&&r?(g=_A({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),m=_A({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),p=rU({translateX:g,translateY:m,useTranslate3d:u})):p=eU,{cssProperties:p,cssClasses:tU({translateX:g,translateY:m,coordinate:r})}}function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function CA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(r),!0).forEach(function(n){ES(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HR(n.key),n)}}function iU(e,t,r){return t&&sU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oU(e,t,r){return t=Py(t),lU(e,WR()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function lU(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cU(e)}function cU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WR=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function uU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CS(e,t)}function CS(e,t){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CS(e,t)}function ES(e,t,r){return t=HR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HR(e){var t=dU(e,"string");return jp(t)=="symbol"?t:t+""}function dU(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AA=1,fU=(function(e){function t(){var r;aU(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=oU(this,t,[].concat(a)),ES(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ES(r,"handleKeyDown",function(c){if(c.key==="Escape"){var u,f,p,g;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&u!==void 0?u:0,y:(p=(g=r.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&p!==void 0?p:0}})}}),r}return uU(t,e),iU(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>AA||Math.abs(n.height-this.state.lastBoundingBox.height)>AA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,f=a.animationEasing,p=a.children,g=a.coordinate,m=a.hasPayload,x=a.isAnimationActive,N=a.offset,A=a.position,C=a.reverseDirection,_=a.useTranslate3d,O=a.viewBox,R=a.wrapperStyle,D=nU({allowEscapeViewBox:c,coordinate:g,offsetTopLeft:N,position:A,reverseDirection:C,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:O}),$=D.cssClasses,k=D.cssProperties,M=EA(EA({transition:x&&i?"transform ".concat(u,"ms ").concat(f):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},R);return Z.createElement("div",{tabIndex:-1,className:$,style:M,ref:function(B){n.wrapperNode=B}},p)}}])})(y.PureComponent),pU=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},og={isSsr:pU()};function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){gj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GR(n.key),n)}}function gU(e,t,r){return t&&hU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yU(e,t,r){return t=ky(t),vU(e,VR()?Reflect.construct(t,r||[],ky(e).constructor):t.apply(e,r))}function vU(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bU(e)}function bU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VR=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(e)}function xU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AS(e,t)}function AS(e,t){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AS(e,t)}function gj(e,t,r){return t=GR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GR(e){var t=wU(e,"string");return _p(t)=="symbol"?t:t+""}function wU(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function SU(e){return e.dataKey}function NU(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):typeof e=="function"?Z.createElement(e,t):Z.createElement(Qq,t)}var ul=(function(e){function t(){return mU(this,t),yU(this,t,arguments)}return xU(t,e),gU(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,f=a.animationEasing,p=a.content,g=a.coordinate,m=a.filterNull,x=a.isAnimationActive,N=a.offset,A=a.payload,C=a.payloadUniqBy,_=a.position,O=a.reverseDirection,R=a.useTranslate3d,D=a.viewBox,$=a.wrapperStyle,k=A??[];m&&k.length&&(k=LR(A.filter(function(L){return L.value!=null&&(L.hide!==!0||n.props.includeHidden)}),C,SU));var M=k.length>0;return Z.createElement(fU,{allowEscapeViewBox:c,animationDuration:u,animationEasing:f,isAnimationActive:x,active:i,coordinate:g,hasPayload:M,offset:N,position:_,reverseDirection:O,useTranslate3d:R,viewBox:D,wrapperStyle:$},NU(p,kA(kA({},this.props),{},{payload:k})))}}])})(y.PureComponent);gj(ul,"displayName","Tooltip");gj(ul,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!og.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qw,OA;function jU(){if(OA)return qw;OA=1;var e=Nl(),t=function(){return e.Date.now()};return qw=t,qw}var Uw,TA;function _U(){if(TA)return Uw;TA=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Uw=t,Uw}var zw,IA;function CU(){if(IA)return zw;IA=1;var e=_U(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return zw=r,zw}var Ww,RA;function KR(){if(RA)return Ww;RA=1;var e=CU(),t=Pu(),r=Wp(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function f(p){if(typeof p=="number")return p;if(r(p))return n;if(t(p)){var g=typeof p.valueOf=="function"?p.valueOf():p;p=t(g)?g+"":g}if(typeof p!="string")return p===0?p:+p;p=e(p);var m=i.test(p);return m||c.test(p)?u(p.slice(2),m?2:8):a.test(p)?n:+p}return Ww=f,Ww}var Hw,MA;function EU(){if(MA)return Hw;MA=1;var e=Pu(),t=jU(),r=KR(),n="Expected a function",a=Math.max,i=Math.min;function c(u,f,p){var g,m,x,N,A,C,_=0,O=!1,R=!1,D=!0;if(typeof u!="function")throw new TypeError(n);f=r(f)||0,e(p)&&(O=!!p.leading,R="maxWait"in p,x=R?a(r(p.maxWait)||0,f):x,D="trailing"in p?!!p.trailing:D);function $(ue){var de=g,G=m;return g=m=void 0,_=ue,N=u.apply(G,de),N}function k(ue){return _=ue,A=setTimeout(B,f),O?$(ue):N}function M(ue){var de=ue-C,G=ue-_,ne=f-de;return R?i(ne,x-G):ne}function L(ue){var de=ue-C,G=ue-_;return C===void 0||de>=f||de<0||R&&G>=x}function B(){var ue=t();if(L(ue))return V(ue);A=setTimeout(B,M(ue))}function V(ue){return A=void 0,D&&g?$(ue):(g=m=void 0,N)}function J(){A!==void 0&&clearTimeout(A),_=0,g=C=m=A=void 0}function K(){return A===void 0?N:V(t())}function ce(){var ue=t(),de=L(ue);if(g=arguments,m=this,C=ue,de){if(A===void 0)return k(C);if(R)return clearTimeout(A),A=setTimeout(B,f),$(C)}return A===void 0&&(A=setTimeout(B,f)),N}return ce.cancel=J,ce.flush=K,ce}return Hw=c,Hw}var Vw,DA;function AU(){if(DA)return Vw;DA=1;var e=EU(),t=Pu(),r="Expected a function";function n(a,i,c){var u=!0,f=!0;if(typeof a!="function")throw new TypeError(r);return t(c)&&(u="leading"in c?!!c.leading:u,f="trailing"in c?!!c.trailing:f),e(a,i,{leading:u,maxWait:i,trailing:f})}return Vw=n,Vw}var PU=AU();const YR=wr(PU);function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){kU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kU(e,t,r){return t=OU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OU(e){var t=TU(e,"string");return jh(t)=="symbol"?t:t+""}function TU(e,t){if(jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IU(e,t){return LU(e)||DU(e,t)||MU(e,t)||RU()}function RU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MU(e,t){if(e){if(typeof e=="string")return $A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $A(e,t)}}function $A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,c,u=[],f=!0,p=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(f=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function LU(e){if(Array.isArray(e))return e}var $U=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,c=i===void 0?"100%":i,u=e.height,f=u===void 0?"100%":u,p=e.minWidth,g=p===void 0?0:p,m=e.minHeight,x=e.maxHeight,N=e.children,A=e.debounce,C=A===void 0?0:A,_=e.id,O=e.className,R=e.onResize,D=e.style,$=D===void 0?{}:D,k=y.useRef(null),M=y.useRef();M.current=R,y.useImperativeHandle(t,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var L=y.useState({containerWidth:a.width,containerHeight:a.height}),B=IU(L,2),V=B[0],J=B[1],K=y.useCallback(function(ue,de){J(function(G){var ne=Math.round(ue),pe=Math.round(de);return G.containerWidth===ne&&G.containerHeight===pe?G:{containerWidth:ne,containerHeight:pe}})},[]);y.useEffect(function(){var ue=function(he){var ve,U=he[0].contentRect,Q=U.width,fe=U.height;K(Q,fe),(ve=M.current)===null||ve===void 0||ve.call(M,Q,fe)};C>0&&(ue=YR(ue,C,{trailing:!0,leading:!1}));var de=new ResizeObserver(ue),G=k.current.getBoundingClientRect(),ne=G.width,pe=G.height;return K(ne,pe),de.observe(k.current),function(){de.disconnect()}},[K,C]);var ce=y.useMemo(function(){var ue=V.containerWidth,de=V.containerHeight;if(ue<0||de<0)return null;bc(Dd(c)||Dd(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,f),bc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Dd(c)?ue:c,ne=Dd(f)?de:f;r&&r>0&&(G?ne=G/r:ne&&(G=ne*r),x&&ne>x&&(ne=x)),bc(G>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,ne,c,f,g,m,r);var pe=!Array.isArray(N)&&vc(N.type).endsWith("Chart");return Z.Children.map(N,function(Y){return Z.isValidElement(Y)?y.cloneElement(Y,Kg({width:G,height:ne},pe?{style:Kg({height:"100%",width:"100%",maxHeight:ne,maxWidth:G},Y.props.style)}:{})):Y})},[r,N,f,x,m,g,V,c]);return Z.createElement("div",{id:_?"".concat(_):void 0,className:Et("recharts-responsive-container",O),style:Kg(Kg({},$),{},{width:c,height:f,minWidth:g,minHeight:m,maxHeight:x}),ref:k},ce)}),XR=function(t){return null};XR.displayName="Cell";function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(r),!0).forEach(function(n){FU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FU(e,t,r){return t=BU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BU(e){var t=qU(e,"string");return _h(t)=="symbol"?t:t+""}function qU(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var np={widthCache:{},cacheCount:0},UU=2e3,zU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BA="recharts_measurement_span";function WU(e){var t=PS({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var fh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||og.isSsr)return{width:0,height:0};var n=WU(r),a=JSON.stringify({text:t,copyStyle:n});if(np.widthCache[a])return np.widthCache[a];try{var i=document.getElementById(BA);i||(i=document.createElement("span"),i.setAttribute("id",BA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var c=PS(PS({},zU),n);Object.assign(i.style,c),i.textContent="".concat(t);var u=i.getBoundingClientRect(),f={width:u.width,height:u.height};return np.widthCache[a]=f,++np.cacheCount>UU&&(np.cacheCount=0,np.widthCache={}),f}catch{return{width:0,height:0}}},HU=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function Oy(e,t){return YU(e)||KU(e,t)||GU(e,t)||VU()}function VU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GU(e,t){if(e){if(typeof e=="string")return qA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qA(e,t)}}function qA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,c,u=[],f=!0,p=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function YU(e){if(Array.isArray(e))return e}function XU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZU(n.key),n)}}function QU(e,t,r){return t&&UA(e.prototype,t),r&&UA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZU(e){var t=JU(e,"string");return Ch(t)=="symbol"?t:t+""}function JU(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ez=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rz=Object.keys(QR),cp="NaN";function nz(e,t){return e*QR[t]}var Yg=(function(){function e(t,r){XU(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!ez.test(r)&&(this.num=NaN,this.unit=""),rz.includes(r)&&(this.num=nz(t,r),this.unit="px")}return QU(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=tz.exec(r))!==null&&n!==void 0?n:[],i=Oy(a,3),c=i[1],u=i[2];return new e(parseFloat(c),u??"")}}])})();function ZR(e){if(e.includes(cp))return cp;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=zA.exec(t))!==null&&r!==void 0?r:[],a=Oy(n,4),i=a[1],c=a[2],u=a[3],f=Yg.parse(i??""),p=Yg.parse(u??""),g=c==="*"?f.multiply(p):f.divide(p);if(g.isNaN())return cp;t=t.replace(zA,g.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,x=(m=WA.exec(t))!==null&&m!==void 0?m:[],N=Oy(x,4),A=N[1],C=N[2],_=N[3],O=Yg.parse(A??""),R=Yg.parse(_??""),D=C==="+"?O.add(R):O.subtract(R);if(D.isNaN())return cp;t=t.replace(WA,D.toString())}return t}var HA=/\(([^()]*)\)/;function az(e){for(var t=e;t.includes("(");){var r=HA.exec(t),n=Oy(r,2),a=n[1];t=t.replace(HA,ZR(a))}return t}function sz(e){var t=e.replace(/\s+/g,"");return t=az(t),t=ZR(t),t}function iz(e){try{return sz(e)}catch{return cp}}function Gw(e){var t=iz(e.slice(5,-1));return t===cp?"":t}var oz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lz=["dx","dy","angle","className","breakAll"];function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(this,arguments)}function VA(e,t){if(e==null)return{};var r=cz(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GA(e,t){return pz(e)||fz(e,t)||dz(e,t)||uz()}function uz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dz(e,t){if(e){if(typeof e=="string")return KA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KA(e,t)}}function KA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,c,u=[],f=!0,p=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function pz(e){if(Array.isArray(e))return e}var JR=/[ \f\n\r\t\v\u2028\u2029]+/,eM=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];sr(r)||(n?i=r.toString().split(""):i=r.toString().split(JR));var c=i.map(function(f){return{word:f,width:fh(f,a).width}}),u=n?0:fh("",a).width;return{wordsWithComputedWidth:c,spaceWidth:u}}catch{return null}},mz=function(t,r,n,a,i){var c=t.maxLines,u=t.children,f=t.style,p=t.breakAll,g=Ge(c),m=u,x=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(ne,pe){var Y=pe.word,he=pe.width,ve=ne[ne.length-1];if(ve&&(a==null||i||ve.width+he+n<Number(a)))ve.words.push(Y),ve.width+=he+n;else{var U={words:[Y],width:he};ne.push(U)}return ne},[])},N=x(r),A=function(G){return G.reduce(function(ne,pe){return ne.width>pe.width?ne:pe})};if(!g)return N;for(var C="",_=function(G){var ne=m.slice(0,G),pe=eM({breakAll:p,style:f,children:ne+C}).wordsWithComputedWidth,Y=x(pe),he=Y.length>c||A(Y).width>Number(a);return[he,Y]},O=0,R=m.length-1,D=0,$;O<=R&&D<=m.length-1;){var k=Math.floor((O+R)/2),M=k-1,L=_(M),B=GA(L,2),V=B[0],J=B[1],K=_(k),ce=GA(K,1),ue=ce[0];if(!V&&!ue&&(O=k+1),V&&ue&&(R=k-1),!V&&ue){$=J;break}D++}return $||N},YA=function(t){var r=sr(t)?[]:t.toString().split(JR);return[{words:r}]},hz=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,c=t.breakAll,u=t.maxLines;if((r||n)&&!og.isSsr){var f,p,g=eM({breakAll:c,children:a,style:i});if(g){var m=g.wordsWithComputedWidth,x=g.spaceWidth;f=m,p=x}else return YA(a);return mz({breakAll:c,children:a,maxLines:u,style:i},f,p,r,n)}return YA(a)},XA="#808080",Ty=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,c=t.lineHeight,u=c===void 0?"1em":c,f=t.capHeight,p=f===void 0?"0.71em":f,g=t.scaleToFit,m=g===void 0?!1:g,x=t.textAnchor,N=x===void 0?"start":x,A=t.verticalAnchor,C=A===void 0?"end":A,_=t.fill,O=_===void 0?XA:_,R=VA(t,oz),D=y.useMemo(function(){return hz({breakAll:R.breakAll,children:R.children,maxLines:R.maxLines,scaleToFit:m,style:R.style,width:R.width})},[R.breakAll,R.children,R.maxLines,m,R.style,R.width]),$=R.dx,k=R.dy,M=R.angle,L=R.className,B=R.breakAll,V=VA(R,lz);if(!Qn(n)||!Qn(i))return null;var J=n+(Ge($)?$:0),K=i+(Ge(k)?k:0),ce;switch(C){case"start":ce=Gw("calc(".concat(p,")"));break;case"middle":ce=Gw("calc(".concat((D.length-1)/2," * -").concat(u," + (").concat(p," / 2))"));break;default:ce=Gw("calc(".concat(D.length-1," * -").concat(u,")"));break}var ue=[];if(m){var de=D[0].width,G=R.width;ue.push("scale(".concat((Ge(G)?G/de:1)/de,")"))}return M&&ue.push("rotate(".concat(M,", ").concat(J,", ").concat(K,")")),ue.length&&(V.transform=ue.join(" ")),Z.createElement("text",kS({},ar(V,!0),{x:J,y:K,className:Et("recharts-text",L),textAnchor:N,fill:O.includes("url")?XA:O}),D.map(function(ne,pe){var Y=ne.words.join(B?"":" ");return Z.createElement("tspan",{x:J,dy:pe===0?ce:u,key:"".concat(Y,"-").concat(pe)},Y)}))};function Cu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yj(e){let t,r,n;e.length!==2?(t=Cu,r=(u,f)=>Cu(e(u),f),n=(u,f)=>e(u)-f):(t=e===Cu||e===gz?e:yz,r=e,n=e);function a(u,f,p=0,g=u.length){if(p<g){if(t(f,f)!==0)return g;do{const m=p+g>>>1;r(u[m],f)<0?p=m+1:g=m}while(p<g)}return p}function i(u,f,p=0,g=u.length){if(p<g){if(t(f,f)!==0)return g;do{const m=p+g>>>1;r(u[m],f)<=0?p=m+1:g=m}while(p<g)}return p}function c(u,f,p=0,g=u.length){const m=a(u,f,p,g-1);return m>p&&n(u[m-1],f)>-n(u[m],f)?m-1:m}return{left:a,center:c,right:i}}function yz(){return 0}function tM(e){return e===null?NaN:+e}function*vz(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const bz=yj(Cu),lg=bz.right;yj(tM).center;class QA extends Map{constructor(t,r=Sz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(ZA(this,t))}has(t){return super.has(ZA(this,t))}set(t,r){return super.set(xz(this,t),r)}delete(t){return super.delete(wz(this,t))}}function ZA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function xz({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function wz({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Sz(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Nz(e=Cu){if(e===Cu)return rM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function rM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const jz=Math.sqrt(50),_z=Math.sqrt(10),Cz=Math.sqrt(2);function Iy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),c=i>=jz?10:i>=_z?5:i>=Cz?2:1;let u,f,p;return a<0?(p=Math.pow(10,-a)/c,u=Math.round(e*p),f=Math.round(t*p),u/p<e&&++u,f/p>t&&--f,p=-p):(p=Math.pow(10,a)*c,u=Math.round(e/p),f=Math.round(t/p),u*p<e&&++u,f*p>t&&--f),f<u&&.5<=r&&r<2?Iy(e,t,r*2):[u,f,p]}function OS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,c]=n?Iy(t,e,r):Iy(e,t,r);if(!(i>=a))return[];const u=i-a+1,f=new Array(u);if(n)if(c<0)for(let p=0;p<u;++p)f[p]=(i-p)/-c;else for(let p=0;p<u;++p)f[p]=(i-p)*c;else if(c<0)for(let p=0;p<u;++p)f[p]=(a+p)/-c;else for(let p=0;p<u;++p)f[p]=(a+p)*c;return f}function TS(e,t,r){return t=+t,e=+e,r=+r,Iy(e,t,r)[2]}function IS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?TS(t,e,r):TS(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function JA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function eP(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function nM(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?rM:Nz(a);n>r;){if(n-r>600){const f=n-r+1,p=t-r+1,g=Math.log(f),m=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*m*(f-m)/f)*(p-f/2<0?-1:1),N=Math.max(r,Math.floor(t-p*m/f+x)),A=Math.min(n,Math.floor(t+(f-p)*m/f+x));nM(e,t,N,A,a)}const i=e[t];let c=r,u=n;for(Km(e,r,t),a(e[n],i)>0&&Km(e,r,n);c<u;){for(Km(e,c,u),++c,--u;a(e[c],i)<0;)++c;for(;a(e[u],i)>0;)--u}a(e[r],i)===0?Km(e,r,u):(++u,Km(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Km(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Ez(e,t,r){if(e=Float64Array.from(vz(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return eP(e);if(t>=1)return JA(e);var n,a=(n-1)*t,i=Math.floor(a),c=JA(nM(e,i).subarray(0,i+1)),u=eP(e.subarray(i+1));return c+(u-c)*(a-i)}}function Az(e,t,r=tM){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),c=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return c+(u-c)*(a-i)}}function Pz(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ui(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ec(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const RS=Symbol("implicit");function vj(){var e=new QA,t=[],r=[],n=RS;function a(i){let c=e.get(i);if(c===void 0){if(n!==RS)return n;e.set(i,c=t.push(i)-1)}return r[c%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new QA;for(const c of i)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return vj(t,r).unknown(n)},Ui.apply(a,arguments),a}function Eh(){var e=vj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,c,u=!1,f=0,p=0,g=.5;delete e.unknown;function m(){var x=t().length,N=a<n,A=N?a:n,C=N?n:a;i=(C-A)/Math.max(1,x-f+p*2),u&&(i=Math.floor(i)),A+=(C-A-i*(x-f))*g,c=i*(1-f),u&&(A=Math.round(A),c=Math.round(c));var _=Pz(x).map(function(O){return A+i*O});return r(N?_.reverse():_)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([n,a]=x,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(x){return[n,a]=x,n=+n,a=+a,u=!0,m()},e.bandwidth=function(){return c},e.step=function(){return i},e.round=function(x){return arguments.length?(u=!!x,m()):u},e.padding=function(x){return arguments.length?(f=Math.min(1,p=+x),m()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),m()):f},e.paddingOuter=function(x){return arguments.length?(p=+x,m()):p},e.align=function(x){return arguments.length?(g=Math.max(0,Math.min(1,x)),m()):g},e.copy=function(){return Eh(t(),[n,a]).round(u).paddingInner(f).paddingOuter(p).align(g)},Ui.apply(m(),arguments)}function aM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aM(t())},e}function ph(){return aM(Eh.apply(null,arguments).paddingInner(1))}function bj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sM(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cg(){}var Ah=.7,Ry=1/Ah,hp="\\s*([+-]?\\d+)\\s*",Ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kz=/^#([0-9a-f]{3,8})$/,Oz=new RegExp(`^rgb\\(${hp},${hp},${hp}\\)$`),Tz=new RegExp(`^rgb\\(${bl},${bl},${bl}\\)$`),Iz=new RegExp(`^rgba\\(${hp},${hp},${hp},${Ph}\\)$`),Rz=new RegExp(`^rgba\\(${bl},${bl},${bl},${Ph}\\)$`),Mz=new RegExp(`^hsl\\(${Ph},${bl},${bl}\\)$`),Dz=new RegExp(`^hsla\\(${Ph},${bl},${bl},${Ph}\\)$`),tP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bj(cg,kh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rP,formatHex:rP,formatHex8:Lz,formatHsl:$z,formatRgb:nP,toString:nP});function rP(){return this.rgb().formatHex()}function Lz(){return this.rgb().formatHex8()}function $z(){return iM(this).formatHsl()}function nP(){return this.rgb().formatRgb()}function kh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=kz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?aP(t):r===3?new Ms(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Xg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Xg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Oz.exec(e))?new Ms(t[1],t[2],t[3],1):(t=Tz.exec(e))?new Ms(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Iz.exec(e))?Xg(t[1],t[2],t[3],t[4]):(t=Rz.exec(e))?Xg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Mz.exec(e))?oP(t[1],t[2]/100,t[3]/100,1):(t=Dz.exec(e))?oP(t[1],t[2]/100,t[3]/100,t[4]):tP.hasOwnProperty(e)?aP(tP[e]):e==="transparent"?new Ms(NaN,NaN,NaN,0):null}function aP(e){return new Ms(e>>16&255,e>>8&255,e&255,1)}function Xg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ms(e,t,r,n)}function Fz(e){return e instanceof cg||(e=kh(e)),e?(e=e.rgb(),new Ms(e.r,e.g,e.b,e.opacity)):new Ms}function MS(e,t,r,n){return arguments.length===1?Fz(e):new Ms(e,t,r,n??1)}function Ms(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}bj(Ms,MS,sM(cg,{brighter(e){return e=e==null?Ry:Math.pow(Ry,e),new Ms(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ah:Math.pow(Ah,e),new Ms(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ms(qd(this.r),qd(this.g),qd(this.b),My(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sP,formatHex:sP,formatHex8:Bz,formatRgb:iP,toString:iP}));function sP(){return`#${Ld(this.r)}${Ld(this.g)}${Ld(this.b)}`}function Bz(){return`#${Ld(this.r)}${Ld(this.g)}${Ld(this.b)}${Ld((isNaN(this.opacity)?1:this.opacity)*255)}`}function iP(){const e=My(this.opacity);return`${e===1?"rgb(":"rgba("}${qd(this.r)}, ${qd(this.g)}, ${qd(this.b)}${e===1?")":`, ${e})`}`}function My(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ld(e){return e=qd(e),(e<16?"0":"")+e.toString(16)}function oP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new _o(e,t,r,n)}function iM(e){if(e instanceof _o)return new _o(e.h,e.s,e.l,e.opacity);if(e instanceof cg||(e=kh(e)),!e)return new _o;if(e instanceof _o)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),c=NaN,u=i-a,f=(i+a)/2;return u?(t===i?c=(r-n)/u+(r<n)*6:r===i?c=(n-t)/u+2:c=(t-r)/u+4,u/=f<.5?i+a:2-i-a,c*=60):u=f>0&&f<1?0:c,new _o(c,u,f,e.opacity)}function qz(e,t,r,n){return arguments.length===1?iM(e):new _o(e,t,r,n??1)}function _o(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}bj(_o,qz,sM(cg,{brighter(e){return e=e==null?Ry:Math.pow(Ry,e),new _o(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ah:Math.pow(Ah,e),new _o(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ms(Kw(e>=240?e-240:e+120,a,n),Kw(e,a,n),Kw(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new _o(lP(this.h),Qg(this.s),Qg(this.l),My(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=My(this.opacity);return`${e===1?"hsl(":"hsla("}${lP(this.h)}, ${Qg(this.s)*100}%, ${Qg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lP(e){return e=(e||0)%360,e<0?e+360:e}function Qg(e){return Math.max(0,Math.min(1,e||0))}function Kw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const xj=e=>()=>e;function Uz(e,t){return function(r){return e+r*t}}function zz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Wz(e){return(e=+e)==1?oM:function(t,r){return r-t?zz(t,r,e):xj(isNaN(t)?r:t)}}function oM(e,t){var r=t-e;return r?Uz(e,r):xj(isNaN(e)?t:e)}const cP=(function e(t){var r=Wz(t);function n(a,i){var c=r((a=MS(a)).r,(i=MS(i)).r),u=r(a.g,i.g),f=r(a.b,i.b),p=oM(a.opacity,i.opacity);return function(g){return a.r=c(g),a.g=u(g),a.b=f(g),a.opacity=p(g),a+""}}return n.gamma=e,n})(1);function Hz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Vz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Gz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),c;for(c=0;c<n;++c)a[c]=Gp(e[c],t[c]);for(;c<r;++c)i[c]=t[c];return function(u){for(c=0;c<n;++c)i[c]=a[c](u);return i}}function Kz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Dy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Yz(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Gp(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var DS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yw=new RegExp(DS.source,"g");function Xz(e){return function(){return e}}function Qz(e){return function(t){return e(t)+""}}function Zz(e,t){var r=DS.lastIndex=Yw.lastIndex=0,n,a,i,c=-1,u=[],f=[];for(e=e+"",t=t+"";(n=DS.exec(e))&&(a=Yw.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),u[c]?u[c]+=i:u[++c]=i),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:Dy(n,a)})),r=Yw.lastIndex;return r<t.length&&(i=t.slice(r),u[c]?u[c]+=i:u[++c]=i),u.length<2?f[0]?Qz(f[0].x):Xz(t):(t=f.length,function(p){for(var g=0,m;g<t;++g)u[(m=f[g]).i]=m.x(p);return u.join("")})}function Gp(e,t){var r=typeof t,n;return t==null||r==="boolean"?xj(t):(r==="number"?Dy:r==="string"?(n=kh(t))?(t=n,cP):Zz:t instanceof kh?cP:t instanceof Date?Kz:Vz(t)?Hz:Array.isArray(t)?Gz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Yz:Dy)(e,t)}function wj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Jz(e,t){t===void 0&&(t=e,e=Gp);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return i[u](c-u)}}function e8(e){return function(){return e}}function Ly(e){return+e}var uP=[0,1];function us(e){return e}function LS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:e8(isNaN(t)?NaN:.5)}function t8(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function r8(e,t,r){var n=e[0],a=e[1],i=t[0],c=t[1];return a<n?(n=LS(a,n),i=r(c,i)):(n=LS(n,a),i=r(i,c)),function(u){return i(n(u))}}function n8(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)a[c]=LS(e[c],e[c+1]),i[c]=r(t[c],t[c+1]);return function(u){var f=lg(e,u,1,n)-1;return i[f](a[f](u))}}function ug(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $v(){var e=uP,t=uP,r=Gp,n,a,i,c=us,u,f,p;function g(){var x=Math.min(e.length,t.length);return c!==us&&(c=t8(e[0],e[x-1])),u=x>2?n8:r8,f=p=null,m}function m(x){return x==null||isNaN(x=+x)?i:(f||(f=u(e.map(n),t,r)))(n(c(x)))}return m.invert=function(x){return c(a((p||(p=u(t,e.map(n),Dy)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,Ly),g()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),g()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),r=wj,g()},m.clamp=function(x){return arguments.length?(c=x?!0:us,g()):c!==us},m.interpolate=function(x){return arguments.length?(r=x,g()):r},m.unknown=function(x){return arguments.length?(i=x,m):i},function(x,N){return n=x,a=N,g()}}function Sj(){return $v()(us,us)}function a8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $y(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Cp(e){return e=$y(Math.abs(e)),e?e[1]:NaN}function s8(e,t){return function(r,n){for(var a=r.length,i=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),i.push(r.substring(a-=u,a+u)),!((f+=u+1)>n));)u=e[c=(c+1)%e.length];return i.reverse().join(t)}}function i8(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var o8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oh(e){if(!(t=o8.exec(e)))throw new Error("invalid format: "+e);var t;return new Nj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Oh.prototype=Nj.prototype;function Nj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function l8(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var lM;function c8(e,t){var r=$y(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(lM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return i===c?n:i>c?n+new Array(i-c+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+$y(e,Math.max(0,t+i-1))[0]}function dP(e,t){var r=$y(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const fP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:a8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dP(e*100,t),r:dP,s:c8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pP(e){return e}var mP=Array.prototype.map,hP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function u8(e){var t=e.grouping===void 0||e.thousands===void 0?pP:s8(mP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?pP:i8(mP.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function p(m){m=Oh(m);var x=m.fill,N=m.align,A=m.sign,C=m.symbol,_=m.zero,O=m.width,R=m.comma,D=m.precision,$=m.trim,k=m.type;k==="n"?(R=!0,k="g"):fP[k]||(D===void 0&&(D=12),$=!0,k="g"),(_||x==="0"&&N==="=")&&(_=!0,x="0",N="=");var M=C==="$"?r:C==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",L=C==="$"?n:/[%p]/.test(k)?c:"",B=fP[k],V=/[defgprs%]/.test(k);D=D===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function J(K){var ce=M,ue=L,de,G,ne;if(k==="c")ue=B(K)+ue,K="";else{K=+K;var pe=K<0||1/K<0;if(K=isNaN(K)?f:B(Math.abs(K),D),$&&(K=l8(K)),pe&&+K==0&&A!=="+"&&(pe=!1),ce=(pe?A==="("?A:u:A==="-"||A==="("?"":A)+ce,ue=(k==="s"?hP[8+lM/3]:"")+ue+(pe&&A==="("?")":""),V){for(de=-1,G=K.length;++de<G;)if(ne=K.charCodeAt(de),48>ne||ne>57){ue=(ne===46?a+K.slice(de+1):K.slice(de))+ue,K=K.slice(0,de);break}}}R&&!_&&(K=t(K,1/0));var Y=ce.length+K.length+ue.length,he=Y<O?new Array(O-Y+1).join(x):"";switch(R&&_&&(K=t(he+K,he.length?O-ue.length:1/0),he=""),N){case"<":K=ce+K+ue+he;break;case"=":K=ce+he+K+ue;break;case"^":K=he.slice(0,Y=he.length>>1)+ce+K+ue+he.slice(Y);break;default:K=he+ce+K+ue;break}return i(K)}return J.toString=function(){return m+""},J}function g(m,x){var N=p((m=Oh(m),m.type="f",m)),A=Math.max(-8,Math.min(8,Math.floor(Cp(x)/3)))*3,C=Math.pow(10,-A),_=hP[8+A/3];return function(O){return N(C*O)+_}}return{format:p,formatPrefix:g}}var Zg,jj,cM;d8({thousands:",",grouping:[3],currency:["$",""]});function d8(e){return Zg=u8(e),jj=Zg.format,cM=Zg.formatPrefix,Zg}function f8(e){return Math.max(0,-Cp(Math.abs(e)))}function p8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cp(t)/3)))*3-Cp(Math.abs(e)))}function m8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cp(t)-Cp(e))+1}function uM(e,t,r,n){var a=IS(e,t,r),i;switch(n=Oh(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=p8(a,c))&&(n.precision=i),cM(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=m8(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=f8(a))&&(n.precision=i-(n.type==="%")*2);break}}return jj(n)}function Ou(e){var t=e.domain;return e.ticks=function(r){var n=t();return OS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return uM(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,c=n[a],u=n[i],f,p,g=10;for(u<c&&(p=c,c=u,u=p,p=a,a=i,i=p);g-- >0;){if(p=TS(c,u,r),p===f)return n[a]=c,n[i]=u,t(n);if(p>0)c=Math.floor(c/p)*p,u=Math.ceil(u/p)*p;else if(p<0)c=Math.ceil(c*p)/p,u=Math.floor(u*p)/p;else break;f=p}return e},e}function Fy(){var e=Sj();return e.copy=function(){return ug(e,Fy())},Ui.apply(e,arguments),Ou(e)}function dM(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ly),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return dM(e).unknown(t)},e=arguments.length?Array.from(e,Ly):[0,1],Ou(r)}function fM(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],c;return i<a&&(c=r,r=n,n=c,c=a,a=i,i=c),e[r]=t.floor(a),e[n]=t.ceil(i),e}function gP(e){return Math.log(e)}function yP(e){return Math.exp(e)}function h8(e){return-Math.log(-e)}function g8(e){return-Math.exp(-e)}function y8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function v8(e){return e===10?y8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function b8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vP(e){return(t,r)=>-e(-t,r)}function _j(e){const t=e(gP,yP),r=t.domain;let n=10,a,i;function c(){return a=b8(n),i=v8(n),r()[0]<0?(a=vP(a),i=vP(i),e(h8,g8)):e(gP,yP),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const f=r();let p=f[0],g=f[f.length-1];const m=g<p;m&&([p,g]=[g,p]);let x=a(p),N=a(g),A,C;const _=u==null?10:+u;let O=[];if(!(n%1)&&N-x<_){if(x=Math.floor(x),N=Math.ceil(N),p>0){for(;x<=N;++x)for(A=1;A<n;++A)if(C=x<0?A/i(-x):A*i(x),!(C<p)){if(C>g)break;O.push(C)}}else for(;x<=N;++x)for(A=n-1;A>=1;--A)if(C=x>0?A/i(-x):A*i(x),!(C<p)){if(C>g)break;O.push(C)}O.length*2<_&&(O=OS(p,g,_))}else O=OS(x,N,Math.min(N-x,_)).map(i);return m?O.reverse():O},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Oh(f)).precision==null&&(f.trim=!0),f=jj(f)),u===1/0)return f;const p=Math.max(1,n*u/t.ticks().length);return g=>{let m=g/i(Math.round(a(g)));return m*n<n-.5&&(m*=n),m<=p?f(g):""}},t.nice=()=>r(fM(r(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),t}function pM(){const e=_j($v()).domain([1,10]);return e.copy=()=>ug(e,pM()).base(e.base()),Ui.apply(e,arguments),e}function bP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Cj(e){var t=1,r=e(bP(t),xP(t));return r.constant=function(n){return arguments.length?e(bP(t=+n),xP(t)):t},Ou(r)}function mM(){var e=Cj($v());return e.copy=function(){return ug(e,mM()).constant(e.constant())},Ui.apply(e,arguments)}function wP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function x8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function w8(e){return e<0?-e*e:e*e}function Ej(e){var t=e(us,us),r=1;function n(){return r===1?e(us,us):r===.5?e(x8,w8):e(wP(r),wP(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ou(t)}function Aj(){var e=Ej($v());return e.copy=function(){return ug(e,Aj()).exponent(e.exponent())},Ui.apply(e,arguments),e}function S8(){return Aj.apply(null,arguments).exponent(.5)}function SP(e){return Math.sign(e)*e*e}function N8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function hM(){var e=Sj(),t=[0,1],r=!1,n;function a(i){var c=N8(e(i));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(i){return e.invert(SP(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ly)).map(SP)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return hM(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ui.apply(a,arguments),Ou(a)}function gM(){var e=[],t=[],r=[],n;function a(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=Az(e,c/u);return i}function i(c){return c==null||isNaN(c=+c)?n:t[lg(r,c)]}return i.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Cu),a()},i.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},i.unknown=function(c){return arguments.length?(n=c,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return gM().domain(e).range(t).unknown(n)},Ui.apply(i,arguments)}function yM(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function c(f){return f!=null&&f<=f?a[lg(n,f,0,r)]:i}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var p=a.indexOf(f);return p<0?[NaN,NaN]:p<1?[e,n[0]]:p>=r?[n[r-1],t]:[n[p-1],n[p]]},c.unknown=function(f){return arguments.length&&(i=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return yM().domain([e,t]).range(a).unknown(i)},Ui.apply(Ou(c),arguments)}function vM(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[lg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var c=t.indexOf(i);return[e[c-1],e[c]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return vM().domain(e).range(t).unknown(r)},Ui.apply(a,arguments)}const Xw=new Date,Qw=new Date;function Jn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const c=a(i),u=a.ceil(i);return i-c<u-i?c:u},a.offset=(i,c)=>(t(i=new Date(+i),c==null?1:Math.floor(c)),i),a.range=(i,c,u)=>{const f=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<c)||!(u>0))return f;let p;do f.push(p=new Date(+i)),t(i,u),e(i);while(p<i&&i<c);return f},a.filter=i=>Jn(c=>{if(c>=c)for(;e(c),!i(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!i(c););else for(;--u>=0;)for(;t(c,1),!i(c););}),r&&(a.count=(i,c)=>(Xw.setTime(+i),Qw.setTime(+c),e(Xw),e(Qw),Math.floor(r(Xw,Qw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?c=>n(c)%i===0:c=>a.count(0,c)%i===0):a)),a}const By=Jn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);By.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Jn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):By);By.range;const pc=1e3,Fi=pc*60,mc=Fi*60,wc=mc*24,Pj=wc*7,NP=wc*30,Zw=wc*365,$d=Jn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*pc)},(e,t)=>(t-e)/pc,e=>e.getUTCSeconds());$d.range;const kj=Jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pc)},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getMinutes());kj.range;const Oj=Jn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getUTCMinutes());Oj.range;const Tj=Jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pc-e.getMinutes()*Fi)},(e,t)=>{e.setTime(+e+t*mc)},(e,t)=>(t-e)/mc,e=>e.getHours());Tj.range;const Ij=Jn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mc)},(e,t)=>(t-e)/mc,e=>e.getUTCHours());Ij.range;const dg=Jn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fi)/wc,e=>e.getDate()-1);dg.range;const Fv=Jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wc,e=>e.getUTCDate()-1);Fv.range;const bM=Jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wc,e=>Math.floor(e/wc));bM.range;function Qd(e){return Jn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Fi)/Pj)}const Bv=Qd(0),qy=Qd(1),j8=Qd(2),_8=Qd(3),Ep=Qd(4),C8=Qd(5),E8=Qd(6);Bv.range;qy.range;j8.range;_8.range;Ep.range;C8.range;E8.range;function Zd(e){return Jn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Pj)}const qv=Zd(0),Uy=Zd(1),A8=Zd(2),P8=Zd(3),Ap=Zd(4),k8=Zd(5),O8=Zd(6);qv.range;Uy.range;A8.range;P8.range;Ap.range;k8.range;O8.range;const Rj=Jn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Rj.range;const Mj=Jn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Mj.range;const Sc=Jn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Sc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Sc.range;const Nc=Jn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Nc.range;function xM(e,t,r,n,a,i){const c=[[$d,1,pc],[$d,5,5*pc],[$d,15,15*pc],[$d,30,30*pc],[i,1,Fi],[i,5,5*Fi],[i,15,15*Fi],[i,30,30*Fi],[a,1,mc],[a,3,3*mc],[a,6,6*mc],[a,12,12*mc],[n,1,wc],[n,2,2*wc],[r,1,Pj],[t,1,NP],[t,3,3*NP],[e,1,Zw]];function u(p,g,m){const x=g<p;x&&([p,g]=[g,p]);const N=m&&typeof m.range=="function"?m:f(p,g,m),A=N?N.range(p,+g+1):[];return x?A.reverse():A}function f(p,g,m){const x=Math.abs(g-p)/m,N=yj(([,,_])=>_).right(c,x);if(N===c.length)return e.every(IS(p/Zw,g/Zw,m));if(N===0)return By.every(Math.max(IS(p,g,m),1));const[A,C]=c[x/c[N-1][2]<c[N][2]/x?N-1:N];return A.every(C)}return[u,f]}const[T8,I8]=xM(Nc,Mj,qv,bM,Ij,Oj),[R8,M8]=xM(Sc,Rj,Bv,dg,Tj,kj);function Jw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function e1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ym(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function D8(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,p=Xm(a),g=Qm(a),m=Xm(i),x=Qm(i),N=Xm(c),A=Qm(c),C=Xm(u),_=Qm(u),O=Xm(f),R=Qm(f),D={a:pe,A:Y,b:he,B:ve,c:null,d:PP,e:PP,f:s7,g:h7,G:y7,H:r7,I:n7,j:a7,L:wM,m:i7,M:o7,p:U,q:Q,Q:TP,s:IP,S:l7,u:c7,U:u7,V:d7,w:f7,W:p7,x:null,X:null,y:m7,Y:g7,Z:v7,"%":OP},$={a:fe,A:je,b:Ie,B:qe,c:null,d:kP,e:kP,f:S7,g:T7,G:R7,H:b7,I:x7,j:w7,L:NM,m:N7,M:j7,p:Ve,q:Me,Q:TP,s:IP,S:_7,u:C7,U:E7,V:A7,w:P7,W:k7,x:null,X:null,y:O7,Y:I7,Z:M7,"%":OP},k={a:J,A:K,b:ce,B:ue,c:de,d:EP,e:EP,f:Z8,g:CP,G:_P,H:AP,I:AP,j:K8,L:Q8,m:G8,M:Y8,p:V,q:V8,Q:e7,s:t7,S:X8,u:q8,U:U8,V:z8,w:B8,W:W8,x:G,X:ne,y:CP,Y:_P,Z:H8,"%":J8};D.x=M(r,D),D.X=M(n,D),D.c=M(t,D),$.x=M(r,$),$.X=M(n,$),$.c=M(t,$);function M(Ae,We){return function(et){var Ee=[],lt=-1,wt=0,ht=Ae.length,_t,Re,Ue;for(et instanceof Date||(et=new Date(+et));++lt<ht;)Ae.charCodeAt(lt)===37&&(Ee.push(Ae.slice(wt,lt)),(Re=jP[_t=Ae.charAt(++lt)])!=null?_t=Ae.charAt(++lt):Re=_t==="e"?" ":"0",(Ue=We[_t])&&(_t=Ue(et,Re)),Ee.push(_t),wt=lt+1);return Ee.push(Ae.slice(wt,lt)),Ee.join("")}}function L(Ae,We){return function(et){var Ee=Ym(1900,void 0,1),lt=B(Ee,Ae,et+="",0),wt,ht;if(lt!=et.length)return null;if("Q"in Ee)return new Date(Ee.Q);if("s"in Ee)return new Date(Ee.s*1e3+("L"in Ee?Ee.L:0));if(We&&!("Z"in Ee)&&(Ee.Z=0),"p"in Ee&&(Ee.H=Ee.H%12+Ee.p*12),Ee.m===void 0&&(Ee.m="q"in Ee?Ee.q:0),"V"in Ee){if(Ee.V<1||Ee.V>53)return null;"w"in Ee||(Ee.w=1),"Z"in Ee?(wt=e1(Ym(Ee.y,0,1)),ht=wt.getUTCDay(),wt=ht>4||ht===0?Uy.ceil(wt):Uy(wt),wt=Fv.offset(wt,(Ee.V-1)*7),Ee.y=wt.getUTCFullYear(),Ee.m=wt.getUTCMonth(),Ee.d=wt.getUTCDate()+(Ee.w+6)%7):(wt=Jw(Ym(Ee.y,0,1)),ht=wt.getDay(),wt=ht>4||ht===0?qy.ceil(wt):qy(wt),wt=dg.offset(wt,(Ee.V-1)*7),Ee.y=wt.getFullYear(),Ee.m=wt.getMonth(),Ee.d=wt.getDate()+(Ee.w+6)%7)}else("W"in Ee||"U"in Ee)&&("w"in Ee||(Ee.w="u"in Ee?Ee.u%7:"W"in Ee?1:0),ht="Z"in Ee?e1(Ym(Ee.y,0,1)).getUTCDay():Jw(Ym(Ee.y,0,1)).getDay(),Ee.m=0,Ee.d="W"in Ee?(Ee.w+6)%7+Ee.W*7-(ht+5)%7:Ee.w+Ee.U*7-(ht+6)%7);return"Z"in Ee?(Ee.H+=Ee.Z/100|0,Ee.M+=Ee.Z%100,e1(Ee)):Jw(Ee)}}function B(Ae,We,et,Ee){for(var lt=0,wt=We.length,ht=et.length,_t,Re;lt<wt;){if(Ee>=ht)return-1;if(_t=We.charCodeAt(lt++),_t===37){if(_t=We.charAt(lt++),Re=k[_t in jP?We.charAt(lt++):_t],!Re||(Ee=Re(Ae,et,Ee))<0)return-1}else if(_t!=et.charCodeAt(Ee++))return-1}return Ee}function V(Ae,We,et){var Ee=p.exec(We.slice(et));return Ee?(Ae.p=g.get(Ee[0].toLowerCase()),et+Ee[0].length):-1}function J(Ae,We,et){var Ee=N.exec(We.slice(et));return Ee?(Ae.w=A.get(Ee[0].toLowerCase()),et+Ee[0].length):-1}function K(Ae,We,et){var Ee=m.exec(We.slice(et));return Ee?(Ae.w=x.get(Ee[0].toLowerCase()),et+Ee[0].length):-1}function ce(Ae,We,et){var Ee=O.exec(We.slice(et));return Ee?(Ae.m=R.get(Ee[0].toLowerCase()),et+Ee[0].length):-1}function ue(Ae,We,et){var Ee=C.exec(We.slice(et));return Ee?(Ae.m=_.get(Ee[0].toLowerCase()),et+Ee[0].length):-1}function de(Ae,We,et){return B(Ae,t,We,et)}function G(Ae,We,et){return B(Ae,r,We,et)}function ne(Ae,We,et){return B(Ae,n,We,et)}function pe(Ae){return c[Ae.getDay()]}function Y(Ae){return i[Ae.getDay()]}function he(Ae){return f[Ae.getMonth()]}function ve(Ae){return u[Ae.getMonth()]}function U(Ae){return a[+(Ae.getHours()>=12)]}function Q(Ae){return 1+~~(Ae.getMonth()/3)}function fe(Ae){return c[Ae.getUTCDay()]}function je(Ae){return i[Ae.getUTCDay()]}function Ie(Ae){return f[Ae.getUTCMonth()]}function qe(Ae){return u[Ae.getUTCMonth()]}function Ve(Ae){return a[+(Ae.getUTCHours()>=12)]}function Me(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var We=M(Ae+="",D);return We.toString=function(){return Ae},We},parse:function(Ae){var We=L(Ae+="",!1);return We.toString=function(){return Ae},We},utcFormat:function(Ae){var We=M(Ae+="",$);return We.toString=function(){return Ae},We},utcParse:function(Ae){var We=L(Ae+="",!0);return We.toString=function(){return Ae},We}}}var jP={"-":"",_:" ",0:"0"},ha=/^\s*\d+/,L8=/^%/,$8=/[\\^$*+?|[\]().{}]/g;function Xt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function F8(e){return e.replace($8,"\\$&")}function Xm(e){return new RegExp("^(?:"+e.map(F8).join("|")+")","i")}function Qm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function B8(e,t,r){var n=ha.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function q8(e,t,r){var n=ha.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function U8(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function z8(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function W8(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function _P(e,t,r){var n=ha.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function CP(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function H8(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function V8(e,t,r){var n=ha.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function G8(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function EP(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function K8(e,t,r){var n=ha.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function AP(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Y8(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function X8(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Q8(e,t,r){var n=ha.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Z8(e,t,r){var n=ha.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function J8(e,t,r){var n=L8.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function e7(e,t,r){var n=ha.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function t7(e,t,r){var n=ha.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function PP(e,t){return Xt(e.getDate(),t,2)}function r7(e,t){return Xt(e.getHours(),t,2)}function n7(e,t){return Xt(e.getHours()%12||12,t,2)}function a7(e,t){return Xt(1+dg.count(Sc(e),e),t,3)}function wM(e,t){return Xt(e.getMilliseconds(),t,3)}function s7(e,t){return wM(e,t)+"000"}function i7(e,t){return Xt(e.getMonth()+1,t,2)}function o7(e,t){return Xt(e.getMinutes(),t,2)}function l7(e,t){return Xt(e.getSeconds(),t,2)}function c7(e){var t=e.getDay();return t===0?7:t}function u7(e,t){return Xt(Bv.count(Sc(e)-1,e),t,2)}function SM(e){var t=e.getDay();return t>=4||t===0?Ep(e):Ep.ceil(e)}function d7(e,t){return e=SM(e),Xt(Ep.count(Sc(e),e)+(Sc(e).getDay()===4),t,2)}function f7(e){return e.getDay()}function p7(e,t){return Xt(qy.count(Sc(e)-1,e),t,2)}function m7(e,t){return Xt(e.getFullYear()%100,t,2)}function h7(e,t){return e=SM(e),Xt(e.getFullYear()%100,t,2)}function g7(e,t){return Xt(e.getFullYear()%1e4,t,4)}function y7(e,t){var r=e.getDay();return e=r>=4||r===0?Ep(e):Ep.ceil(e),Xt(e.getFullYear()%1e4,t,4)}function v7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xt(t/60|0,"0",2)+Xt(t%60,"0",2)}function kP(e,t){return Xt(e.getUTCDate(),t,2)}function b7(e,t){return Xt(e.getUTCHours(),t,2)}function x7(e,t){return Xt(e.getUTCHours()%12||12,t,2)}function w7(e,t){return Xt(1+Fv.count(Nc(e),e),t,3)}function NM(e,t){return Xt(e.getUTCMilliseconds(),t,3)}function S7(e,t){return NM(e,t)+"000"}function N7(e,t){return Xt(e.getUTCMonth()+1,t,2)}function j7(e,t){return Xt(e.getUTCMinutes(),t,2)}function _7(e,t){return Xt(e.getUTCSeconds(),t,2)}function C7(e){var t=e.getUTCDay();return t===0?7:t}function E7(e,t){return Xt(qv.count(Nc(e)-1,e),t,2)}function jM(e){var t=e.getUTCDay();return t>=4||t===0?Ap(e):Ap.ceil(e)}function A7(e,t){return e=jM(e),Xt(Ap.count(Nc(e),e)+(Nc(e).getUTCDay()===4),t,2)}function P7(e){return e.getUTCDay()}function k7(e,t){return Xt(Uy.count(Nc(e)-1,e),t,2)}function O7(e,t){return Xt(e.getUTCFullYear()%100,t,2)}function T7(e,t){return e=jM(e),Xt(e.getUTCFullYear()%100,t,2)}function I7(e,t){return Xt(e.getUTCFullYear()%1e4,t,4)}function R7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ap(e):Ap.ceil(e),Xt(e.getUTCFullYear()%1e4,t,4)}function M7(){return"+0000"}function OP(){return"%"}function TP(e){return+e}function IP(e){return Math.floor(+e/1e3)}var ap,_M,CM;D7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function D7(e){return ap=D8(e),_M=ap.format,ap.parse,CM=ap.utcFormat,ap.utcParse,ap}function L7(e){return new Date(e)}function $7(e){return e instanceof Date?+e:+new Date(+e)}function Dj(e,t,r,n,a,i,c,u,f,p){var g=Sj(),m=g.invert,x=g.domain,N=p(".%L"),A=p(":%S"),C=p("%I:%M"),_=p("%I %p"),O=p("%a %d"),R=p("%b %d"),D=p("%B"),$=p("%Y");function k(M){return(f(M)<M?N:u(M)<M?A:c(M)<M?C:i(M)<M?_:n(M)<M?a(M)<M?O:R:r(M)<M?D:$)(M)}return g.invert=function(M){return new Date(m(M))},g.domain=function(M){return arguments.length?x(Array.from(M,$7)):x().map(L7)},g.ticks=function(M){var L=x();return e(L[0],L[L.length-1],M??10)},g.tickFormat=function(M,L){return L==null?k:p(L)},g.nice=function(M){var L=x();return(!M||typeof M.range!="function")&&(M=t(L[0],L[L.length-1],M??10)),M?x(fM(L,M)):g},g.copy=function(){return ug(g,Dj(e,t,r,n,a,i,c,u,f,p))},g}function F7(){return Ui.apply(Dj(R8,M8,Sc,Rj,Bv,dg,Tj,kj,$d,_M).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function B7(){return Ui.apply(Dj(T8,I8,Nc,Mj,qv,Fv,Ij,Oj,$d,CM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Uv(){var e=0,t=1,r,n,a,i,c=us,u=!1,f;function p(m){return m==null||isNaN(m=+m)?f:c(a===0?.5:(m=(i(m)-r)*a,u?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),p):[e,t]},p.clamp=function(m){return arguments.length?(u=!!m,p):u},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(x){var N,A;return arguments.length?([N,A]=x,c=m(N,A),p):[c(0),c(1)]}}return p.range=g(Gp),p.rangeRound=g(wj),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),p}}function Tu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EM(){var e=Ou(Uv()(us));return e.copy=function(){return Tu(e,EM())},Ec.apply(e,arguments)}function AM(){var e=_j(Uv()).domain([1,10]);return e.copy=function(){return Tu(e,AM()).base(e.base())},Ec.apply(e,arguments)}function PM(){var e=Cj(Uv());return e.copy=function(){return Tu(e,PM()).constant(e.constant())},Ec.apply(e,arguments)}function Lj(){var e=Ej(Uv());return e.copy=function(){return Tu(e,Lj()).exponent(e.exponent())},Ec.apply(e,arguments)}function q7(){return Lj.apply(null,arguments).exponent(.5)}function kM(){var e=[],t=us;function r(n){if(n!=null&&!isNaN(n=+n))return t((lg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Cu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Ez(e,i/n))},r.copy=function(){return kM(t).domain(e)},Ec.apply(r,arguments)}function zv(){var e=0,t=.5,r=1,n=1,a,i,c,u,f,p=us,g,m=!1,x;function N(C){return isNaN(C=+C)?x:(C=.5+((C=+g(C))-i)*(n*C<n*i?u:f),p(m?Math.max(0,Math.min(1,C)):C))}N.domain=function(C){return arguments.length?([e,t,r]=C,a=g(e=+e),i=g(t=+t),c=g(r=+r),u=a===i?0:.5/(i-a),f=i===c?0:.5/(c-i),n=i<a?-1:1,N):[e,t,r]},N.clamp=function(C){return arguments.length?(m=!!C,N):m},N.interpolator=function(C){return arguments.length?(p=C,N):p};function A(C){return function(_){var O,R,D;return arguments.length?([O,R,D]=_,p=Jz(C,[O,R,D]),N):[p(0),p(.5),p(1)]}}return N.range=A(Gp),N.rangeRound=A(wj),N.unknown=function(C){return arguments.length?(x=C,N):x},function(C){return g=C,a=C(e),i=C(t),c=C(r),u=a===i?0:.5/(i-a),f=i===c?0:.5/(c-i),n=i<a?-1:1,N}}function OM(){var e=Ou(zv()(us));return e.copy=function(){return Tu(e,OM())},Ec.apply(e,arguments)}function TM(){var e=_j(zv()).domain([.1,1,10]);return e.copy=function(){return Tu(e,TM()).base(e.base())},Ec.apply(e,arguments)}function IM(){var e=Cj(zv());return e.copy=function(){return Tu(e,IM()).constant(e.constant())},Ec.apply(e,arguments)}function $j(){var e=Ej(zv());return e.copy=function(){return Tu(e,$j()).exponent(e.exponent())},Ec.apply(e,arguments)}function U7(){return $j.apply(null,arguments).exponent(.5)}const RP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Eh,scaleDiverging:OM,scaleDivergingLog:TM,scaleDivergingPow:$j,scaleDivergingSqrt:U7,scaleDivergingSymlog:IM,scaleIdentity:dM,scaleImplicit:RS,scaleLinear:Fy,scaleLog:pM,scaleOrdinal:vj,scalePoint:ph,scalePow:Aj,scaleQuantile:gM,scaleQuantize:yM,scaleRadial:hM,scaleSequential:EM,scaleSequentialLog:AM,scaleSequentialPow:Lj,scaleSequentialQuantile:kM,scaleSequentialSqrt:q7,scaleSequentialSymlog:PM,scaleSqrt:S8,scaleSymlog:mM,scaleThreshold:vM,scaleTime:F7,scaleUtc:B7,tickFormat:uM},Symbol.toStringTag,{value:"Module"}));var t1,MP;function RM(){if(MP)return t1;MP=1;var e=Wp();function t(r,n,a){for(var i=-1,c=r.length;++i<c;){var u=r[i],f=n(u);if(f!=null&&(p===void 0?f===f&&!e(f):a(f,p)))var p=f,g=u}return g}return t1=t,t1}var r1,DP;function z7(){if(DP)return r1;DP=1;function e(t,r){return t>r}return r1=e,r1}var n1,LP;function W7(){if(LP)return n1;LP=1;var e=RM(),t=z7(),r=Vp();function n(a){return a&&a.length?e(a,r,t):void 0}return n1=n,n1}var H7=W7();const Wv=wr(H7);var a1,$P;function V7(){if($P)return a1;$P=1;function e(t,r){return t<r}return a1=e,a1}var s1,FP;function G7(){if(FP)return s1;FP=1;var e=RM(),t=V7(),r=Vp();function n(a){return a&&a.length?e(a,r,t):void 0}return s1=n,s1}var K7=G7();const Hv=wr(K7);var i1,BP;function Y7(){if(BP)return i1;BP=1;var e=ej(),t=ku(),r=UR(),n=Ls();function a(i,c){var u=n(i)?e:r;return u(i,t(c,3))}return i1=a,i1}var o1,qP;function X7(){if(qP)return o1;qP=1;var e=BR(),t=Y7();function r(n,a){return e(t(n,a),1)}return o1=r,o1}var Q7=X7();const Z7=wr(Q7);var l1,UP;function J7(){if(UP)return l1;UP=1;var e=pj();function t(r,n){return e(r,n)}return l1=t,l1}var eW=J7();const Fj=wr(eW);var Kp=1e9,tW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qj,Jr=!0,qi="[DecimalError] ",Ud=qi+"Invalid argument: ",Bj=qi+"Exponent out of range: ",Yp=Math.floor,Td=Math.pow,rW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fi,pa=1e7,Gr=7,MM=9007199254740991,zy=Yp(MM/Gr),ct={};ct.absoluteValue=ct.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ct.comparedTo=ct.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Gr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ct.dividedBy=ct.div=function(e){return xc(this,new this.constructor(e))};ct.dividedToIntegerBy=ct.idiv=function(e){var t=this,r=t.constructor;return Er(xc(t,new r(e),0,1),r.precision)};ct.equals=ct.eq=function(e){return!this.cmp(e)};ct.exponent=function(){return Bn(this)};ct.greaterThan=ct.gt=function(e){return this.cmp(e)>0};ct.greaterThanOrEqualTo=ct.gte=function(e){return this.cmp(e)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(e){return this.cmp(e)<0};ct.lessThanOrEqualTo=ct.lte=function(e){return this.cmp(e)<1};ct.logarithm=ct.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(fi))throw Error(qi+"NaN");if(r.s<1)throw Error(qi+(r.s?"NaN":"-Infinity"));return r.eq(fi)?new n(0):(Jr=!1,t=xc(Th(r,i),Th(e,i),i),Jr=!0,Er(t,a))};ct.minus=ct.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$M(t,e):DM(t,(e.s=-e.s,e))};ct.modulo=ct.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(qi+"NaN");return r.s?(Jr=!1,t=xc(r,e,0,1).times(e),Jr=!0,r.minus(t)):Er(new n(r),a)};ct.naturalExponential=ct.exp=function(){return LM(this)};ct.naturalLogarithm=ct.ln=function(){return Th(this)};ct.negated=ct.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ct.plus=ct.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DM(t,e):$M(t,(e.s=-e.s,e))};ct.precision=ct.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ud+e);if(t=Bn(a)+1,n=a.d.length-1,r=n*Gr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ct.squareRoot=ct.sqrt=function(){var e,t,r,n,a,i,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(qi+"NaN")}for(e=Bn(u),Jr=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=hl(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Yp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=c=r+3;;)if(i=n,n=i.plus(xc(u,i,c+2)).times(.5),hl(i.d).slice(0,c)===(t=hl(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(Er(i,r+1,0),i.times(i).eq(u)){n=i;break}}else if(t!="9999")break;c+=4}return Jr=!0,Er(n,r)};ct.times=ct.mul=function(e){var t,r,n,a,i,c,u,f,p,g=this,m=g.constructor,x=g.d,N=(e=new m(e)).d;if(!g.s||!e.s)return new m(0);for(e.s*=g.s,r=g.e+e.e,f=x.length,p=N.length,f<p&&(i=x,x=N,N=i,c=f,f=p,p=c),i=[],c=f+p,n=c;n--;)i.push(0);for(n=p;--n>=0;){for(t=0,a=f+n;a>n;)u=i[a]+N[n]*x[a-n-1]+t,i[a--]=u%pa|0,t=u/pa|0;i[a]=(i[a]+t)%pa|0}for(;!i[--c];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Jr?Er(e,m.precision):e};ct.toDecimalPlaces=ct.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(wl(e,0,Kp),t===void 0?t=n.rounding:wl(t,0,8),Er(r,e+Bn(r)+1,t))};ct.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Vd(n,!0):(wl(e,0,Kp),t===void 0?t=a.rounding:wl(t,0,8),n=Er(new a(n),e+1,t),r=Vd(n,!0,e+1)),r};ct.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Vd(a):(wl(e,0,Kp),t===void 0?t=i.rounding:wl(t,0,8),n=Er(new i(a),e+Bn(a)+1,t),r=Vd(n.abs(),!1,e+Bn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ct.toInteger=ct.toint=function(){var e=this,t=e.constructor;return Er(new t(e),Bn(e)+1,t.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(e){var t,r,n,a,i,c,u=this,f=u.constructor,p=12,g=+(e=new f(e));if(!e.s)return new f(fi);if(u=new f(u),!u.s){if(e.s<1)throw Error(qi+"Infinity");return u}if(u.eq(fi))return u;if(n=f.precision,e.eq(fi))return Er(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,i=u.s,c){if((r=g<0?-g:g)<=MM){for(a=new f(fi),t=Math.ceil(n/Gr+4),Jr=!1;r%2&&(a=a.times(u),WP(a.d,t)),r=Yp(r/2),r!==0;)u=u.times(u),WP(u.d,t);return Jr=!0,e.s<0?new f(fi).div(a):Er(a,n)}}else if(i<0)throw Error(qi+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Jr=!1,a=e.times(Th(u,n+p)),Jr=!0,a=LM(a),a.s=i,a};ct.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Bn(a),n=Vd(a,r<=i.toExpNeg||r>=i.toExpPos)):(wl(e,1,Kp),t===void 0?t=i.rounding:wl(t,0,8),a=Er(new i(a),e,t),r=Bn(a),n=Vd(a,e<=r||r<=i.toExpNeg,e)),n};ct.toSignificantDigits=ct.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(wl(e,1,Kp),t===void 0?t=n.rounding:wl(t,0,8)),Er(new n(r),e,t)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Bn(e),r=e.constructor;return Vd(e,t<=r.toExpNeg||t>=r.toExpPos)};function DM(e,t){var r,n,a,i,c,u,f,p,g=e.constructor,m=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Jr?Er(t,m):t;if(f=e.d,p=t.d,c=e.e,a=t.e,f=f.slice(),i=c-a,i){for(i<0?(n=f,i=-i,u=p.length):(n=p,a=c,u=f.length),c=Math.ceil(m/Gr),u=c>u?c+1:u+1,i>u&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(u=f.length,i=p.length,u-i<0&&(i=u,n=p,p=f,f=n),r=0;i;)r=(f[--i]=f[i]+p[i]+r)/pa|0,f[i]%=pa;for(r&&(f.unshift(r),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,Jr?Er(t,m):t}function wl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ud+e)}function hl(e){var t,r,n,a=e.length-1,i="",c=e[0];if(a>0){for(i+=c,t=1;t<a;t++)n=e[t]+"",r=Gr-n.length,r&&(i+=bu(r)),i+=n;c=e[t],n=c+"",r=Gr-n.length,r&&(i+=bu(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return i+c}var xc=(function(){function e(n,a){var i,c=0,u=n.length;for(n=n.slice();u--;)i=n[u]*a+c,n[u]=i%pa|0,c=i/pa|0;return c&&n.unshift(c),n}function t(n,a,i,c){var u,f;if(i!=c)f=i>c?1:-1;else for(u=f=0;u<i;u++)if(n[u]!=a[u]){f=n[u]>a[u]?1:-1;break}return f}function r(n,a,i){for(var c=0;i--;)n[i]-=c,c=n[i]<a[i]?1:0,n[i]=c*pa+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,c){var u,f,p,g,m,x,N,A,C,_,O,R,D,$,k,M,L,B,V=n.constructor,J=n.s==a.s?1:-1,K=n.d,ce=a.d;if(!n.s)return new V(n);if(!a.s)throw Error(qi+"Division by zero");for(f=n.e-a.e,L=ce.length,k=K.length,N=new V(J),A=N.d=[],p=0;ce[p]==(K[p]||0);)++p;if(ce[p]>(K[p]||0)&&--f,i==null?R=i=V.precision:c?R=i+(Bn(n)-Bn(a))+1:R=i,R<0)return new V(0);if(R=R/Gr+2|0,p=0,L==1)for(g=0,ce=ce[0],R++;(p<k||g)&&R--;p++)D=g*pa+(K[p]||0),A[p]=D/ce|0,g=D%ce|0;else{for(g=pa/(ce[0]+1)|0,g>1&&(ce=e(ce,g),K=e(K,g),L=ce.length,k=K.length),$=L,C=K.slice(0,L),_=C.length;_<L;)C[_++]=0;B=ce.slice(),B.unshift(0),M=ce[0],ce[1]>=pa/2&&++M;do g=0,u=t(ce,C,L,_),u<0?(O=C[0],L!=_&&(O=O*pa+(C[1]||0)),g=O/M|0,g>1?(g>=pa&&(g=pa-1),m=e(ce,g),x=m.length,_=C.length,u=t(m,C,x,_),u==1&&(g--,r(m,L<x?B:ce,x))):(g==0&&(u=g=1),m=ce.slice()),x=m.length,x<_&&m.unshift(0),r(C,m,_),u==-1&&(_=C.length,u=t(ce,C,L,_),u<1&&(g++,r(C,L<_?B:ce,_))),_=C.length):u===0&&(g++,C=[0]),A[p++]=g,u&&C[0]?C[_++]=K[$]||0:(C=[K[$]],_=1);while(($++<k||C[0]!==void 0)&&R--)}return A[0]||A.shift(),N.e=f,Er(N,c?i+Bn(N)+1:i)}})();function LM(e,t){var r,n,a,i,c,u,f=0,p=0,g=e.constructor,m=g.precision;if(Bn(e)>16)throw Error(Bj+Bn(e));if(!e.s)return new g(fi);for(Jr=!1,u=m,c=new g(.03125);e.abs().gte(.1);)e=e.times(c),p+=5;for(n=Math.log(Td(2,p))/Math.LN10*2+5|0,u+=n,r=a=i=new g(fi),g.precision=u;;){if(a=Er(a.times(e),u),r=r.times(++f),c=i.plus(xc(a,r,u)),hl(c.d).slice(0,u)===hl(i.d).slice(0,u)){for(;p--;)i=Er(i.times(i),u);return g.precision=m,t==null?(Jr=!0,Er(i,m)):i}i=c}}function Bn(e){for(var t=e.e*Gr,r=e.d[0];r>=10;r/=10)t++;return t}function c1(e,t,r){if(t>e.LN10.sd())throw Jr=!0,r&&(e.precision=r),Error(qi+"LN10 precision limit exceeded");return Er(new e(e.LN10),t)}function bu(e){for(var t="";e--;)t+="0";return t}function Th(e,t){var r,n,a,i,c,u,f,p,g,m=1,x=10,N=e,A=N.d,C=N.constructor,_=C.precision;if(N.s<1)throw Error(qi+(N.s?"NaN":"-Infinity"));if(N.eq(fi))return new C(0);if(t==null?(Jr=!1,p=_):p=t,N.eq(10))return t==null&&(Jr=!0),c1(C,p);if(p+=x,C.precision=p,r=hl(A),n=r.charAt(0),i=Bn(N),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)N=N.times(e),r=hl(N.d),n=r.charAt(0),m++;i=Bn(N),n>1?(N=new C("0."+r),i++):N=new C(n+"."+r.slice(1))}else return f=c1(C,p+2,_).times(i+""),N=Th(new C(n+"."+r.slice(1)),p-x).plus(f),C.precision=_,t==null?(Jr=!0,Er(N,_)):N;for(u=c=N=xc(N.minus(fi),N.plus(fi),p),g=Er(N.times(N),p),a=3;;){if(c=Er(c.times(g),p),f=u.plus(xc(c,new C(a),p)),hl(f.d).slice(0,p)===hl(u.d).slice(0,p))return u=u.times(2),i!==0&&(u=u.plus(c1(C,p+2,_).times(i+""))),u=xc(u,new C(m),p),C.precision=_,t==null?(Jr=!0,Er(u,_)):u;u=f,a+=2}}function zP(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Yp(r/Gr),e.d=[],n=(r+1)%Gr,r<0&&(n+=Gr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Gr;n<a;)e.d.push(+t.slice(n,n+=Gr));t=t.slice(n),n=Gr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Jr&&(e.e>zy||e.e<-zy))throw Error(Bj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Er(e,t,r){var n,a,i,c,u,f,p,g,m=e.d;for(c=1,i=m[0];i>=10;i/=10)c++;if(n=t-c,n<0)n+=Gr,a=t,p=m[g=0];else{if(g=Math.ceil((n+1)/Gr),i=m.length,g>=i)return e;for(p=i=m[g],c=1;i>=10;i/=10)c++;n%=Gr,a=n-Gr+c}if(r!==void 0&&(i=Td(10,c-a-1),u=p/i%10|0,f=t<0||m[g+1]!==void 0||p%i,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?a>0?p/Td(10,c-a):0:m[g-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return f?(i=Bn(e),m.length=1,t=t-i-1,m[0]=Td(10,(Gr-t%Gr)%Gr),e.e=Yp(-t/Gr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=g,i=1,g--):(m.length=g+1,i=Td(10,Gr-n),m[g]=a>0?(p/Td(10,c-a)%Td(10,a)|0)*i:0),f)for(;;)if(g==0){(m[0]+=i)==pa&&(m[0]=1,++e.e);break}else{if(m[g]+=i,m[g]!=pa)break;m[g--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Jr&&(e.e>zy||e.e<-zy))throw Error(Bj+Bn(e));return e}function $M(e,t){var r,n,a,i,c,u,f,p,g,m,x=e.constructor,N=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Jr?Er(t,N):t;if(f=e.d,m=t.d,n=t.e,p=e.e,f=f.slice(),c=p-n,c){for(g=c<0,g?(r=f,c=-c,u=m.length):(r=m,n=p,u=f.length),a=Math.max(Math.ceil(N/Gr),u)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=f.length,u=m.length,g=a<u,g&&(u=a),a=0;a<u;a++)if(f[a]!=m[a]){g=f[a]<m[a];break}c=0}for(g&&(r=f,f=m,m=r,t.s=-t.s),u=f.length,a=m.length-u;a>0;--a)f[u++]=0;for(a=m.length;a>c;){if(f[--a]<m[a]){for(i=a;i&&f[--i]===0;)f[i]=pa-1;--f[i],f[a]+=pa}f[a]-=m[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Jr?Er(t,N):t):new x(0)}function Vd(e,t,r){var n,a=Bn(e),i=hl(e.d),c=i.length;return t?(r&&(n=r-c)>0?i=i.charAt(0)+"."+i.slice(1)+bu(n):c>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+bu(-a-1)+i,r&&(n=r-c)>0&&(i+=bu(n))):a>=c?(i+=bu(a+1-c),r&&(n=r-a-1)>0&&(i=i+"."+bu(n))):((n=a+1)<c&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(i+="."),i+=bu(n))),e.s<0?"-"+i:i}function WP(e,t){if(e.length>t)return e.length=t,!0}function FM(e){var t,r,n;function a(i){var c=this;if(!(c instanceof a))return new a(i);if(c.constructor=a,i instanceof a){c.s=i.s,c.e=i.e,c.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ud+i);if(i>0)c.s=1;else if(i<0)i=-i,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(i===~~i&&i<1e7){c.e=0,c.d=[i];return}return zP(c,i.toString())}else if(typeof i!="string")throw Error(Ud+i);if(i.charCodeAt(0)===45?(i=i.slice(1),c.s=-1):c.s=1,rW.test(i))zP(c,i);else throw Error(Ud+i)}if(a.prototype=ct,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=FM,a.config=a.set=nW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function nW(e){if(!e||typeof e!="object")throw Error(qi+"Object expected");var t,r,n,a=["precision",1,Kp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Yp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ud+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ud+r+": "+n);return this}var qj=FM(tW);fi=new qj(1);const xr=qj;function aW(e){return lW(e)||oW(e)||iW(e)||sW()}function sW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iW(e,t){if(e){if(typeof e=="string")return $S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $S(e,t)}}function oW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lW(e){if(Array.isArray(e))return $S(e)}function $S(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cW=function(t){return t},BM={},qM=function(t){return t===BM},HP=function(t){return function r(){return arguments.length===0||arguments.length===1&&qM(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},uW=function e(t,r){return t===1?r:HP(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var c=a.filter(function(u){return u!==BM}).length;return c>=t?r.apply(void 0,a):e(t-c,HP(function(){for(var u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];var g=a.map(function(m){return qM(m)?f.shift():m});return r.apply(void 0,aW(g).concat(f))}))})},Vv=function(t){return uW(t.length,t)},FS=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},dW=Vv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),fW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return cW;var a=r.reverse(),i=a[0],c=a.slice(1);return function(){return c.reduce(function(u,f){return f(u)},i.apply(void 0,arguments))}},BS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},UM=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r&&i.every(function(u,f){return u===r[f]})||(r=i,n=t.apply(void 0,i)),n}};function pW(e){var t;return e===0?t=1:t=Math.floor(new xr(e).abs().log(10).toNumber())+1,t}function mW(e,t,r){for(var n=new xr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var hW=Vv(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),gW=Vv(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),yW=Vv(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Gv={rangeStep:mW,getDigitCount:pW,interpolateNumber:hW,uninterpolateNumber:gW,uninterpolateTruncation:yW};function qS(e){return xW(e)||bW(e)||zM(e)||vW()}function vW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xW(e){if(Array.isArray(e))return US(e)}function Ih(e,t){return NW(e)||SW(e,t)||zM(e,t)||wW()}function wW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zM(e,t){if(e){if(typeof e=="string")return US(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return US(e,t)}}function US(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var c=e[Symbol.iterator](),u;!(n=(u=c.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(f){a=!0,i=f}finally{try{!n&&c.return!=null&&c.return()}finally{if(a)throw i}}return r}}function NW(e){if(Array.isArray(e))return e}function WM(e){var t=Ih(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function HM(e,t,r){if(e.lte(0))return new xr(0);var n=Gv.getDigitCount(e.toNumber()),a=new xr(10).pow(n),i=e.div(a),c=n!==1?.05:.1,u=new xr(Math.ceil(i.div(c).toNumber())).add(r).mul(c),f=u.mul(a);return t?f:new xr(Math.ceil(f))}function jW(e,t,r){var n=1,a=new xr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new xr(10).pow(Gv.getDigitCount(e)-1),a=new xr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new xr(Math.floor(e)))}else e===0?a=new xr(Math.floor((t-1)/2)):r||(a=new xr(Math.floor(e)));var c=Math.floor((t-1)/2),u=fW(dW(function(f){return a.add(new xr(f-c).mul(n)).toNumber()}),FS);return u(0,t)}function VM(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new xr(0),tickMin:new xr(0),tickMax:new xr(0)};var i=HM(new xr(t).sub(e).div(r-1),n,a),c;e<=0&&t>=0?c=new xr(0):(c=new xr(e).add(t).div(2),c=c.sub(new xr(c).mod(i)));var u=Math.ceil(c.sub(e).div(i).toNumber()),f=Math.ceil(new xr(t).sub(c).div(i).toNumber()),p=u+f+1;return p>r?VM(e,t,r,n,a+1):(p<r&&(f=t>0?f+(r-p):f,u=t>0?u:u+(r-p)),{step:i,tickMin:c.sub(new xr(u).mul(i)),tickMax:c.add(new xr(f).mul(i))})}function _W(e){var t=Ih(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),u=WM([r,n]),f=Ih(u,2),p=f[0],g=f[1];if(p===-1/0||g===1/0){var m=g===1/0?[p].concat(qS(FS(0,a-1).map(function(){return 1/0}))):[].concat(qS(FS(0,a-1).map(function(){return-1/0})),[g]);return r>n?BS(m):m}if(p===g)return jW(p,a,i);var x=VM(p,g,c,i),N=x.step,A=x.tickMin,C=x.tickMax,_=Gv.rangeStep(A,C.add(new xr(.1).mul(N)),N);return r>n?BS(_):_}function CW(e,t){var r=Ih(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=WM([n,a]),u=Ih(c,2),f=u[0],p=u[1];if(f===-1/0||p===1/0)return[n,a];if(f===p)return[f];var g=Math.max(t,2),m=HM(new xr(p).sub(f).div(g-1),i,0),x=[].concat(qS(Gv.rangeStep(new xr(f),new xr(p).sub(new xr(.99).mul(m)),m)),[p]);return n>a?BS(x):x}var EW=UM(_W),AW=UM(CW),PW="Invariant failed";function Gd(e,t){throw new Error(PW)}var kW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(this,arguments)}function OW(e,t){return MW(e)||RW(e,t)||IW(e,t)||TW()}function TW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IW(e,t){if(e){if(typeof e=="string")return VP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VP(e,t)}}function VP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,c,u=[],f=!0,p=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(f=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function MW(e){if(Array.isArray(e))return e}function DW(e,t){if(e==null)return{};var r=LW(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YM(n.key),n)}}function BW(e,t,r){return t&&FW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qW(e,t,r){return t=Hy(t),UW(e,GM()?Reflect.construct(t,r||[],Hy(e).constructor):t.apply(e,r))}function UW(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zW(e)}function zW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GM=function(){return!!e})()}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(e)}function WW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zS(e,t)}function zS(e,t){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zS(e,t)}function KM(e,t,r){return t=YM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YM(e){var t=HW(e,"string");return Pp(t)=="symbol"?t:t+""}function HW(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kv=(function(e){function t(){return $W(this,t),qW(this,t,arguments)}return WW(t,e),BW(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,c=n.width,u=n.dataKey,f=n.data,p=n.dataPointFormatter,g=n.xAxis,m=n.yAxis,x=DW(n,kW),N=ar(x,!1);this.props.direction==="x"&&g.type!=="number"&&Gd();var A=f.map(function(C){var _=p(C,u),O=_.x,R=_.y,D=_.value,$=_.errorVal;if(!$)return null;var k=[],M,L;if(Array.isArray($)){var B=OW($,2);M=B[0],L=B[1]}else M=L=$;if(i==="vertical"){var V=g.scale,J=R+a,K=J+c,ce=J-c,ue=V(D-M),de=V(D+L);k.push({x1:de,y1:K,x2:de,y2:ce}),k.push({x1:ue,y1:J,x2:de,y2:J}),k.push({x1:ue,y1:K,x2:ue,y2:ce})}else if(i==="horizontal"){var G=m.scale,ne=O+a,pe=ne-c,Y=ne+c,he=G(D-M),ve=G(D+L);k.push({x1:pe,y1:ve,x2:Y,y2:ve}),k.push({x1:ne,y1:he,x2:ne,y2:ve}),k.push({x1:pe,y1:he,x2:Y,y2:he})}return Z.createElement(ma,Wy({className:"recharts-errorBar",key:"bar-".concat(k.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},N),k.map(function(U){return Z.createElement("line",Wy({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return Z.createElement(ma,{className:"recharts-errorBars"},A)}}])})(Z.Component);KM(Kv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});KM(Kv,"displayName","ErrorBar");function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){VW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VW(e,t,r){return t=GW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GW(e){var t=KW(e,"string");return Rh(t)=="symbol"?t:t+""}function KW(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XM=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,c=ui(r,mp);if(!c)return null;var u=mp.defaultProps,f=u!==void 0?Ed(Ed({},u),c.props):{},p;return c.props&&c.props.payload?p=c.props&&c.props.payload:i==="children"?p=(n||[]).reduce(function(g,m){var x=m.item,N=m.props,A=N.sectors||N.data||[];return g.concat(A.map(function(C){return{type:c.props.iconType||x.props.legendType,value:C.name,color:C.fill,payload:C}}))},[]):p=(n||[]).map(function(g){var m=g.item,x=m.type.defaultProps,N=x!==void 0?Ed(Ed({},x),m.props):{},A=N.dataKey,C=N.name,_=N.legendType,O=N.hide;return{inactive:O,dataKey:A,type:f.iconType||_||"square",color:Uj(m),value:C||A,payload:N}}),Ed(Ed(Ed({},f),mp.getWithHeight(c,a)),{},{payload:p,item:c})};function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function KP(e){return ZW(e)||QW(e)||XW(e)||YW()}function YW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XW(e,t){if(e){if(typeof e=="string")return WS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WS(e,t)}}function QW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZW(e){if(Array.isArray(e))return WS(e)}function WS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gp(e,t,r){return t=JW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JW(e){var t=eH(e,"string");return Mh(t)=="symbol"?t:t+""}function eH(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sl(e,t,r){return sr(e)||sr(t)?r:Qn(t)?Bi(e,t,r):Bt(t)?t(e):r}function mh(e,t,r,n){var a=Z7(e,function(u){return Sl(u,t)});if(r==="number"){var i=a.filter(function(u){return Ge(u)||parseFloat(u)});return i.length?[Hv(i),Wv(i)]:[1/0,-1/0]}var c=n?a.filter(function(u){return!sr(u)}):a;return c.map(function(u){return Qn(u)||u instanceof Date?u:""})}var tH=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,c=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var f=i.range,p=0;p<u;p++){var g=p>0?a[p-1].coordinate:a[u-1].coordinate,m=a[p].coordinate,x=p>=u-1?a[0].coordinate:a[p+1].coordinate,N=void 0;if(Co(m-g)!==Co(x-m)){var A=[];if(Co(x-m)===Co(f[1]-f[0])){N=x;var C=m+f[1]-f[0];A[0]=Math.min(C,(C+g)/2),A[1]=Math.max(C,(C+g)/2)}else{N=g;var _=x+f[1]-f[0];A[0]=Math.min(m,(_+m)/2),A[1]=Math.max(m,(_+m)/2)}var O=[Math.min(m,(N+m)/2),Math.max(m,(N+m)/2)];if(t>O[0]&&t<=O[1]||t>=A[0]&&t<=A[1]){c=a[p].index;break}}else{var R=Math.min(g,x),D=Math.max(g,x);if(t>(R+m)/2&&t<=(D+m)/2){c=a[p].index;break}}}else for(var $=0;$<u;$++)if($===0&&t<=(n[$].coordinate+n[$+1].coordinate)/2||$>0&&$<u-1&&t>(n[$].coordinate+n[$-1].coordinate)/2&&t<=(n[$].coordinate+n[$+1].coordinate)/2||$===u-1&&t>(n[$].coordinate+n[$-1].coordinate)/2){c=n[$].index;break}return c},Uj=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?jn(jn({},t.type.defaultProps),t.props):t.props,c=i.stroke,u=i.fill,f;switch(a){case"Line":f=c;break;case"Area":case"Radar":f=c&&c!=="none"?c:u;break;default:f=u;break}return f},rH=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var c={},u=Object.keys(i),f=0,p=u.length;f<p;f++)for(var g=i[u[f]].stackGroups,m=Object.keys(g),x=0,N=m.length;x<N;x++){var A=g[m[x]],C=A.items,_=A.cateAxisId,O=C.filter(function(L){return vc(L.type).indexOf("Bar")>=0});if(O&&O.length){var R=O[0].type.defaultProps,D=R!==void 0?jn(jn({},R),O[0].props):O[0].props,$=D.barSize,k=D[_];c[k]||(c[k]=[]);var M=sr($)?r:$;c[k].push({item:O[0],stackList:O.slice(1),barSize:sr(M)?void 0:Hd(M,n,0)})}}return c},nH=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,c=i===void 0?[]:i,u=t.maxBarSize,f=c.length;if(f<1)return null;var p=Hd(r,a,0,!0),g,m=[];if(c[0].barSize===+c[0].barSize){var x=!1,N=a/f,A=c.reduce(function($,k){return $+k.barSize||0},0);A+=(f-1)*p,A>=a&&(A-=(f-1)*p,p=0),A>=a&&N>0&&(x=!0,N*=.9,A=f*N);var C=(a-A)/2>>0,_={offset:C-p,size:0};g=c.reduce(function($,k){var M={item:k.item,position:{offset:_.offset+_.size+p,size:x?N:k.barSize}},L=[].concat(KP($),[M]);return _=L[L.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(B){L.push({item:B,position:_})}),L},m)}else{var O=Hd(n,a,0,!0);a-2*O-(f-1)*p<=0&&(p=0);var R=(a-2*O-(f-1)*p)/f;R>1&&(R>>=0);var D=u===+u?Math.min(R,u):R;g=c.reduce(function($,k,M){var L=[].concat(KP($),[{item:k.item,position:{offset:O+(R+p)*M+(R-D)/2,size:D}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(B){L.push({item:B,position:L[L.length-1].position})}),L},m)}return g},aH=function(t,r,n,a){var i=n.children,c=n.width,u=n.margin,f=c-(u.left||0)-(u.right||0),p=XM({children:i,legendWidth:f});if(p){var g=a||{},m=g.width,x=g.height,N=p.align,A=p.verticalAlign,C=p.layout;if((C==="vertical"||C==="horizontal"&&A==="middle")&&N!=="center"&&Ge(t[N]))return jn(jn({},t),{},gp({},N,t[N]+(m||0)));if((C==="horizontal"||C==="vertical"&&N==="center")&&A!=="middle"&&Ge(t[A]))return jn(jn({},t),{},gp({},A,t[A]+(x||0)))}return t},sH=function(t,r,n){return sr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},QM=function(t,r,n,a,i){var c=r.props.children,u=Eo(c,Kv).filter(function(p){return sH(a,i,p.props.direction)});if(u&&u.length){var f=u.map(function(p){return p.props.dataKey});return t.reduce(function(p,g){var m=Sl(g,n);if(sr(m))return p;var x=Array.isArray(m)?[Hv(m),Wv(m)]:[m,m],N=f.reduce(function(A,C){var _=Sl(g,C,0),O=x[0]-Math.abs(Array.isArray(_)?_[0]:_),R=x[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(O,A[0]),Math.max(R,A[1])]},[1/0,-1/0]);return[Math.min(N[0],p[0]),Math.max(N[1],p[1])]},[1/0,-1/0])}return null},iH=function(t,r,n,a,i){var c=r.map(function(u){return QM(t,u,n,i,a)}).filter(function(u){return!sr(u)});return c&&c.length?c.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]):null},ZM=function(t,r,n,a,i){var c=r.map(function(f){var p=f.props.dataKey;return n==="number"&&p&&QM(t,f,p,a)||mh(t,p,n,i)});if(n==="number")return c.reduce(function(f,p){return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);var u={};return c.reduce(function(f,p){for(var g=0,m=p.length;g<m;g++)u[p[g]]||(u[p[g]]=!0,f.push(p[g]));return f},[])},JM=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},eD=function(t,r,n,a){if(a)return t.map(function(f){return f.coordinate});var i,c,u=t.map(function(f){return f.coordinate===r&&(i=!0),f.coordinate===n&&(c=!0),f.coordinate});return i||u.push(r),c||u.push(n),u},hc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,c=t.type,u=t.range,f=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,p=(r||n)&&c==="category"&&a.bandwidth?a.bandwidth()/f:0;if(p=t.axisType==="angleAxis"&&u?.length>=2?Co(u[0]-u[1])*2*p:p,r&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(m){var x=i?i.indexOf(m):m;return{coordinate:a(x)+p,value:m,offset:p}});return g.filter(function(m){return!sg(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,x){return{coordinate:a(m)+p,value:m,index:x,offset:p}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+p,value:m,offset:p}}):a.domain().map(function(m,x){return{coordinate:a(m)+p,value:i?i[m]:m,index:x,offset:p}})},u1=new WeakMap,Jg=function(t,r){if(typeof r!="function")return t;u1.has(t)||u1.set(t,new WeakMap);var n=u1.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},oH=function(t,r,n){var a=t.scale,i=t.type,c=t.layout,u=t.axisType;if(a==="auto")return c==="radial"&&u==="radiusAxis"?{scale:Eh(),realScaleType:"band"}:c==="radial"&&u==="angleAxis"?{scale:Fy(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ph(),realScaleType:"point"}:i==="category"?{scale:Eh(),realScaleType:"band"}:{scale:Fy(),realScaleType:"linear"};if(Wd(a)){var f="scale".concat(Ov(a));return{scale:(RP[f]||ph)(),realScaleType:RP[f]?f:"point"}}return Bt(a)?{scale:a}:{scale:ph(),realScaleType:"point"}},XP=1e-4,lH=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-XP,c=Math.max(a[0],a[1])+XP,u=t(r[0]),f=t(r[n-1]);(u<i||u>c||f<i||f>c)&&t.domain([r[0],r[n-1]])}},cH=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},uH=function(t,r){if(!r||r.length!==2||!Ge(r[0])||!Ge(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ge(t[0])||t[0]<n)&&(i[0]=n),(!Ge(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},dH=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,c=0,u=0;u<r;++u){var f=sg(t[u][n][1])?t[u][n][0]:t[u][n][1];f>=0?(t[u][n][0]=i,t[u][n][1]=i+f,i=t[u][n][1]):(t[u][n][0]=c,t[u][n][1]=c+f,c=t[u][n][1])}},fH=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,c=0;c<r;++c){var u=sg(t[c][n][1])?t[c][n][0]:t[c][n][1];u>=0?(t[c][n][0]=i,t[c][n][1]=i+u,i=t[c][n][1]):(t[c][n][0]=0,t[c][n][1]=0)}},pH={sign:dH,expand:Y6,none:wp,silhouette:X6,wiggle:Q6,positive:fH},mH=function(t,r,n){var a=r.map(function(u){return u.props.dataKey}),i=pH[n],c=K6().keys(a).value(function(u,f){return+Sl(u,f,0)}).order(xS).offset(i);return c(t)},hH=function(t,r,n,a,i,c){if(!t)return null;var u=c?r.reverse():r,f={},p=u.reduce(function(m,x){var N,A=(N=x.type)!==null&&N!==void 0&&N.defaultProps?jn(jn({},x.type.defaultProps),x.props):x.props,C=A.stackId,_=A.hide;if(_)return m;var O=A[n],R=m[O]||{hasStack:!1,stackGroups:{}};if(Qn(C)){var D=R.stackGroups[C]||{numericAxisId:n,cateAxisId:a,items:[]};D.items.push(x),R.hasStack=!0,R.stackGroups[C]=D}else R.stackGroups[kv("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[x]};return jn(jn({},m),{},gp({},O,R))},f),g={};return Object.keys(p).reduce(function(m,x){var N=p[x];if(N.hasStack){var A={};N.stackGroups=Object.keys(N.stackGroups).reduce(function(C,_){var O=N.stackGroups[_];return jn(jn({},C),{},gp({},_,{numericAxisId:n,cateAxisId:a,items:O.items,stackedData:mH(t,O.items,i)}))},A)}return jn(jn({},m),{},gp({},x,N))},g)},gH=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,c=r.originalDomain,u=r.allowDecimals,f=n||r.scale;if(f!=="auto"&&f!=="linear")return null;if(i&&a==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var p=t.domain();if(!p.length)return null;var g=EW(p,i,u);return t.domain([Hv(g),Wv(g)]),{niceTicks:g}}if(i&&a==="number"){var m=t.domain(),x=AW(m,i,u);return{niceTicks:x}}return null},QP=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,c=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+a:null;var f=Sl(c,r.dataKey,r.domain[u]);return sr(f)?null:r.scale(f)-i/2+a},yH=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},vH=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?jn(jn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Qn(i)){var c=r[i];if(c){var u=c.items.indexOf(t);return u>=0?c.stackedData[u]:null}}return null},bH=function(t){return t.reduce(function(r,n){return[Hv(n.concat([r[0]]).filter(Ge)),Wv(n.concat([r[1]]).filter(Ge))]},[1/0,-1/0])},tD=function(t,r,n){return Object.keys(t).reduce(function(a,i){var c=t[i],u=c.stackedData,f=u.reduce(function(p,g){var m=bH(g.slice(r,n+1));return[Math.min(p[0],m[0]),Math.max(p[1],m[1])]},[1/0,-1/0]);return[Math.min(f[0],a[0]),Math.max(f[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},ZP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HS=function(t,r,n){if(Bt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ge(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(ZP.test(t[0])){var i=+ZP.exec(t[0])[1];a[0]=r[0]-i}else Bt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ge(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(JP.test(t[1])){var c=+JP.exec(t[1])[1];a[1]=r[1]+c}else Bt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Vy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=hj(r,function(m){return m.coordinate}),c=1/0,u=1,f=i.length;u<f;u++){var p=i[u],g=i[u-1];c=Math.min((p.coordinate||0)-(g.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0},ek=function(t,r,n){return!t||!t.length||Fj(t,Bi(n,"type.defaultProps.domain"))?r:t},rD=function(t,r){var n=t.type.defaultProps?jn(jn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,c=n.unit,u=n.formatter,f=n.tooltipType,p=n.chartType,g=n.hide;return jn(jn({},ar(t,!1)),{},{dataKey:a,unit:c,formatter:u,name:i||a,color:Uj(t),value:Sl(r,a),type:f,payload:r,chartType:p,hide:g})};function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(r),!0).forEach(function(n){xH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xH(e,t,r){return t=wH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=SH(e,"string");return Dh(t)=="symbol"?t:t+""}function SH(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gy=Math.PI/180,NH=function(t){return t*180/Math.PI},Aa=function(t,r,n,a){return{x:t+Math.cos(-Gy*a)*n,y:r+Math.sin(-Gy*a)*n}},jH=function(t,r){var n=t.x,a=t.y,i=r.x,c=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-c,2))},_H=function(t,r){var n=t.x,a=t.y,i=r.cx,c=r.cy,u=jH({x:n,y:a},{x:i,y:c});if(u<=0)return{radius:u};var f=(n-i)/u,p=Math.acos(f);return a>c&&(p=2*Math.PI-p),{radius:u,angle:NH(p),angleInRadian:p}},CH=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),c=Math.min(a,i);return{startAngle:r-c*360,endAngle:n-c*360}},EH=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),c=Math.floor(a/360),u=Math.min(i,c);return t+u*360},nk=function(t,r){var n=t.x,a=t.y,i=_H({x:n,y:a},r),c=i.radius,u=i.angle,f=r.innerRadius,p=r.outerRadius;if(c<f||c>p)return!1;if(c===0)return!0;var g=CH(r),m=g.startAngle,x=g.endAngle,N=u,A;if(m<=x){for(;N>x;)N-=360;for(;N<m;)N+=360;A=N>=m&&N<=x}else{for(;N>m;)N-=360;for(;N<x;)N+=360;A=N>=x&&N<=m}return A?rk(rk({},r),{},{radius:c,angle:EH(N,r)}):null};function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}var AH=["offset"];function PH(e){return IH(e)||TH(e)||OH(e)||kH()}function kH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OH(e,t){if(e){if(typeof e=="string")return VS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VS(e,t)}}function TH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IH(e){if(Array.isArray(e))return VS(e)}function VS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RH(e,t){if(e==null)return{};var r=MH(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(n){DH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DH(e,t,r){return t=LH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=$H(e,"string");return Lh(t)=="symbol"?t:t+""}function $H(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(this,arguments)}var FH=function(t){var r=t.value,n=t.formatter,a=sr(t.children)?r:t.children;return Bt(n)?n(a):a},BH=function(t,r){var n=Co(r-t),a=Math.min(Math.abs(r-t),360);return n*a},qH=function(t,r,n){var a=t.position,i=t.viewBox,c=t.offset,u=t.className,f=i,p=f.cx,g=f.cy,m=f.innerRadius,x=f.outerRadius,N=f.startAngle,A=f.endAngle,C=f.clockWise,_=(m+x)/2,O=BH(N,A),R=O>=0?1:-1,D,$;a==="insideStart"?(D=N+R*c,$=C):a==="insideEnd"?(D=A-R*c,$=!C):a==="end"&&(D=A+R*c,$=C),$=O<=0?$:!$;var k=Aa(p,g,_,D),M=Aa(p,g,_,D+($?1:-1)*359),L="M".concat(k.x,",").concat(k.y,`
    A`).concat(_,",").concat(_,",0,1,").concat($?0:1,`,
    `).concat(M.x,",").concat(M.y),B=sr(t.id)?kv("recharts-radial-line-"):t.id;return Z.createElement("text",$h({},n,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",u)}),Z.createElement("defs",null,Z.createElement("path",{id:B,d:L})),Z.createElement("textPath",{xlinkHref:"#".concat(B)},r))},UH=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,c=i.cx,u=i.cy,f=i.innerRadius,p=i.outerRadius,g=i.startAngle,m=i.endAngle,x=(g+m)/2;if(a==="outside"){var N=Aa(c,u,p+n,x),A=N.x,C=N.y;return{x:A,y:C,textAnchor:A>=c?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"end"};var _=(f+p)/2,O=Aa(c,u,_,x),R=O.x,D=O.y;return{x:R,y:D,textAnchor:"middle",verticalAnchor:"middle"}},zH=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,c=r,u=c.x,f=c.y,p=c.width,g=c.height,m=g>=0?1:-1,x=m*a,N=m>0?"end":"start",A=m>0?"start":"end",C=p>=0?1:-1,_=C*a,O=C>0?"end":"start",R=C>0?"start":"end";if(i==="top"){var D={x:u+p/2,y:f-m*a,textAnchor:"middle",verticalAnchor:N};return Xn(Xn({},D),n?{height:Math.max(f-n.y,0),width:p}:{})}if(i==="bottom"){var $={x:u+p/2,y:f+g+x,textAnchor:"middle",verticalAnchor:A};return Xn(Xn({},$),n?{height:Math.max(n.y+n.height-(f+g),0),width:p}:{})}if(i==="left"){var k={x:u-_,y:f+g/2,textAnchor:O,verticalAnchor:"middle"};return Xn(Xn({},k),n?{width:Math.max(k.x-n.x,0),height:g}:{})}if(i==="right"){var M={x:u+p+_,y:f+g/2,textAnchor:R,verticalAnchor:"middle"};return Xn(Xn({},M),n?{width:Math.max(n.x+n.width-M.x,0),height:g}:{})}var L=n?{width:p,height:g}:{};return i==="insideLeft"?Xn({x:u+_,y:f+g/2,textAnchor:R,verticalAnchor:"middle"},L):i==="insideRight"?Xn({x:u+p-_,y:f+g/2,textAnchor:O,verticalAnchor:"middle"},L):i==="insideTop"?Xn({x:u+p/2,y:f+x,textAnchor:"middle",verticalAnchor:A},L):i==="insideBottom"?Xn({x:u+p/2,y:f+g-x,textAnchor:"middle",verticalAnchor:N},L):i==="insideTopLeft"?Xn({x:u+_,y:f+x,textAnchor:R,verticalAnchor:A},L):i==="insideTopRight"?Xn({x:u+p-_,y:f+x,textAnchor:O,verticalAnchor:A},L):i==="insideBottomLeft"?Xn({x:u+_,y:f+g-x,textAnchor:R,verticalAnchor:N},L):i==="insideBottomRight"?Xn({x:u+p-_,y:f+g-x,textAnchor:O,verticalAnchor:N},L):Hp(i)&&(Ge(i.x)||Dd(i.x))&&(Ge(i.y)||Dd(i.y))?Xn({x:u+Hd(i.x,p),y:f+Hd(i.y,g),textAnchor:"end",verticalAnchor:"end"},L):Xn({x:u+p/2,y:f+g/2,textAnchor:"middle",verticalAnchor:"middle"},L)},WH=function(t){return"cx"in t&&Ge(t.cx)};function za(e){var t=e.offset,r=t===void 0?5:t,n=RH(e,AH),a=Xn({offset:r},n),i=a.viewBox,c=a.position,u=a.value,f=a.children,p=a.content,g=a.className,m=g===void 0?"":g,x=a.textBreakAll;if(!i||sr(u)&&sr(f)&&!y.isValidElement(p)&&!Bt(p))return null;if(y.isValidElement(p))return y.cloneElement(p,a);var N;if(Bt(p)){if(N=y.createElement(p,a),y.isValidElement(N))return N}else N=FH(a);var A=WH(i),C=ar(a,!0);if(A&&(c==="insideStart"||c==="insideEnd"||c==="end"))return qH(a,N,C);var _=A?UH(a):zH(a);return Z.createElement(Ty,$h({className:Et("recharts-label",m)},C,_,{breakAll:x}),N)}za.displayName="Label";var nD=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,c=t.endAngle,u=t.r,f=t.radius,p=t.innerRadius,g=t.outerRadius,m=t.x,x=t.y,N=t.top,A=t.left,C=t.width,_=t.height,O=t.clockWise,R=t.labelViewBox;if(R)return R;if(Ge(C)&&Ge(_)){if(Ge(m)&&Ge(x))return{x:m,y:x,width:C,height:_};if(Ge(N)&&Ge(A))return{x:N,y:A,width:C,height:_}}return Ge(m)&&Ge(x)?{x:m,y:x,width:0,height:0}:Ge(r)&&Ge(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:c||a||0,innerRadius:p||0,outerRadius:g||f||u||0,clockWise:O}:t.viewBox?t.viewBox:{}},HH=function(t,r){return t?t===!0?Z.createElement(za,{key:"label-implicit",viewBox:r}):Qn(t)?Z.createElement(za,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===za?y.cloneElement(t,{key:"label-implicit",viewBox:r}):Z.createElement(za,{key:"label-implicit",content:t,viewBox:r}):Bt(t)?Z.createElement(za,{key:"label-implicit",content:t,viewBox:r}):Hp(t)?Z.createElement(za,$h({viewBox:r},t,{key:"label-implicit"})):null:null},VH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=nD(t),c=Eo(a,za).map(function(f,p){return y.cloneElement(f,{viewBox:r||i,key:"label-".concat(p)})});if(!n)return c;var u=HH(t.label,r||i);return[u].concat(PH(c))};za.parseViewBox=nD;za.renderCallByParent=VH;var d1,sk;function GH(){if(sk)return d1;sk=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return d1=e,d1}var KH=GH();const YH=wr(KH);function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}var XH=["valueAccessor"],QH=["data","dataKey","clockWise","id","textBreakAll"];function ZH(e){return rV(e)||tV(e)||eV(e)||JH()}function JH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eV(e,t){if(e){if(typeof e=="string")return GS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GS(e,t)}}function tV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rV(e){if(Array.isArray(e))return GS(e)}function GS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(this,arguments)}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ok(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){nV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nV(e,t,r){return t=aV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aV(e){var t=sV(e,"string");return Fh(t)=="symbol"?t:t+""}function sV(e,t){if(Fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lk(e,t){if(e==null)return{};var r=iV(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oV=function(t){return Array.isArray(t.value)?YH(t.value):t.value};function Eu(e){var t=e.valueAccessor,r=t===void 0?oV:t,n=lk(e,XH),a=n.data,i=n.dataKey,c=n.clockWise,u=n.id,f=n.textBreakAll,p=lk(n,QH);return!a||!a.length?null:Z.createElement(ma,{className:"recharts-label-list"},a.map(function(g,m){var x=sr(i)?r(g,m):Sl(g&&g.payload,i),N=sr(u)?{}:{id:"".concat(u,"-").concat(m)};return Z.createElement(za,Ky({},ar(g,!0),p,N,{parentViewBox:g.parentViewBox,value:x,textBreakAll:f,viewBox:za.parseViewBox(sr(c)?g:ok(ok({},g),{},{clockWise:c})),key:"label-".concat(m),index:m}))}))}Eu.displayName="LabelList";function lV(e,t){return e?e===!0?Z.createElement(Eu,{key:"labelList-implicit",data:t}):Z.isValidElement(e)||Bt(e)?Z.createElement(Eu,{key:"labelList-implicit",data:t,content:e}):Hp(e)?Z.createElement(Eu,Ky({data:t},e,{key:"labelList-implicit"})):null:null}function cV(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Eo(n,Eu).map(function(c,u){return y.cloneElement(c,{data:t,key:"labelList-".concat(u)})});if(!r)return a;var i=lV(e.label,t);return[i].concat(ZH(a))}Eu.renderCallByParent=cV;function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KS.apply(this,arguments)}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){uV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uV(e,t,r){return t=dV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dV(e){var t=fV(e,"string");return Bh(t)=="symbol"?t:t+""}function fV(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pV=function(t,r){var n=Co(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ey=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,c=t.sign,u=t.isExternal,f=t.cornerRadius,p=t.cornerIsExternal,g=f*(u?1:-1)+a,m=Math.asin(f/g)/Gy,x=p?i:i+c*m,N=Aa(r,n,g,x),A=Aa(r,n,a,x),C=p?i-c*m:i,_=Aa(r,n,g*Math.cos(m*Gy),C);return{center:N,circleTangency:A,lineTangency:_,theta:m}},aD=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,c=t.startAngle,u=t.endAngle,f=pV(c,u),p=c+f,g=Aa(r,n,i,c),m=Aa(r,n,i,p),x="M ".concat(g.x,",").concat(g.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(c>p),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var N=Aa(r,n,a,c),A=Aa(r,n,a,p);x+="L ".concat(A.x,",").concat(A.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(c<=p),`,
            `).concat(N.x,",").concat(N.y," Z")}else x+="L ".concat(r,",").concat(n," Z");return x},mV=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,c=t.cornerRadius,u=t.forceCornerRadius,f=t.cornerIsExternal,p=t.startAngle,g=t.endAngle,m=Co(g-p),x=ey({cx:r,cy:n,radius:i,angle:p,sign:m,cornerRadius:c,cornerIsExternal:f}),N=x.circleTangency,A=x.lineTangency,C=x.theta,_=ey({cx:r,cy:n,radius:i,angle:g,sign:-m,cornerRadius:c,cornerIsExternal:f}),O=_.circleTangency,R=_.lineTangency,D=_.theta,$=f?Math.abs(p-g):Math.abs(p-g)-C-D;if($<0)return u?"M ".concat(A.x,",").concat(A.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):aD({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:p,endAngle:g});var k="M ".concat(A.x,",").concat(A.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
  `);if(a>0){var M=ey({cx:r,cy:n,radius:a,angle:p,sign:m,isExternal:!0,cornerRadius:c,cornerIsExternal:f}),L=M.circleTangency,B=M.lineTangency,V=M.theta,J=ey({cx:r,cy:n,radius:a,angle:g,sign:-m,isExternal:!0,cornerRadius:c,cornerIsExternal:f}),K=J.circleTangency,ce=J.lineTangency,ue=J.theta,de=f?Math.abs(p-g):Math.abs(p-g)-V-ue;if(de<0&&c===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(ce.x,",").concat(ce.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(K.x,",").concat(K.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(de>180),",").concat(+(m>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(B.x,",").concat(B.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},hV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sD=function(t){var r=uk(uk({},hV),t),n=r.cx,a=r.cy,i=r.innerRadius,c=r.outerRadius,u=r.cornerRadius,f=r.forceCornerRadius,p=r.cornerIsExternal,g=r.startAngle,m=r.endAngle,x=r.className;if(c<i||g===m)return null;var N=Et("recharts-sector",x),A=c-i,C=Hd(u,A,0,!0),_;return C>0&&Math.abs(g-m)<360?_=mV({cx:n,cy:a,innerRadius:i,outerRadius:c,cornerRadius:Math.min(C,A/2),forceCornerRadius:f,cornerIsExternal:p,startAngle:g,endAngle:m}):_=aD({cx:n,cy:a,innerRadius:i,outerRadius:c,startAngle:g,endAngle:m}),Z.createElement("path",KS({},ar(r,!0),{className:N,d:_,role:"img"}))};function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YS.apply(this,arguments)}function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){gV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gV(e,t,r){return t=yV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yV(e){var t=vV(e,"string");return qh(t)=="symbol"?t:t+""}function vV(e,t){if(qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pk={curveBasisClosed:L6,curveBasisOpen:$6,curveBasis:D6,curveBumpX:S6,curveBumpY:N6,curveLinearClosed:F6,curveLinear:Iv,curveMonotoneX:B6,curveMonotoneY:q6,curveNatural:U6,curveStep:z6,curveStepAfter:H6,curveStepBefore:W6},ty=function(t){return t.x===+t.x&&t.y===+t.y},Zm=function(t){return t.x},Jm=function(t){return t.y},bV=function(t,r){if(Bt(t))return t;var n="curve".concat(Ov(t));return(n==="curveMonotone"||n==="curveBump")&&r?pk["".concat(n).concat(r==="vertical"?"Y":"X")]:pk[n]||Iv},xV=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,c=t.baseLine,u=t.layout,f=t.connectNulls,p=f===void 0?!1:f,g=bV(n,u),m=p?i.filter(function(C){return ty(C)}):i,x;if(Array.isArray(c)){var N=p?c.filter(function(C){return ty(C)}):c,A=m.map(function(C,_){return fk(fk({},C),{},{base:N[_]})});return u==="vertical"?x=Vg().y(Jm).x1(Zm).x0(function(C){return C.base.x}):x=Vg().x(Zm).y1(Jm).y0(function(C){return C.base.y}),x.defined(ty).curve(g),x(A)}return u==="vertical"&&Ge(c)?x=Vg().y(Jm).x1(Zm).x0(c):Ge(c)?x=Vg().x(Zm).y1(Jm).y0(c):x=cR().x(Zm).y(Jm),x.defined(ty).curve(g),x(m)},mk=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var c=n&&n.length?xV(t):a;return y.createElement("path",YS({},ar(t,!1),xy(t),{className:Et("recharts-curve",r),d:c,ref:i}))},f1={exports:{}},p1,hk;function wV(){if(hk)return p1;hk=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return p1=e,p1}var m1,gk;function SV(){if(gk)return m1;gk=1;var e=wV();function t(){}function r(){}return r.resetWarningCache=t,m1=function(){function n(c,u,f,p,g,m){if(m!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},m1}var yk;function NV(){return yk||(yk=1,f1.exports=SV()()),f1.exports}var jV=NV();const ur=wr(jV);var _V=Object.getOwnPropertyNames,CV=Object.getOwnPropertySymbols,EV=Object.prototype.hasOwnProperty;function vk(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function ry(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,c=i.get(r),u=i.get(n);if(c&&u)return c===n&&u===r;i.set(r,n),i.set(n,r);var f=e(r,n,a);return i.delete(r),i.delete(n),f}}function AV(e){return e?.[Symbol.toStringTag]}function bk(e){return _V(e).concat(CV(e))}var PV=Object.hasOwn||(function(e,t){return EV.call(e,t)});function Jd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var kV="__v",OV="__o",TV="_owner",xk=Object.getOwnPropertyDescriptor,wk=Object.keys;function IV(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function RV(e,t){return Jd(e.getTime(),t.getTime())}function MV(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function DV(e,t){return e===t}function Sk(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),c,u,f=0;(c=i.next())&&!c.done;){for(var p=t.entries(),g=!1,m=0;(u=p.next())&&!u.done;){if(a[m]){m++;continue}var x=c.value,N=u.value;if(r.equals(x[0],N[0],f,m,e,t,r)&&r.equals(x[1],N[1],x[0],N[0],e,t,r)){g=a[m]=!0;break}m++}if(!g)return!1;f++}return!0}var LV=Jd;function $V(e,t,r){var n=wk(e),a=n.length;if(wk(t).length!==a)return!1;for(;a-- >0;)if(!iD(e,t,r,n[a]))return!1;return!0}function eh(e,t,r){var n=bk(e),a=n.length;if(bk(t).length!==a)return!1;for(var i,c,u;a-- >0;)if(i=n[a],!iD(e,t,r,i)||(c=xk(e,i),u=xk(t,i),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function FV(e,t){return Jd(e.valueOf(),t.valueOf())}function BV(e,t){return e.source===t.source&&e.flags===t.flags}function Nk(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),c,u;(c=i.next())&&!c.done;){for(var f=t.values(),p=!1,g=0;(u=f.next())&&!u.done;){if(!a[g]&&r.equals(c.value,u.value,c.value,u.value,e,t,r)){p=a[g]=!0;break}g++}if(!p)return!1}return!0}function qV(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function UV(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function iD(e,t,r,n){return(n===TV||n===OV||n===kV)&&(e.$$typeof||t.$$typeof)?!0:PV(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var zV="[object Arguments]",WV="[object Boolean]",HV="[object Date]",VV="[object Error]",GV="[object Map]",KV="[object Number]",YV="[object Object]",XV="[object RegExp]",QV="[object Set]",ZV="[object String]",JV="[object URL]",eG=Array.isArray,jk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,_k=Object.assign,tG=Object.prototype.toString.call.bind(Object.prototype.toString);function rG(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,c=e.areNumbersEqual,u=e.areObjectsEqual,f=e.arePrimitiveWrappersEqual,p=e.areRegExpsEqual,g=e.areSetsEqual,m=e.areTypedArraysEqual,x=e.areUrlsEqual,N=e.unknownTagComparators;return function(C,_,O){if(C===_)return!0;if(C==null||_==null)return!1;var R=typeof C;if(R!==typeof _)return!1;if(R!=="object")return R==="number"?c(C,_,O):R==="function"?a(C,_,O):!1;var D=C.constructor;if(D!==_.constructor)return!1;if(D===Object)return u(C,_,O);if(eG(C))return t(C,_,O);if(jk!=null&&jk(C))return m(C,_,O);if(D===Date)return r(C,_,O);if(D===RegExp)return p(C,_,O);if(D===Map)return i(C,_,O);if(D===Set)return g(C,_,O);var $=tG(C);if($===HV)return r(C,_,O);if($===XV)return p(C,_,O);if($===GV)return i(C,_,O);if($===QV)return g(C,_,O);if($===YV)return typeof C.then!="function"&&typeof _.then!="function"&&u(C,_,O);if($===JV)return x(C,_,O);if($===VV)return n(C,_,O);if($===zV)return u(C,_,O);if($===WV||$===KV||$===ZV)return f(C,_,O);if(N){var k=N[$];if(!k){var M=AV(C);M&&(k=N[M])}if(k)return k(C,_,O)}return!1}}function nG(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?eh:IV,areDatesEqual:RV,areErrorsEqual:MV,areFunctionsEqual:DV,areMapsEqual:n?vk(Sk,eh):Sk,areNumbersEqual:LV,areObjectsEqual:n?eh:$V,arePrimitiveWrappersEqual:FV,areRegExpsEqual:BV,areSetsEqual:n?vk(Nk,eh):Nk,areTypedArraysEqual:n?eh:qV,areUrlsEqual:UV,unknownTagComparators:void 0};if(r&&(a=_k({},a,r(a))),t){var i=ry(a.areArraysEqual),c=ry(a.areMapsEqual),u=ry(a.areObjectsEqual),f=ry(a.areSetsEqual);a=_k({},a,{areArraysEqual:i,areMapsEqual:c,areObjectsEqual:u,areSetsEqual:f})}return a}function aG(e){return function(t,r,n,a,i,c,u){return e(t,r,u)}}function sG(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(f,p){var g=n(),m=g.cache,x=m===void 0?t?new WeakMap:void 0:m,N=g.meta;return r(f,p,{cache:x,equals:a,meta:N,strict:i})};if(t)return function(f,p){return r(f,p,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var c={cache:void 0,equals:a,meta:void 0,strict:i};return function(f,p){return r(f,p,c)}}var iG=Iu();Iu({strict:!0});Iu({circular:!0});Iu({circular:!0,strict:!0});Iu({createInternalComparator:function(){return Jd}});Iu({strict:!0,createInternalComparator:function(){return Jd}});Iu({circular:!0,createInternalComparator:function(){return Jd}});Iu({circular:!0,createInternalComparator:function(){return Jd},strict:!0});function Iu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,c=i===void 0?!1:i,u=nG(e),f=rG(u),p=n?n(f):aG(f);return sG({circular:r,comparator:f,createState:a,equals:p,strict:c})}function oG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Ck(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):oG(a)};requestAnimationFrame(n)}function XS(e){"@babel/helpers - typeof";return XS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XS(e)}function lG(e){return fG(e)||dG(e)||uG(e)||cG()}function cG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uG(e,t){if(e){if(typeof e=="string")return Ek(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ek(e,t)}}function Ek(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fG(e){if(Array.isArray(e))return e}function pG(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var c=i,u=lG(c),f=u[0],p=u.slice(1);if(typeof f=="number"){Ck(a.bind(null,p),f);return}a(f),Ck(a.bind(null,p));return}XS(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(n){oD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oD(e,t,r){return t=mG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e){var t=hG(e,"string");return Uh(t)==="symbol"?t:String(t)}function hG(e,t){if(Uh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},yG=function(t){return t},vG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},hh=function(t,r){return Object.keys(r).reduce(function(n,a){return Pk(Pk({},n),{},oD({},a,t(a,r[a])))},{})},kk=function(t,r,n){return t.map(function(a){return"".concat(vG(a)," ").concat(r,"ms ").concat(n)}).join(",")};function bG(e,t){return SG(e)||wG(e,t)||lD(e,t)||xG()}function xG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,c,u=[],f=!0,p=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(f=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function SG(e){if(Array.isArray(e))return e}function NG(e){return CG(e)||_G(e)||lD(e)||jG()}function jG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lD(e,t){if(e){if(typeof e=="string")return QS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QS(e,t)}}function _G(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CG(e){if(Array.isArray(e))return QS(e)}function QS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Yy=1e-4,cD=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},uD=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Ok=function(t,r){return function(n){var a=cD(t,r);return uD(a,n)}},EG=function(t,r){return function(n){var a=cD(t,r),i=[].concat(NG(a.map(function(c,u){return c*u}).slice(1)),[0]);return uD(i,n)}},Tk=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],c=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,c=1,u=1;break;case"ease":a=.25,i=.1,c=.25,u=1;break;case"ease-in":a=.42,i=0,c=1,u=1;break;case"ease-out":a=.42,i=0,c=.58,u=1;break;case"ease-in-out":a=0,i=0,c=.58,u=1;break;default:{var f=r[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var p=f[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),g=bG(p,4);a=g[0],i=g[1],c=g[2],u=g[3]}}}var m=Ok(a,c),x=Ok(i,u),N=EG(a,c),A=function(O){return O>1?1:O<0?0:O},C=function(O){for(var R=O>1?1:O,D=R,$=0;$<8;++$){var k=m(D)-R,M=N(D);if(Math.abs(k-R)<Yy||M<Yy)return x(D);D=A(D-k/M)}return x(D)};return C.isStepper=!1,C},AG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,c=t.dt,u=c===void 0?17:c,f=function(g,m,x){var N=-(g-m)*n,A=x*i,C=x+(N-A)*u/1e3,_=x*u/1e3+g;return Math.abs(_-m)<Yy&&Math.abs(C)<Yy?[m,0]:[_,C]};return f.isStepper=!0,f.dt=u,f},PG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Tk(a);case"spring":return AG();default:if(a.split("(")[0]==="cubic-bezier")return Tk(a)}return typeof a=="function"?a:null};function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function Ik(e){return TG(e)||OG(e)||dD(e)||kG()}function kG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TG(e){if(Array.isArray(e))return JS(e)}function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(n){ZS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZS(e,t,r){return t=IG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IG(e){var t=RG(e,"string");return zh(t)==="symbol"?t:String(t)}function RG(e,t){if(zh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MG(e,t){return $G(e)||LG(e,t)||dD(e,t)||DG()}function DG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dD(e,t){if(e){if(typeof e=="string")return JS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JS(e,t)}}function JS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,c,u=[],f=!0,p=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(f=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function $G(e){if(Array.isArray(e))return e}var Xy=function(t,r,n){return t+(r-t)*n},eN=function(t){var r=t.from,n=t.to;return r!==n},FG=function e(t,r,n){var a=hh(function(i,c){if(eN(c)){var u=t(c.from,c.to,c.velocity),f=MG(u,2),p=f[0],g=f[1];return Ca(Ca({},c),{},{from:p,velocity:g})}return c},r);return n<1?hh(function(i,c){return eN(c)?Ca(Ca({},c),{},{velocity:Xy(c.velocity,a[i].velocity,n),from:Xy(c.from,a[i].from,n)}):c},r):e(t,a,n-1)};const BG=(function(e,t,r,n,a){var i=gG(e,t),c=i.reduce(function(_,O){return Ca(Ca({},_),{},ZS({},O,[e[O],t[O]]))},{}),u=i.reduce(function(_,O){return Ca(Ca({},_),{},ZS({},O,{from:e[O],velocity:0,to:t[O]}))},{}),f=-1,p,g,m=function(){return null},x=function(){return hh(function(O,R){return R.from},u)},N=function(){return!Object.values(u).filter(eN).length},A=function(O){p||(p=O);var R=O-p,D=R/r.dt;u=FG(r,u,D),a(Ca(Ca(Ca({},e),t),x())),p=O,N()||(f=requestAnimationFrame(m))},C=function(O){g||(g=O);var R=(O-g)/n,D=hh(function(k,M){return Xy.apply(void 0,Ik(M).concat([r(R)]))},c);if(a(Ca(Ca(Ca({},e),t),D)),R<1)f=requestAnimationFrame(m);else{var $=hh(function(k,M){return Xy.apply(void 0,Ik(M).concat([r(1)]))},c);a(Ca(Ca(Ca({},e),t),$))}};return m=r.isStepper?A:C,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(f)}}});function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}var qG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function UG(e,t){if(e==null)return{};var r=zG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zG(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function h1(e){return GG(e)||VG(e)||HG(e)||WG()}function WG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HG(e,t){if(e){if(typeof e=="string")return tN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tN(e,t)}}function VG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GG(e){if(Array.isArray(e))return tN(e)}function tN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(n){uh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uh(e,t,r){return t=fD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fD(n.key),n)}}function XG(e,t,r){return t&&YG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fD(e){var t=QG(e,"string");return kp(t)==="symbol"?t:String(t)}function QG(e,t){if(kp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rN(e,t)}function rN(e,t){return rN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rN(e,t)}function JG(e){var t=eK();return function(){var n=Qy(e),a;if(t){var i=Qy(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return nN(this,a)}}function nN(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aN(e)}function aN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(e)}var Au=(function(e){ZG(r,e);var t=JG(r);function r(n,a){var i;KG(this,r),i=t.call(this,n,a);var c=i.props,u=c.isActive,f=c.attributeName,p=c.from,g=c.to,m=c.steps,x=c.children,N=c.duration;if(i.handleStyleChange=i.handleStyleChange.bind(aN(i)),i.changeStyle=i.changeStyle.bind(aN(i)),!u||N<=0)return i.state={style:{}},typeof x=="function"&&(i.state={style:g}),nN(i);if(m&&m.length)i.state={style:m[0].style};else if(p){if(typeof x=="function")return i.state={style:p},nN(i);i.state={style:f?uh({},f,p):p}}else i.state={style:{}};return i}return XG(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,c=a.canBegin;this.mounted=!0,!(!i||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,c=i.isActive,u=i.canBegin,f=i.attributeName,p=i.shouldReAnimate,g=i.to,m=i.from,x=this.state.style;if(u){if(!c){var N={style:f?uh({},f,g):g};this.state&&x&&(f&&x[f]!==g||!f&&x!==g)&&this.setState(N);return}if(!(iG(a.to,g)&&a.canBegin&&a.isActive)){var A=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var C=A||p?m:a.to;if(this.state&&x){var _={style:f?uh({},f,C):C};(f&&x[f]!==C||!f&&x!==C)&&this.setState(_)}this.runAnimation(So(So({},this.props),{},{from:C,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,c=a.from,u=a.to,f=a.duration,p=a.easing,g=a.begin,m=a.onAnimationEnd,x=a.onAnimationStart,N=BG(c,u,PG(p),f,this.changeStyle),A=function(){i.stopJSAnimation=N()};this.manager.start([x,g,A,f,m])}},{key:"runStepAnimation",value:function(a){var i=this,c=a.steps,u=a.begin,f=a.onAnimationStart,p=c[0],g=p.style,m=p.duration,x=m===void 0?0:m,N=function(C,_,O){if(O===0)return C;var R=_.duration,D=_.easing,$=D===void 0?"ease":D,k=_.style,M=_.properties,L=_.onAnimationEnd,B=O>0?c[O-1]:_,V=M||Object.keys(k);if(typeof $=="function"||$==="spring")return[].concat(h1(C),[i.runJSAnimation.bind(i,{from:B.style,to:k,duration:R,easing:$}),R]);var J=kk(V,R,$),K=So(So(So({},B.style),k),{},{transition:J});return[].concat(h1(C),[K,R,L]).filter(yG)};return this.manager.start([f].concat(h1(c.reduce(N,[g,Math.max(x,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=pG());var i=a.begin,c=a.duration,u=a.attributeName,f=a.to,p=a.easing,g=a.onAnimationStart,m=a.onAnimationEnd,x=a.steps,N=a.children,A=this.manager;if(this.unSubscribe=A.subscribe(this.handleStyleChange),typeof p=="function"||typeof N=="function"||p==="spring"){this.runJSAnimation(a);return}if(x.length>1){this.runStepAnimation(a);return}var C=u?uh({},u,f):f,_=kk(Object.keys(C),c,p);A.start([g,i,So(So({},C),{},{transition:_}),c,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var c=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var f=UG(a,qG),p=y.Children.count(i),g=this.state.style;if(typeof i=="function")return i(g);if(!u||p===0||c<=0)return i;var m=function(N){var A=N.props,C=A.style,_=C===void 0?{}:C,O=A.className,R=y.cloneElement(N,So(So({},f),{},{style:So(So({},_),g),className:O}));return R};return p===1?m(y.Children.only(i)):Z.createElement("div",null,y.Children.map(i,function(x){return m(x)}))}}]),r})(y.PureComponent);Au.displayName="Animate";Au.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Au.propTypes={from:ur.oneOfType([ur.object,ur.string]),to:ur.oneOfType([ur.object,ur.string]),attributeName:ur.string,duration:ur.number,begin:ur.number,easing:ur.oneOfType([ur.string,ur.func]),steps:ur.arrayOf(ur.shape({duration:ur.number.isRequired,style:ur.object.isRequired,easing:ur.oneOfType([ur.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ur.func]),properties:ur.arrayOf("string"),onAnimationEnd:ur.func})),children:ur.oneOfType([ur.node,ur.func]),isActive:ur.bool,canBegin:ur.bool,onAnimationEnd:ur.func,shouldReAnimate:ur.bool,onAnimationStart:ur.func,onAnimationReStart:ur.func};function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(this,arguments)}function tK(e,t){return sK(e)||aK(e,t)||nK(e,t)||rK()}function rK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nK(e,t){if(e){if(typeof e=="string")return Dk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dk(e,t)}}function Dk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,c,u=[],f=!0,p=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(f=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function sK(e){if(Array.isArray(e))return e}function Lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(r),!0).forEach(function(n){iK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iK(e,t,r){return t=oK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oK(e){var t=lK(e,"string");return Wh(t)=="symbol"?t:t+""}function lK(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fk=function(t,r,n,a,i){var c=Math.min(Math.abs(n)/2,Math.abs(a)/2),u=a>=0?1:-1,f=n>=0?1:-1,p=a>=0&&n>=0||a<0&&n<0?1:0,g;if(c>0&&i instanceof Array){for(var m=[0,0,0,0],x=0,N=4;x<N;x++)m[x]=i[x]>c?c:i[x];g="M".concat(t,",").concat(r+u*m[0]),m[0]>0&&(g+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(p,",").concat(t+f*m[0],",").concat(r)),g+="L ".concat(t+n-f*m[1],",").concat(r),m[1]>0&&(g+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(p,`,
        `).concat(t+n,",").concat(r+u*m[1])),g+="L ".concat(t+n,",").concat(r+a-u*m[2]),m[2]>0&&(g+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(p,`,
        `).concat(t+n-f*m[2],",").concat(r+a)),g+="L ".concat(t+f*m[3],",").concat(r+a),m[3]>0&&(g+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(p,`,
        `).concat(t,",").concat(r+a-u*m[3])),g+="Z"}else if(c>0&&i===+i&&i>0){var A=Math.min(c,i);g="M ".concat(t,",").concat(r+u*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(p,",").concat(t+f*A,",").concat(r,`
            L `).concat(t+n-f*A,",").concat(r,`
            A `).concat(A,",").concat(A,",0,0,").concat(p,",").concat(t+n,",").concat(r+u*A,`
            L `).concat(t+n,",").concat(r+a-u*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(p,",").concat(t+n-f*A,",").concat(r+a,`
            L `).concat(t+f*A,",").concat(r+a,`
            A `).concat(A,",").concat(A,",0,0,").concat(p,",").concat(t,",").concat(r+a-u*A," Z")}else g="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return g},cK=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,c=r.y,u=r.width,f=r.height;if(Math.abs(u)>0&&Math.abs(f)>0){var p=Math.min(i,i+u),g=Math.max(i,i+u),m=Math.min(c,c+f),x=Math.max(c,c+f);return n>=p&&n<=g&&a>=m&&a<=x}return!1},uK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zj=function(t){var r=$k($k({},uK),t),n=y.useRef(),a=y.useState(-1),i=tK(a,2),c=i[0],u=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&u($)}catch{}},[]);var f=r.x,p=r.y,g=r.width,m=r.height,x=r.radius,N=r.className,A=r.animationEasing,C=r.animationDuration,_=r.animationBegin,O=r.isAnimationActive,R=r.isUpdateAnimationActive;if(f!==+f||p!==+p||g!==+g||m!==+m||g===0||m===0)return null;var D=Et("recharts-rectangle",N);return R?Z.createElement(Au,{canBegin:c>0,from:{width:g,height:m,x:f,y:p},to:{width:g,height:m,x:f,y:p},duration:C,animationEasing:A,isActive:R},function($){var k=$.width,M=$.height,L=$.x,B=$.y;return Z.createElement(Au,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:C,isActive:O,easing:A},Z.createElement("path",Zy({},ar(r,!0),{className:D,d:Fk(L,B,k,M,x),ref:n})))}):Z.createElement("path",Zy({},ar(r,!0),{className:D,d:Fk(f,p,g,m,x)}))};function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sN.apply(this,arguments)}var pD=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,c=Et("recharts-dot",i);return r===+r&&n===+n&&a===+a?y.createElement("circle",sN({},ar(t,!1),xy(t),{className:c,cx:r,cy:n,r:a})):null};function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}var dK=["x","y","top","left","width","height","className"];function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iN.apply(this,arguments)}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){pK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pK(e,t,r){return t=mK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=hK(e,"string");return Hh(t)=="symbol"?t:t+""}function hK(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gK(e,t){if(e==null)return{};var r=yK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vK=function(t,r,n,a,i,c){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(c,",").concat(r,"h").concat(n)},bK=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,c=t.top,u=c===void 0?0:c,f=t.left,p=f===void 0?0:f,g=t.width,m=g===void 0?0:g,x=t.height,N=x===void 0?0:x,A=t.className,C=gK(t,dK),_=fK({x:n,y:i,top:u,left:p,width:m,height:N},C);return!Ge(n)||!Ge(i)||!Ge(m)||!Ge(N)||!Ge(u)||!Ge(p)?null:Z.createElement("path",iN({},ar(_,!0),{className:Et("recharts-cross",A),d:vK(n,i,m,N,u,p)}))},g1,qk;function xK(){if(qk)return g1;qk=1;var e=TR(),t=e(Object.getPrototypeOf,Object);return g1=t,g1}var y1,Uk;function wK(){if(Uk)return y1;Uk=1;var e=_c(),t=xK(),r=Cc(),n="[object Object]",a=Function.prototype,i=Object.prototype,c=a.toString,u=i.hasOwnProperty,f=c.call(Object);function p(g){if(!r(g)||e(g)!=n)return!1;var m=t(g);if(m===null)return!0;var x=u.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&c.call(x)==f}return y1=p,y1}var SK=wK();const NK=wr(SK);var v1,zk;function jK(){if(zk)return v1;zk=1;var e=_c(),t=Cc(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return v1=n,v1}var _K=jK();const CK=wr(_K);function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(this,arguments)}function EK(e,t){return OK(e)||kK(e,t)||PK(e,t)||AK()}function AK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PK(e,t){if(e){if(typeof e=="string")return Wk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wk(e,t)}}function Wk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,c,u=[],f=!0,p=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(f=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function OK(e){if(Array.isArray(e))return e}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){TK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TK(e,t,r){return t=IK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IK(e){var t=RK(e,"string");return Vh(t)=="symbol"?t:t+""}function RK(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gk=function(t,r,n,a,i){var c=n-a,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-c/2,",").concat(r+i),u+="L ".concat(t+n-c/2-a,",").concat(r+i),u+="L ".concat(t,",").concat(r," Z"),u},MK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DK=function(t){var r=Vk(Vk({},MK),t),n=y.useRef(),a=y.useState(-1),i=EK(a,2),c=i[0],u=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&u(D)}catch{}},[]);var f=r.x,p=r.y,g=r.upperWidth,m=r.lowerWidth,x=r.height,N=r.className,A=r.animationEasing,C=r.animationDuration,_=r.animationBegin,O=r.isUpdateAnimationActive;if(f!==+f||p!==+p||g!==+g||m!==+m||x!==+x||g===0&&m===0||x===0)return null;var R=Et("recharts-trapezoid",N);return O?Z.createElement(Au,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:x,x:f,y:p},to:{upperWidth:g,lowerWidth:m,height:x,x:f,y:p},duration:C,animationEasing:A,isActive:O},function(D){var $=D.upperWidth,k=D.lowerWidth,M=D.height,L=D.x,B=D.y;return Z.createElement(Au,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:C,easing:A},Z.createElement("path",Jy({},ar(r,!0),{className:R,d:Gk(L,B,$,k,M),ref:n})))}):Z.createElement("g",null,Z.createElement("path",Jy({},ar(r,!0),{className:R,d:Gk(f,p,g,m,x)})))},LK=["option","shapeType","propTransformer","activeClassName","isActive"];function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function $K(e,t){if(e==null)return{};var r=FK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){BK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BK(e,t,r){return t=qK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=UK(e,"string");return Gh(t)=="symbol"?t:t+""}function UK(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zK(e,t){return ev(ev({},t),e)}function WK(e,t){return e==="symbols"}function Yk(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Z.createElement(zj,r);case"trapezoid":return Z.createElement(DK,r);case"sector":return Z.createElement(sD,r);case"symbols":if(WK(t))return Z.createElement(oj,r);break;default:return null}}function HK(e){return y.isValidElement(e)?e.props:e}function VK(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?zK:n,i=e.activeClassName,c=i===void 0?"recharts-active-shape":i,u=e.isActive,f=$K(e,LK),p;if(y.isValidElement(t))p=y.cloneElement(t,ev(ev({},f),HK(t)));else if(Bt(t))p=t(f);else if(NK(t)&&!CK(t)){var g=a(t,f);p=Z.createElement(Yk,{shapeType:r,elementProps:g})}else{var m=f;p=Z.createElement(Yk,{shapeType:r,elementProps:m})}return u?Z.createElement(ma,{className:c},p):p}function Yv(e,t){return t!=null&&"trapezoids"in e.props}function Xv(e,t){return t!=null&&"sectors"in e.props}function Kh(e,t){return t!=null&&"points"in e.props}function GK(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function KK(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function YK(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function XK(e,t){var r;return Yv(e,t)?r=GK:Xv(e,t)?r=KK:Kh(e,t)&&(r=YK),r}function QK(e,t){var r;return Yv(e,t)?r="trapezoids":Xv(e,t)?r="sectors":Kh(e,t)&&(r="points"),r}function ZK(e,t){if(Yv(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Xv(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Kh(e,t)?t.payload:{}}function JK(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=QK(r,t),i=ZK(r,t),c=n.filter(function(f,p){var g=Fj(i,f),m=r.props[a].filter(function(A){var C=XK(r,t);return C(A,t)}),x=r.props[a].indexOf(m[m.length-1]),N=p===x;return g&&N}),u=n.indexOf(c[c.length-1]);return u}var b1,Xk;function eY(){if(Xk)return b1;Xk=1;var e=Math.ceil,t=Math.max;function r(n,a,i,c){for(var u=-1,f=t(e((a-n)/(i||1)),0),p=Array(f);f--;)p[c?f:++u]=n,n+=i;return p}return b1=r,b1}var x1,Qk;function mD(){if(Qk)return x1;Qk=1;var e=KR(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return x1=n,x1}var w1,Zk;function tY(){if(Zk)return w1;Zk=1;var e=eY(),t=Lv(),r=mD();function n(a){return function(i,c,u){return u&&typeof u!="number"&&t(i,c,u)&&(c=u=void 0),i=r(i),c===void 0?(c=i,i=0):c=r(c),u=u===void 0?i<c?1:-1:r(u),e(i,c,u,a)}}return w1=n,w1}var S1,Jk;function rY(){if(Jk)return S1;Jk=1;var e=tY(),t=e();return S1=t,S1}var nY=rY();const tv=wr(nY);function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){hD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hD(e,t,r){return t=aY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aY(e){var t=sY(e,"string");return Yh(t)=="symbol"?t:t+""}function sY(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iY=["Webkit","Moz","O","ms"],oY=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=iY.reduce(function(i,c){return tO(tO({},i),{},hD({},c+n,r))},{});return a[t]=r,a};function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(this,arguments)}function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yD(n.key),n)}}function cY(e,t,r){return t&&nO(e.prototype,t),r&&nO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uY(e,t,r){return t=nv(t),dY(e,gD()?Reflect.construct(t,r||[],nv(e).constructor):t.apply(e,r))}function dY(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fY(e)}function fY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gD=function(){return!!e})()}function nv(e){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nv(e)}function pY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oN(e,t)}function oN(e,t){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oN(e,t)}function ci(e,t,r){return t=yD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yD(e){var t=mY(e,"string");return Op(t)=="symbol"?t:t+""}function mY(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hY=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,c=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var f=r.length,p=ph().domain(tv(0,f)).range([i,i+c-u]),g=p.domain().map(function(m){return p(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:p(n),endX:p(a),scale:p,scaleValues:g}},aO=function(t){return t.changedTouches&&!!t.changedTouches.length},Tp=(function(e){function t(r){var n;return lY(this,t),n=uY(this,t,[r]),ci(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ci(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ci(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,c=a.onDragEnd,u=a.startIndex;c?.({endIndex:i,startIndex:u})}),n.detachDragEndListener()}),ci(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ci(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ci(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ci(n,"handleSlideDragStart",function(a){var i=aO(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return pY(t,e),cY(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,c=this.state.scaleValues,u=this.props,f=u.gap,p=u.data,g=p.length-1,m=Math.min(a,i),x=Math.max(a,i),N=t.getIndexInRange(c,m),A=t.getIndexInRange(c,x);return{startIndex:N-N%f,endIndex:A===g?g:A-A%f}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,c=a.tickFormatter,u=a.dataKey,f=Sl(i[n],u,n);return Bt(c)?c(f,n):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,c=a.startX,u=a.endX,f=this.props,p=f.x,g=f.width,m=f.travellerWidth,x=f.startIndex,N=f.endIndex,A=f.onChange,C=n.pageX-i;C>0?C=Math.min(C,p+g-m-u,p+g-m-c):C<0&&(C=Math.max(C,p-c,p-u));var _=this.getIndex({startX:c+C,endX:u+C});(_.startIndex!==x||_.endIndex!==N)&&A&&A(_),this.setState({startX:c+C,endX:u+C,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=aO(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,c=a.movingTravellerId,u=a.endX,f=a.startX,p=this.state[c],g=this.props,m=g.x,x=g.width,N=g.travellerWidth,A=g.onChange,C=g.gap,_=g.data,O={startX:this.state.startX,endX:this.state.endX},R=n.pageX-i;R>0?R=Math.min(R,m+x-N-p):R<0&&(R=Math.max(R,m-p)),O[c]=p+R;var D=this.getIndex(O),$=D.startIndex,k=D.endIndex,M=function(){var B=_.length-1;return c==="startX"&&(u>f?$%C===0:k%C===0)||u<f&&k===B||c==="endX"&&(u>f?k%C===0:$%C===0)||u>f&&k===B};this.setState(ci(ci({},c,p+R),"brushMoveStartX",n.pageX),function(){A&&M()&&A(D)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,c=this.state,u=c.scaleValues,f=c.startX,p=c.endX,g=this.state[a],m=u.indexOf(g);if(m!==-1){var x=m+n;if(!(x===-1||x>=u.length)){var N=u[x];a==="startX"&&N>=p||a==="endX"&&N<=f||this.setState(ci({},a,N),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,c=n.width,u=n.height,f=n.fill,p=n.stroke;return Z.createElement("rect",{stroke:p,fill:f,x:a,y:i,width:c,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,c=n.width,u=n.height,f=n.data,p=n.children,g=n.padding,m=y.Children.only(p);return m?Z.cloneElement(m,{x:a,y:i,width:c,height:u,margin:g,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,c,u=this,f=this.props,p=f.y,g=f.travellerWidth,m=f.height,x=f.traveller,N=f.ariaLabel,A=f.data,C=f.startIndex,_=f.endIndex,O=Math.max(n,this.props.x),R=N1(N1({},ar(this.props,!1)),{},{x:O,y:p,width:g,height:m}),D=N||"Min value: ".concat((i=A[C])===null||i===void 0?void 0:i.name,", Max value: ").concat((c=A[_])===null||c===void 0?void 0:c.name);return Z.createElement(ma,{tabIndex:0,role:"slider","aria-label":D,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),u.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(x,R))}},{key:"renderSlide",value:function(n,a){var i=this.props,c=i.y,u=i.height,f=i.stroke,p=i.travellerWidth,g=Math.min(n,a)+p,m=Math.max(Math.abs(a-n)-p,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:g,y:c,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,c=n.y,u=n.height,f=n.travellerWidth,p=n.stroke,g=this.state,m=g.startX,x=g.endX,N=5,A={pointerEvents:"none",fill:p};return Z.createElement(ma,{className:"recharts-brush-texts"},Z.createElement(Ty,rv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,x)-N,y:c+u/2},A),this.getTextOfTick(a)),Z.createElement(Ty,rv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,x)+f+N,y:c+u/2},A),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,c=n.children,u=n.x,f=n.y,p=n.width,g=n.height,m=n.alwaysShowText,x=this.state,N=x.startX,A=x.endX,C=x.isTextActive,_=x.isSlideMoving,O=x.isTravellerMoving,R=x.isTravellerFocused;if(!a||!a.length||!Ge(u)||!Ge(f)||!Ge(p)||!Ge(g)||p<=0||g<=0)return null;var D=Et("recharts-brush",i),$=Z.Children.count(c)===1,k=oY("userSelect","none");return Z.createElement(ma,{className:D,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(N,A),this.renderTravellerLayer(N,"startX"),this.renderTravellerLayer(A,"endX"),(C||_||O||R||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,c=n.width,u=n.height,f=n.stroke,p=Math.floor(i+u/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:a,y:i,width:c,height:u,fill:f,stroke:"none"}),Z.createElement("line",{x1:a+1,y1:p,x2:a+c-1,y2:p,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:a+1,y1:p+2,x2:a+c-1,y2:p+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Z.isValidElement(n)?i=Z.cloneElement(n,a):Bt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,c=n.width,u=n.x,f=n.travellerWidth,p=n.updateId,g=n.startIndex,m=n.endIndex;if(i!==a.prevData||p!==a.prevUpdateId)return N1({prevData:i,prevTravellerWidth:f,prevUpdateId:p,prevX:u,prevWidth:c},i&&i.length?hY({data:i,width:c,x:u,travellerWidth:f,startIndex:g,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(c!==a.prevWidth||u!==a.prevX||f!==a.prevTravellerWidth)){a.scale.range([u,u+c-f]);var x=a.scale.domain().map(function(N){return a.scale(N)});return{prevData:i,prevTravellerWidth:f,prevUpdateId:p,prevX:u,prevWidth:c,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,c=0,u=i-1;u-c>1;){var f=Math.floor((c+u)/2);n[f]>a?u=f:c=f}return a>=n[u]?u:c}}])})(y.PureComponent);ci(Tp,"displayName","Brush");ci(Tp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var j1,sO;function gY(){if(sO)return j1;sO=1;var e=mj();function t(r,n){var a;return e(r,function(i,c,u){return a=n(i,c,u),!a}),!!a}return j1=t,j1}var _1,iO;function yY(){if(iO)return _1;iO=1;var e=_R(),t=ku(),r=gY(),n=Ls(),a=Lv();function i(c,u,f){var p=n(c)?e:r;return f&&a(c,u,f)&&(u=void 0),p(c,t(u,3))}return _1=i,_1}var vY=yY();const bY=wr(vY);var xl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},C1,oO;function xY(){if(oO)return C1;oO=1;var e=zR();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return C1=t,C1}var E1,lO;function wY(){if(lO)return E1;lO=1;var e=xY(),t=qR(),r=ku();function n(a,i){var c={};return i=r(i,3),t(a,function(u,f,p){e(c,f,i(u,f,p))}),c}return E1=n,E1}var SY=wY();const NY=wr(SY);var A1,cO;function jY(){if(cO)return A1;cO=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return A1=e,A1}var P1,uO;function _Y(){if(uO)return P1;uO=1;var e=mj();function t(r,n){var a=!0;return e(r,function(i,c,u){return a=!!n(i,c,u),a}),a}return P1=t,P1}var k1,dO;function CY(){if(dO)return k1;dO=1;var e=jY(),t=_Y(),r=ku(),n=Ls(),a=Lv();function i(c,u,f){var p=n(c)?e:t;return f&&a(c,u,f)&&(u=void 0),p(c,r(u,3))}return k1=i,k1}var EY=CY();const vD=wr(EY);var AY=["x","y"];function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lN.apply(this,arguments)}function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return t=kY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kY(e){var t=OY(e,"string");return Xh(t)=="symbol"?t:t+""}function OY(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TY(e,t){if(e==null)return{};var r=IY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RY(e,t){var r=e.x,n=e.y,a=TY(e,AY),i="".concat(r),c=parseInt(i,10),u="".concat(n),f=parseInt(u,10),p="".concat(t.height||a.height),g=parseInt(p,10),m="".concat(t.width||a.width),x=parseInt(m,10);return th(th(th(th(th({},t),a),c?{x:c}:{}),f?{y:f}:{}),{},{height:g,width:x,name:t.name,radius:t.radius})}function pO(e){return Z.createElement(VK,lN({shapeType:"rectangle",propTransformer:RY,activeClassName:"recharts-active-bar"},e))}var MY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Ge(n)||WF(n);return i?t(n,a):(i||Gd(),r)}},DY=["value","background"],bD;function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function LY(e,t){if(e==null)return{};var r=$Y(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Y(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},av.apply(this,arguments)}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){wu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wD(n.key),n)}}function BY(e,t,r){return t&&hO(e.prototype,t),r&&hO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qY(e,t,r){return t=sv(t),UY(e,xD()?Reflect.construct(t,r||[],sv(e).constructor):t.apply(e,r))}function UY(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zY(e)}function zY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xD=function(){return!!e})()}function sv(e){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sv(e)}function WY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cN(e,t)}function cN(e,t){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cN(e,t)}function wu(e,t,r){return t=wD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wD(e){var t=HY(e,"string");return Ip(t)=="symbol"?t:t+""}function HY(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ef=(function(e){function t(){var r;FY(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=qY(this,t,[].concat(a)),wu(r,"state",{isAnimationFinished:!1}),wu(r,"id",kv("recharts-bar-")),wu(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),c&&c()}),wu(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),c&&c()}),r}return WY(t,e),BY(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,c=i.shape,u=i.dataKey,f=i.activeIndex,p=i.activeBar,g=ar(this.props,!1);return n&&n.map(function(m,x){var N=x===f,A=N?p:c,C=Fn(Fn(Fn({},g),m),{},{isActive:N,option:A,index:x,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Z.createElement(ma,av({className:"recharts-bar-rectangle"},wy(a.props,m,x),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(x)}),Z.createElement(pO,C))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,c=a.layout,u=a.isAnimationActive,f=a.animationBegin,p=a.animationDuration,g=a.animationEasing,m=a.animationId,x=this.state.prevData;return Z.createElement(Au,{begin:f,duration:p,isActive:u,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var A=N.t,C=i.map(function(_,O){var R=x&&x[O];if(R){var D=rp(R.x,_.x),$=rp(R.y,_.y),k=rp(R.width,_.width),M=rp(R.height,_.height);return Fn(Fn({},_),{},{x:D(A),y:$(A),width:k(A),height:M(A)})}if(c==="horizontal"){var L=rp(0,_.height),B=L(A);return Fn(Fn({},_),{},{y:_.y+_.height-B,height:B})}var V=rp(0,_.width),J=V(A);return Fn(Fn({},_),{},{width:J})});return Z.createElement(ma,null,n.renderRectanglesStatically(C))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,c=this.state.prevData;return i&&a&&a.length&&(!c||!Fj(c,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,c=a.dataKey,u=a.activeIndex,f=ar(this.props.background,!1);return i.map(function(p,g){p.value;var m=p.background,x=LY(p,DY);if(!m)return null;var N=Fn(Fn(Fn(Fn(Fn({},x),{},{fill:"#eee"},m),f),wy(n.props,p,g)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:c,index:g,className:"recharts-bar-background-rectangle"});return Z.createElement(pO,av({key:"background-bar-".concat(g),option:n.props.background,isActive:g===u},N))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,c=i.data,u=i.xAxis,f=i.yAxis,p=i.layout,g=i.children,m=Eo(g,Kv);if(!m)return null;var x=p==="vertical"?c[0].height/2:c[0].width/2,N=function(_,O){var R=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:R,errorVal:Sl(_,O)}},A={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Z.createElement(ma,A,m.map(function(C){return Z.cloneElement(C,{key:"error-bar-".concat(a,"-").concat(C.props.dataKey),data:c,xAxis:u,yAxis:f,layout:p,offset:x,dataPointFormatter:N})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,c=n.className,u=n.xAxis,f=n.yAxis,p=n.left,g=n.top,m=n.width,x=n.height,N=n.isAnimationActive,A=n.background,C=n.id;if(a||!i||!i.length)return null;var _=this.state.isAnimationFinished,O=Et("recharts-bar",c),R=u&&u.allowDataOverflow,D=f&&f.allowDataOverflow,$=R||D,k=sr(C)?this.id:C;return Z.createElement(ma,{className:O},R||D?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(k)},Z.createElement("rect",{x:R?p:p-m/2,y:D?g:g-x/2,width:R?m:m*2,height:D?x:x*2}))):null,Z.createElement(ma,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(k,")"):null},A?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,k),(!N||_)&&Eu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(y.PureComponent);bD=ef;wu(ef,"displayName","Bar");wu(ef,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!og.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wu(ef,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,c=e.yAxis,u=e.xAxisTicks,f=e.yAxisTicks,p=e.stackedData,g=e.dataStartIndex,m=e.displayedData,x=e.offset,N=cH(n,r);if(!N)return null;var A=t.layout,C=r.type.defaultProps,_=C!==void 0?Fn(Fn({},C),r.props):r.props,O=_.dataKey,R=_.children,D=_.minPointSize,$=A==="horizontal"?c:i,k=p?$.scale.domain():null,M=yH({numericAxis:$}),L=Eo(R,XR),B=m.map(function(V,J){var K,ce,ue,de,G,ne;p?K=uH(p[g+J],k):(K=Sl(V,O),Array.isArray(K)||(K=[M,K]));var pe=MY(D,bD.defaultProps.minPointSize)(K[1],J);if(A==="horizontal"){var Y,he=[c.scale(K[0]),c.scale(K[1])],ve=he[0],U=he[1];ce=QP({axis:i,ticks:u,bandSize:a,offset:N.offset,entry:V,index:J}),ue=(Y=U??ve)!==null&&Y!==void 0?Y:void 0,de=N.size;var Q=ve-U;if(G=Number.isNaN(Q)?0:Q,ne={x:ce,y:c.y,width:de,height:c.height},Math.abs(pe)>0&&Math.abs(G)<Math.abs(pe)){var fe=Co(G||pe)*(Math.abs(pe)-Math.abs(G));ue-=fe,G+=fe}}else{var je=[i.scale(K[0]),i.scale(K[1])],Ie=je[0],qe=je[1];if(ce=Ie,ue=QP({axis:c,ticks:f,bandSize:a,offset:N.offset,entry:V,index:J}),de=qe-Ie,G=N.size,ne={x:i.x,y:ue,width:i.width,height:G},Math.abs(pe)>0&&Math.abs(de)<Math.abs(pe)){var Ve=Co(de||pe)*(Math.abs(pe)-Math.abs(de));de+=Ve}}return Fn(Fn(Fn({},V),{},{x:ce,y:ue,width:de,height:G,value:p?K:K[1],payload:V,background:ne},L&&L[J]&&L[J].props),{},{tooltipPayload:[rD(r,V)],tooltipPosition:{x:ce+de/2,y:ue+G/2}})});return Fn({data:B,layout:A},x)});function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function VY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SD(n.key),n)}}function GY(e,t,r){return t&&gO(e.prototype,t),r&&gO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){Qv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qv(e,t,r){return t=SD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SD(e){var t=KY(e,"string");return Qh(t)=="symbol"?t:t+""}function KY(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YY=function(t,r,n,a,i){var c=t.width,u=t.height,f=t.layout,p=t.children,g=Object.keys(r),m={left:n.left,leftMirror:n.left,right:c-n.right,rightMirror:c-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},x=!!ui(p,ef);return g.reduce(function(N,A){var C=r[A],_=C.orientation,O=C.domain,R=C.padding,D=R===void 0?{}:R,$=C.mirror,k=C.reversed,M="".concat(_).concat($?"Mirror":""),L,B,V,J,K;if(C.type==="number"&&(C.padding==="gap"||C.padding==="no-gap")){var ce=O[1]-O[0],ue=1/0,de=C.categoricalDomain.sort(GF);if(de.forEach(function(je,Ie){Ie>0&&(ue=Math.min((je||0)-(de[Ie-1]||0),ue))}),Number.isFinite(ue)){var G=ue/ce,ne=C.layout==="vertical"?n.height:n.width;if(C.padding==="gap"&&(L=G*ne/2),C.padding==="no-gap"){var pe=Hd(t.barCategoryGap,G*ne),Y=G*ne/2;L=Y-pe-(Y-pe)/ne*pe}}}a==="xAxis"?B=[n.left+(D.left||0)+(L||0),n.left+n.width-(D.right||0)-(L||0)]:a==="yAxis"?B=f==="horizontal"?[n.top+n.height-(D.bottom||0),n.top+(D.top||0)]:[n.top+(D.top||0)+(L||0),n.top+n.height-(D.bottom||0)-(L||0)]:B=C.range,k&&(B=[B[1],B[0]]);var he=oH(C,i,x),ve=he.scale,U=he.realScaleType;ve.domain(O).range(B),lH(ve);var Q=gH(ve,jo(jo({},C),{},{realScaleType:U}));a==="xAxis"?(K=_==="top"&&!$||_==="bottom"&&$,V=n.left,J=m[M]-K*C.height):a==="yAxis"&&(K=_==="left"&&!$||_==="right"&&$,V=m[M]-K*C.width,J=n.top);var fe=jo(jo(jo({},C),Q),{},{realScaleType:U,x:V,y:J,scale:ve,width:a==="xAxis"?n.width:C.width,height:a==="yAxis"?n.height:C.height});return fe.bandSize=Vy(fe,Q),!C.hide&&a==="xAxis"?m[M]+=(K?-1:1)*fe.height:C.hide||(m[M]+=(K?-1:1)*fe.width),jo(jo({},N),{},Qv({},A,fe))},{})},ND=function(t,r){var n=t.x,a=t.y,i=r.x,c=r.y;return{x:Math.min(n,i),y:Math.min(a,c),width:Math.abs(i-n),height:Math.abs(c-a)}},XY=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return ND({x:r,y:n},{x:a,y:i})},jD=(function(){function e(t){VY(this,e),this.scale=t}return GY(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(a){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+f}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();Qv(jD,"EPS",1e-4);var Wj=function(t){var r=Object.keys(t).reduce(function(n,a){return jo(jo({},n),{},Qv({},a,jD.create(t[a])))},{});return jo(jo({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=i.bandAware,u=i.position;return NY(a,function(f,p){return r[p].apply(f,{bandAware:c,position:u})})},isInRange:function(a){return vD(a,function(i,c){return r[c].isInRange(i)})}})};function QY(e){return(e%180+180)%180}var ZY=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=QY(a),c=i*Math.PI/180,u=Math.atan(n/r),f=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(f)},O1,vO;function JY(){if(vO)return O1;vO=1;var e=ku(),t=ig(),r=Mv();function n(a){return function(i,c,u){var f=Object(i);if(!t(i)){var p=e(c,3);i=r(i),c=function(m){return p(f[m],m,f)}}var g=a(i,c,u);return g>-1?f[p?i[g]:g]:void 0}}return O1=n,O1}var T1,bO;function eX(){if(bO)return T1;bO=1;var e=mD();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return T1=t,T1}var I1,xO;function tX(){if(xO)return I1;xO=1;var e=DR(),t=ku(),r=eX(),n=Math.max;function a(i,c,u){var f=i==null?0:i.length;if(!f)return-1;var p=u==null?0:r(u);return p<0&&(p=n(f+p,0)),e(i,t(c,3),p)}return I1=a,I1}var R1,wO;function rX(){if(wO)return R1;wO=1;var e=JY(),t=tX(),r=e(t);return R1=r,R1}var nX=rX();const aX=wr(nX);var sX=ZI();const iX=wr(sX);var oX=iX(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Hj=y.createContext(void 0),Vj=y.createContext(void 0),_D=y.createContext(void 0),CD=y.createContext({}),ED=y.createContext(void 0),AD=y.createContext(0),PD=y.createContext(0),SO=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,c=t.clipPathId,u=t.children,f=t.width,p=t.height,g=oX(i);return Z.createElement(Hj.Provider,{value:n},Z.createElement(Vj.Provider,{value:a},Z.createElement(CD.Provider,{value:i},Z.createElement(_D.Provider,{value:g},Z.createElement(ED.Provider,{value:c},Z.createElement(AD.Provider,{value:p},Z.createElement(PD.Provider,{value:f},u)))))))},lX=function(){return y.useContext(ED)},kD=function(t){var r=y.useContext(Hj);r==null&&Gd();var n=r[t];return n==null&&Gd(),n},cX=function(){var t=y.useContext(Hj);return xu(t)},uX=function(){var t=y.useContext(Vj),r=aX(t,function(n){return vD(n.domain,Number.isFinite)});return r||xu(t)},OD=function(t){var r=y.useContext(Vj);r==null&&Gd();var n=r[t];return n==null&&Gd(),n},dX=function(){var t=y.useContext(_D);return t},fX=function(){return y.useContext(CD)},Gj=function(){return y.useContext(PD)},Kj=function(){return y.useContext(AD)};function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function pX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ID(n.key),n)}}function hX(e,t,r){return t&&mX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gX(e,t,r){return t=iv(t),yX(e,TD()?Reflect.construct(t,r||[],iv(e).constructor):t.apply(e,r))}function yX(e,t){if(t&&(Rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vX(e)}function vX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!e})()}function iv(e){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iv(e)}function bX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uN(e,t)}function uN(e,t){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uN(e,t)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){Yj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yj(e,t,r){return t=ID(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ID(e){var t=xX(e,"string");return Rp(t)=="symbol"?t:t+""}function xX(e,t){if(Rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wX(e,t){return _X(e)||jX(e,t)||NX(e,t)||SX()}function SX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NX(e,t){if(e){if(typeof e=="string")return _O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _O(e,t)}}function _O(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,c,u=[],f=!0,p=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(f=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function _X(e){if(Array.isArray(e))return e}function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dN.apply(this,arguments)}var CX=function(t,r){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,r):Bt(t)?n=t(r):n=Z.createElement("line",dN({},r,{className:"recharts-reference-line-line"})),n},EX=function(t,r,n,a,i,c,u,f,p){var g=i.x,m=i.y,x=i.width,N=i.height;if(n){var A=p.y,C=t.y.apply(A,{position:c});if(xl(p,"discard")&&!t.y.isInRange(C))return null;var _=[{x:g+x,y:C},{x:g,y:C}];return f==="left"?_.reverse():_}if(r){var O=p.x,R=t.x.apply(O,{position:c});if(xl(p,"discard")&&!t.x.isInRange(R))return null;var D=[{x:R,y:m+N},{x:R,y:m}];return u==="top"?D.reverse():D}if(a){var $=p.segment,k=$.map(function(M){return t.apply(M,{position:c})});return xl(p,"discard")&&bY(k,function(M){return!t.isInRange(M)})?null:k}return null};function AX(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,c=e.shape,u=e.className,f=e.alwaysShow,p=lX(),g=kD(a),m=OD(i),x=dX();if(!p||!x)return null;bc(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var N=Wj({x:g.scale,y:m.scale}),A=Qn(t),C=Qn(r),_=n&&n.length===2,O=EX(N,A,C,_,x,e.position,g.orientation,m.orientation,e);if(!O)return null;var R=wX(O,2),D=R[0],$=D.x,k=D.y,M=R[1],L=M.x,B=M.y,V=xl(e,"hidden")?"url(#".concat(p,")"):void 0,J=jO(jO({clipPath:V},ar(e,!0)),{},{x1:$,y1:k,x2:L,y2:B});return Z.createElement(ma,{className:Et("recharts-reference-line",u)},CX(c,J),za.renderCallByParent(e,XY({x1:$,y1:k,x2:L,y2:B})))}var Xj=(function(e){function t(){return pX(this,t),gX(this,t,arguments)}return bX(t,e),hX(t,[{key:"render",value:function(){return Z.createElement(AX,this.props)}}])})(Z.Component);Yj(Xj,"displayName","ReferenceLine");Yj(Xj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fN.apply(this,arguments)}function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){Zv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MD(n.key),n)}}function OX(e,t,r){return t&&kX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TX(e,t,r){return t=ov(t),IX(e,RD()?Reflect.construct(t,r||[],ov(e).constructor):t.apply(e,r))}function IX(e,t){if(t&&(Mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RX(e)}function RX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!e})()}function ov(e){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ov(e)}function MX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pN(e,t)}function pN(e,t){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pN(e,t)}function Zv(e,t,r){return t=MD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MD(e){var t=DX(e,"string");return Mp(t)=="symbol"?t:t+""}function DX(e,t){if(Mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LX=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,c=Wj({x:a.scale,y:i.scale}),u=c.apply({x:r,y:n},{bandAware:!0});return xl(t,"discard")&&!c.isInRange(u)?null:u},Jv=(function(e){function t(){return PX(this,t),TX(this,t,arguments)}return MX(t,e),OX(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,c=n.r,u=n.alwaysShow,f=n.clipPathId,p=Qn(a),g=Qn(i);if(bc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!p||!g)return null;var m=LX(this.props);if(!m)return null;var x=m.x,N=m.y,A=this.props,C=A.shape,_=A.className,O=xl(this.props,"hidden")?"url(#".concat(f,")"):void 0,R=EO(EO({clipPath:O},ar(this.props,!0)),{},{cx:x,cy:N});return Z.createElement(ma,{className:Et("recharts-reference-dot",_)},t.renderDot(C,R),za.renderCallByParent(this.props,{x:x-c,y:N-c,width:2*c,height:2*c}))}}])})(Z.Component);Zv(Jv,"displayName","ReferenceDot");Zv(Jv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zv(Jv,"renderDot",function(e,t){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,t):Bt(e)?r=e(t):r=Z.createElement(pD,fN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mN.apply(this,arguments)}function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){e0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LD(n.key),n)}}function BX(e,t,r){return t&&FX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qX(e,t,r){return t=lv(t),UX(e,DD()?Reflect.construct(t,r||[],lv(e).constructor):t.apply(e,r))}function UX(e,t){if(t&&(Dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zX(e)}function zX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DD=function(){return!!e})()}function lv(e){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lv(e)}function WX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hN(e,t)}function hN(e,t){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hN(e,t)}function e0(e,t,r){return t=LD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LD(e){var t=HX(e,"string");return Dp(t)=="symbol"?t:t+""}function HX(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VX=function(t,r,n,a,i){var c=i.x1,u=i.x2,f=i.y1,p=i.y2,g=i.xAxis,m=i.yAxis;if(!g||!m)return null;var x=Wj({x:g.scale,y:m.scale}),N={x:t?x.x.apply(c,{position:"start"}):x.x.rangeMin,y:n?x.y.apply(f,{position:"start"}):x.y.rangeMin},A={x:r?x.x.apply(u,{position:"end"}):x.x.rangeMax,y:a?x.y.apply(p,{position:"end"}):x.y.rangeMax};return xl(i,"discard")&&(!x.isInRange(N)||!x.isInRange(A))?null:ND(N,A)},t0=(function(e){function t(){return $X(this,t),qX(this,t,arguments)}return WX(t,e),BX(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,c=n.y1,u=n.y2,f=n.className,p=n.alwaysShow,g=n.clipPathId;bc(p===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Qn(a),x=Qn(i),N=Qn(c),A=Qn(u),C=this.props.shape;if(!m&&!x&&!N&&!A&&!C)return null;var _=VX(m,x,N,A,this.props);if(!_&&!C)return null;var O=xl(this.props,"hidden")?"url(#".concat(g,")"):void 0;return Z.createElement(ma,{className:Et("recharts-reference-area",f)},t.renderRect(C,PO(PO({clipPath:O},ar(this.props,!0)),_)),za.renderCallByParent(this.props,_))}}])})(Z.Component);e0(t0,"displayName","ReferenceArea");e0(t0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});e0(t0,"renderRect",function(e,t){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,t):Bt(e)?r=e(t):r=Z.createElement(zj,mN({},t,{className:"recharts-reference-area-rect"})),r});function $D(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function GX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ZY(n,r)}function KX(e,t,r){var n=r==="width",a=e.x,i=e.y,c=e.width,u=e.height;return t===1?{start:n?a:i,end:n?a+c:i+u}:{start:n?a+c:i+u,end:n?a:i}}function cv(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function YX(e,t){return $D(e,t+1)}function XX(e,t,r,n,a){for(var i=(n||[]).slice(),c=t.start,u=t.end,f=0,p=1,g=c,m=function(){var A=n?.[f];if(A===void 0)return{v:$D(n,p)};var C=f,_,O=function(){return _===void 0&&(_=r(A,C)),_},R=A.coordinate,D=f===0||cv(e,R,O,g,u);D||(f=0,g=c,p+=1),D&&(g=R+e*(O()/2+a),f+=p)},x;p<=i.length;)if(x=m(),x)return x.v;return[]}function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){QX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t,r){return t=ZX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=JX(e,"string");return Zh(t)=="symbol"?t:t+""}function JX(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eQ(e,t,r,n,a){for(var i=(n||[]).slice(),c=i.length,u=t.start,f=t.end,p=function(x){var N=i[x],A,C=function(){return A===void 0&&(A=r(N,x)),A};if(x===c-1){var _=e*(N.coordinate+e*C()/2-f);i[x]=N=Ua(Ua({},N),{},{tickCoord:_>0?N.coordinate-_*e:N.coordinate})}else i[x]=N=Ua(Ua({},N),{},{tickCoord:N.coordinate});var O=cv(e,N.tickCoord,C,u,f);O&&(f=N.tickCoord-e*(C()/2+a),i[x]=Ua(Ua({},N),{},{isShow:!0}))},g=c-1;g>=0;g--)p(g);return i}function tQ(e,t,r,n,a,i){var c=(n||[]).slice(),u=c.length,f=t.start,p=t.end;if(i){var g=n[u-1],m=r(g,u-1),x=e*(g.coordinate+e*m/2-p);c[u-1]=g=Ua(Ua({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate});var N=cv(e,g.tickCoord,function(){return m},f,p);N&&(p=g.tickCoord-e*(m/2+a),c[u-1]=Ua(Ua({},g),{},{isShow:!0}))}for(var A=i?u-1:u,C=function(R){var D=c[R],$,k=function(){return $===void 0&&($=r(D,R)),$};if(R===0){var M=e*(D.coordinate-e*k()/2-f);c[R]=D=Ua(Ua({},D),{},{tickCoord:M<0?D.coordinate-M*e:D.coordinate})}else c[R]=D=Ua(Ua({},D),{},{tickCoord:D.coordinate});var L=cv(e,D.tickCoord,k,f,p);L&&(f=D.tickCoord+e*(k()/2+a),c[R]=Ua(Ua({},D),{},{isShow:!0}))},_=0;_<A;_++)C(_);return c}function Qj(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,c=e.minTickGap,u=e.orientation,f=e.interval,p=e.tickFormatter,g=e.unit,m=e.angle;if(!a||!a.length||!n)return[];if(Ge(f)||og.isSsr)return YX(a,typeof f=="number"&&Ge(f)?f:0);var x=[],N=u==="top"||u==="bottom"?"width":"height",A=g&&N==="width"?fh(g,{fontSize:t,letterSpacing:r}):{width:0,height:0},C=function(D,$){var k=Bt(p)?p(D.value,$):D.value;return N==="width"?GX(fh(k,{fontSize:t,letterSpacing:r}),A,m):fh(k,{fontSize:t,letterSpacing:r})[N]},_=a.length>=2?Co(a[1].coordinate-a[0].coordinate):1,O=KX(i,_,N);return f==="equidistantPreserveStart"?XX(_,O,C,a,c):(f==="preserveStart"||f==="preserveStartEnd"?x=tQ(_,O,C,a,c,f==="preserveStartEnd"):x=eQ(_,O,C,a,c),x.filter(function(R){return R.isShow}))}var rQ=["viewBox"],nQ=["viewBox"],aQ=["ticks"];function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(this,arguments)}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){Zj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M1(e,t){if(e==null)return{};var r=sQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BD(n.key),n)}}function oQ(e,t,r){return t&&TO(e.prototype,t),r&&TO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lQ(e,t,r){return t=uv(t),cQ(e,FD()?Reflect.construct(t,r||[],uv(e).constructor):t.apply(e,r))}function cQ(e,t){if(t&&(Lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uQ(e)}function uQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FD=function(){return!!e})()}function uv(e){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uv(e)}function dQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gN(e,t)}function gN(e,t){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gN(e,t)}function Zj(e,t,r){return t=BD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BD(e){var t=fQ(e,"string");return Lp(t)=="symbol"?t:t+""}function fQ(e,t){if(Lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xp=(function(e){function t(r){var n;return iQ(this,t),n=lQ(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return dQ(t,e),oQ(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,c=M1(n,rQ),u=this.props,f=u.viewBox,p=M1(u,nQ);return!pp(i,f)||!pp(c,p)||!pp(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,c=a.y,u=a.width,f=a.height,p=a.orientation,g=a.tickSize,m=a.mirror,x=a.tickMargin,N,A,C,_,O,R,D=m?-1:1,$=n.tickSize||g,k=Ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(p){case"top":N=A=n.coordinate,_=c+ +!m*f,C=_-D*$,R=C-D*x,O=k;break;case"left":C=_=n.coordinate,A=i+ +!m*u,N=A-D*$,O=N-D*x,R=k;break;case"right":C=_=n.coordinate,A=i+ +m*u,N=A+D*$,O=N+D*x,R=k;break;default:N=A=n.coordinate,_=c+ +m*f,C=_+D*$,R=C+D*x,O=k;break}return{line:{x1:N,y1:C,x2:A,y2:_},tick:{x:O,y:R}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,c;switch(a){case"left":c=i?"start":"end";break;case"right":c=i?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,c="end";switch(a){case"left":case"right":c="middle";break;case"top":c=i?"start":"end";break;default:c=i?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,c=n.width,u=n.height,f=n.orientation,p=n.mirror,g=n.axisLine,m=Kn(Kn(Kn({},ar(this.props,!1)),ar(g,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var x=+(f==="top"&&!p||f==="bottom"&&p);m=Kn(Kn({},m),{},{x1:a,y1:i+x*u,x2:a+c,y2:i+x*u})}else{var N=+(f==="left"&&!p||f==="right"&&p);m=Kn(Kn({},m),{},{x1:a+N*c,y1:i,x2:a+N*c,y2:i+u})}return Z.createElement("line",up({},m,{className:Et("recharts-cartesian-axis-line",Bi(g,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var c=this,u=this.props,f=u.tickLine,p=u.stroke,g=u.tick,m=u.tickFormatter,x=u.unit,N=Qj(Kn(Kn({},this.props),{},{ticks:n}),a,i),A=this.getTickTextAnchor(),C=this.getTickVerticalAnchor(),_=ar(this.props,!1),O=ar(g,!1),R=Kn(Kn({},_),{},{fill:"none"},ar(f,!1)),D=N.map(function($,k){var M=c.getTickLineCoord($),L=M.line,B=M.tick,V=Kn(Kn(Kn(Kn({textAnchor:A,verticalAnchor:C},_),{},{stroke:"none",fill:p},O),B),{},{index:k,payload:$,visibleTicksCount:N.length,tickFormatter:m});return Z.createElement(ma,up({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},wy(c.props,$,k)),f&&Z.createElement("line",up({},R,L,{className:Et("recharts-cartesian-axis-tick-line",Bi(f,"className"))})),g&&t.renderTickItem(g,V,"".concat(Bt(m)?m($.value,k):$.value).concat(x||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},D)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,c=a.width,u=a.height,f=a.ticksGenerator,p=a.className,g=a.hide;if(g)return null;var m=this.props,x=m.ticks,N=M1(m,aQ),A=x;return Bt(f)&&(A=x&&x.length>0?f(this.props):f(N)),c<=0||u<=0||!A||!A.length?null:Z.createElement(ma,{className:Et("recharts-cartesian-axis",p),ref:function(_){n.layerReference=_}},i&&this.renderAxisLine(),this.renderTicks(A,this.state.fontSize,this.state.letterSpacing),za.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var c,u=Et(a.className,"recharts-cartesian-axis-tick-value");return Z.isValidElement(n)?c=Z.cloneElement(n,Kn(Kn({},a),{},{className:u})):Bt(n)?c=n(Kn(Kn({},a),{},{className:u})):c=Z.createElement(Ty,up({},a,{className:"recharts-cartesian-axis-tick-value"}),i),c}}])})(y.Component);Zj(Xp,"displayName","CartesianAxis");Zj(Xp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pQ=["x1","y1","x2","y2","key"],mQ=["offset"];function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){hQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hQ(e,t,r){return t=gQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=yQ(e,"string");return Kd(t)=="symbol"?t:t+""}function yQ(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(this,arguments)}function RO(e,t){if(e==null)return{};var r=vQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bQ=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,c=t.width,u=t.height,f=t.ry;return Z.createElement("rect",{x:a,y:i,ry:f,width:c,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function qD(e,t){var r;if(Z.isValidElement(e))r=Z.cloneElement(e,t);else if(Bt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,c=t.y2,u=t.key,f=RO(t,pQ),p=ar(f,!1);p.offset;var g=RO(p,mQ);r=Z.createElement("line",Fd({},g,{x1:n,y1:a,x2:i,y2:c,fill:"none",key:u}))}return r}function xQ(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var c=i.map(function(u,f){var p=Wa(Wa({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(f),index:f});return qD(a,p)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function wQ(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var c=i.map(function(u,f){var p=Wa(Wa({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(f),index:f});return qD(a,p)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function SQ(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,c=e.height,u=e.horizontalPoints,f=e.horizontal,p=f===void 0?!0:f;if(!p||!t||!t.length)return null;var g=u.map(function(x){return Math.round(x+a-a)}).sort(function(x,N){return x-N});a!==g[0]&&g.unshift(0);var m=g.map(function(x,N){var A=!g[N+1],C=A?a+c-x:g[N+1]-x;if(C<=0)return null;var _=N%t.length;return Z.createElement("rect",{key:"react-".concat(N),y:x,x:n,height:C,width:i,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function NQ(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,c=e.y,u=e.width,f=e.height,p=e.verticalPoints;if(!r||!n||!n.length)return null;var g=p.map(function(x){return Math.round(x+i-i)}).sort(function(x,N){return x-N});i!==g[0]&&g.unshift(0);var m=g.map(function(x,N){var A=!g[N+1],C=A?i+u-x:g[N+1]-x;if(C<=0)return null;var _=N%n.length;return Z.createElement("rect",{key:"react-".concat(N),x,y:c,width:C,height:f,stroke:"none",fill:n[_],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var jQ=function(t,r){var n=t.xAxis,a=t.width,i=t.height,c=t.offset;return eD(Qj(Wa(Wa(Wa({},Xp.defaultProps),n),{},{ticks:hc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),c.left,c.left+c.width,r)},_Q=function(t,r){var n=t.yAxis,a=t.width,i=t.height,c=t.offset;return eD(Qj(Wa(Wa(Wa({},Xp.defaultProps),n),{},{ticks:hc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),c.top,c.top+c.height,r)},sp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function UD(e){var t,r,n,a,i,c,u=Gj(),f=Kj(),p=fX(),g=Wa(Wa({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:sp.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:sp.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:sp.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:sp.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:sp.vertical,verticalFill:(c=e.verticalFill)!==null&&c!==void 0?c:sp.verticalFill,x:Ge(e.x)?e.x:p.left,y:Ge(e.y)?e.y:p.top,width:Ge(e.width)?e.width:p.width,height:Ge(e.height)?e.height:p.height}),m=g.x,x=g.y,N=g.width,A=g.height,C=g.syncWithTicks,_=g.horizontalValues,O=g.verticalValues,R=cX(),D=uX();if(!Ge(N)||N<=0||!Ge(A)||A<=0||!Ge(m)||m!==+m||!Ge(x)||x!==+x)return null;var $=g.verticalCoordinatesGenerator||jQ,k=g.horizontalCoordinatesGenerator||_Q,M=g.horizontalPoints,L=g.verticalPoints;if((!M||!M.length)&&Bt(k)){var B=_&&_.length,V=k({yAxis:D?Wa(Wa({},D),{},{ticks:B?_:D.ticks}):void 0,width:u,height:f,offset:p},B?!0:C);bc(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Kd(V),"]")),Array.isArray(V)&&(M=V)}if((!L||!L.length)&&Bt($)){var J=O&&O.length,K=$({xAxis:R?Wa(Wa({},R),{},{ticks:J?O:R.ticks}):void 0,width:u,height:f,offset:p},J?!0:C);bc(Array.isArray(K),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Kd(K),"]")),Array.isArray(K)&&(L=K)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(bQ,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),Z.createElement(xQ,Fd({},g,{offset:p,horizontalPoints:M,xAxis:R,yAxis:D})),Z.createElement(wQ,Fd({},g,{offset:p,verticalPoints:L,xAxis:R,yAxis:D})),Z.createElement(SQ,Fd({},g,{horizontalPoints:M})),Z.createElement(NQ,Fd({},g,{verticalPoints:L})))}UD.displayName="CartesianGrid";function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function CQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HD(n.key),n)}}function AQ(e,t,r){return t&&EQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PQ(e,t,r){return t=dv(t),kQ(e,zD()?Reflect.construct(t,r||[],dv(e).constructor):t.apply(e,r))}function kQ(e,t){if(t&&($p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OQ(e)}function OQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zD=function(){return!!e})()}function dv(e){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dv(e)}function TQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yN(e,t)}function yN(e,t){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yN(e,t)}function WD(e,t,r){return t=HD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HD(e){var t=IQ(e,"string");return $p(t)=="symbol"?t:t+""}function IQ(e,t){if($p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vN.apply(this,arguments)}function RQ(e){var t=e.xAxisId,r=Gj(),n=Kj(),a=kD(t);return a==null?null:y.createElement(Xp,vN({},a,{className:Et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(c){return hc(c,!0)}}))}var r0=(function(e){function t(){return CQ(this,t),PQ(this,t,arguments)}return TQ(t,e),AQ(t,[{key:"render",value:function(){return y.createElement(RQ,this.props)}}])})(y.Component);WD(r0,"displayName","XAxis");WD(r0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function MQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KD(n.key),n)}}function LQ(e,t,r){return t&&DQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Q(e,t,r){return t=fv(t),FQ(e,VD()?Reflect.construct(t,r||[],fv(e).constructor):t.apply(e,r))}function FQ(e,t){if(t&&(Fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BQ(e)}function BQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VD=function(){return!!e})()}function fv(e){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fv(e)}function qQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bN(e,t)}function bN(e,t){return bN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bN(e,t)}function GD(e,t,r){return t=KD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KD(e){var t=UQ(e,"string");return Fp(t)=="symbol"?t:t+""}function UQ(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xN.apply(this,arguments)}var zQ=function(t){var r=t.yAxisId,n=Gj(),a=Kj(),i=OD(r);return i==null?null:y.createElement(Xp,xN({},i,{className:Et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(u){return hc(u,!0)}}))},n0=(function(e){function t(){return MQ(this,t),$Q(this,t,arguments)}return qQ(t,e),LQ(t,[{key:"render",value:function(){return y.createElement(zQ,this.props)}}])})(y.Component);GD(n0,"displayName","YAxis");GD(n0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function MO(e){return GQ(e)||VQ(e)||HQ(e)||WQ()}function WQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HQ(e,t){if(e){if(typeof e=="string")return wN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wN(e,t)}}function VQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GQ(e){if(Array.isArray(e))return wN(e)}function wN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var SN=function(t,r,n,a,i){var c=Eo(t,Xj),u=Eo(t,Jv),f=[].concat(MO(c),MO(u)),p=Eo(t,t0),g="".concat(a,"Id"),m=a[0],x=r;if(f.length&&(x=f.reduce(function(C,_){if(_.props[g]===n&&xl(_.props,"extendDomain")&&Ge(_.props[m])){var O=_.props[m];return[Math.min(C[0],O),Math.max(C[1],O)]}return C},x)),p.length){var N="".concat(m,"1"),A="".concat(m,"2");x=p.reduce(function(C,_){if(_.props[g]===n&&xl(_.props,"extendDomain")&&Ge(_.props[N])&&Ge(_.props[A])){var O=_.props[N],R=_.props[A];return[Math.min(C[0],O,R),Math.max(C[1],O,R)]}return C},x)}return i&&i.length&&(x=i.reduce(function(C,_){return Ge(_)?[Math.min(C[0],_),Math.max(C[1],_)]:C},x)),x},D1={exports:{}},DO;function KQ(){return DO||(DO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,p,g){this.fn=f,this.context=p,this.once=g||!1}function i(f,p,g,m,x){if(typeof g!="function")throw new TypeError("The listener must be a function");var N=new a(g,m||f,x),A=r?r+p:p;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],N]:f._events[A].push(N):(f._events[A]=N,f._eventsCount++),f}function c(f,p){--f._eventsCount===0?f._events=new n:delete f._events[p]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var p=[],g,m;if(this._eventsCount===0)return p;for(m in g=this._events)t.call(g,m)&&p.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},u.prototype.listeners=function(p){var g=r?r+p:p,m=this._events[g];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,N=m.length,A=new Array(N);x<N;x++)A[x]=m[x].fn;return A},u.prototype.listenerCount=function(p){var g=r?r+p:p,m=this._events[g];return m?m.fn?1:m.length:0},u.prototype.emit=function(p,g,m,x,N,A){var C=r?r+p:p;if(!this._events[C])return!1;var _=this._events[C],O=arguments.length,R,D;if(_.fn){switch(_.once&&this.removeListener(p,_.fn,void 0,!0),O){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,g),!0;case 3:return _.fn.call(_.context,g,m),!0;case 4:return _.fn.call(_.context,g,m,x),!0;case 5:return _.fn.call(_.context,g,m,x,N),!0;case 6:return _.fn.call(_.context,g,m,x,N,A),!0}for(D=1,R=new Array(O-1);D<O;D++)R[D-1]=arguments[D];_.fn.apply(_.context,R)}else{var $=_.length,k;for(D=0;D<$;D++)switch(_[D].once&&this.removeListener(p,_[D].fn,void 0,!0),O){case 1:_[D].fn.call(_[D].context);break;case 2:_[D].fn.call(_[D].context,g);break;case 3:_[D].fn.call(_[D].context,g,m);break;case 4:_[D].fn.call(_[D].context,g,m,x);break;default:if(!R)for(k=1,R=new Array(O-1);k<O;k++)R[k-1]=arguments[k];_[D].fn.apply(_[D].context,R)}}return!0},u.prototype.on=function(p,g,m){return i(this,p,g,m,!1)},u.prototype.once=function(p,g,m){return i(this,p,g,m,!0)},u.prototype.removeListener=function(p,g,m,x){var N=r?r+p:p;if(!this._events[N])return this;if(!g)return c(this,N),this;var A=this._events[N];if(A.fn)A.fn===g&&(!x||A.once)&&(!m||A.context===m)&&c(this,N);else{for(var C=0,_=[],O=A.length;C<O;C++)(A[C].fn!==g||x&&!A[C].once||m&&A[C].context!==m)&&_.push(A[C]);_.length?this._events[N]=_.length===1?_[0]:_:c(this,N)}return this},u.prototype.removeAllListeners=function(p){var g;return p?(g=r?r+p:p,this._events[g]&&c(this,g)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(D1)),D1.exports}var YQ=KQ();const XQ=wr(YQ);var L1=new XQ,$1="recharts.syncMouseEvents";function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function QQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YD(n.key),n)}}function JQ(e,t,r){return t&&ZQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F1(e,t,r){return t=YD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YD(e){var t=eZ(e,"string");return Jh(t)=="symbol"?t:t+""}function eZ(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tZ=(function(){function e(){QQ(this,e),F1(this,"activeIndex",0),F1(this,"coordinateList",[]),F1(this,"layout","horizontal")}return JQ(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,c=r.container,u=c===void 0?null:c,f=r.layout,p=f===void 0?null:f,g=r.offset,m=g===void 0?null:g,x=r.mouseHandlerCallback,N=x===void 0?null:x;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=p??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=N??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,c=a.y,u=a.height,f=this.coordinateList[this.activeIndex].coordinate,p=((r=window)===null||r===void 0?void 0:r.scrollX)||0,g=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+f+p,x=c+this.offset.top+u/2+g;this.mouseHandlerCallback({pageX:m,pageY:x})}}}])})();function rZ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&Ge(n)&&Ge(a))return!0}return!1}function nZ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function XD(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,c=Aa(t,r,n,a),u=Aa(t,r,n,i);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function aZ(e,t,r){var n,a,i,c;if(e==="horizontal")n=t.x,i=n,a=r.top,c=r.top+r.height;else if(e==="vertical")a=t.y,c=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,f=t.cy,p=t.innerRadius,g=t.outerRadius,m=t.angle,x=Aa(u,f,p,m),N=Aa(u,f,g,m);n=x.x,a=x.y,i=N.x,c=N.y}else return XD(t);return[{x:n,y:a},{x:i,y:c}]}function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){sZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sZ(e,t,r){return t=iZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iZ(e){var t=oZ(e,"string");return eg(t)=="symbol"?t:t+""}function oZ(e,t){if(eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lZ(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,c=e.activeCoordinate,u=e.activePayload,f=e.offset,p=e.activeTooltipIndex,g=e.tooltipAxisBandSize,m=e.layout,x=e.chartName,N=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!N||!i||!c||x!=="ScatterChart"&&a!=="axis")return null;var A,C=mk;if(x==="ScatterChart")A=c,C=bK;else if(x==="BarChart")A=nZ(m,c,f,g),C=zj;else if(m==="radial"){var _=XD(c),O=_.cx,R=_.cy,D=_.radius,$=_.startAngle,k=_.endAngle;A={cx:O,cy:R,startAngle:$,endAngle:k,innerRadius:D,outerRadius:D},C=sD}else A={points:aZ(m,c,f)},C=mk;var M=ny(ny(ny(ny({stroke:"#ccc",pointerEvents:"none"},f),A),ar(N,!1)),{},{payload:u,payloadIndex:p,className:Et("recharts-tooltip-cursor",N.className)});return y.isValidElement(N)?y.cloneElement(N,M):y.createElement(C,M)}var cZ=["item"],uZ=["children","className","width","height","style","compact","title","desc"];function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(this,arguments)}function $O(e,t){return pZ(e)||fZ(e,t)||ZD(e,t)||dZ()}function dZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,c,u=[],f=!0,p=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(f=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){p=!0,a=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function pZ(e){if(Array.isArray(e))return e}function FO(e,t){if(e==null)return{};var r=mZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JD(n.key),n)}}function yZ(e,t,r){return t&&gZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vZ(e,t,r){return t=pv(t),bZ(e,QD()?Reflect.construct(t,r||[],pv(e).constructor):t.apply(e,r))}function bZ(e,t){if(t&&(Bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xZ(e)}function xZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QD=function(){return!!e})()}function pv(e){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pv(e)}function wZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NN(e,t)}function NN(e,t){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NN(e,t)}function qp(e){return jZ(e)||NZ(e)||ZD(e)||SZ()}function SZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZD(e,t){if(e){if(typeof e=="string")return jN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jN(e,t)}}function NZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jZ(e){if(Array.isArray(e))return jN(e)}function jN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){At(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function At(e,t,r){return t=JD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JD(e){var t=_Z(e,"string");return Bp(t)=="symbol"?t:t+""}function _Z(e,t){if(Bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CZ={xAxis:["bottom","top"],yAxis:["left","right"]},EZ={width:"100%",height:"100%"},eL={x:0,y:0};function ay(e){return e}var AZ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},PZ=function(t,r,n,a){var i=r.find(function(g){return g&&g.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var c=i.coordinate,u=a.radius;return Pe(Pe(Pe({},a),Aa(a.cx,a.cy,u,c)),{},{angle:c,radius:u})}var f=i.coordinate,p=a.angle;return Pe(Pe(Pe({},a),Aa(a.cx,a.cy,f,p)),{},{angle:p,radius:f})}return eL},a0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,c=(n??[]).reduce(function(u,f){var p=f.props.data;return p&&p.length?[].concat(qp(u),qp(p)):u},[]);return c.length>0?c:t&&t.length&&Ge(a)&&Ge(i)?t.slice(a,i+1):[]};function tL(e){return e==="number"?[0,"auto"]:void 0}var _N=function(t,r,n,a){var i=t.graphicalItems,c=t.tooltipAxis,u=a0(r,t);return n<0||!i||!i.length||n>=u.length?null:i.reduce(function(f,p){var g,m=(g=p.props.data)!==null&&g!==void 0?g:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(c.dataKey&&!c.allowDuplicatedCategory){var N=m===void 0?u:m;x=dS(N,c.dataKey,a)}else x=m&&m[n]||u[n];return x?[].concat(qp(f),[rD(p,x)]):f},[])},qO=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},c=AZ(i,n),u=t.orderedTooltipTicks,f=t.tooltipAxis,p=t.tooltipTicks,g=tH(c,u,p,f);if(g>=0&&p){var m=p[g]&&p[g].value,x=_N(t,r,g,m),N=PZ(n,u,g,i);return{activeTooltipIndex:g,activeLabel:m,activePayload:x,activeCoordinate:N}}return null},kZ=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,c=r.axisIdKey,u=r.stackGroups,f=r.dataStartIndex,p=r.dataEndIndex,g=t.layout,m=t.children,x=t.stackOffset,N=JM(g,i);return n.reduce(function(A,C){var _,O=C.type.defaultProps!==void 0?Pe(Pe({},C.type.defaultProps),C.props):C.props,R=O.type,D=O.dataKey,$=O.allowDataOverflow,k=O.allowDuplicatedCategory,M=O.scale,L=O.ticks,B=O.includeHidden,V=O[c];if(A[V])return A;var J=a0(t.data,{graphicalItems:a.filter(function(Q){var fe,je=c in Q.props?Q.props[c]:(fe=Q.type.defaultProps)===null||fe===void 0?void 0:fe[c];return je===V}),dataStartIndex:f,dataEndIndex:p}),K=J.length,ce,ue,de;rZ(O.domain,$,R)&&(ce=HS(O.domain,null,$),N&&(R==="number"||M!=="auto")&&(de=mh(J,D,"category")));var G=tL(R);if(!ce||ce.length===0){var ne,pe=(ne=O.domain)!==null&&ne!==void 0?ne:G;if(D){if(ce=mh(J,D,R),R==="category"&&N){var Y=VF(ce);k&&Y?(ue=ce,ce=tv(0,K)):k||(ce=ek(pe,ce,C).reduce(function(Q,fe){return Q.indexOf(fe)>=0?Q:[].concat(qp(Q),[fe])},[]))}else if(R==="category")k?ce=ce.filter(function(Q){return Q!==""&&!sr(Q)}):ce=ek(pe,ce,C).reduce(function(Q,fe){return Q.indexOf(fe)>=0||fe===""||sr(fe)?Q:[].concat(qp(Q),[fe])},[]);else if(R==="number"){var he=iH(J,a.filter(function(Q){var fe,je,Ie=c in Q.props?Q.props[c]:(fe=Q.type.defaultProps)===null||fe===void 0?void 0:fe[c],qe="hide"in Q.props?Q.props.hide:(je=Q.type.defaultProps)===null||je===void 0?void 0:je.hide;return Ie===V&&(B||!qe)}),D,i,g);he&&(ce=he)}N&&(R==="number"||M!=="auto")&&(de=mh(J,D,"category"))}else N?ce=tv(0,K):u&&u[V]&&u[V].hasStack&&R==="number"?ce=x==="expand"?[0,1]:tD(u[V].stackGroups,f,p):ce=ZM(J,a.filter(function(Q){var fe=c in Q.props?Q.props[c]:Q.type.defaultProps[c],je="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return fe===V&&(B||!je)}),R,g,!0);if(R==="number")ce=SN(m,ce,V,i,L),pe&&(ce=HS(pe,ce,$));else if(R==="category"&&pe){var ve=pe,U=ce.every(function(Q){return ve.indexOf(Q)>=0});U&&(ce=ve)}}return Pe(Pe({},A),{},At({},V,Pe(Pe({},O),{},{axisType:i,domain:ce,categoricalDomain:de,duplicateDomain:ue,originalDomain:(_=O.domain)!==null&&_!==void 0?_:G,isCategorical:N,layout:g})))},{})},OZ=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,c=r.axisIdKey,u=r.stackGroups,f=r.dataStartIndex,p=r.dataEndIndex,g=t.layout,m=t.children,x=a0(t.data,{graphicalItems:n,dataStartIndex:f,dataEndIndex:p}),N=x.length,A=JM(g,i),C=-1;return n.reduce(function(_,O){var R=O.type.defaultProps!==void 0?Pe(Pe({},O.type.defaultProps),O.props):O.props,D=R[c],$=tL("number");if(!_[D]){C++;var k;return A?k=tv(0,N):u&&u[D]&&u[D].hasStack?(k=tD(u[D].stackGroups,f,p),k=SN(m,k,D,i)):(k=HS($,ZM(x,n.filter(function(M){var L,B,V=c in M.props?M.props[c]:(L=M.type.defaultProps)===null||L===void 0?void 0:L[c],J="hide"in M.props?M.props.hide:(B=M.type.defaultProps)===null||B===void 0?void 0:B.hide;return V===D&&!J}),"number",g),a.defaultProps.allowDataOverflow),k=SN(m,k,D,i)),Pe(Pe({},_),{},At({},D,Pe(Pe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Bi(CZ,"".concat(i,".").concat(C%2),null),domain:k,originalDomain:$,isCategorical:A,layout:g})))}return _},{})},TZ=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,c=r.graphicalItems,u=r.stackGroups,f=r.dataStartIndex,p=r.dataEndIndex,g=t.children,m="".concat(a,"Id"),x=Eo(g,i),N={};return x&&x.length?N=kZ(t,{axes:x,graphicalItems:c,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:f,dataEndIndex:p}):c&&c.length&&(N=OZ(t,{Axis:i,graphicalItems:c,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:f,dataEndIndex:p})),N},IZ=function(t){var r=xu(t),n=hc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:hj(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Vy(r,n)}},UO=function(t){var r=t.children,n=t.defaultShowTooltip,a=ui(r,Tp),i=0,c=0;return t.data&&t.data.length!==0&&(c=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(c=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!n}},RZ=function(t){return!t||!t.length?!1:t.some(function(r){var n=vc(r&&r.type);return n&&n.indexOf("Bar")>=0})},zO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},MZ=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,c=i===void 0?{}:i,u=t.yAxisMap,f=u===void 0?{}:u,p=n.width,g=n.height,m=n.children,x=n.margin||{},N=ui(m,Tp),A=ui(m,mp),C=Object.keys(f).reduce(function(k,M){var L=f[M],B=L.orientation;return!L.mirror&&!L.hide?Pe(Pe({},k),{},At({},B,k[B]+L.width)):k},{left:x.left||0,right:x.right||0}),_=Object.keys(c).reduce(function(k,M){var L=c[M],B=L.orientation;return!L.mirror&&!L.hide?Pe(Pe({},k),{},At({},B,Bi(k,"".concat(B))+L.height)):k},{top:x.top||0,bottom:x.bottom||0}),O=Pe(Pe({},_),C),R=O.bottom;N&&(O.bottom+=N.props.height||Tp.defaultProps.height),A&&r&&(O=aH(O,a,n,r));var D=p-O.left-O.right,$=g-O.top-O.bottom;return Pe(Pe({brushBottom:R},O),{},{width:Math.max(D,0),height:Math.max($,0)})},DZ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},LZ=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,c=t.validateTooltipEventTypes,u=c===void 0?["axis"]:c,f=t.axisComponents,p=t.legendContent,g=t.formatAxisMap,m=t.defaultProps,x=function(O,R){var D=R.graphicalItems,$=R.stackGroups,k=R.offset,M=R.updateId,L=R.dataStartIndex,B=R.dataEndIndex,V=O.barSize,J=O.layout,K=O.barGap,ce=O.barCategoryGap,ue=O.maxBarSize,de=zO(J),G=de.numericAxisName,ne=de.cateAxisName,pe=RZ(D),Y=[];return D.forEach(function(he,ve){var U=a0(O.data,{graphicalItems:[he],dataStartIndex:L,dataEndIndex:B}),Q=he.type.defaultProps!==void 0?Pe(Pe({},he.type.defaultProps),he.props):he.props,fe=Q.dataKey,je=Q.maxBarSize,Ie=Q["".concat(G,"Id")],qe=Q["".concat(ne,"Id")],Ve={},Me=f.reduce(function(Ct,gt){var fr=R["".concat(gt.axisType,"Map")],en=Q["".concat(gt.axisType,"Id")];fr&&fr[en]||gt.axisType==="zAxis"||Gd();var Sr=fr[en];return Pe(Pe({},Ct),{},At(At({},gt.axisType,Sr),"".concat(gt.axisType,"Ticks"),hc(Sr)))},Ve),Ae=Me[ne],We=Me["".concat(ne,"Ticks")],et=$&&$[Ie]&&$[Ie].hasStack&&vH(he,$[Ie].stackGroups),Ee=vc(he.type).indexOf("Bar")>=0,lt=Vy(Ae,We),wt=[],ht=pe&&rH({barSize:V,stackGroups:$,totalSize:DZ(Me,ne)});if(Ee){var _t,Re,Ue=sr(je)?ue:je,tt=(_t=(Re=Vy(Ae,We,!0))!==null&&Re!==void 0?Re:Ue)!==null&&_t!==void 0?_t:0;wt=nH({barGap:K,barCategoryGap:ce,bandSize:tt!==lt?tt:lt,sizeList:ht[qe],maxBarSize:Ue}),tt!==lt&&(wt=wt.map(function(Ct){return Pe(Pe({},Ct),{},{position:Pe(Pe({},Ct.position),{},{offset:Ct.position.offset-tt/2})})}))}var rt=he&&he.type&&he.type.getComposedData;rt&&Y.push({props:Pe(Pe({},rt(Pe(Pe({},Me),{},{displayedData:U,props:O,dataKey:fe,item:he,bandSize:lt,barPosition:wt,offset:k,stackedData:et,layout:J,dataStartIndex:L,dataEndIndex:B}))),{},At(At(At({key:he.key||"item-".concat(ve)},G,Me[G]),ne,Me[ne]),"animationId",M)),childIndex:a6(he,O.children),item:he})}),Y},N=function(O,R){var D=O.props,$=O.dataStartIndex,k=O.dataEndIndex,M=O.updateId;if(!hE({props:D}))return null;var L=D.children,B=D.layout,V=D.stackOffset,J=D.data,K=D.reverseStackOrder,ce=zO(B),ue=ce.numericAxisName,de=ce.cateAxisName,G=Eo(L,n),ne=hH(J,G,"".concat(ue,"Id"),"".concat(de,"Id"),V,K),pe=f.reduce(function(Q,fe){var je="".concat(fe.axisType,"Map");return Pe(Pe({},Q),{},At({},je,TZ(D,Pe(Pe({},fe),{},{graphicalItems:G,stackGroups:fe.axisType===ue&&ne,dataStartIndex:$,dataEndIndex:k}))))},{}),Y=MZ(Pe(Pe({},pe),{},{props:D,graphicalItems:G}),R?.legendBBox);Object.keys(pe).forEach(function(Q){pe[Q]=g(D,pe[Q],Y,Q.replace("Map",""),r)});var he=pe["".concat(de,"Map")],ve=IZ(he),U=x(D,Pe(Pe({},pe),{},{dataStartIndex:$,dataEndIndex:k,updateId:M,graphicalItems:G,stackGroups:ne,offset:Y}));return Pe(Pe({formattedGraphicalItems:U,graphicalItems:G,offset:Y,stackGroups:ne},ve),pe)},A=(function(_){function O(R){var D,$,k;return hZ(this,O),k=vZ(this,O,[R]),At(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),At(k,"accessibilityManager",new tZ),At(k,"handleLegendBBoxUpdate",function(M){if(M){var L=k.state,B=L.dataStartIndex,V=L.dataEndIndex,J=L.updateId;k.setState(Pe({legendBBox:M},N({props:k.props,dataStartIndex:B,dataEndIndex:V,updateId:J},Pe(Pe({},k.state),{},{legendBBox:M}))))}}),At(k,"handleReceiveSyncEvent",function(M,L,B){if(k.props.syncId===M){if(B===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(L)}}),At(k,"handleBrushChange",function(M){var L=M.startIndex,B=M.endIndex;if(L!==k.state.dataStartIndex||B!==k.state.dataEndIndex){var V=k.state.updateId;k.setState(function(){return Pe({dataStartIndex:L,dataEndIndex:B},N({props:k.props,dataStartIndex:L,dataEndIndex:B,updateId:V},k.state))}),k.triggerSyncEvent({dataStartIndex:L,dataEndIndex:B})}}),At(k,"handleMouseEnter",function(M){var L=k.getMouseInfo(M);if(L){var B=Pe(Pe({},L),{},{isTooltipActive:!0});k.setState(B),k.triggerSyncEvent(B);var V=k.props.onMouseEnter;Bt(V)&&V(B,M)}}),At(k,"triggeredAfterMouseMove",function(M){var L=k.getMouseInfo(M),B=L?Pe(Pe({},L),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(B),k.triggerSyncEvent(B);var V=k.props.onMouseMove;Bt(V)&&V(B,M)}),At(k,"handleItemMouseEnter",function(M){k.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),At(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),At(k,"handleMouseMove",function(M){M.persist(),k.throttleTriggeredAfterMouseMove(M)}),At(k,"handleMouseLeave",function(M){k.throttleTriggeredAfterMouseMove.cancel();var L={isTooltipActive:!1};k.setState(L),k.triggerSyncEvent(L);var B=k.props.onMouseLeave;Bt(B)&&B(L,M)}),At(k,"handleOuterEvent",function(M){var L=n6(M),B=Bi(k.props,"".concat(L));if(L&&Bt(B)){var V,J;/.*touch.*/i.test(L)?J=k.getMouseInfo(M.changedTouches[0]):J=k.getMouseInfo(M),B((V=J)!==null&&V!==void 0?V:{},M)}}),At(k,"handleClick",function(M){var L=k.getMouseInfo(M);if(L){var B=Pe(Pe({},L),{},{isTooltipActive:!0});k.setState(B),k.triggerSyncEvent(B);var V=k.props.onClick;Bt(V)&&V(B,M)}}),At(k,"handleMouseDown",function(M){var L=k.props.onMouseDown;if(Bt(L)){var B=k.getMouseInfo(M);L(B,M)}}),At(k,"handleMouseUp",function(M){var L=k.props.onMouseUp;if(Bt(L)){var B=k.getMouseInfo(M);L(B,M)}}),At(k,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),At(k,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&k.handleMouseDown(M.changedTouches[0])}),At(k,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&k.handleMouseUp(M.changedTouches[0])}),At(k,"handleDoubleClick",function(M){var L=k.props.onDoubleClick;if(Bt(L)){var B=k.getMouseInfo(M);L(B,M)}}),At(k,"handleContextMenu",function(M){var L=k.props.onContextMenu;if(Bt(L)){var B=k.getMouseInfo(M);L(B,M)}}),At(k,"triggerSyncEvent",function(M){k.props.syncId!==void 0&&L1.emit($1,k.props.syncId,M,k.eventEmitterSymbol)}),At(k,"applySyncEvent",function(M){var L=k.props,B=L.layout,V=L.syncMethod,J=k.state.updateId,K=M.dataStartIndex,ce=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)k.setState(Pe({dataStartIndex:K,dataEndIndex:ce},N({props:k.props,dataStartIndex:K,dataEndIndex:ce,updateId:J},k.state)));else if(M.activeTooltipIndex!==void 0){var ue=M.chartX,de=M.chartY,G=M.activeTooltipIndex,ne=k.state,pe=ne.offset,Y=ne.tooltipTicks;if(!pe)return;if(typeof V=="function")G=V(Y,M);else if(V==="value"){G=-1;for(var he=0;he<Y.length;he++)if(Y[he].value===M.activeLabel){G=he;break}}var ve=Pe(Pe({},pe),{},{x:pe.left,y:pe.top}),U=Math.min(ue,ve.x+ve.width),Q=Math.min(de,ve.y+ve.height),fe=Y[G]&&Y[G].value,je=_N(k.state,k.props.data,G),Ie=Y[G]?{x:B==="horizontal"?Y[G].coordinate:U,y:B==="horizontal"?Q:Y[G].coordinate}:eL;k.setState(Pe(Pe({},M),{},{activeLabel:fe,activeCoordinate:Ie,activePayload:je,activeTooltipIndex:G}))}else k.setState(M)}),At(k,"renderCursor",function(M){var L,B=k.state,V=B.isTooltipActive,J=B.activeCoordinate,K=B.activePayload,ce=B.offset,ue=B.activeTooltipIndex,de=B.tooltipAxisBandSize,G=k.getTooltipEventType(),ne=(L=M.props.active)!==null&&L!==void 0?L:V,pe=k.props.layout,Y=M.key||"_recharts-cursor";return Z.createElement(lZ,{key:Y,activeCoordinate:J,activePayload:K,activeTooltipIndex:ue,chartName:r,element:M,isActive:ne,layout:pe,offset:ce,tooltipAxisBandSize:de,tooltipEventType:G})}),At(k,"renderPolarAxis",function(M,L,B){var V=Bi(M,"type.axisType"),J=Bi(k.state,"".concat(V,"Map")),K=M.type.defaultProps,ce=K!==void 0?Pe(Pe({},K),M.props):M.props,ue=J&&J[ce["".concat(V,"Id")]];return y.cloneElement(M,Pe(Pe({},ue),{},{className:Et(V,ue.className),key:M.key||"".concat(L,"-").concat(B),ticks:hc(ue,!0)}))}),At(k,"renderPolarGrid",function(M){var L=M.props,B=L.radialLines,V=L.polarAngles,J=L.polarRadius,K=k.state,ce=K.radiusAxisMap,ue=K.angleAxisMap,de=xu(ce),G=xu(ue),ne=G.cx,pe=G.cy,Y=G.innerRadius,he=G.outerRadius;return y.cloneElement(M,{polarAngles:Array.isArray(V)?V:hc(G,!0).map(function(ve){return ve.coordinate}),polarRadius:Array.isArray(J)?J:hc(de,!0).map(function(ve){return ve.coordinate}),cx:ne,cy:pe,innerRadius:Y,outerRadius:he,key:M.key||"polar-grid",radialLines:B})}),At(k,"renderLegend",function(){var M=k.state.formattedGraphicalItems,L=k.props,B=L.children,V=L.width,J=L.height,K=k.props.margin||{},ce=V-(K.left||0)-(K.right||0),ue=XM({children:B,formattedGraphicalItems:M,legendWidth:ce,legendContent:p});if(!ue)return null;var de=ue.item,G=FO(ue,cZ);return y.cloneElement(de,Pe(Pe({},G),{},{chartWidth:V,chartHeight:J,margin:K,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),At(k,"renderTooltip",function(){var M,L=k.props,B=L.children,V=L.accessibilityLayer,J=ui(B,ul);if(!J)return null;var K=k.state,ce=K.isTooltipActive,ue=K.activeCoordinate,de=K.activePayload,G=K.activeLabel,ne=K.offset,pe=(M=J.props.active)!==null&&M!==void 0?M:ce;return y.cloneElement(J,{viewBox:Pe(Pe({},ne),{},{x:ne.left,y:ne.top}),active:pe,label:G,payload:pe?de:[],coordinate:ue,accessibilityLayer:V})}),At(k,"renderBrush",function(M){var L=k.props,B=L.margin,V=L.data,J=k.state,K=J.offset,ce=J.dataStartIndex,ue=J.dataEndIndex,de=J.updateId;return y.cloneElement(M,{key:M.key||"_recharts-brush",onChange:Jg(k.handleBrushChange,M.props.onChange),data:V,x:Ge(M.props.x)?M.props.x:K.left,y:Ge(M.props.y)?M.props.y:K.top+K.height+K.brushBottom-(B.bottom||0),width:Ge(M.props.width)?M.props.width:K.width,startIndex:ce,endIndex:ue,updateId:"brush-".concat(de)})}),At(k,"renderReferenceElement",function(M,L,B){if(!M)return null;var V=k,J=V.clipPathId,K=k.state,ce=K.xAxisMap,ue=K.yAxisMap,de=K.offset,G=M.type.defaultProps||{},ne=M.props,pe=ne.xAxisId,Y=pe===void 0?G.xAxisId:pe,he=ne.yAxisId,ve=he===void 0?G.yAxisId:he;return y.cloneElement(M,{key:M.key||"".concat(L,"-").concat(B),xAxis:ce[Y],yAxis:ue[ve],viewBox:{x:de.left,y:de.top,width:de.width,height:de.height},clipPathId:J})}),At(k,"renderActivePoints",function(M){var L=M.item,B=M.activePoint,V=M.basePoint,J=M.childIndex,K=M.isRange,ce=[],ue=L.props.key,de=L.item.type.defaultProps!==void 0?Pe(Pe({},L.item.type.defaultProps),L.item.props):L.item.props,G=de.activeDot,ne=de.dataKey,pe=Pe(Pe({index:J,dataKey:ne,cx:B.x,cy:B.y,r:4,fill:Uj(L.item),strokeWidth:2,stroke:"#fff",payload:B.payload,value:B.value},ar(G,!1)),xy(G));return ce.push(O.renderActiveDot(G,pe,"".concat(ue,"-activePoint-").concat(J))),V?ce.push(O.renderActiveDot(G,Pe(Pe({},pe),{},{cx:V.x,cy:V.y}),"".concat(ue,"-basePoint-").concat(J))):K&&ce.push(null),ce}),At(k,"renderGraphicChild",function(M,L,B){var V=k.filterFormatItem(M,L,B);if(!V)return null;var J=k.getTooltipEventType(),K=k.state,ce=K.isTooltipActive,ue=K.tooltipAxis,de=K.activeTooltipIndex,G=K.activeLabel,ne=k.props.children,pe=ui(ne,ul),Y=V.props,he=Y.points,ve=Y.isRange,U=Y.baseLine,Q=V.item.type.defaultProps!==void 0?Pe(Pe({},V.item.type.defaultProps),V.item.props):V.item.props,fe=Q.activeDot,je=Q.hide,Ie=Q.activeBar,qe=Q.activeShape,Ve=!!(!je&&ce&&pe&&(fe||Ie||qe)),Me={};J!=="axis"&&pe&&pe.props.trigger==="click"?Me={onClick:Jg(k.handleItemMouseEnter,M.props.onClick)}:J!=="axis"&&(Me={onMouseLeave:Jg(k.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:Jg(k.handleItemMouseEnter,M.props.onMouseEnter)});var Ae=y.cloneElement(M,Pe(Pe({},V.props),Me));function We(gt){return typeof ue.dataKey=="function"?ue.dataKey(gt.payload):null}if(Ve)if(de>=0){var et,Ee;if(ue.dataKey&&!ue.allowDuplicatedCategory){var lt=typeof ue.dataKey=="function"?We:"payload.".concat(ue.dataKey.toString());et=dS(he,lt,G),Ee=ve&&U&&dS(U,lt,G)}else et=he?.[de],Ee=ve&&U&&U[de];if(qe||Ie){var wt=M.props.activeIndex!==void 0?M.props.activeIndex:de;return[y.cloneElement(M,Pe(Pe(Pe({},V.props),Me),{},{activeIndex:wt})),null,null]}if(!sr(et))return[Ae].concat(qp(k.renderActivePoints({item:V,activePoint:et,basePoint:Ee,childIndex:de,isRange:ve})))}else{var ht,_t=(ht=k.getItemByXY(k.state.activeCoordinate))!==null&&ht!==void 0?ht:{graphicalItem:Ae},Re=_t.graphicalItem,Ue=Re.item,tt=Ue===void 0?M:Ue,rt=Re.childIndex,Ct=Pe(Pe(Pe({},V.props),Me),{},{activeIndex:rt});return[y.cloneElement(tt,Ct),null,null]}return ve?[Ae,null,null]:[Ae,null]}),At(k,"renderCustomized",function(M,L,B){return y.cloneElement(M,Pe(Pe({key:"recharts-customized-".concat(B)},k.props),k.state))}),At(k,"renderMap",{CartesianGrid:{handler:ay,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:ay},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:ay},YAxis:{handler:ay},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((D=R.id)!==null&&D!==void 0?D:kv("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=YR(k.triggeredAfterMouseMove,($=R.throttleDelay)!==null&&$!==void 0?$:1e3/60),k.state={},k}return wZ(O,_),yZ(O,[{key:"componentDidMount",value:function(){var D,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(D=this.props.margin.left)!==null&&D!==void 0?D:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var D=this.props,$=D.children,k=D.data,M=D.height,L=D.layout,B=ui($,ul);if(B){var V=B.props.defaultIndex;if(!(typeof V!="number"||V<0||V>this.state.tooltipTicks.length-1)){var J=this.state.tooltipTicks[V]&&this.state.tooltipTicks[V].value,K=_N(this.state,k,V,J),ce=this.state.tooltipTicks[V].coordinate,ue=(this.state.offset.top+M)/2,de=L==="horizontal",G=de?{x:ce,y:ue}:{y:ce,x:ue},ne=this.state.formattedGraphicalItems.find(function(Y){var he=Y.item;return he.type.name==="Scatter"});ne&&(G=Pe(Pe({},G),ne.props.points[V].tooltipPosition),K=ne.props.points[V].tooltipPayload);var pe={activeTooltipIndex:V,isTooltipActive:!0,activeLabel:J,activePayload:K,activeCoordinate:G};this.setState(pe),this.renderCursor(B),this.accessibilityManager.setIndex(V)}}}},{key:"getSnapshotBeforeUpdate",value:function(D,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==D.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==D.margin){var k,M;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(D){pS([ui(D.children,ul)],[ui(this.props.children,ul)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var D=ui(this.props.children,ul);if(D&&typeof D.props.shared=="boolean"){var $=D.props.shared?"axis":"item";return u.indexOf($)>=0?$:i}return i}},{key:"getMouseInfo",value:function(D){if(!this.container)return null;var $=this.container,k=$.getBoundingClientRect(),M=HU(k),L={chartX:Math.round(D.pageX-M.left),chartY:Math.round(D.pageY-M.top)},B=k.width/$.offsetWidth||1,V=this.inRange(L.chartX,L.chartY,B);if(!V)return null;var J=this.state,K=J.xAxisMap,ce=J.yAxisMap,ue=this.getTooltipEventType(),de=qO(this.state,this.props.data,this.props.layout,V);if(ue!=="axis"&&K&&ce){var G=xu(K).scale,ne=xu(ce).scale,pe=G&&G.invert?G.invert(L.chartX):null,Y=ne&&ne.invert?ne.invert(L.chartY):null;return Pe(Pe({},L),{},{xValue:pe,yValue:Y},de)}return de?Pe(Pe({},L),de):null}},{key:"inRange",value:function(D,$){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,L=D/k,B=$/k;if(M==="horizontal"||M==="vertical"){var V=this.state.offset,J=L>=V.left&&L<=V.left+V.width&&B>=V.top&&B<=V.top+V.height;return J?{x:L,y:B}:null}var K=this.state,ce=K.angleAxisMap,ue=K.radiusAxisMap;if(ce&&ue){var de=xu(ce);return nk({x:L,y:B},de)}return null}},{key:"parseEventsOfWrapper",value:function(){var D=this.props.children,$=this.getTooltipEventType(),k=ui(D,ul),M={};k&&$==="axis"&&(k.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var L=xy(this.props,this.handleOuterEvent);return Pe(Pe({},L),M)}},{key:"addListener",value:function(){L1.on($1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){L1.removeListener($1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(D,$,k){for(var M=this.state.formattedGraphicalItems,L=0,B=M.length;L<B;L++){var V=M[L];if(V.item===D||V.props.key===D.key||$===vc(V.item.type)&&k===V.childIndex)return V}return null}},{key:"renderClipPath",value:function(){var D=this.clipPathId,$=this.state.offset,k=$.left,M=$.top,L=$.height,B=$.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:D},Z.createElement("rect",{x:k,y:M,height:L,width:B})))}},{key:"getXScales",value:function(){var D=this.state.xAxisMap;return D?Object.entries(D).reduce(function($,k){var M=$O(k,2),L=M[0],B=M[1];return Pe(Pe({},$),{},At({},L,B.scale))},{}):null}},{key:"getYScales",value:function(){var D=this.state.yAxisMap;return D?Object.entries(D).reduce(function($,k){var M=$O(k,2),L=M[0],B=M[1];return Pe(Pe({},$),{},At({},L,B.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(D){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[D])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(D){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[D])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(D){var $=this.state,k=$.formattedGraphicalItems,M=$.activeItem;if(k&&k.length)for(var L=0,B=k.length;L<B;L++){var V=k[L],J=V.props,K=V.item,ce=K.type.defaultProps!==void 0?Pe(Pe({},K.type.defaultProps),K.props):K.props,ue=vc(K.type);if(ue==="Bar"){var de=(J.data||[]).find(function(Y){return cK(D,Y)});if(de)return{graphicalItem:V,payload:de}}else if(ue==="RadialBar"){var G=(J.data||[]).find(function(Y){return nk(D,Y)});if(G)return{graphicalItem:V,payload:G}}else if(Yv(V,M)||Xv(V,M)||Kh(V,M)){var ne=JK({graphicalItem:V,activeTooltipItem:M,itemData:ce.data}),pe=ce.activeIndex===void 0?ne:ce.activeIndex;return{graphicalItem:Pe(Pe({},V),{},{childIndex:pe}),payload:Kh(V,M)?ce.data[ne]:V.props.data[ne]}}}return null}},{key:"render",value:function(){var D=this;if(!hE(this))return null;var $=this.props,k=$.children,M=$.className,L=$.width,B=$.height,V=$.style,J=$.compact,K=$.title,ce=$.desc,ue=FO($,uZ),de=ar(ue,!1);if(J)return Z.createElement(SO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(hS,dp({},de,{width:L,height:B,title:K,desc:ce}),this.renderClipPath(),yE(k,this.renderMap)));if(this.props.accessibilityLayer){var G,ne;de.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,de.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",de.onKeyDown=function(Y){D.accessibilityManager.keyboardEvent(Y)},de.onFocus=function(){D.accessibilityManager.focus()}}var pe=this.parseEventsOfWrapper();return Z.createElement(SO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",dp({className:Et("recharts-wrapper",M),style:Pe({position:"relative",cursor:"default",width:L,height:B},V)},pe,{ref:function(he){D.container=he}}),Z.createElement(hS,dp({},de,{width:L,height:B,title:K,desc:ce,style:EZ}),this.renderClipPath(),yE(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(y.Component);At(A,"displayName",r),At(A,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),At(A,"getDerivedStateFromProps",function(_,O){var R=_.dataKey,D=_.data,$=_.children,k=_.width,M=_.height,L=_.layout,B=_.stackOffset,V=_.margin,J=O.dataStartIndex,K=O.dataEndIndex;if(O.updateId===void 0){var ce=UO(_);return Pe(Pe(Pe({},ce),{},{updateId:0},N(Pe(Pe({props:_},ce),{},{updateId:0}),O)),{},{prevDataKey:R,prevData:D,prevWidth:k,prevHeight:M,prevLayout:L,prevStackOffset:B,prevMargin:V,prevChildren:$})}if(R!==O.prevDataKey||D!==O.prevData||k!==O.prevWidth||M!==O.prevHeight||L!==O.prevLayout||B!==O.prevStackOffset||!pp(V,O.prevMargin)){var ue=UO(_),de={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},G=Pe(Pe({},qO(O,D,L)),{},{updateId:O.updateId+1}),ne=Pe(Pe(Pe({},ue),de),G);return Pe(Pe(Pe({},ne),N(Pe({props:_},ne),O)),{},{prevDataKey:R,prevData:D,prevWidth:k,prevHeight:M,prevLayout:L,prevStackOffset:B,prevMargin:V,prevChildren:$})}if(!pS($,O.prevChildren)){var pe,Y,he,ve,U=ui($,Tp),Q=U&&(pe=(Y=U.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&pe!==void 0?pe:J,fe=U&&(he=(ve=U.props)===null||ve===void 0?void 0:ve.endIndex)!==null&&he!==void 0?he:K,je=Q!==J||fe!==K,Ie=!sr(D),qe=Ie&&!je?O.updateId:O.updateId+1;return Pe(Pe({updateId:qe},N(Pe(Pe({props:_},O),{},{updateId:qe,dataStartIndex:Q,dataEndIndex:fe}),O)),{},{prevChildren:$,dataStartIndex:Q,dataEndIndex:fe})}return null}),At(A,"renderActiveDot",function(_,O,R){var D;return y.isValidElement(_)?D=y.cloneElement(_,O):Bt(_)?D=_(O):D=Z.createElement(pD,O),Z.createElement(ma,{className:"recharts-active-dot",key:R},D)});var C=y.forwardRef(function(O,R){return Z.createElement(A,dp({},O,{ref:R}))});return C.displayName=A.displayName,C},$Z=LZ({chartName:"BarChart",GraphicalChild:ef,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:r0},{axisType:"yAxis",AxisComp:n0}],formatAxisMap:YY});const FZ={};function BZ({product:e,isOpen:t,onClose:r,onAddToCart:n}){const[a,i]=y.useState(1),[c,u]=y.useState("1"),[f,p]=y.useState(""),[g,m]=y.useState("overview"),[x,N]=y.useState(0),[A,C]=y.useState(null);String(FZ?.VITE_UI_DEBUG||"").toLowerCase()==="true"&&console.debug("[ProductDetailDialog] Render",{isOpen:t,hasProduct:!!e});const _=y.useMemo(()=>[{id:"overview",label:"Overview",show:!!e?.description},{id:"specs",label:"Specifications",show:!0}].filter(G=>G.show),[e?.description,e?.id]),O=e?.variants??[],R=O.length>0,D=!!e&&(e?.type??"").toLowerCase()==="variable"&&!R,$=R?O.find(G=>G.id===A)??O[0]??null:null;y.useEffect(()=>{if(t){i(1),u("1"),p("");const G=_[0]?.id??"specs";m(G),N(0);const ne=e?.defaultVariantId??e?.variants?.find(pe=>pe.inStock)?.id??e?.variants?.[0]?.id??null;C(ne)}},[t,e,_]);const k=G=>{const ne=Math.max(1,Math.min(999,Math.floor(Number.isFinite(G)?G:1)));i(ne),u(String(ne))},M=G=>{Number.isFinite(G)&&k(G)},L=G=>{const ne=G.target.value.replace(/[^0-9]/g,"");u(ne),ne&&k(Number(ne))},B=()=>{c||k(1)},V=()=>{if(!e)return;if(R&&!$){console.warn("[ProductDetailDialog] Variant selection required before adding to cart");return}const G=f.trim();console.debug("[ProductDetailDialog] Add to cart",{productId:e.id,quantity:a,note:G,variantId:$?.id}),n(e.id,a,G||void 0,$?.id??null),r()},J=y.useMemo(()=>{if(!e)return[];const G=e.images.length>0?e.images:[e.image];if($?.image){const ne=new Set;return[$.image,...G].filter(Y=>!Y||ne.has(Y)?!1:(ne.add(Y),!0))}return G},[e,$]),K=$?.price??e?.price??0,ce=$?.originalPrice??(e?.hasVariants?void 0:e?.originalPrice),ue=ce?Math.round((ce-K)/ce*100):0;R?$?.inStock:e?.inStock;const de=R?$?.label||$?.dosage||e?.dosage:e?.dosage||$?.label||$?.dosage;return y.useEffect(()=>{if(!_.some(G=>G.id===g)){const G=_[0]?.id??"specs";m(G)}},[_,g]),l.jsx(gc,{open:t,onOpenChange:G=>{console.debug("[ProductDetailDialog] Open change",{open:G,productId:e?.id}),G||r()},children:l.jsxs(yl,{className:"squircle-xl max-w-5xl max-h-[90vh] overflow-hidden flex flex-col p-0",children:[l.jsx(Nu,{className:"sticky top-0 z-10 glass-card border-b border-[var(--brand-glass-border-1)] px-6 py-4 backdrop-blur-lg",children:l.jsx("div",{className:"flex items-start justify-between gap-4",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(pl,{className:"text-2xl font-bold text-slate-900 line-clamp-2",children:e?e.name:"Product details"}),l.jsx(ju,{className:"mt-1",children:"Review the product details and add it to your cart."})]})})}),e?l.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:l.jsxs("div",{className:"flex flex-col gap-6 pt-6 lg:flex-row lg:items-start",children:[l.jsxs("div",{className:"space-y-4 flex-shrink-0 w-full max-w-[240px] lg:max-w-[220px] lg:basis-[220px] lg:sticky lg:top-6",children:[l.jsxs("div",{className:"relative w-full overflow-hidden rounded-3xl glass-card border border-[var(--brand-glass-border-2)] bg-white/70 shadow-lg aspect-square",children:[l.jsx(KI,{images:J,alt:e.name,className:"flex h-full w-full items-center justify-center p-4 sm:p-6",imageClassName:"h-full w-full object-contain",style:{"--product-image-frame-padding":"clamp(0.55rem, 1vw, 1.15rem)"},showArrows:J.length>1,showDots:!1}),l.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[e.prescription&&l.jsxs(fc,{className:"squircle-sm bg-gradient-to-br from-amber-500 to-orange-600 text-white shadow-lg border-0",children:[l.jsx(M_,{className:"w-3 h-3 mr-1"}),"Rx Required"]}),ue>0&&l.jsxs(fc,{className:"squircle-sm bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg border-0",children:[l.jsx(b3,{className:"w-3 h-3 mr-1"}),"-",ue,"% OFF"]})]}),l.jsx("div",{className:"absolute top-4 right-4",children:e.inStock?l.jsxs(fc,{className:"squircle-sm bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg border-0",children:[l.jsx(D5,{className:"w-3 h-3 mr-1"}),"In Stock"]}):l.jsxs(fc,{className:"squircle-sm bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg border-0",children:[l.jsx(R5,{className:"w-3 h-3 mr-1"}),"Out of Stock"]})})]}),J.length>1&&l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 max-w-[220px] mx-auto lg:mx-0",children:J.map((G,ne)=>l.jsx("button",{onClick:()=>N(ne),className:`flex-shrink-0 w-14 h-14 rounded-lg glass-card border-2 transition-all overflow-hidden ${x===ne?"border-[rgb(95,179,249)] scale-105":"border-[var(--brand-glass-border-2)] hover:border-slate-400"}`,children:l.jsx("img",{src:G,alt:`${e.name} thumbnail ${ne+1}`,className:"w-full h-full object-contain p-0.5"})},ne))})]}),l.jsxs("div",{className:"space-y-6 flex-1 min-w-0",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex gap-2 border-b border-[var(--brand-glass-border-1)] overflow-x-auto pb-1",children:_.map(G=>l.jsx("button",{onClick:()=>m(G.id),className:`px-4 py-3 text-sm font-medium whitespace-nowrap transition-all border-b-2 ${g===G.id?"border-[rgb(95,179,249)] text-[rgb(95,179,249)]":"border-transparent text-slate-600 hover:text-slate-900"}`,children:G.label},G.id))}),l.jsxs("div",{className:"rounded-2xl border-2 border-[var(--brand-glass-border-2)] p-6 min-h-[200px] bg-white shadow-sm",children:[g==="overview"&&e.description&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Product Overview"}),l.jsx("p",{className:"text-sm leading-relaxed text-slate-700",children:e.description})]}),g==="specs"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Specifications"}),l.jsxs("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-medium text-slate-600 uppercase tracking-wide",children:"Category"}),l.jsx("dd",{className:"mt-1 text-sm font-semibold text-slate-900",children:e.category})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-medium text-slate-600 uppercase tracking-wide",children:"Manufacturer"}),l.jsx("dd",{className:"mt-1 text-sm font-semibold text-slate-900",children:e.manufacturer||"N/A"})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-medium text-slate-600 uppercase tracking-wide",children:"Dosage"}),l.jsx("dd",{className:"mt-1 text-sm font-semibold text-slate-900",children:de})]}),e.type&&l.jsxs("div",{children:[l.jsx("dt",{className:"text-xs font-medium text-slate-600 uppercase tracking-wide",children:"Type"}),l.jsx("dd",{className:"mt-1 text-sm font-semibold text-slate-900",children:e.type})]})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"rounded-2xl border-2 border-[var(--brand-glass-border-2)] p-4 space-y-2 bg-white shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(E5,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Manufacturer"})]}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.manufacturer||"N/A"})]}),l.jsxs("div",{className:"rounded-2xl border-2 border-[var(--brand-glass-border-2)] p-4 space-y-2 bg-white shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(M_,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Dosage"})]}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:de})]}),e.type&&l.jsxs("div",{className:"rounded-2xl border-2 border-[var(--brand-glass-border-2)] p-4 space-y-2 bg-white shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(lp,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Type"})]}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:e.type})]})]})]}),l.jsx("div",{className:"lg:sticky lg:top-6 h-fit flex-shrink-0 lg:basis-[340px] lg:max-w-[340px] lg:w-auto w-full",children:l.jsxs("div",{className:"space-y-5 rounded-3xl border-2 border-[var(--brand-glass-border-2)] p-6 shadow-xl bg-white",children:[l.jsxs("div",{className:"space-y-3 pb-5 border-b border-[var(--brand-glass-border-1)]",children:[l.jsx("div",{className:"flex items-baseline gap-3",children:K>0?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"text-4xl font-bold text-green-600",children:["$",K.toFixed(2)]}),ce&&l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["$",ce.toFixed(2)]}),l.jsxs("span",{className:"text-xs font-semibold text-red-600",children:["Save $",(ce-K).toFixed(2)]})]})]}):l.jsx("span",{className:"text-lg font-semibold text-green-600",children:"Contact for pricing"})}),K>0&&a>1&&l.jsxs("div",{className:"text-sm text-slate-600",children:["Total:"," ",l.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",(K*a).toFixed(2)]})]})]}),R&&l.jsxs("div",{className:"space-y-3 pb-5 border-b border-[var(--brand-glass-border-1)]",children:[l.jsx(dn,{className:"text-sm font-semibold",children:"Select an option"}),l.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:O.map(G=>{const ne=G.id===$?.id,pe=G.attributes.map(Y=>Y.value||Y.name).filter(Boolean).join("  ");return l.jsxs(Qe,{type:"button",variant:ne?"default":"outline",onClick:()=>C(G.id),className:"justify-between text-left",children:[l.jsxs("span",{className:"flex flex-col text-left",children:[l.jsx("span",{className:"font-semibold",children:G.label}),pe&&l.jsx("span",{className:"text-xs text-slate-500",children:pe})]}),l.jsx("span",{className:"font-semibold",children:G.price>0?`$${G.price.toFixed(2)}`:""})]},G.id)})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(dn,{htmlFor:"quantity",className:"text-sm font-semibold",children:"Quantity"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Qe,{type:"button",variant:"outline",size:"icon",onClick:()=>M(a-1),disabled:a<=1,className:"h-12 w-12 rounded-xl border-2 bg-slate-50",children:l.jsx($N,{className:"h-5 w-5"})}),l.jsx(hr,{id:"quantity",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:c,onChange:L,onBlur:B,className:"h-12 text-center text-xl font-bold squircle-sm bg-slate-50 border-2"}),l.jsx(Qe,{type:"button",variant:"outline",size:"icon",onClick:()=>M(a+1),className:"h-12 w-12 rounded-xl border-2 bg-slate-50",children:l.jsx(bv,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(dn,{htmlFor:"quantityDescription",className:"text-sm font-semibold",children:"Order Notes (Optional)"}),l.jsx("textarea",{id:"quantityDescription",value:f,onChange:G=>p(G.target.value),placeholder:"Add fulfillment notes or special instructions...",className:"min-h-[100px] w-full resize-y squircle-lg p-4 text-sm border-2 border-[var(--brand-glass-border-2)] focus-visible:outline-none focus-visible:border-[rgb(95,179,249)] focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.2)] bg-slate-50"})]}),l.jsxs(Qe,{onClick:V,disabled:D,className:"w-full h-14 text-base font-semibold glass-brand squircle-lg transition-all duration-300 hover:scale-105 hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(vp,{className:"mr-2 h-5 w-5"}),D?"Loading options":"Add to Cart"]})]})})]})}):null]})})}const qZ=`<style type="text/css">
    p.p1 {margin: 0.0px 0.0px 14.9px 0.0px; font: 18.0px Times}
    p.p2 {margin: 0.0px 0.0px 14.0px 0.0px; font: 14.0px Times}
    p.p3 {margin: 0.0px 0.0px 12.0px 0.0px; font: 12.0px Times}
    p.p4 {margin: 0.0px 0.0px 12.0px 0.0px; font: 12.0px Times; color: #0000e9}
    span.s1 {font-kerning: none}
    span.s2 {text-decoration: underline ; font-kerning: none; color: #0000e9}
    span.s3 {font-kerning: none; color: #000000}
    span.s4 {text-decoration: underline ; font-kerning: none}
  </style>
<p class="p1"><span class="s1"><b>Terms of Service</b></span></p>
<p class="p2"><span class="s1"><b>1. Acceptance of Terms</b></span></p>
<p class="p3"><span class="s1"><b>Effective Date:</b> November 1, 2025 (Last Updated: October 22, 2025).</span></p>
<p class="p3"><span class="s1">By accessing or using the PepPro website (https://peppro.net/) or purchasing any products or services from PepPro ("we," "us," "our"), you agree to be bound by these Terms of Service, the Privacy Policy, and the Liability Disclaimer. If you do not agree, do not use our website or purchase our products.</span></p>
<p class="p3"><span class="s1">PepPro may modify these Terms at any time. Continued use of the site constitutes acceptance of the revised Terms.</span></p>
<p class="p2"><span class="s1"><b>2. Eligibility</b></span></p>
<p class="p3"><span class="s1">You represent that you are at least 18 years old, legally capable of entering binding agreements, and that any purchases are made for lawful purposes in compliance with all applicable regulations.</span></p>
<p class="p2"><span class="s1"><b>3. Research Use Only</b></span></p>
<p class="p3"><span class="s1">All PepPro productsincluding peptides, genetic testing kits, and related compoundsare sold strictly for in vitro laboratory research use only.</span></p>
<p class="p3"><span class="s1">Products are not intended, produced, or authorized for human or animal consumption, diagnostic or therapeutic use, cosmetic or nutritional use, or any use beyond controlled laboratory research.</span></p>
<p class="p3"><span class="s1">By purchasing, you acknowledge and agree to these restrictions and assume full responsibility for compliance.</span></p>
<p class="p2"><span class="s1"><b>4. Product Information and FDA Disclaimer</b></span></p>
<p class="p3"><span class="s1">Information provided on the PepPro website is for informational and educational purposes only.</span></p>
<p class="p3"><span class="s1">Products are not medicines or drugs, have not been evaluated or approved by the U.S. Food and Drug Administration (FDA), and are not intended to diagnose, treat, cure, mitigate, or prevent any disease.</span></p>
<p class="p3"><span class="s1">Always consult qualified professionals before treating any site information as medical advice.</span></p>
<p class="p2"><span class="s1"><b>5. "As-Is" Condition and No Warranties</b></span></p>
<p class="p3"><span class="s1">All PepPro products and services are supplied "as is" and "with all faults." PepPro disclaims all express or implied warranties, including merchantability, fitness for a particular purpose, and non-infringement.</span></p>
<p class="p3"><span class="s1">PepPro does not guarantee safety, sterility, efficacy, accuracy, completeness, or uninterrupted operation of the website.</span></p>
<p class="p2"><span class="s1"><b>6. Assumption of Risk and Limitation of Liability</b></span></p>
<p class="p3"><span class="s1">You assume full responsibility for the handling, storage, use, and disposal of PepPro products.</span></p>
<p class="p3"><span class="s1">PepPro and its affiliates are not liable for personal injury, illness, death, contamination, adverse reactions, improper use, property damage, business interruption, or data loss.</span></p>
<p class="p3"><span class="s1">PepPro's maximum liability will not exceed the total amount paid for the product in question.</span></p>
<p class="p2"><span class="s1"><b>7. Indemnification</b></span></p>
<p class="p3"><span class="s1">You agree to indemnify, defend, and hold harmless PepPro, its affiliates, officers, directors, and employees from any claims, losses, damages, liabilities, and expenses (including attorneys' fees) arising from misuse of products, violation of these Terms, or breach of your representations.</span></p>
<p class="p2"><span class="s1"><b>8. Intellectual Property</b></span></p>
<p class="p3"><span class="s1">All website contentincluding text, graphics, logos, trademarks, and softwareis the property of PepPro or its licensors. You may not copy, reproduce, modify, distribute, or create derivative works without prior written consent.</span></p>
<p class="p2"><span class="s1"><b>9. Ordering and Payment</b></span></p>
<p class="p3"><span class="s1">Orders are subject to acceptance and availability, and prices may change without notice.</span></p>
<p class="p3"><span class="s1">PepPro may refuse or cancel orders that violate legal or ethical guidelines. Payment is processed through secure third-party gateways, and you authorize PepPro to charge the payment method you provide.</span></p>
<p class="p2"><span class="s1"><b>10. HIPAA and Health Data</b></span></p>
<p class="p3"><span class="s1">For telehealth or prescription-related services, PepPro complies with the Health Insurance Portability and Accountability Act of 1996 (HIPAA).</span></p>
<p class="p3"><span class="s1">By signing the HIPAA consent form during checkout or registration, you authorize PepPro to use or disclose your Protected Health Information (PHI) for treatment, payment, and healthcare operations as described in the Notice of Privacy Practices.</span></p>
<p class="p3"><span class="s1">You may revoke consent in writing at any time by contacting </span><span class="s2"><a href="mailto:support@peppro.net">support@peppro.net</a></span><span class="s1">.</span></p>
<p class="p2"><span class="s1"><b>11. Compliance and Misuse</b></span></p>
<p class="p3"><span class="s1">You represent and warrant that you are trained and equipped to handle research-grade materials safely, will comply with all applicable laws and regulations, and will not use PepPro products for any prohibited or unlawful purpose.</span></p>
<p class="p3"><span class="s1">PepPro may terminate purchasing rights and pursue legal remedies if misuse or non-compliance is suspected.</span></p>
<p class="p2"><span class="s1"><b>12. No Professional or Medical Advice</b></span></p>
<p class="p3"><span class="s1">PepPro does not provide medical, legal, or professional advice. Information provided through the site is for research and informational purposes only and is not a substitute for professional judgment or treatment.</span></p>
<p class="p2"><span class="s1"><b>13. Governing Law and Dispute Resolution</b></span></p>
<p class="p3"><span class="s1">These Terms are governed by the laws of the State of [Insert State], without regard to conflict-of-law principles.</span></p>
<p class="p3"><span class="s1">Any dispute arising from these Terms will be resolved through binding arbitration in [Insert State/County], following the rules of the American Arbitration Association (AAA).</span></p>
<p class="p2"><span class="s1"><b>14. Termination</b></span></p>
<p class="p3"><span class="s1">PepPro may suspend or terminate access for violations of these Terms, suspected misuse, or legal non-compliance. Termination does not affect obligations or liabilities that arose prior to termination.</span></p>
<p class="p2"><span class="s1"><b>15. Changes to Terms</b></span></p>
<p class="p3"><span class="s1">PepPro may update these Terms at any time. Changes take effect when posted on the website, and continued use constitutes acceptance of the revised Terms.</span></p>
<p class="p2"><span class="s1"><b>16. Contact Information</b></span></p>
<p class="p4"><span class="s3">Email: </span><span class="s4"><a href="mailto:support@peppro.net">support@peppro.net</a></span></p>
`,UZ=`<style type="text/css">
    p.p1 {margin: 0.0px 0.0px 11.0px 0.0px; font: 13.5px Times}
    p.p2 {margin: 0.0px 0.0px 11.0px 0.0px; font: 10.5px Times}
    p.p3 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times}
    p.p4 {margin: 0.0px 0.0px 0.0px 27.0px; font: 9.0px Times}
    p.p5 {margin: 0.0px 0.0px 0.0px 27.0px; font: 12.0px Times; min-height: 14.0px}
    p.p6 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times; color: #0000e9}
    span.s1 {text-decoration: underline ; color: #1155cc}
    span.s2 {text-decoration: underline ; color: #0000e9}
    span.s3 {color: #000000}
    span.s4 {text-decoration: underline}
    span.Apple-tab-span {white-space:pre}
  </style>
<p class="p1">Privacy Policy</p>
<p class="p2">1. Introduction</p>
<p class="p3">Effective Date: November 1, 2025 (Last Updated: October 22, 2025).</p>
<p class="p3">PepPro ("we," "us," "our") respects your privacy and is committed to protecting your personal and health information. This Privacy Policy explains how we collect, use, and safeguard information through our website [insert domain], applications, and services.</p>
<p class="p3">By using our website or purchasing from PepPro, you consent to this Policy as well as the related Disclaimer of Liability and HIPAA Consent and Notice of Privacy Practices.</p>
<p class="p2">2. Research-Only Product Disclaimer</p>
<p class="p3">All PepPro products, including peptides and genetic testing kits, are for laboratory research use only.</p>
<p class="p3">Products are not intended, produced, or authorized for human or animal consumption, diagnostic or therapeutic use, or cosmetic, nutritional, or clinical applications.</p>
<p class="p3">PepPro products are not medicines or drugs and have not been evaluated or approved by the U.S. Food and Drug Administration (FDA) to diagnose, treat, cure, or prevent any disease.</p>
<p class="p3">By purchasing from PepPro, you agree to use these materials exclusively for in vitro laboratory research under appropriate safety conditions.</p>
<p class="p2">3. Information We Collect</p>
<p class="p3">We collect information in the following categories:</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Personal information: name, email address, billing and shipping address, phone number, payment details, and account credentials, NPI number, Resellers Permits, etc.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Usage data: browser type, device identifiers, IP address, referral URLs, pages visited, and timestamps gathered through cookies or analytics tools, buying behaviors, etc.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Protected health information (PHI): when you use PepPro telehealth or prescription-related services, we may collect PHI as defined under HIPAA.</p>
<p class="p5"><br></p>
<p class="p2">4. How We Use Information</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Order fulfillment and payment processing.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Account management, communication, and customer support.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Legal compliance, including HIPAA, FDA, FTC, or state requirements.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Improving products and services as well as coordinating healthcare for telehealth users.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>PepPro does not sell or rent personal information or PHI.</p>
<p class="p5"><br></p>
<p class="p2">5. HIPAA Compliance and Health Information</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>When applicable, PepPro follows HIPAA standards to protect your health information.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Treatment: coordination and management of care by licensed healthcare providers.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Payment: billing, claims, and pharmacy fulfillment.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Healthcare operations: quality review, compliance, training, and administrative purposes.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>You may request restrictions on PHI use, obtain copies of records, or revoke consent in writing at any time (revocation does not affect prior disclosures). To exercise these rights, contact <span class="s1"><a href="mailto:support@peppro.net">support@peppro.net</a></span>.</p>
<p class="p5"><br></p>
<p class="p2">6. Liability and Assumption of Risk</p>
<p class="p3">All PepPro products are provided "as is" and "with all faults." PepPro disclaims all express or implied warranties, including merchantability or fitness for a particular purpose.</p>
<p class="p3">By purchasing, you accept full responsibility for handling, storage, and disposal; acknowledge PepPro is not liable for injury, contamination, or adverse events; and agree to indemnify PepPro and its affiliates against claims arising from misuse or unauthorized application.</p>
<p class="p3">PepPro's total liability will not exceed the purchase price paid for the product.</p>
<p class="p2">7. Cookies and Tracking</p>
<p class="p3">PepPro uses cookies, pixels, and analytics tools to improve site performance, measure engagement, and personalize content. Disabling cookies may limit certain site features.</p>
<p class="p2">8. Your Data Rights</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Depending on your jurisdiction, you may have the right to access, correct, delete, restrict processing, or object to the processing of your personal information.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>You may opt out of targeted advertising or data "sales" where state law (such as the CCPA) provides that right and withdraw consent where applicable.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Submit privacy requests to <span class="s2"><a href="mailto:support@peppro.net">support@peppro.net</a></span>.</p>
<p class="p2">9. Data Retention and Security</p>
<p class="p3">PepPro retains data only as long as necessary for the purposes described in this Policy.</p>
<p class="p3">Administrative, technical, and physical safeguards are used to help prevent unauthorized access, alteration, or loss of information; however, no online method is completely secure.</p>
<p class="p2">10. International Users</p>
<p class="p3">If you access PepPro services from outside the United States, you consent to the transfer and processing of your data in the U.S., which may have different data protection laws than your home jurisdiction.</p>
<p class="p2">11. Children's Privacy</p>
<p class="p3">PepPro services are not intended for children under 13. We do not knowingly collect personal information from minors and will delete such data promptly if discovered.</p>
<p class="p2">12. Updates to this Policy</p>
<p class="p3">PepPro may revise this Privacy Policy periodically. Changes take effect when posted, and continued use of the website constitutes acceptance of the updated terms.</p>
<p class="p2">13. Contact Information</p>
<p class="p6"><span class="s3">Email: </span><span class="s4"><a href="mailto:support@peppro.net">support@peppro.net</a></span></p>
`,zZ=`<style type="text/css">
    p.p1 {margin: 0.0px 0.0px 11.0px 0.0px; font: 13.5px Times}
    p.p2 {margin: 0.0px 0.0px 11.0px 0.0px; font: 10.5px Times}
    p.p3 {margin: 0.0px 0.0px 9.0px 0.0px; font: 9.0px Times}
    span.s1 {text-decoration: underline ; color: #0000e9}
    span.s2 {text-decoration: underline ; color: #1155cc}
  </style>
<p class="p1">Shipping Policy</p>
<p class="p2">Effective: Dec 17, 2025</p>
<p class="p2">1. Order Processing</p>
<p class="p3">Orders are reviewed Monday through Thursday, excluding federal holidays, to ensure products are not held in a third-party warehouse over an extended period, such as weekends. Most in-stock items ship within one to two business days. Orders placed after 1:00 p.m. local fulfillment time may be processed the next business day.</p>
<p class="p2">2. Verification</p>
<p class="p3">PepPro may request additional documentation, such as for the person signing for orders to meet regulatory requirements. Orders pending verification will not ship until review is complete.</p>
<p class="p2">3. Shipping Methods</p>
<p class="p3">Second Day and overnight services are available to most U.S. addresses. Delivery timelines begin once an order leaves our facility. Estimated transit windows provided at checkout are not guaranteed.<span class="Apple-converted-space"></span></p>
<p class="p2">4. Shipping Restrictions</p>
<p class="p3">PepPro cannot ship to P.O. boxes, APO/FPO/DPO addresses. International shipping is evaluated individually and may require customs declarations. Customers are responsible for understanding and complying with local import laws.</p>
<p class="p2">5. Rates and Fees</p>
<p class="p3">Shipping charges are calculated based on weight, destination, and the selected service level. Taxes, duties, and brokerage fees for international orders are the customer's responsibility unless explicitly stated otherwise.</p>
<p class="p2">6. Tracking</p>
<p class="p3">A shipment confirmation email will be sent when orders depart our facility and tracking numbers are provided under the Orders tab of the users account dashboard on peppro.net. Tracking updates originate from the carrier and may take up to 24 hours to activate.</p>
<p class="p2">7. Delivery Issues</p>
<p class="p3">Delays: PepPro is not liable for carrier delays caused by weather, customs inspections, or other factors beyond our control.</p>
<p class="p3">Lost packages: Report packages marked "delivered" but were not received within three business days. We will coordinate with the carrier to investigate. Resolutions are handled case-by-case.</p>
<p class="p3">Damaged shipments: Inspect packages upon arrival and notify <span class="s1"><a href="mailto:support@peppro.com">support@peppro.com</a></span> with photos within five days to initiate a carrier claim.</p>
<p class="p2">8. Address Accuracy</p>
<p class="p3">Ensure the shipping address is complete and accurate. Orders returned due to incorrect or undeliverable addresses may incur reshipment fees.</p>
<p class="p2">9. Temperature-Sensitive Items</p>
<p class="p3">Certain products may require insulated packaging or cold packs. PepPro selects materials based on season and destination and recommends expedited shipping for temperature-sensitive orders, especially during extreme weather.</p>
<p class="p2">10. Order Changes and Cancellations</p>
<p class="p3">Cancel an order in the Orders tab of your account settings on <span class="s2">peppro.net</span> or contact <span class="s1"><a href="mailto:support@peppro.com">support@peppro.com</a></span> promptly to request modifications. Orders are partially refunded, and a full refund may be able to be accommodated upon request. Once fulfillment begins (order status of Processing), changes may not be possible.</p>
<p class="p2">11. Returns</p>
<p class="p3">Refer to the returns section in the Terms of Service for eligibility. Authorization must be obtained before shipping products back to PepPro. Unauthorized returns will be handled case by case, and a possible restocking fee up to $100 may be deducted from customer credit.</p>
<p class="p2">12. Policy Updates</p>
<p class="p3">PepPro may revise this Shipping Policy at any time. The effective date updates whenever changes are posted.</p>
<p class="p2">13. Contact</p>
<p class="p3">For shipping questions, email <span class="s1"><a href="mailto:support@peppro.net">support@peppro.net</a></span>.</p>
`,WZ={terms:{title:"Terms of Service",html:qZ},privacy:{title:"Privacy Policy",html:UZ},shipping:{title:"Shipping Policy",html:zZ}};function WO({variant:e="full",showContactCTA:t=!0}){const[r,n]=y.useState(null),[a,i]=y.useState(!1),[c,u]=y.useState(!1),[f,p]=y.useState(!1),[g,m]=y.useState(!1),[x,N]=y.useState(!1),[A,C]=y.useState(""),[_,O]=y.useState(""),[R,D]=y.useState({name:"",email:"",phone:"",source:""}),$=y.useRef(null),k=y.useRef(null),M=r?WZ[r]:null,L=350;y.useEffect(()=>{const G=document.body,ne=document.documentElement,pe=G.style.overflow,Y=G.style.paddingRight;if(r&&!a){const he=window.innerWidth-ne.clientWidth;return!Y&&he>0&&(G.style.paddingRight=`${he}px`),G.style.overflow="hidden",()=>{G.style.overflow=pe,G.style.paddingRight=Y}}G.style.overflow=pe,G.style.paddingRight=Y},[r,a]);const B=y.useMemo(()=>[{key:"terms",label:"Terms of Service"},{key:"privacy",label:"Privacy Policy"},{key:"shipping",label:"Shipping Policy"}],[]),V=y.useCallback((G,ne={})=>{console.debug("[LegalFooter] Link clicked",{key:G}),ne.preserveDialogs||window.dispatchEvent(new Event("peppro:close-dialogs")),$.current&&(clearTimeout($.current),$.current=null),i(!1),u(!1),n(G)},[]),J=()=>{console.debug("[LegalFooter] Close requested",{activeDocument:r}),!(!r||a)&&(i(!0),u(!1),$.current=setTimeout(()=>{n(null),i(!1),$.current=null},L))};y.useEffect(()=>{const G=ne=>{ne.key==="Escape"&&J()};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[]),y.useEffect(()=>{const G=ne=>{const pe=ne,Y=pe.detail?.key;Y&&V(Y,{preserveDialogs:!!pe.detail?.preserveDialogs})};return window.addEventListener("peppro:open-legal",G),()=>window.removeEventListener("peppro:open-legal",G)},[V]),y.useEffect(()=>{if(M&&!a){const G=requestAnimationFrame(()=>u(!0));return()=>cancelAnimationFrame(G)}!M&&!a&&c&&u(!1)},[M,a,c]),y.useEffect(()=>{const G=!!M;return window.dispatchEvent(new CustomEvent("peppro:legal-state",{detail:{open:G}})),()=>{G&&window.dispatchEvent(new CustomEvent("peppro:legal-state",{detail:{open:!1}}))}},[M]),y.useEffect(()=>()=>{$.current&&clearTimeout($.current),k.current&&clearTimeout(k.current)},[]);const K=y.useCallback(()=>{k.current&&(clearTimeout(k.current),k.current=null),p(!0),requestAnimationFrame(()=>m(!0))},[]),ce=y.useCallback(()=>{f&&(m(!1),k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{p(!1),k.current=null},L))},[f,L]),ue=async G=>{if(G.preventDefault(),O(""),C(""),!R.name.trim()||!R.email.trim()){O("Name and email are required.");return}N(!0);try{const ne=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:R.name.trim(),email:R.email.trim(),phone:R.phone.trim(),source:R.source.trim()})}),pe=await ne.json();if(!ne.ok)throw new Error(pe?.error||"Unable to send your message.");C("Thanks! A representative will reach out shortly."),D({name:"",email:"",phone:"",source:""})}catch(ne){O(ne?.message||"Unable to send your message. Please try again.")}finally{N(!1)}},de=c||a||f;return l.jsxs(l.Fragment,{children:[l.jsx("footer",{className:"relative z-10 mt-24 glass-strong",children:l.jsx("div",{className:"w-full px-4 sm:px-8 pt-12 pb-10",children:e==="ctaOnly"?l.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 pt-10 pb-10",children:[l.jsx("p",{className:"mt-7 pt-4 text-m font-medium text-slate-900",children:"Interested in joining the network?"}),t?l.jsx("button",{type:"button",onClick:()=>{window.dispatchEvent(new Event("peppro:close-dialogs")),K()},className:"inline-flex items-center justify-center squircle-sm px-6 py-2 text-sm font-semibold text-white shadow-lg shadow-[rgba(95,179,249,0.4)] transition duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] mb-6",style:{backgroundColor:"rgb(95, 179, 249)"},children:"Contact a Representative"}):null]}):l.jsxs("div",{className:"legal-footer-layout gap-4 items-start text-center lg:text-left lg:items-start lg:justify-items-start",children:[t&&l.jsxs("div",{className:"legal-contact flex flex-col items-center justify-center lg:items-end lg:justify-center gap-2 text-center lg:text-right w-full pt-4 lg:pt-0",children:[l.jsx("p",{className:"text-sm lg:pt-6 pb-2 font-medium text-slate-900",children:"Want to join the Network?"}),l.jsx("button",{type:"button",onClick:()=>{window.dispatchEvent(new Event("peppro:close-dialogs")),K()},className:"inline-flex items-center justify-center squircle-sm px-6 py-2 text-sm font-semibold text-white shadow-lg shadow-[rgba(95,179,249,0.4)] transition duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)]",style:{backgroundColor:"rgb(95, 179, 249)"},children:"Contact a Representative"})]}),l.jsx("div",{className:"legal-disclaimer flex items-start justify-start w-full lg:w-auto lg:pr-10 lg:mr-auto lg:ml-0 lg:place-self-start lg:justify-self-start",children:l.jsx("p",{className:"text-xs text-slate-500 leading-relaxed pt-4 text-center lg:text-left w-full",children:"PepPro peptide products are research chemicals intended for licensed physicians only. They are not intended to prevent, treat, or cure any medical condition, ailment or disease. These products have not been reviewed or approved by the US Food and Drug Administration."})}),l.jsxs("div",{className:"legal-links flex flex-col items-center text-center gap-3 w-full lg:items-start lg:text-left",children:[l.jsxs("div",{className:"space-y-1 text-sm text-slate-600 w-full",children:[l.jsx("p",{children:"Advancing research-grade peptide access with care and compliance."}),l.jsxs("p",{className:"text-xs text-slate-500",children:[" ",new Date().getFullYear()," PepPro. All rights reserved."]}),l.jsx("p",{className:"text-xs text-slate-500",children:" This website design is guided by kinesiology for the highest good."})]}),l.jsx("nav",{className:"mt-1 mb-4 flex flex-wrap items-center justify-center lg:justify-start gap-3 text-sm font-medium text-[rgb(95,179,249)]",children:B.map(G=>l.jsx("button",{type:"button",className:"cursor-pointer rounded-full px-3 py-1.5 transform transition duration-200 hover:-translate-y-0.5 hover:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(95,179,249,0.4)] btn-hover-lighter",onClick:()=>V(G.key),children:G.label},G.key))})]})]})})}),M&&my.createPortal(l.jsxs("div",{className:Et("fixed inset-0 flex items-center justify-center p-6 sm:p-12 transition-opacity duration-[55ms] ease-out backdrop-blur-[16px] pointer-events-auto",c?"opacity-100":"opacity-0"),style:{zIndex:2147483647,position:"fixed",willChange:"opacity",backdropFilter:de?"blur(16px)":"none",WebkitBackdropFilter:de?"blur(16px)":"none"},children:[l.jsx("div",{className:Et("absolute inset-0 bg-[rgba(4,14,21,0.55)] transition-opacity duration-[55ms] ease-out",c?"opacity-100":"opacity-0"),onClick:J,"aria-hidden":"true",style:{willChange:"opacity",backdropFilter:de?"blur(20px) saturate(1.55)":"none",WebkitBackdropFilter:de?"blur(20px) saturate(1.55)":"none"}}),l.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"legal-dialog-title",className:Et("relative w-full max-w-3xl flex flex-col transition-[opacity,transform] duration-[55ms] ease-out h-full",c?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-4 scale-[0.97]"),style:{willChange:"opacity, transform",maxHeight:"calc(var(--viewport-height, 100dvh) - 4rem)"},children:l.jsxs("div",{className:"squircle-xl glass-card landing-glass shadow-[0_24px_60px_-25px_rgba(7,27,27,0.55)] h-full flex flex-col overflow-hidden border-[3px]",style:{backgroundColor:"rgba(245, 251, 255, 0.94)",borderColor:"rgba(95, 179, 249, 0.65)",backdropFilter:de?"blur(16px) saturate(1.45)":"none",WebkitBackdropFilter:de?"blur(16px) saturate(1.45)":"none"},children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 px-6 sm:px-8 py-5 flex-shrink-0 border-b",style:{borderColor:"rgba(95, 179, 249, 0.2)",backgroundColor:"rgb(255, 255, 255)"},children:[l.jsx("h2",{id:"legal-dialog-title",className:"flex-1 text-xl sm:text-2xl font-semibold text-[rgb(95,179,249)] pr-2",children:M.title}),l.jsxs("button",{type:"button",onClick:G=>{G.stopPropagation(),J()},className:"legal-modal-close-btn inline-flex items-center justify-center text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)",width:"38px",height:"38px",borderRadius:"50%",marginTop:"6px",marginBottom:"6px"},children:[l.jsx(Su,{className:"h-4 w-4 sm:h-5 sm:w-5","aria-hidden":"true"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 sm:px-8 py-8",children:l.jsx("div",{className:"legal-richtext text-sm leading-relaxed text-slate-700",dangerouslySetInnerHTML:{__html:M.html}})})]})})]}),document.body),t&&f&&my.createPortal(l.jsxs("div",{className:Et("fixed inset-0 flex items-center justify-center p-6 sm:p-12 transition-opacity duration-[55ms] ease-out backdrop-blur-[16px] pointer-events-auto",g?"opacity-100":"opacity-0"),style:{zIndex:2147483647,willChange:"opacity",backdropFilter:de?"blur(16px)":"none",WebkitBackdropFilter:de?"blur(16px)":"none"},onClick:ce,"aria-modal":"true",role:"dialog",children:[l.jsx("div",{className:Et("absolute inset-0 bg-[rgba(4,14,21,0.55)] transition-opacity duration-[55ms] ease-out",g?"opacity-100":"opacity-0"),"aria-hidden":"true",style:{willChange:"opacity",backdropFilter:de?"blur(20px) saturate(1.55)":"none",WebkitBackdropFilter:de?"blur(20px) saturate(1.55)":"none"}}),l.jsxs("div",{className:Et("relative w-full max-w-lg flex flex-col squircle-xl glass-card landing-glass shadow-[0_24px_60px_-25px_rgba(7,27,27,0.55)] overflow-hidden border-[3px] transition-[opacity,transform] duration-[55ms] ease-out",g?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-4 scale-[0.97]"),style:{backgroundColor:"rgba(245, 251, 255, 0.94)",borderColor:"rgba(95, 179, 249, 0.65)"},onClick:G=>G.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 px-6 sm:px-7 py-4 flex-shrink-0 border-b",style:{borderColor:"rgba(95, 179, 249, 0.2)",backgroundColor:"rgb(255, 255, 255)"},children:[l.jsx("h2",{className:"flex-1 text-lg font-semibold text-[rgb(95,179,249)]",children:"Contact Form"}),l.jsxs("button",{type:"button",onClick:ce,className:"legal-modal-close-btn inline-flex items-center justify-center text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-[3px] focus-visible:ring-offset-[rgba(4,14,21,0.75)] transition-all duration-150",style:{backgroundColor:"rgb(95, 179, 249)",width:"38px",height:"38px",borderRadius:"50%"},children:[l.jsx(Su,{className:"h-4 w-4 sm:h-5 sm:w-5","aria-hidden":"true"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]}),l.jsxs("form",{className:"px-6 sm:px-7 py-6 pt-4 space-y-4",onSubmit:ue,children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-mediumtext-slate-700",htmlFor:"contact-name",children:"Name"}),l.jsx("input",{id:"contact-name",type:"text",value:R.name,onChange:G=>D(ne=>({...ne,name:G.target.value})),required:!0,className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.25)]"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"contact-email",children:"Email"}),l.jsx("input",{id:"contact-email",type:"email",value:R.email,onChange:G=>D(ne=>({...ne,email:G.target.value})),required:!0,className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.25)]"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"contact-phone",children:"Phone"}),l.jsx("input",{id:"contact-phone",type:"tel",value:R.phone,onChange:G=>D(ne=>({...ne,phone:G.target.value})),className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.25)]"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"contact-source",children:"How did you get introduced to PepPro?"}),l.jsx("input",{id:"contact-source",type:"text",value:R.source,onChange:G=>D(ne=>({...ne,source:G.target.value})),className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.25)]"})]}),l.jsxs("div",{className:"flex w-full items-center justify-between pt-3 mb-4",children:[l.jsxs("div",{className:"text-sm",children:[_&&l.jsx("p",{className:"text-red-600",role:"alert",children:_}),A&&l.jsx("p",{className:"text-emerald-600",role:"status",children:A})]}),l.jsx("button",{type:"submit",disabled:x,className:"inline-flex items-center justify-center squircle-sm px-6 py-2 text-sm font-semibold text-white shadow-lg shadow-[rgba(95,179,249,0.4)] transition duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-60 disabled:cursor-not-allowed mb-[3px]",style:{backgroundColor:"rgb(95, 179, 249)"},children:x?"Sending":"Send"})]})]})]})]}),document.body)]})}const Jj={},HZ="/api/woo.php",fg="false".toLowerCase()==="true",VZ=String(Jj?.VITE_CATALOG_SNAPSHOT_DISABLED||"").toLowerCase()==="true",gh=String(Jj?.VITE_WOO_DEBUG||"").toLowerCase()==="true",rL=(()=>{const e=String(Jj?.VITE_WOO_REQUEST_TIMEOUT_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?t:3e4})(),GZ=()=>{const e="".trim();return e||(Fe?`${Fe.replace(/\/+$/,"")}/woo`:HZ)},CN=GZ(),HO="a-long-random-string-to-serve-as-proxy-token".trim(),KZ=/\.php($|\?)/i.test(CN),YZ=()=>Fe?`${Fe.replace(/\/+$/,"")}/catalog`:"",VO=YZ(),XZ=()=>typeof window<"u"&&window.location?.origin?window.location.origin:"http://localhost",QZ=e=>/^https?:\/\//i.test(e),EN=e=>QZ(e)?new URL(e):new URL(e,XZ()),nL=(e={})=>Object.entries(e).reduce((t,[r,n])=>n==null?t:typeof n=="boolean"?(t[r]=n?"true":"false",t):typeof n=="number"?(Number.isFinite(n)&&(t[r]=String(n)),t):(typeof n=="string"&&n.trim().length>0&&(t[r]=n),t),{});function ZZ(e,t={}){const r=e.replace(/^\/+/,""),n=nL(t);if(KZ){const c=EN(CN);return HO&&c.searchParams.set("token",HO),c.searchParams.set("endpoint",r),Object.keys(n).length>0&&c.searchParams.set("q",new URLSearchParams(n).toString()),c.toString()}const a=CN.replace(/\/+$/,""),i=EN(`${a}/${r}`);return Object.entries(n).forEach(([c,u])=>{i.searchParams.set(c,u)}),i.toString()}async function aL(e,t={}){if(fg)return typeof console<"u"&&console.warn&&console.warn("[Catalog] Frontend catalog access is disabled via VITE_WOO_DISABLED"),Array.isArray([])?[]:{};const r=ZZ(e,t),n=(()=>{try{const u=new URL(r);return u.searchParams.has("token")&&u.searchParams.set("token","REDACTED"),u.toString()}catch{return r}})(),a=Date.now(),i=typeof AbortController<"u"?new AbortController:null,c=i?globalThis.setTimeout(()=>i.abort(),rL):null;try{gh&&console.info("[Catalog] GET",{endpoint:e,url:n,params:t});const u=await fetch(r,{method:"GET",cache:"default",signal:i?.signal});if(gh&&console.info("[Catalog] GET complete",{endpoint:e,status:u.status,durationMs:Date.now()-a}),!u.ok){const f=await u.text().catch(()=>"");throw new Error(`Catalog request failed (${u.status}): ${f}`)}return u.json()}catch(u){if(gh){const f=typeof u?.message=="string"&&u.message.trim().length>0?u.message:"Unknown error";console.warn("[Catalog] GET failed",{endpoint:e,url:n,message:f,durationMs:Date.now()-a})}throw u}finally{c&&globalThis.clearTimeout(c)}}async function e_(e,t={}){if(!VO||VZ)return aL(e,t);const r=e.replace(/^\/+/,""),n=EN(`${VO.replace(/\/+$/,"")}/${r}`);Object.entries(nL(t)).forEach(([u,f])=>n.searchParams.set(u,f));const a=Date.now(),i=typeof AbortController<"u"?new AbortController:null,c=i?globalThis.setTimeout(()=>i.abort(),Math.min(rL,15e3)):null;try{gh&&console.info("[Catalog] GET(snapshot)",{endpoint:e,url:n.toString(),params:t});const u=await fetch(n.toString(),{method:"GET",cache:"no-store",signal:i?.signal});if(gh&&console.info("[Catalog] GET(snapshot) complete",{endpoint:e,status:u.status,durationMs:Date.now()-a}),!u.ok)throw new Error(`Catalog snapshot request failed (${u.status})`);return u.json()}finally{c&&globalThis.clearTimeout(c)}}const JZ=(e={})=>fg?Promise.resolve([]):e_("products",{per_page:100,...e}),eJ=(e={})=>fg?Promise.resolve([]):e_("categories",{per_page:100,...e}),GO=(e,t={})=>fg?Promise.resolve([]):e_(`products/${e}/variations`,{...t}),KO=(e,t={})=>fg?Promise.resolve(null):aL(`products/${e}`,{...t});function ml(e){const t=new Uint8Array(e);let r="";for(const a of t)r+=String.fromCharCode(a);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function mv(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4,n=t.padEnd(t.length+r,"="),a=atob(n),i=new ArrayBuffer(a.length),c=new Uint8Array(i);for(let u=0;u<a.length;u++)c[u]=a.charCodeAt(u);return i}function s0(){return tJ.stubThis(globalThis?.PublicKeyCredential!==void 0&&typeof globalThis.PublicKeyCredential=="function")}const tJ={stubThis:e=>e};function sL(e){const{id:t}=e;return{...e,id:mv(t),transports:e.transports}}function iL(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}class Ea extends Error{constructor({message:t,code:r,cause:n,name:a}){super(t,{cause:n}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a??n.name,this.code=r}}function rJ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ea({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(r.authenticatorSelection?.requireResidentKey===!0)return new Ea({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&r.authenticatorSelection?.userVerification==="required")return new Ea({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(r.authenticatorSelection?.userVerification==="required")return new Ea({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ea({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ea({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return r.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ea({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ea({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const n=globalThis.location.hostname;if(iL(n)){if(r.rp.id!==n)return new Ea({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ea({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new Ea({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ea({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}class nJ{constructor(){Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const oL=new nJ,aJ=["cross-platform","platform"];function lL(e){if(e&&!(aJ.indexOf(e)<0))return e}async function sJ(e){!e.optionsJSON&&e.challenge&&(console.warn("startRegistration() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useAutoRegister:r=!1}=e;if(!s0())throw new Error("WebAuthn is not supported in this browser");const n={...t,challenge:mv(t.challenge),user:{...t.user,id:mv(t.user.id)},excludeCredentials:t.excludeCredentials?.map(sL)},a={};r&&(a.mediation="conditional"),a.publicKey=n,a.signal=oL.createNewAbortSignal();let i;try{i=await navigator.credentials.create(a)}catch(A){throw rJ({error:A,options:a})}if(!i)throw new Error("Registration was not completed");const{id:c,rawId:u,response:f,type:p}=i;let g;typeof f.getTransports=="function"&&(g=f.getTransports());let m;if(typeof f.getPublicKeyAlgorithm=="function")try{m=f.getPublicKeyAlgorithm()}catch(A){B1("getPublicKeyAlgorithm()",A)}let x;if(typeof f.getPublicKey=="function")try{const A=f.getPublicKey();A!==null&&(x=ml(A))}catch(A){B1("getPublicKey()",A)}let N;if(typeof f.getAuthenticatorData=="function")try{N=ml(f.getAuthenticatorData())}catch(A){B1("getAuthenticatorData()",A)}return{id:c,rawId:ml(u),response:{attestationObject:ml(f.attestationObject),clientDataJSON:ml(f.clientDataJSON),transports:g,publicKeyAlgorithm:m,publicKey:x,authenticatorData:N},type:p,clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:lL(i.authenticatorAttachment)}}function B1(e,t){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${e}. You should report this error to them.
`,t)}function cL(){if(!s0())return q1.stubThis(new Promise(t=>t(!1)));const e=globalThis.PublicKeyCredential;return e?.isConditionalMediationAvailable===void 0?q1.stubThis(new Promise(t=>t(!1))):q1.stubThis(e.isConditionalMediationAvailable())}const q1={stubThis:e=>e};function iJ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ea({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ea({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=globalThis.location.hostname;if(iL(n)){if(r.rpId!==n)return new Ea({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ea({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ea({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}async function oJ(e){!e.optionsJSON&&e.challenge&&(console.warn("startAuthentication() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useBrowserAutofill:r=!1,verifyBrowserAutofillInput:n=!0}=e;if(!s0())throw new Error("WebAuthn is not supported in this browser");let a;t.allowCredentials?.length!==0&&(a=t.allowCredentials?.map(sL));const i={...t,challenge:mv(t.challenge),allowCredentials:a},c={};if(r){if(!await cL())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1&&n)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');c.mediation="conditional",i.allowCredentials=[]}c.publicKey=i,c.signal=oL.createNewAbortSignal();let u;try{u=await navigator.credentials.get(c)}catch(N){throw iJ({error:N,options:c})}if(!u)throw new Error("Authentication was not completed");const{id:f,rawId:p,response:g,type:m}=u;let x;return g.userHandle&&(x=ml(g.userHandle)),{id:f,rawId:ml(p),response:{authenticatorData:ml(g.authenticatorData),clientDataJSON:ml(g.clientDataJSON),signature:ml(g.signature),userHandle:x},type:m,clientExtensionResults:u.getClientExtensionResults(),authenticatorAttachment:lL(u.authenticatorAttachment)}}const lJ=async()=>{if(typeof window>"u"||!s0()||!window.PublicKeyCredential||typeof window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable!="function")return!1;try{return await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}catch{return!1}},cJ=()=>typeof window>"u"?!1:cL(),uJ=async e=>sJ(e),dJ=async(e,t=!1)=>oJ(e),zi={},fJ="false".toLowerCase()==="true",pJ="false".toLowerCase()==="true",dc=e=>(e||"").toLowerCase(),it=e=>dc(e)==="admin",dr=e=>{const t=dc(e);return t!=="admin"&&(t==="sales_rep"||t==="rep")},mJ=e=>dc(e)==="test_doctor",ol=e=>{const t=dc(e);return t==="doctor"||t==="test_doctor"},sy=()=>{},oi=()=>typeof document>"u"?!0:!document.hidden,rh=()=>typeof navigator>"u"?!0:navigator.onLine!==!1,hJ=e=>e?e.trim().toLowerCase()==="trash"?"Canceled":e.split(/[_\s]+/).map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "):"Pending",gJ=e=>{if(!e)return null;const t=String(e).trim();if(!t)return null;const r=t.toLowerCase().replace(/[\s-]+/g,"_");return r.includes("zelle")?"Zelle":r==="bacs"||r==="bank_transfer"||r==="direct_bank_transfer"||r.includes("direct_bank_transfer")||r.includes("direct_bank")||r.includes("bank_transfer")||r.includes("banktransfer")?"Direct Bank Transfer":r.includes("stripe")?"Card payment":t},YO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},yJ=(e,t)=>{if(!e)return null;const r=(t||"").toLowerCase(),n=encodeURIComponent(e);return r.includes("ups")?`https://www.ups.com/track?loc=en_US&tracknum=${n}`:r.includes("usps")?`https://tools.usps.com/go/TrackConfirmAction?tLabels=${n}`:r.includes("fedex")?`https://www.fedex.com/fedextrack/?trknbr=${n}`:r.includes("dhl")?`https://www.dhl.com/en/express/tracking.html?AWB=${n}`:`https://www.google.com/search?q=${n}`},hv=e=>{if(!e)return null;const t=e?.number||e?.id||e?.wooOrderNumber||e?.orderNumber||"unknown";let r=null;const n=e?.trackingNumber||e?.tracking_number||e?.tracking||null;if(n&&(r=String(n)),!r){const a=YO(e.integrationDetails||e.integrations),i=YO(a?.shipStation||a?.shipstation),c=i?.trackingNumber||i?.tracking_number||i?.tracking||null;if(c&&(r=String(c)),!r){const u=i?.shipments||i?.shipment||i?.data?.shipments||[];if(Array.isArray(u)){const f=x=>x?.trackingNumber||x?.tracking_number||x?.tracking||null,p=u.find(x=>x&&x.voided===!1&&f(x)),g=u.find(x=>x&&f(x)),m=p||g;m&&(r=String(f(m)))}}}return r?(console.info("[Tracking] Resolved tracking number",{order:t,tracking:r}),r):null},vJ=e=>{if(!e)return null;const t=String(e.status||"").trim().toLowerCase();if(t==="refunded"||t==="cancelled"||t==="canceled"||t==="trash"){const i=String(e.status||"").trim();return i.length>0?i:null}const n=e.shippingEstimate?.status||e.integrationDetails?.shipStation?.status||e.status||null;if(!n)return null;const a=String(n).trim();return a.length>0?a:null},U1=e=>{const t=vJ(e),n=(t?String(t):"").trim().toLowerCase();if(n==="trash"||n==="canceled"||n==="cancelled")return"Canceled";if(n==="refunded")return"Refunded";const a=typeof e?.trackingNumber=="string"?String(e.trackingNumber).trim():"",i=e?.shippingEstimate?.estimatedArrivalDate||null,c=typeof i=="string"&&i.trim().length>0;return n==="shipped"?a&&!c?"Processing":"Shipped":n.includes("out_for_delivery")||n.includes("out-for-delivery")?"Out for Delivery":n.includes("in_transit")||n.includes("in-transit")?"In Transit":n.includes("delivered")?"Delivered":a&&!c?"Processing":a&&c?"Shipped":n==="processing"?"Order Received":n==="completed"||n==="complete"?"Completed":n==="awaiting_shipment"||n==="awaiting shipment"?"Order Received":t?hJ(t):"Pending"},iy="peppro_variation_cache_v2",cs=e=>{if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},Bd=e=>e?!!(cs(e.addressLine1)||cs(e.city)||cs(e.state)||cs(e.postalCode)):!1,AN=(e,t)=>{if(!(!e&&!t))return{name:cs(e?.name)||cs(t),company:cs(e?.company),addressLine1:cs(e?.addressLine1),addressLine2:cs(e?.addressLine2),city:cs(e?.city),state:cs(e?.state),postalCode:cs(e?.postalCode),country:cs(e?.country)||"US",phone:cs(e?.phone),email:cs(e?.email)}},nh=e=>{if(!e)return"Dr";const t=e.split(" ").filter(Boolean);return t.length===1?t[0].slice(0,2).toUpperCase():`${t[0][0]}${t[t.length-1][0]}`.toUpperCase()},bJ=e=>{if(!e)return;const t={name:e.name||e.npiVerification?.name||null,addressLine1:e.officeAddressLine1||null,addressLine2:e.officeAddressLine2||null,city:e.officeCity||null,state:e.officeState||null,postalCode:e.officePostalCode||null,country:"US"};return Bd(t)?AN(t):void 0},xJ=(e,t)=>{if(!(!e||e.length===0))for(const r of e){if(Bd(r.shippingAddress))return AN(r.shippingAddress,t);if(Bd(r.billingAddress))return AN(r.billingAddress,t)}},di="/Peppro_IconLogo_Transparent_NoBuffer.png",XO=e=>{if(typeof e!="string")return null;let t=e.trim();if(!t)return null;t.startsWith("//")&&(t=`https:${t}`),/^http:\/\//i.test(t)&&(t=t.replace(/^http:\/\//i,"https://"));try{const r=new URL(t);return r.protocol="https:",r.pathname=r.pathname.split("/").map(n=>encodeURIComponent(decodeURIComponent(n))).join("/"),vy(r.toString())}catch{return vy(t)}},wJ="/reset-password",SJ=e=>e&&e.replace(/\/+$/,"")||"/",gv=()=>typeof window<"u"&&SJ(window.location.pathname)===wJ,PN=()=>typeof window>"u"?null:new URLSearchParams(window.location.search).get("token"),NJ=()=>gv()?"reset":"login",jJ=()=>gv()?PN():null,un=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;const t=Number(e);return Number.isFinite(t)?t:void 0},QO=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},_J=e=>{const t=[e?.image,e?.imageUrl,e?.image_url,e?.thumbnail,e?.thumb];for(const n of t){if(typeof n=="string"&&n.trim().length>0)return n.trim();if(n&&typeof n=="object"){const a=n.src||n.url||n.href||n.source;if(typeof a=="string"&&a.trim().length>0)return a.trim()}}const r=Array.isArray(e?.meta_data)?e.meta_data:Array.isArray(e?.meta)?e.meta:[];for(const n of r){const a=n?.value;if(typeof a=="string"&&a.trim().length>0)return a.trim();if(a&&typeof a=="object"){const i=a.src||a.url||a.href||a.source;if(typeof i=="string"&&i.trim().length>0)return i.trim()}}return null},ZO=e=>Array.isArray(e)?e.map(t=>{const r=un(t?.quantity),n=un(t?.price),a=un(t?.total)??(n&&r?n*r:void 0);return{id:t?.id?String(t.id):void 0,name:typeof t?.name=="string"?t.name:null,quantity:r??null,total:a??null,price:n??null,sku:typeof t?.sku=="string"&&t.sku.trim().length>0?t.sku.trim():null,productId:QO(t?.productId??t?.product_id??t?.wooProductId),variantId:QO(t?.variantId??t?.variation_id??t?.wooVariationId),image:_J(t)}}).filter(t=>t.name):[],Nn=e=>{if(typeof e=="string"){const t=e.trim();return t.length>0?t:null}return null},oy=e=>{if(!e||typeof e!="object")return null;const t=Nn(e.first_name)||Nn(e.firstName),r=Nn(e.last_name)||Nn(e.lastName),n=[t,r].filter(Boolean).join(" ").trim()||null;return{name:Nn(e.name)||n,company:Nn(e.company),addressLine1:Nn(e.addressLine1)||Nn(e.address_1),addressLine2:Nn(e.addressLine2)||Nn(e.address_2),city:Nn(e.city),state:Nn(e.state),postalCode:Nn(e.postalCode)||Nn(e.postcode),country:Nn(e.country),phone:Nn(e.phone),email:Nn(e.email)}},JO=(e,t)=>{if(!e||typeof e!="object")return null;const r=p=>{if(typeof p!="string"||!p.trim())return null;const g=new Date(p);return Number.isNaN(g.getTime())?null:g.toISOString()},n=p=>{const g=Number(p);return!Number.isFinite(g)||g<=0?null:Math.round(g*100)/100},a=p=>{if(!p||typeof p!="object")return null;const g=n(p.length)??n(p.lengthIn)??n(p.l),m=n(p.width)??n(p.widthIn)??n(p.w),x=n(p.height)??n(p.heightIn)??n(p.h);return!g||!m||!x?null:{length:g,width:m,height:x}},i=t?.fallbackDate||null,c=a(e.packageDimensions)||a(e.dimensions),u={carrierId:e.carrierId||e.carrier_id||null,serviceCode:e.serviceCode||e.service_code||null,serviceType:e.serviceType||e.service_type||null,estimatedDeliveryDays:Number.isFinite(Number(e.estimatedDeliveryDays))?Number(e.estimatedDeliveryDays):null,deliveryDateGuaranteed:e.deliveryDateGuaranteed||e.delivery_date||null,rate:un(e.rate)??null,currency:typeof e.currency=="string"?e.currency:null,estimatedArrivalDate:typeof e.estimatedArrivalDate=="string"?r(e.estimatedArrivalDate):typeof e.estimated_arrival_date=="string"?r(e.estimated_arrival_date):null,packageCode:e.packageCode||e.package_code||e.packageType||null,packageDimensions:c,weightOz:un(e.weightOz)??null,meta:typeof e.meta=="object"&&e.meta!==null?e.meta:null};if(!u.estimatedArrivalDate&&u.deliveryDateGuaranteed&&(u.estimatedArrivalDate=r(u.deliveryDateGuaranteed)),!u.estimatedArrivalDate&&u.estimatedDeliveryDays&&Number.isFinite(u.estimatedDeliveryDays)&&u.estimatedDeliveryDays>0&&typeof i=="string"){const p=new Date(i);if(!Number.isNaN(p.getTime())){const g=new Date(p.getTime());g.setDate(g.getDate()+Number(u.estimatedDeliveryDays)),u.estimatedArrivalDate=g.toISOString()}}return Object.values(u).some(p=>p!=null)?u:null},eT=e=>{if(typeof e!="string")return null;const t=e.replace(/^#/,"").trim().toLowerCase();return t.length>0?t:null},Id=e=>{if(typeof e=="number"&&Number.isFinite(e))return String(e);if(typeof e=="string"){const t=e.trim();if(!t)return null;if(/^\d+$/.test(t))return t;const r=t.match(/(\d+)/);if(r)return r[1]}return null},CJ=e=>{if(!e)return null;const t=e.integrationDetails?.wooCommerce||e.integrationDetails?.woocommerce||{},r=t.response||{},n=t.payload||{},a=[e.wooOrderId,e.woo_order_id,t.wooOrderId,t.woo_order_id,r.id,r.orderId,n.id,n.orderId];for(const i of a){const c=Id(i);if(c)return c}return null},EJ=(e,t)=>!e&&!t?null:e?t?{...t,...e,wooCommerce:{...e.wooCommerce||{},...t.wooCommerce||{}}}:e:t?{...t}:null,AJ=(e,t)=>{e.status=t.status||e.status,e.total=typeof t.total=="number"?t.total:e.total,e.currency=t.currency||e.currency,e.number=t.number||e.number,e.wooOrderNumber=t.wooOrderNumber||t.number||e.wooOrderNumber,e.updatedAt=t.updatedAt||e.updatedAt,typeof e.notes!="string"&&typeof t.notes=="string"&&(e.notes=t.notes),!Bd(e.shippingAddress)&&Bd(t.shippingAddress)&&(e.shippingAddress=t.shippingAddress),!Bd(e.billingAddress)&&Bd(t.billingAddress)&&(e.billingAddress=t.billingAddress),!e.shippingEstimate&&t.shippingEstimate&&(e.shippingEstimate=t.shippingEstimate),typeof t.shippingTotal=="number"&&(e.shippingTotal=t.shippingTotal),typeof t.taxTotal=="number"&&(e.taxTotal=t.taxTotal),!e.lineItems?.length&&t.lineItems?.length&&(e.lineItems=t.lineItems),e.paymentMethod=e.paymentMethod||t.paymentMethod,e.paymentDetails=e.paymentDetails||t.paymentDetails,e.integrationDetails=EJ(e.integrationDetails,t.integrationDetails),!e.wooOrderId&&t.wooOrderId&&(e.wooOrderId=t.wooOrderId),e.cancellationId||(e.cancellationId=t.cancellationId||t.wooOrderId||e.wooOrderId||e.id)},ah=(e,t)=>{const r=t?.includeCanceled??!1,n=[],a=new Map,i=new Map,c=f=>{if(!f)return!0;const p=String(f).trim().toLowerCase(),g=p==="trash"||p.includes("cancel")||p.includes("refund");return r||!g},u=f=>{n.push(f),f.id&&a.set(String(f.id),f);const p=eT(f.wooOrderNumber||f.integrationDetails?.wooCommerce?.response?.number||f.integrationDetails?.wooCommerce?.wooOrderNumber||f.number);p&&i.set(p,f)};return e&&Array.isArray(e.local)&&e.local.filter(f=>c(f?.status)).forEach(f=>{const p=f?.id?String(f.id):`local-${Math.random().toString(36).slice(2,10)}`,g=Id(f?.wooOrderId)||Id(f?.woo_order_id)||CJ(f),m=g||p;u({id:p,number:f?.number||p,trackingNumber:hv(f),status:f?.status==="trash"?"canceled":f?.status||"pending",currency:f?.currency||"USD",total:un(f?.total)??null,notes:typeof f?.notes=="string"?f.notes:null,createdAt:f?.createdAt||null,updatedAt:f?.updatedAt||null,source:"peppro",lineItems:ZO(f?.items||f?.lineItems||f?.line_items),integrations:f?.integrations||null,paymentMethod:f?.paymentMethod||null,paymentDetails:f?.paymentDetails||(f?.integrationDetails?.stripe?.cardLast4?`${f.integrationDetails?.stripe?.cardBrand||"Card"}  ${f.integrationDetails.stripe.cardLast4}`:f?.paymentMethod||null),integrationDetails:f?.integrationDetails||null,shippingAddress:oy(f?.shippingAddress||f?.shipping_address||f?.shipping),billingAddress:oy(f?.billingAddress||f?.billing_address||f?.billing),shippingEstimate:JO(f?.shippingEstimate||f?.shipping_estimate,{fallbackDate:f?.createdAt||null}),shippingTotal:un(f?.shippingTotal)??null,taxTotal:un(f?.taxTotal)??null,physicianCertified:f?.physicianCertified===!0,wooOrderNumber:Nn(f?.wooOrderNumber||f?.integrationDetails?.wooCommerce?.response?.number||f?.integrationDetails?.wooCommerce?.wooOrderNumber)||null,wooOrderId:g||null,cancellationId:m})}),e&&Array.isArray(e.woo)&&e.woo.filter(f=>c(f?.status)).forEach(f=>{const p=f?.id?String(f.id):f?.number?`woo-${f.number}`:`woo-${Math.random().toString(36).slice(2,10)}`,g={id:p,number:f?.number||p,trackingNumber:hv(f),wooOrderNumber:Nn(f?.number),wooOrderId:Id(f?.id)||Id(f?.wooOrderId)||null,status:f?.status==="trash"?"canceled":f?.status||"pending",currency:f?.currency||"USD",total:un(f?.total)??null,notes:typeof f?.notes=="string"?f.notes:null,createdAt:f?.createdAt||f?.dateCreated||f?.date_created||null,updatedAt:f?.updatedAt||f?.dateModified||f?.date_modified||null,source:"woocommerce",lineItems:ZO(f?.lineItems||f?.line_items||f?.items),integrations:f?.integrations||null,paymentMethod:f?.paymentMethod||null,paymentDetails:Nn(f?.paymentDetails)||Nn(f?.paymentMethod)||null,integrationDetails:f?.integrationDetails||null,shippingAddress:oy(f?.shippingAddress||f?.shipping||f?.shipping_address),billingAddress:oy(f?.billingAddress||f?.billing||f?.billing_address),shippingEstimate:JO(f?.shippingEstimate||f?.shipping_estimate,{fallbackDate:f?.createdAt||f?.dateCompleted||f?.date_created||null}),shippingTotal:un(f?.shippingTotal??f?.shipping_total)??null,taxTotal:un(f?.taxTotal??f?.total_tax??f?.totalTax)??null,physicianCertified:f?.physicianCertified===!0,cancellationId:Id(f?.id)||Id(f?.number)||p},m=Nn(f?.integrationDetails?.wooCommerce?.pepproOrderId),x=eT(g.wooOrderNumber),N=m&&a.get(m)||x&&i.get(x);N?AJ(N,g):n.push(g)}),n.sort((f,p)=>{const g=f.createdAt?new Date(f.createdAt).getTime():0;return(p.createdAt?new Date(p.createdAt).getTime():0)-g})},PJ=e=>(e||"").replace(/\s+/g," ").trim().toLowerCase(),kJ=new Set(["mr","mrs","ms","mx","dr","prof","sir","madam"]),OJ=new Set(["jr","sr","ii","iii","iv","v"]),tT=e=>PJ(e).split(" ").map(t=>t.replace(/[.,]/g,"")).filter(t=>t&&!kJ.has(t)&&!OJ.has(t)),TJ=(e,t)=>{const r=tT(e),n=tT(t);if(!r.length||!n.length)return!1;if(r.join(" ")===n.join(" "))return!0;const a=r[0],i=r[r.length-1],c=n[0],u=n[n.length-1];if(!a||!i||!c||!u||a!==c||i!==u)return!1;const f=r.slice(1,-1).join(" "),p=n.slice(1,-1).join(" ");return!f||!p?!0:f===p},IJ="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0%25' stop-color='%23B7D8F9'/%3E%3Cstop offset='100%25' stop-color='%2395C5F9'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='120' height='120' rx='16' fill='url(%23grad)'/%3E%3Cpath d='M35 80l15-18 12 14 11-12 12 16' stroke='%23ffffff' stroke-width='5' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3Ccircle cx='44' cy='43' r='9' fill='none' stroke='%23ffffff' stroke-width='5'/%3E%3C/svg%3E",RJ=600,rT=6e4,nT=4e3,aT=900,MJ=3,DJ=1200,z1=300*1e3,LJ=4500,Is=String(zi?.VITE_CATALOG_DEBUG||"").toLowerCase()==="true",dh="v1.9.79".trim()||"v1.9.69",sT=(()=>{const e=String(zi?.VITE_CATALOG_PAGE_CONCURRENCY||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?Math.min(Math.max(t,1),4):2})();typeof window<"u"&&(window.__PEPPRO_BUILD__=dh);const $J=(()=>{const e=String(zi?.VITE_VARIANT_PREFETCH_CONCURRENCY||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?Math.min(Math.max(t,1),12):1})(),iT=String(zi?.VITE_BACKGROUND_VARIANT_PREFETCH||"").toLowerCase().trim()==="true",FJ=(()=>{const e=String(zi?.VITE_BACKGROUND_VARIANT_PREFETCH_START_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:1500})(),BJ=(()=>{const e=String(zi?.VITE_BACKGROUND_VARIANT_PREFETCH_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?t:650})(),W1=(()=>{const e=String(zi?.VITE_VARIANT_POLL_INTERVAL_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?t:3e4})(),H1=(()=>{const e=String(zi?.VITE_REFERRAL_BACKGROUND_MIN_INTERVAL_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:3e4})(),sh=String(zi?.VITE_IMAGE_PREFETCH_ENABLED||"").toLowerCase().trim()!=="false",qJ=(()=>{const e=String(zi?.VITE_IMAGE_PREFETCH_CONCURRENCY||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>0?Math.min(Math.max(t,1),12):4})(),UJ=(()=>{const e=String(zi?.VITE_IMAGE_PREFETCH_DELAY_MS||"").trim(),t=e?Number.parseInt(e,10):Number.NaN;return Number.isFinite(t)&&t>=0?t:150})(),oT=[{key:"pending_combined",label:"Pending",statuses:["pending","contact_form"]},{key:"contacted",label:"Contacting",statuses:["contacted"]},{key:"verified",label:"Verified",statuses:["verified","verifying"]},{key:"account_created",label:"Account Created",statuses:["account_created"]},{key:"converted",label:"Converted",statuses:["converted"]},{key:"nuture",label:"Nuturing",statuses:["nuture"]}],i0=[{key:"pending",label:"Pending"},{key:"contacted",label:"Contacting"},{key:"verified",label:"Verified"},{key:"account_created",label:"Account Created"},{key:"converted",label:"Converted"},{key:"nuture",label:"Nuturing"}],lT=i0.filter(e=>e.key!=="nuture"),zJ=new Set(i0.filter(e=>e.key!=="pending").map(e=>e.key)),WJ=new Set([...i0.map(e=>e.key),"contact_form"]),Yn=e=>{const t=(e||"").toLowerCase().trim();return t==="verifying"?"verified":WJ.has(t)?t:"pending"},V1=e=>e?e.split(/\s+/).filter(Boolean).map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" ")||null:e??null,kN=[{key:"contact_form",label:"Pending"},{key:"contacted",label:"Contacting"},{key:"verified",label:"Verified"},{key:"account_created",label:"Account Created"},{key:"converted",label:"Converted"},{key:"nuture",label:"Nuturing"}];kN.filter(e=>e.key!=="nuture");const ly="__manual_delete__",HJ=(e,t=12)=>{if(!e)return[];const r=e.replace(/\//g," / ").split(" ").filter(Boolean),n=[];let a="";return r.forEach(i=>{const c=a?`${a} ${i}`:i;c.length<=t?a=c:(a&&n.push(a),a=i)}),a&&n.push(a),n},VJ=({active:e,payload:t,label:r})=>{if(!e||!t||t.length===0)return null;const n=t[0]?.payload||{},a=Array.isArray(n.names)?n.names:[],i=Number(n.count)||0,u=a.slice(0,10),f=a.length-u.length;return l.jsxs("div",{className:"pipeline-tooltip max-w-[260px] rounded-xl border border-slate-200/90 bg-white/95 px-3 py-2 text-xs text-slate-700 shadow-lg backdrop-blur-lg",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900",children:r}),l.jsxs("div",{className:"text-[11px] text-slate-500",children:[i," lead",i===1?"":"s"]}),u.length>0&&l.jsxs("ul",{className:"mt-2 max-h-40 space-y-1 overflow-y-auto pr-1 text-[11px] text-slate-700",children:[u.map(p=>l.jsx("li",{className:"truncate",children:p},p)),f>0&&l.jsxs("li",{className:"text-slate-500",children:["+",f," more"]})]})]})},GJ=({x:e=0,y:t=0,payload:r})=>{const n=HJ(r?.value||""),a=14,i=t+12-(n.length-1)*a/2;return l.jsx("g",{transform:`translate(${e},${i})`,children:l.jsx("text",{textAnchor:"middle",fill:"#334155",fontSize:12,children:n.map((c,u)=>l.jsx("tspan",{x:0,dy:u===0?0:a,children:c},`${c}-${u}`))})})},Ad=e=>{if(!e)return"Unknown";const t=e.toLowerCase().trim(),r=i0.find(n=>n.key===t);return r?r.label:t==="contact_form"?"Pending":e.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")},Pd=e=>e?e.replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim():"",cT=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},ip=(e=new Date)=>{const t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(t,r+1,0).getDate(),i=Math.ceil(a/2),c=n<=i?1:i,u=cT(new Date(t,r,c)),f=cT(e);return{start:u,end:f}},uT=e=>{if(!e)return"";const t=e.trim();try{const r=new Date(t);if(!Number.isNaN(r.getTime()))return r.setDate(r.getDate()+1),r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});const n=t.split("-");if(n.length===3){const c=parseInt(n[0],10),u=parseInt(n[1],10)-1,f=parseInt(n[2],10),p=new Date(c,u,f);if(!Number.isNaN(p.getTime()))return p.setDate(p.getDate()+1),p.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}const a=t.match(/^([A-Za-z]{3},?\s+\d{1,2}\s+[A-Za-z]{3}\s+\d{4})/);if(a)return a[1];const i=t.indexOf("T");if(i>0){const u=t.slice(0,i).split("-");if(u.length===3){const f=parseInt(u[0],10),p=parseInt(u[1],10)-1,g=parseInt(u[2],10),m=new Date(f,p,g);if(!Number.isNaN(m.getTime()))return m.setDate(m.getDate()+1),m.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}return t}catch{return t}},KJ=e=>{switch((e||"").toUpperCase().trim()){case"NPI_INVALID":return"Please enter a valid 10-digit NPI number.";case"NPI_NOT_FOUND":return"We could not verify that NPI in the CMS registry. Double-check the digits and try again.";case"NPI_ALREADY_REGISTERED":return"An account already exists for this NPI number.";case"NPI_LOOKUP_FAILED":return"We could not reach the CMS registry. Please try again in a moment.";default:return"Unable to verify this NPI number. Please confirm it is correct."}},YJ=["bulk_pricing_tiers","bulk_pricing","_bulk_pricing_tiers","quantity_discounts","quantity_discount"],cy=(e,t)=>{const r=Number(e),n=Number(t);return!Number.isFinite(r)||!Number.isFinite(n)||r<=0?null:{minQuantity:Math.max(1,Math.floor(r)),discountPercentage:Math.max(0,Math.min(100,Number(n)))}},uL=e=>{if(e==null)return[];if(Array.isArray(e))return e.map(t=>{if(typeof t=="object"&&t!==null){const r=t;return cy(r.minQuantity??r.min??r.quantity??r.qty,r.discountPercentage??r.discount??r.percent??r.percentage)}if(typeof t=="string"){const r=t.match(/(\d+(?:\.\d+)?)\s*[:=,-]\s*(\d+(?:\.\d+)?)/);if(r)return cy(r[1],r[2])}return null}).filter(t=>!!t);if(typeof e=="object")return Object.entries(e).map(([r,n])=>cy(r,n)).filter(r=>!!r);if(typeof e=="string")try{const t=JSON.parse(e);return uL(t)}catch{return e.split(/[\n,;]/).map(t=>t.trim()).filter(Boolean).map(t=>{const r=t.split(/[:=|-]/).map(n=>n.trim());return r.length>=2?cy(r[0].replace(/[^\d.]/g,""),r[1].replace(/[^\d.]/g,"")):null}).filter(t=>!!t)}return[]},dL=e=>{if(typeof e=="number")return Number.isFinite(e)?e:null;if(typeof e=="string"){const t=Number(e.replace(/[^\d.\-]/g,""));return Number.isFinite(t)?t:null}return null},fL=(e,t,r)=>{const n=Number(e),a=dL(t);if(!Number.isFinite(n)||!a||!Number.isFinite(r)||r<=0||n<=0)return null;const i=Math.max(0,Math.min(100,(1-a/r)*100));return{minQuantity:Math.floor(n),discountPercentage:Math.round(i)}},ON=(e,t)=>{if(!e||!Number.isFinite(t)||t<=0)return[];const r=[],n=(a,i)=>{r.push({min:a,price:i})};if(Array.isArray(e))e.forEach(a=>{typeof a=="object"&&a!==null&&n(a.quantity??a.min??a.minQuantity,a.price??a.value)});else if(typeof e=="object")Object.entries(e).forEach(([a,i])=>n(a,i));else if(typeof e=="string")try{const a=JSON.parse(e);return ON(a,t)}catch{e.split(/[\n,;]/).forEach(a=>{if(!a)return;const i=a.split(/[:=|-]/).map(c=>c.trim());i.length>=2&&n(i[0],i[1])})}return r.map(({min:a,price:i})=>fL(a,i,t)).filter(a=>!!a).sort((a,i)=>a.minQuantity-i.minQuantity)},XJ=(e,t)=>{if(!Array.isArray(e)||t<=0)return[];const r=[];return e.forEach(n=>{const a=String(n?.key||"");if(!a.includes("peppro_tier")||a.includes("note"))return;const i=a.match(/(\d+)/),c=i?Number(i[1]):null,u=dL(n?.value);if(!c||!u)return;const f=fL(c,u,t);f&&r.push(f)}),r.sort((n,a)=>n.minQuantity-a.minQuantity)},QJ=(e,t)=>{if(!Number.isFinite(t)||t<=0)return[];const r=ON(e.tiered_pricing_fixed_rules??null,t);if(r.length>0)return r;const n=e.meta_data??[],a=n.find(c=>c?.key==="_fixed_price_rules")?.value,i=ON(a,t);return i.length>0?i:XJ(n,t)},dT=e=>{if(e==null||e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},ZJ=e=>{if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const r=Array.from(t.matchAll(/(\d+(?:\.\d+)?)\s*mg/gi)).map(a=>`${a[1]}mg`);if(r.length===0)return null;const n=[];for(const a of r)(n.length===0||n[n.length-1]!==a)&&n.push(a);return n.length===0?null:n.length===1?n[0]:`${n[0]} / ${n[1]}`},JJ=e=>{const t=e.trim();return t?t.split("-").map(r=>{const n=r.trim();return n?n[0].toUpperCase()+n.slice(1):""}).filter(Boolean).join(" "):""},ih=(e,t)=>{const r=e?.categories;if(!Array.isArray(r)||r.length===0)return e;const n=c=>{if(typeof c=="number"&&Number.isFinite(c))return c;const u=Number.parseInt(String(c??"").replace(/[^\d]/g,""),10);return Number.isFinite(u)?u:null};let a=!1;const i=r.map(c=>{if(c&&typeof c=="object"){const p=n(c.id),g=typeof c.name=="string"?c.name.trim():"";let m=g;if(!m&&p!==null){const N=t.get(p);typeof N=="string"&&N.trim()&&(m=N.trim())}return!m&&typeof c.slug=="string"&&c.slug.trim()&&(m=JJ(c.slug)),m!==g||p!==null&&c.id!==p?(a=!0,{...c,id:p??c.id,name:m||c.name}):c}const u=n(c);if(u===null)return c;const f=t.get(u)||"";return a=!0,{id:u,name:f}});return a?{...e,categories:i}:e},G1=(e,t=[])=>{const r=U=>{if(U==null||U==="")return null;const Q=Number(U);return!Number.isFinite(Q)||Q<0?null:Math.floor(Q)},n=(e.images??[]).map(U=>XO(U?.src)).filter(U=>!!U),a=(()=>{const U=Array.isArray(e.categories)?e.categories:[],Q=[];for(const je of U){const Ie=(je?.name??"").toString().trim(),qe=Ie,Ve=Ie.toLowerCase();qe&&(Ve.includes("subscription")||Q.push(qe))}if(Q.length===0)return"";const fe=Q.filter(je=>je.toLowerCase()!=="uncategorized");return fe.length>0?fe[0]:Q[0]})(),i=(e.meta_data??[]).some(U=>{const Q=(U?.key??"").toString().toLowerCase(),fe=typeof U?.value=="string"?U.value.toLowerCase():"";return Q.includes("subscription")||fe.includes("subscription")}),c=(e.price_html??"").toLowerCase(),u=(e.categories??[]).some(U=>(U?.name??"").toLowerCase().includes("subscription")),f=`${e.description??""} ${e.short_description??""}`.toLowerCase(),p=i||c.includes("subscription")||c.includes("/ month")||(e.type??"").toLowerCase().includes("subscription")||(e.name??"").toLowerCase().includes("subscription")||u||f.includes("subscription"),g=U=>{if(U==null||U==="")return;const Q=Number.parseFloat(U);return Number.isFinite(Q)?Q:void 0},m=U=>{if(!U)return;const Q=Pd(U);if(!Q)return;const fe=Q.match(/(\d[\d,]*)(\.\d+)?/g);if(!fe||fe.length===0)return;const je=fe.map(Ie=>Number.parseFloat(Ie.replace(/,/g,""))).filter(Ie=>Number.isFinite(Ie)&&Ie>0);if(je.length!==0)return Math.min(...je)},x=U=>(U??[]).map(Q=>{const fe=Pd(Q?.name??"").trim(),je=Pd(Q?.option??"").trim();return!fe&&!je?null:{name:fe||je||"Option",value:je||fe||""}}).filter(Q=>!!(Q&&(Q.name||Q.value))),N=e.meta_data?.find(U=>{const Q=(U?.key??"").toString().toLowerCase();return YJ.includes(Q)}),A=N?uL(N.value):[];let C=[];const _=dT(e.weight),O=U=>{if(U==null||U==="")return;const Q=Number.parseFloat(String(U));return Number.isFinite(Q)&&Q>0?Q:void 0},R=e.dimensions?{lengthIn:O(e.dimensions.length),widthIn:O(e.dimensions.width),heightIn:O(e.dimensions.height)}:void 0,D=typeof e.id=="number"?e.id:Number.parseInt(String(e.id).replace(/[^\d]/g,""),10),$=(t??[]).map(U=>{const Q=Number.isFinite(U.id)?Number(U.id):Number.parseInt(String(U.id).replace(/[^\d]/g,""),10),fe=g(U.price)??g(U.regular_price),je=g(e.price)??g(e.regular_price)??0,Ie=fe??je,qe=g(U.regular_price),Ve=x(U.attributes),Me=Ve.length>0?Ve.map(ht=>ht.value||ht.name).filter(Boolean).join("  ").trim():"",Ae=ZJ(U.sku),et=!!Ae&&(!Me||Me.toLowerCase()==="option"||Me.includes("/")&&Ae&&Ae!==Me)?Ae:Me||(U.sku?U.sku:`Variant ${U.id}`),Ee=Number.isFinite(Q)?`woo-variation-${Q}`:`woo-variation-${U.id}`,lt=QJ(U,Ie);!C.length&&lt.length&&(C=lt);const wt=dT(U.weight)??_??null;return{id:Ee,wooId:Number.isFinite(Q)?Q:void 0,label:et,price:Ie,originalPrice:qe&&qe>Ie?qe:void 0,sku:U.sku?.trim()||void 0,inStock:(U.stock_status??"").toLowerCase()!=="outofstock",stockQuantity:r(U?.stock_quantity),attributes:Ve,image:XO(U.image?.src)??void 0,description:Pd(U.description??"")||void 0,weightOz:wt,dimensions:U.dimensions?{lengthIn:O(U.dimensions.length),widthIn:O(U.dimensions.width),heightIn:O(U.dimensions.height)}:void 0}}).filter(U=>Number.isFinite(U.price)),k=$.length>0,M=$.map(U=>U.price).filter(U=>Number.isFinite(U)),L=M.length>0?Math.min(...M):void 0,B=g(e.price)??g(e.regular_price)??m(e.price_html)??0,V=k?L??B:B,J=g(e.regular_price),K=!k&&J&&J>V?J:void 0,ce=Pd(e.short_description||e.description),ue=e.meta_data?.find(U=>U?.key==="manufacturer")?.value,de=A.length>0?A:C,G=$.map(U=>U.image).filter(U=>!!U);let ne=[...G,...n].filter((U,Q,fe)=>!!U&&fe.indexOf(U)===Q);const pe=k?(()=>{const U=$.map(fe=>fe.label).filter(Boolean);if(U.length<=3)return U.join("  ");const Q=U.length-3;return`${U.slice(0,3).join("  ")} +${Q} more`})():void 0,Y=k?$.find(U=>U.inStock)?.id??$[0]?.id:void 0,he=String(e.type||"").toLowerCase()==="variable",ve=Array.isArray(e.variations)?e.variations.length:0;return he&&(!k||G.length===0)?ne=[di]:ne.length===0&&(ne=[di]),{id:`woo-${e.id}`,wooId:Number.isFinite(D)?D:void 0,name:Pd(e.name)||`Product ${e.id}`,category:a,price:V,originalPrice:K,rating:Number.parseFloat(e.average_rating||"")||5,reviews:Number.isFinite(e.rating_count)?Number(e.rating_count):0,image:ne[0]??di,images:ne,image_loaded:!1,inStock:k?$.some(U=>U.inStock):(e.stock_status??"").toLowerCase()!=="outofstock",stockQuantity:r(e?.stock_quantity),prescription:!1,dosage:k?`${$.length} option${$.length===1?"":"s"} available`:he&&ve>0?`${ve} option${ve===1?"":"s"} available`:"See details",manufacturer:Pd(typeof ue=="string"?ue:"")||"",type:e.type??"General",isSubscription:p,description:ce||void 0,weightOz:_??null,dimensions:R,sku:e.sku?.trim()||void 0,variants:k?$:void 0,hasVariants:k,defaultVariantId:Y,variantSummary:pe,bulkPricingTiers:de.length>0?de:void 0}},eee=e=>{const t=(e.type??"").toLowerCase()==="variable"&&(!e.variants||e.variants.length===0),r=t?di:e.image,n=t||!e.images||e.images.length===0?[di]:e.images,a=e.variants&&e.variants.length>0?e.variants.map(i=>({id:i.id,strength:i.label||i.attributes.map(c=>c.value).join("  ")||"Option",basePrice:i.price,image:i.image,weightOz:i.weightOz??null,stockQuantity:i.stockQuantity??null})):t?[{id:"__peppro_needs_variant__",strength:"Select strength",basePrice:e.price,image:e.image,weightOz:e.weightOz??null,stockQuantity:null}]:[{id:e.id,strength:e.dosage||"Standard",basePrice:e.price,image:e.image,weightOz:e.weightOz??null,stockQuantity:e.stockQuantity??null}];return{id:e.id,name:e.name,category:e.category,image:r,images:n,inStock:e.inStock,stockQuantity:e.stockQuantity??null,manufacturer:e.manufacturer,weightOz:e.weightOz??null,variations:a,bulkPricingTiers:e.bulkPricingTiers??[]}},pL=y.forwardRef((e,t)=>l.jsxs("div",{ref:t,className:"catalog-skeleton-card squircle-xl","aria-hidden":"true",children:[l.jsx("div",{className:"catalog-skeleton-thumb"}),l.jsxs("div",{className:"catalog-skeleton-lines",children:[l.jsx("div",{className:"catalog-skeleton-line catalog-skeleton-line--short"}),l.jsx("div",{className:"catalog-skeleton-line"}),l.jsx("div",{className:"catalog-skeleton-line catalog-skeleton-line--medium"}),l.jsx("div",{className:"catalog-skeleton-line catalog-skeleton-line--xs"})]}),l.jsxs("div",{className:"catalog-skeleton-footer",children:[l.jsx("div",{className:"catalog-skeleton-pill"}),l.jsx("div",{className:"catalog-skeleton-pill catalog-skeleton-pill--short"})]})]}));pL.displayName="CatalogSkeletonCard";const tee=({product:e,onAddToCart:t,onEnsureVariants:r})=>{const n=y.useMemo(()=>eee(e),[e]);return l.jsx(M9,{product:n,onEnsureVariants:typeof r=="function"?a=>r(e,a):void 0,onAddToCart:(a,i,c)=>t(a,i,c)})};function ree(){const e=String(zi?.VITE_BROWSER_VARIATION_CACHE||"").toLowerCase().trim()==="true",t="https://ship14.shipstation.com",[r,n]=y.useState(null),[a,i]=y.useState([]),[c,u]=y.useState(!1),[f,p]=y.useState("wholesale"),[g,m]=y.useState(""),[x,N]=y.useState(null),[A,C]=y.useState(!1),[_,O]=y.useState(0),R=y.useRef(!1),[D,$]=y.useState(!1),[k,M]=y.useState(null),L=!!(r&&(dr(r.role)||it(r.role))),[B,V]=y.useState(NJ),[J,K]=y.useState(!1),[ce,ue]=y.useState(!1);y.useEffect(()=>{!L&&f==="retail"&&p("wholesale")},[L,f]);const[de,G]=y.useState(!1),[ne,pe]=y.useState(!1),[Y,he]=y.useState(!0),[ve,U]=y.useState(!1),[Q,fe]=y.useState(null),[je,Ie]=y.useState(null),[qe,Ve]=y.useState([]),[Me,Ae]=y.useState(!1),We=y.useRef(new Map),et=y.useRef(!1),Ee=y.useRef(new Map),lt=y.useRef(new Map),wt=y.useCallback(()=>{if(!et.current){if(typeof window>"u"){et.current=!0;return}if(!e){et.current=!0,We.current.clear();return}et.current=!0;try{const v=window.localStorage.getItem(iy)||window.sessionStorage.getItem(iy);if(!v)return;const S=JSON.parse(v);S&&typeof S=="object"&&S.data&&typeof S.data=="object"&&Object.entries(S.data).forEach(([E,b])=>{const P=Number(E);Number.isFinite(P)&&Array.isArray(b)&&We.current.set(P,b)})}catch(v){console.debug("[Catalog] Failed to load variation cache",v),We.current.clear()}}},[]),ht=y.useCallback(()=>{if(!(typeof window>"u")&&e)try{const v={};We.current.forEach((E,b)=>{v[String(b)]=E});const S=JSON.stringify({data:v,ts:Date.now()});window.localStorage.setItem(iy,S),window.sessionStorage.setItem(iy,S)}catch(v){console.debug("[Catalog] Failed to persist variation cache",v)}},[]),_t=y.useCallback(async()=>{if(r){U(!0),fe(null);try{const v=await CI.listPeptideForum(),S=Array.isArray(v?.items)?v.items:[],b=/localhost|127\\.0\\.0\\.1/i.test(Fe)&&S.length===0?[{id:"local-dev-dummy",title:"Dummy Forum Class (Local Dev)",date:new Date(Date.now()+10080*60*1e3).toISOString(),description:"Placeholder item for the local Node backend. Replace with real forum data when available.",link:"https://example.com",recording:null}]:S;Ve(b),Ie(typeof v?.updatedAt=="string"?v.updatedAt:null)}catch(v){Ve([]),Ie(null),fe(typeof v?.message=="string"&&v.message?v.message:"Unable to load The Peptide Forum right now.")}finally{U(!1)}}},[r]),Re=Y||it(r?.role);y.useEffect(()=>{if(!(!J||!r)){if(!Re){Ve([]),Ie(null),fe(null);return}_t()}},[J,r?.id,_t,Re]);const Ue=y.useRef(new Map),tt=y.useRef(new Map),rt=y.useRef(0),Ct=y.useRef(0),gt=y.useRef(0),fr=y.useRef([]),en=y.useRef(new Set),Sr=y.useRef(0),Qt=y.useRef([]),Wt=y.useRef(new Map),ds=y.useRef(new Set),Lr=y.useRef(new Map),Lt=y.useCallback(async(v,S)=>{const E=(v.type??"").toLowerCase()==="variable",b=S?.force===!0;if(!E||!b&&v.variants&&v.variants.length>0||!b&&Date.now()<rt.current)return v;wt();const P=typeof v.wooId=="number"?v.wooId:Number.parseInt(String(v.id).replace(/[^\d]/g,""),10);if(!Number.isFinite(P))return v;let q=e?We.current.get(P):void 0;q&&q.length===0&&(We.current.delete(P),q=void 0);let F=Ee.current.get(P);if(F){const oe=ih(F,lt.current);oe!==F&&(F=oe,Ee.current.set(P,oe))}const T=tt.current.get(P);if(T&&Date.now()<T.nextAt&&!b)return v;b&&tt.current.delete(P);const W=()=>{const ee=(tt.current.get(P)?.attempt??0)+1,ie=Math.min(6e4,1500*Math.pow(1.8,ee-1));tt.current.set(P,{attempt:ee,nextAt:Date.now()+ie})},te=oe=>Array.isArray(oe)&&oe.some(ee=>!!ee?.image?.src),ge=async()=>{if(q&&!b&&te(q))return q;const oe=await GO(P,{per_page:100,status:"publish",...b?{force:!0}:null}),ee=Array.isArray(oe)?oe:[];if(!b&&ee.length>0&&!te(ee))try{const ie=await GO(P,{per_page:100,status:"publish",force:!0}),we=Array.isArray(ie)?ie:[];return we.length>0?we:ee}catch{return ee}return ee};try{const oe=Ue.current.get(P),ee=oe??(async()=>{const Ne=await ge();return Ne.length>0&&e&&(We.current.set(P,Ne),ht()),Ne})();oe||Ue.current.set(P,ee);const ie=await ee;if(Ue.current.delete(P),!F)try{const Ne=await KO(P,b?{force:!0}:{});if(Ne&&typeof Ne=="object"&&"id"in Ne){const De=ih(Ne,lt.current);F=De,Ee.current.set(P,De)}}catch(Ne){console.debug("[Catalog] Failed to fetch Woo product payload",{wooId:P,error:Ne})}if(!F)return v;const we=G1(F,ie);return we.image_loaded=we.image!==di&&!!Wt.current.get(we.image)?.loaded,E&&(!we.variants||we.variants.length===0)&&Array.isArray(F.variations)&&F.variations.length>0?(W(),v):(tt.current.delete(P),Ct.current=0,rt.current=0,fd(Ne=>Ne.map(De=>De.id===v.id?we:De)),N(Ne=>Ne?.id===v.id?we:Ne),we)}catch(oe){Ue.current.delete(P),W();const ee=typeof oe?.status=="number"?oe.status:null,ie=typeof oe?.message=="string"?oe.message:"",we=typeof oe?.name=="string"?oe.name:"";if(!b&&(ee===429||ee===500||ee===502||ee===503||ee===504||ie==="Failed to fetch"||ie==="Load failed"||we==="TypeError")){Ct.current+=1;const De=Math.min(8,Ct.current),Te=Math.min(300*1e3,2e3*Math.pow(2,De-1));rt.current=Date.now()+Te,console.warn("[Catalog] Woo backoff engaged",{status:ee,attempt:De,delayMs:Te})}return console.warn("[Catalog] Failed to load variants for product",{productId:v.id,wooId:P,error:oe}),v}},[wt,ht]),fn=y.useCallback(v=>{if(!((v.type??"").toLowerCase()==="variable")||v.variants&&v.variants.length>0||Date.now()<rt.current)return;const E=typeof v.wooId=="number"?v.wooId:Number.parseInt(String(v.id).replace(/[^\d]/g,""),10);if(!Number.isFinite(E)||en.current.has(E))return;en.current.add(E);const b=()=>{for(;gt.current<$J&&fr.current.length>0;){const P=fr.current.shift();P&&(gt.current+=1,P())}};fr.current.push(()=>{if(Date.now()<rt.current){gt.current=Math.max(0,gt.current-1),en.current.delete(E),b();return}Lt(v).catch(()=>{}).finally(()=>{gt.current=Math.max(0,gt.current-1),en.current.delete(E),b()})}),b()},[Lt]),Zt=y.useCallback(v=>{if(!sh||typeof window>"u"||!v)return;const S=v.trim();if(!S||S===di||S.startsWith("data:"))return;const E=Wt.current.get(S)??{firstSeenAt:Date.now(),attempt:0,nextAt:0,queued:!1,inFlight:!1,loaded:!1};Wt.current.has(S)||Wt.current.set(S,{...E});const b=Wt.current.get(S);!b||b.loaded||b.inFlight||b.queued||Date.now()<b.nextAt||(b.queued=!0,Qt.current.push(S))},[]),tn=y.useCallback(()=>{if(!sh||typeof window>"u"||!oi())return;const v=()=>{for(;Sr.current<qJ&&Qt.current.length>0;){const S=Qt.current.shift();if(!S)continue;const E=Wt.current.get(S);if(!E||E.loaded||E.inFlight)continue;if(Date.now()<E.nextAt){E.queued=!1;continue}E.queued=!1,E.inFlight=!0,E.attempt+=1,Sr.current+=1;const b=new Image,q=window.setTimeout(()=>{b.onload=null,b.onerror=null;const F=Wt.current.get(S);if(F){F.inFlight=!1;const T=Math.min(12e4,1200*Math.pow(1.8,F.attempt-1));F.nextAt=Date.now()+T,window.setTimeout(()=>{Zt(S),v()},T+5)}Sr.current=Math.max(0,Sr.current-1),v()},2e4);b.onload=()=>{window.clearTimeout(q),b.onload=null,b.onerror=null;const F=Wt.current.get(S);F&&(F.loaded=!0,F.inFlight=!1),Sr.current=Math.max(0,Sr.current-1),window.setTimeout(v,UJ)},b.onerror=()=>{window.clearTimeout(q),b.onload=null,b.onerror=null;const F=Wt.current.get(S);if(F){F.inFlight=!1;const T=Math.min(12e4,1200*Math.pow(1.8,F.attempt-1));F.nextAt=Date.now()+T,window.setTimeout(()=>{Zt(S),v()},T+5)}Sr.current=Math.max(0,Sr.current-1),v()},b.src=S}};v()},[Zt]),Kr=y.useRef(null);y.useRef(null);const[Pa,gr]=y.useState(!1),[ea,Jt]=y.useState(!1),[$r,pn]=y.useState(!1),[Ha,_n]=y.useState(""),[ka,bt]=y.useState(!1),[Vt,Gt]=y.useState(!1),[Kt,Ht]=y.useState(""),[qt,er]=y.useState(jJ),[Fr,Ar]=y.useState(!1),[Br,rn]=y.useState(""),[yr,Va]=y.useState(""),[$s,ko]=y.useState(""),[fs,jl]=y.useState(""),mn=y.useRef(null),[pi,Nr]=y.useState(!1),[Ga,Ac]=y.useState(!1),ze=y.useRef(null),[me,Be]=y.useState(!1),Nt=y.useRef(null),at=y.useRef(null),st=y.useRef(null),Ot=y.useRef(!1),[It,jr]=y.useState({platform:!1,conditional:!1,checked:!1}),[qr,nn]=y.useState(fJ),zt=y.useRef(!1),[an,Ur]=y.useState(!1),[Oa,hn]=y.useState(!1),[ps,ta]=y.useState(!1),[Qp,Wi]=y.useState(""),mi=y.useRef(!1),ms=y.useRef(!1),Pr=y.useRef(null),[_l,Hi]=y.useState([]),[Fs,Pc]=y.useState(!1),[kc,hs]=y.useState(null),[Cl,Oo]=y.useState(null),[Ut,Oc]=y.useState(!0),Vi=y.useRef(null),Bs=y.useRef(null),qs=y.useRef([]),[hi,El]=y.useState(null),Tc=y.useCallback(()=>{const v=Date.now();El({tab:"details",open:!0,token:v})},[]),Gi=y.useMemo(()=>bJ(r),[r]),Ka=y.useMemo(()=>xJ(_l,r?.name||r?.npiVerification?.name||null),[_l,r?.name,r?.npiVerification?.name]),Us=y.useMemo(()=>{if(Gi)return Gi;if(Ka)return Ka;if(r)return{name:r.name||r.npiVerification?.name||null,addressLine1:r.officeAddressLine1||null,addressLine2:r.officeAddressLine2||null,city:r.officeCity||null,state:r.officeState||null,postalCode:r.officePostalCode||null,country:"US"}},[Gi,Ka,r]),Ya=y.useCallback(async()=>{if(!Ot.current){Ot.current=!0;try{const v=await yI();v&&(at.current&&(at.current.value=v.id),st.current&&(st.current.value=v.password))}finally{Ot.current=!1}}},[]);y.useEffect(()=>{const v=!!(r&&(ol(r.role)||dr(r.role)));return v&&!Pr.current&&(Pr.current={log:console.log,info:console.info,debug:console.debug,warn:console.warn},console.log=sy,console.info=sy,console.debug=sy,console.warn=sy),!v&&Pr.current&&(console.log=Pr.current.log,console.info=Pr.current.info,console.debug=Pr.current.debug,console.warn=Pr.current.warn,Pr.current=null),()=>{Pr.current&&(console.log=Pr.current.log,console.info=Pr.current.info,console.debug=Pr.current.debug,console.warn=Pr.current.warn,Pr.current=null)}},[r?.role]),y.useEffect(()=>{if(typeof window>"u")return;const v=()=>{gv()&&(V("reset"),er(PN()))};return window.addEventListener("popstate",v),()=>window.removeEventListener("popstate",v)},[]);const zs=y.useCallback(()=>{if(typeof window>"u")return;const v=window.location.origin;if(window.opener&&!window.opener.closed){try{window.opener.postMessage({type:"PASSWORD_RESET_COMPLETE"},v)}catch(S){console.warn("[Auth] Unable to notify opener about password reset completion",S)}window.close()}else window.location.replace("/")},[]);y.useEffect(()=>{if(!(typeof window>"u")){if(!yr){mn.current&&(window.clearTimeout(mn.current),mn.current=null);return}return mn.current=window.setTimeout(zs,1500),()=>{mn.current&&(window.clearTimeout(mn.current),mn.current=null)}}},[zs,yr]);const Ki=y.useCallback(()=>{typeof window>"u"||gv()&&window.history.replaceState({},"","/")},[]),Pn=y.useCallback(async v=>{const S=v?.includeCanceled??Ut,E=v?.force===!0;if(!r?.id)return Hi([]),Oo(null),hs(null),[];Pc(!0),hs(null);try{const b=await ls.getAll({includeCanceled:S,force:E});let P=ah(b,{includeCanceled:S});const q=Bs.current,F=Vi.current;if(q&&F)if(Date.now()-F.createdAtMs>600*1e3)Bs.current=null;else{const ge=q.number?String(q.number).trim():"",oe=q.id?String(q.id).trim():"",ee=F.pepproOrderId?String(F.pepproOrderId).trim():"";P.some(we=>{const Ne=we.number?String(we.number).trim():"",De=we.id?String(we.id).trim():"",Te=typeof we?.integrationDetails?.wooCommerce?.pepproOrderId=="string"?String(we.integrationDetails.wooCommerce.pepproOrderId).trim():"";return ge&&Ne&&Ne===ge||oe&&De&&De===oe||ee&&Te&&Te===ee})?Bs.current=null:P=[q,...P]}Hi(P);const T=b&&typeof b=="object"&&b.fetchedAt?b.fetchedAt:new Date().toISOString();Oo(typeof T=="string"?T:new Date().toISOString());const W=b&&typeof b=="object"&&b.wooError&&b.wooError.message||null;return hs(W),P}catch(b){if(b?.code==="AUTH_REQUIRED")return Hi([]),Oo(null),hs("Please sign in again to view your latest orders."),n(null),Ze.error("Your session expired. Please log in again."),[];const P=typeof b?.message=="string"?b.message:"Unable to load orders.";throw hs(P),b}finally{Pc(!1)}},[r?.id,Ut]),To=y.useCallback(async()=>{qs.current.forEach(F=>window.clearTimeout(F)),qs.current=[];const v=Vi.current,S=v?.wooOrderNumber||null,E=v?.wooOrderId||null,b=v?.pepproOrderId||null,P=[0,900,1800,3500],q=async()=>{try{if((await Pn({force:!0})).some(W=>{const te=String(W.number||"").trim(),ge=String(W.id||"").trim(),oe=typeof W?.integrationDetails?.wooCommerce?.pepproOrderId=="string"?String(W.integrationDetails.wooCommerce.pepproOrderId).trim():"";return S&&te&&te===S||E&&ge&&ge===E||b&&oe&&oe===b}))return!0}catch{}return!1};q();for(const F of P.slice(1)){const T=window.setTimeout(async()=>{await q()&&(qs.current.forEach(te=>window.clearTimeout(te)),qs.current=[])},F);qs.current.push(T)}},[Pn]),tf=y.useCallback(async v=>{if(v)try{const S=await ls.cancelOrder(v,"Cancelled via account portal"),E=!!S?.manualRefundReviewRequired||(()=>{const P=String(S?.order?.paymentMethod||S?.order?.paymentDetails||"").toLowerCase();return P.includes("zelle")||P.includes("bank")||P.includes("transfer")})();Ze.success(E?"Order canceled. If payment was already received, well refund you manually.":"Order canceled. A refund is on the way."),await Pn()}catch(S){throw S?.code==="AUTH_REQUIRED"?(n(null),Ze.error("Your session expired. Please log in again to cancel orders."),new Error("Please log in again to cancel orders.")):S}},[Pn]),ga=y.useCallback(()=>{Oc(v=>{const S=!v;return Pn({includeCanceled:S}).catch(()=>{}),S})},[Pn]);y.useEffect(()=>{let v=!1;return(async()=>{const S=await lJ(),E=cJ();v||jr({platform:S,conditional:E,checked:!0})})(),()=>{v=!0}},[]),y.useEffect(()=>()=>{Vn.current&&clearTimeout(Vn.current)},[]),y.useEffect(()=>{if(!r?.id){Hi([]),Oo(null),hs(null);return}Pn()},[r?.id,Pn]),y.useEffect(()=>{let v=!1,S=null;const E=async()=>{if(!(R.current||v)){R.current=!0;try{await kd(),console.debug("[Health] API warmup complete")}catch(b){console.warn("[Health] API warmup failed",b),v||(R.current=!1,S=window.setTimeout(E,1200));return}R.current=!1}};return E(),()=>{v=!0,S!==null&&window.clearTimeout(S)}},[]),y.useEffect(()=>{!r&&_>0&&kd().catch(v=>{console.warn("[Health] Login prompt warmup failed",v)})},[_,r]),y.useEffect(()=>{if(typeof window>"u"||r)return;let v=!1;const S="login-keepalive",E=Math.max(2e4,rT*2),b=async()=>{if(!v&&!(!oi()||!rh())&&cl(S,E))try{await kd()}catch(q){v||console.warn("[Health] Keep-alive ping failed",q)}};b();const P=window.setInterval(()=>{b()},rT);return()=>{v=!0,$i(S),window.clearInterval(P)}},[r]),y.useEffect(()=>{if(typeof window>"u"||!r)return;const v=()=>{li.markOffline()};return window.addEventListener("pagehide",v),window.addEventListener("beforeunload",v),()=>{window.removeEventListener("pagehide",v),window.removeEventListener("beforeunload",v)}},[r?.id]),y.useEffect(()=>{if(J&&r&&ne){G(!0);const v=window.setTimeout(()=>{G(!1),pe(!1)},1500);return()=>{window.clearTimeout(v),G(!1)}}ne||G(!1)},[J,r?.id,ne]);const Ru=y.useCallback(v=>{n(v),K(!0),pe(!0),G(!0);const S=(v.visits??1)>1;ue(S),M(null),gr(!1),Jt(!1),pn(!1),ms.current=!1},[]),Al=y.useCallback(async v=>{const{requestId:S,publicKey:E}=await li.passkeys.getAuthenticationOptions(v?.emailHint||void 0),b=await dJ(E,!!v?.useConditionalUI),P=await li.passkeys.completeAuthentication({requestId:S,assertionResponse:b});return Ru(P),P},[Ru]),Pl=y.useCallback(async()=>{if(!(r||zt.current)){zt.current=!0;try{await Al({useConditionalUI:!0})}catch(v){!(v instanceof DOMException)||v.name!=="NotAllowedError"?console.debug("[Passkey] Conditional login dismissed or failed",v):nn(!1)}finally{zt.current=!1}}},[Al,r,nn]);y.useEffect(()=>{!r&&qr&&It.conditional&&!mi.current&&(mi.current=!0,Pl())},[r,qr,It.conditional,Pl]);const Mu=y.useCallback(()=>{Ya()},[Ya]),Zp=y.useCallback(async()=>{if(!It.platform){gn("Passkey login is not available on this device.");return}const v=at.current?.value?.trim();if(!v){gn("Enter your email to sign in with a passkey.");return}Ur(!0),gn("");try{await Al({emailHint:v})}catch(S){if(S instanceof DOMException&&S.name==="NotAllowedError")return;const E=(S?.message||"").toUpperCase();E.includes("PASSKEY_NOT_REGISTERED")?gn("No passkey found for that email yet. Sign in with your password once to enable passkeys."):E.includes("EMAIL_NOT_FOUND")?gn("We could not find that email."):gn("Unable to sign in with passkey. Please try again or use your password."),console.warn("[Passkey] Authentication failed",S)}finally{Ur(!1)}},[It.platform,Al]),Io=y.useCallback(async()=>{if(r){if(!It.platform){Wi("Passkey setup is not available on this device.");return}ta(!0),Wi("");try{const{requestId:v,publicKey:S}=await li.passkeys.getRegistrationOptions(),E=await uJ(S),b=await li.passkeys.completeRegistration({requestId:v,attestationResponse:E,label:"This device"});b?.user&&n(b.user)}catch(v){(v?.message||"").toUpperCase().includes("PASSKEY_ALREADY_REGISTERED")?Wi("A passkey is already registered for this device."):v instanceof DOMException&&v.name==="NotAllowedError"||Wi("Unable to enable biometric sign-in. Please try again."),console.warn("[Passkey] Registration failed",v)}finally{ta(!1)}}},[r,It.platform]);y.useEffect(()=>{pJ&&(!r||!It.platform||ms.current||(ms.current=!0,Io()))},[r,It.platform,Io]),y.useEffect(()=>{try{const b=localStorage.getItem("peppro:shop-enabled");b!==null&&Qc(b!=="false")}catch{Qc(!0)}try{const b=localStorage.getItem("peppro:peptide-forum-enabled");b!==null&&he(b!=="false")}catch{he(!0)}try{const b=localStorage.getItem("peppro:research-dashboard-enabled");b!==null&&Uo(b!=="false")}catch{Uo(!1)}try{const b=localStorage.getItem("peppro:test-payments-override-enabled");b!==null&&fo(b==="true")}catch{fo(!1)}let v=!0;try{const b=localStorage.getItem("peppro:settings-support:research");b!==null&&(v=b!=="false")}catch{v=!0}Wo(b=>({...b,research:v}));let S=!1;return(async()=>{try{const[b,P,q]=await Promise.allSettled([cn.getShopStatus(),cn.getForumStatus(),cn.getResearchStatus()]);if(S)return;if(b.status==="fulfilled"){const F=b.value;F&&typeof F.shopEnabled=="boolean"&&(Qc(F.shopEnabled),localStorage.setItem("peppro:shop-enabled",F.shopEnabled?"true":"false"))}if(P.status==="fulfilled"){const F=P.value;F&&typeof F.peptideForumEnabled=="boolean"&&(he(F.peptideForumEnabled),localStorage.setItem("peppro:peptide-forum-enabled",F.peptideForumEnabled?"true":"false"))}if(q.status==="fulfilled"){const F=q.value;if(F&&typeof F.researchDashboardEnabled=="boolean"){Wo(T=>({...T,research:!0}));try{localStorage.setItem("peppro:settings-support:research","true")}catch{}Uo(F.researchDashboardEnabled),localStorage.setItem("peppro:research-dashboard-enabled",F.researchDashboardEnabled?"true":"false")}}else{const F=q.reason;if((typeof F?.status=="number"?F.status:null)===404){Wo(W=>({...W,research:!1}));try{localStorage.setItem("peppro:settings-support:research","false")}catch{}}}}catch(b){console.warn("[Settings] Unable to load settings, using local fallback",b)}})(),()=>{S=!0}},[]),y.useEffect(()=>{if(!r||!it(r.role)||J)return;let v=!1;return(async()=>{try{const E=await cn.getTestPaymentsOverrideStatus();if(v)return;if(E&&typeof E.testPaymentsOverrideEnabled=="boolean"){fo(E.testPaymentsOverrideEnabled);try{localStorage.setItem("peppro:test-payments-override-enabled",E.testPaymentsOverrideEnabled?"true":"false")}catch{}}}catch(E){const b=typeof E?.status=="number"?E.status:null;b&&b!==404&&console.warn("[Settings] Failed to refresh test payments override",E)}})(),()=>{v=!0}},[r?.id,r?.role,J]),y.useEffect(()=>{if(!r)return;let v=!1;return(async()=>{try{const E=await cn.getResearchStatus();if(v)return;if(E&&typeof E.researchDashboardEnabled=="boolean"){Wo(b=>({...b,research:!0}));try{localStorage.setItem("peppro:settings-support:research","true")}catch{}Uo(E.researchDashboardEnabled);try{localStorage.setItem("peppro:research-dashboard-enabled",E.researchDashboardEnabled?"true":"false")}catch{}}}catch(E){if((typeof E?.status=="number"?E.status:null)===404){Wo(P=>({...P,research:!1}));try{localStorage.setItem("peppro:settings-support:research","false")}catch{}}else console.warn("[Research] Failed to refresh research setting",E)}})(),()=>{v=!0}},[r?.id]);const Cn=y.useCallback(async v=>{if(!it(r?.role))return;ri(E=>({...E,shop:!0}));let S=!0;Qc(E=>(S=E,v));try{localStorage.setItem("peppro:shop-enabled",v?"true":"false")}catch{}try{const E=await cn.updateShopStatus(v),b=E&&typeof E.shopEnabled=="boolean"?E.shopEnabled:v;Qc(b);try{localStorage.setItem("peppro:shop-enabled",b?"true":"false")}catch{}}catch(E){console.warn("[Shop] Failed to update shop toggle",E),Ze.error("Unable to update Shop setting right now."),Qc(S);try{localStorage.setItem("peppro:shop-enabled",S?"true":"false")}catch{}}finally{ri(E=>({...E,shop:!1}))}},[r?.role]),Yi=y.useCallback(async v=>{if(!it(r?.role))return;ri(E=>({...E,forum:!0}));let S=!0;he(E=>(S=E,v));try{localStorage.setItem("peppro:peptide-forum-enabled",v?"true":"false")}catch{}try{const E=await cn.updateForumStatus(v),b=E&&typeof E.peptideForumEnabled=="boolean"?E.peptideForumEnabled:v;he(b);try{localStorage.setItem("peppro:peptide-forum-enabled",b?"true":"false")}catch{}}catch(E){console.warn("[Forum] Failed to update forum toggle",E),Ze.error("Unable to update Forum setting right now."),he(S);try{localStorage.setItem("peppro:peptide-forum-enabled",S?"true":"false")}catch{}}finally{ri(E=>({...E,forum:!1}))}},[r?.role]),Xa=y.useCallback(async v=>{if(!it(r?.role))return;if(!zo.research){Ze.error("Research setting isn't available on this server yet.");return}ri(E=>({...E,research:!0}));let S=!1;Uo(E=>(S=E,v));try{localStorage.setItem("peppro:research-dashboard-enabled",v?"true":"false")}catch{}try{const E=await cn.updateResearchStatus(v),b=E&&typeof E.researchDashboardEnabled=="boolean"?E.researchDashboardEnabled:v;Uo(b);try{localStorage.setItem("peppro:research-dashboard-enabled",b?"true":"false")}catch{}}catch(E){console.warn("[Research] Failed to update research toggle",E);const b=typeof E?.status=="number"?E.status:null;if(b===404){Wo(P=>({...P,research:!1}));try{localStorage.setItem("peppro:settings-support:research","false")}catch{}Ze.error("Research setting isn't available on this server yet.")}if(b===null)try{await cn.getResearchStatus()}catch(P){if((typeof P?.status=="number"?P.status:null)===404){Wo(F=>({...F,research:!1}));try{localStorage.setItem("peppro:settings-support:research","false")}catch{}}}b!==404&&Ze.error("Unable to update Research setting right now."),Uo(S);try{localStorage.setItem("peppro:research-dashboard-enabled",S?"true":"false")}catch{}}finally{ri(E=>({...E,research:!1}))}},[r?.role]),Jp=y.useCallback(async v=>{if(!it(r?.role))return;ri(E=>({...E,testPaymentsOverride:!0}));let S=!1;fo(E=>(S=E,v));try{localStorage.setItem("peppro:test-payments-override-enabled",v?"true":"false")}catch{}try{const E=await cn.updateTestPaymentsOverrideStatus(v),b=E&&typeof E.testPaymentsOverrideEnabled=="boolean"?E.testPaymentsOverrideEnabled:v;fo(b);try{localStorage.setItem("peppro:test-payments-override-enabled",b?"true":"false")}catch{}}catch(E){console.warn("[Payments] Failed to update test payments override",E),Ze.error("Unable to update test payments override right now."),fo(S);try{localStorage.setItem("peppro:test-payments-override-enabled",S?"true":"false")}catch{}}finally{ri(E=>({...E,testPaymentsOverride:!1}))}},[r?.role]),[rf,gn]=y.useState(""),[kl,En]=y.useState(""),[Xi,Ta]=y.useState("idle"),[Ic,gi]=y.useState(""),Ro=y.useRef(null),Qa=y.useRef(0),[kn,Mo]=y.useState({categories:[],types:[]}),[kr,yi]=y.useState(null),Du=Math.max(0,Number(kr?.availableCredits??r?.referralCredits??0)),[Ws,vi]=y.useState([]),[ir,Qi]=y.useState(null),Hs=y.useCallback(v=>{if(v==null)return null;let S=String(v).trim();if(!S)return null;S=S.replace(/^mailto:/i,"").trim();const E=S.match(/<([^>]+)>/);return E?.[1]&&(S=E[1].trim()),S=S.replace(/\s+/g,"").toLowerCase(),S&&S.includes("@")?S:null},[]),Vs=y.useCallback(v=>{const S=Hs(v);if(!S)return[];const E=new Set,b=T=>{const W=T.trim().toLowerCase();W&&(E.add(W),E.add(`email:${W}`))};b(S);const[P,q]=S.split("@",2);if(!P||!q)return Array.from(E);const F=P.split("+",1)[0];if(F&&b(`${F}@${q}`),q==="gmail.com"||q==="googlemail.com"){const T=F.replace(/\./g,"");T&&b(`${T}@${q}`)}return Array.from(E)},[Hs]),Zi=y.useCallback(v=>{if(v==null)return[];const S=String(v).trim();if(!S)return[];const E=S.replace(/\D/g,""),b=new Set;return b.add(`phone:${S}`),E&&(b.add(`phone:${E}`),E.length===11&&E.startsWith("1")&&b.add(`phone:${E.slice(1)}`)),Array.from(b)},[]),nf=y.useCallback(v=>{if(!v)return null;const S=String(v).trim().toLowerCase();return S||null},[]),af=y.useMemo(()=>{if(typeof window>"u")return!1;const v=new URLSearchParams(window.location.search).get("debugAccountMatch");return v===null?!1:v===""||v==="1"?!0:["true","yes","on"].includes(v.toLowerCase().trim())},[]),Rc=y.useMemo(()=>{const v=ir,S=[...Array.isArray(v?.users)?v.users:[],...Array.isArray(v?.accounts)?v.accounts:[],...Array.isArray(v?.doctors)?v.doctors:[]],E=new Set,b=P=>{if(!P)return;const q=String(P).trim().toLowerCase();q&&E.add(q)};return S.forEach(P=>{const q=dc(P?.role);if(q==="admin"||q==="sales_rep"||q==="rep")return;const F=P?.email||P?.referredContactEmail||P?.userEmail||P?.doctorEmail,T=P?.phone||P?.phoneNumber||P?.phone_number||P?.referredContactPhone||null;Vs(F).forEach(W=>b(W)),Zi(T).forEach(W=>b(W)),b(P?.id!==void 0&&P?.id!==null?`acct:${String(P.id).trim()}`:null),b(P?.userId!==void 0&&P?.userId!==null?`acct:${String(P.userId).trim()}`:null),b(P?.doctorId!==void 0&&P?.doctorId!==null?`acct:${String(P.doctorId).trim()}`:null),b(P?.accountId!==void 0&&P?.accountId!==null?`acct:${String(P.accountId).trim()}`:null),b(P?.account_id!==void 0&&P?.account_id!==null?`acct:${String(P.account_id).trim()}`:null)}),E},[Vs,Zi,ir]),Do=y.useMemo(()=>{const v=ir,S=[...Array.isArray(v?.users)?v.users:[],...Array.isArray(v?.accounts)?v.accounts:[],...Array.isArray(v?.doctors)?v.doctors:[]],E=new Map,b=(P,q)=>{if(!P)return;const F=String(P).trim().toLowerCase();if(!F)return;const T=E.get(F);(!T||!T.profileImageUrl&&q.profileImageUrl)&&E.set(F,q)};return S.forEach(P=>{const q=dc(P?.role);if(q==="admin"||q==="sales_rep"||q==="rep")return;const F=Hs(P?.email||P?.referredContactEmail||P?.userEmail||P?.doctorEmail),T=P?.phone||P?.phoneNumber||P?.phone_number||P?.referredContactPhone||null,W=P?.id||P?.userId||P?.doctorId||P?.accountId||P?.account_id||P?.referredContactAccountId||null,te=P?.name||[P?.firstName,P?.lastName].filter(Boolean).join(" ").trim()||P?.doctorName||P?.username||F||"Account",ge=P?.profileImageUrl||P?.profile_image_url||P?.avatar||P?.avatarUrl||null,oe={name:te,email:F||P?.referredContactEmail||null,profileImageUrl:ge};if(Vs(F).forEach(ee=>b(ee,oe)),T&&Zi(T).forEach(ee=>b(ee,oe)),W){const ee=String(W).trim();ee&&(b(`acct:${ee}`,oe),b(`acct:${ee.toLowerCase()}`,oe),b(ee,oe))}}),E},[Vs,Zi,Hs,ir]),On=y.useMemo(()=>(()=>{let v=0;const S=E=>{const b=nf(E);return b?Rc.has(b):!1};return(ir?.referrals??[]).map(E=>{const b=typeof E.referredContactHasAccount=="boolean"?E.referredContactHasAccount:null,P=b===null,q=P?Vs(E.referredContactEmail):[],F=P?Zi(E.referredContactPhone):[],T=E.referredContactAccountId!==void 0&&E.referredContactAccountId!==null?String(E.referredContactAccountId).trim():"",W=T?`acct:${T}`:null,te=P?q.some(ie=>S(ie)):!1,ge=P?F.some(ie=>S(ie)):!1,oe=P?S(W):!1,ee=P?te||ge||oe:!!b;return af&&P&&!ee&&v<25&&(q.length>0||F.length>0||W)&&(v+=1,console.info("[AccountMatch] no match",{referredContactName:E.referredContactName||null,referredContactEmail:E.referredContactEmail||null,referredContactPhone:E.referredContactPhone||null,referredContactAccountId:E.referredContactAccountId||null,normalizedKeys:{emailKeys:q,phoneKeys:F,acctKey:W},matched:{byEmail:te,byPhone:ge,byAccountId:oe}})),{...E,status:Yn(E.status),referredContactName:V1(E.referredContactName),referrerDoctorName:V1(E.referrerDoctorName),referredContactHasAccount:ee}})})(),[Rc,Zi,Vs,af,Hs,nf,ir?.referrals]),Za=y.useCallback(v=>{const S=v,E=v.integrationDetails||v.integrations,b=S.userId??S.user_id??S.doctorId??S.doctor_id??S.salesRepDoctorId??S.sales_rep_doctor_id??E?.doctorId??E?.referrerDoctorId??E?.doctor_id??E?.referrer_doctor_id??E?.userId??null;return b?String(b):null},[]),Ji=y.useCallback(v=>{if(!r?.email)return!1;const S=(v?.referredContactEmail||"").toLowerCase();return S.length>0&&S===r.email.toLowerCase()},[r?.email]),bi=r?.id||null,xi=r?.role||null,eo=r?.salesRepId||null,Lo=y.useMemo(()=>{const v=eo||bi||null;return v?`peppro:sales-doctor-notes:v1:${String(v)}`:null},[bi,eo]),[Ol,to]=y.useState({}),[Mc,Gs]=y.useState("");y.useEffect(()=>{if(!Lo){to({});return}if(!(typeof window>"u"))try{const v=window.localStorage.getItem(Lo);if(!v){to({});return}const S=JSON.parse(v);to(S&&typeof S=="object"?S:{})}catch{to({})}},[Lo]);const sf=y.useCallback(v=>{if(to(v),!(!Lo||typeof window>"u"))try{window.localStorage.setItem(Lo,JSON.stringify(v))}catch{}},[Lo]),[gs,Lu]=y.useState([]),$o=y.useMemo(()=>{const v=new Set;return gs.forEach(S=>{const E=Za(S)||S.userId||S.doctorId;E&&v.add(`id:${String(E)}`),[S.userEmail,S.doctorEmail,S.email].forEach(P=>{P&&typeof P=="string"&&v.add(`email:${P.toLowerCase()}`)})}),v},[Za,gs]),Yr=y.useCallback(v=>{const S=r?.id!=null?String(r.id):"",E=typeof r?.email=="string"?r.email.toLowerCase():"",b=typeof v?.referredContactEmail=="string"?v.referredContactEmail:typeof v?.email=="string"?v.email:"",P=b?b.toLowerCase():"";if(E&&P&&E===P)return!1;const q=v?.referredContactAccountId||v?.referredContactId||v?.userId||v?.doctorId;if(S&&q&&String(q)===S)return!1;if((un(v?.referredContactTotalOrders)??un(v?.totalOrders)??0)>0)return!0;const T=P;return!!(T&&$o.has(`email:${T}`)||q&&$o.has(`id:${String(q)}`))},[$o,r?.email,r?.id]),Tl=y.useCallback(v=>Yn(v?.status)==="nuture"?!0:Yr(v),[Yr]),wi=y.useCallback(v=>{if(typeof v!="string")return null;const S=v.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return S.trim()?S:null},[]),ro=y.useCallback(v=>{const S=v?hv(v):null,E=v&&typeof v?.trackingNumber=="string"?String(v.trackingNumber).trim():"",b=(v&&typeof v?.shippingCarrier=="string"?String(v.shippingCarrier):"")||(v&&typeof v.shippingEstimate?.carrierId=="string"?String(v.shippingEstimate.carrierId):"")||"",P=(v&&typeof v?.shippingService=="string"?String(v.shippingService):"")||(v&&typeof v.shippingEstimate?.serviceType=="string"?String(v.shippingEstimate.serviceType):"")||"",q=v&&typeof v.status=="string"?String(v.status):"",F=v&&typeof v?.expectedShipmentWindow=="string"?String(v.expectedShipmentWindow):"";return{trackingNumber:(E||S||"").toString().trim(),shippingCarrier:b.toString().trim(),shippingService:P.toString().trim(),status:q.toString().trim(),expectedShipmentWindow:F.toString().trim()}},[]),Dc=v=>{const S=String(v||"").trim();return S.length?S:null},[Ia,Ja]=y.useState({trackingNumber:"",shippingCarrier:"",shippingService:"",status:"",expectedShipmentWindow:""}),[ys,Ks]=y.useState({trackingNumber:"",shippingCarrier:"",shippingService:"",status:"",expectedShipmentWindow:""}),[vs,Lc]=y.useState(!1),X=y.useRef(null),[se,xe]=y.useState(null),[Ce,He]=y.useState(!1),[ke,ut]=y.useState(""),[Pt,Tt]=y.useState(!1),[yn,sn]=y.useState(new Set),[Tn,bs]=y.useState(new Set),[ra,na]=y.useState(new Set),Si=y.useRef(!1),Ra=y.useRef(new Set),qn=y.useRef([]),[Ke,xs]=y.useState(null),[Un,ws]=y.useState(!1),[Or,vn]=y.useState(!1),[Ys,zn]=y.useState(!1),or=y.useRef(null),aa=y.useCallback(()=>{zn(!0),or.current&&window.clearTimeout(or.current),or.current=window.setTimeout(()=>{zn(!1),or.current=null},1e3)},[]),[es,Ss]=y.useState(""),[Ni,Wn]=y.useState(!1);y.useEffect(()=>{if(!Ke?.doctorId||!ol(Ke.role)){Gs(""),vn(!1),zn(!1);return}const v=String(Ke.doctorId);let S=!1;return(async()=>{Gs(""),vn(!0);try{const b=(await da.getSalesProspect(v))?.prospect?.notes;S||(Gs(typeof b=="string"?b:""),vn(!1),zn(!1))}catch{if(!S){const E=String(Ke.doctorId);Gs(Ol[E]||""),vn(!1),zn(!1)}}})(),()=>{S=!0}},[Ke?.doctorId,Ke?.role,Ol]),y.useEffect(()=>{if(!Ke?.doctorId){Ss("");return}Ss(Ke.phone||"")},[Ke?.doctorId,Ke?.phone]),y.useEffect(()=>()=>{or.current&&(window.clearTimeout(or.current),or.current=null)},[]);const Xs=y.useCallback(async()=>{if(!Ke?.doctorId||!ol(Ke.role))return;const v=String(Ke.doctorId);if(r&&(dr(r.role)||it(r.role)))try{Vr(P=>({...P,updatingReferral:v,error:null})),await da.upsertSalesProspect(v,{notes:Mc}),aa();return}catch(P){console.warn("[Referral] Update sales rep notes failed",P),Ze.error(typeof P?.message=="string"&&P.message?P.message:"Unable to save notes right now.")}finally{Vr(P=>({...P,updatingReferral:null}))}const S=String(Ke.doctorId),E=wi(Mc),b={...Ol};E?b[S]=E:delete b[S],sf(b),aa()},[sf,Ke?.doctorId,Ke?.role,Mc,Ol,wi,aa,r]),Ma=y.useCallback(async()=>{if(!Ke?.doctorId)return;const v=es.trim(),S=Ke.phone||"";if(v!==S){Wn(!0);try{await cn.updateUserProfile(Ke.doctorId,{phone:v||null}),xs(E=>E&&{...E,phone:v||null}),Ze.success("Phone number updated.")}catch(E){console.warn("[SalesDoctor] Failed to update phone number",E),Ze.error(typeof E?.message=="string"&&E.message?E.message:"Unable to update phone number right now.")}finally{Wn(!1)}}},[Ke?.doctorId,Ke?.phone,es,cn]),Xr=y.useCallback(v=>{v&&Lu(S=>S.map(E=>String(E.id||"")===String(v.id||v.number||"")||E.wooOrderId&&v.wooOrderId&&String(E.wooOrderId)===String(v.wooOrderId)||E.number&&v.number&&String(E.number)===String(v.number)?{...E,...v,shippingEstimate:v.shippingEstimate||E.shippingEstimate||null,createdAt:v.createdAt||E.createdAt||null,updatedAt:v.updatedAt||E.updatedAt||null,lineItems:v.lineItems?.length?v.lineItems:E.lineItems}:E))},[]),lr=y.useCallback(v=>{bs(S=>{const E=new Set(S);return E.has(v)?E.delete(v):E.add(v),E})},[]),pr=y.useCallback(v=>{na(S=>{const E=new Set(S);return E.has(v)?E.delete(v):E.add(v),E})},[]),[yt,dt]=y.useState(new Map),[kt,tr]=y.useState(!1),[Qr,zr]=y.useState(!1),[rr,ya]=y.useState(null),[In,Ns]=y.useState(null),Qs=y.useRef(null),js=y.useRef(0),Il=y.useRef(!1),ji=y.useRef(new Map),_s=y.useRef(new Map),[$u,of]=y.useState(new Set),lf=y.useRef(null);y.useEffect(()=>{qn.current=gs},[gs]);const pg=y.useCallback(async v=>{xe(v),ut(typeof v?.notes=="string"?String(v.notes):""),X.current=null,He(!0);try{const S=await ls.getSalesRepOrderDetail(v.wooOrderId||v.id||v.number||"",v?.doctorEmail||v?.doctor_email||v?.doctorId||Za(v)||null),E=ah({woo:Array.isArray(S)?S:[S]},{includeCanceled:!0});if(E&&E.length>0){const b=E[0];xe(b);const P=ro(b);Ks(P),Ja(P),ut(typeof b?.notes=="string"?String(b.notes):""),Xr(b)}else if(S&&typeof S=="object"){const b=S;xe(b);const P=ro(b);Ks(P),Ja(P),ut(typeof b?.notes=="string"?String(b.notes):""),Xr(b)}}catch(S){console.error("[Sales Tracking] Failed to fetch order detail",S),Ze.error(typeof S?.message=="string"?S.message:"Unable to load order details.")}finally{He(!1)}},[ro,Xr]);y.useEffect(()=>{if(!se){ut(""),Ks({trackingNumber:"",shippingCarrier:"",shippingService:"",status:"",expectedShipmentWindow:""}),Ja({trackingNumber:"",shippingCarrier:"",shippingService:"",status:"",expectedShipmentWindow:""}),X.current=null;return}ut(typeof se?.notes=="string"?String(se.notes):"")},[se?.id]),y.useEffect(()=>{if(!se||Ce)return;const v=String(se.wooOrderId||se.id||se.number||"");if(!v||X.current===v)return;const S=ro(se);Ks(S),Ja(S),X.current=v},[ro,se,Ce]);const Fu=y.useCallback(async()=>{if(!se)return;if(!r?.role||!dr(r.role)&&!it(r.role)){Ze.error("You don't have permission to edit order notes.");return}if(Pt)return;const v=wi(ke),S=se.wooOrderId||se.id||se.number||"";if(!S){Ze.error("Unable to identify this order.");return}Tt(!0);try{const E=await ls.updateOrderNotes(S,v),b=E&&typeof E=="object"&&E.order||null,P=b&&typeof b?.notes=="string"?String(b.notes):v;xe(q=>q&&{...q,notes:P}),Xr({...se,notes:P}),Ze.success("Order notes updated.")}catch(E){console.warn("[Orders] Failed to update order notes",E),Ze.error(typeof E?.message=="string"&&E.message?E.message:"Unable to update order notes right now.")}finally{Tt(!1)}},[Xr,wi,se,ke,Pt,r?.role]),o0=y.useCallback(async()=>{if(!se)return;if(!r?.role||!dr(r.role)&&!it(r.role)){Ze.error("You don't have permission to edit this order.");return}if(vs)return;const v=se.wooOrderId||se.id||se.number||"";if(!v){Ze.error("Unable to identify this order.");return}const S={},E=["trackingNumber","shippingCarrier","shippingService","status","expectedShipmentWindow"];for(const b of E){const P=Dc(Ia[b]),q=Dc(ys[b]);P!==q&&(S[b]=P)}if(Object.keys(S).length===0){Ze("No changes to save.");return}Lc(!0);try{const b=await ls.updateOrderFields(v,S),P=b&&typeof b=="object"&&b.order||null;xe(q=>{if(!q)return q;const F={};P&&typeof P=="object"?("trackingNumber"in P&&(F.trackingNumber=P.trackingNumber??null),"shippingCarrier"in P&&(F.shippingCarrier=P.shippingCarrier??null),"shippingService"in P&&(F.shippingService=P.shippingService??null),"status"in P&&(F.status=P.status??null),"expectedShipmentWindow"in P&&(F.expectedShipmentWindow=P.expectedShipmentWindow??null),P.shippingEstimate&&(F.shippingEstimate=P.shippingEstimate),P.updatedAt&&(F.updatedAt=P.updatedAt)):("trackingNumber"in S&&(F.trackingNumber=S.trackingNumber),"shippingCarrier"in S&&(F.shippingCarrier=S.shippingCarrier),"shippingService"in S&&(F.shippingService=S.shippingService),"status"in S&&(F.status=S.status),"expectedShipmentWindow"in S&&(F.expectedShipmentWindow=S.expectedShipmentWindow));const T={...q,...F};return Xr(T),T}),Ks(q=>{const F={...q};for(const T of E)T in S&&(F[T]=Dc(S[T])||"");return F}),Ja(q=>{const F={...q};for(const T of E)T in S&&(F[T]=Dc(S[T])||"");return F}),Ze.success("Order updated.")}catch(b){console.warn("[Orders] Failed to update order fields",b),Ze.error(typeof b?.message=="string"&&b.message?b.message:"Unable to update the order right now.")}finally{Lc(!1)}},[ro,Xr,se,Ia,ys,vs,r?.role]),no=v=>{const S=String(v||"").toLowerCase().trim();return!["cancelled","canceled","on-hold","on_hold","trash","refunded"].includes(S)},Fo=y.useCallback((v,S)=>{const b=[...v.orders||[]].sort((oe,ee)=>{const ie=oe.createdAt?new Date(oe.createdAt).getTime():0;return(ee.createdAt?new Date(ee.createdAt).getTime():0)-ie})[0],P=b?.shippingAddress||b?.shipping||b?.billingAddress||b?.billing||null,q=P&&[[P.firstName,P.lastName].filter(Boolean).join(" ").trim(),P.address1||P.address_1,P.address2||P.address_2,[P.city,P.state,P.postcode].filter(Boolean).join(", "),P.country].filter(oe=>typeof oe=="string"&&oe.trim().length>0).join(`
`),F=v.doctorAddress&&v.doctorAddress.trim().length>0?v.doctorAddress:q||null,T=b?.createdAt||null,W=v.orders.filter(oe=>no(oe.status)),te=W.length>0?v.total/W.length:null,ge=dc(S||"doctor")||"doctor";xs({doctorId:v.doctorId,referralId:v.referralId??null,name:v.doctorName,email:v.doctorEmail,avatar:v.doctorAvatar??null,revenue:v.total,personalRevenue:v.personalRevenue??null,salesRevenue:v.salesRevenue??null,orderQuantity:v.orderQuantity??null,totalOrderValue:v.totalOrderValue??null,orders:v.orders,phone:v.doctorPhone||P?.phone||P?.phoneNumber||null,address:F,lastOrderDate:T,avgOrderValue:te,role:ge,ownerSalesRepId:v.ownerSalesRepId??null})},[]),vr=y.useCallback(v=>{const S=String(v?.id||"").trim();if(!S)return;const E=v?.profileImageUrl||null,b=v?.name||v?.email||"User",P=dc(v?.role);if(ws(!0),Fo({doctorId:S,referralId:null,doctorName:b,doctorEmail:v?.email||null,doctorAvatar:E,doctorPhone:null,doctorAddress:null,orders:[],total:0},P||"doctor"),!it(r?.role)){ws(!1);return}(async()=>{try{const[q,F]=await Promise.all([cn.getAdminUserProfile(S),ls.getAdminOrdersForUser(S)]),T=q?.user||null,W=ah(F,{includeCanceled:!0}),te=W.reduce((Te,Oe)=>no(Oe.status)?Te+(un(Oe.total)||0):Te,0),ge=W.filter(Te=>no(Te.status)).length,oe=dc(T?.role||P||"doctor"),ee=[T?.officeAddressLine1,T?.officeAddressLine2,[T?.officeCity,T?.officeState,T?.officePostalCode].filter(Boolean).join(", "),T?.officeCountry].filter(Te=>typeof Te=="string"&&Te.trim().length>0),ie=ee.length>0?ee.join(`
`):null,we=oe==="sales_rep"||oe==="rep"||oe==="admin";let Ne=null,De=null;if(we){De=te;try{const Oe=(await ls.getForSalesRep({salesRepId:S,scope:"all"}))?.orders;Ne=(Array.isArray(Oe)?Oe:[]).reduce((s,o)=>{if(!no(o?.status))return s;const d=o?.doctorId||o?.doctor_id||o?.userId||o?.user_id||null;return d&&String(d)===S?s:s+(un(o?.total)||0)},0)}catch(Te){console.warn("[Admin] Failed to load sales rep revenue",Te)}}Fo({doctorId:S,referralId:null,doctorName:T?.name||b,doctorEmail:T?.email||v?.email||null,doctorAvatar:T?.profileImageUrl||E,doctorPhone:T?.phone||null,doctorAddress:ie,orders:W,total:te,personalRevenue:De,salesRevenue:Ne,orderQuantity:ge,totalOrderValue:te},oe||"doctor")}catch(q){console.warn("[Admin] Failed to hydrate live user detail",q)}finally{ws(!1)}})()},[Fo,r?.role]),em=()=>l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-36"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[...Array(4)].map((v,S)=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-24"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]},S))}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(2)].map((v,S)=>l.jsxs("div",{className:"news-loading-card bg-white/75 shadow-none border border-slate-200/70 space-y-3",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-40"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]})]},S))}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"}),[...Array(2)].map((v,S)=>l.jsxs("div",{className:"news-loading-card flex items-center gap-3 bg-white/75 shadow-none border border-slate-200/70",children:[l.jsx("div",{className:"news-loading-thumb rounded-md"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-40"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]},S))]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-36"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:[...Array(4)].map((v,S)=>l.jsx("div",{className:"news-loading-line news-loading-shimmer w-full"},S))})]})]}),cf=()=>l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-60"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-44"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"news-loading-thumb rounded-full",style:{width:72,height:72,minWidth:72}}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-40"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[...Array(3)].map((v,S)=>l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-24"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]},S))}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[...Array(2)].map((v,S)=>l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50/60 px-3 py-3 space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-full"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-5/6"})]},S))}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-36"}),l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((v,S)=>l.jsxs("div",{className:"news-loading-card flex items-center gap-3 bg-white/75 shadow-none border border-slate-200/70",children:[l.jsx("div",{className:"news-loading-thumb rounded-md"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-40"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"})]}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]},S))})]})]}),$c=y.useCallback(async(v,S)=>{const b=Date.now(),P=S?.onlyIds,q=S?.force===!0,F=v.filter(ie=>{const we=String(ie.id||ie.number||"");if(!we||P&&!P.has(we))return!1;const Ne=!!(ie.createdAt||ie.dateCreated||ie.date_created||ie.date_created_gmt)||!1,De=!!(ie?.shippingEstimate?.estimatedArrivalDate||ie?.shippingEstimate?.deliveryDateGuaranteed||ie?.shippingEstimate?.estimated_delivery_date||ie?.shipping?.estimatedArrivalDate||ie?.shipping?.estimated_delivery_date);if(Ne&&De)return!1;if(!q){const Te=_s.current.get(we)||0;if(Te>0&&b-Te<6e5)return!1}return!0});if(F.length===0)return;const T=typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now(),W=420,te=new Set(F.map(ie=>String(ie.id||ie.number||"")));sn(te),await(async(ie,we,Ne)=>{const De=[...ie],Te=Array.from({length:Math.max(1,we)},async()=>{for(;De.length>0;){const Oe=De.shift();if(!Oe)break;await Ne(Oe)}});await Promise.all(Te)})(F,3,async ie=>{try{const we=String(ie.id||ie.number||"");we&&_s.current.set(we,b);const Ne=await ls.getSalesRepOrderDetail(ie.wooOrderId||ie.id||ie.number||"",ie?.doctorEmail||ie?.doctor_email||ie?.doctorId||null),De=ah({woo:Array.isArray(Ne)?Ne:[Ne]},{includeCanceled:!0});De&&De.length>0?Xr(De[0]):Ne&&typeof Ne=="object"&&Xr(Ne)}catch(we){console.debug("[Sales Tracking] detail enrichment skipped",{orderId:ie.id,message:typeof we?.message=="string"?we.message:String(we)})}});const ee=(typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now())-T;ee<W&&await new Promise(ie=>setTimeout(ie,W-ee)),sn(new Set)},[Xr]),[_i,uf]=y.useState([]),[Zs,Bu]=y.useState(null),[Rl,mg]=y.useState(null),[Fc,hg]=y.useState(!1),[tm,Bc]=y.useState(null),[qu,qc]=y.useState(null),[Ml,df]=y.useState([]),[ff,gg]=y.useState([]),[rm,nm]=y.useState(!1),[ao,pf]=y.useState(null),[Cs,am]=y.useState(!1),[Dl,Js]=y.useState(null),[Uc,so]=y.useState(null),[mf,l0]=y.useState(null),[Uu,Bo]=y.useState([]),[io,Ll]=y.useState([]),[Es,hf]=y.useState(null),[Ci,oo]=y.useState(!1),[br,mr]=y.useState(null),[lo,sa]=y.useState(null),[va,$l]=y.useState(null),[ba,Rn]=y.useState(()=>ip().start),[ts,zc]=y.useState(()=>ip().end),[sm,Wc]=y.useState([]),zu=y.useCallback(v=>{if(typeof v=="string")return v.trim().toUpperCase();if(v&&typeof v=="object"){const S=v.code??v.value??null;if(typeof S=="string")return S.trim().toUpperCase()}return""},[]),Ei=y.useMemo(()=>{const v=ir?.codes;return Array.isArray(v)?v.map(S=>zu(S)).filter((S,E,b)=>S.length>0&&b.indexOf(S)===E):[]},[ir?.codes,zu]),gf=y.useMemo(()=>[...Ei,...sm].filter((S,E,b)=>S.length>0&&b.indexOf(S)===E),[Ei,sm]);y.useEffect(()=>{if(!r||!it(r.role)){Bc(null);return}let v=!1;return(async()=>{try{const S=await cn.getReportSettings(),E=typeof S?.salesBySalesRepCsvDownloadedAt=="string"?String(S.salesBySalesRepCsvDownloadedAt):null;v||Bc(E)}catch(S){console.debug("[Sales by Sales Rep] Failed to load report settings",S)}})(),()=>{v=!0}},[r?.id,r?.role]);const im=y.useCallback(async()=>{try{const S=new Date().toISOString(),E=ie=>{if(ie==null)return"";const we=String(ie);return/[",\n\r]/.test(we)?`"${we.replace(/"/g,'""')}"`:we},b=Zs?.periodStart?String(Zs.periodStart).slice(0,10):null,P=Zs?.periodEnd?String(Zs.periodEnd).slice(0,10):null,q=b&&P?`${b} to ${P} (PST)`:"All time (PST)",T=[E(`Sales by Sales Rep  ${q}`),"",["Sales Rep","Email","Orders","Wholesale","Retail"].join(","),..._i.map(ie=>[E(ie.salesRepName||""),E(ie.salesRepEmail||""),E(Number(ie.totalOrders||0)),E(Number(ie.wholesaleRevenue||0).toFixed(2)),E(Number(ie.retailRevenue||0).toFixed(2))].join(","))].join(`
`),W=new Blob([T],{type:"text/csv;charset=utf-8"}),te=URL.createObjectURL(W),ge=document.createElement("a"),oe=S.replace(/[:.]/g,"-"),ee=b&&P?`_${b}_to_${P}`:"";if(ge.href=te,ge.download=`sales-by-sales-rep${ee}_${dh}_${oe}.csv`,document.body.appendChild(ge),ge.click(),ge.remove(),URL.revokeObjectURL(te),Bc(S),r&&it(r.role))try{await cn.setSalesBySalesRepCsvDownloadedAt(S)}catch(ie){console.debug("[Sales by Sales Rep] Failed to persist CSV download timestamp",ie)}}catch(v){console.error("[Sales by Sales Rep] CSV export failed",v),Ze.error("Unable to download report right now.")}},[_i,Zs?.periodEnd,Zs?.periodStart,r,r?.role]),co=y.useCallback(async()=>{if(!(!r||!it(r.role))){am(!0),Js(null);try{const v=ip(),S=ba||v.start,E=ts||v.end,b=await ls.getTaxesByStateForAdmin({periodStart:S||void 0,periodEnd:E||void 0}),P=Array.isArray(b?.rows)?b.rows:Array.isArray(b)?b:[];df(P.map(F=>({state:String(F?.state||"UNKNOWN"),taxTotal:Number(F?.taxTotal||0),orderCount:Number(F?.orderCount||0)})).filter(F=>F.orderCount>0||F.taxTotal>0));const q=Array.isArray(b?.orderTaxes)?b.orderTaxes:[];gg(q.map(F=>({orderNumber:String(F?.orderNumber||""),state:String(F?.state||"UNKNOWN"),taxTotal:Number(F?.taxTotal||0)})).filter(F=>F.orderNumber.trim().length>0&&F.taxTotal>0)),nm(!1),pf({periodStart:b?.periodStart??null,periodEnd:b?.periodEnd??null,totals:b?.totals??null}),so(Date.now())}catch(v){const S=typeof v?.message=="string"?v.message:"Unable to load taxes by state.";Js(S),df([]),gg([]),nm(!1),pf(null)}finally{am(!1)}}},[ts,ba,r?.id,r?.role]),c0=y.useCallback(async()=>{try{const S=new Date().toISOString(),E=ie=>{if(ie==null)return"";const we=String(ie);return/[",\n\r]/.test(we)?`"${we.replace(/"/g,'""')}"`:we},b=ao?.periodStart?String(ao.periodStart).slice(0,10):null,P=ao?.periodEnd?String(ao.periodEnd).slice(0,10):null,q=b&&P?`_${b}_to_${P}`:"",F=S.replace(/[:.]/g,"-"),T=b&&P?`${b} to ${P} (PST)`:"All time (PST)",te=[E(`Taxes by State  ${T}`),"",["State","Orders","Tax Total"].join(","),...Ml.map(ie=>[E(ie.state),E(Number(ie.orderCount||0)),E(Number(ie.taxTotal||0).toFixed(2))].join(","))].join(`
`),ge=new Blob([te],{type:"text/csv;charset=utf-8"}),oe=URL.createObjectURL(ge),ee=document.createElement("a");ee.href=oe,ee.download=`taxes-by-state${q}_${dh}_${F}.csv`,document.body.appendChild(ee),ee.click(),ee.remove(),URL.revokeObjectURL(oe),l0(S)}catch(v){console.error("[Taxes by State] CSV export failed",v),Ze.error("Unable to download report right now.")}},[ao?.periodEnd,ao?.periodStart,Ml]),xa=y.useCallback(async()=>{if(!(!r||!it(r.role))){oo(!0),mr(null);try{const v=ip(),S=ba||v.start,E=ts||v.end,b=await ls.getProductSalesCommissionForAdmin({periodStart:S||void 0,periodEnd:E||void 0}),P=Array.isArray(b?.products)?b.products:[],F=(Array.isArray(b?.commissions)?b.commissions:[]).filter(T=>{const W=String(T?.role||"").toLowerCase(),te=String(T?.id||"");return!(W==="supplier"||te==="__supplier__")});Bo(P.map(T=>({key:String(T?.key||T?.sku||""),sku:T?.sku??null,productId:T?.productId??null,variationId:T?.variationId??null,name:String(T?.name||""),quantity:Number(T?.quantity||0)})).filter(T=>T.quantity>0)),Ll(F.map(T=>({id:String(T?.id||""),name:String(T?.name||""),role:String(T?.role||""),amount:Number(T?.amount||0),retailOrders:Number(T?.retailOrders||0),wholesaleOrders:Number(T?.wholesaleOrders||0),retailBase:Number(T?.retailBase||0),wholesaleBase:Number(T?.wholesaleBase||0),houseRetailOrders:Number(T?.houseRetailOrders||0),houseWholesaleOrders:Number(T?.houseWholesaleOrders||0),houseRetailBase:Number(T?.houseRetailBase||0),houseWholesaleBase:Number(T?.houseWholesaleBase||0),houseRetailCommission:Number(T?.houseRetailCommission||0),houseWholesaleCommission:Number(T?.houseWholesaleCommission||0),specialAdminBonus:Number(T?.specialAdminBonus||0),specialAdminBonusRate:Number(T?.specialAdminBonusRate||0),specialAdminBonusMonthlyCap:Number(T?.specialAdminBonusMonthlyCap||0),specialAdminBonusByMonth:T?.specialAdminBonusByMonth??void 0,specialAdminBonusBaseByMonth:T?.specialAdminBonusBaseByMonth??void 0})).filter(T=>Number(T.amount||0)>0||Number(T.retailOrders||0)>0||Number(T.wholesaleOrders||0)>0||Number(T.retailBase||0)>0||Number(T.wholesaleBase||0)>0||Number(T.houseRetailOrders||0)>0||Number(T.houseWholesaleOrders||0)>0||Number(T.houseRetailBase||0)>0||Number(T.houseWholesaleBase||0)>0||Number(T.houseRetailCommission||0)>0||Number(T.houseWholesaleCommission||0)>0||Number(T.specialAdminBonus||0)>0)),hf({periodStart:b?.periodStart??null,periodEnd:b?.periodEnd??null,totals:b?.totals??null}),sa(Date.now())}catch(v){const S=typeof v?.message=="string"?v.message:"Unable to load product/commission report.";mr(S),Bo([]),Ll([]),hf(null)}finally{oo(!1)}}},[ts,ba,r?.id,r?.role]),Hc=y.useCallback(async()=>{try{const S=new Date().toISOString(),E=ie=>{if(ie==null)return"";const we=String(ie);return/[",\n\r]/.test(we)?`"${we.replace(/"/g,'""')}"`:we},b=Es?.periodStart?String(Es.periodStart).slice(0,10):null,P=Es?.periodEnd?String(Es.periodEnd).slice(0,10):null,q=b&&P?`_${b}_to_${P}`:"",F=b&&P?`${b} to ${P} (PST)`:"All time (PST)",T=S.replace(/[:.]/g,"-"),W=[];W.push(E(`Products Sold & Commission  ${F}`)),W.push(""),W.push(["Report","Products sold"].join(",")),W.push(["Product","SKU","ProductId","Quantity"].join(",")),Uu.forEach(ie=>{W.push([E(ie.name),E(ie.sku||""),E(ie.productId??""),E(Number(ie.quantity||0))].join(","))}),W.push(""),W.push(["Report","Commissions"].join(",")),W.push(["Recipient","Role","RetailOrders","WholesaleOrders","RetailBase","WholesaleBase","HouseRetailOrders","HouseWholesaleOrders","HouseRetailBase","HouseWholesaleBase","HouseRetailCommission","HouseWholesaleCommission","Administrative","Amount"].join(",")),io.forEach(ie=>{W.push([E(ie.name),E(ie.role),E(Number(ie.retailOrders||0)),E(Number(ie.wholesaleOrders||0)),E(Number(ie.retailBase||0).toFixed(2)),E(Number(ie.wholesaleBase||0).toFixed(2)),E(Number(ie.houseRetailOrders||0)),E(Number(ie.houseWholesaleOrders||0)),E(Number(ie.houseRetailBase||0).toFixed(2)),E(Number(ie.houseWholesaleBase||0).toFixed(2)),E(Number(ie.houseRetailCommission||0).toFixed(2)),E(Number(ie.houseWholesaleCommission||0).toFixed(2)),E(Number(ie.specialAdminBonus||0).toFixed(2)),E(Number(ie.amount||0).toFixed(2))].join(","))});const te=W.join(`
`),ge=new Blob([te],{type:"text/csv;charset=utf-8"}),oe=URL.createObjectURL(ge),ee=document.createElement("a");ee.href=oe,ee.download=`products-and-commission${q}_${dh}_${T}.csv`,document.body.appendChild(ee),ee.click(),ee.remove(),URL.revokeObjectURL(oe),$l(S)}catch(v){console.error("[Products/Commission] CSV export failed",v),Ze.error("Unable to download report right now.")}},[io,Uu,Es?.periodEnd,Es?.periodStart]),Da=y.useCallback(async()=>{if(!(!r||!it(r.role))){hg(!0),qc(null);try{const v=ip(),S=ba||v.start,E=ts||v.end;ba||Rn(S),ts||zc(E);const b=await ls.getSalesByRepForAdmin({periodStart:S||void 0,periodEnd:E||void 0}),P=Array.isArray(b)?b:Array.isArray(b?.orders)?b.orders:[],q=b&&typeof b=="object"?{periodStart:b?.periodStart??null,periodEnd:b?.periodEnd??null,totals:b?.totals??null}:null,F=P.filter(T=>T.salesRepId!==r.id).filter(T=>{const W=Number(T?.totalOrders||0),te=Number(T?.totalRevenue||0),ge=Number(T?.wholesaleRevenue||0),oe=Number(T?.retailRevenue||0);return W>0||te>0||ge>0||oe>0});uf(F),Bu(q),mg(Date.now())}catch(v){const S=typeof v?.message=="string"?v.message:"Unable to load sales summary";qc(S),Bu(null)}finally{hg(!1)}}},[ts,ba,r?.id,r?.role]),Wu=y.useCallback(()=>{Da(),co(),xa()},[xa,co,Da]),Vc=y.useCallback(()=>{const v=ip();Rn(v.start),zc(v.end),Da(),co(),xa()},[xa,co,Da]),La=y.useRef(!1);y.useEffect(()=>{if(!r||!it(r.role)){La.current=!1;return}La.current||(La.current=!0,Da(),co(),xa())},[xa,co,Da,r?.id,r?.role]),y.useEffect(()=>{if(!r||!dr(r.role)&&!it(r.role)){Wc([]);return}let v=!1;return(async()=>{try{const E=await da.getReferralCodes(),b=Array.isArray(E?.codes)?E.codes:Array.isArray(E)?E:[];if(!v){const P=b.map(q=>zu(q)).filter((q,F,T)=>q.length>0&&T.indexOf(q)===F);Wc(P)}}catch(E){console.warn("[Referral] Failed to fetch referral codes",E),v||Wc([])}})(),()=>{v=!0}},[r?.id,r?.role,zu]);const[bn,ei]=y.useState({contactName:"",contactEmail:"",contactPhone:"",notes:""}),[Ai,Pi]=y.useState(!1),[uo,Gc]=y.useState(null),[yf,vf]=y.useState(null),[rs,wa]=y.useState(!1),[_r,As]=y.useState(!1),[ns,Fl]=y.useState({name:"",email:"",phone:"",notes:"",status:"pending"}),bf=y.useCallback(()=>{Fl({name:"",email:"",phone:"",notes:"",status:"pending"})},[]),Kc=y.useCallback(()=>{wa(!1),bf()},[bf]),[Bl,Yc]=y.useState(!1),[om,qo]=y.useState(null),[Xc,Qc]=y.useState(!0),[Zc,fo]=y.useState(!1),[xf,Uo]=y.useState(!1),[zo,Wo]=y.useState({research:!0}),[ti,ri]=y.useState({shop:!1,forum:!1,research:!1,testPaymentsOverride:!1}),[ia,wf]=y.useState(null),[Sf,Hu]=y.useState(!1),[Nf,Ho]=y.useState(null),$a=y.useRef(!1),Vo=y.useRef(0),Vu=y.useCallback(async v=>{if(!r||!it(r.role)||J)return;const S=Date.now();if(!(!v?.force&&S-Vo.current<3e4)&&!$a.current){$a.current=!0,Vo.current=S,Hu(!0),Ho(null);try{const b=await fetch(`${Fe}/health?_ts=${Date.now()}`,{method:"GET",headers:{Accept:"application/json"},cache:"no-store"});if(!b.ok)throw new Error(`Health check failed (${b.status})`);const P=await b.json();wf(P)}catch(b){Ho(typeof b?.message=="string"?b.message:"Unable to load server health.")}finally{Hu(!1),$a.current=!1}}},[r?.id,r?.role,J]),[u0,po]=y.useState(0),[ki,ql]=y.useState(!1),Gu=y.useRef(!1),Fa=y.useRef(Date.now()),ni=y.useRef(!1),Jc=y.useRef(!1),jf=y.useRef(0),eu=y.useRef(0);y.useEffect(()=>{Gu.current=ki},[ki]),y.useEffect(()=>{if(!it(r?.role)&&!dr(r?.role))return;const v=window.setInterval(()=>{po(S=>(S+1)%Number.MAX_SAFE_INTEGER)},3e4);return()=>window.clearInterval(v)},[r?.role]);const[lm,Go]=y.useState([]),[Oi,Ul]=y.useState(!1),[tu,mo]=y.useState(null),ru=y.useRef(null),Ko=y.useRef(!1),[yg,nu]=y.useState([]),[Wr,au]=y.useState(!1),[_f,Ku]=y.useState(null),zl=y.useRef(null),Yu=y.useRef(!1),[Yo,Hr]=y.useState(!1),[xn,Mn]=y.useState(""),[ho,Xu]=y.useState("all");y.useEffect(()=>{if(!dr(r?.role)){Go([]),Ul(!1),mo(null),ru.current=null,Ko.current=!1;return}let v=!1,S=null;const E=async()=>{try{Ul(!0),mo(null);const T=await cn.getLiveClients();if(v)return;ru.current=typeof T?.etag=="string"?T.etag:null;const W=Array.isArray(T?.clients)?T.clients:[];Go(W)}catch(T){if(v)return;Go([]),mo(typeof T?.message=="string"?T.message:"Unable to load clients.")}finally{v||Ul(!1)}},b=T=>new Promise(W=>window.setTimeout(W,T)),P=()=>{S||(E(),S=window.setInterval(()=>{E()},5e3))},q=new AbortController;return(async()=>{if(Ko.current){P();return}for(;!v;){if(!oi()||!rh()){await b(800);continue}try{const T=await cn.getLiveClientsLongPoll(null,ru.current,25e3,q.signal);if(v)break;ru.current=typeof T?.etag=="string"?T.etag:null;const W=Array.isArray(T?.clients)?T.clients:[];Go(W)}catch(T){if(v)break;if(typeof T?.status=="number"&&T.status===404){Ko.current=!0,P();return}await b(1e3)}}})(),()=>{v=!0,S&&window.clearInterval(S),q.abort()}},[r?.role,r?.id]),y.useEffect(()=>{if(!it(r?.role)){nu([]),au(!1),Ku(null),zl.current=null,Yu.current=!1;return}let v=!1,S=null;const E=async()=>{try{au(!0),Ku(null);const T=await cn.getLiveUsers();if(v)return;zl.current=typeof T?.etag=="string"?T.etag:null;const W=Array.isArray(T?.users)?T.users:[];nu(W)}catch(T){if(v)return;nu([]),Ku(typeof T?.message=="string"?T.message:"Unable to load users.")}finally{v||au(!1)}},b=T=>new Promise(W=>window.setTimeout(W,T)),P=()=>{S||(E(),S=window.setInterval(()=>{E()},5e3))},q=new AbortController;return(async()=>{if(Yu.current){P();return}for(;!v;){if(!oi()||!rh()){await b(800);continue}try{const T=await cn.getLiveUsersLongPoll(zl.current,25e3,q.signal);if(v)break;zl.current=typeof T?.etag=="string"?T.etag:null;const W=Array.isArray(T?.users)?T.users:[];nu(W)}catch(T){if(v)break;if(typeof T?.status=="number"&&T.status===404){Yu.current=!0,P();return}await b(1e3)}}})(),()=>{v=!0,S&&window.clearInterval(S),q.abort()}},[r?.role,r?.id]);const su=v=>{if(!v)return"Online";const S=new Date(v).getTime();if(!Number.isFinite(S))return"Online";const E=Math.max(0,Date.now()-S);return`Online for ${((P,q=2)=>{const F=Math.floor(Math.max(0,P)/1e3);if(F<60)return"<1m";const T=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let W=F;const te=[];for(const ge of T){const oe=Math.floor(W/ge.seconds);if(oe>0&&(te.push(`${oe}${ge.label}`),W-=oe*ge.seconds),te.length>=q)break}return te.length?te.join(" "):"<1m"})(E)}`},d0=v=>{if(!v)return"a few moments ago";const E=new Date(v).getTime();if(Number.isNaN(E))return String(v);const b=Math.max(0,Date.now()-E);if(b<9e4)return"a few moments ago";const P=Math.floor(b/1e3),q=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let F=P;const T=[];for(const W of q){const te=Math.floor(F/W.seconds);if(te>0&&(T.push(`${te}${W.label}`),F-=te*W.seconds),T.length>=2)break}return T.length?`${T.join(" ")} ago`:"a few moments ago"},oa=v=>{const S=typeof v?.idleMinutes=="number"&&Number.isFinite(v.idleMinutes)?v.idleMinutes:null;if(S==null){const W=v?.lastInteractionAt||v?.lastSeenAt||v?.lastLoginAt||null;if(!W)return null;const te=new Date(W).getTime();if(!Number.isFinite(te))return null;const ge=Math.max(0,Date.now()-te),oe=Math.floor(ge/1e3);if(oe<60)return"<1m";const ee=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let ie=oe;const we=[];for(const Ne of ee){const De=Math.floor(ie/Ne.seconds);if(De>0&&(we.push(`${De}${Ne.label}`),ie-=De*Ne.seconds),we.length>=2)break}return we.length?we.join(" "):"<1m"}const E=Math.max(0,Math.floor(S));if(E<1)return"<1m";const b=E*6e4,P=Math.floor(b/1e3),q=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let F=P;const T=[];for(const W of q){const te=Math.floor(F/W.seconds);if(te>0&&(T.push(`${te}${W.label}`),F-=te*W.seconds),T.length>=2)break}return T.length?T.join(" "):"<1m"};y.useEffect(()=>{if(!r||!it(r.role)||J){wf(null),Hu(!1),Ho(null);return}Vu()},[r?.id,r?.role,J,Vu]);const[go,Qu]=y.useState([]),[Zu,Ps]=y.useState(!1),[Hn,Wl]=y.useState(null),[iu,Ju]=y.useState(!1),[ed,td]=y.useState([]),[rd,nd]=y.useState(!1),[cm,ad]=y.useState(null),[ks,sd]=y.useState(""),[Xo,Hl]=y.useState(null),[Vl,id]=y.useState(!1),[um,ou]=y.useState(!1),[vg,od]=y.useState(null),[Cf,ld]=y.useState(null),[dm,fm]=y.useState(!1),Ef=y.useRef(!1),pm=y.useRef(0),mm=y.useRef(!1),hm=y.useRef(0),Gl=y.useCallback(async v=>{if(!r||!it(r.role)||J){Qu([]),Ps(!1),Wl(null),Ju(!1),td([]),nd(!1),ad(null),sd(""),Hl(null);return}const S=Date.now();if(!(!v?.force&&S-pm.current<6e4)&&!Ef.current){Ef.current=!0,pm.current=S,Ps(!0),Wl(null);try{const b=await Rd.listMissingCertificates(),P=Array.isArray(b?.products)?b.products:[];Qu(P),Hl(null);const q=new Set(P.map(F=>String(F.wooProductId)));sd(F=>F&&q.has(F)?F:P[0]?String(P[0].wooProductId):"")}catch(b){Qu([]),Wl(b instanceof Error?b.message:"Unable to load missing certificates.")}finally{Ps(!1),Ef.current=!1}}},[r?.id,r?.role,J]);y.useEffect(()=>{!r||!it(r.role)||J||Gl()},[r?.id,r?.role,J,Gl]),y.useEffect(()=>{!r||!it(r.role)||J||(Hn||go.length>0)&&Ju(!0)},[r?.id,r?.role,J,Hn,go.length]);const Kl=y.useCallback(async v=>{if(!r||!it(r.role)||J){td([]),nd(!1),ad(null);return}if(!iu)return;const S=Date.now();if(!(!v?.force&&S-hm.current<6e4)&&!mm.current){mm.current=!0,hm.current=S,nd(!0),ad(null);try{const b=await Rd.listCertificateProducts(),P=Array.isArray(b?.products)?b.products:[];td(P);const q=new Set(P.map(F=>String(F.wooProductId)));sd(F=>F&&q.has(F)?F:P[0]?String(P[0].wooProductId):"")}catch(b){td([]),ad(b instanceof Error?b.message:"Unable to load products.")}finally{nd(!1),mm.current=!1}}},[r?.id,r?.role,J,iu]);y.useEffect(()=>{Kl()},[Kl]);const cd=y.useRef(0),gm=y.useCallback(async()=>{if(!r||!it(r.role)||J){ld(null),ou(!1),od(null);return}if(!ks){ld(null),ou(!1),od(null);return}const v=cd.current+=1;ou(!0),od(null);try{const S=await Rd.getCertificateOfAnalysisInfo(ks);if(v!==cd.current)return;ld({exists:!!S?.exists,filename:typeof S?.filename=="string"&&S.filename.trim().length>0?S.filename:null,mimeType:typeof S?.mimeType=="string"&&S.mimeType.trim().length>0?S.mimeType:null,bytes:typeof S?.bytes=="number"?S.bytes:null,updatedAt:typeof S?.updatedAt=="string"&&S.updatedAt.trim().length>0?S.updatedAt:null})}catch(S){if(v!==cd.current)return;ld(null),od(S instanceof Error?S.message:"Unable to load current certificate.")}finally{v===cd.current&&ou(!1)}},[r?.id,r?.role,J,ks]);y.useEffect(()=>{gm()},[gm]);const bg=y.useCallback(async()=>{if(!ks){Ze.error("Select a product first.");return}fm(!0);try{const S=!!(await Rd.deleteCertificateOfAnalysis(ks))?.deleted;Ze.success(S?"Certificate deleted.":"No certificate to delete."),Hl(null),await Gl({force:!0}),await Kl({force:!0})}catch(v){Ze.error(v instanceof Error?v.message:"Unable to delete certificate.")}finally{fm(!1)}},[ks,Gl,Kl]),Af=y.useCallback(async()=>{if(!ks){Ze.error("Select a product first.");return}if(!Xo){Ze.error("Choose a PNG file first.");return}const v=Xo;if(!(v.type==="image/png"||v.name.toLowerCase().endsWith(".png"))){Ze.error("Certificate must be a PNG.");return}const E=8*1024*1024;if(v.size>E){Ze.error("PNG is too large (max 8 MB).");return}id(!0);try{await Rd.uploadCertificateOfAnalysis(ks,{file:v,filename:v.name}),Ze.success("Certificate uploaded."),Hl(null),await Gl({force:!0}),await Kl({force:!0})}catch(b){b?.status===413?Ze.error("Upload rejected (413). Increase the API/proxy upload limit."):Ze.error(b instanceof Error?b.message:"Unable to upload certificate.")}finally{id(!1)}},[ks,Xo,Gl,Kl]),ym=y.useRef(!1),xg=y.useRef(0),[ud,Vr]=y.useState({updatingReferral:null,error:null}),[Pf,dd]=y.useState(null),[Yt,fd]=y.useState([]),pd=y.useRef([]),[Ti,Yl]=y.useState([]),[kf,vm]=y.useState([]),[Ii,bm]=y.useState(!1),[md,Of]=y.useState(null),[lu,xm]=y.useState(null),[wm,Dn]=y.useState(!1),[Sa,cu]=y.useState(!1),hd=y.useRef(0),Tf=y.useRef(0),yo=y.useRef(null),Xl=y.useRef(null),gd=y.useRef(!1),Ql=y.useRef(0),yd=y.useRef(!1),Sm=y.useRef(null),Nm=y.useRef(new Map),Zl=y.useCallback((v,S,E)=>{const b=Date.now(),P=Nm.current.get(v)??0;b-P<3e4||(Nm.current.set(v,b),console.debug("[Leader] Active",{leaderKey:v,label:S,intervalMs:E,tabId:GN()}))},[]);y.useEffect(()=>{pd.current=Yt},[Yt]),y.useEffect(()=>{if(!sh||typeof window>"u"||!Array.isArray(Yt)||Yt.length===0||!oi())return;const v="catalog-image-prefetch-seed";if(cl(v,2e4)){for(const E of Yt){if(E.image&&Zt(E.image),Array.isArray(E.images))for(const b of E.images)b&&Zt(b);if(Array.isArray(E.variants))for(const b of E.variants)b?.image&&Zt(b.image)}return tn(),()=>{$i(v)}}},[Yt,Zt,tn]),y.useEffect(()=>{if(!iT||!Array.isArray(Yt)||Yt.length===0||typeof window>"u")return;const v="catalog-variant-prefetch-seed";if(!cl(v,12e4))return()=>{$i(v)};const E=Yt.map(F=>F.id).join("|");if(Sm.current===E){$i(v);return}Sm.current=E,Ql.current+=1;const b=Ql.current;yd.current=!0;const P=F=>new Promise(T=>window.setTimeout(T,F));return(async()=>{if(await P(FJ),Ql.current!==b)return;const F=Yt.filter(T=>(T.type??"").toLowerCase()==="variable"&&(!T.variants||T.variants.length===0));for(const T of F){if(Ql.current!==b)break;try{await Lt(T)}catch{}await P(BJ)}})().finally(()=>{Ql.current===b&&(yd.current=!1)}),()=>{$i(v),Ql.current+=1,yd.current=!1}},[Yt,Lt]),y.useEffect(()=>{if(!iT||typeof window>"u")return;const v="catalog-variant-poll",S=Math.max(2e4,W1*2),E=window.setInterval(()=>{if(!oi()||!cl(v,S))return;Zl(v,"catalog-variant-poll",W1);const b=pd.current;if(!(!Array.isArray(b)||b.length===0))for(const P of b)(P.type??"").toLowerCase()==="variable"&&(P.variants&&P.variants.length>0||fn(P))},W1);return()=>{$i(v),window.clearInterval(E)}},[fn]),y.useEffect(()=>{if(!sh||typeof window>"u")return;const v="catalog-image-prefetch-queue",S=1e4,E=window.setInterval(()=>{oi()&&cl(v,S)&&(Zl(v,"catalog-image-prefetch-queue",1200),tn())},1200);return()=>{$i(v),window.clearInterval(E)}},[tn]),y.useEffect(()=>{if(!sh||typeof window>"u")return;const v="catalog-image-loaded-check",S=12e3,E=window.setInterval(()=>{oi()&&cl(v,S)&&(Zl(v,"catalog-image-loaded-check",1750),fd(b=>{if(!Array.isArray(b)||b.length===0)return b;let P=!1;const q=b.map(F=>F.image_loaded||!F.image||F.image===di?F:Wt.current.get(F.image)?.loaded?(P=!0,{...F,image_loaded:!0}):F);return P?q:b}))},1750);return()=>{$i(v),window.clearInterval(E)}},[]);const If=y.useCallback(async(v,S)=>{if((v.type??"").toLowerCase()==="variable"){await Lt(v,{force:!0});return}const b=await KO(S,{force:!0});if(!b||typeof b!="object"||!("id"in b))return;const P=ih(b,lt.current);Ee.current.set(S,P);const q=G1(P,[]);q.image_loaded=q.image!==di&&!!Wt.current.get(q.image)?.loaded,fd(F=>F.map(T=>T.id===v.id?q:T)),N(F=>F?.id===v.id?q:F)},[Lt]);y.useEffect(()=>{if(typeof window>"u")return;const v="catalog-media-repair",S=25e3,E=2,b=window.setInterval(()=>{if(!oi()||!cl(v,S)||(Zl(v,"catalog-media-repair",6500),Date.now()<rt.current))return;const P=Date.now(),q=pd.current;if(!Array.isArray(q)||q.length===0)return;let F=0;for(const T of q){if(F>=E)break;const W=typeof T.wooId=="number"?T.wooId:Number.parseInt(String(T.id).replace(/[^\d]/g,""),10);if(!Number.isFinite(W))continue;const te=Number(W);if(ds.current.has(te))continue;const ge=Lr.current.get(te);if(ge&&P<ge.nextAt)continue;const oe=(T.type??"").toLowerCase()==="variable",ee=Array.isArray(T.variants)&&T.variants.some(Te=>!!Te?.image&&Te.image!==di),ie=!T.image||T.image===di,we=oe&&!ee;let Ne=!1;if(!T.image_loaded&&T.image&&T.image!==di){const Te=Wt.current.get(T.image);if(Te&&!Te.loaded){const Oe=P-Te.firstSeenAt;Ne=Te.attempt>=2&&Oe>25e3}}(we||ie||Ne)&&(ds.current.add(te),F+=1,If(T,te).then(()=>{const Te=pd.current.find(Le=>Le.id===T.id);if(Te?.image&&Te.image!==di||Te?.image_loaded)Lr.current.delete(te);else{const s=(Lr.current.get(te)?.attempt??0)+1,o=Math.min(10*6e4,4e3*Math.pow(1.9,s-1));Lr.current.set(te,{attempt:s,nextAt:Date.now()+o})}}).catch(()=>{const Oe=(Lr.current.get(te)?.attempt??0)+1,Le=Math.min(10*6e4,4e3*Math.pow(1.9,Oe-1));Lr.current.set(te,{attempt:Oe,nextAt:Date.now()+Le})}).finally(()=>{ds.current.delete(te)}))}},6500);return()=>{$i(v),window.clearInterval(b)}},[If]);const[Rf,vo]=y.useState([]),[bo,wg]=y.useState(!1),[vd,xo]=y.useState(null),[jm,Qo]=y.useState(null),Vn=y.useRef(null),Sg=y.useCallback(()=>{Vn.current&&(clearTimeout(Vn.current),Vn.current=null),wg(!0)},[]),_m=y.useCallback(v=>{const S=Date.now()-v,E=Math.max(0,RJ-S);Vn.current&&clearTimeout(Vn.current),Vn.current=window.setTimeout(()=>{wg(!1),Vn.current=null},E)},[]),[uu,Ng]=y.useState(!1),[as,Zo]=y.useState(null),[wn,Cm]=y.useState(!1),[Em,du]=y.useState(!1),Ln=y.useRef(!1),[Am,nt]=y.useState(!1),[Jo,Mf]=y.useState(""),[bd,f0]=y.useState("desc"),[xd,Df]=y.useState(()=>typeof window>"u"?!1:window.innerWidth>=1024),fu=y.useCallback(v=>{if(!v)return!1;const S=(v.status||"").toLowerCase(),E=String(v.id||"");return S==="contact_form"||E.startsWith("contact_form:")},[]),Jl=y.useCallback(v=>v?String(v.id||"").startsWith("manual:"):!1,[]),ai=y.useCallback(v=>{const S=(v||"").toLowerCase();return S?zJ.has(S):!1},[]),Pm=y.useMemo(()=>{const v=Jo.trim().toLowerCase(),S=[...Ws].sort((E,b)=>{const P=E.createdAt?new Date(E.createdAt).getTime():0,q=b.createdAt?new Date(b.createdAt).getTime():0;return bd==="desc"?q-P:P-q});return v?S.filter(E=>[E.referredContactName??"",E.referredContactEmail??"",E.referredContactPhone??"",E.status??""].join(" ").toLowerCase().includes(v)):S},[Ws,Jo,bd]),Lf=y.useMemo(()=>ir?Array.isArray(ir.statuses)&&ir.statuses.length>0?Array.from(new Set(ir.statuses.map(v=>(v||"").trim()))).filter(Boolean):Array.from(new Set(On.map(v=>(v.status||"").trim()).filter(Boolean))):[],[ir,On]),km=y.useMemo(()=>{const v=lT.map(E=>E.key),S=Lf.map(E=>E.toLowerCase()).filter(E=>E!=="nuture"&&(E==="pending"||ai(E)));return Array.from(new Set([...v,...S]))},[Lf,ai]),[on,ss]=y.useState({}),Ri=y.useRef(new Set),ec=y.useMemo(()=>On.filter(fu),[On,fu]),wd=y.useMemo(()=>ec.filter(v=>!ai(v.status)&&!Yr(v)),[ec,Yr,ai]),$n=y.useMemo(()=>ec.filter(v=>ai(v.status)&&!Yr(v)&&!Ji(v)&&v.referredContactEligibleForCredit!==!0&&!(Yn(v.status)==="converted"&&Yr(v))),[ec,Yr,Ji,ai]),jg=y.useMemo(()=>{const v=kr?.ledger??[],S=new Map;return v.forEach(E=>{E.direction==="credit"&&E.referralId&&S.set(E.referralId,E)}),S},[kr]),Na=y.useMemo(()=>On.filter(v=>!fu(v)&&!Jl(v)&&!Yr(v)),[Yr,fu,Jl,On]),$f=y.useMemo(()=>On.filter(v=>Jl(v)),[On,Jl]),tc=y.useMemo(()=>Na.filter(v=>ai(v.status)),[Na,ai]),rc=y.useMemo(()=>tc.filter(v=>(Yn(v.status),Yr(v)||Ji(v)?!1:!v.creditIssuedAt)),[Yr,Ji,tc]),Om=y.useMemo(()=>tc.filter(v=>{const S=Yn(v.status),E=Yr(v);return!!v.creditIssuedAt||S==="converted"&&E}),[Yr,tc]);y.useMemo(()=>Na.filter(v=>!ai(v.status)),[Na,ai]);const _g=y.useMemo(()=>{const v=new Set;return $n.forEach(S=>v.add(Yn(S.status))),tc.forEach(S=>v.add(Yn(S.status))),$f.forEach(S=>v.add(Yn(S.status))),v.delete("nuture"),["all",...Array.from(v)]},[$n,$f,tc]),[Ff,Bf]=y.useState("all"),Tm=y.useRef(new Map),is=y.useRef(0),Dt=y.useMemo(()=>{const v=ir,S=[...Array.isArray(v?.users)?v.users:[],...Array.isArray(v?.accounts)?v.accounts:[],...Array.isArray(v?.doctors)?v.doctors:[]];if(S.length===0)return[];const E=new Set,b=T=>{T&&E.add(T.toLowerCase())};rc.forEach(T=>{b(T.referredContactEmail||void 0),b(T.referredContactPhone?`phone:${T.referredContactPhone}`:void 0),b(T.referredContactAccountId?`acct:${T.referredContactAccountId}`:void 0),b(T.id?`id:${T.id}`:void 0)}),$n.forEach(T=>{b(T.referredContactEmail||void 0),b(T.referredContactPhone?`phone:${T.referredContactPhone}`:void 0),b(T.id?`id:${T.id}`:void 0)});const P=new Date().toISOString(),q=new Map;return S.forEach(T=>{const W=T.id||T.userId||T.doctorId||T.accountId||T.account_id||T.email||T.username||T.contactEmail||Math.random().toString(16).slice(2),te=String(W);q.has(te)||q.set(te,T)}),Array.from(q.values()).map((T,W)=>{const te=(T.email||T.userEmail||T.doctorEmail||T.contactEmail||"").toLowerCase();if(te&&r?.email&&te===r.email.toLowerCase())return null;const ge=T.id||T.userId||T.doctorId||T.accountId||T.account_id||null;if((un(T.totalOrders)??0)>0)return null;const ee=V1(T.name||[T.firstName,T.lastName].filter(Boolean).join(" ").trim()||T.doctorName||T.contactName||T.username||T.email||"Account"),ie=T.email||T.userEmail||T.doctorEmail||T.contactEmail||null,we=T.phone||T.phoneNumber||T.phone_number||T.contactPhone||null,Ne=T.createdAt||T.created_at||T.dateCreated||T.date_created||T.updatedAt||T.updated_at||P,De=ie&&ie.toLowerCase()||we&&`phone:${we}`||ge&&`acct:${ge}`||`synthetic:${W}`;if(E.has(De.toLowerCase())||ie&&$o.has(`email:${ie.toLowerCase()}`)||ge&&$o.has(`id:${String(ge)}`))return null;const Oe=ge?String(ge):null,Le=Oe&&Object.prototype.hasOwnProperty.call(on,Oe)?on[Oe]:null,s=Le&&typeof Le?.status=="string"?Yn(Le.status):null;return{kind:"referral",record:{id:`acct-prospect-${ge||ie||we||W}`,referrerDoctorId:r?.id||r?.salesRepId||"rep",salesRepId:r?.salesRepId||r?.id||null,referredContactName:ee,referredContactEmail:ie,referredContactPhone:we,referralCodeId:null,status:s||"account_created",createdAt:Ne,updatedAt:typeof Le?.updatedAt=="string"&&Le.updatedAt?Le.updatedAt:Ne,convertedDoctorId:null,convertedAt:null,notes:typeof Le?.notes=="string"?Le.notes:T.notes||null,referrerDoctorName:null,referrerDoctorEmail:null,referrerDoctorPhone:null,creditIssuedAt:null,creditIssuedAmount:null,creditIssuedBy:null,referredContactHasAccount:!0,referredContactAccountId:ge?String(ge):null,referredContactAccountName:ee,referredContactAccountEmail:ie,referredContactAccountCreatedAt:Ne,referredContactTotalOrders:T.totalOrders||0,referredContactEligibleForCredit:!1,syntheticAccountProspect:!0}}}).filter(Boolean)},[on,rc,$n,ir,r?.id,r?.salesRepId]);y.useEffect(()=>{if(!r||!dr(r.role)&&!it(r.role))return;const v=Dt.map(E=>String(E.record?.referredContactAccountId||"").trim()).filter(Boolean);if(v.length===0)return;let S=!1;return(async()=>{for(const E of v){if(S)return;if(!Object.prototype.hasOwnProperty.call(on,E)&&!Ri.current.has(E)){Ri.current.add(E);try{const P=(await da.getSalesProspect(E))?.prospect;!S&&P&&ss(q=>({...q,[E]:P}))}catch{}finally{Ri.current.delete(E)}}}})(),()=>{S=!0}},[Dt,on,r]),y.useMemo(()=>[...rc.map(v=>({kind:"referral",record:v})),...$n.map(v=>({kind:"contact_form",record:v})),...Dt].sort((v,S)=>{const E=v.record.updatedAt?new Date(v.record.updatedAt).getTime():v.record.createdAt?new Date(v.record.createdAt).getTime():0;return(S.record.updatedAt?new Date(S.record.updatedAt).getTime():S.record.createdAt?new Date(S.record.createdAt).getTime():0)-E}),[rc,$n,Dt]),y.useMemo(()=>{const v=Om.map(E=>({kind:"referral",record:E})).sort((E,b)=>{const P=E.record.creditIssuedAt?new Date(E.record.creditIssuedAt).getTime():E.record.updatedAt?new Date(E.record.updatedAt).getTime():0;return(b.record.creditIssuedAt?new Date(b.record.creditIssuedAt).getTime():b.record.updatedAt?new Date(b.record.updatedAt).getTime():0)-P}),S=ec.filter(E=>(E.status||"").toLowerCase()==="converted"&&(E.referredContactEligibleForCredit===!0||Yr(E))).map(E=>({kind:"contact_form",record:E})).sort((E,b)=>{const P=E.record.updatedAt?new Date(E.record.updatedAt).getTime():E.record.createdAt?new Date(E.record.createdAt).getTime():0;return(b.record.updatedAt?new Date(b.record.updatedAt).getTime():b.record.createdAt?new Date(b.record.createdAt).getTime():0)-P});return[...v,...S].sort((E,b)=>(b.record.creditIssuedAt?new Date(b.record.creditIssuedAt).getTime():b.record.updatedAt?new Date(b.record.updatedAt).getTime():b.record.createdAt?new Date(b.record.createdAt).getTime():0)-(E.record.creditIssuedAt?new Date(E.record.creditIssuedAt).getTime():E.record.updatedAt?new Date(E.record.updatedAt).getTime():E.record.createdAt?new Date(E.record.createdAt).getTime():0))},[ec,Yr,Om]);const Sn=y.useMemo(()=>{const v=(te,ge)=>{const oe=te.record??{},ee=oe.id??oe.referralId??oe.leadId??oe.prospectId??null;if(ee)return`${te.kind}:${String(ee)}`;const ie=oe.referredContactAccountId??oe.accountId??oe.userId??oe.doctorId??null,we=oe.referredContactEmail??oe.email??oe.userEmail??null,Ne=oe.referredContactPhone??oe.phone??oe.phoneNumber??null,De=oe.referredContactName??oe.name??oe.doctorName??null,Te=oe.createdAt??oe.created_at??oe.dateCreated??oe.date_created??null,Oe=[ie,we,Ne,De,Te].filter(Boolean).join("|");return Oe?`${te.kind}:${Oe}`.toLowerCase():`${te.kind}:idx:${ge}`},b=[...$f.map(te=>({kind:"referral",record:te})),...rc.map(te=>({kind:"referral",record:te})),...$n.map(te=>({kind:"contact_form",record:te})),...Dt].map(te=>Yn(te.record?.status)==="converted"&&Yr(te.record)?{...te,record:{...te.record??{},status:"nuture"}}:te).filter(te=>!Tl(te.record)),P=new Map;b.forEach((te,ge)=>{const oe=v(te,ge);P.has(oe)||P.set(oe,te)});const q=Tm.current;let F=is.current;Array.from(P.keys()).forEach(te=>{q.has(te)||(q.set(te,F),F+=1)}),is.current=F;const T=new Map([["nuture",0],["converted",1],["account_created",2],["verified",3],["verifying",3],["contacted",4],["contact_form",5],["pending",6]]);return Array.from(P.entries()).map(([te,ge])=>({...ge,_sortKey:te})).sort((te,ge)=>{const oe=Yn(te.record?.status),ee=Yn(ge.record?.status),ie=T.get(oe)??Number.MAX_SAFE_INTEGER,we=T.get(ee)??Number.MAX_SAFE_INTEGER;if(ie!==we)return ie-we;const Ne=q.get(te._sortKey)??Number.MAX_SAFE_INTEGER,De=q.get(ge._sortKey)??Number.MAX_SAFE_INTEGER;if(Ne!==De)return Ne-De;const Te=te.record?.id?String(te.record.id):"",Oe=ge.record?.id?String(ge.record.id):"";return Te.localeCompare(Oe)})},[Dt,rc,$n,$f,Yr,Tl]),Tr=y.useMemo(()=>{if(Ff==="all")return Sn;const v=Ff.toLowerCase();return Sn.filter(({record:S})=>Yn(S.status)===v)},[Sn,Ff]),Zr=y.useMemo(()=>Na.filter(v=>Yn(v.status)==="pending"),[Na]);y.useEffect(()=>{const v=new Set;Zr.forEach(S=>{S.id&&v.add(String(S.id))}),na(v)},[Zr]);const Ba=y.useMemo(()=>{const v=new Map;oT.forEach((F,T)=>{F.statuses.forEach(W=>v.set(W,T))});const S=(F,T)=>{const W=F?.referredContactAccountId||F?.convertedDoctorId||F?.referredContactId||F?.userId||F?.doctorId||null;if(W)return`acct:${String(W)}`;const te=typeof F?.referredContactEmail=="string"?F.referredContactEmail.trim().toLowerCase():"";if(te)return`email:${te}`;const ge=typeof F?.referredContactPhone=="string"?F.referredContactPhone.trim():"";return ge?`phone:${ge}`:F?.id!=null?`id:${String(F.id)}`:`idx:${T}`},E=F=>{const T=F?.referredContactName||F?.referredContactEmail||F?.referredContactPhone||F?.referrerDoctorName||"Prospect";return String(T).trim()||"Prospect"},b=new Map;On.forEach((F,T)=>{const W=Yr(F)?"nuture":Yn(F.status),te=S(F,T),ge=E(F),oe=b.get(te);if(!oe){b.set(te,{status:W,name:ge});return}const ee=v.get(W)??-1,ie=v.get(oe.status)??-1;ee>ie&&b.set(te,{status:W,name:ge})});const P={},q={};return b.forEach(({status:F,name:T})=>{P[F]=(P[F]||0)+1,q[F]||(q[F]=new Set),T&&q[F].add(T)}),oT.map(F=>({status:F.key,label:F.label,count:F.statuses.reduce((T,W)=>T+(P[W]||0),0),names:(()=>{const T=new Set;return F.statuses.forEach(W=>{const te=q[W];te&&te.forEach(ge=>T.add(ge))}),Array.from(T).sort((W,te)=>W.localeCompare(te))})()}))},[Yr,On]),pu=y.useCallback(()=>{f0(v=>v==="desc"?"asc":"desc")},[]);y.useCallback(v=>{const S=(v||"contact_form").toLowerCase(),E=Math.max(0,kN.findIndex(b=>b.key===S));return l.jsx("div",{className:"flex flex-col gap-1 text-xs",children:kN.map((b,P)=>{const q=P<=E;return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${q?"bg-emerald-500":"bg-slate-300"}`}),l.jsx("span",{className:q?"text-emerald-600 font-semibold":"text-slate-500",children:b.label})]},b.key)})})},[]);const An=bd==="desc"?"Newest first":"Oldest first",el=y.useMemo(()=>{const v=new Map,S=ir?.referrals??[];for(const E of S)if(E.referrerDoctorId&&v.set(E.referrerDoctorId,E.referrerDoctorName||"Doctor"),E.convertedDoctorId){const b=E.referrerDoctorName??E.referredContactName??"Converted doctor";v.set(E.convertedDoctorId,b)}return v},[ir]);y.useMemo(()=>new Set(el.keys()),[el]);const Os=y.useCallback(async v=>{const S=xi,E=eo||bi,b=it(S)?void 0:E,P=bi!=null?String(bi).trim():"",q=typeof r?.email=="string"?r.email.trim().toLowerCase():"";if(!S||!dr(S)&&!it(S)){Lu([]),dt(new Map),uf([]),ya(null),qc(null),tr(!1),zr(!1);return}if(J)return;const F=Date.now(),T=25e3,W=`${String(S||"").toLowerCase()}:${String(b||"")}`,te=Qs.current!==W,ge=qn.current.length>0;te&&(Qs.current=W,js.current=0);const oe=v?.force===!0||te,ee=F-js.current;if(!oe&&ee>0&&ee<T||Il.current)return;Il.current=!0,js.current=F;const ie=!ge||te;tr(ie),zr(v?.force===!0&&!ie),ya(null),qc(null);try{console.log("[Sales Tracking] Fetch start",{role:S||null,salesRepId:E||null});let we=[];const Ne=new Map,De=await ls.getForSalesRep({salesRepId:b||void 0,scope:it(S)?"all":"mine"});if(De&&typeof De=="object"&&!Array.isArray(De)){const z=De;Array.isArray(z.orders)&&(we=z.orders),(Array.isArray(z.doctors)?z.doctors:Array.isArray(z.users)?z.users:[]).forEach(be=>{const _e=be.id||be.doctorId||be.userId||be.accountId||be.account_id;_e&&Ne.set(String(_e),{name:be.name||[be.firstName,be.lastName].filter(Boolean).join(" ").trim()||be.email||"Doctor",email:be.email||be.doctorEmail||be.userEmail||null,profileImageUrl:be.profileImageUrl||be.profile_image_url||null,phone:be.phone||be.phoneNumber||be.phone_number||be.contactPhone||null,leadType:be.leadType||be.lead_type||null,leadTypeSource:be.leadTypeSource||be.lead_type_source||null,leadTypeLockedAt:be.leadTypeLockedAt||be.lead_type_locked_at||null,address1:be.address1||be.address_1||null,address2:be.address2||be.address_2||null,city:be.city||null,state:be.state||null,postalCode:be.postalCode||be.postcode||be.zip||null,country:be.country||null})})}else Array.isArray(De)&&(we=De);const Te=new Map,Oe=(z,Se)=>String(z.id||z.wooOrderId||z.number||z.cancellationId||z.wooOrderNumber||`idx-${Se}`);we.forEach((z,Se)=>{const be=Oe(z,Se);Te.set(be,z)});const Le=z=>{if(typeof z=="string"&&z.trim().length>0){const Se=new Date(z);return Number.isNaN(Se.getTime())?null:Se.toISOString()}return z instanceof Date?Number.isNaN(z.getTime())?null:z.toISOString():null},s=new Map,o=(z,Se=0)=>{[z.id,z.wooOrderId,z.woo_order_id,z.number,z.wooOrderNumber,z.cancellationId,z.cancellation_id,`idx-${Se}`].filter(Boolean).map(_e=>String(_e)).forEach(_e=>s.set(_e,z))};qn.current.forEach((z,Se)=>o(z,Se));const d=ah({woo:we},{includeCanceled:!0}).map((z,Se)=>{const be=Oe(z,Se),_e=Te.get(be)||{},Ye=Za(_e)||Za(z)||_e.doctor_id||_e.doctorId||z.doctor_id||z.doctorId||null,Je=Ye?Ne.get(Ye):null,Xe=Le(z.createdAt)||Le(z.dateCreated)||Le(z.date_created)||Le(z.dateCreatedGmt)||Le(z.date_created_gmt)||null,nr=Le(z.updatedAt)||Le(z.dateModified)||Le(z.date_modified)||Le(z.dateModifiedGmt)||Le(z.date_modified_gmt)||Xe,le=Le(z?.shippingEstimate?.estimatedArrivalDate)||Le(z?.shippingEstimate?.deliveryDateGuaranteed)||Le(z?.shippingEstimate?.estimated_delivery_date)||Le(z?.shipping?.estimatedArrivalDate)||Le(z?.shipping?.estimated_delivery_date)||null,ae=z.shippingEstimate||z.shippingEstimate||null,$e={...ae&&typeof ae=="object"?{...ae}:{},estimatedArrivalDate:le},xt=!!le||Object.values($e).some(Rt=>Rt!=null&&String(Rt).length>0)?$e:null,St=Rt=>!Rt||typeof Rt!="object"?null:Object.values(Rt).some(w0=>w0!=null&&String(w0).length>0)?Rt:null,vt=s.get(be),ln=vt&&vt!==z?{...vt,...z,shippingEstimate:xt??vt.shippingEstimate??null,createdAt:Xe||vt.createdAt||null,updatedAt:nr||vt.updatedAt||null,lineItems:z.lineItems?.length?z.lineItems:vt.lineItems}:z;return{...ln,createdAt:ln.createdAt||Xe,updatedAt:ln.updatedAt||nr,shippingEstimate:St(ln.shippingEstimate)??xt??null,doctorId:Ye,doctorEmail:Je?.email||_e?.doctorEmail||_e?.doctor_email||z?.doctorEmail||z?.doctor_email||z?.billing?.email||z?.billing_email||null,doctorName:Je?.name||_e?.doctorName||_e?.billing_name||z?.doctorName||z?.billing?.firstName||z?.billing?.first_name||z?.billing_name||z?.billing?.lastName||z?.billing?.last_name||"Doctor",doctorProfileImageUrl:Je?.profileImageUrl||_e?.doctorProfileImageUrl||z?.doctorProfileImageUrl||null}}).filter(z=>{if(!P&&!q)return!0;const Se=Za(z)||z?.doctorId||z?.doctor_id||z?.userId||z?.user_id||null;return!(P&&Se!=null&&String(Se).trim()===P||q&&[z?.userEmail,z?.user_email,z?.doctorEmail,z?.doctor_email,z?.email,z?.billing?.email,z?.billing_email].filter(_e=>typeof _e=="string").map(_e=>String(_e).trim().toLowerCase()).filter(Boolean).includes(q))}).sort((z,Se)=>{const be=z.createdAt?new Date(z.createdAt).getTime():0;return(Se.createdAt?new Date(Se.createdAt).getTime():0)-be}),h=z=>{const Se=String(z.id||z.number||""),be=z.createdAt||z.dateCreated||z.date_created||z.date_created_gmt||"",_e=z.updatedAt||z.dateModified||"",Ye=z?.shippingEstimate?.estimatedArrivalDate||z?.shippingEstimate?.deliveryDateGuaranteed||z?.shippingEstimate?.estimated_delivery_date||"",Je=z?.shippingEstimate?.status||z?.shipping?.status||"";return[Se,String(z.number||""),String(z.status||""),String(z.total||""),String(be||""),String(_e||""),String(Ye||""),String(Je||"")].join("|")},w=ji.current,j=new Map,I=new Set;for(const z of d){const Se=String(z.id||z.number||"");if(!Se)continue;const be=h(z);j.set(Se,be),w.get(Se)!==be&&I.add(Se)}w.size!==j.size&&I.add("__list_changed__"),ji.current=j;const H=ie||I.size>0||qn.current.length!==d.length;if(dt(Ne),H&&Lu(d),!ie&&I.size>0){const z=new Set([...I].filter(Se=>Se!=="__list_changed__"));z.size>0&&(of(z),lf.current&&window.clearTimeout(lf.current),lf.current=window.setTimeout(()=>{of(new Set),lf.current=null},650))}const re=[];if(d.forEach(z=>{const Se=Za(z)||z.userId||z.id;if(!Se)return;const be=String(Se);Ra.current.has(be)||(Ra.current.add(be),re.push(be))}),Si.current){if(re.length>0){const z=new Set(Tn);re.forEach(Se=>z.add(Se)),bs(z)}}else{const z=new Set;Ra.current.forEach(Se=>z.add(Se)),bs(z),Si.current=!0}H&&Ns(Date.now()),console.log("[Sales Tracking] Orders loaded",{count:d.length,doctors:Ne.size,sample:d[0]&&{id:d[0].id,number:d[0].number,createdAt:d[0].createdAt,updatedAt:d[0].updatedAt,shippingEstimate:d[0].shippingEstimate,arrival:d[0].shippingEstimate?.estimatedArrivalDate}}),$c(d,{onlyIds:ie||v?.force===!0?void 0:I,force:v?.force===!0})}catch(we){const Ne=typeof we?.message=="string"?we.message:"Unable to load sales tracking data at the moment.";console.error("[Sales Tracking] Unable to fetch orders",we),ya(Ne)}finally{tr(!1),zr(!1),Il.current=!1}},[bi,xi,eo,r?.email,J,Za,$c,Da]);y.useCallback(async()=>{await Os({force:!0})},[Os]),y.useEffect(()=>{if(J||!xi||!dr(xi)&&!it(xi))return;Os();const v="sales-tracking-poll",S=25e3,E=Math.max(45e3,S*2),b=window.setInterval(()=>{oi()&&cl(v,E)&&Os()},S);return()=>{$i(v),window.clearInterval(b)}},[Os,xi,J]);const Sd=y.useMemo(()=>{if(gs.length===0)return null;const v=gs.filter(E=>no(E.status)),S=v.reduce((E,b)=>E+(un(b.total)??0),0);return{totalOrders:v.length,totalRevenue:S,latestOrder:v[0]||gs[0]}},[gs]),Nd=y.useMemo(()=>{const v=new Map;return(ir?.referrals??[]).forEach(E=>{if(!E?.id)return;const b=String(E.id),P=E.updatedAt?new Date(E.updatedAt).getTime():0,q=F=>{if(!F)return;const T=String(F).trim().toLowerCase();if(!T)return;const W=v.get(T);(!W||P>W.updatedAtMs)&&v.set(T,{referralId:b,updatedAtMs:P})};q(E.referredContactAccountId?`acct:${E.referredContactAccountId}`:null),q(E.convertedDoctorId?`acct:${E.convertedDoctorId}`:null),q(E.referredContactEmail?`email:${String(E.referredContactEmail).toLowerCase()}`:null),q(E.referredContactAccountEmail?`email:${String(E.referredContactAccountEmail).toLowerCase()}`:null)}),v},[ir?.referrals]),mu=y.useCallback((v,S)=>{if(v){const E=Nd.get(`acct:${String(v).toLowerCase()}`);if(E)return E.referralId}if(S){const E=Nd.get(`email:${String(S).toLowerCase()}`);if(E)return E.referralId}return null},[Nd]),la=y.useMemo(()=>{const v=new Map;for(const S of gs){const E=Za(S)||S.userId||`anon:${S.id}`,b=E?yt.get(E):null,P=b?.name||el.get(E)||S.doctorName||"Doctor",q=b?.email||S.doctorEmail||null,F=b?.profileImageUrl||S.doctorProfileImageUrl||null,T=b?.leadType||null,W=b?.leadTypeSource||null,te=b?.leadTypeLockedAt||null,ge=(()=>{const Te=[b?.address1,b?.address2,[b?.city,b?.state,b?.postalCode].filter(Boolean).join(", "),b?.country].filter(Oe=>typeof Oe=="string"&&Oe.trim().length>0);return Te.length>0?Te.join(`
`):null})(),oe=b?.phone||null,ee=P,ie=q||S?.billing?.email||S?.billing_email||null,we=S?.salesRepId||S?.sales_rep_id||S?.salesRep?.id||null,Ne=v.get(E)||(()=>{const Te={doctorId:E,doctorName:ee,doctorEmail:ie,doctorAvatar:F,doctorPhone:oe,ownerSalesRepId:we?String(we):null,leadType:T,leadTypeSource:W,leadTypeLockedAt:te,doctorAddress:ge,orders:[],total:0};return v.set(E,Te),Te})();we&&!Ne.ownerSalesRepId&&(Ne.ownerSalesRepId=String(we)),Ne.orders.push(S);const De=S.status;no(De)&&(Ne.total+=un(S.total)??0)}return Array.from(v.values()).sort((S,E)=>E.total-S.total)},[gs,Za,yt,el]),qf=y.useCallback(()=>{try{const v=sessionStorage.getItem("auth_token");if(v&&v.trim().length>0)return!0}catch{}return!1},[]),tl=y.useCallback(async v=>{if(!r){console.debug("[Referral] refreshReferralData skipped: no user");return}if(Me){console.debug("[Referral] refreshReferralData suppressed due to prior auth error");return}const S=v?.showLoading??!0,E=Date.now();if(!S){const b=xg.current;if(b>0&&E-b<H1){console.debug("[Referral] refreshReferralData throttled",{sinceMs:E-b,minIntervalMs:H1});return}}if(Kr.current&&Kr.current>Date.now()){console.debug("[Referral] refreshReferralData in cooldown");return}if(!qf()){console.debug("[Referral] refreshReferralData skipped: missing auth token"),Ae(!0);return}if(ym.current){S&&Yc(!0);return}ym.current=!0,xg.current=E,S&&Yc(!0),console.debug("[Referral] Refresh start",{role:r.role,userId:r.id});try{if(qo(null),ol(r.role)){const b=await da.getDoctorSummary(),P=Array.isArray(b?.referrals)?b.referrals:[],q=b?.credits??{},F={totalCredits:Number(q.totalCredits??0),availableCredits:Number(q.availableCredits??q.totalCredits??r?.referralCredits??0),netCredits:typeof q.netCredits=="number"?Number(q.netCredits):void 0,firstOrderBonuses:Number(q.firstOrderBonuses??0),ledger:Array.isArray(q.ledger)?q.ledger:[]};yi({...F});const T=P.map(W=>({...W}));vi(T),n(W=>{if(!W)return W;const te=F.availableCredits,ge=T.length;return Number(W.referralCredits??0)===te&&Number(W.totalReferrals??0)===ge?W:{...W,referralCredits:te,totalReferrals:ge}}),console.debug("[Referral] Doctor summary loaded",{referrals:T.length,credits:F})}else if(dr(r.role)||it(r.role)){const b=await da.getSalesRepDashboard({salesRepId:r.salesRepId||r.id,scope:(it(r.role),"mine")});Qi(b),console.debug("[Referral] Sales rep dashboard loaded",{referrals:b?.referrals?.length??0,statuses:b?.statuses??null})}else console.debug("[Referral] Refresh skipped for role",{role:r.role})}catch(b){const P=typeof b?.status=="number"?b.status:null,q=typeof b?.message=="string"?b.message:"UNKNOWN_ERROR";console.warn("[Referral] Failed to load data",{status:P,message:q,error:b}),(P===401||P===403)&&(Ae(!0),Kr.current=Date.now()+300*1e3),qo(l.jsxs(l.Fragment,{children:["There is an issue in loading your referral data. Please refresh the page or contact"," ",l.jsx("a",{className:"text-[rgb(95,179,249)] underline",href:"mailto:support@peppro.net",children:"support@peppro.net"}),"."]}))}finally{console.debug("[Referral] Refresh complete",{role:r.role}),ym.current=!1,S&&Yc(!1)}},[r,n,Me,qf]),Ir=y.useCallback(async(v,S)=>{const E=r?{id:r.id,role:r.role}:{id:null,role:null},b=S?.showLoading??!0;return console.debug("[Referral] refreshReferralData invoke",{trigger:v,showLoading:b,user:E,suppressed:Me,postLoginHold:J,ts:Date.now(),stack:typeof Error<"u"?new Error("refreshReferralData stack").stack:void 0}),tl(S)},[r,Me,J,tl]),Uf=y.useCallback(async v=>{if(v.preventDefault(),!ns.name.trim()){Ze.error("Name is required.");return}try{As(!0),await da.createManualProspect({name:ns.name.trim(),email:ns.email.trim()||void 0,phone:ns.phone.trim()||void 0,notes:wi(ns.notes)||void 0,status:ns.status,hasAccount:!1}),Ze.success("Prospect added successfully."),Kc(),await Ir("manual-prospect-submit",{showLoading:!1})}catch(S){console.error("[Referral] Manual prospect create failed",S);const E=typeof S?.message=="string"?S.message:"Unable to add prospect right now.";Ze.error(E)}finally{As(!1)}},[ns,Kc,wi,Ir]),Im=y.useCallback(async(v,S)=>{if(!r||!dr(r.role)&&!it(r.role))return;const E=String(v?.referredContactAccountId||"").trim();if(!E){Ze.error("Unable to update this account prospect.");return}try{Vr(q=>({...q,updatingReferral:String(v?.id||""),error:null}));const P=(await da.upsertSalesProspect(E,{status:S}))?.prospect;P&&ss(q=>({...q,[E]:P})),Ze.success("Prospect updated."),await Ir("synthetic-account-promote",{showLoading:!1})}catch(b){console.error("[Referral] Synthetic account promote failed",b);const P=typeof b?.message=="string"&&b.message?b.message:"Unable to update prospect right now.";Vr(q=>({...q,error:P})),Ze.error(P)}finally{Vr(b=>({...b,updatingReferral:null}))}},[ss,Ir,r]),[rl,si]=y.useState({}),os=y.useCallback((v,S)=>{Qi(E=>{if(!E)return E;const P=(Array.isArray(E.referrals)?E.referrals:[]).map(q=>String(q?.id||"")!==String(v)?q:{...q,...S});return{...E,referrals:P}})},[]),zf=y.useCallback(async(v,S)=>{if(!(!r||!dr(r.role)&&!it(r.role))){si(E=>({...E,[v]:!0}));try{const b=(await da.upsertSalesProspect(v,{resellerPermitExempt:S}))?.prospect;os(v,{resellerPermitExempt:S,...b&&typeof b=="object"?b:{}})}catch(E){console.warn("[Prospects] Update reseller permit exempt failed",E),Ze.error(typeof E?.message=="string"&&E.message?E.message:"Unable to update permit status right now.")}finally{si(E=>({...E,[v]:!1}))}}},[os,r]),jd=y.useCallback(async(v,S)=>{if(!(!r||!dr(r.role)&&!it(r.role))){si(E=>({...E,[v]:!0}));try{const b=(await da.uploadResellerPermit(v,S))?.prospect;os(v,{...b&&typeof b=="object"?b:{},resellerPermitFileName:S.name})}catch(E){console.warn("[Prospects] Upload reseller permit failed",E),Ze.error(typeof E?.message=="string"&&E.message?E.message:"Unable to upload permit right now.")}finally{si(E=>({...E,[v]:!1}))}}},[os,r]),Rm=y.useCallback(async v=>{if(!(!r||!dr(r.role)&&!it(r.role))&&window.confirm("Delete this reseller permit file?")){si(S=>({...S,[v]:!0}));try{const E=(await da.deleteResellerPermit(v))?.prospect;os(v,{...E&&typeof E=="object"?E:{},resellerPermitFileName:null,resellerPermitFilePath:null,resellerPermitUploadedAt:null})}catch(S){console.warn("[Prospects] Delete reseller permit failed",S),Ze.error(typeof S?.message=="string"&&S.message?S.message:"Unable to delete permit right now.")}finally{si(S=>({...S,[v]:!1}))}}},[os,r]),Wf=y.useCallback(async(v,S)=>{if(!(!r||!dr(r.role)&&!it(r.role))){si(E=>({...E,[v]:!0}));try{const E=await da.downloadResellerPermit(v),b=URL.createObjectURL(E.blob);if(!window.open(b,"_blank","noopener,noreferrer")){const q=document.createElement("a");q.href=b,q.download=E.filename||S||"reseller_permit",document.body.appendChild(q),q.click(),q.remove()}window.setTimeout(()=>URL.revokeObjectURL(b),6e4)}catch(E){console.warn("[Prospects] Download reseller permit failed",E),Ze.error(typeof E?.message=="string"&&E.message?E.message:"Unable to download permit right now.")}finally{si(E=>({...E,[v]:!1}))}}},[r]),Hf=y.useCallback(async v=>{if(window.confirm("Delete this referral? This cannot be undone."))try{vf(v),await da.deleteDoctorReferral(v),vi(S=>S.filter(E=>E.id!==v)),Ze.success("Referral deleted.")}catch(S){console.error("[Referral] Doctor referral delete failed",S),Ze.error(typeof S?.message=="string"?S.message:"Unable to delete referral right now.")}finally{vf(null)}},[]),ca=y.useCallback(async v=>{const S=v.referrerDoctorId,E=v.referrerDoctorName||"User";if(!S){Ze.error("Unable to credit this referral because the referrer is missing.");return}if(window.confirm("Are you sure?"))try{dd(v.id),await da.addManualCredit({doctorId:S,amount:50,reason:`Manual credit for referral ${v.id}`,referralId:v.id}),Ze.success(`Credited ${E} $50`),await Ir("manual-credit",{showLoading:!1})}catch(b){console.error("[Referral] Manual credit failed",b);const P=typeof b?.message=="string"?b.message:"Unable to issue credit right now.";Ze.error(P)}finally{dd(null)}},[Ir]),ii=y.useCallback(v=>{if(!v)return"";const S=new Date(v);return Number.isNaN(S.getTime())?v:S.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},[]),Rr=y.useCallback(v=>{if(!v)return"";const S=new Date(v);return Number.isNaN(S.getTime())?v:S.toLocaleString(void 0,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"})},[]),jt=y.useCallback((v,S="USD")=>{if(v==null||Number.isNaN(v))return"";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:S}).format(v)}catch{return`$${v.toFixed(2)}`}},[]),Cg=y.useCallback(v=>{if(ze.current&&(ze.current.disconnect(),ze.current=null),!v||typeof IntersectionObserver>"u"){Be(!1);return}const S=new IntersectionObserver(([E])=>{Be(E.isIntersecting)},{rootMargin:"-10% 0px 0px 0px"});S.observe(v),ze.current=S},[]);y.useEffect(()=>{li.logout()},[]),y.useEffect(()=>{let v=!1;return(async()=>{const E=typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now();try{const b=await kd();if(!v){const P=typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now();console.debug("[Auth] API warm-up complete",{healthy:b,durationMs:Math.round(P-E)})}}catch(b){v||console.warn("[Auth] API warm-up failed",b)}})(),()=>{v=!0}},[]),y.useEffect(()=>{if(typeof window>"u")return;let v=!1;const S=(F=!1,T=nT)=>{Xl.current&&window.clearTimeout(Xl.current),F||(xm(Date.now()+T),cu(!0)),Is&&console.info("[Catalog] Retry scheduled",{background:F,delayMs:T}),Xl.current=window.setTimeout(()=>{E(F)},T)},E=async(F=!1)=>{if(v||gd.current)return;gd.current=!0,Xl.current=null,F||(xm(null),Dn(!1),Tf.current=0),F||bm(!0),Of(null),F||cu(!1);const T=Date.now();Is&&console.info("[Catalog] Load started",{background:F,build:dh,apiBase:"https://api.peppro.net",wooProxy:""});try{wt();const W=async()=>{const s=[],o=async d=>{const h=Date.now(),w=await JZ({per_page:100,page:d,status:"publish"});return Is&&console.info("[Catalog] Products page loaded",{page:d,count:Array.isArray(w)?w.length:0,durationMs:Date.now()-h}),w};for(let d=1;d<=25;d+=sT){const h=Array.from({length:sT},(I,H)=>d+H).filter(I=>I<=25),w=await Promise.all(h.map(I=>o(I)));let j=!1;for(let I=0;I<w.length;I+=1){const H=w[I],re=h[I];if(!Array.isArray(H)||H.length===0){Is&&console.info("[Catalog] Products page empty",{page:re}),j=!0;break}if(s.push(...H),H.length<100){j=!0;break}}if(j)break}return Is&&s.length===0&&console.warn("[Catalog] No Woo products returned"),s},[te,ge]=await Promise.all([W(),eJ({per_page:100})]);if(v)return;Is&&console.info("[Catalog] Woo base payload loaded",{products:Array.isArray(te)?te.length:0,categories:Array.isArray(ge)?ge.length:0,durationMs:Date.now()-T});const oe=Array.isArray(ge)?ge.map(Oe=>Oe?.name?.trim()).filter(Oe=>!!Oe&&!Oe.toLowerCase().includes("subscription")):[],ee=new Map;if(Array.isArray(ge))for(const Oe of ge){const Le=typeof Oe?.id=="number"?Oe.id:Number.parseInt(String(Oe?.id??""),10);if(!Number.isFinite(Le))continue;const s=typeof Oe?.name=="string"?Oe.name.trim():"";s&&ee.set(Number(Le),s)}lt.current=ee,oe.length>0?(Yl(oe),Is&&console.info("[Catalog] Categories set from API",{categories:oe})):Is&&console.info("[Catalog] Categories empty after filter",{rawCategories:Array.isArray(ge)?ge.map(Oe=>Oe?.name):[]}),Ee.current=new Map((te??[]).filter(Oe=>!!(Oe&&typeof Oe=="object"&&"id"in Oe)).map(Oe=>{const Le=ih(Oe,lt.current),s=typeof Le.id=="number"?Le.id:Number.parseInt(String(Le.id).replace(/[^\d]/g,""),10);return Number.isFinite(s)?[s,Le]:null}).filter(Oe=>!!Oe));const ie=Oe=>{if(!Oe||Oe.length===0)return!1;Is&&console.info("[Catalog] Applying catalog state",{products:Oe.length}),fd(Oe);const Le=Array.from(new Set(Oe.map(h=>h.category).filter(h=>!!h&&!h.toLowerCase().includes("subscription")))),s=oe.length>0?oe:Le,o=Array.from(new Set([...s,...Le]));o.length>0&&Yl(o);const d=Array.from(new Set(Oe.map(h=>h.type).filter(Boolean)));return d.length>0&&vm(d),!0};let we=0;const Ne=[],De=(te??[]).filter(Oe=>!!(Oe&&typeof Oe=="object"&&"id"in Oe)).map(Oe=>{try{const Le=ih(Oe,lt.current);return G1(Le,[])}catch(Le){return we+=1,Ne.length<5&&Ne.push({id:Oe?.id,name:Oe?.name,message:typeof Le?.message=="string"?Le.message:void 0}),console.warn("[Catalog] Failed to map Woo product",Oe?.id,Le),null}}).filter(Oe=>!!(Oe&&Oe.name));if(Is&&console.info("[Catalog] Base products mapped",{count:De.length,mapFailures:we,sampleMapFailures:Ne}),Array.isArray(te)&&te.length>0&&De.length===0){const Oe=we>0?`Catalog mapping failed for ${we} products.`:"Catalog mapping produced 0 products.";Of(Oe),console.error("[Catalog] Mapping resulted in empty catalog",{mappingError:Oe,wooCount:te.length,mapFailures:we,sampleMapFailures:Ne})}const Te=ie(De);if(Is&&console.info("[Catalog] Catalog state applied",{products:De.length,categories:Ti.length||oe.length,durationMs:Date.now()-T}),!F){if(!Te&&De.length===0&&Yt.length===0&&Tf.current<MJ){Tf.current+=1;const Oe=Math.max(DJ,aT);cu(!0),S(!1,Oe);return}bm(!1),Te&&(hd.current=0,cu(!1))}Is&&console.info("[Catalog] Load complete (state)",{products:De.length,categories:Ti.length,loading:!1})}catch(W){if(!v){const te=typeof W?.message=="string"&&W.message.trim().length>0?W.message:"Catalog fetch failed",ge=typeof W?.status=="number"?W.status:null,oe=typeof W?.name=="string"?W.name:"";if(ge===429||ge===500||ge===502||ge===503||ge===504||te==="Failed to fetch"||te==="Load failed"||oe==="TypeError"){Ct.current+=1;const ie=Math.min(8,Ct.current),we=Math.min(300*1e3,2e3*Math.pow(2,ie-1));rt.current=Date.now()+we}if(!F){hd.current+=1;const ie=hd.current===1?aT:nT,we=Math.max(ie,Math.max(0,rt.current-Date.now()));hd.current>=2?Of(te):cu(!0),S(!1,we);return}console.error("[Catalog] Catalog fetch failed",{message:te,error:W}),S(F)}}finally{Is&&console.info("[Catalog] Load finished",{background:F,durationMs:Date.now()-T}),gd.current=!1}};E(!1);const b="catalog-background-poll",P=Math.max(45e3,z1*2),q=window.setInterval(()=>{oi()&&cl(b,P)&&(Zl(b,"catalog-background-poll",z1),E(!0))},z1);return()=>{v=!0,$i(b),Xl.current&&window.clearTimeout(Xl.current),window.clearInterval(q)}},[wt,ht]),y.useEffect(()=>{if(yo.current&&(window.clearTimeout(yo.current),yo.current=null),Ii){Dn(!1);return}if(Yt.length>0){Dn(!1);return}if(lu&&Date.now()<lu){Dn(!1);return}return yo.current=window.setTimeout(()=>{Dn(!0),yo.current=null},LJ),()=>{yo.current&&(window.clearTimeout(yo.current),yo.current=null)}},[Ii,Yt.length,lu]),y.useEffect(()=>{if(!r){vo([]),xo(null),Qo(null);return}let v=!1;return(async()=>{Sg(),xo(null);const E=Date.now();try{const b=await iS.getPeptideHeadlines();if(v)return;const P=Array.isArray(b?.items)?b.items.map(q=>({title:typeof q?.title=="string"?q.title.trim():"",url:typeof q?.url=="string"?q.url.trim():"",summary:typeof q?.summary=="string"&&q.summary.trim()?q.summary.trim():void 0,image:typeof q?.imageUrl=="string"&&q.imageUrl.trim()?q.imageUrl.trim():void 0,date:typeof q?.date=="string"&&q.date.trim()?q.date.trim():void 0})).filter(q=>q.title&&q.url):[];if(P.length===0){vo([]),xo("No headlines available right now."),Qo(new Date);return}vo(P.slice(0,6)),Qo(new Date)}catch(b){v||(console.warn("[News] Failed to load peptide headlines",b),xo("Unable to load peptide news at the moment."),vo([]))}finally{v||_m(E)}})(),()=>{v=!0}},[r]),y.useEffect(()=>{if(!r){Cm(!1),du(!1),Zo(null),nt(!1),Ln.current=!1;return}if(Ln.current)return;Ln.current=!0,Cm(!1),du(!1),Zo(null),nt(!0);const v=window.setTimeout(()=>Cm(!0),250);return()=>window.clearTimeout(v)},[r]),y.useEffect(()=>{if(!r||!wn||de||Em)return;let v=!1;return(async()=>{try{const E=await _I.getQuoteOfTheDay();v||Zo(E)}catch(E){console.warn("[Quotes] Failed to load quote of the day",E),v||Zo({text:"Excellence is not a skill, it's an attitude.",author:"Ralph Marston"})}finally{v||(nt(!1),du(!0))}})(),()=>{v=!0}},[r,wn,de,Em]),y.useEffect(()=>{if(typeof window>"u")return;const v=()=>{Df(window.innerWidth>=1024)};return v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}},[]),y.useEffect(()=>{Is&&console.info("[CatalogState] Snapshot",{loading:Ii,error:md,products:Yt.length,categories:Ti.length,types:kf.length,filters:kn,searchQuery:g.trim()})},[Ii,md,Yt,Ti,kf,kn,g]),y.useEffect(()=>{Mo(v=>{const S=v.categories.filter(E=>Ti.includes(E));return S.length===v.categories.length&&v.types.length===0?v:{...v,categories:S,types:[]}})},[Ti]),y.useEffect(()=>{if(!r){yi(null),vi([]),Qi(null),Vr({updatingReferral:null,error:null}),Ae(!1);return}if(Ae(!1),J)return;let v=!1;return(async()=>v||await Ir("user-change-initial-load",{showLoading:!0}))(),()=>{v=!0}},[r,J,tl]),y.useEffect(()=>{if(typeof document>"u")return;const v=!!r&&!J,S=!r;return document.body.classList.toggle("non-login-bg",v),document.body.classList.toggle("login-view",S),()=>{document.body.classList.remove("non-login-bg"),document.body.classList.remove("login-view")}},[r,J]),y.useEffect(()=>{if(!r||!dr(r.role)&&!it(r.role)||J||Me)return;const v=Math.max(H1,45e3),S=window.setInterval(()=>{Ir("sales-rep-auto-refresh",{showLoading:!1})},v);return()=>{window.clearInterval(S)}},[r?.id,r?.role,J,Me,Ir]),y.useEffect(()=>{if(typeof window>"u"||typeof document>"u"||!r||!ol(r.role)&&!dr(r.role)&&!it(r.role)||J||Me)return;const v=()=>{document.hidden||Ir("visibilitychange:visible",{showLoading:!1})},S=()=>{Ir("window:focus",{showLoading:!1})};return document.addEventListener("visibilitychange",v),window.addEventListener("focus",S),()=>{document.removeEventListener("visibilitychange",v),window.removeEventListener("focus",S)}},[r?.id,r?.role,J,Me,Ir]),y.useEffect(()=>()=>{ze.current&&(ze.current.disconnect(),ze.current=null)},[]),y.useEffect(()=>{const v=()=>{C(!1),N(null),u(!1)};return window.addEventListener("peppro:close-dialogs",v),()=>window.removeEventListener("peppro:close-dialogs",v)},[]);const Vf=async(v,S,E=0,b)=>{const P=b??k,q=Date.now();console.debug("[Auth] Login attempt",{email:v,attempt:E});try{const F=await li.login(v,S);return Ru(F),P!=="checkout"&&R3(v,S,F.name||v),console.debug("[Auth] Login success",{userId:F.id,visits:F.visits}),{status:"success"}}catch(F){console.warn("[Auth] Login failed",{email:v,error:F});const T=F.message||"LOGIN_ERROR",W=typeof F?.code=="string"?F.code:null;if(T==="EMAIL_NOT_FOUND")return{status:"email_not_found"};if(T==="INVALID_PASSWORD")return{status:"invalid_password"};if(T==="SALES_REP_ACCOUNT_REQUIRED")return{status:"sales_rep_signup_required",message:T};const te=typeof F?.status=="number"?F.status:null,ge=typeof T=="string"?T.toUpperCase():"",oe=T==="Failed to fetch"||ge.includes("LOAD FAILED")||ge.includes("NETWORKERROR")||ge.includes("NETWORK_ERROR"),ee=te!==null&&te>=500,ie=W==="TIMEOUT"||ge.includes("TIMED OUT"),we=Date.now()-q;if(ie||oe)return{status:"error",message:"NETWORK_UNAVAILABLE"};if(E===0&&ee&&te!==null&&[502,503,504].includes(te)&&we<4e3)return console.warn("[Auth] Transient login failure detected, retrying immediately after health ping",{email:v,statusCode:te,message:T}),kd().catch(()=>{}),await new Promise(Ne=>setTimeout(Ne,500)),Vf(v,S,E+1,P);if(T==="Invalid credentials"||T==="INVALID_CREDENTIALS")try{return(await li.checkEmail(v)).exists?{status:"invalid_password"}:{status:"email_not_found"}}catch{return{status:"email_not_found"}}return T==="EMAIL_REQUIRED"?{status:"error",message:T}:{status:"error",message:T}}},Gf=y.useCallback(()=>{Qa.current+=1,Ta("idle"),gi(""),Ro.current=null},[]),p0=y.useCallback(v=>{const S=(v||"").replace(/[^0-9]/g,"").slice(0,10);if(S.length<10){console.debug("[NPI] Waiting for 10 digits before verification",{digits:S}),Qa.current+=1,Ta("idle"),gi(""),Ro.current=null;return}const E=Date.now();Qa.current=E,console.debug("[NPI] Verifying against CMS registry",{npiNumber:S,checkId:E}),Ta("checking"),gi(""),li.verifyNpi(S).then(b=>{if(Qa.current!==E)return;console.debug("[NPI] Verified successfully",{npiNumber:S});const P=(()=>{if(b?.name&&typeof b.name=="string")return b.name.trim();const F=b?.raw?.basic;if(F){const T=[F.first_name,F.middle_name,F.last_name].map(W=>W?.trim()).filter(Boolean);if(T.length)return T.join(" ")}return null})(),q=b??{};Ro.current={...q,name:P??(typeof q.name=="string"?q.name:null),verifiedNpiNumber:S},Ta("verified"),gi("NPI verified with the CMS registry.")}).catch(b=>{if(Qa.current!==E)return;console.warn("[NPI] Verification failed",{npiNumber:S,error:b});const P=KJ(b?.message);Ta("rejected"),gi(P),Ro.current=null})},[]),qa=y.useCallback(v=>{V(S=>{if(S===v)return S;if(v!=="reset"&&(Ki(),er(null),ko(""),jl(""),Va(""),rn("")),v==="signup"?Gf():En(""),v==="login"&&(gn(""),gr(!1),Jt(!1),pn(!1),Ht(""),Gt(!1),_n("")),v==="forgot"){gn(""),Ht(""),Gt(!1);const E=at.current?.value?.trim()||"";_n(b=>b||E)}return v==="reset"&&(gn(""),Ht(""),Gt(!1),rn(""),Va(""),er(E=>E??PN())),v})},[Ki,Gf]),Mm=(v,S)=>Vf(v,S,0),Kf=async v=>{console.debug("[Auth] Create account attempt",{email:v.email});try{const S=(v.password||"").trim(),E=(v.confirmPassword||"").trim();if(!S)return{status:"error",message:"PASSWORD_REQUIRED"};if(S!==E)return{status:"password_mismatch"};const b=(v.code||"").trim().toUpperCase();if(!/^[A-Z]{2}[A-Z0-9]{3}$/.test(b))return{status:"invalid_referral_code"};const P=(v.npiNumber||"").replace(/\D/g,"");if(P&&!/^\d{10}$/.test(P))return{status:"invalid_npi"};if(P){const F=Ro.current;if(!F||F.verifiedNpiNumber!==P)return{status:"error",message:"Please verify your NPI before continuing."};if(F.name&&!TJ(v.name,F.name))return{status:"error",message:"Ensure your name is exactly as stated on your NPI registry."}}const q=await li.register({name:v.name,email:v.email,password:S,code:b,npiNumber:P||void 0});return n(q),K(!0),ue(!1),console.debug("[Auth] Create account success",{userId:q.id}),M(null),gr(!1),Jt(!1),pn(!1),{status:"success"}}catch(S){const E=S?.status??"unknown",b=S?.details??null;console.warn("[Auth] Create account failed",{email:v.email,status:E,message:S?.message,details:b});const P=typeof S?.message=="string"&&S.message.trim()?S.message.trim():"REGISTER_ERROR";return P==="EMAIL_EXISTS"||P==="User already exists"?{status:"email_exists"}:P==="INVALID_REFERRAL_CODE"?{status:"invalid_referral_code"}:P==="REFERRAL_CODE_NOT_FOUND"?{status:"referral_code_not_found"}:P==="REFERRAL_CODE_UNAVAILABLE"?{status:"referral_code_unavailable"}:P==="SALES_REP_EMAIL_MISMATCH"?{status:"sales_rep_email_mismatch"}:P==="NAME_EMAIL_REQUIRED"?{status:"name_email_required"}:P==="PASSWORD_REQUIRED"?{status:"error",message:P}:P==="NPI_INVALID"?{status:"invalid_npi"}:P==="NPI_NOT_FOUND"?{status:"npi_not_found"}:P==="NPI_NAME_MISMATCH"?{status:"error",message:"Ensure your name is exactly as stated on your NPI registry."}:P==="NPI_ALREADY_REGISTERED"?{status:"npi_already_registered"}:P==="NPI_LOOKUP_FAILED"?{status:"npi_verification_failed",message:P}:{status:"error",message:P}}},nc=async v=>{if(v.preventDefault(),ka)return;const S=Ha.trim();if(!S){Ht("Please enter the email associated with your account.");return}bt(!0),Ht(""),Gt(!1);try{await oS.request(S),Gt(!0)}catch(E){const b=typeof E?.status=="number"?E.status:null,P=b&&b>=500?"Password reset service is temporarily unavailable. Please try again in a few minutes.":typeof E?.message=="string"&&E.message.trim()?E.message:"Unable to send reset instructions. Please try again.";Ht(P),console.warn("[Auth] Password reset request failed",{status:b,error:E})}finally{bt(!1)}},Dm=async v=>{if(v.preventDefault(),Fr)return;rn(""),Va("");const S=$s.trim(),E=fs.trim();if(!qt){rn("This reset link is invalid or has expired. Please request a new one.");return}if(!S){rn("Please enter a new password.");return}if(S!==E){rn("Passwords do not match. Please confirm your new password.");return}Ar(!0);try{await oS.reset(qt,S),Va("Your password has been updated. You can now sign in with your new credentials."),ko(""),jl(""),setPasswordResetToken(null),Ki()}catch(b){const P=typeof b?.status=="number"?b.status:null,q=P&&P>=500?"We could not verify your reset link because the service is unavailable. Please try again shortly.":typeof b?.message=="string"&&b.message.trim()?b.message:"Unable to reset your password. Please request a new link.";rn(q),console.warn("[Auth] Password reset finalize failed",{status:P,error:b})}finally{Ar(!1)}},ja=y.useCallback(()=>{console.debug("[Auth] Logout"),li.logout(),n(null),M(null),K(!1),ue(!1),u(!1),$(!1),pe(!1),yi(null),vi([]),Qi(null),Gc(null),qo(null),Vr({updatingReferral:null,error:null})},[]);y.useEffect(()=>{if(typeof window>"u")return;const v=S=>{const E=S?.detail||{},b=typeof E?.reason=="string"?E.reason:"",P=typeof E?.authCode=="string"?E.authCode:"";(b==="another_tab_login"||b==="credentials_used_elsewhere"||P==="TOKEN_REVOKED")&&Ze.error("Another login with your credentials has forced your logout. If this wasn't you, reset your password."),ja()};return window.addEventListener("peppro:force-logout",v),()=>{window.removeEventListener("peppro:force-logout",v)}},[ja]),y.useEffect(()=>{if(typeof window>"u")return;if(!r?.id){ql(!1);return}const v=1e4,S=3600*1e3,E=1440*60*1e3,b="peppro_session_started_at_v1";let P=Date.now();try{const te=window.sessionStorage.getItem(b),ge=te?Number(te):NaN;Number.isFinite(ge)&&ge>0?P=ge:window.sessionStorage.setItem(b,String(P))}catch{}Fa.current=Date.now(),ni.current=!1,Jc.current=!1,ql(!1);const q=()=>{Fa.current=Date.now(),ni.current=!1,ql(!1);const te=Date.now();if(!(te-eu.current<15e3)){eu.current=te;try{cn.pingPresence({kind:"interaction",isIdle:!1}).catch(()=>{})}catch{}}},F=()=>{if(Date.now()-P>=E){Jc.current||(Jc.current=!0,Ze.info("Session expired. Please sign in again."),ja());return}const ge=Date.now()-Fa.current;if(ge>=S){ni.current||(ni.current=!0,ja());return}const oe=ge>=v;if(Gu.current!==oe){if(Gu.current=oe,ql(oe),oe)try{cn.pingPresence({kind:"heartbeat",isIdle:!0}).catch(()=>{})}catch{}return}ql(oe)},T=["mousemove","mousedown","keydown","scroll","touchstart","focus"];T.forEach(te=>window.addEventListener(te,q,{passive:!0}));const W=window.setInterval(F,1e3);return window.setTimeout(F,200),()=>{T.forEach(te=>window.removeEventListener(te,q)),window.clearInterval(W)}},[r?.id,ja]),y.useEffect(()=>{if(typeof window>"u")return;if(!r?.id||J){jf.current=0,eu.current=0;return}let v=!1;const S=3e4,E=()=>{if(v||!rh()||!oi())return;const P=Date.now(),q=Math.max(1e4,Math.floor(S*.75));if(!(P-jf.current<q)){jf.current=P;try{cn.pingPresence({kind:"heartbeat",isIdle:Gu.current}).catch(()=>{})}catch{}}};E();const b=window.setInterval(E,S);return()=>{v=!0,window.clearInterval(b)}},[r?.id,J]),y.useEffect(()=>{if(typeof window>"u"||!r)return;let v=!1;const S=5e3,E=async()=>{if(!v&&!(!rh()||!oi()))try{!await li.getCurrentUser()&&!v&&ja()}catch{}},b=window.setInterval(()=>{E()},S);return window.setTimeout(()=>void E(),1500),()=>{v=!0,window.clearInterval(b)}},[r?.id,ja]);const Lm=(v,S)=>S?`${v}::${S}`:v,$m=(v,S=1,E,b)=>{console.debug("[Cart] Add to cart requested",{productId:v,quantity:S,note:E,variantId:b});const P=Yt.find(te=>te.id===v);if(!P)return;if(b==="__peppro_needs_variant__"&&(b=null),(P.type??"").toLowerCase()==="variable"&&(!P.variants||P.variants.length===0)){console.debug("[Cart] Variant required, opening product details",{productId:v}),N(P),C(!0),Lt(P);return}const F=Math.max(1,Math.floor(S));let T=null;if(P.variants?.length&&(T=b?P.variants.find(te=>te.id===b)??null:P.variants.find(te=>te.inStock)??P.variants[0]??null,!T)){console.warn("[Cart] Variant selection required, opening product details",{productId:v,variantId:b}),N(P),C(!0),Lt(P);return}const W=Lm(v,T?.id??null);i(te=>te.find(oe=>oe.id===W)?te.map(oe=>oe.id===W?{...oe,quantity:oe.quantity+F,note:E??oe.note}:oe):[...te,{id:W,product:P,quantity:F,note:E,variant:T}]),console.debug("[Cart] Add to cart success",{productId:v,variantId:T?.id,quantity:F})},Fm=v=>{if(!v?.lineItems||v.lineItems.length===0){console.debug("[Cart] Buy again ignored, no line items",{orderId:v?.id});return}(async()=>{const S=[],E=(b,P,q)=>{const F=Lm(b.id,P?.id??null),T=S.find(W=>W.id===F);if(T){T.quantity+=q;return}S.push({id:F,product:b,quantity:q,variant:P??void 0})};for(const b of v.lineItems){const P=Math.max(1,Math.floor(b.quantity??1)),q=(b.sku??"").trim(),F=(b.name??"").trim(),T=F.toLowerCase();let W,te=null;const ge=Number(b.productId??NaN),oe=Number(b.variantId??NaN);if(Number.isFinite(ge)&&(W=Yt.find(ee=>ee.wooId===ge)??Yt.find(ee=>ee.id===`woo-${ge}`),W&&(W=await Lt(W),Number.isFinite(oe)&&W.variants?.length&&(te=W.variants.find(ee=>ee.wooId===oe)??null),!te&&q&&W.variants?.length&&(te=W.variants.find(ee=>(ee.sku||"").trim()===q)??null))),!W&&q&&(W=Yt.find(ee=>(ee.sku||"").trim()===q)),!W&&q)for(const ee of Yt){if(!ee.variants?.length)continue;const ie=ee.variants.find(we=>(we.sku||"").trim()===q)??null;if(ie){W=ee,te=ie;break}}if(!W&&T){let ee=F,ie=null;const we=F.match(/\s[-]\s/);if(we&&typeof we.index=="number"){const Te=we.index;ee=F.slice(0,Te).trim(),ie=F.slice(Te+we[0].length).trim()}const Ne=ee.toLowerCase(),De=ie?ie.toLowerCase():null;if(W=Yt.find(Te=>Te.name.trim().toLowerCase()===T),!W&&Ne&&(W=Yt.find(Te=>Te.name.trim().toLowerCase()===Ne)),!W&&Ne&&(W=Yt.find(Te=>Te.name.trim().toLowerCase().startsWith(Ne))),W&&(W.type??"").toLowerCase()==="variable"&&(W=await Lt(W)),W&&De&&W.variants?.length){const Te=W.variants,Oe=De;te=Te.find(Le=>Le.label.trim().toLowerCase()===Oe)??Te.find(Le=>Le.label.trim().toLowerCase().includes(Oe))??Te.find(Le=>(Le.attributes??[]).some(s=>s.value.trim().toLowerCase()===Oe||s.value.trim().toLowerCase().includes(Oe)))??null}}if(!W){console.debug("[Cart] Buy again line skipped, no product match",{sku:q,name:b.name});continue}(W.type??"").toLowerCase()==="variable"&&(W=await Lt(W)),!te&&W.variants?.length&&(te=W.variants.find(ee=>ee.inStock)??W.variants[0]??null),E(W,te,P)}if(S.length===0){console.debug("[Cart] Buy again produced empty cart",{orderId:v.id});return}console.debug("[Cart] Buy again cart rebuilt",{orderId:v.id,items:S.length}),i(S),u(!0),Ze.info("Order loaded into a new cart.")})()},Yf=async()=>{Sg(),xo(null);const v=Date.now();try{const S=await iS.getPeptideHeadlines(),E=Array.isArray(S?.items)?S.items.map(b=>({title:typeof b?.title=="string"?b.title.trim():"",url:typeof b?.url=="string"?b.url.trim():"",summary:typeof b?.summary=="string"&&b.summary.trim()?b.summary.trim():void 0,image:typeof b?.imageUrl=="string"&&b.imageUrl.trim()?b.imageUrl.trim():void 0,date:typeof b?.date=="string"&&b.date.trim()?b.date.trim():void 0})).filter(b=>b.title&&b.url):[];if(E.length===0){vo([]),xo("No headlines available right now."),Qo(new Date);return}vo(E.slice(0,6)),Qo(new Date)}catch(S){console.warn("[News] Failed to refresh peptide headlines",S),xo("Unable to load peptide news at the moment."),vo([])}finally{_m(v)}},m0=v=>{m(v)},h0=async v=>{if(console.debug("[Checkout] Attempt",{items:a.length,shipping:v}),a.length===0)return;const S=a.map(({id:F,product:T,quantity:W,note:te,variant:ge},oe)=>{const ee=T.wooId??T.id,ie=ge?.wooId??ge?.id??null,we=(ge?.sku||T.sku||"").trim()||null,Ne=X1(T,ge??null,W,{pricingMode:f}),De=ge?.weightOz??T.weightOz??null,Te=ge?.dimensions||T.dimensions||void 0;return{cartItemId:F,productId:ee,variantId:ie,sku:we,name:ge?`${T.name}  ${ge.label}`:T.name,price:Ne,quantity:W,note:te??null,position:oe+1,weightOz:De,lengthIn:Te?.lengthIn??null,widthIn:Te?.widthIn??null,heightIn:Te?.heightIn??null}}),E=S.reduce((F,T)=>F+T.price*T.quantity,0),b=typeof v?.taxTotal=="number"&&v.taxTotal>=0?v.taxTotal:0,P=typeof v?.shippingTotal=="number"&&v.shippingTotal>=0?v.shippingTotal:0,q=Math.round((E+P+b+Number.EPSILON)*100)/100;try{const F=await ls.create(S,q,void 0,{address:v?.shippingAddress,estimate:v?.shippingRate,shippingTotal:v?.shippingTotal??null},v?.expectedShipmentWindow??null,{physicianCertification:v?.physicianCertificationAccepted===!0},b,v?.paymentMethod??null,f);try{const T=F?.order,W=T?.id?String(T.id).trim():null,te=F?.integrations?.wooCommerce?.response||null,ge=te?.id||T?.wooOrderId||T?.woo_order_id||null,oe=te?.number||te?.id||T?.wooOrderNumber||T?.woo_order_number||T?.wooOrderId||T?.woo_order_id||null,ee=ge?String(ge).trim():null,ie=oe?String(oe).trim():null;Vi.current={pepproOrderId:W,wooOrderId:ee,wooOrderNumber:ie,createdAtMs:Date.now()},T&&typeof T=="object"&&(!T.wooOrderId&&ee&&(T.wooOrderId=ee),!T.wooOrderNumber&&ie&&(T.wooOrderNumber=ie))}catch{Vi.current={pepproOrderId:null,wooOrderId:null,wooOrderNumber:null,createdAtMs:Date.now()}}try{const T=F?.order,W=Vi.current,te=W?.wooOrderId||null,ge=W?.wooOrderNumber||null,oe=T?.createdAt||T?.created_at||new Date().toISOString(),ie=(Array.isArray(T?.items)?T.items:[]).map((Ne,De)=>{const Te=typeof Ne?.quantity=="number"?Ne.quantity:Number(Ne?.quantity)||0,Oe=typeof Ne?.total=="number"?Ne.total:Number(Ne?.total),Le=typeof Ne?.price=="number"?Ne.price:Number(Ne?.price),s=Number.isFinite(Oe)&&Oe>0?Oe:null,o=Number.isFinite(Le)&&Le>0?Le:null;let d=o??(s&&Te>0?s/Te:null),h=s??(typeof d=="number"&&Number.isFinite(d)?d*Te:null);return Te>1&&typeof s=="number"&&typeof o=="number"&&Math.abs(s-o)<.01&&(d=o,h=o*Te),{id:String(Ne?.id||`${T?.id||"order"}-${De}`),name:Ne?.name??null,quantity:Te,total:typeof h=="number"?h:null,subtotal:typeof h=="number"?h:null,price:typeof d=="number"?d:null,sku:Ne?.sku??Ne?.variantSku??null,productId:Ne?.productId??null,variantId:Ne?.variantId??null,image:null}});if(!te&&!ge)throw Bs.current=null,new Error("checkout_woo_id_missing");const we={id:String(te||ge),number:ge?String(ge):null,status:String(T?.status||"on-hold"),currency:"usd",total:typeof T?.grandTotal=="number"?T.grandTotal:Number(T?.grandTotal)||Number(T?.total)||null,createdAt:typeof oe=="string"?oe:new Date().toISOString(),updatedAt:null,source:"peppro",lineItems:ie,integrations:T?.integrations??null,paymentMethod:null,paymentDetails:null,integrationDetails:T?.integrationDetails??null,shippingAddress:T?.shippingAddress??null,billingAddress:T?.billingAddress??null,shippingEstimate:T?.shippingEstimate??null,shippingTotal:typeof T?.shippingTotal=="number"?T.shippingTotal:Number(T?.shippingTotal)||null,taxTotal:typeof T?.taxTotal=="number"?T.taxTotal:Number(T?.taxTotal)||null,physicianCertified:!!(T?.physicianCertificationAccepted??T?.physicianCertified??!1),wooOrderNumber:ge?String(ge):null,wooOrderId:te?String(te):null,expectedShipmentWindow:T?.expectedShipmentWindow??null};Bs.current=we,Hi(Ne=>{const De=we.number?String(we.number).trim():"",Te=String(we.id||"").trim();return Ne.some(Le=>{const s=Le.number?String(Le.number).trim():"",o=Le.id?String(Le.id).trim():"";return De&&s&&s===De||Te&&o&&o===Te})?Ne:[we,...Ne]})}catch{}return await Pn().catch(()=>{}),F}catch(F){console.error("[Checkout] Failed",{error:F});const T=F?.message==="Request failed"?"Unable to complete purchase. Please try again.":F?.message??"Unable to complete purchase. Please try again.";throw new Error(T)}},Eg=()=>{console.debug("[Checkout] Require login triggered"),u(!1),O(v=>v+1),$(!0),M("checkout"),qa("login"),QueueMicrotask(()=>window.scrollTo({top:0,behavior:"smooth"}))},Ag=()=>{console.debug("[Intro] Advance from welcome",{shouldReopenCheckout:D}),K(!1),D&&(u(!0),$(!1))},ac=(v,S)=>{console.debug("[Cart] Update quantity",{cartItemId:v,quantity:S});const E=Math.max(1,Math.floor(S||1));i(b=>b.map(P=>P.id===v?{...P,quantity:E}:P))},g0=v=>{console.debug("[Cart] Remove item",{cartItemId:v}),i(S=>S.filter(E=>E.id!==v))},sc=async(v,S=0)=>{try{await da.submitDoctorReferral(v)}catch(E){const b=typeof E?.status=="number"?E.status:null,P=typeof E?.message=="string"?E.message:"",q=P.toUpperCase(),F=P==="Failed to fetch"||q.includes("NETWORKERROR")||q.includes("NETWORK_ERROR"),T=b!==null&&b>=500;if(S===0&&(F||T)){console.warn("[Referral] Transient submission failure detected, warming API then retrying",{statusCode:b,message:P});try{await Promise.race([kd(),new Promise(W=>setTimeout(W,1e3))])}catch{}await new Promise(W=>setTimeout(W,350)),await sc(v,S+1);return}throw E}},Pg=async v=>{if(v.preventDefault(),!(!r||!ol(r.role))){if(!bn.contactName.trim()){Gc({type:"error",message:"Please provide the doctors name before submitting."});return}try{Pi(!0),Gc(null),await sc({contactName:bn.contactName.trim(),contactEmail:bn.contactEmail.trim()||void 0,contactPhone:bn.contactPhone.trim()||void 0,notes:wi(bn.notes)||void 0}),Gc({type:"success",message:"Referral sent to your representative."}),ei({contactName:"",contactEmail:"",contactPhone:"",notes:""}),Mf(""),await Ir("doctor-referral-submit",{showLoading:!0})}catch(S){console.warn("[Referral] Submission failed",S),Gc({type:"error",message:"Unable to submit referral. Please try again."})}finally{Pi(!1)}}},Mr=async(v,S)=>{if(!(!r||!dr(r.role)&&!it(r.role)))try{Vr(b=>({...b,updatingReferral:v,error:null}));const E=await da.updateReferral(v,{status:S});Qi(b=>{if(!b)return b;const P=E?.referral,q=E?.statuses??b.statuses;if(!P)return{...b,statuses:q};const F=b.referrals.map(T=>T.id===P.id?P:T);return{...b,referrals:F,statuses:q}})}catch(E){console.warn("[Referral] Update referral status failed",E),Vr(b=>({...b,error:typeof E?.message=="string"&&E.message?E.message:"Unable to update referral status. Please try again."}))}finally{Vr(E=>({...E,updatingReferral:null}))}},kg=y.useCallback(async v=>{if(window.confirm("Delete this manual prospect? This will remove them permanently."))try{Vr(S=>({...S,updatingReferral:v,error:null})),await da.deleteManualProspect(v),Ze.success("Manual prospect deleted."),await Ir("manual-prospect-delete",{showLoading:!1})}catch(S){console.error("[Referral] Manual prospect delete failed",S);const E=typeof S?.message=="string"&&S.message?S.message:"Unable to delete manual prospect right now.";Vr(b=>({...b,error:E})),Ze.error(E)}finally{Vr(S=>({...S,updatingReferral:null}))}},[Ir]),Og=()=>{if(!r||!ol(r.role))return null;const v=kr?.totalCredits??0,S=kr?.availableCredits??Number(r.referralCredits??0);kr?.firstOrderBonuses;const E=r.totalReferrals??Ws.length??0,b=kr?.ledger??[],q=(()=>{if(!b.length)return[];const W=b.filter(oe=>(oe.direction||"credit").toLowerCase()==="credit"&&Number(oe.amount)>0).map(oe=>({entry:oe,remaining:Number(oe.amount)||0,isUsed:!1}));if(!W.length)return[];const te=W.slice().sort((oe,ee)=>new Date(oe.entry.issuedAt).getTime()-new Date(ee.entry.issuedAt).getTime());return b.filter(oe=>(oe.direction||"").toLowerCase()==="debit"&&Number(oe.amount)>0).sort((oe,ee)=>new Date(oe.issuedAt).getTime()-new Date(ee.issuedAt).getTime()).forEach(oe=>{let ee=Math.abs(Number(oe.amount)||0);if(!(ee<=0))for(const ie of te){if(ie.remaining<=0)continue;const we=Math.min(ie.remaining,ee);if(ie.remaining-=we,ee-=we,ie.remaining<=1e-9&&(ie.isUsed=!0),ee<=1e-9)break}}),W.map(({entry:oe,isUsed:ee})=>({...oe,isUsed:ee}))})().slice().sort((W,te)=>new Date(te.issuedAt).getTime()-new Date(W.issuedAt).getTime()).slice(0,5),F=W=>{const te="group glass-card referral-pill squircle-xl flex w-full items-center justify-between gap-4 pr-5 py-4 text-left transition-all",ge=W?`${te} shadow-md`:`${te} shadow-[0_18px_48px_-28px_rgba(95,179,249,0.8)] hover:shadow-[0_20px_52px_-24px_rgba(95,179,249,0.85)]`;return l.jsxs("button",{type:"button",className:ge,onClick:()=>Ng(oe=>!oe),"aria-expanded":W,"aria-label":W?"Collapse Referral Rewards Hub":"Expand Referral Rewards Hub",style:{borderWidth:"2px",borderColor:"var(--brand-glass-border-2)",paddingLeft:"1rem",borderRadius:"24px"},children:[l.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0 pl-4 ml-2",children:[l.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 text-slate-600 transition-all duration-300 group-hover:bg-slate-200 ${W?"shadow-inner":""}`,children:l.jsx(fy,{className:"h-4 w-4",style:{transform:W?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)",transformOrigin:"center"}})}),l.jsxs("div",{className:"hidden sm:block",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Referral Rewards Hub"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Invite doctors & track credited referrals"})]})]}),l.jsxs("div",{className:"flex flex-1 items-center justify-end gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),l.jsx("p",{className:"text-lg font-medium text-slate-700",children:"Refer your colleagues"})]})]})},T=()=>l.jsx("div",{className:"overflow-hidden transition-all duration-500 ease-in-out",style:{maxHeight:uu?"5000px":"0",opacity:uu?1:0},children:l.jsxs("div",{className:"px-4 sm:px-8 lg:px-16 pb-8 space-y-8 squircle-xl",style:{padding:"1rem 1rem 1rem"},children:[om&&l.jsx("div",{className:"px-4 py-3 text-sm text-red-700",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l.jsx("span",{children:om})]})}),l.jsx("div",{className:"glass squircle-lg p-4 sm:p-6 lg:p-8 mx-0 sm:mx-5 shadow-sm space-y-6",children:l.jsxs("form",{className:"glass-strong squircle-md p-3 sm:p-5 space-y-3 w-full",onSubmit:Pg,children:[l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",htmlFor:"referral-contact-name",children:"Colleague Name *"}),l.jsx("input",{id:"referral-contact-name",type:"text",required:!0,value:bn.contactName,onChange:W=>ei(te=>({...te,contactName:W.target.value})),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",htmlFor:"referral-contact-email",children:"Email"}),l.jsx("input",{id:"referral-contact-email",type:"email",value:bn.contactEmail,onChange:W=>ei(te=>({...te,contactEmail:W.target.value})),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",htmlFor:"referral-contact-phone",children:"Phone"}),l.jsx("input",{id:"referral-contact-phone",type:"tel",value:bn.contactPhone,onChange:W=>ei(te=>({...te,contactPhone:W.target.value})),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",htmlFor:"referral-notes",children:"Notes"}),l.jsx("textarea",{id:"referral-notes",value:bn.notes,onChange:W=>ei(te=>({...te,notes:W.target.value})),className:"w-full min-h-[70px] rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),l.jsx("div",{className:"pt-1 flex w-full justify-end",children:l.jsxs("div",{className:"inline-flex flex-col items-start gap-3 text-left sm:flex-nowrap sm:flex-row sm:items-center sm:justify-end sm:text-right",children:[l.jsx("p",{className:"text-sm text-slate-600 max-w-[28ch] sm:max-w-[26ch]",children:"Your representative will credit you $50 each time your new referee has completed their first checkout."}),l.jsx(Qe,{type:"submit",disabled:Ai,className:"glass-brand squircle-sm transition-all duration-300 hover:scale-105 hover:-translate-y-0.5 active:translate-y-0",children:Ai?"Submitting":"Submit Referral"}),uo&&l.jsx("span",{className:`text-sm ${uo.type==="success"?"text-emerald-600":"text-red-600"}`,children:uo.message})]})})]})}),l.jsxs("div",{className:"mt-8 grid gap-6 md:grid-cols-2 w-full max-w-none px-1 sm:px-5",children:[l.jsxs("div",{className:"glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] p-8 shadow-xl space-y-6 w-full max-w-none",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center squircle-sm bg-emerald-100",children:l.jsx("svg",{className:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Your Referrals"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Total Referrals"}),l.jsx("p",{className:"text-lg font-bold text-emerald-600",children:E})]}),Bl&&l.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[l.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading"]})]})]}),Ws.length===0?l.jsxs("div",{className:"text-center py-8 glass-strong squircle-md",children:[l.jsx("div",{className:"flex justify-center mb-3",children:l.jsx("div",{className:"flex h-12 w-12 items-center justify-center squircle-sm bg-slate-100",children:l.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})}),l.jsx("p",{className:"text-sm text-slate-600",children:"No referrals yet"}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Submit your first referral above to get started"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"referral-toolbar",children:[l.jsx("div",{className:"referral-toolbar__search",children:l.jsx("input",{type:"search",value:Jo,onChange:W=>Mf(W.target.value),placeholder:"Search by name or email","aria-label":"Search referrals",className:"referral-search-input"})}),l.jsxs(Qe,{type:"button",variant:"outline",size:"sm",onClick:pu,"aria-pressed":bd==="desc",className:"referral-sort-toggle",children:[l.jsx(_5,{className:"h-4 w-4 mr-2"}),An]})]}),l.jsx("div",{className:"referrals-table-scroll",children:l.jsx("div",{className:"referrals-table-container glass-card squircle-xl",children:Pm.length===0?l.jsxs("div",{className:"referrals-empty-state",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"No referrals match your search."}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Try adjusting your filters or search terms."})]}):l.jsxs("div",{className:"referrals-table",role:"table","aria-label":"Your referrals",children:[l.jsxs("div",{className:"referrals-table__header",role:"row",children:[l.jsx("span",{role:"columnheader",children:"Colleague"}),l.jsx("span",{role:"columnheader",children:"Submitted"}),l.jsx("span",{role:"columnheader",children:"Status"}),l.jsx("span",{role:"columnheader",children:"Actions"})]}),l.jsx("div",{className:"referrals-table__body",role:"rowgroup",children:Pm.map(W=>{const te=jg.get(W.id),ge=Ad(W.status??"pending"),oe=te?"Credited":ge,ee=!te&&ge==="Converted",ie=Yn(W.status)==="pending";return l.jsxs("div",{className:"referrals-table__row",role:"row",children:[l.jsx("div",{className:"referrals-table__cell",role:"cell","data-label":"Colleague",children:l.jsxs("div",{className:"referral-contact",children:[l.jsx("span",{className:"referral-contact__name",children:W.referredContactName}),(W.referredContactEmail||W.referredContactPhone)&&l.jsx("span",{className:"referral-contact__meta",children:W.referredContactEmail||W.referredContactPhone})]})}),l.jsxs("div",{className:"referrals-table__cell referrals-table__cell--date",role:"cell","data-label":"Submitted",children:[l.jsx("span",{className:"referral-date",children:ii(W.createdAt)}),l.jsxs("span",{className:"referral-date-updated",children:["Updated"," ",Rr(W.updatedAt??W.createdAt)]})]}),l.jsx("div",{className:"referrals-table__cell",role:"cell","data-label":"Status",children:l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"referral-status-badge",children:oe}),ee&&l.jsx("span",{className:"text-xs text-amber-600 font-medium mt-1",children:"Awaiting credit"}),W.notes&&l.jsx("p",{className:"text-xs text-slate-500 mt-2 max-w-[220px]",children:W.notes})]})}),l.jsx("div",{className:"referrals-table__cell referrals-table__cell--actions",role:"cell","data-label":"Actions",children:ie?l.jsx(Qe,{type:"button",variant:"outline",size:"sm",onClick:()=>Hf(W.id),disabled:yf===W.id,children:yf===W.id?"Deleting":"Delete"}):l.jsx("span",{className:"text-xs text-slate-500",children:"Cannot delete after the Pending status."})})]},W.id)})})]})})})]})]}),l.jsxs("div",{className:"glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] p-8 shadow-xl min-w-0 space-y-6 w-full max-w-none",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center squircle-sm bg-amber-100",children:l.jsx("svg",{className:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Your Credits"})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-4 text-right",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Total Credits"}),l.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:["$",v.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Available Credits"}),l.jsxs("p",{className:"text-lg font-bold text-[rgb(95,179,249)]",children:["$",S.toFixed(2)]})]}),q.length>0&&l.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-slate-100 px-2.5 py-1 text-xs font-medium text-slate-600",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),q.length," recent"]})]})]}),q.length===0?l.jsxs("div",{className:"text-center py-8 glass-strong squircle-md",children:[l.jsx("div",{className:"flex justify-center mb-3",children:l.jsx("div",{className:"flex h-12 w-12 items-center justify-center squircle-sm bg-slate-100",children:l.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})}),l.jsx("p",{className:"text-sm text-slate-600",children:"No credit activity yet"}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Credits appear after your referrals place their first order"})]}):l.jsx("ul",{className:"space-y-4",children:q.map(W=>{const te=W.metadata||{},ge=typeof te.referralContactName=="string"?te.referralContactName:null,oe=ge?`Credited for ${ge}`:W.description||"Credit applied",ee=!!W.isUsed,ie=ee?"text-lg font-bold text-slate-500 line-through decoration-slate-400":"text-lg font-bold text-emerald-600",we=ee?"text-sm text-slate-500 leading-relaxed":"text-sm text-slate-600 leading-relaxed";return l.jsx("li",{className:`group relative glass-strong squircle-md px-6 py-6 shadow-sm transition-all hover:shadow-md ${ee?"bg-slate-50/90 text-slate-500":""}`,children:l.jsxs("div",{className:"relative flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-baseline gap-2 mb-1",children:l.jsxs("span",{className:ie,children:["$",W.amount.toFixed(2)]})}),l.jsx("p",{className:we,children:oe})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[ee&&l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-widest text-slate-500",children:"Used"}),l.jsx("span",{className:"text-xs font-medium text-slate-500 whitespace-nowrap",children:ii(W.issuedAt)})]})]})},W.id)})})]})]})]})});return l.jsx("section",{className:"grid gap-6 mb-16 mt-0",children:l.jsxs("div",{className:`glass-card squircle-xl referral-pill-wrapper transition-all duration-500 ${uu?"pb-8 shadow-[0_30px_80px_-65px_rgba(95,179,249,0.8)]":"shadow-[0_18px_48px_-28px_rgba(95,179,249,0.8)] hover:shadow-[0_20px_52px_-24px_rgba(95,179,249,0.85)]"}`,style:{borderRadius:"24px"},children:[F(uu),T()]})})},y0=()=>{const v=g.trim(),E=[{key:"count",label:_d.length===1?"1 item":`${_d.length} items`}];v.length>0&&E.push({key:"search",label:`Search  ${v}`}),Ii&&E.push({key:"loading",label:"loading-icon"});const b=typeof lu=="number"&&Date.now()<lu;md&&!b&&E.push({key:"error",label:"Store sync issue"}),!md&&Sa&&!Ii&&b&&E.push({key:"reconnecting",label:"Reconnecting"});const P=(Ii||Yt.length===0&&!wm||b)&&_d.length===0,q=Array.from({length:6});return l.jsxs("div",{className:"products-layout mt-24",children:[l.jsx("div",{ref:Nt,className:"filter-sidebar-container lg:min-w-[18rem] lg:max-w-[24rem] xl:min-w-[20rem] xl:max-w-[26rem] lg:pl-4 xl:pl-6",children:nl.length>0?l.jsx(U9,{categories:nl,types:[],filters:kn,onFiltersChange:Mo,productCounts:b0,typeCounts:{}}):l.jsx("div",{className:'glass-card squircle-lg px-10 py-8 lg:px-16 lg:py-10 text-sm text-slate-700 text-center font-["Lexend",_var(--font-sans)]',"aria-live":"polite",children:l.jsxs("p",{className:"mx-auto max-w-sm leading-relaxed",children:[l.jsx("span",{className:"text-base text-slate-900 block mb-1",children:"Fetching Products"}),l.jsx("span",{className:"text-sm text-slate-800 block",children:"No better time to take a few conscious breaths..."})]})})}),l.jsxs("div",{className:"w-full min-w-0 flex-1",children:[l.jsxs("div",{className:"flex flex-col gap-3 mb-6 lg:flex-row lg:flex-nowrap lg:items-center",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 flex-1 min-w-0 order-2 lg:order-1",children:[l.jsx("h2",{className:"mr-1",children:"Products"}),l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:E.map(F=>{const T=F.label==="loading-icon";return l.jsx("span",{className:`filter-chip glass-card${F.tone?` filter-chip--${F.tone}`:""}`,children:T?l.jsx(ll,{className:"h-3 w-3.1 animate-spin text-[rgb(30,41,59)]","aria-hidden":"true"}):l.jsx("span",{className:"whitespace-nowrap",children:F.label})},F.key)})})]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 ml-auto min-w-[min(100%,220px)] justify-start order-1 lg:order-2 lg:justify-end",children:gu>0&&l.jsxs(Qe,{variant:"ghost",onClick:()=>u(!0),ref:Cg,className:"squircle-sm glass-brand shadow-lg shadow-[rgba(95,179,249,0.4)] transition-all duration-300 hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 px-5 py-2 min-w-[8.5rem] justify-center w-full sm:w-auto",children:[l.jsx(vp,{className:"w-4 h-4 mr-2"}),"Checkout (",gu,")"]})})]}),P?l.jsx("div",{className:"grid gap-6 w-full px-4 sm:px-6 lg:px-0 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3",children:q.map((F,T)=>l.jsx(pL,{},`catalog-skeleton-${T}`))}):_d.length>0?l.jsx("div",{className:"grid gap-6 w-full px-4 sm:px-6 lg:px-0 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3",children:_d.map(F=>l.jsx(tee,{product:F,onEnsureVariants:Lt,onAddToCart:(T,W,te)=>$m(T,te,void 0,W)},F.id))}):l.jsx("div",{className:"catalog-loading-state py-12",children:l.jsxs("div",{className:"glass-card squircle-lg p-8 max-w-md text-center",children:[l.jsx("h3",{className:"mb-2",children:Ii||b||Yt.length===0&&!wm?"Fetching products":"No products found"}),l.jsx("p",{className:"text-gray-600",children:Ii||b||Yt.length===0&&!wm?b?"Reconnecting to store":"Please wait while we load the catalog.":"Try adjusting your filters or search terms."})]})})]})]})},v0=()=>{if(!r||!dr(r.role)&&!it(r.role))return null;const v=On;v.length;const S=new Set(["pending","contacted","nuture"]);v.filter(b=>S.has((b.status||"").toLowerCase())).length,v.filter(b=>(b.status||"").toLowerCase()==="converted").length;const E=Ba.some(b=>b.count>0);return l.jsxs("section",{className:"glass-card squircle-xl p-6 shadow-[0_30px_80px_-55px_rgba(95,179,249,0.6)] w-full sales-rep-dashboard",children:[l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:it(r?.role)?"Admin Dashboard":"Sales Rep Dashboard"}),l.jsx("p",{className:"text-sm text-slate-600",children:it(r?.role)?"Monitor PepPro business activities, sales reps, and keep track of your sales.":"Develop your leads and sales."})]}),it(r?.role)&&l.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:flex-wrap sm:items-center",children:[l.jsxs("a",{href:"https://shop.peppro.net/wp-admin/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex w-full min-w-0 items-center justify-center gap-2 rounded-md border border-slate-200 bg-white/80 px-3 py-2 text-sm font-semibold text-slate-900 transition-colors hover:border-[rgba(95,179,249,0.65)] hover:bg-white sm:w-auto",title:"Open Woocommerce dashboard",children:[l.jsx("img",{src:"/logos/woocommerce.svg",alt:"","aria-hidden":"true",className:"h-5 w-5",loading:"lazy",decoding:"async"}),l.jsx("span",{children:"Woocommerce dashboard"})]}),l.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex w-full min-w-0 items-center justify-center gap-2 rounded-md border border-slate-200 bg-white/80 px-3 py-2 text-sm font-semibold text-slate-900 transition-colors hover:border-[rgba(95,179,249,0.65)] hover:bg-white sm:w-auto",title:"Open ShipStation Dashboard",children:[l.jsx("img",{src:"/logos/shipstation.svg",alt:"","aria-hidden":"true",className:"h-5 w-5",loading:"lazy",decoding:"async"}),l.jsx("span",{children:"ShipStation Dashboard"})]})]})]}),dr(r?.role)&&l.jsx("div",{className:"glass-card squircle-xl p-6 border border-slate-200/70",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Clients"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Your doctors (online, idle, and offline)."})]}),tu&&l.jsx("div",{className:"px-4 py-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md",children:tu}),Oi?l.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Loading live clients"}):lm.length===0?l.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"No clients found."}):l.jsx("div",{className:"sales-rep-table-wrapper live-users-scroll",children:l.jsx("div",{className:"flex w-full min-w-[720px] flex-col gap-2",children:lm.map(b=>{const P=b.profileImageUrl||null,q=b.name||b.email||"Doctor",T=(()=>{const Te=b?.lastInteractionAt||b?.lastSeenAt||b?.lastActivityAt||b?.lastActiveAt||b?.lastLoginAt||null;if(!Te)return null;const Oe=new Date(Te).getTime();return Number.isFinite(Oe)?Oe:null})(),W=T!=null?Math.max(0,(Date.now()-T)/6e4):null,te=60,ge=2,oe=!!b.isOnline,ee=!!b.isIdle,ie=oe||W!=null&&W<te,we=ie&&(ee||W!=null&&W>=ge),Ne=we?oa(b):null,De=ie?null:(()=>{const Te=b?.lastSeenAt||b?.lastInteractionAt||b?.lastLoginAt||null;if(!Te)return null;const Oe=new Date(Te).getTime();if(!Number.isFinite(Oe))return null;const Le=Math.max(0,Date.now()-Oe),s=Math.floor(Le/1e3);if(s<60)return"<1m";const o=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let d=s;const h=[];for(const w of o){const j=Math.floor(d/w.seconds);if(j>0&&(h.push(`${j}${w.label}`),d-=j*w.seconds),h.length>=2)break}return h.length?h.join(" "):"<1m"})();return l.jsxs("div",{className:"flex w-full items-center gap-3 rounded-lg border border-slate-200/70 bg-white/70 px-3 py-2",children:[l.jsx("button",{type:"button",onClick:()=>vr(b),"aria-label":`Open ${q} profile`,className:"min-w-0 flex-1 overflow-hidden",style:{background:"transparent",border:"none",padding:0},children:l.jsxs("div",{className:"flex w-full items-center gap-3 min-w-0",children:[l.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm shrink-0 transition hover:shadow-md hover:border-slate-300",style:{width:42.5,height:42.5,minWidth:42.5},children:P?l.jsx("img",{src:P,alt:q,className:"h-full w-full object-cover",loading:"lazy",decoding:"async"}):l.jsx("span",{className:"text-[11px] font-semibold text-slate-600",children:nh(q)})}),l.jsxs("div",{className:"min-w-0 flex-1 text-left",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-800 truncate",children:q}),l.jsx("div",{className:"text-xs text-slate-500 truncate",children:b.email||""})]})]})}),l.jsxs("div",{className:"ml-auto grid w-[180px] flex-shrink-0 justify-items-end gap-1 whitespace-nowrap text-right",children:[l.jsx("span",{className:`inline-flex justify-end rounded-full px-2 py-0.5 text-[11px] font-semibold shrink-0 text-right justify-self-end ${ie?we?"bg-slate-100 text-slate-600":"bg-[rgba(95,179,249,0.16)] text-[rgb(95,179,249)]":"bg-slate-50 text-slate-500"}`,children:ie?we?`Idle${Ne?` (${Ne})`:""}`:"Online":`Offline${De?` (${De})`:""}`}),l.jsx("div",{className:"text-xs text-slate-600 whitespace-nowrap",children:ie?su(b.lastLoginAt):""})]})]},b.id)})})})]})}),ud.error&&l.jsx("p",{className:"rounded-md border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700",children:ud.error}),it(r?.role)&&l.jsxs("div",{className:"glass-card squircle-xl p-6 border border-slate-200/70",children:[l.jsxs("div",{className:"mb-6 rounded-xl border border-slate-200/70 bg-white/70 p-4",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Server Health"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Quick usage snapshot (load, memory, disk)."})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsxs(Qe,{type:"button",variant:"outline",onClick:()=>void Vu({force:!0}),disabled:Sf,className:"gap-2",title:"Refresh server health",children:[l.jsx(ll,{className:`h-4 w-4 ${Sf?"animate-spin":""}`}),"Refresh"]})})]}),Nf&&l.jsx("div",{className:"mt-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md px-4 py-2",children:Nf}),l.jsx("div",{className:"sales-rep-table-wrapper",children:l.jsx("div",{className:"flex w-max flex-nowrap gap-2 text-xs sm:w-full sm:flex-wrap",children:(()=>{const b=ia?.usage||null,P=b?.cpu||null,q=b?.memory||null,F=b?.disk||null,T=ia?.cgroup?.memory||null,W=ia?.uptime||null,te=ia?.queue||null,ge=typeof P?.usagePercent=="number"&&Number.isFinite(P.usagePercent)?`CPU usage: ${P.usagePercent}%`:null,oe=P?.loadPercent!==null&&P?.loadPercent!==void 0?`CPU load: ${P.loadPercent}%`:P?.loadAvg?`Load avg: ${P.loadAvg["1m"]??""}`:"CPU load: ",ee=q?.usedPercent!==null&&q?.usedPercent!==void 0?`Memory: ${q.usedPercent}%`:typeof q?.availableMb=="number"&&typeof q?.totalMb=="number"?`Memory: ${(100-q.availableMb/q.totalMb*100).toFixed(0)}%`:"Memory: ",ie=F?.usedPercent!==null&&F?.usedPercent!==void 0?`Disk: ${F.usedPercent}%`:"Disk: ",we=typeof T?.usedPercent=="number"&&Number.isFinite(T.usedPercent)?`CGroup mem: ${T.usedPercent}%`:typeof T?.usageMb=="number"&&Number.isFinite(T.usageMb)&&typeof T?.limitMb=="number"&&Number.isFinite(T.limitMb)&&T.limitMb>0?`CGroup mem: ${T.usageMb.toFixed(0)}/${T.limitMb.toFixed(0)} MB`:null,Ne=(()=>{const w=b?.process?.maxRssMb??b?.process?.rssMb??null;return typeof w=="number"&&Number.isFinite(w)?`App RSS: ${w.toFixed(0)} MB`:"App RSS: "})(),De=(()=>{const w=ia?.mysql?.enabled;return typeof w=="boolean"?w?"MySQL: enabled":"MySQL: disabled":null})(),Te=(()=>{const w=te?.length;return typeof w=="number"&&Number.isFinite(w)?`Queue: ${w}`:null})(),Oe=(()=>{const w=W?.serviceSeconds;if(typeof w=="number"&&Number.isFinite(w)){const j=Math.floor(w/60);if(j<60)return`Uptime: ${j}m`;const I=Math.floor(j/60),H=j%60;if(I<24)return`Uptime: ${I}h ${H}m`;const re=Math.floor(I/24),z=I%24;return`Uptime: ${re}d ${z}h`}return null})(),Le=ia?.build?`Build: ${ia.build}`:null,s=ia?.timestamp?`Updated: ${new Date(ia.timestamp).toLocaleTimeString()}`:null,o=(()=>{const w=ia?.workers,j=w?.detected,I=w?.configured;return typeof j=="number"&&j>0?`Backend workers: ${j}${I?` (target ${I})`:""}`:typeof I=="number"&&I>0?`Backend workers: target ${I}`:null})(),d=(()=>{const w=ia?.workers?.gunicorn;if(!w)return null;const j=[];return typeof w.workers=="number"&&j.push(`${w.workers}w`),typeof w.threads=="number"&&j.push(`${w.threads}t`),typeof w.timeoutSeconds=="number"&&j.push(`timeout ${w.timeoutSeconds}s`),j.length?`Gunicorn: ${j.join(" ")}`:null})();return[ge,oe,ee,ie,we,Ne,o,d,Te,De,Oe,Le,s].filter(w=>typeof w=="string"&&w.trim().length>0).map(w=>l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-slate-700",children:w},w))})()})})]}),!iu&&l.jsx("div",{className:"mb-6 rounded-xl border border-slate-200/70 bg-white/70 p-4",children:l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Certificates of Analysis"}),l.jsx("p",{className:"text-sm text-slate-600",children:Zu?"Checking certificates":Hn?"Unable to load certificate status.":"All products have a certificate. (You can still view/delete/upload replacements.)"})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Qe,{type:"button",variant:"outline",onClick:()=>Ju(!0),className:"gap-2",children:"Show certificate uploads"})})]})}),iu&&l.jsxs("div",{className:"mb-6 rounded-xl border border-slate-200/70 bg-white/70 p-4",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Certificates of Analysis"}),l.jsx("p",{className:"text-sm text-slate-600",children:Hn?"Unable to load missing certificate count.":go.length>0?`${go.length} product${go.length===1?"":"s"} missing a certificate.`:"All products currently have a certificate."})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsxs(Qe,{type:"button",variant:"outline",onClick:()=>{Gl({force:!0}),Kl({force:!0})},disabled:Zu||rd,className:"gap-2",title:"Refresh certificates",children:[l.jsx(ll,{className:`h-4 w-4 ${Zu||rd?"animate-spin":""}`}),"Refresh"]})})]}),(Hn||cm)&&l.jsx("div",{className:"mt-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md px-4 py-2",children:cm||Hn}),rd&&ed.length===0&&l.jsx("div",{className:"mt-3 px-4 py-3 text-sm text-slate-500",children:"Loading products"}),(ed.length>0||go.length>0)&&l.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-[1fr_auto_auto] md:items-end",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Product"}),l.jsx("select",{value:ks,onChange:b=>{sd(b.target.value),Hl(null)},disabled:rd,className:"w-full rounded-lg border border-slate-200 bg-white/80 px-3 py-2 text-sm text-slate-800 outline-none focus:ring-2 focus:ring-sky-200 disabled:opacity-60",children:(ed.length>0?ed:go).map(b=>{const P=String(b.wooProductId),q=[b.name&&String(b.name).trim().length>0?String(b.name).trim():`Product ${P}`,b.sku?`SKU ${b.sku}`:null,b.hasCertificate?"Has certificate":"Missing"].filter(F=>typeof F=="string"&&F.trim().length>0);return l.jsx("option",{value:P,children:q.join("  ")},P)})})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("label",{className:"text-xs font-medium text-slate-600",children:"PNG certificate"}),l.jsx(Qe,{type:"button",variant:"ghost",size:"icon",onClick:()=>void bg(),disabled:dm||Vl||um||!Cf?.exists,title:"Delete current certificate",className:"h-8 w-8",children:l.jsx(rS,{className:"h-4 w-4 text-slate-700"})})]}),l.jsx("div",{className:"text-xs text-slate-500",children:um?"Current: Loading":vg?"Current: ":Cf?.exists?`Current: ${Cf.filename||"certificate-of-analysis.png"}`:"Current: None"}),l.jsx("input",{type:"file",accept:"image/png",onChange:b=>{const P=b.target.files?.[0]??null;Hl(P)},disabled:Vl,className:"w-full rounded-lg border border-slate-200 bg-white/80 px-3 py-2 text-sm text-slate-700 file:mr-4 file:rounded-md file:border-0 file:bg-slate-100 file:px-3 file:py-2 file:text-sm file:font-medium file:text-slate-700 hover:file:bg-slate-200"})]}),l.jsxs(Qe,{type:"button",onClick:()=>void Af(),disabled:Vl||!ks||!Xo,className:"gap-2",children:[Vl?l.jsx(Md,{className:"h-4 w-4 animate-spin"}):l.jsx(S3,{className:"h-4 w-4"}),"Upload"]})]})]}),l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Settings"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Configure storefront availability."})]})}),l.jsxs("div",{className:"mb-4 overflow-hidden rounded-lg border border-slate-200/70 bg-white/70",children:[l.jsx("div",{className:"border-b border-slate-200/60 px-4 py-4 last:border-b-0",children:l.jsxs("label",{className:`flex items-start gap-3 ${it(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[l.jsx("input",{type:"checkbox","aria-label":"Enable Shop for users",checked:Xc,onChange:b=>Cn(b.target.checked),className:"brand-checkbox mt-0.5",disabled:!it(r.role)||ti.shop}),l.jsxs("span",{className:"min-w-0",children:[l.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[l.jsx("span",{children:"Shop button for users"}),l.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",ti.shop?"Saving":Xc?"Enabled":"Disabled",")"]})]}),l.jsx("span",{className:"block text-xs text-slate-600",children:"Controls whether doctors see the Shop button."})]})]})}),l.jsx("div",{className:"border-b border-slate-200/60 px-4 py-4 last:border-b-0",children:l.jsxs("label",{className:`flex items-start gap-3 ${it(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[l.jsx("input",{type:"checkbox","aria-label":"Enable The Peptide Forum card",checked:Y,onChange:b=>Yi(b.target.checked),className:"brand-checkbox mt-0.5",disabled:!it(r.role)||ti.forum}),l.jsxs("span",{className:"min-w-0",children:[l.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[l.jsx("span",{children:"The Peptide Forum card"}),l.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",ti.forum?"Saving":Y?"Enabled":"Disabled",")"]})]}),l.jsx("span",{className:"block text-xs text-slate-600",children:"Shows/hides the forum card on the info page."})]})]})}),l.jsx("div",{className:"border-b border-slate-200/60 px-4 py-4 last:border-b-0",children:l.jsxs("label",{className:`flex items-start gap-3 ${it(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[l.jsx("input",{type:"checkbox","aria-label":"Enable Research dashboard for doctors and reps",checked:xf,onChange:b=>Xa(b.target.checked),className:"brand-checkbox mt-0.5",disabled:!it(r.role)||ti.research||!zo.research}),l.jsxs("span",{className:"min-w-0",children:[l.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[l.jsx("span",{children:"Research dashboard access (doctors/reps)"}),l.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",ti.research?"Saving":zo.research?xf?"Enabled":"Disabled":"Unavailable",")"]})]}),l.jsx("span",{className:"block text-xs text-slate-600",children:"When disabled, only admins and test doctors see the work-in-progress research dashboard."})]})]})}),l.jsx("div",{className:"px-4 py-4",children:l.jsxs("label",{className:`flex items-start gap-3 ${it(r.role)?"cursor-pointer":"cursor-not-allowed opacity-80"}`,children:[l.jsx("input",{type:"checkbox","aria-label":"Enable test payments override",checked:Zc,onChange:b=>Jp(b.target.checked),className:"brand-checkbox mt-0.5",disabled:!it(r.role)||ti.testPaymentsOverride}),l.jsxs("span",{className:"min-w-0",children:[l.jsxs("span",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-sm font-medium text-slate-800",children:[l.jsx("span",{children:"Test payments override ($0.01)"}),l.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:["(Status:"," ",ti.testPaymentsOverride?"Saving":Zc?"Enabled":"Disabled",")"]})]}),l.jsx("span",{className:"block text-xs text-slate-600",children:"When enabled, admin + test_doctor checkouts using Zelle/bank transfer are forced to $0.01."})]})]})})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200/70 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Live users"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Users currently online or idle."})]}),_f&&l.jsx("div",{className:"px-4 py-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-md",children:_f}),Wr?l.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Loading users"}):(()=>{const b=(yg||[]).filter(ee=>{const ie=ee?.isSimulated===!0,we=String(ee?.id||"");return!ie&&!we.startsWith("pseudo-live-")}),P=ee=>r?.id&&ee?.id===r.id||r?.email&&ee?.email&&String(r.email).toLowerCase()===String(ee.email).toLowerCase(),q=ee=>{const ie=ee?.isIdle;return typeof ie=="boolean"?ie:P(ee)&&ki},F=ee=>{const ie=typeof ee?.idleMinutes=="number"&&Number.isFinite(ee.idleMinutes)?ee.idleMinutes:typeof ee?.idleForMinutes=="number"&&Number.isFinite(ee.idleForMinutes)?ee.idleForMinutes:null;if(ie!=null){const o=Math.max(0,Math.floor(ie));if(o<1)return"<1m";const d=o*6e4,h=Math.floor(d/1e3),w=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let j=h;const I=[];for(const H of w){const re=Math.floor(j/H.seconds);if(re>0&&(I.push(`${re}${H.label}`),j-=re*H.seconds),I.length>=2)break}return I.length?I.join(" "):"<1m"}const Ne=r?.id&&ee?.id===r.id||r?.email&&ee?.email&&String(r.email).toLowerCase()===String(ee.email).toLowerCase()?Fa.current:(()=>{const o=ee?.lastInteractionAt||ee?.lastSeenAt||ee?.lastActivityAt||ee?.lastActiveAt||ee?.lastLoginAt||null;if(!o)return null;const d=new Date(o).getTime();return Number.isFinite(d)?d:null})();if(!Ne)return null;const De=Math.max(0,Date.now()-Ne),Te=Math.floor(De/1e3);if(Te<60)return"<1m";const Oe=[{label:"y",seconds:365*24*60*60},{label:"mo",seconds:720*60*60},{label:"d",seconds:1440*60},{label:"h",seconds:3600},{label:"m",seconds:60}];let Le=Te;const s=[];for(const o of Oe){const d=Math.floor(Le/o.seconds);if(d>0&&(s.push(`${d}${o.label}`),Le-=d*o.seconds),s.length>=2)break}return s.length?s.join(" "):"<1m"},T=xn.trim().toLowerCase(),W=b.filter(ee=>{if(!Yo&&!!!ee?.isOnline){const De=ee?.lastInteractionAt||ee?.lastSeenAt||ee?.lastActivityAt||ee?.lastActiveAt||ee?.lastLoginAt||null,Te=De?new Date(De).getTime():NaN,Oe=Number.isFinite(Te)?Math.max(0,(Date.now()-Te)/6e4):null;if(!(P(ee)||Oe!=null&&Oe<60))return!1}const ie=String(ee?.role||"").toLowerCase().trim();if(ho!=="all"){if(ho==="sales_rep"){if(!["sales_rep","salesrep","rep"].includes(ie))return!1}else if(ho==="doctor"){if(ie!=="doctor")return!1}else if(ho==="test_doctor"){if(ie!=="test_doctor")return!1}else if(ie!==ho)return!1}return T?[ee?.name,ee?.email,ee?.role,ee?.id].filter(Boolean).join(" ").toLowerCase().includes(T):!0}),te=ee=>{if(!ee)return 0;const ie=!!ee?.isOnline,we=!!q(ee);if(P(ee))return we?Fa.current:Date.now();if(ie&&!we)return Date.now();const Ne=ee?.lastInteractionAt||ee?.lastSeenAt||ee?.lastActivityAt||ee?.lastActiveAt||ee?.lastLoginAt||null;if(!Ne)return 0;const De=new Date(Ne).getTime();return Number.isFinite(De)?De:0},ge=[...W].sort((ee,ie)=>{const we=te(ee),Ne=te(ie);if(we!==Ne)return Ne-we;const De=String(ee?.name||ee?.email||ee?.id||"").toLowerCase(),Te=String(ie?.name||ie?.email||ie?.id||"").toLowerCase();return De.localeCompare(Te)}),oe=ge.filter(ee=>!!ee?.isOnline).length;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 px-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-700",children:[l.jsx("input",{type:"checkbox",className:"brand-checkbox",checked:Yo,onChange:ee=>Hr(ee.target.checked)}),"Show offline"]}),l.jsxs("span",{className:"text-xs text-slate-500",children:[oe," online"]}),l.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-600",children:[l.jsx("span",{className:"uppercase tracking-wide text-[11px] text-slate-500",children:"Type"}),l.jsxs("select",{value:ho,onChange:ee=>Xu(ee.target.value),className:"rounded-md border border-slate-200/80 bg-white/95 px-2 py-1 text-xs font-medium text-slate-700 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"sales_rep",children:"Sales Rep"}),l.jsx("option",{value:"doctor",children:"Doctors"}),l.jsx("option",{value:"test_doctor",children:"Test doctors"})]})]})]}),l.jsx("input",{value:xn,onChange:ee=>Mn(ee.target.value),onKeyDown:ee=>{ee.key==="Enter"&&ee.preventDefault()},placeholder:"Search users",className:"w-full sm:w-[260px] rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]"})]}),l.jsx("div",{className:"sales-rep-table-wrapper live-users-scroll",children:l.jsx("div",{className:"flex w-full min-w-[900px] flex-col gap-2",children:ge.length===0?l.jsx("div",{className:"p-6 text-sm text-slate-500",children:"No users found."}):ge.map(ee=>{const ie=String(ee?.role||"").toLowerCase().trim(),we=ie==="admin"?{label:"Admin",style:{backgroundColor:"rgb(61,43,233)",color:"#ffffff"}}:ie==="sales_rep"||ie==="salesrep"?{label:"Sales Rep",style:{backgroundColor:"rgb(129,221,228)",color:"#ffffff"}}:ie==="doctor"?{label:"Doctor",style:{backgroundColor:"rgb(95,179,249)",color:"#ffffff"}}:ie==="test_doctor"?{label:"Test Doctor",style:{backgroundColor:"rgb(95,179,249)",color:"#ffffff"}}:null,Ne=ee.profileImageUrl||null,De=ee.name||ee.email||"User",Oe=(()=>{if(P(ee))return Fa.current;const H=ee?.lastInteractionAt||ee?.lastSeenAt||ee?.lastActivityAt||ee?.lastActiveAt||ee?.lastLoginAt||null;if(!H)return null;const re=new Date(H).getTime();return Number.isFinite(re)?re:null})(),Le=Oe!=null?Math.max(0,(Date.now()-Oe)/6e4):null,s=60,o=2,d=!!ee?.isOnline,h=!!q(ee),w=d||Le!=null&&Le<s,j=w&&(h||Le!=null&&Le>=o),I=j?F(ee):null;return l.jsxs("div",{className:"flex w-full items-center gap-3 rounded-lg border border-slate-200/70 bg-white/70 px-3 py-2",children:[l.jsx("button",{type:"button",onClick:()=>vr(ee),"aria-label":`Open ${De} profile`,className:"min-w-0 flex-1",style:{background:"transparent",border:"none",padding:0},children:l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm shrink-0 transition hover:shadow-md hover:border-slate-300",style:{width:41.4,height:41.4,minWidth:41.4},children:Ne?l.jsx("img",{src:Ne,alt:De,className:"h-full w-full object-cover",loading:"lazy",decoding:"async"}):l.jsx("span",{className:"text-[11px] font-semibold text-slate-600",children:nh(De)})}),l.jsx("div",{className:"min-w-0 flex-1 overflow-x-auto",children:l.jsxs("div",{className:"min-w-max flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[we&&l.jsx("span",{className:"inline-flex items-center squircle-xs px-2 py-[2px] text-sm font-semibold shrink-0",style:we.style,children:we.label}),l.jsx("span",{className:"text-sm font-semibold text-slate-800 whitespace-nowrap",children:De})]}),l.jsx("span",{className:"text-xs text-slate-600 whitespace-nowrap",children:ee.email||""})]})})]})}),l.jsxs("div",{className:"ml-auto grid w-[150px] sm:w-[180px] flex-shrink-0 justify-items-end gap-1 whitespace-nowrap text-right",children:[l.jsx("span",{className:`inline-flex justify-end squircle-xs px-3 py-[2px] text-[11px] font-semibold shrink-0 text-right justify-self-end ${w?j?"bg-slate-100 text-slate-600":"bg-[rgba(95,179,249,0.16)] text-[rgb(95,179,249)]":"bg-slate-100 text-slate-600"}`,children:w?j?`Idle${I?` (${I})`:""}`:"Online":"Offline"}),l.jsx("div",{className:"text-xs text-slate-600 whitespace-nowrap",children:w?su(ee.lastLoginAt):ee.lastSeenAt?`Last seen ${d0(ee.lastSeenAt)}`:"Offline"})]})]},ee.id)})})})]})})()]})]}),it(r?.role)&&l.jsxs("div",{className:"glass-card squircle-xl p-6 border border-slate-200/70",children:[l.jsx("div",{className:"flex flex-col gap-3 mb-4",children:l.jsxs("div",{className:"sales-rep-header-row flex w-full flex-col gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Sales by Sales Rep"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Orders placed by doctors assigned to each rep."}),l.jsxs("form",{className:"sales-rep-period-form mt-3 grid grid-cols-1 gap-3 text-sm sm:grid-cols-[minmax(220px,1fr)_minmax(220px,1fr)_auto] sm:items-end",onSubmit:b=>{b.preventDefault(),Da(),co(),xa()},children:[["Start","End"].map((b,P)=>{const q=P===0?ba:ts,F=P===0?Rn:zc;return l.jsxs("label",{className:"flex flex-col gap-2 text-xs font-semibold text-slate-700",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:b}),l.jsx(hr,{type:"date",value:q,onChange:T=>F(T.target.value),placeholder:"YYYY-MM-DD",className:"date-input block w-full rounded-2xl border border-slate-200/80 bg-white/70 px-3 py-3 text-sm font-medium text-slate-900 shadow-[0_10px_30px_-28px_rgba(15,23,42,0.9)] transition duration-150 focus:border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-100",style:{colorScheme:"light"}})]},b)}),l.jsxs("div",{className:"sales-rep-period-actions flex flex-wrap items-center gap-2 justify-start sm:justify-end",children:[l.jsx(Qe,{type:"submit",size:"sm",variant:"outline",disabled:Fc,className:"whitespace-nowrap",children:"Apply"}),l.jsx(Qe,{type:"button",size:"sm",variant:"outline",className:"whitespace-nowrap border border-slate-200/80 text-slate-900 hover:border-slate-300",onClick:Vc,children:"Clear"})]})]})]}),l.jsxs("div",{className:"sales-rep-header-actions flex flex-row flex-wrap justify-end gap-4",children:[l.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-col items-end gap-1",children:[l.jsxs(Qe,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:im,disabled:_i.length===0,title:"Download CSV",children:[l.jsx(py,{className:"h-4 w-4","aria-hidden":"true"}),"Download CSV"]}),l.jsxs("span",{className:"sales-rep-action-meta block text-[11px] text-slate-500 leading-tight text-right",children:[l.jsx("span",{className:"sales-rep-action-meta-label block",children:"Last downloaded"}),l.jsx("span",{className:"sales-rep-action-meta-value block",children:tm?new Date(tm).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""})]})]}),l.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-col items-end gap-1",children:[l.jsxs(Qe,{type:"button",variant:"outline",size:"sm",className:"sales-rep-refresh-button gap-2",onClick:()=>void Da(),disabled:Fc,"aria-busy":Fc,title:"Refresh sales summary",children:[l.jsx(ll,{className:`h-4 w-4 ${Fc?"animate-spin":""}`,"aria-hidden":"true"}),Fc?"Refreshing...":"Refresh"]}),l.jsxs("span",{className:"sales-rep-action-meta block text-[11px] text-slate-500 leading-tight text-right",children:[l.jsx("span",{className:"sales-rep-action-meta-label block",children:"Last refreshed"}),l.jsx("span",{className:"sales-rep-action-meta-value block",children:(()=>{const b=Rl??In??null;return b?new Date(b).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""})()})]})]})]})]})}),l.jsx("div",{className:"sales-rep-table-wrapper p-0 overflow-hidden",role:"region","aria-label":"Sales by sales rep list",children:qu?l.jsx("div",{className:"px-4 py-3 text-sm text-amber-700 mb-3 bg-amber-50 border border-amber-200 rounded-md",children:qu}):Fc?l.jsx("div",{className:"px-4 py-3 text-sm mb-3 text-slate-500",children:"Checking sales"}):Rl===null?l.jsx("div",{className:"px-4 py-3 text-sm mb-3 text-slate-500",children:"Click Refresh to load sales."}):_i.length===0?l.jsx("div",{className:"p-6 text-sm text-slate-500",children:"No sales recorded yet."}):l.jsxs("div",{className:"w-full",style:{minWidth:920},children:[(()=>{const b=Zs?.totals||null,P=b||{totalOrders:_i.reduce((F,T)=>F+(Number(T.totalOrders)||0),0),totalRevenue:_i.reduce((F,T)=>F+(Number(T.totalRevenue)||0),0),wholesaleRevenue:_i.reduce((F,T)=>F+(Number(T.wholesaleRevenue)||0),0),retailRevenue:_i.reduce((F,T)=>F+(Number(T.retailRevenue)||0),0)};return typeof P.totalOrders=="number"&&typeof P.totalRevenue=="number"?l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-white/70 px-4 py-2 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:[l.jsxs("span",{children:["Total Orders: ",P.totalOrders]}),l.jsxs("span",{children:["Wholesale: ",jt(Number(P.wholesaleRevenue)||0)]}),l.jsxs("span",{children:["Retail: ",jt(Number(P.retailRevenue)||0)]})]}):null})(),l.jsxs("div",{className:"grid items-center gap-3 border-x border-slate-200/70 bg-[rgba(95,179,249,0.08)] px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-700",style:{gridTemplateColumns:"minmax(200px,1.3fr) minmax(260px,1.8fr) minmax(90px,0.6fr) minmax(120px,0.6fr) minmax(120px,0.6fr)"},children:[l.jsx("div",{className:"whitespace-nowrap",children:"Sales Rep"}),l.jsx("div",{className:"whitespace-nowrap",children:"Email"}),l.jsx("div",{className:"whitespace-nowrap text-right",children:"Orders"}),l.jsx("div",{className:"whitespace-nowrap text-right",children:"Wholesale"}),l.jsx("div",{className:"whitespace-nowrap text-right",children:"Retail"})]}),l.jsx("ul",{className:"divide-y divide-slate-200/70 border-x border-b border-slate-200/70 max-h-[420px] overflow-y-auto",children:_i.map(b=>l.jsxs("li",{className:"grid items-center gap-3 px-4 py-2",style:{gridTemplateColumns:"minmax(200px,1.3fr) minmax(260px,1.8fr) minmax(90px,0.6fr) minmax(120px,0.6fr) minmax(120px,0.6fr)"},children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900",children:b.salesRepName}),l.jsx("div",{className:"text-sm text-slate-700 truncate",title:b.salesRepEmail||"",children:b.salesRepEmail||""}),l.jsx("div",{className:"text-sm text-right text-slate-800 tabular-nums whitespace-nowrap",children:b.totalOrders}),l.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums whitespace-nowrap",children:jt(b.wholesaleRevenue||0)}),l.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums whitespace-nowrap",children:jt(b.retailRevenue||0)})]},b.salesRepId))})]})})]}),it(r?.role)&&l.jsxs("div",{className:"glass-card squircle-xl p-6 border border-slate-200/70",children:[l.jsx("div",{className:"flex flex-col gap-3 mb-4",children:l.jsxs("div",{className:"flex w-full flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Taxes by State"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Cumulative tax totals by destination state for the selected period."}),l.jsxs("form",{className:"mt-3 grid grid-cols-1 gap-3 text-sm sm:grid-cols-[minmax(220px,1fr)_minmax(220px,1fr)_auto] sm:items-end",onSubmit:b=>{b.preventDefault(),Wu()},children:[["Start","End"].map((b,P)=>{const q=P===0?ba:ts,F=P===0?Rn:zc;return l.jsxs("label",{className:"flex flex-col gap-2 text-xs font-semibold text-slate-700",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:b}),l.jsx(hr,{type:"date",value:q,onChange:T=>F(T.target.value),placeholder:"YYYY-MM-DD",className:"date-input block w-full rounded-2xl border border-slate-200/80 bg-white/70 px-3 py-3 text-sm font-medium text-slate-900 shadow-[0_10px_30px_-28px_rgba(15,23,42,0.9)] transition duration-150 focus:border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-100",style:{colorScheme:"light"}})]},b)}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-start sm:justify-end",children:[l.jsx(Qe,{type:"submit",size:"sm",variant:"outline",className:"whitespace-nowrap",children:"Apply"}),l.jsx(Qe,{type:"button",size:"sm",variant:"outline",className:"whitespace-nowrap border border-slate-200/80 text-slate-900 hover:border-slate-300",onClick:Vc,children:"Clear"})]})]})]}),l.jsxs("div",{className:"sales-rep-header-actions flex flex-row flex-wrap justify-end gap-4",children:[l.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-col items-end gap-1",children:[l.jsxs(Qe,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:()=>void c0(),disabled:Ml.length===0,title:"Download CSV",children:[l.jsx(py,{className:"h-4 w-4","aria-hidden":"true"}),"Download CSV"]}),l.jsxs("span",{className:"sales-rep-action-meta block text-[11px] text-slate-500 leading-tight text-right",children:[l.jsx("span",{className:"sales-rep-action-meta-label block",children:"Last downloaded"}),l.jsx("span",{className:"sales-rep-action-meta-value block",children:mf?new Date(mf).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""})]})]}),l.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-col items-end gap-1",children:[l.jsxs(Qe,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:()=>void co(),disabled:Cs,"aria-busy":Cs,children:[l.jsx(ll,{className:`h-4 w-4 ${Cs?"animate-spin":""}`,"aria-hidden":"true"}),Cs?"Refreshing...":"Refresh"]}),l.jsxs("span",{className:"sales-rep-action-meta block text-[11px] text-slate-500 leading-tight text-right",children:[l.jsx("span",{className:"sales-rep-action-meta-label block",children:"Last refreshed"}),l.jsx("span",{className:"sales-rep-action-meta-value block",children:Uc?new Date(Uc).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""})]})]})]})]})}),Dl?l.jsx("div",{className:"sales-rep-table-wrapper p-0 overflow-hidden",role:"region","aria-label":"Taxes by state list",children:l.jsx("div",{className:"p-6 text-sm text-amber-700 bg-amber-50",children:Dl})}):Cs?l.jsx("div",{className:"sales-rep-table-wrapper p-0 overflow-hidden",role:"region","aria-label":"Taxes by state list",children:l.jsx("div",{className:"p-6 text-sm text-slate-500",children:"Loading taxes"})}):Ml.length===0?l.jsx("div",{className:"sales-rep-table-wrapper p-0 overflow-hidden",role:"region","aria-label":"Taxes by state list",children:l.jsx("div",{className:"p-6 text-sm text-slate-500",children:"No tax data for this period."})}):l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"sales-rep-table-wrapper p-0 overflow-hidden",role:"region","aria-label":"Taxes by state list",children:[ao?.totals&&l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-white/70 px-4 py-2 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:[l.jsxs("span",{children:["Orders: ",Number(ao.totals?.orderCount||0)]}),l.jsxs("span",{children:["Tax: ",jt(Number(ao.totals?.taxTotal||0))]})]}),l.jsxs("div",{className:"grid items-center gap-3 border-b border-slate-200/70 bg-[rgba(95,179,249,0.08)] px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-700",style:{gridTemplateColumns:"minmax(120px,1fr) minmax(90px,120px) minmax(120px,160px)"},children:[l.jsx("div",{children:"State"}),l.jsx("div",{className:"text-right",children:"Orders"}),l.jsx("div",{className:"text-right",children:"Tax"})]}),l.jsx("ul",{className:"divide-y divide-slate-200/70 max-h-[320px] overflow-y-auto",children:Ml.map(b=>l.jsxs("li",{className:"grid items-center gap-3 px-4 py-2",style:{gridTemplateColumns:"minmax(120px,1fr) minmax(90px,120px) minmax(120px,160px)"},children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900",children:b.state}),l.jsx("div",{className:"text-sm text-right text-slate-800 tabular-nums",children:Number(b.orderCount||0)}),l.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums",children:jt(Number(b.taxTotal||0))})]},b.state))})]}),ff.length>0&&l.jsxs("details",{className:"sales-rep-table-wrapper p-0 overflow-hidden bg-white/60 border border-slate-200/70",open:rm,onToggle:b=>{nm(b.currentTarget.open)},children:[l.jsxs("summary",{className:"cursor-pointer select-none flex items-center justify-between gap-3 px-4 py-2 text-sm font-semibold text-slate-900 bg-white/70 border-b-4 border-slate-200/70",children:[l.jsx("span",{children:"Order Tax Breakdown"}),l.jsx("span",{className:"rounded-full border border-slate-200/80 bg-white/70 px-2 py-1 text-[11px] font-semibold text-slate-600 whitespace-nowrap",children:rm?"Collapse":"Expand"})]}),l.jsxs("div",{className:"grid items-center gap-3 border-b border-slate-200/70 bg-[rgba(95,179,249,0.08)] px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-700",style:{gridTemplateColumns:"minmax(160px,1fr) minmax(120px,160px)"},children:[l.jsx("div",{children:"Order"}),l.jsx("div",{className:"text-right",children:"Tax"})]}),l.jsx("ul",{className:"divide-y divide-slate-200/70 max-h-[260px] overflow-y-auto",children:ff.map(b=>l.jsxs("li",{className:"grid items-center gap-3 px-4 py-2",style:{gridTemplateColumns:"minmax(160px,1fr) minmax(120px,160px)"},children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:b.orderNumber}),l.jsxs("div",{className:"text-xs text-slate-600 truncate",children:["State: ",b.state]})]}),l.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums",children:jt(Number(b.taxTotal||0))})]},`${b.orderNumber}-${b.state}`))})]})]})]}),it(r?.role)&&l.jsxs("div",{className:"glass-card squircle-xl p-6 border border-slate-200/70",children:[l.jsx("div",{className:"flex flex-col gap-3 mb-4",children:l.jsxs("div",{className:"flex w-full flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Products Sold & Commission"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Product quantities sold plus commission totals (wholesale 10%, retail 20%; house/contact-form split and administrative)."}),l.jsxs("form",{className:"mt-3 grid grid-cols-1 gap-3 text-sm sm:grid-cols-[minmax(220px,1fr)_minmax(220px,1fr)_auto] sm:items-end",onSubmit:b=>{b.preventDefault(),Wu()},children:[["Start","End"].map((b,P)=>{const q=P===0?ba:ts,F=P===0?Rn:zc;return l.jsxs("label",{className:"flex flex-col gap-2 text-xs font-semibold text-slate-700",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-900",children:b}),l.jsx(hr,{type:"date",value:q,onChange:T=>F(T.target.value),placeholder:"YYYY-MM-DD",className:"date-input block w-full rounded-2xl border border-slate-200/80 bg-white/70 px-3 py-3 text-sm font-medium text-slate-900 shadow-[0_10px_30px_-28px_rgba(15,23,42,0.9)] transition duration-150 focus:border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-100",style:{colorScheme:"light"}})]},b)}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-start sm:justify-end",children:[l.jsx(Qe,{type:"submit",size:"sm",variant:"outline",className:"whitespace-nowrap",children:"Apply"}),l.jsx(Qe,{type:"button",size:"sm",variant:"outline",className:"whitespace-nowrap border border-slate-200/80 text-slate-900 hover:border-slate-300",onClick:Vc,children:"Clear"})]})]}),Es?.totals&&l.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-sm font-semibold text-slate-900",children:[l.jsxs("span",{children:["Base:"," ",jt(Number(Es.totals?.commissionableBase||0))]}),l.jsxs("span",{children:["Commission:"," ",jt(Number(Es.totals?.commissionTotal||0))]})]})]}),l.jsxs("div",{className:"sales-rep-header-actions flex flex-row flex-wrap justify-end gap-4",children:[l.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-col items-end gap-1",children:[l.jsxs(Qe,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:()=>void Hc(),disabled:Uu.length===0&&io.length===0,title:"Download CSV",children:[l.jsx(py,{className:"h-4 w-4","aria-hidden":"true"}),"Download CSV"]}),l.jsxs("span",{className:"sales-rep-action-meta block text-[11px] text-slate-500 leading-tight text-right",children:[l.jsx("span",{className:"sales-rep-action-meta-label block",children:"Last downloaded"}),l.jsx("span",{className:"sales-rep-action-meta-value block",children:va?new Date(va).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""})]})]}),l.jsxs("div",{className:"sales-rep-action flex min-w-0 flex-col items-end gap-1",children:[l.jsxs(Qe,{type:"button",variant:"outline",size:"sm",className:"gap-2",onClick:()=>void xa(),disabled:Ci,"aria-busy":Ci,children:[l.jsx(ll,{className:`h-4 w-4 ${Ci?"animate-spin":""}`,"aria-hidden":"true"}),Ci?"Refreshing...":"Refresh"]}),l.jsxs("span",{className:"sales-rep-action-meta block text-[11px] text-slate-500 leading-tight text-right",children:[l.jsx("span",{className:"sales-rep-action-meta-label block",children:"Last refreshed"}),l.jsx("span",{className:"sales-rep-action-meta-value block",children:lo?new Date(lo).toLocaleString(void 0,{timeZone:"America/Los_Angeles"}):""})]})]})]})]})}),br?l.jsx("div",{className:"sales-rep-table-wrapper p-0 overflow-hidden",role:"region","aria-label":"Products sold and commission lists",children:l.jsx("div",{className:"p-6 text-sm text-amber-700 bg-amber-50",children:br})}):Ci?l.jsx("div",{className:"sales-rep-table-wrapper p-0 overflow-hidden",role:"region","aria-label":"Products sold and commission lists",children:l.jsx("div",{className:"p-6 text-sm text-slate-500",children:"Loading report"})}):Uu.length===0&&io.length===0?l.jsx("div",{className:"sales-rep-table-wrapper p-0 overflow-hidden",role:"region","aria-label":"Products sold and commission lists",children:l.jsx("div",{className:"p-6 text-sm text-slate-500",children:"No data for this period."})}):l.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[l.jsxs("div",{className:"sales-rep-table-wrapper p-0 overflow-hidden",role:"region","aria-label":"Products sold list",children:[l.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-white/70 px-4 py-2 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:l.jsx("span",{children:"Products Sold"})}),l.jsxs("div",{className:"grid items-center gap-3 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-700 border-b border-slate-200/70 bg-[rgba(95,179,249,0.08)]",style:{gridTemplateColumns:"minmax(0,1fr) 72px"},children:[l.jsx("div",{children:"Product"}),l.jsx("div",{className:"text-right",children:"Qty"})]}),l.jsx("ul",{className:"divide-y divide-slate-200/70 max-h-[420px] overflow-y-auto",children:Uu.map(b=>l.jsxs("li",{className:"grid items-center gap-3 px-4 py-1.5",style:{gridTemplateColumns:"minmax(0,1fr) 72px"},children:[l.jsxs("div",{className:"min-w-0 flex items-baseline gap-2",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",title:b.name,children:b.name}),l.jsx("div",{className:"text-[11px] leading-tight text-slate-600 truncate",children:b.sku?`SKU: ${b.sku}`:b.productId!=null?`Product ID: ${b.productId}`:""})]}),l.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums",children:Number(b.quantity||0)})]},b.key))})]}),l.jsxs("div",{className:"sales-rep-table-wrapper p-0 overflow-hidden",role:"region","aria-label":"Commission list",children:[l.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-white/70 px-4 py-2 text-sm font-semibold text-slate-900 border-b-4 border-slate-200/70",children:l.jsx("span",{children:"Commission"})}),l.jsxs("div",{className:"grid items-center gap-3 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-700 border-b border-slate-200/70 bg-[rgba(95,179,249,0.08)]",style:{gridTemplateColumns:"minmax(0,1fr) 96px"},children:[l.jsx("div",{children:"Recipient"}),l.jsx("div",{className:"text-right",children:"Amount"})]}),l.jsx("ul",{className:"divide-y divide-slate-200/70 max-h-[420px] overflow-y-auto",children:io.map(b=>l.jsxs("li",{className:"grid items-center gap-3 px-4 py-1.5",style:{gridTemplateColumns:"minmax(0,1fr) 96px"},children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",title:b.name,children:b.name}),l.jsx("div",{className:"mt-0.5 flex flex-wrap items-center gap-x-2 gap-y-0 text-[11px] leading-tight text-slate-600",children:(()=>{const P=Number(b.retailOrders||0),q=Number(b.wholesaleOrders||0),F=Number(b.retailBase||0),T=Number(b.wholesaleBase||0),W=Number(b.houseRetailOrders||0),te=Number(b.houseWholesaleOrders||0),ge=Number(b.houseRetailBase||0),oe=Number(b.houseWholesaleBase||0),ee=Number(b.houseRetailCommission||0),ie=Number(b.houseWholesaleCommission||0),we=Number(b.specialAdminBonus||0),Ne=Number(b.specialAdminBonusRate||0),De=Number(b.specialAdminBonusMonthlyCap||0),Te=b.specialAdminBonusByMonth,Oe=b.specialAdminBonusBaseByMonth,Le=F*.2,s=T*.1,o=[];if(o.push(l.jsxs("span",{className:"whitespace-nowrap",children:["Role: ",b.role||" "]},"role")),W>0||ge>0||ee>0){const d=ge*.2,h=ee||d;o.push(l.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["House Retail: ",jt(h)," (",W,"  ",jt(ge),"0.2)"]},"house-retail"))}else if(P>0||F>0){const d=Le;o.push(l.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["Retail: ",jt(d)," (",P,"  ",jt(F),"0.2)"]},"retail"))}if(te>0||oe>0||ie>0){const d=oe*.1,h=ie||d;o.push(l.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["House Wholesale: ",jt(h)," (",te,"  ",jt(oe),"0.1)"]},"house-wholesale"))}else if(q>0||T>0){const d=s;o.push(l.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["Wholesale: ",jt(d)," (",q,"  ",jt(T),"0.1)"]},"wholesale"))}if(we>0){const d=Array.from(new Set([...Object.keys(Te||{}),...Object.keys(Oe||{})])).sort(),h=d.reduce((re,z)=>re+Number((Oe||{})[z]||0),0),w=d.reduce((re,z)=>{const Se=Number((Oe||{})[z]||0);return re+Math.round(Se*Ne*100)/100},0);d.reduce((re,z)=>{const Se=Number((Te||{})[z]||0);if(Se>0)return re+Se;const be=Number((Oe||{})[z]||0);return re+Math.round(be*Ne*100)/100},0);const j=we>0&&Math.abs(we-w)>.009,I=De>0&&j?` (cap ${jt(De)}/mo)`:"",H=Ne>0&&h>0?` (${jt(h)}${Ne}${I})`:Ne>0?` (rate ${Ne}${De>0?`, cap ${jt(De)}/mo`:""})`:"";o.push(l.jsxs("span",{className:"whitespace-nowrap tabular-nums",children:["Web: ",jt(we),H]},"bonus"))}return l.jsx(l.Fragment,{children:o.map((d,h)=>l.jsxs(y.Fragment,{children:[h>0&&l.jsx("span",{className:"text-slate-300 mx-1",children:"|"}),d]},d?.key??h))})})()})]}),l.jsx("div",{className:"text-sm text-right font-semibold text-slate-900 tabular-nums",children:jt(Number(b.amount||0))})]},b.id))})]})]})]}),E&&l.jsxs("div",{className:"sales-rep-combined-chart",children:[l.jsx("div",{className:"sales-rep-chart-header",children:l.jsxs("div",{children:[l.jsx("h3",{children:"Your Pipeline"}),l.jsx("p",{children:"Track lead volume as contacts advance through each stage."})]})}),l.jsx("div",{className:"sales-rep-chart-body",children:l.jsx($U,{width:"100%",height:210,children:l.jsxs($Z,{data:Ba,margin:{top:16,right:12,left:-14,bottom:0},children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"statusBar",x1:"0",y1:"0",x2:"1",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"#5FB3F9",stopOpacity:.9}),l.jsx("stop",{offset:"100%",stopColor:"#95C5F9",stopOpacity:.9})]})}),l.jsx(UD,{strokeDasharray:"3 3",stroke:"rgba(148, 163, 184, 0.3)"}),l.jsx(r0,{dataKey:"label",interval:0,tick:l.jsx(GJ,{}),tickLine:!1,height:58,tickMargin:0,padding:{left:0,right:0}}),l.jsx(n0,{allowDecimals:!1,tick:{fontSize:12,fill:"#334155"},width:34,tickMargin:2}),l.jsx(ul,{cursor:{fill:"rgba(148, 163, 184, 0.12)"},content:VJ}),l.jsx(ef,{dataKey:"count",radius:[10,10,6,6],fill:"url(#statusBar)",barSize:32,children:l.jsx(Eu,{dataKey:"count",position:"insideTop",fill:"#ffffff",fontSize:12,offset:7,formatter:b=>typeof b=="number"?b:Number(b)||0,style:{textShadow:"0 1px 4px rgba(15, 23, 42, 0.35)"},content:b=>{const P=Number(b.value)||0;if(P===0)return null;const{x:q,width:F}=b,T=q+F/2,W=(b.y||0)+12;return l.jsx("text",{x:T,y:W,textAnchor:"middle",fill:"#ffffff",fontSize:12,style:{textShadow:"0 1px 4px rgba(15, 23, 42, 0.35)"},children:P})}})})]})})})]}),l.jsxs("div",{className:"sales-rep-dashboard-grid",children:[l.jsxs("div",{className:"sales-rep-leads-card sales-rep-combined-card",children:[l.jsx("div",{className:"sales-rep-leads-header",children:l.jsx("div",{className:"sales-rep-leads-title",children:l.jsxs("div",{className:"flex items-start mb-1 justify-between gap-3 flex-wrap",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-lg sm:text-xl",children:"Your Sales"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Live orders grouped by your doctors."})]}),l.jsx("div",{className:"sales-rep-card-controls",children:l.jsxs(Qe,{type:"button",variant:"outline",onClick:b=>{b.stopPropagation(),Os({force:!0})},disabled:kt||Qr,className:"gap-2",title:"Refresh your sales data",children:[l.jsx(ll,{className:`h-4 w-4 ${kt||Qr?"animate-spin":""}`}),"Refresh"]})})]})})}),l.jsxs("div",{className:"sales-metric-pill-group sales-metric-controls",children:[l.jsxs("div",{className:"sales-metric-pill",children:[l.jsx("p",{className:"sales-metric-label",children:"Orders"}),l.jsx("p",{className:"sales-metric-value",children:Sd?.totalOrders??0})]}),l.jsxs("div",{className:"sales-metric-pill",children:[l.jsx("p",{className:"sales-metric-label",children:"Total Revenue"}),l.jsx("p",{className:"sales-metric-value",children:jt(Sd?.totalRevenue??0)})]})]}),l.jsxs("div",{className:"sales-rep-lead-grid",children:[kt&&l.jsx("ul",{className:"space-y-4","aria-live":"polite",children:[...Array(2)].map((b,P)=>l.jsxs("li",{className:"lead-panel bg-white/60 border border-slate-200/80 rounded-2xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"news-loading-thumb rounded-full"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-24"})]})]}),l.jsxs("div",{className:"space-y-2 text-right",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16 ml-auto"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-20"})]})]}),l.jsx("div",{className:"space-y-3",children:[...Array(2)].map((q,F)=>l.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-100 bg-white/70 p-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-28"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-36"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-32"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-14 rounded-full"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"})]})]},`sales-loading-line-${P}-${F}`))})]},`sales-loading-${P}`))}),!kt&&rr&&l.jsx("p",{className:"lead-panel-empty text-sm text-rose-600",children:rr}),!kt&&!rr&&la.length===0&&l.jsx("p",{className:"lead-panel-empty text-sm text-slate-500",children:"No sales activity reported yet."}),!kt&&!rr&&la.length>0&&la.map(b=>{const P=Tn.has(b.doctorId);return l.jsxs("section",{className:"lead-panel",children:[l.jsxs("div",{className:"lead-panel-header sales-doctor-row cursor-pointer items-center",role:"button",tabIndex:0,onClick:()=>lr(b.doctorId),onKeyDown:q=>{(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),lr(b.doctorId))},"aria-expanded":!P,"aria-controls":`sales-orders-${b.doctorId}`,style:{alignItems:"center"},children:[l.jsx("div",{className:"sales-doctor-chevron",children:l.jsx(fy,{className:"h-4 w-4 text-slate-500","aria-hidden":"true",style:{transform:P?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.32s cubic-bezier(0.42, 0, 0.38, 1)",transformOrigin:"center"}})}),l.jsx("div",{className:"sales-doctor-scroll",children:l.jsxs("div",{className:"sales-doctor-scroll-inner",children:[l.jsxs("button",{type:"button",className:"flex items-center gap-3 min-w-0",onClick:q=>{q.stopPropagation(),Fo({...b,referralId:mu(b.doctorId,b.doctorEmail)},"doctor")},onKeyDown:q=>{(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),q.stopPropagation(),Fo({...b,referralId:mu(b.doctorId,b.doctorEmail)},"doctor"))},"aria-label":`View ${b.doctorName} details`,style:{background:"transparent",border:"none",padding:0},children:[l.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm",style:{width:44,height:44,minWidth:44},children:b.doctorAvatar?l.jsx("img",{src:b.doctorAvatar,alt:b.doctorName,className:"h-full w-full object-cover",style:{width:44,height:44}}):l.jsx("span",{className:"text-sm font-semibold text-slate-600",children:nh(b.doctorName)})}),l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"lead-list-name whitespace-nowrap flex items-center gap-1",children:[l.jsx(R_,{className:"h-4 w-4 text-slate-400","aria-hidden":"true"}),l.jsx("span",{children:b.doctorName})]}),String(b.leadType||"").toLowerCase()==="contact_form"&&l.jsx("span",{className:"lead-source-pill lead-source-pill--contact mt-1",children:"House / Contact Form"}),b.doctorEmail&&l.jsx("p",{className:"lead-list-detail whitespace-nowrap",children:b.doctorEmail})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-[0.16em]",children:"Revenue"}),l.jsx("p",{className:"text-base font-semibold text-slate-900",children:jt(b.total)}),l.jsxs("p",{className:"text-xs text-slate-500",children:[b.orders.length," order",b.orders.length===1?"":"s"]})]})]})})]}),!P&&l.jsx("ul",{className:"lead-list",id:`sales-orders-${b.doctorId}`,children:b.orders.map(q=>{const F=q.createdAt||q.dateCreated||q.date_created||q.dateCreatedGmt||q.date_created_gmt||q.updatedAt||null,W=(q?.shippingEstimate?.status||q?.shipping?.status||q.status||"").toString().toLowerCase()==="shipped"&&(q?.shippingEstimate?.estimatedArrivalDate||q?.shippingEstimate?.deliveryDateGuaranteed||q?.shippingEstimate?.estimated_delivery_date||q?.shipping?.estimatedArrivalDate||q?.shipping?.estimated_delivery_date)||null,te=String(q.id||q.number||""),oe=yn.has(te)||$u.has(te),ee=F?`Order placed ${Rr(F)}`:"Order placed Unknown date",ie=W?`Expected delivery ${ii(W)}`:"Expected delivery unavailable",we=U1(q);return l.jsx("li",{className:"lead-list-item sales-order-card cursor-pointer transition hover:shadow-sm hover:border-[rgb(95,179,249)]",onClick:()=>pg(q),"aria-busy":oe,children:l.jsxs("div",{className:"sales-order-card-content flex flex-col gap-2 w-full",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[l.jsxs("div",{className:"lead-list-name",children:["Order #",q.number??q.id]}),oe?l.jsxs("div",{className:"flex items-center gap-2 justify-end w-full sm:w-auto max-w-[200px]",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-16"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-20"})]}):l.jsxs("div",{className:"flex items-center gap-3 justify-end",children:[l.jsx("div",{className:"lead-updated",children:jt(q.total)}),l.jsx("span",{className:"sales-tracking-row-status",children:we})]})]}),oe?l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 w-full",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-full"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-full"})]}):l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 w-full",children:[l.jsx("div",{className:"lead-list-detail",children:ee}),l.jsx("div",{className:"lead-list-detail",children:ie})]})]})},q.id)})})]},b.doctorId)})]})]}),l.jsxs("div",{className:"sales-rep-leads-card sales-rep-combined-card",children:[l.jsx("div",{className:"sales-rep-leads-header",children:l.jsx("div",{className:"sales-rep-leads-title",children:l.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg sm:text-xl",children:"Your Leads"}),l.jsx("p",{children:"Advance referrals and inbound requests through your pipeline."})]}),l.jsx("div",{className:"sales-rep-card-controls",children:l.jsxs(Qe,{type:"button",variant:"outline",onClick:b=>{b.stopPropagation(),Ir("sales-rep-manual-refresh",{showLoading:!0})},disabled:Bl,className:"gap-2",children:[l.jsx(ll,{className:`h-4 w-4 ${Bl?"animate-spin":""}`}),"Refresh"]})})]})})}),l.jsxs("div",{className:"sales-rep-lead-grid",children:[l.jsxs("section",{className:"lead-panel",children:[l.jsx("div",{className:"lead-panel-header",children:l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"lead-panel-filter-row",children:[l.jsxs("h4",{children:[Tr.length," Active Prospect",Tr.length===1?"":"s"]}),l.jsx("select",{value:Ff,onChange:b=>Bf(b.target.value),className:"rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:_g.map(b=>l.jsx("option",{value:b,children:b==="all"?"All statuses":Ad(b)},b))})]}),l.jsx("p",{className:"text-sm text-slate-500 referrals-subtitle",children:"Combination of referral and contact form prospects."}),l.jsx("div",{className:"mt-2",children:l.jsxs(Qe,{type:"button",variant:"outline",onClick:()=>wa(!0),className:"gap-2 text-sm",children:[l.jsx(bv,{className:"h-4 w-4"}),"Manual Prospect"]})})]})}),l.jsx("div",{className:"lead-panel-divider"}),Bl&&Tr.length===0?l.jsx("p",{className:"lead-panel-empty text-sm text-slate-500",children:"Loading prospects"}):Tr.length===0?l.jsx("p",{className:"lead-panel-empty text-sm text-slate-500",children:"Nobody yet. Update a referral or contact form status to move it here."}):l.jsx("div",{className:"lead-list-scroll active-prospects-list-scroll",children:l.jsx("ul",{className:"lead-list",children:Tr.map(({kind:b,record:P})=>{const q=ud.updatingReferral===P.id,F=b==="contact_form"?(P.status||"contact_form").toLowerCase():Yn(P.status),T=F==="contact_form"?"pending":F,W=T==="verified",te=Pf===P.id,ge=b==="referral"&&P.referrerDoctorName||"User",oe=b==="referral"&&P.creditIssuedAt?P.creditIssuedAt:null,ee=b==="referral"&&P.creditIssuedAmount!=null?P.creditIssuedAmount:50,ie=b==="referral"&&Jl(P),we=b==="contact_form"?"lead-source-pill--contact":ie?"lead-source-pill--manual":"lead-source-pill--referral",Ne=b==="contact_form"?"Contact Form":ie?"Manual":"Referral",De=typeof P.referredContactHasAccount=="boolean"?P.referredContactHasAccount:!1,Te=b==="referral"?!!P.referredContactEligibleForCredit:!1,Oe=T==="converted"&&!Yr(P),Le=P.syntheticAccountProspect===!0,s=!!P.resellerPermitExempt,o=typeof P.resellerPermitFileName=="string"&&P.resellerPermitFileName.trim()?P.resellerPermitFileName.trim():"",d=typeof P.resellerPermitFilePath=="string"?P.resellerPermitFilePath:"",h=!!(o||d),w=s||h,j=!!rl[String(P?.id||"")],I=`reseller-permit-${String(P?.id||"").replace(/[^a-zA-Z0-9_-]/g,"_").slice(0,64)}`,H=De&&T==="verified",re=T==="pending"?"Pending":H?"Account Created":Ad(T),z=(()=>{if(Le)return T==="converted"?null:{value:"converted",label:"Converted",disabled:!1};if(H)return{value:"converted",label:"Converted",disabled:!1};switch(T){case"pending":return{value:"contacted",label:"Contacting",disabled:!1};case"contacted":return{value:"verified",label:w?"Verified":"Verified (permit required)",disabled:!w};case"verified":return{value:"account_created",label:"Account Created",disabled:!1};case"account_created":return{value:"converted",label:"Converted",disabled:!1};default:return null}})(),_e={pending:"Move to Contacting when ready to reach out.",contacted:"Reach out to them, verify their practice, ensure they have an NPI number, and note down any other personal and practice details. Collect their reseller permit if available for their tax exemption. When verified, advance their status.",verified:"Now that they are verified, help them create an account by sharing your referral code. You can see when they have created an account with the label in this container.",account_created:"Now that their account is created, walk them through the platform. Ensure to promote their educational and research excellence and our support for them. You can preemptively move them to the Converted status for your convenience if you wish. It will note when they make their first purchase automatically."}[H?"account_created":T]||"",Je=[...(()=>{const le=["pending","contacted","verified","account_created","converted"],ae=le.indexOf(T);return ae<=0?[]:le.slice(0,ae).map(ye=>({value:ye,label:ye==="pending"?"Pending":Ad(ye),disabled:!1}))})(),{value:T,label:re,disabled:!0},...z?[z]:[]],Xe=(()=>{if(!De)return null;const le=P.referredContactAccountId,ae=typeof P.referredContactAccountEmail=="string"?P.referredContactAccountEmail.trim():"",ye=typeof P.referredContactEmail=="string"?P.referredContactEmail.trim():"",$e=(ae||ye).toLowerCase(),ft=typeof P.referredContactPhone=="string"?P.referredContactPhone.trim():"",xt=[le?`acct:${le}`:null,le?`acct:${String(le).toLowerCase()}`:null,$e?`email:${$e}`:null,$e||null,ft?`phone:${ft}`:null].filter(Boolean);for(const St of xt){const vt=Do.get(St);if(vt)return vt}return null})(),nr=De&&Xe?.name||P.referredContactName||P.referredContactEmail||"";return l.jsxs("li",{className:"lead-list-item lead-list-item--active-prospect",children:[l.jsxs("div",{className:"lead-list-meta",children:[l.jsx("div",{className:"lead-list-name min-w-0",children:l.jsx("button",{type:"button",className:"inline-flex items-start gap-1 min-w-0 text-left",onClick:()=>{const le=P.referredContactAccountId||P.referredContactId||P.userId||P.doctorId||P.id,ae=P.referredContactEmail||(Xe?.email??null)||null;Fo({doctorId:String(le||P.id),referralId:b==="referral"?String(P.id):null,doctorName:nr,doctorEmail:ae,doctorAvatar:Xe?.profileImageUrl??null,doctorPhone:P.referredContactPhone||null,doctorAddress:null,orders:[],total:0},"doctor")},onKeyDown:le=>{if(le.key==="Enter"||le.key===" "){le.preventDefault();const ae=P.referredContactAccountId||P.referredContactId||P.userId||P.doctorId||P.id,ye=P.referredContactEmail||(Xe?.email??null)||null;Fo({doctorId:String(ae||P.id),referralId:b==="referral"?String(P.id):null,doctorName:nr,doctorEmail:ye,doctorAvatar:Xe?.profileImageUrl??null,doctorPhone:P.referredContactPhone||null,doctorAddress:null,orders:[],total:0},"doctor")}},"aria-label":`View ${nr} details`,style:{background:"transparent",border:"none",padding:0},children:l.jsxs("span",{className:"flex items-center gap-1.5 min-w-0 text-left",children:[l.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm shrink-0",style:{width:28,height:28,minWidth:28},children:Xe?.profileImageUrl?l.jsx("img",{src:Xe.profileImageUrl,alt:nr,className:"h-full w-full object-cover",loading:"lazy",decoding:"async"}):l.jsx("span",{className:"text-[11px] font-semibold text-slate-600",children:nh(nr)})}),l.jsx(R_,{className:"h-4 w-4 text-slate-400 shrink-0 lead-list-name-icon","aria-hidden":"true"}),l.jsx("span",{className:"lead-list-name-text min-w-0 flex-1 break-words justify-start text-left leading-snug mt-[1px] self-start w-full",children:nr})]})})}),P.referredContactEmail&&l.jsx("div",{className:"lead-list-detail",children:l.jsx("a",{href:`mailto:${P.referredContactEmail}`,className:"text-[rgb(95,179,249)] hover:underline",children:P.referredContactEmail})}),P.referredContactPhone&&l.jsx("div",{className:"lead-list-detail",children:P.referredContactPhone}),l.jsx("span",{className:`lead-source-pill ${we}`,children:Ne}),l.jsx("span",{className:`account-status-pill ${De?"account-status-pill--active":""}`,children:De?"Account Created":"No Account Yet"})]}),l.jsx("div",{className:"active-prospect-status",children:l.jsxs("select",{value:T,disabled:q||j,onChange:le=>{const ae=le.target.value;if(ae!==T){if(ie&&ae===ly){kg(P.id);return}if(!(ae==="account_created"&&!De&&!window.confirm("They have not yet created a PepPro account, are you sure you want to promote them to Account Created?"))){if(Le){Im(P,ae);return}Mr(P.id,ae)}}},className:"lead-status-select",children:[ie&&l.jsx("option",{value:ly,children:"Delete"}),Je.map(le=>l.jsx("option",{value:le.value,disabled:le.disabled,children:le.label},le.value))]})}),l.jsxs("div",{className:"active-prospect-right",children:[_e?l.jsx("div",{className:"prospect-permit-instructions mt-2 text-xs leading-snug text-slate-500",children:_e}):null,W&&l.jsx("div",{className:"mt-1 text-xs text-slate-700 text-center",children:typeof r?.referralCode=="string"&&r.referralCode.trim()?l.jsx(l.Fragment,{children:l.jsxs("button",{type:"button",className:"text-[11px] font-semibold tracking-wide text-slate-700 hover:text-[rgb(37,99,235)]",title:"Copy your sales code",onClick:()=>{const le=String(r.referralCode||"").trim().toUpperCase();if(le)try{navigator.clipboard?.writeText(le)}catch{}},children:["Your referral code:"," ",String(r.referralCode||"").trim().toUpperCase()]})}):l.jsx("span",{className:"font-semibold tracking-wide text-slate-700",children:"Your referral code: "})}),Oe&&l.jsx("div",{className:"text-xs text-amber-600 text-center mt-1",children:"Awaiting their first purchase"}),b==="referral"&&!ie&&F==="converted"&&!oe&&Te&&l.jsx(Qe,{type:"button",disabled:te,onClick:()=>ca(P),className:"mt-2 w-full squircle-sm glass-brand btn-hover-lighter justify-center",children:te?"Crediting":`Credit ${ge} $50`}),b==="referral"&&!ie&&F==="converted"&&!oe&&!Te&&l.jsx("div",{className:"text-xs text-slate-500 text-center mt-1",children:"Awaiting first order to credit"}),l.jsxs("div",{className:"lead-list-actions-footer",children:[T==="contacted"&&!Le&&l.jsxs("div",{className:"prospect-permit-container",children:[l.jsx("div",{className:"prospect-permit-caption",children:"Reseller Permit Verification"}),l.jsxs("div",{className:"prospect-permit-controls",children:[l.jsxs("label",{className:"prospect-permit-checkbox",children:[l.jsx("input",{type:"checkbox",checked:s,disabled:q||j||h&&!s,onChange:le=>{zf(String(P.id),le.target.checked)},className:"prospect-permit-checkbox-input"}),"Doctor does not have a resellers permit"]}),l.jsxs("div",{className:"prospect-permit-file-picker",children:[l.jsx("input",{id:I,type:"file",accept:"application/pdf,image/*",disabled:q||j||s,onChange:le=>{const ae=le.target.files?.[0];ae&&(jd(String(P.id),ae),le.target.value="")},className:"prospect-permit-file-input"}),l.jsx("label",{htmlFor:I,className:"prospect-permit-file-button","aria-disabled":q||j||s,children:"Upload Permit"}),h?l.jsxs("div",{className:"prospect-permit-file-meta",children:[(()=>{const le=o||d.split("/").pop()||"reseller_permit",ae=le.length<=12?le:`${le.slice(0,8)}${le.slice(-3)}`;return l.jsx("button",{type:"button",className:"prospect-permit-file-name prospect-permit-file-name-button",disabled:q||j,"aria-label":"Download uploaded reseller permit",title:le,onClick:()=>{Wf(String(P.id),le)},children:ae})})(),l.jsx("button",{type:"button",className:"prospect-permit-file-delete",disabled:q||j,title:"Delete uploaded permit",onClick:()=>{Rm(String(P.id))},children:l.jsx(rS,{className:"h-4 w-4","aria-hidden":"true"})})]}):l.jsx("span",{className:"prospect-permit-file-name",children:"No file selected"})]})]})]}),l.jsxs("div",{className:"lead-list-updated-block",children:[b==="referral"&&oe&&l.jsx("div",{className:"text-xs font-semibold text-emerald-600 text-right break-words",children:`Credited ${ge} ${jt(ee)} at ${Rr(oe)}`}),l.jsx("div",{className:"lead-updated text-right",children:P.updatedAt?`Updated ${Rr(P.updatedAt)}`:Rr(P.createdAt)})]})]})]})]},P.id)})})})]}),l.jsxs("section",{className:"lead-panel",children:[l.jsx("div",{className:"lead-panel-header",children:l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"lead-panel-filter-row",children:l.jsxs("h4",{children:[Zr.length," Referral",Zr.length===1?"":"s"]})}),l.jsx("p",{className:"text-sm text-slate-500 referrals-subtitle",children:"Qualify new referrals and update their status."})]})}),l.jsx("div",{className:"lead-panel-divider"}),l.jsx("div",{className:"lead-list-scroll",children:Bl?l.jsx("p",{className:"lead-panel-empty text-sm text-slate-500 px-1 py-2",children:"Loading referrals"}):Zr.length===0?l.jsx("p",{className:"lead-panel-empty text-sm text-slate-500 px-1 py-2",children:"You have no referrals yet. Encourage doctors to grow the network."}):l.jsx("ul",{className:"lead-list",children:Zr.map(b=>{const P=ud.updatingReferral===b.id,q=Pf===b.id,F=Jl(b),T=Yn(b.status),W=(()=>{if(F)return km;const o=["pending","contacted"],d=[],h=w=>{w&&(d.includes(w)||d.push(w))};return o.includes(T)||h(T),o.forEach(w=>h(w)),d})(),te=b.referrerDoctorName||"User",ge=b.creditIssuedAt||null,oe=b.creditIssuedAmount!=null?b.creditIssuedAmount:50,ee=!!b.referredContactEligibleForCredit,ie=ra.has(b.id),we=o=>o&&o.split(" ").map(d=>d&&d.charAt(0).toUpperCase()+d.slice(1)).join(" "),Ne=we(b.referredContactName)||b.referredContactEmail||"Lead",De=we(b.referrerDoctorName)||"Referrer",Te=b.referrerDoctorEmail||"",Oe=b.referrerDoctorPhone||"",Le=b.referredContactEmail||"",s=b.referredContactPhone||"";return l.jsxs("li",{className:"lead-list-item flex-col gap-3",children:[l.jsxs("div",{className:"lead-panel-header referral-card-header cursor-pointer items-center sales-doctor-row",role:"button",tabIndex:0,onClick:()=>pr(b.id),onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),pr(b.id))},"aria-expanded":!ie,children:[l.jsx("div",{className:"sales-doctor-chevron",children:l.jsx(fy,{className:"h-4 w-4 text-slate-500","aria-hidden":"true",style:{transform:ie?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.32s cubic-bezier(0.42, 0, 0.38, 1)",transformOrigin:"center"}})}),l.jsx("div",{className:"sales-doctor-scroll",children:l.jsxs("div",{className:"sales-doctor-scroll-inner",children:[l.jsx("div",{className:"flex items-center gap-3 min-w-0",children:l.jsx("div",{className:"min-w-0",children:l.jsxs("p",{className:"lead-list-name",children:[De," ",l.jsx("span",{className:"text-slate-500 font-normal",children:"referred"})," ",Ne]})})}),l.jsxs("div",{className:"text-right text-xs text-slate-500 space-y-1 min-w-[180px]",children:[l.jsxs("div",{children:["Submitted ",Rr(b.createdAt)]}),l.jsxs("div",{className:"text-[11px] text-slate-400",children:["Updated ",Rr(b.updatedAt)]})]})]})})]}),!ie&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap gap-2",children:[F&&l.jsx("span",{className:"lead-source-pill lead-source-pill--manual",children:"Manual"}),l.jsx("span",{className:`account-status-pill ${b.referredContactHasAccount?"account-status-pill--active":""}`,children:b.referredContactHasAccount?"Account Created":"No Account Yet"})]}),l.jsx("div",{className:"text-sm text-slate-700 leading-relaxed bg-slate-50/80 border border-slate-200/70 rounded-lg p-3",children:b.notes?l.jsxs("span",{className:"whitespace-pre-wrap",children:["Notes from ",De,": ",b.notes]}):l.jsx("span",{className:"text-xs italic text-slate-400",children:"No notes"})}),l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 w-full",children:[l.jsxs("div",{className:"min-w-[200px] space-y-1",children:[l.jsxs("p",{className:"lead-list-detail",children:["Referee Email:"," ",Le!==""?l.jsx("a",{href:`mailto:${Le}`,className:"text-[rgb(95,179,249)] hover:underline",children:Le}):Le]}),l.jsxs("p",{className:"lead-list-detail",children:["Referee Phone: ",s]}),l.jsxs("p",{className:"lead-list-detail",children:["Referrer Email:"," ",Te!==""?l.jsx("a",{href:`mailto:${Te}`,className:"text-[rgb(95,179,249)] hover:underline",children:Te}):Te]}),l.jsxs("p",{className:"lead-list-detail",children:["Referrer Phone: ",Oe]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2 min-w-[240px] ml-auto",children:[l.jsxs("select",{value:T,onChange:o=>{const d=o.target.value;if(F&&d===ly){kg(b.id);return}d==="account_created"&&!b.referredContactHasAccount&&!window.confirm("They have not created a PepPro account, yet are you sure you want to promote them?")||Mr(b.id,d)},disabled:P,className:"w-full rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:[F&&l.jsx("option",{value:ly,children:"Delete"}),W.map(o=>l.jsx("option",{value:o,disabled:!F&&!["pending","contacted"].includes(o),children:Ad(o)},o))]}),T==="converted"&&!F&&!ge&&ee&&l.jsx(Qe,{type:"button",disabled:q,onClick:()=>ca(b),className:"w-full squircle-sm glass-brand btn-hover-lighter justify-center",children:q?"Crediting":`Credit ${te} $50`}),T==="converted"&&!F&&!ge&&!ee&&l.jsx("div",{className:"text-xs text-slate-500 text-right w-full",children:"Awaiting first order to credit"}),ge&&l.jsx("div",{className:"text-xs font-semibold text-emerald-600 text-right break-words",children:`Credited ${te} ${jt(oe)} at ${Rr(ge)}`}),l.jsxs("div",{className:"text-[11px] text-slate-500 text-right",children:["Updated ",Rr(b.updatedAt)]})]})]})]})]},b.id)})})})]}),it(r?.role)&&l.jsxs("section",{className:"lead-panel",children:[l.jsx("div",{className:"lead-panel-header",children:l.jsxs("div",{children:[l.jsxs("h4",{children:[wd.length," House / Contact Form",wd.length===1?"":"s"]}),l.jsx("p",{className:"text-sm text-slate-500",children:"Inbound submissions captured directly from the site."})]})}),l.jsx("div",{className:"sales-rep-table-wrapper",children:l.jsxs("table",{className:"min-w-[720px] divide-y mb-2 divide-slate-200/70",children:[l.jsx("thead",{className:"bg-slate-50/70",children:l.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-slate-500",children:[l.jsx("th",{className:"px-4 py-3",children:"ID"}),l.jsx("th",{className:"px-4 py-3",children:"Name"}),l.jsx("th",{className:"px-4 py-3",children:"Email"}),l.jsx("th",{className:"px-4 py-3",children:"Phone"}),l.jsx("th",{className:"px-4 py-3",children:"How did you get introduced to PepPro?"}),l.jsx("th",{className:"px-4 py-3",children:"Received"}),l.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y mt-2 mb-2 divide-slate-200/60",children:Bl?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-4 py-6 text-center mt-2 mb-2 text-sm text-slate-500",children:"Loading contact forms"})}):wd.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-4 py-6 text-center mt-4 mb-2 text-sm text-slate-500",children:"No contact form submissions available."})}):wd.map(b=>{const P=ud.updatingReferral===b.id,q=Yn(b.status||"contact_form"),F=q==="contact_form"?"pending":q,T=(b.id||"").replace("contact_form:","")||b.id||"";return l.jsxs("tr",{className:"align-top",children:[l.jsx("td",{className:"px-4 py-4 font-mono text-xs text-slate-500",children:T}),l.jsx("td",{className:"px-4 py-4 text-sm font-medium text-slate-900",children:b.referredContactName||""}),l.jsxs("td",{className:"px-4 py-4 text-sm text-slate-600",children:[l.jsx("div",{children:b.referredContactEmail?l.jsx("a",{href:`mailto:${b.referredContactEmail}`,className:"text-[rgb(95,179,249)] hover:underline",children:b.referredContactEmail}):""}),l.jsx("span",{className:`account-status-pill ${b.referredContactHasAccount?"account-status-pill--active":""}`,children:b.referredContactHasAccount?"Account Created":"No Account Yet"})]}),l.jsx("td",{className:"px-4 py-4 text-sm text-slate-600",children:b.referredContactPhone||""}),l.jsx("td",{className:"px-4 py-4 text-sm text-slate-600",children:b.notes||"Contact form"}),l.jsx("td",{className:"px-4 py-4 text-sm text-slate-600",children:l.jsx("div",{children:Rr(b.createdAt)})}),l.jsxs("td",{className:"px-4 py-4",children:[l.jsx("select",{value:F,disabled:P,onChange:W=>{const te=W.target.value;te!==F&&Mr(b.id,te)},className:"rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:(()=>{const W=["pending","contacted"],te=[],ge=(oe,ee,ie=!1)=>{oe&&(te.some(we=>we.value===oe)||te.push({value:oe,label:ee,disabled:ie}))};return W.includes(F)||ge(F,Ad(F),!0),W.forEach(oe=>{const ee=oe==="pending"?"Pending":Ad(oe);ge(oe,ee,!1)}),te.map(oe=>l.jsx("option",{value:oe.value,disabled:oe.disabled,children:oe.label},oe.value))})()}),F==="verified"&&l.jsx("button",{type:"button",onClick:Tc,className:"block text-[rgb(95,179,249)] text-xs font-semibold hover:underline mt-1",children:"Share Referral Code"})]})]},b.id)})})]})})]})]})]})]})]}),l.jsxs("p",{className:"text-xs text-slate-500/80 pt-2 text-center italic dashboard-feedback-note",children:["Send dashboard recommendations and ideas that will improve your productivity to"," ",l.jsx("a",{className:"text-[rgb(95,179,249)] underline-offset-2 hover:underline",href:"mailto:petergibbons7@icloud.com?subject=Dashboard%20Recommendation%20(PepPro)",children:"petergibbons7@icloud.com"}),"."]})]})},Tg=()=>{console.debug("[Product] Close details"),C(!1),N(null)};y.useEffect(()=>{if(!A||!x)return;(x.type??"").toLowerCase()==="variable"&&(!x.variants||x.variants.length===0)&&Lt(x)},[A,x,Lt]);const hu=y.useMemo(()=>Yt.filter(v=>{if(v.isSubscription)return!1;const S=v.type?.toLowerCase()||"",E=v.name?.toLowerCase()||"",b=v.category?.toLowerCase()||"",P=v.manufacturer?.toLowerCase()||"",q=v.description?.toLowerCase()||"";return!(S.includes("subscription")||E.includes("subscription")||b.includes("subscription")||P.includes("subscription")||q.includes("subscription"))}),[Yt]),_d=y.useMemo(()=>{let v=hu;return g&&(v=v.filter(S=>S.name.toLowerCase().includes(g.toLowerCase())||S.category.toLowerCase().includes(g.toLowerCase())||S.manufacturer.toLowerCase().includes(g.toLowerCase())||S.description&&S.description.toLowerCase().includes(g.toLowerCase()))),kn.categories.length>0&&(v=v.filter(S=>kn.categories.includes(S.category))),kn.types.length>0&&(v=v.filter(S=>S.type&&kn.types.includes(S.type))),v},[hu,g,kn]),_a=y.useMemo(()=>{const v={};for(const S of hu){const E=(S.category||"").trim();E&&(v[E]=(v[E]||0)+1)}return v},[hu]),nl=y.useMemo(()=>{const v=_a.Uncategorized||0;return Ti.filter(S=>S.toLowerCase()==="uncategorized"?v>0:!0)},[Ti,_a]);y.useEffect(()=>{if(kn.categories.length===0)return;const v=new Set(nl),S=kn.categories.filter(E=>v.has(E));S.length!==kn.categories.length&&Mo(E=>({...E,categories:S}))},[kn.categories,nl]);const b0=y.useMemo(()=>{const v={};for(const S of nl)v[S]=_a[S]||0;return v},[nl,_a]);hu.slice(0,4);const ua=Em&&!!as,{quoteFontSize:Xf,quoteLineClamp:al,quoteMobileFont:Qf}=y.useMemo(()=>{const v=as?.text?.length||0;return v>260?{quoteFontSize:"clamp(0.55rem, 1.1vw, 0.72rem)",quoteLineClamp:8,quoteMobileFont:"clamp(0.68rem, 1.9vw, 0.84rem)"}:v>180?{quoteFontSize:"clamp(0.6rem, 1.3vw, 0.8rem)",quoteLineClamp:6,quoteMobileFont:"clamp(0.72rem, 2vw, 0.88rem)"}:v>120?{quoteFontSize:"clamp(0.66rem, 1.5vw, 0.9rem)",quoteLineClamp:5,quoteMobileFont:"clamp(0.78rem, 2.2vw, 0.94rem)"}:{quoteFontSize:"clamp(0.74rem, 1.8vw, 0.98rem)",quoteLineClamp:4,quoteMobileFont:"clamp(0.84rem, 2.5vw, 1rem)"}},[as]),gu=a.reduce((v,S)=>v+S.quantity,0),Bm=gu>0&&!me,x0=Array.from({length:5}),qm=Array.from({length:1});return l.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col safe-area-vertical",style:{position:"static"},children:[l.jsx("div",{"aria-hidden":"true",style:{position:"fixed",top:"-12vh",left:"-6vw",width:"112vw",height:"140vh",backgroundImage:"url(/leafTexture.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:0,pointerEvents:"none",maskImage:"linear-gradient(to top, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.15) 33%, rgba(0,0,0,0.075) 66%, rgba(0,0,0,0) 100%)",WebkitMaskImage:"linear-gradient(to top, rgba(0,0,0,0.50) 0%, rgba(0,0,0,0.15) 40%, rgba(0,0,0,0.05) 50%, rgba(0,0,0,0) 100%)"}}),de&&J&&r&&l.jsx("div",{className:"info-focus-overlay","aria-hidden":"true"}),l.jsxs("div",{className:"relative z-10 flex flex-1 flex-col",children:[r&&!J&&l.jsx(x9,{user:r,researchDashboardEnabled:xf,onLogin:Mm,onLogout:ja,cartItems:gu,onSearch:m0,onCreateAccount:Kf,onCartClick:()=>u(!0),loginPromptToken:_,loginContext:k,showCartIconFallback:Bm,onShowInfo:()=>{console.log("[App] onShowInfo called, setting postLoginHold to true"),K(!0)},onUserUpdated:v=>n(v),accountOrders:_l,accountOrdersLoading:Fs,accountOrdersError:kc,ordersLastSyncedAt:Cl,onRefreshOrders:Pn,showCanceledOrders:Ut,onToggleShowCanceled:ga,accountModalRequest:hi,onBuyOrderAgain:Fm,onCancelOrder:tf,referralCodes:gf,catalogLoading:Ii}),l.jsxs("div",{className:"flex-1 w-full flex flex-col",children:[(!r||J)&&l.jsxs("div",{className:"min-h-screen flex flex-col items-center pt-20 px-4 py-12",children:[J&&r?l.jsx("div",{className:"w-full max-w-7xl mb-6 px-4",children:xd?l.jsxs("div",{className:"flex flex-row items-stretch justify-between gap-4 lg:gap-6 mb-8",children:[l.jsx("div",{className:`glass-card squircle-lg border border-[var(--brand-glass-border-2)] px-8 py-6 lg:px-10 lg:py-8 shadow-lg transition-all duration-500 flex items-center justify-center flex-1 info-highlight-card ${de?"info-focus-active":""} ${wn?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,style:{backdropFilter:"blur(20px) saturate(1.4)",minHeight:"min(140px, 12.5vh)"},children:l.jsxs("p",{className:`font-semibold text-[rgb(95,179,249)] text-center shimmer-text ${de?"is-shimmering":"shimmer-text--cooldown"}`,style:{color:"rgb(95,179,249)",fontSize:de?"clamp(1.1rem, 2vw, 2rem)":"clamp(1rem, 1.6vw, 1.75rem)",lineHeight:1.15,transition:"font-size 800ms ease"},children:["Welcome",r.visits&&r.visits>1?" back":"",", ",r.name,"!"]})}),l.jsx("div",{className:"flex-shrink-0 px-6 lg:px-8",children:l.jsx("div",{className:"brand-logo brand-logo--landing",children:l.jsx("img",{src:"/Peppro_fulllogo.png",alt:"PepPro",style:{display:"block",width:"auto",height:"auto",maxWidth:"min(320px, 35vw)",maxHeight:"min(280px, 25vh)",objectFit:"contain"}})})}),l.jsxs("div",{className:`glass-card ${Am&&!ua?"quote-container-shimmer":""} squircle-lg border border-[var(--brand-glass-border-2)] px-8 py-6 lg:px-10 lg:py-8 shadow-lg transition-all duration-500 flex flex-col justify-center flex-1 ${wn?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,style:{backdropFilter:"blur(20px) saturate(1.4)",minHeight:"min(140px, 12.5vh)"},"aria-live":"polite",children:[Am&&!ua&&l.jsx("div",{className:"flex w-full flex-1 items-center justify-center",children:l.jsx("p",{className:"text-sm font-semibold text-center shimmer-text is-shimmering",style:{color:"rgb(95,179,249)"},children:"Loading today's quote"})}),ua&&as&&l.jsxs("p",{className:"px-4 sm:px-6 italic text-[rgb(95,179,249)] text-center leading-snug break-words",style:{color:"rgb(95,179,249)",fontSize:Xf,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:al,WebkitBoxOrient:"vertical"},children:['"',as.text,'"  ',as.author]})]})]}):l.jsxs("div",{className:"flex flex-col items-center gap-6 mb-8",children:[l.jsx("div",{className:"flex justify-center px-4",children:l.jsx("div",{className:"brand-logo brand-logo--landing",children:l.jsx("img",{src:"/Peppro_fulllogo.png",alt:"PepPro",style:{display:"block",width:"auto",height:"auto",maxWidth:"min(320px, 35vw)",maxHeight:"min(280px, 25vh)",objectFit:"contain"}})})}),l.jsxs("div",{className:`glass-card squircle-lg border border-[var(--brand-glass-border-2)] px-4 py-4 shadow-lg transition-all duration-500 w-full info-highlight-card ${de?"info-focus-active":""} ${wn?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"} flex flex-col items-center text-center justify-center sm:justify-start`,style:{backdropFilter:"blur(20px) saturate(1.4)",minHeight:ua&&as?"auto":"min(140px, 20vh)"},children:[l.jsxs("p",{className:`text-center font-semibold text-[rgb(95,179,249)] shimmer-text ${de?"is-shimmering":"shimmer-text--cooldown"}`,style:{color:"rgb(95,179,249)",fontSize:ua&&as?"clamp(1rem, 3.2vw, 1.6rem)":"clamp(1.32rem, 4.9vw, 1.9rem)",lineHeight:1.2,transform:ua&&as?"translateY(-8px)":"translateY(0)",transition:"font-size 600ms ease, transform 600ms ease"},children:["Welcome",r.visits&&r.visits>1?" back":"",", ",r.name,"!"]}),l.jsxs("div",{className:`${Am&&!ua?"quote-container-shimmer":""} w-full rounded-lg bg-white/65 px-3 py-3 sm:px-4 sm:py-3 text-center shadow-inner transition-opacity duration-500 mt-6`,"aria-live":"polite",children:[!ua&&l.jsx("div",{className:"min-h-[56px] flex items-center justify-center w-full",children:l.jsx("p",{className:"text-sm font-semibold mt-3 text-center shimmer-text is-shimmering",style:{color:"rgb(95,179,249)"},children:"Loading today's quote"})}),ua&&as&&l.jsxs("p",{className:"px-4 sm:px-6 italic text-[rgb(95,179,249)] leading-snug break-words",style:{color:"rgb(95,179,249)",fontSize:Qf,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:al,WebkitBoxOrient:"vertical"},children:['"',as.text,'"  ',as.author]})]})]})]})}):l.jsx("div",{className:`flex justify-center ${B==="signup"?"mb-6 sm:mb-8 lg:mb-12":"mb-12 sm:mb-12 lg:mb-20"}`,children:l.jsx("div",{className:"brand-logo brand-logo--landing",children:l.jsx("img",{src:"/Peppro_fulllogo.png",alt:"PepPro",style:{display:"block",width:"auto",height:"auto",maxWidth:"min(360px, 80vw)",maxHeight:"min(360px, 40vh)",objectFit:"contain"}})})}),J&&r?l.jsx("div",{className:"w-full max-w-6xl mt-4 sm:mt-6 md:mt-8",children:l.jsxs("div",{className:"post-login-layout",children:[l.jsx("div",{className:"post-login-news glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] p-6 sm:p-8 shadow-xl",style:{backdropFilter:"blur(38px) saturate(1.6)"},children:l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[rgb(95,179,249)]",children:"Peptide News"}),l.jsx("button",{onClick:Yf,disabled:bo,className:"p-1.5 rounded-md hover:bg-[rgba(95,179,249,0.1)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh news",children:l.jsx(ll,{className:`h-4 w-4 text-[rgb(95,179,249)] ${bo?"animate-spin":""}`})}),jm&&l.jsxs("span",{className:"text-xs text-gray-500",children:["Updated at:"," ",jm.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})]})]}),l.jsx("a",{href:"https://www.nature.com/subjects/peptides",target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold uppercase tracking-wide text-[rgb(95,179,249)] hover:underline underline-offset-4",children:"View All"})]}),l.jsxs("div",{className:"max-h-[60vh] overflow-y-auto pr-1 space-y-4 text-sm text-gray-700 leading-relaxed",children:[bo&&l.jsxs("ul",{className:"space-y-4","aria-live":"polite",children:[x0.map((v,S)=>l.jsxs("li",{className:"news-loading-card flex items-start gap-3",children:[l.jsx("div",{className:"news-loading-thumb","aria-hidden":"true"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"news-loading-line news-loading-shimmer w-3/4","aria-hidden":"true"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-full","aria-hidden":"true"}),l.jsx("div",{className:"news-loading-line news-loading-shimmer w-1/2","aria-hidden":"true"})]})]},S)),l.jsx("li",{className:"text-xs text-slate-500 pl-1",children:"Loading latest headlines"})]}),!bo&&vd&&l.jsx("p",{className:"text-xs text-red-600",children:vd}),!bo&&!vd&&Rf.length===0&&l.jsx("p",{className:"text-xs text-slate-600",children:"No headlines available right now. Please check back soon."}),!bo&&!vd&&Rf.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("ul",{className:"space-y-4",children:Rf.map(v=>l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"peptide-news-thumb flex-none ring-1 ring-white/40 shadow-sm",children:l.jsx("img",{src:v.image??IJ,alt:`Peptide news: ${v.title}`,loading:"lazy"})}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{children:l.jsxs("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"text-[rgb(95,179,249)] font-semibold hover:underline underline-offset-4","aria-label":`${v.date?uT(v.date)+"  ":""}${v.title}`,children:[v.date&&l.jsx("span",{className:"text-xs text-gray-500 mr-2",children:uT(v.date)}),l.jsx("span",{className:"align-middle",children:v.title})]})}),v.summary&&l.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:v.summary})]})]},v.url))}),l.jsxs("div",{className:"pt-4 text-[11px] uppercase tracking-wide text-gray-500 border-t border-white/40",children:["Source:"," ",l.jsx("a",{href:"https://www.nature.com/subjects/peptides",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-[rgb(95,179,249)] hover:underline underline-offset-4",children:"Nature.com  Peptide Subject"})]})]})]})]})}),l.jsx("div",{className:"post-login-info glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] pt-6 px-6 pb-4 sm:pt-8 sm:px-8 sm:pb-5 shadow-xl",style:{backdropFilter:"blur(38px) saturate(1.6)"},children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:`flex w-full flex-wrap items-center gap-3 pb-2 ${ol(r?.role)?"justify-between":""}`,children:[l.jsxs(Qe,{type:"button",size:"lg",onClick:ja,className:"text-white squircle-sm px-6 py-2 font-semibold uppercase tracking-wide shadow-lg shadow-[rgba(95,179,249,0.4)] focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-[rgba(95,179,249,0.35)] focus-visible:ring-offset-2 focus-visible:ring-offset-white transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"rgb(95, 179, 249)"},children:[l.jsx(w5,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),l.jsx("span",{children:"Logout"})]}),l.jsxs(Qe,{type:"button",size:"lg",onClick:Ag,disabled:!(Xc||it(r?.role)||dr(r?.role)||mJ(r?.role)),className:"text-white squircle-sm px-6 py-2 font-semibold uppercase tracking-wide shadow-lg shadow-[rgba(95,179,249,0.4)] focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-[rgba(95,179,249,0.35)] focus-visible:ring-offset-2 focus-visible:ring-offset-white transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-0.5 active:translate-y-0",style:{backgroundColor:"rgb(95, 179, 249)"},children:[l.jsx("span",{className:"mr-2",children:"Shop"}),l.jsx(N5,{className:"h-4 w-4","aria-hidden":"true"})]}),(dr(r?.role)||it(r?.role))&&l.jsxs("span",{className:"text-[11px] text-slate-600 italic",children:["Shop for physicians:"," ",Xc?"Enabled":"Disabled"]})]}),Re&&l.jsxs("div",{className:"glass-card squircle-md p-4 space-y-3 border border-[var(--brand-glass-border-2)]",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[rgb(95,179,249)]",children:"The Peptide Forum"}),!Y&&it(r?.role)&&l.jsx("p",{className:"text-[11px] text-amber-700",children:"Hidden for users (admin override)"})]}),l.jsx("div",{className:"flex flex-col items-end gap-1",children:l.jsx(Qe,{type:"button",variant:"outline",size:"sm",className:"header-home-button squircle-sm bg-white text-slate-900",onClick:()=>void _t(),disabled:ve,children:ve?"Refreshing":"Refresh"})})]}),ve&&l.jsx("ul",{className:"space-y-3","aria-live":"polite",children:qm.map((v,S)=>l.jsx("li",{className:"rounded-lg border border-white/40 bg-white/70 px-3 py-2 shadow-sm animate-pulse min-h-[108px]",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-4 w-4/5 rounded bg-[rgba(95,179,249,0.14)]"}),l.jsx("div",{className:"h-3 w-full rounded bg-[rgba(95,179,249,0.10)]"}),l.jsx("div",{className:"h-3 w-11/12 rounded bg-[rgba(95,179,249,0.10)]"}),l.jsx("div",{className:"h-3 w-1/3 rounded bg-[rgba(95,179,249,0.12)]"})]})},S))}),!ve&&Q&&l.jsx("p",{className:"text-xs text-red-600",role:"alert",children:Q}),!ve&&!Q&&(()=>{const v=(qe||[]).slice().sort((S,E)=>{const b=F=>{if(!F)return Number.NEGATIVE_INFINITY;const T=Date.parse(F);return Number.isFinite(T)?T:Number.NEGATIVE_INFINITY},P=b(S?.date??null);return b(E?.date??null)-P}).filter(S=>{const E=S?.date??null,b=E?Date.parse(E):Number.NaN;if(!Number.isFinite(b))return!!(S?.link&&String(S.link).trim()||S?.recording&&String(S.recording).trim());const P=!!(S?.recording&&String(S.recording).trim()),q=!!(S?.link&&String(S.link).trim());return b<Date.now()?P:q||P});return v.length===0?l.jsxs("p",{className:"text-xs text-slate-500",children:["Stay tuned! New classes will be scheduled here and on our"," ",l.jsx("a",{href:"https://www.linkedin.com/company/peppro/posts/?feedView=all",target:"_blank",rel:"noreferrer",className:"text-[rgb(26,85,173)] hover:underline",children:"LinkedIn"}),"."]}):l.jsx("ul",{className:"space-y-3",children:v.map(S=>l.jsx("li",{className:"rounded-lg border border-white/40 bg-white/70 px-3 py-2 shadow-sm",children:l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[S.date?`${Rr(S.date)}  `:"",S.title]}),S.description&&l.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:S.description}),(()=>{const E=S?.date??null,b=E?Date.parse(E):Number.NaN,P=Number.isFinite(b)?b<Date.now():!1,q=S?.recording&&String(S.recording).trim()?String(S.recording).trim():null,F=S?.link&&String(S.link).trim()?String(S.link).trim():null,T=P?q:F;if(!T)return null;const W=P?"Recording Available":"Join the Lecture";return l.jsx("p",{className:"text-sm mt-1 pt-0.5",children:l.jsx("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:"font-semibold !text-[rgb(95,179,249)] hover:underline underline-offset-4",style:{color:"rgb(95, 179, 249)"},children:l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx(F5,{className:"h-4 w-4","aria-hidden":"true"}),l.jsx("span",{children:W})]})})})})()]})},S.id))})})()]}),!(dr(r.role)||it(r.role))&&l.jsxs("div",{className:"glass-card squircle-md p-4 space-y-2 border border-[var(--brand-glass-border-2)]",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Please contact your Representative anytime."}),l.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Name:"})," ",r.salesRep?.name||"N/A"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Email:"})," ",r.salesRep?.email?l.jsx("a",{href:`mailto:${r.salesRep.email}`,className:"text-[rgb(95,179,249)] hover:underline",children:r.salesRep.email}):"N/A"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Phone:"})," ",r.salesRep?.phone||"N/A"]})]})]}),l.jsx("div",{className:"relative flex flex-col gap-6 max-h-[70vh]",children:l.jsx("div",{className:"flex-1 overflow-y-auto pr-1 space-y-16"})})]})})]})}):l.jsx("div",{className:`w-full max-w-md ${B==="signup"?"mt-3 sm:mt-4 md:mt-6":"mt-4 sm:mt-6 md:mt-8"}`,children:l.jsx("div",{className:"glass-card landing-glass squircle-xl border border-[var(--brand-glass-border-2)] p-8 shadow-xl",style:{backdropFilter:"blur(38px) saturate(1.6)"},children:l.jsxs("div",{className:B==="signup"?"space-y-6":"space-y-4",children:[B==="login"&&l.jsx(l.Fragment,{children:l.jsxs("form",{onSubmit:async v=>{if(v.preventDefault(),Oa)return;const S=E=>{if(typeof navigator<"u"&&navigator.onLine===!1)return"offline";const b=String(E||"").toLowerCase().trim();return b?b.includes("internet connection appears to be offline")||b.includes("appears to be offline")||b.includes("no internet")||b.includes("offline")?"offline":b.includes("failed to fetch")||b.includes("networkerror")||b.includes("network request failed")||b.includes("load failed")||b.includes("timeout")||b.includes("econnrefused")||b.includes("enotfound")||b.includes("eai_again")?"network":null:null};gn(""),hn(!0);try{const E=new FormData(v.currentTarget),b=await Mm(E.get("username"),E.get("password"));if(b.status!=="success")if(b.status==="invalid_password")gn("Incorrect password. Please try again.");else if(b.status==="email_not_found")gn("We could not find that email.");else{const P=S(b?.message??null);gn(P==="offline"?"No internet connection detected. Please turn on WiFi or cellular data and try again.":P==="network"?"Can't reach PepPro right now. This usually means your internet is offline or very slow. Please check your connection and try again.":"Unable to log in. Please try again.")}}catch(E){console.warn("[Landing Login] Failed",E);const b=S(E instanceof Error?E.message:null);gn(b==="offline"?"No internet connection detected. Please turn on WiFi or cellular data and try again.":b==="network"?"We cannot reach the PepPro serverright now. Please check your connection and try again in a minute.":"Unable to log in. Please try again.")}finally{hn(!1)}},className:"space-y-3",autoComplete:"on",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-username",className:"text-sm font-medium",children:"Email"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("input",{ref:at,id:"landing-username",name:"username",type:"text",autoComplete:"username",inputMode:"email",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,required:!0,onFocus:Mu,className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})}),l.jsx("input",{type:"text",autoComplete:"webauthn","aria-hidden":"true",tabIndex:-1,style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",opacity:0}})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-password",className:"text-sm font-medium",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{ref:st,id:"landing-password",name:"password",type:Pa?"text":"password",autoComplete:"current-password",autoCorrect:"off",spellCheck:!1,required:!0,onFocus:Mu,className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.jsx("button",{type:"button",onClick:()=>gr(v=>!v),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":Pa?"Hide password":"Show password","aria-pressed":Pa,children:Pa?l.jsx(uc,{className:"h-5 w-5"}):l.jsx(cc,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-sm text-gray-600",children:[l.jsxs("p",{children:["Forgot your password?"," ",l.jsx("button",{type:"button",onClick:()=>qa("forgot"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Reset it"})]}),It.platform&&l.jsxs("button",{type:"button",onClick:Zp,disabled:an,className:"inline-flex items-center gap-1 font-semibold text-transparent hover:text-transparent focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Sign in with a passkey (biometrics)",style:{backgroundColor:"transparent",borderColor:"transparent"},children:[an?l.jsx(Md,{className:"h-4 w-4 animate-spin-slow","aria-hidden":"true"}):l.jsx(z5,{className:"h-4 w-4","aria-hidden":"true"}),l.jsx("span",{className:"sr-only",children:"Sign in with passkey"})]})]})]}),rf&&l.jsx("p",{className:"text-sm text-red-600",role:"alert",children:rf}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Qe,{type:"submit",size:"lg",className:"mt-2 w-full squircle-sm glass-brand btn-hover-lighter inline-flex items-center justify-center gap-2",disabled:Oa,children:[Oa&&l.jsx(Md,{className:"h-4 w-4 animate-spin-slow text-white shrink-0","aria-hidden":"true",style:{transformOrigin:"center center",transform:"translateZ(0)"}}),Oa?"Signing in":"Sign In"]}),l.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Have a referral code?"," ",l.jsx("button",{type:"button",onClick:()=>qa("signup"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Create an account"})]})]})]})}),B==="forgot"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Reset your password"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Enter the email associated with your account and well send you a secure link."})]}),l.jsxs("form",{onSubmit:nc,className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-reset-email",className:"text-sm font-medium",children:"Email"}),l.jsx("input",{id:"landing-reset-email",type:"email",required:!0,value:Ha,onChange:v=>{_n(v.target.value),Kt&&Ht(""),Vt&&Gt(!1)},className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),Kt&&l.jsx("p",{className:"text-sm text-red-600",role:"alert",children:Kt}),Vt&&l.jsx("p",{className:"text-sm text-emerald-600",role:"status",children:"Your reset link will likely arrive in your spam folder within the next 30 seconds."}),l.jsx(Qe,{type:"submit",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter inline-flex items-center justify-center gap-2",disabled:ka,children:ka?"Sending":Vt?"Reset link sent":"Send reset link"})]}),l.jsx("div",{className:"text-center text-sm text-gray-600",children:l.jsx("button",{type:"button",onClick:()=>zs(),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Return to sign in"})})]}),B==="reset"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Choose a new password"}),l.jsx("p",{className:"text-sm text-gray-600",children:qt?"Create a new password to secure your account.":"This reset link is invalid or expired. Request a new one to continue."})]}),!yr&&l.jsxs("form",{onSubmit:Dm,className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-new-password",className:"text-sm font-medium",children:"New password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"landing-new-password",type:pi?"text":"password",value:$s,onChange:v=>ko(v.target.value),required:!0,disabled:!qt,className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 disabled:bg-slate-50 disabled:text-slate-500"}),l.jsx("button",{type:"button",onClick:()=>Nr(v=>!v),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":pi?"Hide new password":"Show new password","aria-pressed":pi,children:pi?l.jsx(uc,{className:"h-5 w-5"}):l.jsx(cc,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-confirm-password",className:"text-sm font-medium",children:"Confirm password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"landing-confirm-password",type:Ga?"text":"password",value:fs,onChange:v=>jl(v.target.value),required:!0,disabled:!qt,className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 disabled:bg-slate-50 disabled:text-slate-500"}),l.jsx("button",{type:"button",onClick:()=>Ac(v=>!v),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":Ga?"Hide confirm password":"Show confirm password","aria-pressed":Ga,children:Ga?l.jsx(uc,{className:"h-5 w-5"}):l.jsx(cc,{className:"h-5 w-5"})})]})]}),Br&&l.jsx("p",{className:"text-sm text-red-600",role:"alert",children:Br}),l.jsx(Qe,{type:"submit",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter inline-flex items-center justify-center gap-2",disabled:!qt||Fr,children:Fr?"Updating":"Update password"})]}),yr&&l.jsxs("div",{className:"space-y-3 text-center",children:[l.jsx("p",{className:"text-sm text-emerald-600",role:"status",children:yr}),l.jsx(Qe,{type:"button",size:"lg",className:"w-full squircle-sm glass-brand btn-hover-lighter",onClick:()=>zs(),children:"Return to sign in"})]}),!qt&&!yr&&l.jsx("div",{className:"text-center text-sm text-gray-600",children:l.jsx("button",{type:"button",onClick:()=>qa("forgot"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Request a new reset link"})}),l.jsx("div",{className:"text-center text-sm text-gray-600",children:l.jsx("button",{type:"button",onClick:()=>qa("login"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Back to sign in"})})]}),B==="signup"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-center space-y-2",children:l.jsx("h1",{className:"text-2xl font-semibold",children:"Join the PepPro Network"})}),l.jsxs("form",{onSubmit:async v=>{v.preventDefault(),En("");const S=new FormData(v.currentTarget),E=S.get("suffix")||"",b=S.get("name")||"",q={name:E?`${E} ${b}`.trim():b,email:S.get("email")||"",password:S.get("password")||"",confirmPassword:S.get("confirm")||"",code:(S.get("code")||"").toUpperCase(),npiNumber:S.get("npiNumber")||""},F=await Kf(q);F.status==="success"?qa("login"):F.status==="email_exists"?En("An account with this email already exists. Please sign in."):F.status==="invalid_referral_code"?En("Referral codes must be 5 characters (e.g., AB123)."):F.status==="referral_code_not_found"?En("We couldn't locate that referral code. Please confirm it with your representative."):F.status==="referral_code_unavailable"?En("This onboarding code isn't available. Please confirm it with your representative."):F.status==="name_email_required"?En("Name and email are required to create your account."):F.status==="password_mismatch"?En("Passwords do not match. Please confirm and try again."):F.status==="invalid_npi"?En("Enter a valid 10-digit NPI number assigned to you by CMS."):F.status==="npi_not_found"?En("We couldn't verify that NPI number in the CMS registry. Please double-check and try again."):F.status==="npi_already_registered"?En("An account already exists for this NPI number. Please sign in or contact support@peppro.net."):F.status==="npi_verification_failed"?En("We were unable to reach the CMS NPI registry. Please try again in a moment."):F.status==="error"&&(F.message==="PASSWORD_REQUIRED"?En("Please create a secure password to access your account."):F.message?En(F.message):En("Unable to create account. Please try again."))},className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:gap-4",children:[l.jsxs("div",{className:"space-y-2 sm:w-36",children:[l.jsxs("label",{htmlFor:"landing-suffix",className:"text-sm font-medium",children:[l.jsx("span",{children:"Suffix"}),l.jsx("span",{className:"ml-2 text-xs font-normal text-gray-500",children:"Optional"})]}),l.jsxs("select",{id:"landing-suffix",name:"suffix",className:"glass squircle-sm w-full px-3 text-sm border transition-colors focus-visible:outline-none focus-visible:border-[rgb(95,179,249)] focus-visible:ring-[rgba(95,179,249,0.3)] leading-tight",style:{borderColor:"rgba(95,179,249,0.18)",backgroundColor:"rgba(95,179,249,0.02)",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23071b1b' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"12px",paddingRight:"2.5rem",height:"2.5rem",lineHeight:"1.25rem"},children:[l.jsx("option",{value:"",children:"None"}),l.jsx("option",{value:"Mr.",children:"Mr."}),l.jsx("option",{value:"Mrs.",children:"Mrs."}),l.jsx("option",{value:"Ms.",children:"Ms."}),l.jsx("option",{value:"Mx.",children:"Mx."}),l.jsx("option",{value:"Dr.",children:"Dr."}),l.jsx("option",{value:"Prof.",children:"Prof."}),l.jsx("option",{value:"Sir",children:"Sir"}),l.jsx("option",{value:"Dame",children:"Dame"})]})]}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("label",{htmlFor:"landing-name",className:"text-sm font-medium",children:"Full Name"}),l.jsx("input",{id:"landing-name",name:"name",type:"text",required:!0,className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-email2",className:"text-sm font-medium",children:"Email"}),l.jsx("input",{id:"landing-email2",name:"email",type:"email",required:!0,className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-password2",className:"text-sm font-medium",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"landing-password2",name:"password",type:ea?"text":"password",required:!0,autoComplete:"new-password",className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.jsx("button",{type:"button",onClick:()=>Jt(v=>!v),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":ea?"Hide password":"Show password","aria-pressed":ea,children:ea?l.jsx(uc,{className:"h-5 w-5"}):l.jsx(cc,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-confirm",className:"text-sm font-medium",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"landing-confirm",name:"confirm",type:$r?"text":"password",required:!0,autoComplete:"new-password",className:"w-full h-10 px-3 pr-12 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.jsx("button",{type:"button",onClick:()=>pn(v=>!v),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:text-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-1 focus-visible:outline-[rgba(95,179,249,0.3)] btn-hover-lighter","aria-label":$r?"Hide confirm password":"Show confirm password","aria-pressed":$r,children:$r?l.jsx(uc,{className:"h-5 w-5"}):l.jsx(cc,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-npi",className:"text-sm font-medium",children:"NPI Number"}),l.jsx("input",{id:"landing-npi",name:"npiNumber",type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:10,placeholder:"10-digit NPI",onInput:v=>{const S=v.currentTarget,E=S.value.replace(/[^0-9]/g,"").slice(0,10);S.value=E,p0(E)},className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30"}),l.jsxs("p",{className:`text-xs ${Xi==="verified"?"text-emerald-600":Xi==="rejected"?"text-red-600":"text-slate-500"}`,children:[Xi==="idle"&&"We securely verify your medical credentials with the CMS NPI registry.",Xi==="checking"&&"Contacting the CMS NPI registry...",Xi==="verified"&&l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("span",{className:"npi-checkmark","aria-hidden":"true",children:""}),Ic||"NPI verified with the CMS registry."]}),Xi==="rejected"&&(Ic||"We were unable to verify this NPI number. Please double-check and try again.")]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"landing-code",className:"text-sm font-medium",children:"Referral Code"}),l.jsx("input",{id:"landing-code",name:"code",type:"text",required:!0,maxLength:5,inputMode:"text",pattern:"[A-Z0-9]*",autoComplete:"off",onInput:v=>{const S=v.currentTarget;S.value=S.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,5)},className:"w-full h-10 px-3 squircle-sm border border-slate-200/70 bg-white/96 text-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30",style:{textTransform:"uppercase"}}),l.jsx("p",{className:"text-xs text-slate-500",children:"Codes are 5 characters and issued by your representative."})]}),kl&&l.jsx("p",{className:"text-sm text-red-600",role:"alert",children:kl}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{type:"submit",size:"lg",className:"mt-2 w-full squircle-sm glass-brand btn-hover-lighter",children:"Create Account"}),l.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",l.jsx("button",{type:"button",onClick:()=>qa("login"),className:"font-semibold hover:underline btn-hover-lighter",style:{color:"rgb(95, 179, 249)"},children:"Sign in"})]})]})]})]})]})})})]}),r&&!J&&l.jsxs("main",{className:"w-full pb-12 mobile-safe-area",style:{paddingTop:"calc(var(--app-header-height, 0px) + 1rem)"},children:[dr(r.role)||it(r.role)?v0():Og(),y0()]})]}),r?l.jsx(WO,{showContactCTA:!1,variant:"full"}):l.jsx(WO,{showContactCTA:!0,variant:"ctaOnly"})]}),l.jsx(X9,{isOpen:c,onClose:()=>u(!1),cartItems:a,onCheckout:h0,onClearCart:()=>i([]),onPaymentSuccess:()=>{const v=Date.now(),S=Bs.current;El({tab:"orders",open:!0,token:v,order:S??void 0}),To().catch(()=>{}),setTimeout(()=>{El(E=>E&&E.token===v?null:E)},2500)},onUpdateItemQuantity:ac,onRemoveItem:g0,isAuthenticated:!!r,onRequireLogin:Eg,physicianName:r?.npiVerification?.name||r?.name||null,customerEmail:r?.email||null,customerName:r?.name||null,defaultShippingAddress:Us,availableCredits:Du,pricingMode:f,onPricingModeChange:p,showRetailPricingToggle:L}),l.jsx(gc,{open:rs,onOpenChange:v=>{v?wa(!0):Kc()},children:l.jsxs(yl,{className:"max-w-lg",children:[l.jsxs(Nu,{children:[l.jsx(pl,{children:"Enter Prospect"}),l.jsx(ju,{children:"Create a manual prospect entry to jumpstart the pipeline."})]}),l.jsxs("form",{className:"space-y-4",onSubmit:Uf,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Name"}),l.jsx(hr,{value:ns.name,onChange:v=>Fl(S=>({...S,name:v.target.value})),required:!0,placeholder:"Prospect name"})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Email"}),l.jsx(hr,{type:"email",value:ns.email,onChange:v=>Fl(S=>({...S,email:v.target.value})),placeholder:"prospect@email.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Phone"}),l.jsx(hr,{value:ns.phone,onChange:v=>Fl(S=>({...S,phone:v.target.value})),placeholder:"(555) 000-0000"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Notes"}),l.jsx(uS,{value:ns.notes,onChange:v=>Fl(S=>({...S,notes:v.target.value})),rows:3,placeholder:"Add optional context",className:"notes-textarea"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Status"}),l.jsx("select",{value:ns.status,onChange:v=>Fl(S=>({...S,status:v.target.value})),className:"w-full rounded-md border border-slate-200/80 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",children:lT.map(v=>l.jsx("option",{value:v.key,children:v.label},v.key))})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx(Qe,{type:"button",variant:"outline",onClick:Kc,children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:_r,children:_r?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Md,{className:"h-4 w-4 animate-spin"}),"Saving"]}):"Save Prospect"})]})]})]})}),l.jsx(gc,{open:!!Ke,onOpenChange:v=>{v||(xs(null),ws(!1))},children:l.jsx(yl,{className:"max-w-2xl",children:Un?l.jsxs(l.Fragment,{children:[l.jsx(iC,{children:l.jsx(pl,{children:"Loading account details"})}),cf()]}):Ke&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs(Nu,{children:[l.jsxs(pl,{className:"space-y-0.5",children:[l.jsx("div",{className:"text-slate-900",children:Ke.name}),l.jsx("div",{className:"text-sm font-normal text-slate-600",children:Ke.email?l.jsx("a",{href:`mailto:${Ke.email}`,className:"hover:underline",children:Ke.email}):""})]}),l.jsx(ju,{children:"Account details"})]}),Ke&&ol(Ke.role)&&l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white/70 px-4 py-3 space-y-2 min-h-[240px]",children:[l.jsx("p",{className:"text-sm font-semibold justify-center text-slate-800",children:"Shared Notes (Rep and Admin only)"}),l.jsx(uS,{value:Mc,onChange:v=>Gs(v.target.value),rows:4,placeholder:Or?"Loading notes...":"Add notes about this doctor",className:"text-sm notes-textarea",disabled:Or}),l.jsxs("div",{className:"mt-2 mb-1 flex items-center justify-end gap-2",children:[Ys&&l.jsx(y3,{className:"h-4 w-4 text-emerald-600"}),l.jsx(Qe,{type:"button",variant:"outline",onClick:()=>void Xs(),className:"h-8 px-3 text-xs",disabled:Or,children:"Save"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 shadow-sm",style:{width:72,height:72,minWidth:72},children:Ke.avatar?l.jsx("img",{src:Ke.avatar,alt:Ke.name,className:"h-full w-full object-cover"}):l.jsx("span",{className:"text-lg font-semibold text-slate-600",children:nh(Ke.name)})}),l.jsx("div",{className:"space-y-1",children:dr(Ke.role)||typeof Ke.personalRevenue=="number"||typeof Ke.salesRevenue=="number"?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-sm text-slate-600",children:["Personal Revenue:"," ",jt(Ke.personalRevenue??Ke.revenue)]}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Sales Revenue:"," ",jt(Ke.salesRevenue??0)]})]}):ol(Ke.role)?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-sm text-slate-600",children:["Order Quantity:"," ",Ke.orderQuantity??Ke.orders.filter(v=>no(v.status)).length]}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Total Order Value:"," ",jt(Ke.totalOrderValue??Ke.revenue)]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-sm text-slate-600",children:["Orders: ",Ke.orders.length]}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Revenue: ",jt(Ke.revenue)]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Contact"}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50/60 px-3 py-2 text-sm text-slate-700 space-y-1",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-slate-800",children:"Email: "}),Ke.email?l.jsx("a",{href:`mailto:${Ke.email}`,children:Ke.email}):l.jsx("span",{children:"Unavailable"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-slate-800",children:"Phone: "}),(()=>{const v=!!(Ke&&(it(r?.role)||dr(r?.role)&&eo&&Ke.ownerSalesRepId&&eo===Ke.ownerSalesRepId)),S=es.trim(),E=Ke.phone||"",b=S!==E.trim();return v?l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(hr,{type:"tel",value:es,onChange:P=>Ss(P.target.value),className:"block w-full rounded-md border border-slate-200/80 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-100",placeholder:"Enter phone number"}),l.jsx(Qe,{type:"button",size:"xs",variant:"outline",className:"self-start whitespace-nowrap",onClick:()=>void Ma(),disabled:Ni||!b,children:Ni?"Saving":"Save"})]}):l.jsx("span",{children:Ke.phone||"Unavailable"})})()]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Address"}),l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50/60 px-3 py-2 text-sm text-slate-700 whitespace-pre-line min-h-[72px]",children:Ke.address||"Unavailable"})]})]}),(()=>{const v=Ke.orders.filter(S=>no(S.status)).length;return l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Total Orders"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:v})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Last Order"}),l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Ke.lastOrderDate?Rr(Ke.lastOrderDate):"Unavailable"})]}),l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Avg Order Value"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:Ke.avgOrderValue?jt(Ke.avgOrderValue):""})]})]})})(),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Recent Orders"}),l.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:[Ke.orders.map(v=>l.jsxs("button",{type:"button",onClick:()=>pg(v),className:"w-full text-left flex items-start justify-between gap-3 rounded-lg border border-slate-200 px-3 py-2 cursor-pointer transition hover:shadow-sm hover:border-[rgb(95,179,249)]",children:[l.jsxs("div",{className:"min-w-0 text-sm text-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("span",{className:"font-semibold text-slate-800 truncate",children:`Order #${v.number??v.id}`}),l.jsx("span",{className:"sales-tracking-row-status shrink-0",children:U1(v)})]}),l.jsx("div",{className:"text-xs text-slate-500",children:v.createdAt?Rr(v.createdAt):"Date unavailable"})]}),l.jsx("div",{className:"text-right text-sm font-semibold text-slate-900 whitespace-nowrap",children:jt((v.grandTotal??v.total)||0)})]},v.id)),Ke.orders.length===0&&l.jsx("p",{className:"text-xs text-slate-500",children:"No orders available."})]})]})]})})}),l.jsx(gc,{open:!!se,onOpenChange:v=>{v||(xe(null),He(!1),X.current=null)},children:l.jsxs(yl,{className:"max-w-4xl",children:[Ce&&l.jsxs(l.Fragment,{children:[l.jsx(iC,{children:l.jsx(pl,{children:"Loading order details"})}),em()]}),!Ce&&se&&l.jsxs(l.Fragment,{children:[l.jsxs(Nu,{children:[l.jsx(pl,{children:se.number?`Order #${se.number}`:"Order details"}),l.jsx(ju,{children:se.doctorName||se.doctorEmail||""})]}),(()=>{const v=se.shippingEstimate||null,S=se.shippingAddress||se.shipping||se.shipping_address||null,E=se.billingAddress||se.billing||se.billing_address||null,b=se.lineItems||se.lineItems||se.line_items||[],P=b.reduce((d,h)=>{const w=un(h.total??h.subtotal)??(un(h.price)??0)*(un(h.quantity)??0);return d+(Number.isFinite(w)?w:0)},0),q=un(se.shippingTotal??se.shipping_total??se.shippingTotal)??0,F=un(se.taxTotal??se.total_tax??se.totalTax)??0,T=P+q+F,W=typeof se.grandTotal=="number"?se.grandTotal:null,te=typeof W=="number"&&Number.isFinite(W)&&W>0?W:T,ge=(()=>{const d=se.integrationDetails||se.integrations||{},h=d?.stripe||d?.Stripe||null,w=h?.cardLast4||h?.card_last4||h?.last4||null,j=h?.cardBrand||h?.card_brand||h?.brand||null;if(w)return`${j||"Card"}  ${w}`;const I=se.paymentDetails||se.paymentMethod||null;return typeof I=="string"&&/stripe onsite/i.test(I)?"Card payment":typeof I=="string"&&gJ(I)||I})(),oe=d=>{if(!d)return l.jsx("p",{className:"text-sm text-slate-500",children:""});const h=[d.name,[d.addressLine1,d.addressLine2].filter(Boolean).join(" ").trim(),[d.city,d.state,d.postalCode].filter(Boolean).join(", ").trim(),d.country,d.phone,d.email].filter(w=>w&&String(w).trim().length>0).map((w,j)=>l.jsx("p",{className:"text-sm text-slate-700",children:w},j));return h.length>0?h:l.jsx("p",{className:"text-sm text-slate-500",children:""})},ee=se.createdAt||se.dateCreated||se.date_created||se.updatedAt||null,ie=String(v?.status||se.status||"").toString().trim().toLowerCase(),we=se.expectedShipmentWindow||se.expected_shipment_window||null,De=ie==="shipped"&&v?.estimatedArrivalDate?ii(v.estimatedArrivalDate):"",Te=d=>d?d.replace(/^ups_/i,"UPS ").replace(/_/g," ").trim().replace(/\s+/g," ").replace(/\b(\w)/g,h=>h.toUpperCase()):null,Oe=Te(v?.serviceType)||v?.serviceType||null;Te(v?.carrierId)||v?.carrierId;const Le=hv(se),s=!!(we&&!(ie==="shipped"&&Le)),o=Le?yJ(Le,v?.carrierId||v?.carrier_id||(Oe||"").toLowerCase().includes("ups")?"ups":null):null;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm text-slate-700",children:[l.jsxs("div",{children:[l.jsx("p",{className:"uppercase text-[11px] tracking-[0.08em] text-slate-500",children:"Order placed"}),l.jsx("p",{className:"font-semibold text-slate-900",children:ee?Rr(ee):""})]}),l.jsxs("div",{children:[l.jsx("p",{className:"uppercase text-[11px] tracking-[0.08em] text-slate-500",children:"Total"}),l.jsx("p",{className:"font-semibold text-slate-900",children:jt(te,se.currency||"USD")})]}),l.jsxs("div",{children:[l.jsx("p",{className:"uppercase text-[11px] tracking-[0.08em] text-slate-500",children:"Status"}),l.jsx(fc,{variant:"secondary",className:"uppercase",children:U1(se)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"uppercase text-[11px] tracking-[0.08em] text-slate-500",children:"Expected delivery"}),l.jsx("p",{className:"font-semibold text-slate-900",children:De})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Shipping Information"}),oe(S),l.jsxs("div",{className:"text-sm text-slate-700 space-y-1",children:[Oe&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Service:"})," ",Oe]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Tracking:"})," ",o?l.jsx("a",{href:o,target:"_blank",rel:"noreferrer",className:"text-[rgb(26,85,173)] hover:underline",children:Le}):Le||"Provided when shipped"]}),Number.isFinite(q)&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Shipping:"})," ",jt(q,se.currency||"USD")]}),De&&De!==""&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Expected:"})," ",De]}),s&&l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Estimated ship window:"})," ",we]})]}),(()=>{const d=!!(r?.role&&(dr(r.role)||it(r.role))),h=j=>(j||"").trim(),w=h(Ia.trackingNumber)!==h(ys.trackingNumber)||h(Ia.shippingCarrier)!==h(ys.shippingCarrier)||h(Ia.shippingService)!==h(ys.shippingService)||h(Ia.status)!==h(ys.status)||h(Ia.expectedShipmentWindow)!==h(ys.expectedShipmentWindow);return d?l.jsxs("div",{className:"mt-3 space-y-2 rounded-lg border border-slate-200 bg-slate-50/60 p-3",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-600",children:"Edit (PepPro)"}),l.jsx("p",{className:"text-[11px] text-slate-500",children:w?"Unsaved changes":"Saved"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[l.jsxs("label",{className:"text-xs text-slate-600",children:["Tracking number",l.jsx("input",{value:Ia.trackingNumber,onChange:j=>Ja(I=>({...I,trackingNumber:j.target.value})),placeholder:"Enter tracking",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:vs})]}),l.jsxs("label",{className:"text-xs text-slate-600",children:["Status",l.jsx("input",{list:"peppro-order-status-options",value:Ia.status,onChange:j=>Ja(I=>({...I,status:j.target.value})),placeholder:"processing / shipped / delivered",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:vs})]}),l.jsxs("label",{className:"text-xs text-slate-600",children:["Carrier",l.jsx("input",{list:"peppro-order-carrier-options",value:Ia.shippingCarrier,onChange:j=>Ja(I=>({...I,shippingCarrier:j.target.value})),placeholder:"UPS / USPS / FedEx",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:vs})]}),l.jsxs("label",{className:"text-xs text-slate-600",children:["Service",l.jsx("input",{value:Ia.shippingService,onChange:j=>Ja(I=>({...I,shippingService:j.target.value})),placeholder:"Ground / 2 Day",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:vs})]}),l.jsxs("label",{className:"text-xs text-slate-600 sm:col-span-2",children:["Estimated ship window",l.jsx("input",{value:Ia.expectedShipmentWindow,onChange:j=>Ja(I=>({...I,expectedShipmentWindow:j.target.value})),placeholder:"e.g., Ships in 12 business days",className:"mt-1 w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm text-slate-800 focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:vs})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3",children:[l.jsx(Qe,{type:"button",variant:"outline",onClick:()=>{Ja(ys)},disabled:vs||!w,children:"Reset"}),l.jsx(Qe,{type:"button",onClick:o0,disabled:vs||!w,className:"gap-2",children:vs?"Saving":"Save"})]}),l.jsxs("datalist",{id:"peppro-order-status-options",children:[l.jsx("option",{value:"processing"}),l.jsx("option",{value:"awaiting_shipment"}),l.jsx("option",{value:"shipped"}),l.jsx("option",{value:"in_transit"}),l.jsx("option",{value:"out_for_delivery"}),l.jsx("option",{value:"delivered"}),l.jsx("option",{value:"completed"}),l.jsx("option",{value:"cancelled"}),l.jsx("option",{value:"refunded"})]}),l.jsxs("datalist",{id:"peppro-order-carrier-options",children:[l.jsx("option",{value:"ups"}),l.jsx("option",{value:"usps"}),l.jsx("option",{value:"fedex"}),l.jsx("option",{value:"dhl"})]}),l.jsx("p",{className:"text-[11px] text-slate-500",children:"Updates are saved in PepPro for display; this does not push changes to WooCommerce/ShipStation."})]}):null})()]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Billing Information"}),oe(E),l.jsx("div",{className:"text-sm text-slate-700 space-y-1",children:l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Payment:"})," ",ge||""]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Items"}),b.length?l.jsx("div",{className:"space-y-3",children:b.map((d,h)=>l.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-slate-100 p-3",children:[l.jsx("div",{className:"w-16 h-16 aspect-square rounded-md border border-slate-200 bg-white overflow-hidden flex items-center justify-center text-slate-500 flex-shrink-0",children:d.image?l.jsx("img",{src:d.image,alt:d.name||"Item thumbnail",className:"h-full w-full object-cover"}):l.jsx(lp,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex-1 min-w-[10rem] space-y-1",children:[l.jsx("p",{className:"text-slate-900 font-semibold",children:d.name||"Item"}),l.jsxs("p",{className:"text-slate-600",children:["Qty: ",d.quantity??""]})]}),l.jsx("div",{className:"text-sm text-slate-700 text-right min-w-[6rem]",children:Number.isFinite(d.total)&&l.jsx("p",{className:"font-semibold",children:jt(d.total||0,se.currency||"USD")})})]},d.id||`${d.sku}-${h}`))}):l.jsx("p",{className:"text-sm text-slate-600",children:"No line items available."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-base font-semibold text-slate-900",children:"Order Summary"}),l.jsxs("div",{className:"space-y-1 text-sm text-slate-700",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal"}),l.jsx("span",{children:jt(P,se.currency||"USD")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{children:jt(q,se.currency||"USD")})]}),F>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tax"}),l.jsx("span",{children:jt(F,se.currency||"USD")})]}),l.jsxs("div",{className:"flex justify-between text-base font-semibold text-slate-900 border-t border-slate-100 pt-2",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{children:jt(te,se.currency||"USD")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h4",{className:"text-base font-semibold text-slate-900",children:["Notes ",l.jsx("span",{className:"text-sm font-normal text-slate-500",children:"(Visible to the doctor)"})]}),(()=>{const d=!!(r?.role&&(dr(r.role)||it(r.role))),h=typeof se?.notes=="string"?String(se.notes):"",w=wi(h),j=wi(ke),I=w!==j,H=!!((w||j)&&String(w||j).trim());return d?l.jsxs("div",{className:"space-y-2",children:[l.jsx("textarea",{value:ke,onChange:re=>ut(re.target.value),placeholder:"Add an order note",rows:4,className:"w-full rounded-md border border-slate-200 bg-white/95 px-3 py-2 text-sm focus:border-[rgb(95,179,249)] focus:outline-none focus:ring-2 focus:ring-[rgba(95,179,249,0.3)]",disabled:Pt}),l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("p",{className:"text-xs text-slate-500",children:I?"Unsaved changes":"Saved"}),l.jsx(Qe,{type:"button",variant:"outline",onClick:Fu,disabled:Pt||!I,className:"gap-2",children:Pt?"Saving":"Save notes"})]})]}):H?l.jsx("div",{className:"rounded-lg border border-slate-200 bg-white/70 p-3",children:l.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:w||""})}):l.jsx("p",{className:"text-sm text-slate-500",children:"No notes for this order."})})()]})]})})()]})]})}),l.jsx(BZ,{product:x,isOpen:A,onClose:Tg,onAddToCart:$m})]})}SL.createRoot(document.getElementById("root")).render(l.jsxs(l.Fragment,{children:[l.jsx(ree,{}),l.jsx(YL,{richColors:!0,position:"top-center"})]}));
